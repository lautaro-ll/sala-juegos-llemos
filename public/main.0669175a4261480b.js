"use strict";(self.webpackChunksala_juegos_llemos=self.webpackChunksala_juegos_llemos||[]).push([[179],{2194:(Rn,yt,Y)=>{Y.d(yt,{nm:()=>Xs});var d=Y(2793),Ne=(Y(5879),Y(8726),Y(4097),Y(5861)),He=Y(4303),Ae=Y(4537),ct=Y(9058),it=Y(7879);const Te=new Map,xe={activated:!1,tokenObservers:[]},Qe={initialized:!1,enabled:!1};function mt(tt){return Te.get(tt)||Object.assign({},xe)}function Yt(){return Qe}const ut="https://content-firebaseappcheck.googleapis.com/v1",Nn="exchangeDebugToken",wn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class It{constructor(qe,vt,Ft,Ut,Hn){if(this.operation=qe,this.retryPolicy=vt,this.getWaitDuration=Ft,this.lowerBound=Ut,this.upperBound=Hn,this.pending=null,this.nextErrorWaitInterval=Ut,Ut>Hn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(qe){var vt=this;return(0,Ne.Z)(function*(){vt.stop();try{vt.pending=new ct.BH,yield function pt(tt){return new Promise(qe=>{setTimeout(qe,tt)})}(vt.getNextRun(qe)),vt.pending.resolve(),yield vt.pending.promise,vt.pending=new ct.BH,yield vt.operation(),vt.pending.resolve(),yield vt.pending.promise,vt.process(!0).catch(()=>{})}catch(Ft){vt.retryPolicy(Ft)?vt.process(!1).catch(()=>{}):vt.stop()}})()}getNextRun(qe){if(qe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const vt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),vt}}}const Mt=new ct.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ht(tt){if(!mt(tt).activated)throw Mt.create("use-before-activation",{appName:tt.name})}function jn(tt,qe){return mn.apply(this,arguments)}function mn(){return(mn=(0,Ne.Z)(function*({url:tt,body:qe},vt){const Ft={"Content-Type":"application/json"},Ut=vt.getImmediate({optional:!0});if(Ut){const lo=yield Ut.getHeartbeatsHeader();lo&&(Ft["X-Firebase-Client"]=lo)}const Hn={method:"POST",body:JSON.stringify(qe),headers:Ft};let si,Zr;try{si=yield fetch(tt,Hn)}catch(lo){throw Mt.create("fetch-network-error",{originalErrorMessage:lo?.message})}if(200!==si.status)throw Mt.create("fetch-status-error",{httpStatus:si.status});try{Zr=yield si.json()}catch(lo){throw Mt.create("fetch-parse-error",{originalErrorMessage:lo?.message})}const Ar=Zr.ttl.match(/^([\d.]+)(s)$/);if(!Ar||!Ar[2]||isNaN(Number(Ar[1])))throw Mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Zr.ttl}`});const Za=1e3*Number(Ar[1]),Gs=Date.now();return{token:Zr.token,expireTimeMillis:Gs+Za,issuedAtTimeMillis:Gs}})).apply(this,arguments)}function Ln(tt,qe){const{projectId:vt,appId:Ft,apiKey:Ut}=tt.options;return{url:`${ut}/projects/${vt}/apps/${Ft}:${Nn}?key=${Ut}`,body:{debug_token:qe}}}const kn="firebase-app-check-database",Ye=1,nt="firebase-app-check-store";let ot=null;function hr(){return(hr=(0,Ne.Z)(function*(tt,qe){const Ft=(yield function Ct(){return ot||(ot=new Promise((tt,qe)=>{try{const vt=indexedDB.open(kn,Ye);vt.onsuccess=Ft=>{tt(Ft.target.result)},vt.onerror=Ft=>{var Ut;qe(Mt.create("storage-open",{originalErrorMessage:null===(Ut=Ft.target.error)||void 0===Ut?void 0:Ut.message}))},vt.onupgradeneeded=Ft=>{0===Ft.oldVersion&&Ft.target.result.createObjectStore(nt,{keyPath:"compositeKey"})}}catch(vt){qe(Mt.create("storage-open",{originalErrorMessage:vt?.message}))}}),ot)}()).transaction(nt,"readwrite"),Hn=Ft.objectStore(nt).put({compositeKey:tt,value:qe});return new Promise((si,Zr)=>{Hn.onsuccess=Ar=>{si()},Ft.onerror=Ar=>{var Za;Zr(Mt.create("storage-set",{originalErrorMessage:null===(Za=Ar.target.error)||void 0===Za?void 0:Za.message}))}})})).apply(this,arguments)}const Nr=new it.Yd("@firebase/app-check");function St(tt,qe){return(0,ct.hl)()?function rn(tt,qe){return function ir(tt,qe){return hr.apply(this,arguments)}(function Mn(tt){return`${tt.options.appId}-${tt.name}`}(tt),qe)}(tt,qe).catch(vt=>{Nr.warn(`Failed to write token to IndexedDB. Error: ${vt}`)}):Promise.resolve()}function Qt(){return Yt().enabled}function pr(){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,Ne.Z)(function*(){const tt=Yt();if(tt.enabled&&tt.token)return tt.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bn={error:"UNKNOWN_ERROR"};function er(tt){return ct.US.encodeString(JSON.stringify(tt),!1)}function cr(tt){return ii.apply(this,arguments)}function ii(){return(ii=(0,Ne.Z)(function*(tt,qe=!1){const vt=tt.app;Ht(vt);const Ft=mt(vt);let Hn,Ut=Ft.token;if(Ut&&!ur(Ut)&&(Ft.token=void 0,Ut=void 0),!Ut){const Ar=yield Ft.cachedTokenPromise;Ar&&(ur(Ar)?Ut=Ar:yield St(vt,void 0))}if(!qe&&Ut&&ur(Ut))return{token:Ut.token};let Zr,si=!1;if(Qt()){Ft.exchangeTokenPromise||(Ft.exchangeTokenPromise=jn(Ln(vt,yield pr()),tt.heartbeatServiceProvider).finally(()=>{Ft.exchangeTokenPromise=void 0}),si=!0);const Ar=yield Ft.exchangeTokenPromise;return yield St(vt,Ar),Ft.token=Ar,{token:Ar.token}}try{Ft.exchangeTokenPromise||(Ft.exchangeTokenPromise=Ft.provider.getToken().finally(()=>{Ft.exchangeTokenPromise=void 0}),si=!0),Ut=yield mt(vt).exchangeTokenPromise}catch(Ar){"appCheck/throttled"===Ar.code?Nr.warn(Ar.message):Nr.error(Ar),Hn=Ar}return Ut?Hn?Zr=ur(Ut)?{token:Ut.token,internalError:Hn}:bs(Hn):(Zr={token:Ut.token},Ft.token=Ut,yield St(vt,Ut)):Zr=bs(Hn),si&&function Dr(tt,qe){const vt=mt(tt).tokenObservers;for(const Ft of vt)try{"EXTERNAL"===Ft.type&&null!=qe.error?Ft.error(qe.error):Ft.next(qe)}catch{}}(vt,Zr),Zr})).apply(this,arguments)}function Si(tt){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,Ne.Z)(function*(tt){const qe=tt.app;Ht(qe);const{provider:vt}=mt(qe);if(Qt()){const Ft=yield pr(),{token:Ut}=yield jn(Ln(qe,Ft),tt.heartbeatServiceProvider);return{token:Ut}}{const{token:Ft}=yield vt.getToken();return{token:Ft}}})).apply(this,arguments)}function qr(tt,qe){const vt=mt(tt),Ft=vt.tokenObservers.filter(Ut=>Ut.next!==qe);0===Ft.length&&vt.tokenRefresher&&vt.tokenRefresher.isRunning()&&vt.tokenRefresher.stop(),vt.tokenObservers=Ft}function Vr(tt){const{app:qe}=tt,vt=mt(qe);let Ft=vt.tokenRefresher;Ft||(Ft=function Xi(tt){const{app:qe}=tt;return new It((0,Ne.Z)(function*(){let Ft;if(Ft=mt(qe).token?yield cr(tt,!0):yield cr(tt),Ft.error)throw Ft.error;if(Ft.internalError)throw Ft.internalError}),()=>!0,()=>{const vt=mt(qe);if(vt.token){let Ft=vt.token.issuedAtTimeMillis+.5*(vt.token.expireTimeMillis-vt.token.issuedAtTimeMillis)+3e5;return Ft=Math.min(Ft,vt.token.expireTimeMillis-3e5),Math.max(0,Ft-Date.now())}return 0},wn.RETRIAL_MIN_WAIT,wn.RETRIAL_MAX_WAIT)}(tt),vt.tokenRefresher=Ft),!Ft.isRunning()&&vt.isTokenAutoRefreshEnabled&&Ft.start()}function ur(tt){return tt.expireTimeMillis-Date.now()>0}function bs(tt){return{token:er(bn),error:tt}}class Is{constructor(qe,vt){this.app=qe,this.heartbeatServiceProvider=vt}_delete(){const{tokenObservers:qe}=mt(this.app);for(const vt of qe)qr(this.app,vt.next);return Promise.resolve()}}const zi="app-check-internal";!function ri(){(0,He.Xd)(new Ae.wA("app-check",tt=>function _i(tt,qe){return new Is(tt,qe)}(tt.getProvider("app").getImmediate(),tt.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((tt,qe,vt)=>{tt.getProvider(zi).initialize()})),(0,He.Xd)(new Ae.wA(zi,tt=>function vs(tt){return{getToken:qe=>cr(tt,qe),getLimitedUseToken:()=>Si(tt),addTokenListener:qe=>function ti(tt,qe,vt,Ft){const{app:Ut}=tt,Hn=mt(Ut);if(Hn.tokenObservers=[...Hn.tokenObservers,{next:vt,error:Ft,type:qe}],Hn.token&&ur(Hn.token)){const Zr=Hn.token;Promise.resolve().then(()=>{vt({token:Zr.token}),Vr(tt)}).catch(()=>{})}Hn.cachedTokenPromise.then(()=>Vr(tt))}(tt,"INTERNAL",qe),removeTokenListener:qe=>qr(tt.app,qe)}}(tt.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,He.KN)("@firebase/app-check","0.8.0")}();class Xs{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},8726:(Rn,yt,Y)=>{Y.d(yt,{Ot:()=>ne,ZF:()=>an,hX:()=>mt,z6:()=>Ne});var d=Y(4097),ge=Y(5879),we=Y(2793);class ne{constructor(It){return It}}class Ne{constructor(){return(0,d.C6)()}}const ct=new ge.OlP("angularfire2._apps"),it={provide:ne,useFactory:function Ae(st){return st&&1===st.length?st[0]:new ne((0,d.Mq)())},deps:[[new ge.FiY,ct]]},Te={provide:Ne,deps:[[new ge.FiY,ct]]};function xe(st){return(It,pt)=>{const gt=It.runOutsideAngular(()=>st(pt));return new ne(gt)}}let Qe=(()=>{class st{constructor(pt){(0,d.KN)("angularfire",we.q4.full,"core"),(0,d.KN)("angularfire",we.q4.full,"app"),(0,d.KN)("angular",ge.q4F.full,pt.toString())}}return st.\u0275fac=function(pt){return new(pt||st)(ge.LFG(ge.Lbi))},st.\u0275mod=ge.oAB({type:st}),st.\u0275inj=ge.cJS({providers:[it,Te]}),st})();function mt(st,...It){return{ngModule:Qe,providers:[{provide:ct,useFactory:xe(st),multi:!0,deps:[ge.R0b,ge.zs3,we.HU,...It]}]}}const an=(0,we.u3)(d.ZF,!0)},7923:(Rn,yt,Y)=>{Y.d(yt,{dh:()=>mt,v0:()=>Ln,AR:()=>st});var d=Y(2793),ge=Y(5879),we=Y(8726),ne=Y(4097),Ne=Y(2194),He=Y(6710);Y(9058),Y(7592),Y(7879),Y(4537);class Qe{constructor($e){return $e}}class mt{constructor(){return(0,d.vb)("auth")}}const Yt=new ge.OlP("angularfire2.auth-instances");function an(Tt){return($e,Vt)=>{const wt=$e.runOutsideAngular(()=>Tt(Vt));return new Qe(wt)}}const qt={provide:mt,deps:[[new ge.FiY,Yt]]},Nn={provide:Qe,useFactory:function ut(Tt,$e){const Vt=(0,d.JM)("auth",Tt,$e);return Vt&&new Qe(Vt)},deps:[[new ge.FiY,Yt],we.Ot]};let wn=(()=>{class Tt{constructor(){(0,ne.KN)("angularfire",d.q4.full,"auth")}}return Tt.\u0275fac=function(Vt){return new(Vt||Tt)},Tt.\u0275mod=ge.oAB({type:Tt}),Tt.\u0275inj=ge.cJS({providers:[Nn,qt]}),Tt})();function st(Tt,...$e){return{ngModule:wn,providers:[{provide:Yt,useFactory:an(Tt),multi:!0,deps:[ge.R0b,ge.zs3,d.HU,we.z6,[new ge.FiY,Ne.nm],...$e]}]}}const Ln=(0,d.u3)(He.o,!0)},6796:(Rn,yt,Y)=>{Y.d(yt,{zQ:()=>Yn,rT:()=>on,f7:()=>jn,L6:()=>Oe,_Q:()=>Ht,lh:()=>Wn,Qv:()=>Mt,nw:()=>mn});var d=Y(5879),ge=Y(8645),we=Y(2096),ne=Y(5592),Ne=Y(2459),He=Y(3019),Ae=Y(3093),ct=Y(4664),it=Y(7398),Te=Y(4552);class xe extends ge.x{constructor(kn=1/0,Ye=1/0,nt=Te.l){super(),this._bufferSize=kn,this._windowTime=Ye,this._timestampProvider=nt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ye===1/0,this._bufferSize=Math.max(1,kn),this._windowTime=Math.max(1,Ye)}next(kn){const{isStopped:Ye,_buffer:nt,_infiniteTimeWindow:Et,_timestampProvider:ot,_windowTime:Ct}=this;Ye||(nt.push(kn),!Et&&nt.push(ot.now()+Ct)),this._trimBuffer(),super.next(kn)}_subscribe(kn){this._throwIfClosed(),this._trimBuffer();const Ye=this._innerSubscribe(kn),{_infiniteTimeWindow:nt,_buffer:Et}=this,ot=Et.slice();for(let Ct=0;Ct<ot.length&&!kn.closed;Ct+=nt?1:2)kn.next(ot[Ct]);return this._checkFinalizedStatuses(kn),Ye}_trimBuffer(){const{_bufferSize:kn,_timestampProvider:Ye,_buffer:nt,_infiniteTimeWindow:Et}=this,ot=(Et?1:2)*kn;if(kn<1/0&&ot<nt.length&&nt.splice(0,nt.length-ot),!Et){const Ct=Ye.now();let en=0;for(let rn=1;rn<nt.length&&nt[rn]<=Ct;rn+=2)en=rn;en&&nt.splice(0,en+1)}}}var Qe=Y(3020);function mt(Ln,kn,Ye){let nt,Et=!1;return Ln&&"object"==typeof Ln?({bufferSize:nt=1/0,windowTime:kn=1/0,refCount:Et=!1,scheduler:Ye}=Ln):nt=Ln??1/0,(0,Qe.B)({connector:()=>new xe(nt,kn,Ye),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Et})}var Ge=Y(1374),Yt=Y(4674);function ut(Ln,kn){return(0,Yt.m)(kn)?(0,ct.w)(()=>Ln,kn):(0,ct.w)(()=>Ln)}var an=Y(5137),qt=Y(2181),Nn=Y(2793),wn=Y(6304),st=Y(6814),It=Y(2194);Y(120);const Mt=new d.OlP("angularfire2.auth.use-emulator"),Oe=new d.OlP("angularfire2.auth.settings"),Ht=new d.OlP("angularfire2.auth.tenant-id"),on=new d.OlP("angularfire2.auth.langugage-code"),Wn=new d.OlP("angularfire2.auth.use-device-language"),jn=new d.OlP("angularfire.auth.persistence"),mn=(Ln,kn,Ye,nt,Et,ot,Ct,en)=>(0,wn.cc)(`${Ln.name}.auth`,"AngularFireAuth",Ln.name,()=>{const rn=kn.runOutsideAngular(()=>Ln.auth());if(Ye&&rn.useEmulator(...Ye),nt&&(rn.tenantId=nt),rn.languageCode=Et,ot&&rn.useDeviceLanguage(),Ct)for(const[ln,Hr]of Object.entries(Ct))rn.settings[ln]=Hr;return en&&rn.setPersistence(en),rn},[Ye,nt,Et,ot,Ct,en]);let Yn=(()=>{class Ln{constructor(Ye,nt,Et,ot,Ct,en,rn,ln,Hr,ir,hr,Bn){const Mr=new ge.x,Mn=(0,we.of)(void 0).pipe((0,Ae.Q)(Ct.outsideAngular),(0,ct.w)(()=>ot.runOutsideAngular(()=>Y.e(661).then(Y.bind(Y,8661)))),(0,it.U)(()=>(0,wn.on)(Ye,ot,nt)),(0,it.U)(Nr=>mn(Nr,ot,en,ln,Hr,ir,rn,hr)),mt({bufferSize:1,refCount:!1}));if((0,st.PM)(Et))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,we.of)(null);else{Mn.pipe((0,Ge.P)()).subscribe();const Ue=Mn.pipe((0,ct.w)(Nt=>Nt.getRedirectResult().then(At=>At,()=>null)),Nn.iC,mt({bufferSize:1,refCount:!1})),Ze=Mn.pipe((0,ct.w)(Nt=>new ne.y(At=>({unsubscribe:ot.runOutsideAngular(()=>Nt.onAuthStateChanged(Qt=>At.next(Qt),Qt=>At.error(Qt),()=>At.complete()))})))),St=Mn.pipe((0,ct.w)(Nt=>new ne.y(At=>({unsubscribe:ot.runOutsideAngular(()=>Nt.onIdTokenChanged(Qt=>At.next(Qt),Qt=>At.error(Qt),()=>At.complete()))}))));this.authState=Ue.pipe(ut(Ze),(0,an.R)(Ct.outsideAngular),(0,Ae.Q)(Ct.insideAngular)),this.user=Ue.pipe(ut(St),(0,an.R)(Ct.outsideAngular),(0,Ae.Q)(Ct.insideAngular)),this.idToken=this.user.pipe((0,ct.w)(Nt=>Nt?(0,Ne.D)(Nt.getIdToken()):(0,we.of)(null))),this.idTokenResult=this.user.pipe((0,ct.w)(Nt=>Nt?(0,Ne.D)(Nt.getIdTokenResult()):(0,we.of)(null))),this.credential=(0,He.T)(Ue,Mr,this.authState.pipe((0,qt.h)(Nt=>!Nt))).pipe((0,it.U)(Nt=>Nt?.user?Nt:null),(0,an.R)(Ct.outsideAngular),(0,Ae.Q)(Ct.insideAngular))}return(0,wn.pX)(this,Mn,ot,{spy:{apply:(Nr,Ue,Ze)=>{(Nr.startsWith("signIn")||Nr.startsWith("createUser"))&&Ze.then(St=>Mr.next(St))}}})}}return Ln.\u0275fac=function(Ye){return new(Ye||Ln)(d.LFG(wn.Dh),d.LFG(wn.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Nn.HU),d.LFG(Mt,8),d.LFG(Oe,8),d.LFG(Ht,8),d.LFG(on,8),d.LFG(Wn,8),d.LFG(jn,8),d.LFG(It.nm,8))},Ln.\u0275prov=d.Yz7({token:Ln,factory:Ln.\u0275fac,providedIn:"any"}),Ln})()},6304:(Rn,yt,Y)=>{Y.d(yt,{Dh:()=>ct,GT:()=>He,cc:()=>Ge,hO:()=>mt,on:()=>Te,pX:()=>Ne,xv:()=>it});var d=Y(5879),ge=Y(120),we=Y(2793);Rn=Y.hmd(Rn);const ne=["ngOnDestroy"],Ne=(qt,Nn,wn,st={})=>new Proxy(qt,{get:(It,pt)=>wn.runOutsideAngular(()=>{var gt;if(qt[pt])return!(null===(gt=st?.spy)||void 0===gt)&&gt.get&&st.spy.get(pt,qt[pt]),qt[pt];if(ne.indexOf(pt)>-1)return()=>{};const Mt=Nn.toPromise().then(Oe=>{const Ht=Oe&&Oe[pt];return"function"==typeof Ht?Ht.bind(Oe):Ht&&Ht.then?Ht.then(on=>wn.run(()=>on)):wn.run(()=>Ht)});return new Proxy(()=>{},{get:(Oe,Ht)=>Mt[Ht],apply:(Oe,Ht,on)=>Mt.then(Wn=>{var jn;const mn=Wn&&Wn(...on);return!(null===(jn=st?.spy)||void 0===jn)&&jn.apply&&st.spy.apply(pt,on,mn),mn})})})}),He=(qt,Nn)=>{Nn.forEach(wn=>{Object.getOwnPropertyNames(wn.prototype||wn).forEach(st=>{Object.defineProperty(qt.prototype,st,Object.getOwnPropertyDescriptor(wn.prototype||wn,st))})})};class Ae{constructor(Nn){return Nn}}const ct=new d.OlP("angularfire2.app.options"),it=new d.OlP("angularfire2.app.name");function Te(qt,Nn,wn){const It="object"==typeof wn&&wn||{};It.name=It.name||"string"==typeof wn&&wn||"[DEFAULT]";const gt=ge.Z.apps.filter(Mt=>Mt&&Mt.name===It.name)[0]||Nn.runOutsideAngular(()=>ge.Z.initializeApp(qt,It));try{JSON.stringify(qt)!==JSON.stringify(gt.options)&&xe("error",`${gt.name} Firebase App already initialized with different options${Rn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ae(gt)}const xe=(qt,...Nn)=>{(0,d.X6Q)()&&typeof console<"u"&&console[qt](...Nn)},Qe={provide:Ae,useFactory:Te,deps:[ct,d.R0b,[new d.FiY,it]]};let mt=(()=>{class qt{constructor(wn){ge.Z.registerVersion("angularfire",we.q4.full,"core"),ge.Z.registerVersion("angularfire",we.q4.full,"app-compat"),ge.Z.registerVersion("angular",d.q4F.full,wn.toString())}static initializeApp(wn,st){return{ngModule:qt,providers:[{provide:ct,useValue:wn},{provide:it,useValue:st}]}}}return qt.\u0275fac=function(wn){return new(wn||qt)(d.LFG(d.Lbi))},qt.\u0275mod=d.oAB({type:qt}),qt.\u0275inj=d.cJS({providers:[Qe]}),qt})();function Ge(qt,Nn,wn,st,It){const[,pt,gt]=globalThis.\u0275AngularfireInstanceCache.find(Mt=>Mt[0]===qt)||[];if(pt)return function Yt(qt,Nn){try{return qt.toString()===Nn.toString()}catch{return qt===Nn}}(It,gt)||(an("error",`${Nn} was already initialized on the ${wn} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),an("warn",{is:It,was:gt})),pt;{const Mt=st();return globalThis.\u0275AngularfireInstanceCache.push([qt,Mt,It]),Mt}}const ut=!!Rn.hot,an=(qt,...Nn)=>{(0,d.X6Q)()&&typeof console<"u"&&console[qt](...Nn)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},938:(Rn,yt,Y)=>{Y.d(yt,{gg:()=>YS,ET:()=>Lk,hJ:()=>Vk,BS:()=>Fk,oe:()=>Bk,JU:()=>Uk,PL:()=>jk,ad:()=>$k,Cm:()=>kk,pl:()=>Gk,r7:()=>Hk});var Ge,d=Y(2793),ge=Y(5879),we=Y(7923),ne=Y(8726),Ne=Y(4097),He=Y(2194),Ae=Y(5861),ct=Y(4303),it=Y(4537),Te=Y(7879),xe=Y(9058),Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mt={},Yt=Yt||{},ut=Qe||self;function an(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function qt(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var wn="closure_uid_"+(1e9*Math.random()>>>0),st=0;function It(n,e,t){return n.call.apply(n.bind,arguments)}function pt(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function gt(n,e,t){return(gt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?It:pt).apply(null,arguments)}function Mt(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Oe(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,a){for(var c=Array(arguments.length-2),_=2;_<arguments.length;_++)c[_-2]=arguments[_];return e.prototype[s].apply(r,c)}}function Ht(){this.s=this.s,this.o=this.o}Ht.prototype.s=!1,Ht.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Nn(n){Object.prototype.hasOwnProperty.call(n,wn)&&n[wn]||(n[wn]=++st)}(this)},Ht.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Wn=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function jn(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mn(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(an(r)){const s=n.length||0,a=r.length||0;n.length=s+a;for(let c=0;c<a;c++)n[s+c]=r[c]}else n.push(r)}}function Yn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Yn.prototype.h=function(){this.defaultPrevented=!0};var yr=function(){if(!ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ut.addEventListener("test",()=>{},e),ut.removeEventListener("test",()=>{},e)}catch{}return n}();function Ln(n){return/^[\s\xa0]*$/.test(n)}function kn(){var n=ut.navigator;return n&&(n=n.userAgent)?n:""}function Ye(n){return-1!=kn().indexOf(n)}function nt(n){return nt[" "](n),n}nt[" "]=function(){};var hr,n,ot=Ye("Opera"),Ct=Ye("Trident")||Ye("MSIE"),en=Ye("Edge"),rn=en||Ct,ln=Ye("Gecko")&&!(-1!=kn().toLowerCase().indexOf("webkit")&&!Ye("Edge"))&&!(Ye("Trident")||Ye("MSIE"))&&!Ye("Edge"),Hr=-1!=kn().toLowerCase().indexOf("webkit")&&!Ye("Edge");function ir(){var n=ut.document;return n?n.documentMode:void 0}e:{var Bn="",Mr=(n=kn(),ln?/rv:([^\);]+)(\)|;)/.exec(n):en?/Edge\/([\d\.]+)/.exec(n):Ct?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Hr?/WebKit\/(\S+)/.exec(n):ot?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Mr&&(Bn=Mr?Mr[1]:""),Ct){var Mn=ir();if(null!=Mn&&Mn>parseFloat(Bn)){hr=String(Mn);break e}}hr=Bn}var Ze=ut.document&&Ct&&(ir()||parseInt(hr,10))||void 0;function St(n,e){if(Yn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ln){e:{try{nt(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Nt[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&St.$.h.call(this)}}Oe(St,Yn);var Nt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Qt=0;function pr(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++Qt,this.fa=this.ia=!1}function Xn(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function cn(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function er(n){const e={};for(const t in n)e[t]=n[t];return e}const cr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ii(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let a=0;a<cr.length;a++)t=cr[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Si(n){this.src=n,this.g={},this.h=0}function Ir(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],s=Wn(r,e);(a=0<=s)&&Array.prototype.splice.call(r,s,1),a&&(Xn(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ti(n,e,t,r){for(var s=0;s<n.length;++s){var a=n[s];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return s}return-1}Si.prototype.add=function(n,e,t,r,s){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=ti(n,e,r,s);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new pr(e,this.src,a,!!r,s)).ia=t,n.push(e)),e};var qr="closure_lm_"+(1e6*Math.random()|0),Vr={};function Xi(n,e,t,r,s){if(r&&r.once)return bs(n,e,t,r,s);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Xi(n,e[a],t,r,s);return null}return t=wt(t),n&&n[At]?n.O(e,t,qt(r)?!!r.capture:!!r,s):Dr(n,e,t,!1,r,s)}function Dr(n,e,t,r,s,a){if(!e)throw Error("Invalid event type");var c=qt(s)?!!s.capture:!!s,_=$e(n);if(_||(n[qr]=_=new Si(n)),(t=_.add(e,t,r,c,a)).proxy)return t;if(r=function ur(){const e=Tt;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)yr||(s=c),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(vs(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function bs(n,e,t,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)bs(n,e[a],t,r,s);return null}return t=wt(t),n&&n[At]?n.P(e,t,qt(r)?!!r.capture:!!r,s):Dr(n,e,t,!0,r,s)}function Is(n,e,t,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)Is(n,e[a],t,r,s);else r=qt(r)?!!r.capture:!!r,t=wt(t),n&&n[At]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ti(a=n.g[e],t,r,s))&&(Xn(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=$e(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ti(e,t,r,s)),(t=-1<n?e[n]:null)&&_i(t))}function _i(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[At])Ir(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(vs(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=$e(e))?(Ir(t,n),0==t.h&&(t.src=null,e[qr]=null)):Xn(n)}}}function vs(n){return n in Vr?Vr[n]:Vr[n]="on"+n}function Tt(n,e){if(n.fa)n=!0;else{e=new St(e,this);var t=n.listener,r=n.la||n.src;n.ia&&_i(n),n=t.call(r,e)}return n}function $e(n){return(n=n[qr])instanceof Si?n:null}var Vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(n){return"function"==typeof n?n:(n[Vt]||(n[Vt]=function(e){return n.handleEvent(e)}),n[Vt])}function sn(){Ht.call(this),this.i=new Si(this),this.S=this,this.J=null}function gn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Yn(e,n);else if(e instanceof Yn)e.target=e.target||n;else{var s=e;ii(e=new Yn(r,n),s)}if(s=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];s=tr(c,r,!0,e)&&s}if(s=tr(c=e.g=n,r,!0,e)&&s,s=tr(c,r,!1,e)&&s,t)for(a=0;a<t.length;a++)s=tr(c=e.g=t[a],r,!1,e)&&s}function tr(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var _=c.listener,b=c.la||c.src;c.ia&&Ir(n.i,c),s=!1!==_.call(b,r)&&s}}return s&&!r.defaultPrevented}Oe(sn,Ht),sn.prototype[At]=!0,sn.prototype.removeEventListener=function(n,e,t,r){Is(this,n,e,t,r)},sn.prototype.N=function(){if(sn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Xn(t[r]);delete n.g[e],n.h--}}this.J=null},sn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},sn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ve=ut.JSON.stringify;function fe(){var n=ni;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ve=new class me{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ze,n=>n.reset());class ze{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Lt(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function tn(n){ut.setTimeout(()=>{throw n},0)}let qn,Sn=!1,ni=new class Le{constructor(){this.h=this.g=null}add(e,t){const r=ve.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},dr=()=>{const n=ut.Promise.resolve(void 0);qn=()=>{n.then(Ei)}};var Ei=()=>{for(var n;n=fe();){try{n.h.call(n.g)}catch(t){tn(t)}var e=ve;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Sn=!1};function ui(n,e){sn.call(this),this.h=n||1,this.g=e||ut,this.j=gt(this.qb,this),this.l=Date.now()}function Ns(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function $s(n,e,t){if("function"==typeof n)t&&(n=gt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=gt(n.handleEvent,n)}return 2147483647<Number(e)?-1:ut.setTimeout(n,e||0)}function ks(n){n.g=$s(()=>{n.g=null,n.i&&(n.i=!1,ks(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Oe(ui,sn),(Ge=ui.prototype).ga=!1,Ge.T=null,Ge.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gn(this,"tick"),this.ga&&(Ns(this),this.start()))}},Ge.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.N=function(){ui.$.N.call(this),Ns(this),delete this.g};class li extends Ht{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ks(this)}N(){super.N(),this.g&&(ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(n){Ht.call(this),this.h=n,this.g={}}Oe(wi,Ht);var zi=[];function ri(n,e,t,r){Array.isArray(t)||(t&&(zi[0]=t.toString()),t=zi);for(var s=0;s<t.length;s++){var a=Xi(e,t[s],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Wi(n){cn(n.g,function(e,t){this.g.hasOwnProperty(t)&&_i(e)},n),n.g={}}function Js(){this.g=!0}function Pi(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ao(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<s.length;c++)s[c]=""}}}return Ve(t)}catch{return e}}(n,t)+(r?" "+r:"")})}wi.prototype.N=function(){wi.$.N.call(this),Wi(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Js.prototype.Ea=function(){this.g=!1},Js.prototype.info=function(){};var Ts={},Io=null;function fs(){return Io=Io||new sn}function Go(n){Yn.call(this,Ts.Ta,n)}function Mo(n){const e=fs();gn(e,new Go(e))}function Br(n,e){Yn.call(this,Ts.STAT_EVENT,n),this.stat=e}function Un(n){const e=fs();gn(e,new Br(e,n))}function jr(n,e){Yn.call(this,Ts.Ua,n),this.size=e}function ss(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ut.setTimeout(function(){n()},e)}Ts.Ta="serverreachability",Oe(Go,Yn),Ts.STAT_EVENT="statevent",Oe(Br,Yn),Ts.Ua="timingevent",Oe(jr,Yn);var xi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},sl={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function tt(){}function vt(){}tt.prototype.h=null;var si,Ft={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ut(){Yn.call(this,"d")}function Hn(){Yn.call(this,"c")}function Zr(){}function Ar(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new wi(this),this.P=Gs,this.V=new ui(n=rn?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Za}function Za(){this.i=null,this.g="",this.h=!1}Oe(Ut,Yn),Oe(Hn,Yn),Oe(Zr,tt),Zr.prototype.g=function(){return new XMLHttpRequest},Zr.prototype.i=function(){return{}},si=new Zr;var Gs=45e3,lo={},Vi={};function co(n,e,t){n.L=1,n.v=ia(yi(e)),n.s=t,n.S=!0,ka(n,null)}function ka(n,e){n.G=Date.now(),Po(n),n.A=yi(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Es(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Za,n.g=al(n.l,t?e:null,!n.s),0<n.O&&(n.M=new li(gt(n.Pa,n,n.g),n.O)),ri(n.U,n.g,"readystatechange",n.nb),e=n.I?er(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Mo(),function Xs(n,e,t,r,s,a){n.info(function(){if(n.g)if(a)for(var c="",_=a.split("&"),b=0;b<_.length;b++){var O=_[b].split("=");if(1<O.length){var j=O[0];O=O[1];var J=j.split("_");c=2<=J.length&&"type"==J[1]?c+(j+"=")+O+"&":c+(j+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function uo(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Fa(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=na(n,t),s==Vi){4==e&&(n.o=4,Un(14),r=!1),Pi(n.j,n.m,null,"[Incomplete Response]");break}if(s==lo){n.o=4,Un(15),Pi(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Pi(n.j,n.m,s,null),Pr(n,s)}uo(n)&&s!=Vi&&s!=lo&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Un(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),sa(e),e.M=!0,Un(11))):(Pi(n.j,n.m,t,"[Invalid Chunked Response]"),gi(n),es(n))}function na(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Vi:(t=Number(e.substring(t,r)),isNaN(t)?lo:(r+=1)+t>e.length?Vi:(e=e.slice(r,r+t),n.C=r+t,e))}function Po(n){n.Y=Date.now()+n.P,Ra(n,n.P)}function Ra(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ss(gt(n.lb,n),e)}function Jr(n){n.B&&(ut.clearTimeout(n.B),n.B=null)}function es(n){0==n.l.H||n.J||ol(n.l,n)}function gi(n){Jr(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Ns(n.V),Wi(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Pr(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||_l(t.i,n)))if(!n.K&&_l(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;ga(t),ar(t)}ts(t),Un(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=ss(gt(t.ib,t),6e3));if(1>=zr(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else wa(t,11)}else if((n.K||t.g==n)&&ga(t),!Ln(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let O=s[e];if(t.V=O[0],O=O[1],2==t.H)if("c"==O[0]){t.K=O[1],t.pa=O[2];const j=O[3];null!=j&&(t.ra=j,t.l.info("VER="+t.ra));const J=O[4];null!=J&&(t.Ga=J,t.l.info("SVER="+t.Ga));const Ee=O[5];null!=Ee&&"number"==typeof Ee&&0<Ee&&(t.L=r=1.5*Ee,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const ke=n.g;if(ke){const bt=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bt){var a=r.i;a.g||-1==bt.indexOf("spdy")&&-1==bt.indexOf("quic")&&-1==bt.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ui(a,a.h),a.h=null))}if(r.F){const jt=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;jt&&(r.Da=jt,Tr(r.I,r.F,jt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=Oa(r,r.J?r.pa:null,r.Y),c.K){La(r.i,c);var _=c,b=r.L;b&&_.setTimeout(b),_.B&&(Jr(_),Po(_)),r.g=c}else ro(r);0<t.j.length&&Ni(t)}else"stop"!=O[0]&&"close"!=O[0]||wa(t,7);else 3==t.H&&("stop"==O[0]||"close"==O[0]?"stop"==O[0]?wa(t,7):un(t):"noop"!=O[0]&&t.h&&t.h.Aa(O),t.A=0)}Mo()}catch{}}function ha(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(an(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ra(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(an(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ls(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(an(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,a=0;a<s;a++)e.call(void 0,r[a],t&&t[a],n)}(Ge=Ar.prototype).setTimeout=function(n){this.P=n},Ge.nb=function(n){n=n.target;const e=this.M;e&&3==To(n)?e.l():this.Pa(n)},Ge.Pa=function(n){try{if(n==this.g)e:{const j=To(this.g);var e=this.g.Ia();if(this.g.da(),!(3>j)&&(3!=j||rn||this.g&&(this.h.h||this.g.ja()||mo(this.g)))){this.J||4!=j||7==e||Mo(),Jr(this);var t=this.g.da();this.ca=t;t:if(uo(this)){var r=mo(this.g);n="";var s=r.length,a=4==To(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),es(this);var c="";break t}this.h.i=new ut.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function $o(n,e,t,r,s,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,j,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var _,b=this.g;if((_=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ln(_)){var O=_;break t}}O=null}if(!(t=O)){this.i=!1,this.o=3,Un(12),gi(this),es(this);break e}Pi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pr(this,t)}this.S?(Fa(this,j,c),rn&&this.i&&3==j&&(ri(this.U,this.V,"tick",this.mb),this.V.start())):(Pi(this.j,this.m,c,null),Pr(this,c)),4==j&&gi(this),this.i&&!this.J&&(4==j?ol(this.l,this):(this.i=!1,Po(this)))}else(function te(n){const e={};n=(n.g&&2<=To(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Ln(n[r]))continue;var t=Lt(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[s]||[];e[s]=a,a.push(t)}!function bn(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Un(12)):(this.o=0,Un(13)),gi(this),es(this)}}}catch{}},Ge.mb=function(){if(this.g){var n=To(this.g),e=this.g.ja();this.C<e.length&&(Jr(this),Fa(this,n,e),this.i&&4!=n&&Po(this))}},Ge.cancel=function(){this.J=!0,gi(this)},Ge.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Fs(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Mo(),Un(17)),gi(this),this.o=2,es(this)):Ra(this,this.Y-n)};var Bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oi(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Oi){this.h=n.h,pn(this,n.j),this.s=n.s,this.g=n.g,Fr(this,n.m),this.l=n.l;var e=n.i,t=new fo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),mi(this,t),this.o=n.o}else n&&(e=String(n).match(Bi))?(this.h=!1,pn(this,e[1]||"",!0),this.s=Di(e[2]||""),this.g=Di(e[3]||"",!0),Fr(this,e[4]),this.l=Di(e[5]||"",!0),mi(this,e[6]||"",!0),this.o=Di(e[7]||"")):(this.h=!1,this.i=new fo(null,this.h))}function yi(n){return new Oi(n)}function pn(n,e,t){n.j=t?Di(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fr(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function mi(n,e,t){e instanceof fo?(n.i=e,function _a(n,e){e&&!n.j&&(Or(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(ma(this,r),Es(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ho(e,No)),n.i=new fo(e,n.h))}function Tr(n,e,t){n.i.set(e,t)}function ia(n){return Tr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Di(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ho(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qi),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qi(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Oi.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ho(e,Os,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ho(e,Os,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ho(t,"/"==t.charAt(0)?vr:Ho,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ho(t,Ja)),n.join("")};var Os=/[#\/\?@]/g,Ho=/[#\?:]/g,vr=/[#\?]/g,No=/[#\?@]/g,Ja=/#/g;function fo(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Or(n){n.g||(n.g=new Map,n.h=0,n.i&&function bi(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var a=n[t].substring(0,r);s=n[t].substring(r+1)}else a=n[t];e(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ma(n,e){Or(n),e=Ss(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Ls(n,e){return Or(n),e=Ss(n,e),n.g.has(e)}function Es(n,e,t){ma(n,e),0<t.length&&(n.i=null,n.g.set(Ss(n,e),jn(t)),n.h+=t.length)}function Ss(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Vs(n){this.l=n||Cr,n=ut.PerformanceNavigationTiming?0<(n=ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ut.g&&ut.g.Ka&&ut.g.Ka()&&ut.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ge=fo.prototype).add=function(n,e){Or(this),this.i=null,n=Ss(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ge.forEach=function(n,e){Or(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Ge.ta=function(){Or(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let a=0;a<s.length;a++)t.push(e[r])}return t},Ge.Z=function(n){Or(this);let e=[];if("string"==typeof n)Ls(this,n)&&(e=e.concat(this.g.get(Ss(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ge.set=function(n,e){return Or(this),this.i=null,Ls(this,n=Ss(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ge.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var s=a;""!==c[r]&&(s+="="+encodeURIComponent(String(c[r]))),n.push(s)}}return this.i=n.join("&")};var Cr=10;function po(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zr(n){return n.h?1:n.g?n.g.size:0}function _l(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ui(n,e){n.g?n.g.add(e):n.h=e}function La(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function to(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return jn(n.i)}Vs.prototype.cancel=function(){if(this.i=to(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Ds=class{stringify(n){return ut.JSON.stringify(n,void 0)}parse(n){return ut.JSON.parse(n,void 0)}};function ya(){this.g=new Ds}function go(n,e,t){const r=t||"";try{ha(n,function(s,a){let c=s;qt(s)&&(c=Ve(s)),e.push(r+a+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function va(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function as(n){this.l=n.ec||null,this.j=n.ob||!1}function Ii(n,e){sn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oe(as,tt),as.prototype.g=function(){return new Ii(this.l,this.j)},as.prototype.i=function(n){return function(){return n}}({}),Oe(Ii,sn);var zo=0;function no(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ci(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Bs(n)}function Bs(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ge=Ii.prototype).open=function(n,e){if(this.readyState!=zo)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Bs(this)},Ge.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ut).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ci(this)),this.readyState=zo},Ge.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Bs(this)),this.g&&(this.readyState=3,Bs(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ut.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;no(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ge.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ci(this):Bs(this),3==this.readyState&&no(this)}},Ge.Za=function(n){this.g&&(this.response=this.responseText=n,Ci(this))},Ge.Ya=function(n){this.g&&(this.response=n,Ci(this))},Ge.ka=function(){this.g&&Ci(this)},Ge.setRequestHeader=function(n,e){this.v.append(n,e)},Ge.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ea=ut.JSON.parse;function ji(n){sn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xa,this.L=this.M=!1}Oe(ji,sn);var xa="",sc=/^https?$/i,Xa=["POST","PUT"];function fa(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Wo(n),pa(n)}function Wo(n){n.F||(n.F=!0,gn(n,"complete"),gn(n,"error"))}function kl(n){if(n.h&&typeof Yt<"u"&&(!n.C[1]||4!=To(n)||2!=n.da()))if(n.v&&4==To(n))$s(n.La,0,n);else if(gn(n,"readystatechange"),4==To(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var s=String(n.I).match(Bi)[1]||null;!s&&ut.self&&ut.self.location&&(s=ut.self.location.protocol.slice(0,-1)),r=!sc.test(s?s.toLowerCase():"")}t=r}if(t)gn(n,"complete"),gn(n,"success");else{n.m=6;try{var a=2<To(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",Wo(n)}}finally{pa(n)}}}function pa(n,e){if(n.g){$i(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||gn(n,"ready");try{t.onreadystatechange=r}catch{}}}function $i(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ut.clearTimeout(n.A),n.A=null)}function To(n){return n.g?n.g.readyState:0}function mo(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case xa:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Z(n){let e="";return cn(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function be(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Z(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Tr(n,e,t))}function ee(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Me(n){this.Ga=0,this.j=[],this.l=new Js,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ee("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ee("baseRetryDelayMs",5e3,n),this.hb=ee("retryDelaySeedMs",1e4,n),this.eb=ee("forwardChannelMaxRetries",2,n),this.xa=ee("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Vs(n&&n.concurrentRequestLimit),this.Ja=new ya,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function un(n){if(Cs(n),3==n.H){var e=n.W++,t=yi(n.I);if(Tr(t,"SID",n.K),Tr(t,"RID",e),Tr(t,"TYPE","terminate"),Hs(n,t),(e=new Ar(n,n.l,e)).L=2,e.v=ia(yi(t)),t=!1,ut.navigator&&ut.navigator.sendBeacon)try{t=ut.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=al(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Po(e)}ja(n)}function ar(n){n.g&&(sa(n),n.g.cancel(),n.g=null)}function Cs(n){ar(n),n.u&&(ut.clearTimeout(n.u),n.u=null),ga(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ut.clearTimeout(n.m),n.m=null)}function Ni(n){if(!po(n.i)&&!n.m){n.m=!0;var e=n.Na;qn||dr(),Sn||(qn(),Sn=!0),ni.add(e,n),n.C=0}}function Us(n,e){var t;t=e?e.m:n.W++;const r=yi(n.I);Tr(r,"SID",n.K),Tr(r,"RID",t),Tr(r,"AID",n.V),Hs(n,r),n.o&&n.s&&be(r,n.o,n.s),t=new Ar(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Ba(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Ui(n.i,t),co(t,r,e)}function Hs(n,e){n.na&&cn(n.na,function(t,r){Tr(e,r,t)}),n.h&&ha({},function(t,r){Tr(e,r,t)})}function Ba(n,e,t){t=Math.min(n.j.length,t);var r=n.h?gt(n.h.Va,n.h,n):null;e:{var s=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=s[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let _=!0;for(let b=0;b<t;b++){let O=s[b].g;const j=s[b].map;if(O-=a,0>O)a=Math.max(0,s[b].g-100),_=!1;else try{go(j,c,"req"+O+"_")}catch{r&&r(j)}}if(_){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function ro(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;qn||dr(),Sn||(qn(),Sn=!0),ni.add(e,n),n.A=0}}function ts(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=ss(gt(n.Ma,n),Ua(n,n.A)),n.A++,0))}function sa(n){null!=n.B&&(ut.clearTimeout(n.B),n.B=null)}function cs(n){n.g=new Ar(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=yi(n.wa);Tr(e,"RID","rpc"),Tr(e,"SID",n.K),Tr(e,"AID",n.V),Tr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Tr(e,"TO",n.qa),Tr(e,"TYPE","xmlhttp"),Hs(n,e),n.o&&n.s&&be(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=ia(yi(e)),t.s=null,t.S=!0,ka(t,n)}function ga(n){null!=n.v&&(ut.clearTimeout(n.v),n.v=null)}function ol(n,e){var t=null;if(n.g==e){ga(n),sa(n),n.g=null;var r=2}else{if(!_l(n.i,e))return;t=e.F,La(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;gn(r=fs(),new jr(r,t)),Ni(n)}else ro(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function ko(n,e){return!(zr(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=ss(gt(n.Na,n,e),Ua(n,n.C)),n.C++,0)))}(n,e)||2==r&&ts(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:wa(n,5);break;case 4:wa(n,10);break;case 3:wa(n,6);break;default:wa(n,2)}}function Ua(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function wa(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=gt(n.pb,n);t||(t=new Oi("//www.google.com/images/cleardot.gif"),ut.location&&"http"==ut.location.protocol||pn(t,"https"),ia(t)),function os(n,e){const t=new Js;if(ut.Image){const r=new Image;r.onload=Mt(va,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Mt(va,t,r,"TestLoadImage: error",!1,e),r.onabort=Mt(va,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mt(va,t,r,"TestLoadImage: timeout",!1,e),ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Un(2);n.H=0,n.h&&n.h.za(e),ja(n),Cs(n)}function ja(n){if(n.H=0,n.ma=[],n.h){const e=to(n.i);(0!=e.length||0!=n.j.length)&&(mn(n.ma,e),mn(n.ma,n.j),n.i.i.length=0,jn(n.j),n.j.length=0),n.h.ya()}}function Oa(n,e,t){var r=t instanceof Oi?yi(t):new Oi(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Fr(r,r.m);else{var s=ut.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var a=new Oi(null);r&&pn(a,r),e&&(a.g=e),s&&Fr(a,s),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Tr(r,t,e),Tr(r,"VER",n.ra),Hs(n,r),r}function al(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ji(t&&n.Ha&&!n.va?new as({ob:!0}):n.va)).Oa(n.J),e}function Ms(){}function bl(){if(Ct&&!(10<=Number(Ze)))throw Error("Environmental error: no available transport.")}function As(n,e){sn.call(this),this.g=new Me(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ln(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ln(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new di(this)}function Il(n){Ut.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function el(){Hn.call(this),this.status=1}function di(n){this.g=n}function qo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Fl(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((s=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^a&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^s^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(s^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(s^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((s=a+((c=s+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+a&4294967295}function Mi(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var a=0|n[s];r&&a==e||(t[s]=a,r=!1)}this.g=t}(Ge=ji.prototype).Oa=function(n){this.M=n},Ge.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():si.g(),this.C=function qe(n){return n.h||(n.h=n.i())}(this.u?this.u:si),this.g.onreadystatechange=gt(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void fa(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),s=ut.FormData&&n instanceof ut.FormData,!(0<=Wn(Xa,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$i(this),0<this.B&&((this.L=function Va(n){return Ct&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.ua,this)):this.A=$s(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){fa(this,a)}},Ge.ua=function(){typeof Yt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gn(this,"timeout"),this.abort(8))},Ge.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,gn(this,"complete"),gn(this,"abort"),pa(this))},Ge.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pa(this,!0)),ji.$.N.call(this)},Ge.La=function(){this.s||(this.G||this.v||this.l?kl(this):this.kb())},Ge.kb=function(){kl(this)},Ge.isActive=function(){return!!this.g},Ge.da=function(){try{return 2<To(this)?this.g.status:-1}catch{return-1}},Ge.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ge.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ea(e)}},Ge.Ia=function(){return this.m},Ge.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=Me.prototype).ra=8,Ge.H=1,Ge.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Ar(this,this.l,n);let a=this.s;if(this.U&&(a?(a=er(a),ii(a,this.U)):a=this.U),null!==this.o||this.O||(s.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ba(this,s,e),Tr(t=yi(this.I),"RID",n),Tr(t,"CVER",22),this.F&&Tr(t,"X-HTTP-Session-Id",this.F),Hs(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(Z(a)))+"&"+e:this.o&&be(t,this.o,a)),Ui(this.i,s),this.bb&&Tr(t,"TYPE","init"),this.P?(Tr(t,"$req",e),Tr(t,"SID","null"),s.aa=!0,co(s,t,null)):co(s,t,e),this.H=2}}else 3==this.H&&(n?Us(this,n):0==this.j.length||po(this.i)||Us(this))},Ge.Ma=function(){if(this.u=null,cs(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=ss(gt(this.jb,this),n)}},Ge.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Un(10),ar(this),cs(this))},Ge.ib=function(){null!=this.v&&(this.v=null,ar(this),ts(this),Un(19))},Ge.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Un(2)):(this.l.info("Failed to ping google.com"),Un(1))},Ge.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ge=Ms.prototype).Ba=function(){},Ge.Aa=function(){},Ge.za=function(){},Ge.ya=function(){},Ge.isActive=function(){return!0},Ge.Va=function(){},bl.prototype.g=function(n,e){return new As(n,e)},Oe(As,sn),As.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Un(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Oa(n,null,n.Y),Ni(n)},As.prototype.close=function(){un(this.g)},As.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ve(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Ni(e)},As.prototype.N=function(){this.g.h=null,delete this.j,un(this.g),delete this.g,As.$.N.call(this)},Oe(Il,Ut),Oe(el,Hn),Oe(di,Ms),di.prototype.Ba=function(){gn(this.g,"a")},di.prototype.Aa=function(n){gn(this.g,new Il(n))},di.prototype.za=function(n){gn(this.g,new el)},di.prototype.ya=function(){gn(this.g,"b")},Oe(qo,function zs(){this.blockSize=-1}),qo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,a=0;a<e;){if(0==s)for(;a<=t;)Fl(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[s++]=n.charCodeAt(a++),s==this.blockSize){Fl(this,r),s=0;break}}else for(;a<e;)if(r[s++]=n[a++],s==this.blockSize){Fl(this,r),s=0;break}}this.h=s,this.i+=e},qo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var $a={};function oa(n){return-128<=n&&128>n?function Et(n,e){var t=$a;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Mi([0|e],0>e?-1:0)}):new Mi([0|n],0>n?-1:0)}function Ma(n){if(isNaN(n)||!isFinite(n))return Fo;if(0>n)return io(Ma(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Yl;return new Mi(e,0)}var Yl=4294967296,Fo=oa(0),Ll=oa(1),ll=oa(16777216);function Ko(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Pa(n){return-1==n.h}function io(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Mi(t,~n.h).add(Ll)}function Ql(n,e){return n.add(io(e))}function V(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function X(n,e){this.g=n,this.h=e}function Pe(n,e){if(Ko(e))throw Error("division by zero");if(Ko(n))return new X(Fo,Fo);if(Pa(n))return e=Pe(io(n),e),new X(io(e.g),io(e.h));if(Pa(e))return e=Pe(n,io(e)),new X(io(e.g),e.h);if(30<n.g.length){if(Pa(n)||Pa(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Ll,r=e;0>=r.X(n);)t=Q(t),r=Q(r);var s=Se(t,1),a=Se(r,1);for(r=Se(r,2),t=Se(t,2);!Ko(r);){var c=a.add(r);0>=c.X(n)&&(s=s.add(t),a=c),r=Se(r,1),t=Se(t,1)}return e=Ql(n,s.R(e)),new X(s,e)}for(s=Fo;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=Ma(t)).R(e);Pa(c)||0<c.X(n);)c=(a=Ma(t-=r)).R(e);Ko(a)&&(a=Ll),s=s.add(a),n=Ql(n,c)}return new X(s,n)}function Q(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Mi(t,n.h)}function Se(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],a=0;a<r;a++)s[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Mi(s,n.h)}(Ge=Mi.prototype).ea=function(){if(Pa(this))return-io(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Yl+r)*e,e*=Yl}return n},Ge.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ko(this))return"0";if(Pa(this))return"-"+io(this).toString(n);for(var e=Ma(Math.pow(n,6)),t=this,r="";;){var s=Pe(t,e).g,a=((0<(t=Ql(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ko(t=s))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Ge.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ge.X=function(n){return Pa(n=Ql(this,n))?-1:Ko(n)?0:1},Ge.abs=function(){return Pa(this)?io(this):this},Ge.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var a=r+(65535&this.D(s))+(65535&n.D(s)),c=(a>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=c>>>16,t[s]=(c&=65535)<<16|(a&=65535)}return new Mi(t,-2147483648&t[t.length-1]?-1:0)},Ge.R=function(n){if(Ko(this)||Ko(n))return Fo;if(Pa(this))return Pa(n)?io(this).R(io(n)):io(io(this).R(n));if(Pa(n))return io(this.R(io(n)));if(0>this.X(ll)&&0>n.X(ll))return Ma(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var a=this.D(r)>>>16,c=65535&this.D(r),_=n.D(s)>>>16,b=65535&n.D(s);t[2*r+2*s]+=c*b,V(t,2*r+2*s),t[2*r+2*s+1]+=a*b,V(t,2*r+2*s+1),t[2*r+2*s+1]+=c*_,V(t,2*r+2*s+1),t[2*r+2*s+2]+=a*_,V(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Mi(t,0)},Ge.gb=function(n){return Pe(this,n).h},Ge.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Mi(t,this.h&n.h)},Ge.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Mi(t,this.h|n.h)},Ge.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Mi(t,this.h^n.h)},bl.prototype.createWebChannel=bl.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,sl.COMPLETE="complete",vt.EventType=Ft,Ft.OPEN="a",Ft.CLOSE="b",Ft.ERROR="c",Ft.MESSAGE="d",sn.prototype.listen=sn.prototype.O,ji.prototype.listenOnce=ji.prototype.P,ji.prototype.getLastError=ji.prototype.Sa,ji.prototype.getLastErrorCode=ji.prototype.Ia,ji.prototype.getStatus=ji.prototype.da,ji.prototype.getResponseJson=ji.prototype.Wa,ji.prototype.getResponseText=ji.prototype.ja,ji.prototype.send=ji.prototype.ha,ji.prototype.setWithCredentials=ji.prototype.Oa,qo.prototype.digest=qo.prototype.l,qo.prototype.reset=qo.prototype.reset,qo.prototype.update=qo.prototype.j,Mi.prototype.add=Mi.prototype.add,Mi.prototype.multiply=Mi.prototype.R,Mi.prototype.modulo=Mi.prototype.gb,Mi.prototype.compare=Mi.prototype.X,Mi.prototype.toNumber=Mi.prototype.ea,Mi.prototype.toString=Mi.prototype.toString,Mi.prototype.getBits=Mi.prototype.D,Mi.fromNumber=Ma,Mi.fromString=function aa(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return io(aa(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ma(Math.pow(e,8)),r=Fo,s=0;s<n.length;s+=8){var a=Math.min(8,n.length-s),c=parseInt(n.substring(s,s+a),e);8>a?(a=Ma(Math.pow(e,a)),r=r.R(a).add(Ma(c))):r=(r=r.R(t)).add(Ma(c))}return r};var $=mt.createWebChannelTransport=function(){return new bl},re=mt.getStatEventTarget=function(){return fs()},he=mt.ErrorCode=xi,_e=mt.EventType=sl,Ce=mt.Event=Ts,Ke=mt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xt=(mt.FetchXmlHttpFactory=as,mt.WebChannel=vt),Ot=mt.XhrIo=ji,In=mt.Md5=qo,xn=mt.Integer=Mi;const Kn="@firebase/firestore";class Vn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");let Sr="10.4.0";const $r=new Te.Yd("@firebase/firestore");function ps(){return $r.logLevel}function Bt(n,...e){if($r.logLevel<=Te.in.DEBUG){const t=e.map(ns);$r.debug(`Firestore (${Sr}): ${n}`,...t)}}function ci(n,...e){if($r.logLevel<=Te.in.ERROR){const t=e.map(ns);$r.error(`Firestore (${Sr}): ${n}`,...t)}}function ki(n,...e){if($r.logLevel<=Te.in.WARN){const t=e.map(ns);$r.warn(`Firestore (${Sr}): ${n}`,...t)}}function ns(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function zn(n="Unexpected state"){const e=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: `+n;throw ci(e),new Error(e)}function lr(n,e){n||zn()}function yn(n,e){return n}const Pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dn extends xe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class So{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ga{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vn.UNAUTHENTICATED))}shutdown(){}}class md{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const a=O=>this.i!==s?(s=this.i,t(O)):Promise.resolve();let c=new So;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new So,e.enqueueRetryable(()=>a(this.currentUser))};const _=()=>{const O=c;e.enqueueRetryable((0,Ae.Z)(function*(){yield O.promise,yield a(r.currentUser)}))},b=O=>{Bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=O,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(O=>b(O)),setTimeout(()=>{if(!this.auth){const O=this.t.getImmediate({optional:!0});O?b(O):(Bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new So)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lr("string"==typeof r.accessToken),new tl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lr(null===e||"string"==typeof e),new Vn(e)}}class Do{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Vl{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Do(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oi{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=a=>{null!=a.error&&Bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,Bt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{Bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):Bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lr("string"==typeof t.token),this.R=t.token,new Oc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zl(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Mc{static V(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=Zl(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[a]%62))}return r}}function gr(n,e){return n<e?-1:n>e?1:0}function Hc(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class Ki{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new dn(Pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new dn(Pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new dn(Pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dn(Pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ki.fromMillis(Date.now())}static fromDate(e){return Ki.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ki(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gr(this.nanoseconds,e.nanoseconds):gr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mr(e)}static min(){return new mr(new Ki(0,0))}static max(){return new mr(new Ki(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yl{constructor(e,t,r){void 0===t?t=0:t>e.length&&zn(),void 0===r?r=e.length-t:r>e.length-t&&zn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),c=t.get(s);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yi extends yl{construct(e,t,r){return new Yi(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new dn(Pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Yi(t)}static emptyPath(){return new Yi([])}}const Iu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qs extends yl{construct(e,t,r){return new qs(e,t,r)}static isValidIdentifier(e){return Iu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qs(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(0===r.length)throw new dn(Pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const _=e[s];if("\\"===_){if(s+1===e.length)throw new dn(Pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[s+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new dn(Pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,s+=2}else"`"===_?(c=!c,s++):"."!==_||c?(r+=_,s++):(a(),s++)}if(a(),c)throw new dn(Pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qs(t)}static emptyPath(){return new qs([])}}class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Yi.fromString(e))}static fromName(e){return new ht(Yi.fromString(e).popFirst(5))}static empty(){return new ht(Yi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Yi(e.slice()))}}function vc(n){return new nl(n.readTime,n.key,-1)}class nl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new nl(mr.min(),ht.empty(),-1)}static max(){return new nl(mr.max(),ht.empty(),-1)}}function Tu(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ht.comparator(n.documentKey,e.documentKey),0!==t?t:gr(n.largestBatchId,e.largestBatchId))}const Nc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function vo(n){return hu.apply(this,arguments)}function hu(){return hu=(0,Ae.Z)(function*(n){if(n.code!==Pt.FAILED_PRECONDITION||n.message!==Nc)throw n;Bt("LocalStore","Unexpectedly lost primary lease")}),hu.apply(this,arguments)}class _t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&zn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _t((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _t?t:_t.resolve(t)}catch(t){return _t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_t.reject(t)}static resolve(e){return new _t((t,r)=>{t(e)})}static reject(e){return new _t((t,r)=>{r(e)})}static waitFor(e){return new _t((t,r)=>{let s=0,a=0,c=!1;e.forEach(_=>{++s,_.next(()=>{++a,c&&a===s&&t()},b=>r(b))}),c=!0,a===s&&t()})}static or(e){let t=_t.resolve(!1);for(const r of e)t=t.next(s=>s?_t.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new _t((r,s)=>{const a=e.length,c=new Array(a);let _=0;for(let b=0;b<a;b++){const O=b;t(e[O]).next(j=>{c[O]=j,++_,_===a&&r(c)},j=>s(j))}})}static doWhile(e,t){return new _t((r,s)=>{const a=()=>{!0===e()?t().next(()=>{a()},s):r()};a()})}}function F(n){return"IndexedDbTransactionError"===n.name}let z=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.oe(s),this._e=s=>r.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}return n.ae=-1,n})();function ce(n){return null==n}function pe(n){return 0===n&&1/n==-1/0}function Ju(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Co(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class Ai{constructor(e,t){this.comparator=e,this.root=t||Ys.EMPTY}insert(e,t){return new Ai(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(e){return new Ai(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ul(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ul(this.root,e,this.comparator,!1)}getReverseIterator(){return new ul(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ul(this.root,e,this.comparator,!0)}}class ul{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ys{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ys.RED,this.left=s??Ys.EMPTY,this.right=a??Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ys(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===a?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Ys.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zn();const e=this.left.check();if(e!==this.right.check())throw zn();return e+(this.isRed()?0:1)}}Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1,Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw zn()}get value(){throw zn()}get color(){throw zn()}get left(){throw zn()}get right(){throw zn()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ys(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class js{constructor(e){this.comparator=e,this.data=new Ai(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wc(this.data.getIterator())}getIteratorFrom(e){return new wc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(s,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new js(this.comparator);return t.data=e,t}}class wc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yo{constructor(e){this.fields=e,e.sort(qs.comparator)}static empty(){return new Yo([])}unionWith(e){let t=new js(qs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class _h extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _h("Invalid base64 string: "+a):a}}(e);return new Qo(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Qo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qo.EMPTY_BYTE_STRING=new Qo("");const Nu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(n){if(lr(!!n),"string"==typeof n){let e=0;const t=Nu.exec(n);if(lr(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Bo(n.seconds),nanos:Bo(n.nanos)}}function Bo(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ao(n){return"string"==typeof n?Qo.fromBase64String(n):Qo.fromUint8Array(n)}function bc(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function qc(n){const e=n.mapValue.fields.__previous_value__;return bc(e)?qc(e):e}function Cl(n){const e=Zo(n.mapValue.fields.__local_write_time__.timestampValue);return new Ki(e.seconds,e.nanos)}class Kc{constructor(e,t,r,s,a,c,_,b,O){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=_,this.longPollingOptions=b,this.useFetchStreams=O}}class Jo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jo&&e.projectId===this.projectId&&e.database===this.database}}const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bc(n)?4:Ud(n)?9007199254740991:10:zn()}function El(n,e){if(n===e)return!0;const t=jl(n);if(t!==jl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cl(n).isEqual(Cl(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Zo(s.timestampValue),_=Zo(a.timestampValue);return c.seconds===_.seconds&&c.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Ao(n.bytesValue).isEqual(Ao(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Bo(s.geoPointValue.latitude)===Bo(a.geoPointValue.latitude)&&Bo(s.geoPointValue.longitude)===Bo(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Bo(s.integerValue)===Bo(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=Bo(s.doubleValue),_=Bo(a.doubleValue);return c===_?pe(c)===pe(_):isNaN(c)&&isNaN(_)}return!1}(n,e);case 9:return Hc(n.arrayValue.values||[],e.arrayValue.values||[],El);case 10:return function(s,a){const c=s.mapValue.fields||{},_=a.mapValue.fields||{};if(Ju(c)!==Ju(_))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===_[b]||!El(c[b],_[b])))return!1;return!0}(n,e);default:return zn()}var a}function _d(n,e){return void 0!==(n.values||[]).find(t=>El(t,e))}function kc(n,e){if(n===e)return 0;const t=jl(n),r=jl(e);if(t!==r)return gr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return gr(n.booleanValue,e.booleanValue);case 2:return function(a,c){const _=Bo(a.integerValue||a.doubleValue),b=Bo(c.integerValue||c.doubleValue);return _<b?-1:_>b?1:_===b?0:isNaN(_)?isNaN(b)?0:-1:1}(n,e);case 3:return fu(n.timestampValue,e.timestampValue);case 4:return fu(Cl(n),Cl(e));case 5:return gr(n.stringValue,e.stringValue);case 6:return function(a,c){const _=Ao(a),b=Ao(c);return _.compareTo(b)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const _=a.split("/"),b=c.split("/");for(let O=0;O<_.length&&O<b.length;O++){const j=gr(_[O],b[O]);if(0!==j)return j}return gr(_.length,b.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const _=gr(Bo(a.latitude),Bo(c.latitude));return 0!==_?_:gr(Bo(a.longitude),Bo(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const _=a.values||[],b=c.values||[];for(let O=0;O<_.length&&O<b.length;++O){const j=kc(_[O],b[O]);if(j)return j}return gr(_.length,b.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===Ul.mapValue&&c===Ul.mapValue)return 0;if(a===Ul.mapValue)return 1;if(c===Ul.mapValue)return-1;const _=a.fields||{},b=Object.keys(_),O=c.fields||{},j=Object.keys(O);b.sort(),j.sort();for(let J=0;J<b.length&&J<j.length;++J){const Ee=gr(b[J],j[J]);if(0!==Ee)return Ee;const ke=kc(_[b[J]],O[j[J]]);if(0!==ke)return ke}return gr(b.length,j.length)}(n.mapValue,e.mapValue);default:throw zn()}}function fu(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return gr(n,e);const t=Zo(n),r=Zo(e),s=gr(t.seconds,r.seconds);return 0!==s?s:gr(t.nanos,r.nanos)}function cc(n){return Xu(n)}function Xu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Zo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ao(n.bytesValue).toBase64():"referenceValue"in n?ht.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Xu(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const c of r)a?a=!1:s+=",",s+=`${c}:${Xu(t.fields[c])}`;return s+"}"}(n.mapValue):zn()}function ed(n){return!!n&&"integerValue"in n}function Uo(n){return!!n&&"arrayValue"in n}function pu(n){return!!n&&"nullValue"in n}function td(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uc(n){return!!n&&"mapValue"in n}function yd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Co(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ud(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class B{constructor(e){this.value=e}static empty(){return new B({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(t)}setAll(e){let t=qs.emptyPath(),r={},s=[];e.forEach((c,_)=>{if(!t.isImmediateParentOf(_)){const b=this.getFieldsMap(t);this.applyChanges(b,r,s),r={},s=[],t=_.popLast()}c?r[_.lastSegment()]=yd(c):s.push(_.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return El(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];uc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Co(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new B(yd(this.value))}}class ae{constructor(e,t,r,s,a,c,_){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=c,this.documentState=_}static newInvalidDocument(e){return new ae(e,0,mr.min(),mr.min(),mr.min(),B.empty(),0)}static newFoundDocument(e,t,r,s){return new ae(e,1,t,mr.min(),r,s,0)}static newNoDocument(e,t){return new ae(e,2,t,mr.min(),mr.min(),B.empty(),0)}static newUnknownDocument(e,t){return new ae(e,3,t,mr.min(),mr.min(),B.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(mr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=B.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=B.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ae&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ae(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Re{constructor(e,t){this.position=e,this.inclusive=t}}function We(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],c=n.position[s];if(r=a.field.isKeyField()?ht.comparator(ht.fromName(c.referenceValue),t.key):kc(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function lt(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!El(n.position[t],e.position[t]))return!1;return!0}class Wt{constructor(e,t="asc"){this.field=e,this.dir=t}}function Zn(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Gn{}class vn extends Gn{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Fc(e,t,r):"array-contains"===t?new Du(e,r):"in"===t?new jd(e,r):"not-in"===t?new Fu(e,r):"array-contains-any"===t?new Lu(e,r):new vn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new rd(e,r):new dc(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kc(t,this.value)):null!==t&&jl(this.value)===jl(t)&&this.matchesComparison(kc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class sr extends Gn{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new sr(e,t)}matches(e){return kr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(t=>t.isInequality());return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function kr(n){return"and"===n.op}function jo(n){return function Rs(n){for(const e of n.filters)if(e instanceof sr)return!1;return!0}(n)&&kr(n)}function Zc(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+cc(n.value);if(jo(n))return n.filters.map(e=>Zc(e)).join(",");{const e=n.filters.map(t=>Zc(t)).join(",");return`${n.op}(${e})`}}function $l(n,e){return n instanceof vn?(r=n,(s=e)instanceof vn&&r.op===s.op&&r.field.isEqual(s.field)&&El(r.value,s.value)):n instanceof sr?function(r,s){return s instanceof sr&&r.op===s.op&&r.filters.length===s.filters.length&&r.filters.reduce((a,c,_)=>a&&$l(c,s.filters[_]),!0)}(n,e):void zn();var r,s}function ca(n){return n instanceof vn?`${(t=n).field.canonicalString()} ${t.op} ${cc(t.value)}`:n instanceof sr?function(t){return t.op.toString()+" {"+t.getFilters().map(ca).join(" ,")+"}"}(n):"Filter";var t}class Fc extends vn{constructor(e,t,r){super(e,t,r),this.key=ht.fromName(r.referenceValue)}matches(e){const t=ht.comparator(e.key,this.key);return this.matchesComparison(t)}}class rd extends vn{constructor(e,t){super(e,"in",t),this.keys=Lc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dc extends vn{constructor(e,t){super(e,"not-in",t),this.keys=Lc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Lc(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ht.fromName(r.referenceValue))}class Du extends vn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uo(t)&&_d(t.arrayValue,this.value)}}class jd extends vn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_d(this.value.arrayValue,t)}}class Fu extends vn{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_d(this.value.arrayValue,t)}}class Lu extends vn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_d(this.value.arrayValue,r))}}class Ro{constructor(e,t=null,r=[],s=[],a=null,c=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=c,this.endAt=_,this.he=null}}function Vu(n,e=null,t=[],r=[],s=null,a=null,c=null){return new Ro(n,e,t,r,s,a,c)}function hl(n){const e=yn(n);if(null===e.he){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Zc(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),ce(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cc(r)).join(",")),e.he=t}return e.he}function id(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Zn(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$l(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lt(n.startAt,e.startAt)&&lt(n.endAt,e.endAt)}function Al(n){return ht.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class E{constructor(e,t=null,r=[],s=[],a=null,c="F",_=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=c,this.startAt=_,this.endAt=b,this.Pe=null,this.Ie=null,this.de=null}}function U(n){return new E(n)}function de(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Pn(n){const e=yn(n);if(null===e.Pe){e.Pe=[];const t=function ft(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function Ie(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.Pe.push(new Wt(t)),e.Pe.push(new Wt(qs.keyField(),"asc"));else{let s=!1;for(const a of e.explicitOrderBy)e.Pe.push(a),a.field.isKeyField()&&(s=!0);if(!s){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Wt(qs.keyField(),a))}}}return e.Pe}function Fn(n){const e=yn(n);return e.Ie||(e.Ie=function xr(n,e){if("F"===n.limitType)return Vu(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>new Wt(s.field,"desc"===s.dir?"asc":"desc"));const t=n.endAt?new Re(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Re(n.startAt.position,n.startAt.inclusive):null;return Vu(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Pn(n))),e.Ie}function Ta(n,e,t){return new E(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fl(n,e){return id(Fn(n),Fn(e))&&n.limitType===e.limitType}function Cu(n){return`${hl(Fn(n))}|lt:${n.limitType}`}function Jc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>ca(s)).join(", ")}]`),ce(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>cc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>cc(s)).join(",")),`Target(${r})`}(Fn(n))}; limitType=${n.limitType})`}function Au(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ht.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Pn(r))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((r=n).startAt&&!function(c,_,b){const O=We(c,_,b);return c.inclusive?O<=0:O<0}(r.startAt,Pn(r),s)||r.endAt&&!function(c,_,b){const O=We(c,_,b);return c.inclusive?O>=0:O>0}(r.endAt,Pn(r),s)));var r,s}function sd(n){return(e,t)=>{let r=!1;for(const s of Pn(n)){const a=ec(s,e,t);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function ec(n,e,t){const r=n.field.isKeyField()?ht.comparator(e.key,t.key):function(a,c,_){const b=c.data.field(a),O=_.data.field(a);return null!==b&&null!==O?kc(b,O):zn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return zn()}}class Rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,a]of r)if(this.equalsFn(s,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return function Ec(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const Lh=new Ai(ht.comparator);function xl(){return Lh}const yh=new Ai(ht.comparator);function od(...n){let e=yh;for(const t of n)e=e.insert(t.key,t);return e}function $d(n){let e=yh;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xc(){return Gd()}function vd(){return Gd()}function Gd(){return new Rl(n=>n.toString(),(n,e)=>n.isEqual(e))}new Ai(ht.comparator);const Tp=new js(ht.comparator);function Zi(...n){let e=Tp;for(const t of n)e=e.add(t);return e}const Sp=new js(gr);class Bh{constructor(){this._=void 0}}function M_(n,e,t){return n instanceof ad?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&bc(a)&&(a=qc(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof zd?qg(n,e):n instanceof ld?Ef(n,e):function(s,a){const c=function Hd(n,e){return n instanceof mu?ed(r=e)||(a=r)&&"doubleValue"in a?e:{integerValue:0}:null;var r,a}(s,a),_=vh(c)+vh(s.Te);return ed(c)&&ed(s.Te)?function vf(n){return{integerValue:""+n}}(_):function Dp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pe(e)?"-0":e}}(s.serializer,_)}(n,e)}function Ed(n,e,t){return n instanceof zd?qg(n,e):n instanceof ld?Ef(n,e):t}class ad extends Bh{}class zd extends Bh{constructor(e){super(),this.elements=e}}function qg(n,e){const t=Cp(e);for(const r of n.elements)t.some(s=>El(s,r))||t.push(r);return{arrayValue:{values:t}}}class ld extends Bh{constructor(e){super(),this.elements=e}}function Ef(n,e){let t=Cp(e);for(const r of n.elements)t=t.filter(s=>!El(s,r));return{arrayValue:{values:t}}}class mu extends Bh{constructor(e,t){super(),this.serializer=e,this.Te=t}}function vh(n){return Bo(n.integerValue||n.doubleValue)}function Cp(n){return Uo(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xo}static exists(e){return new Xo(void 0,e)}static updateTime(e){return new Xo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Id{}function qd(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ud(n.key,Xo.none()):new cd(n.key,n.data,Xo.none());{const t=n.data,r=B.empty();let s=new js(qs.comparator);for(let a of e.fields)if(!s.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),s=s.add(a)}return new _u(n.key,r,new Yo(s.toArray()),Xo.none())}}function Kd(n,e,t){n instanceof cd?function(s,a,c){const _=s.value.clone(),b=xp(s.fieldTransforms,a,c.transformResults);_.setAll(b),a.convertToFoundDocument(c.version,_).setHasCommittedMutations()}(n,e,t):n instanceof _u?function(s,a,c){if(!Wd(s.precondition,a))return void a.convertToUnknownDocument(c.version);const _=xp(s.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(Rp(s)),b.setAll(_),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Yd(n,e,t,r){return n instanceof cd?function(a,c,_,b){if(!Wd(a.precondition,c))return _;const O=a.value.clone(),j=Op(a.fieldTransforms,b,c);return O.setAll(j),c.convertToFoundDocument(c.version,O).setHasLocalMutations(),null}(n,e,t,r):n instanceof _u?function(a,c,_,b){if(!Wd(a.precondition,c))return _;const O=Op(a.fieldTransforms,b,c),j=c.data;return j.setAll(Rp(a)),j.setAll(O),c.convertToFoundDocument(c.version,j).setHasLocalMutations(),null===_?null:_.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(J=>J.field))}(n,e,t,r):(_=t,Wd(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):_);var c,_}function Kg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===s||r&&s&&Hc(r,s,(a,c)=>function Ap(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(r=n.transform)instanceof zd&&s instanceof zd||r instanceof ld&&s instanceof ld?Hc(r.elements,s.elements,El):r instanceof mu&&s instanceof mu?El(r.Te,s.Te):r instanceof ad&&s instanceof ad);var r,s}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,s}class cd extends Id{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _u extends Id{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Rp(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xp(n,e,t){const r=new Map;lr(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],c=a.transform,_=e.data.field(a.field);r.set(a.field,Ed(c,_,t[s]))}return r}function Op(n,e,t){const r=new Map;for(const s of n){const a=s.transform,c=t.data.field(s.field);r.set(s.field,M_(a,c,e))}return r}class ud extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yg{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Kd(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=vd();return this.mutations.forEach(s=>{const a=e.get(s.key),c=a.overlayedDocument;let _=this.applyToLocalView(c,a.mutatedFields);_=t.has(s.key)?null:_;const b=qd(c,_);null!==b&&r.set(s.key,b),c.isValidDocument()||c.convertToNoDocument(mr.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zi())}isEqual(e){return this.batchId===e.batchId&&Hc(this.mutations,e.mutations,(t,r)=>Kg(t,r))&&Hc(this.baseMutations,e.baseMutations,(t,r)=>Kg(t,r))}}class p{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class I{constructor(e,t){this.count=e,this.unchangedNames=t}}var L,K;function De(n){if(void 0===n)return ci("GRPC error has no .code"),Pt.UNKNOWN;switch(n){case L.OK:return Pt.OK;case L.CANCELLED:return Pt.CANCELLED;case L.UNKNOWN:return Pt.UNKNOWN;case L.DEADLINE_EXCEEDED:return Pt.DEADLINE_EXCEEDED;case L.RESOURCE_EXHAUSTED:return Pt.RESOURCE_EXHAUSTED;case L.INTERNAL:return Pt.INTERNAL;case L.UNAVAILABLE:return Pt.UNAVAILABLE;case L.UNAUTHENTICATED:return Pt.UNAUTHENTICATED;case L.INVALID_ARGUMENT:return Pt.INVALID_ARGUMENT;case L.NOT_FOUND:return Pt.NOT_FOUND;case L.ALREADY_EXISTS:return Pt.ALREADY_EXISTS;case L.PERMISSION_DENIED:return Pt.PERMISSION_DENIED;case L.FAILED_PRECONDITION:return Pt.FAILED_PRECONDITION;case L.ABORTED:return Pt.ABORTED;case L.OUT_OF_RANGE:return Pt.OUT_OF_RANGE;case L.UNIMPLEMENTED:return Pt.UNIMPLEMENTED;case L.DATA_LOSS:return Pt.DATA_LOSS;default:return zn()}}(K=L||(L={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";const Jt=new xn([4294967295,4294967295],0);function Xt(n){const e=function Xe(){return new TextEncoder}().encode(n),t=new In;return t.update(e),new Uint8Array(t.digest())}function hn(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xn([t,r],0),new xn([s,a],0)]}class wr{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wr(`Invalid padding: ${t}`);if(r<0)throw new Wr(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Wr(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Wr(`Invalid padding when bitmap length is 0: ${t}`);this.Ae=8*e.length-t,this.Re=xn.fromNumber(this.Ae)}Ve(e,t,r){let s=e.add(t.multiply(xn.fromNumber(r)));return 1===s.compare(Jt)&&(s=new xn([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const t=Xt(e),[r,s]=hn(t);for(let a=0;a<this.hashCount;a++){const c=this.Ve(r,s,a);if(!this.me(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new wr(a,s,t);return r.forEach(_=>c.insert(_)),c}insert(e){if(0===this.Ae)return;const t=Xt(e),[r,s]=hn(t);for(let a=0;a<this.hashCount;a++){const c=this.Ve(r,s,a);this.fe(c)}}fe(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Wr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ps{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Wa.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ps(mr.min(),s,new Ai(gr),xl(),Zi())}}class Wa{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Wa(r,t,Zi(),Zi(),Zi())}}class Ru{constructor(e,t,r,s){this.ge=e,this.removedTargetIds=t,this.key=r,this.pe=s}}class Uh{constructor(e,t){this.targetId=e,this.ye=t}}class Td{constructor(e,t,r=Qo.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Qg{constructor(){this.we=0,this.Se=F_(),this.be=Qo.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=Zi(),t=Zi(),r=Zi();return this.Se.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:zn()}}),new Wa(this.be,this.De,e,t,r)}Oe(){this.Ce=!1,this.Se=F_()}Ne(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class N_{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=xl(),this.Ue=k_(),this.We=new Ai(gr)}Ge(e){for(const t of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(t,e.pe):this.je(t,e.key,e.pe);for(const t of e.removedTargetIds)this.je(t,e.key,e.pe)}He(e){this.forEachTarget(e,t=>{const r=this.Je(t);switch(e.state){case 0:this.Ye(t)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(t);break;case 3:this.Ye(t)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(t)&&(this.Ze(t),r.Me(e.resumeToken));break;default:zn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((r,s)=>{this.Ye(s)&&t(s)})}Xe(e){const t=e.targetId,r=e.ye.count,s=this.et(t);if(s){const a=s.target;if(Al(a))if(0===r){const c=new ht(a.path);this.je(t,c,ae.newNoDocument(c,mr.min()))}else lr(1===r);else{const c=this.tt(t);if(c!==r){const _=this.nt(e),b=_?this.rt(_,e,c):1;0!==b&&(this.Ze(t),this.We=this.We.insert(t,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(e){const t=e.ye.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let c,_;try{c=Ao(r).toUint8Array()}catch(b){if(b instanceof _h)return ki("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{_=new wr(c,s,a)}catch(b){return ki(b instanceof Wr?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return 0===_.Ae?null:_}rt(e,t,r){return t.ye.count===r-this.ot(e,t.targetId)?0:2}ot(e,t){const r=this.Qe.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const c=this.Qe.st(),_=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(_)||(this.je(t,a,null),s++)}),s}_t(e){const t=new Map;this.Ke.forEach((a,c)=>{const _=this.et(c);if(_){if(a.current&&Al(_.target)){const b=new ht(_.target.path);null!==this.$e.get(b)||this.ut(c,b)||this.je(c,b,ae.newNoDocument(b,e))}a.Fe&&(t.set(c,a.xe()),a.Oe())}});let r=Zi();this.Ue.forEach((a,c)=>{let _=!0;c.forEachWhile(b=>{const O=this.et(b);return!O||"TargetPurposeLimboResolution"===O.purpose||(_=!1,!1)}),_&&(r=r.add(a))}),this.$e.forEach((a,c)=>c.setReadTime(e));const s=new Ps(e,t,this.We,this.$e,r);return this.$e=xl(),this.Ue=k_(),this.We=new Ai(gr),s}ze(e,t){if(!this.Ye(e))return;const r=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,r),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}je(e,t,r){if(!this.Ye(e))return;const s=this.Je(e);this.ut(e,t)?s.Ne(t,1):s.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),r&&(this.$e=this.$e.insert(t,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let t=this.Ke.get(e);return t||(t=new Qg,this.Ke.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new js(gr),this.Ue=this.Ue.insert(e,t)),t}Ye(e){const t=null!==this.et(e);return t||Bt("WatchChangeAggregator","Detected inactive target",e),t}et(e){const t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new Qg),this.Qe.getRemoteKeysForTarget(e).forEach(t=>{this.je(e,t,null)})}ut(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}function k_(){return new Ai(ht.comparator)}function F_(){return new Ai(ht.comparator)}const R0={asc:"ASCENDING",desc:"DESCENDING"},wf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pp={and:"AND",or:"OR"};class x0{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Np(n,e){return n.useProto3Json||ce(e)?e:{value:e}}function pl(n){return lr(!!n),mr.fromTimestamp(function(t){const r=Zo(t);return new Ki(r.seconds,r.nanos)}(n))}function M0(n){const e=Yi.fromString(n);return lr(Fp(e)),e}function dd(n,e){const t=M0(e);if(t.get(1)!==n.databaseId.projectId)throw new dn(Pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new dn(Pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ht(P0(t))}function bf(n,e){return function L_(n,e){return(r=n,new Yi(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}(n.databaseId,e)}function jh(n){return new Yi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function P0(n){return lr(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function k0(n,e){return{documents:[bf(n,e.path)]}}function Sf(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=bf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(b){if(0!==b.length)return U_(sr.create(b,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(b){if(0!==b.length)return b.map(O=>{return{field:Bu((J=O).field),direction:em(J.dir)};var J})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=Np(n,e.limit);return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt=function(b){return{before:!b.inclusive,values:b.position}}(e.endAt)),t;var b}function F0(n){let e=function If(n){const e=M0(n);return 4===e.length?Yi.emptyPath():P0(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){lr(1===r);const j=t.from[0];j.allDescendants?s=j.collectionId:e=e.child(j.collectionId)}let a=[];t.where&&(a=function(J){const Ee=V_(J);return Ee instanceof sr&&jo(Ee)?Ee.getFilters():[Ee]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(Ee=>{return new Wt(Dd((bt=Ee).field),function(Gt){switch(Gt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(bt.direction));var bt}));let _=null;t.limit&&(_=function(J){let Ee;return Ee="object"==typeof J?J.value:J,ce(Ee)?null:Ee}(t.limit));let b=null;var J;t.startAt&&(b=new Re((J=t.startAt).values||[],!!J.before));let O=null;return t.endAt&&(O=function(J){return new Re(J.values||[],!J.before)}(t.endAt)),function C(n,e,t,r,s,a,c,_){return new E(n,e,t,r,s,a,c,_)}(e,s,c,a,_,"F",b,O)}function V_(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Dd(t.unaryFilter.field);return vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Dd(t.unaryFilter.field);return vn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Dd(t.unaryFilter.field);return vn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Dd(t.unaryFilter.field);return vn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return zn()}}(n):void 0!==n.fieldFilter?vn.create(Dd((t=n).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return sr.create(t.compositeFilter.filters.map(r=>V_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return zn()}}(t.compositeFilter.op))}(n):zn();var t}function em(n){return R0[n]}function B_(n){return wf[n]}function V0(n){return Pp[n]}function Bu(n){return{fieldPath:n.canonicalString()}}function Dd(n){return qs.fromServerFormat(n.fieldPath)}function U_(n){return n instanceof vn?function(t){if("=="===t.op){if(td(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NAN"}};if(pu(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(td(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NAN"}};if(pu(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(t.field),op:B_(t.op),value:t.value}}}(n):n instanceof sr?function(t){const r=t.getFilters().map(s=>U_(s));return 1===r.length?r[0]:{compositeFilter:{op:V0(t.op),filters:r}}}(n):zn()}function Fp(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Cd{constructor(e,t,r,s,a=mr.min(),c=mr.min(),_=Qo.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=_,this.expectedCount=b}withSequenceNumber(e){return new Cd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Df{constructor(e){this.ht=e}}function le(n){const e=F0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ta(e,e.limit,"L"):e}class ai{constructor(){}dt(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(Bo(e.integerValue));else if("doubleValue"in e){const r=Bo(e.doubleValue);isNaN(r)?this.At(t,13):(this.At(t,15),pe(r)?t.Rt(0):t.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt(`${r.seconds||""}`),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(Ao(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(t,45),t.Rt(r.latitude||0),t.Rt(r.longitude||0)}else"mapValue"in e?Ud(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):zn()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const r=e.fields||{};this.At(t,55);for(const s of Object.keys(r))this.ft(s,t),this.Tt(r[s],t)}bt(e,t){const r=e.values||[];this.At(t,50);for(const s of r)this.Tt(s,t)}wt(e,t){this.At(t,37),ht.fromName(e).path.forEach(r=>{this.At(t,60),this.Dt(r,t)})}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}ai.Ct=new ai;class Zd{constructor(){this.an=new Gh}addToCollectionParentIndex(e,t){return this.an.add(t),_t.resolve()}getCollectionParents(e,t){return _t.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return _t.resolve()}deleteFieldIndex(e,t){return _t.resolve()}deleteAllFieldIndexes(e){return _t.resolve()}createTargetIndexes(e,t){return _t.resolve()}getDocumentsMatchingTarget(e,t){return _t.resolve(null)}getIndexType(e,t){return _t.resolve(0)}getFieldIndexes(e,t){return _t.resolve([])}getNextCollectionGroupToUpdate(e){return _t.resolve(null)}getMinOffset(e,t){return _t.resolve(nl.min())}getMinOffsetFromCollectionGroup(e,t){return _t.resolve(nl.min())}updateCollectionGroup(e,t,r){return _t.resolve()}updateIndexEntries(e,t){return _t.resolve()}}class Gh{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new js(Yi.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new js(Yi.comparator)).toArray()}}new Uint8Array(0);class Hl{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Hl(e,Hl.DEFAULT_COLLECTION_PERCENTILE,Hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Hl.DEFAULT_COLLECTION_PERCENTILE=10,Hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hl.DEFAULT=new Hl(41943040,Hl.DEFAULT_COLLECTION_PERCENTILE,Hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hl.DISABLED=new Hl(-1,0,0);class xd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new xd(0)}static Ln(){return new xd(-1)}}class ZS{constructor(){this.changes=new Rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ae.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_t.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Bp{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Yd(r.mutation,s,Yo.empty(),Ki.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Zi()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Zi()){const s=Xc();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let c=od();return a.forEach((_,b)=>{c=c.insert(_,b.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Xc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Zi()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((c,_)=>{t.set(c,_)})})}computeViews(e,t,r,s){let a=xl();const c=Gd(),_=Gd();return t.forEach((b,O)=>{const j=r.get(O.key);s.has(O.key)&&(void 0===j||j.mutation instanceof _u)?a=a.insert(O.key,O):void 0!==j?(c.set(O.key,j.mutation.getFieldMask()),Yd(j.mutation,O,j.mutation.getFieldMask(),Ki.now())):c.set(O.key,Yo.empty())}),this.recalculateAndSaveOverlays(e,a).next(b=>(b.forEach((O,j)=>c.set(O,j)),t.forEach((O,j)=>{var J;return _.set(O,new gx(j,null!==(J=c.get(O))&&void 0!==J?J:null))}),_))}recalculateAndSaveOverlays(e,t){const r=Gd();let s=new Ai((c,_)=>c-_),a=Zi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const _ of c)_.keys().forEach(b=>{const O=t.get(b);if(null===O)return;let j=r.get(b)||Yo.empty();j=_.applyToLocalView(O,j),r.set(b,j);const J=(s.get(_.batchId)||Zi()).add(b);s=s.insert(_.batchId,J)})}).next(()=>{const c=[],_=s.getReverseIterator();for(;_.hasNext();){const b=_.getNext(),O=b.key,j=b.value,J=vd();j.forEach(Ee=>{if(!a.has(Ee)){const ke=qd(t.get(Ee),r.get(Ee));null!==ke&&J.set(Ee,ke),a=a.add(Ee)}}),c.push(this.documentOverlayCache.saveOverlays(e,O,J))}return _t.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return ht.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function zt(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s);var c}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const c=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):_t.resolve(Xc());let _=-1,b=a;return c.next(O=>_t.forEach(O,(j,J)=>(_<J.largestBatchId&&(_=J.largestBatchId),a.get(j)?_t.resolve():this.remoteDocumentCache.getEntry(e,j).next(Ee=>{b=b.insert(j,Ee)}))).next(()=>this.populateOverlays(e,O,a)).next(()=>this.computeViews(e,b,O,Zi())).next(j=>({batchId:_,changes:$d(j)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ht(t)).next(r=>{let s=od();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let c=od();return this.indexManager.getCollectionParents(e,a).next(_=>_t.forEach(_,b=>{const O=(J=t,Ee=b.child(a),new E(Ee,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,Ee;return this.getDocumentsMatchingCollectionQuery(e,O,r,s).next(j=>{j.forEach((J,Ee)=>{c=c.insert(J,Ee)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(c=>{a.forEach((b,O)=>{const j=O.getKey();null===c.get(j)&&(c=c.insert(j,ae.newInvalidDocument(j)))});let _=od();return c.forEach((b,O)=>{const j=a.get(b);void 0!==j&&Yd(j.mutation,O,Yo.empty(),Ki.now()),Au(t,O)&&(_=_.insert(b,O))}),_})}}class ea{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return _t.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,{id:(s=t).id,version:s.version,createTime:pl(s.createTime)}),_t.resolve();var s}getNamedQuery(e,t){return _t.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,{name:(s=t).name,query:le(s.bundledQuery),readTime:pl(s.readTime)}),_t.resolve();var s}}class im{constructor(){this.overlays=new Ai(ht.comparator),this.Pr=new Map}getOverlay(e,t){return _t.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xc();return _t.forEach(t,s=>this.getOverlay(e,s).next(a=>{null!==a&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.It(e,t,a)}),_t.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Pr.get(r);return void 0!==s&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Pr.delete(r)),_t.resolve()}getOverlaysForCollection(e,t,r){const s=Xc(),a=t.length+1,c=new ht(t.child("")),_=this.overlays.getIteratorFrom(c);for(;_.hasNext();){const b=_.getNext().value,O=b.getKey();if(!t.isPrefixOf(O.path))break;O.path.length===a&&b.largestBatchId>r&&s.set(b.getKey(),b)}return _t.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Ai((O,j)=>O-j);const c=this.overlays.getIterator();for(;c.hasNext();){const O=c.getNext().value;if(O.getKey().getCollectionGroup()===t&&O.largestBatchId>r){let j=a.get(O.largestBatchId);null===j&&(j=Xc(),a=a.insert(O.largestBatchId,j)),j.set(O.getKey(),O)}}const _=Xc(),b=a.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((O,j)=>_.set(O,j)),!(_.size()>=s)););return _t.resolve(_)}It(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const c=this.Pr.get(s.largestBatchId).delete(r.key);this.Pr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new p(t,r));let a=this.Pr.get(t);void 0===a&&(a=Zi(),this.Pr.set(t,a)),this.Pr.set(t,a.add(r.key))}}class H_{constructor(){this.Ir=new js(fc.dr),this.Tr=new js(fc.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){const r=new fc(e,t);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Rr(new fc(e,t))}Vr(e,t){e.forEach(r=>this.removeReference(r,t))}mr(e){const t=new ht(new Yi([])),r=new fc(t,e),s=new fc(t,e+1),a=[];return this.Tr.forEachInRange([r,s],c=>{this.Rr(c),a.push(c.key)}),a}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const t=new ht(new Yi([])),r=new fc(t,e),s=new fc(t,e+1);let a=Zi();return this.Tr.forEachInRange([r,s],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new fc(e,0),r=this.Ir.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class fc{constructor(e,t){this.key=e,this.yr=t}static dr(e,t){return ht.comparator(e.key,t.key)||gr(e.yr,t.yr)}static Er(e,t){return gr(e.yr,t.yr)||ht.comparator(e.key,t.key)}}class H0{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new js(fc.dr)}checkEmpty(e){return _t.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const a=this.wr;this.wr++;const c=new Yg(a,t,r,s);this.mutationQueue.push(c);for(const _ of s)this.Sr=this.Sr.add(new fc(_.key,a)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return _t.resolve(c)}lookupMutationBatch(e,t){return _t.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Dr(t+1),a=s<0?0:s;return _t.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return _t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fc(t,0),s=new fc(t,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,s],c=>{const _=this.br(c.yr);a.push(_)}),_t.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new js(gr);return t.forEach(s=>{const a=new fc(s,0),c=new fc(s,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([a,c],_=>{r=r.add(_.yr)})}),_t.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ht.isDocumentKey(a)||(a=a.child(""));const c=new fc(new ht(a),0);let _=new js(gr);return this.Sr.forEachWhile(b=>{const O=b.key.path;return!!r.isPrefixOf(O)&&(O.length===s&&(_=_.add(b.yr)),!0)},c),_t.resolve(this.Cr(_))}Cr(e){const t=[];return e.forEach(r=>{const s=this.br(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){lr(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Sr;return _t.forEach(t.mutations,s=>{const a=new fc(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,t){const r=new fc(t,0),s=this.Sr.firstAfterOrEqual(r);return _t.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return _t.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class zb{constructor(e){this.Fr=e,this.docs=new Ai(ht.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,c=this.Fr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _t.resolve(r?r.document.mutableCopy():ae.newInvalidDocument(t))}getEntries(e,t){let r=xl();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():ae.newInvalidDocument(s))}),_t.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=xl();const c=t.path,_=new ht(c.child("")),b=this.docs.getIteratorFrom(_);for(;b.hasNext();){const{key:O,value:{document:j}}=b.getNext();if(!c.isPrefixOf(O.path))break;O.path.length>c.length+1||Tu(vc(j),r)<=0||(s.has(j.key)||Au(t,j))&&(a=a.insert(j.key,j.mutableCopy()))}return _t.resolve(a)}getAllFromCollectionGroup(e,t,r,s){zn()}Mr(e,t){return _t.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eD(this)}getSize(e){return _t.resolve(this.size)}}class eD extends ZS{constructor(e){super(),this.ur=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.ur.addEntry(e,s)):this.ur.removeEntry(r)}),_t.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}}class Wb{constructor(e){this.persistence=e,this.Or=new Rl(t=>hl(t),id),this.lastRemoteSnapshotVersion=mr.min(),this.highestTargetId=0,this.Nr=0,this.Br=new H_,this.targetCount=0,this.Lr=xd.Bn()}forEachTarget(e,t){return this.Or.forEach((r,s)=>t(s)),_t.resolve()}getLastRemoteSnapshotVersion(e){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _t.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Nr&&(this.Nr=t),_t.resolve()}Qn(e){this.Or.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new xd(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,_t.resolve()}updateTargetData(e,t){return this.Qn(t),_t.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,_t.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Or.forEach((c,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.Or.delete(c),a.push(this.removeMatchingKeysForTargetId(e,_.targetId)),s++)}),_t.waitFor(a).next(()=>s)}getTargetCount(e){return _t.resolve(this.targetCount)}getTargetData(e,t){const r=this.Or.get(t)||null;return _t.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Ar(t,r),_t.resolve()}removeMatchingKeys(e,t,r){this.Br.Vr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(c=>{a.push(s.markPotentiallyOrphaned(e,c))}),_t.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.mr(t),_t.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.pr(t);return _t.resolve(r)}containsKey(e,t){return _t.resolve(this.Br.containsKey(t))}}class z_{constructor(e,t){this.kr={},this.overlays={},this.qr=new z(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Wb(this),this.indexManager=new Zd,this.remoteDocumentCache=new zb(r=>this.referenceDelegate.$r(r)),this.serializer=new Df(t),this.Ur=new ea(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new im,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.kr[e.toKey()];return r||(r=new H0(t,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,t,r){Bt("MemoryPersistence","Starting transaction:",e);const s=new W_(this.qr.next());return this.referenceDelegate.Wr(),r(s).next(a=>this.referenceDelegate.Gr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}zr(e,t){return _t.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,t)))}}class W_ extends yo{constructor(e){super(),this.currentSequenceNumber=e}}class z0{constructor(e){this.persistence=e,this.jr=new H_,this.Hr=null}static Jr(e){return new z0(e)}get Yr(){if(this.Hr)return this.Hr;throw zn()}addReference(e,t,r){return this.jr.addReference(r,t),this.Yr.delete(r.toString()),_t.resolve()}removeReference(e,t,r){return this.jr.removeReference(r,t),this.Yr.add(r.toString()),_t.resolve()}markPotentiallyOrphaned(e,t){return this.Yr.add(t.toString()),_t.resolve()}removeTarget(e,t){this.jr.mr(t.targetId).forEach(s=>this.Yr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.Yr.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Wr(){this.Hr=new Set}Gr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.Yr,r=>{const s=ht.fromPath(r);return this.Zr(e,s).next(a=>{a||t.removeEntry(s,mr.min())})}).next(()=>(this.Hr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zr(e,t).next(r=>{r?this.Yr.delete(t.toString()):this.Yr.add(t.toString())})}$r(e){return 0}Zr(e,t){return _t.or([()=>_t.resolve(this.jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zr(e,t)])}}class jp{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Qi=r,this.Ki=s}static $i(e,t){let r=Zi(),s=Zi();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new jp(e,t.fromCache,r,s)}}class nD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Z_{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Hi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Ji(e,t,s,r).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new nD;return this.Yi(e,t,c).next(_=>{if(a.result=_,this.Wi)return this.Zi(e,t,c,_.size)})}).next(()=>a.result)}Zi(e,t,r,s){return r.documentReadCount<this.Gi?(ps()<=Te.in.DEBUG&&Bt("QueryEngine","SDK will not create cache indexes for query:",Jc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),_t.resolve()):(ps()<=Te.in.DEBUG&&Bt("QueryEngine","Query:",Jc(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.zi*s?(ps()<=Te.in.DEBUG&&Bt("QueryEngine","The SDK decides to create cache indexes for query:",Jc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(t))):_t.resolve())}Hi(e,t){if(de(t))return _t.resolve(null);let r=Fn(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Ta(t,null,"F"),r=Fn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Zi(...a);return this.ji.getDocuments(e,c).next(_=>this.indexManager.getMinOffset(e,r).next(b=>{const O=this.Xi(t,_);return this.es(t,O,c,b.readTime)?this.Hi(e,Ta(t,null,"F")):this.ts(e,O,t,b)}))})))}Ji(e,t,r,s){return de(t)||s.isEqual(mr.min())?_t.resolve(null):this.ji.getDocuments(e,r).next(a=>{const c=this.Xi(t,a);return this.es(t,c,r,s)?_t.resolve(null):(ps()<=Te.in.DEBUG&&Bt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Jc(t)),this.ts(e,c,t,function Pc(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=mr.fromTimestamp(1e9===r?new Ki(t+1,0):new Ki(t,r));return new nl(s,ht.empty(),e)}(s,-1)).next(_=>_))})}Xi(e,t){let r=new js(sd(e));return t.forEach((s,a)=>{Au(e,a)&&(r=r.add(a))}),r}es(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Yi(e,t,r){return ps()<=Te.in.DEBUG&&Bt("QueryEngine","Using full collection scan to execute query:",Jc(t)),this.ji.getDocumentsMatchingQuery(e,t,nl.min(),r)}ts(e,t,r,s){return this.ji.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class J_{constructor(e,t,r,s){this.persistence=e,this.ns=t,this.serializer=s,this.rs=new Ai(gr),this.ss=new Rl(a=>hl(a),id),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bp(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.rs))}}function om(n,e){return am.apply(this,arguments)}function am(){return am=(0,Ae.Z)(function*(n,e){const t=yn(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.us(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],_=[];let b=Zi();for(const O of s){c.push(O.batchId);for(const j of O.mutations)b=b.add(j.key)}for(const O of a){_.push(O.batchId);for(const j of O.mutations)b=b.add(j.key)}return t.localDocuments.getDocuments(r,b).next(O=>({cs:O,removedBatchIds:c,addedBatchIds:_}))})})}),am.apply(this,arguments)}function qb(n){const e=yn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Kr.getLastRemoteSnapshotVersion(t))}function Gp(n,e,t){return lm.apply(this,arguments)}function lm(){return lm=(0,Ae.Z)(function*(n,e,t){const r=yn(n),s=r.rs.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!F(c))throw c;Bt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.rs=r.rs.remove(e),r.ss.delete(s.target)}),lm.apply(this,arguments)}function cm(n,e,t){const r=yn(n);let s=mr.min(),a=Zi();return r.persistence.runTransaction("Execute query","readwrite",c=>function(b,O,j){const J=yn(b),Ee=J.ss.get(j);return void 0!==Ee?_t.resolve(J.rs.get(Ee)):J.Kr.getTargetData(O,j)}(r,c,Fn(e)).next(_=>{if(_)return s=_.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(c,_.targetId).next(b=>{a=b})}).next(()=>r.ns.getDocumentsMatchingQuery(c,e,t?s:mr.min(),t?a:Zi())).next(_=>(function X_(n,e,t){let r=n.os.get(e)||mr.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.os.set(e,r)}(r,function Tc(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),_),{documents:_,Ps:a})))}class um{constructor(){this.activeTargetIds=function yf(){return Sp}()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wp{constructor(){this.ro=new um,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,t,r){this.io[e]=t}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new um,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ty{so(e){}shutdown(){}}class Vf{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){Bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){Bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qp=null;function hm(){return null===qp?qp=268435456+Math.round(2147483648*Math.random()):qp++,"0x"+qp.toString(16)}const ny={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _x{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const Sc="WebChannelConnection";class fm extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${s}/databases/${a}`,this.wo="(default)"===this.databaseId.database?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get So(){return!1}bo(t,r,s,a,c){const _=hm(),b=this.Do(t,r);Bt("RestConnection",`Sending RPC '${t}' ${_}:`,b,s);const O={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(O,a,c),this.vo(t,b,O,s).then(j=>(Bt("RestConnection",`Received RPC '${t}' ${_}: `,j),j),j=>{throw ki("RestConnection",`RPC '${t}' ${_} failed with error: `,j,"url: ",b,"request:",s),j})}Fo(t,r,s,a,c,_){return this.bo(t,r,s,a,c)}Co(t,r,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+Sr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,c)=>t[c]=a),s&&s.headers.forEach((a,c)=>t[c]=a)}Do(t,r){return`${this.po}/v1/${r}:${ny[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const a=hm();return new Promise((c,_)=>{const b=new Ot;b.setWithCredentials(!0),b.listenOnce(_e.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case he.NO_ERROR:const j=b.getResponseJson();Bt(Sc,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(j)),c(j);break;case he.TIMEOUT:Bt(Sc,`RPC '${e}' ${a} timed out`),_(new dn(Pt.DEADLINE_EXCEEDED,"Request time out"));break;case he.HTTP_ERROR:const J=b.getStatus();if(Bt(Sc,`RPC '${e}' ${a} failed with status:`,J,"response text:",b.getResponseText()),J>0){let Ee=b.getResponseJson();Array.isArray(Ee)&&(Ee=Ee[0]);const ke=Ee?.error;if(ke&&ke.status&&ke.message){const bt=function(Gt){const $n=Gt.toLowerCase().replace(/_/g,"-");return Object.values(Pt).indexOf($n)>=0?$n:Pt.UNKNOWN}(ke.status);_(new dn(bt,ke.message))}else _(new dn(Pt.UNKNOWN,"Server responded with status "+b.getStatus()))}else _(new dn(Pt.UNAVAILABLE,"Connection failed."));break;default:zn()}}finally{Bt(Sc,`RPC '${e}' ${a} completed.`)}});const O=JSON.stringify(s);Bt(Sc,`RPC '${e}' ${a} sending request:`,s),b.send(t,"POST",O,r,15)})}Mo(e,t,r){const s=hm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$(),_=re(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},O=this.longPollingOptions.timeoutSeconds;void 0!==O&&(b.longPollingTimeout=Math.round(1e3*O)),this.useFetchStreams&&(b.useFetchStreams=!0),this.Co(b.initMessageHeaders,t,r),b.encodeInitMessageHeaders=!0;const j=a.join("");Bt(Sc,`Creating RPC '${e}' stream ${s}: ${j}`,b);const J=c.createWebChannel(j,b);let Ee=!1,ke=!1;const bt=new _x({ho:Gt=>{ke?Bt(Sc,`Not sending because RPC '${e}' stream ${s} is closed:`,Gt):(Ee||(Bt(Sc,`Opening RPC '${e}' stream ${s} transport.`),J.open(),Ee=!0),Bt(Sc,`RPC '${e}' stream ${s} sending:`,Gt),J.send(Gt))},Po:()=>J.close()}),jt=(Gt,$n,rr)=>{Gt.listen($n,Jn=>{try{rr(Jn)}catch(fi){setTimeout(()=>{throw fi},0)}})};return jt(J,xt.EventType.OPEN,()=>{ke||Bt(Sc,`RPC '${e}' stream ${s} transport opened.`)}),jt(J,xt.EventType.CLOSE,()=>{ke||(ke=!0,Bt(Sc,`RPC '${e}' stream ${s} transport closed`),bt.mo())}),jt(J,xt.EventType.ERROR,Gt=>{ke||(ke=!0,ki(Sc,`RPC '${e}' stream ${s} transport errored:`,Gt),bt.mo(new dn(Pt.UNAVAILABLE,"The operation could not be completed")))}),jt(J,xt.EventType.MESSAGE,Gt=>{var $n;if(!ke){const rr=Gt.data[0];lr(!!rr);const fi=rr.error||(null===($n=rr[0])||void 0===$n?void 0:$n.error);if(fi){Bt(Sc,`RPC '${e}' stream ${s} received error:`,fi);const Hi=fi.status;let pi=function(QS){const nP=L[QS];if(void 0!==nP)return De(nP)}(Hi),ta=fi.message;void 0===pi&&(pi=Pt.INTERNAL,ta="Unknown error status: "+Hi+" with message "+fi.message),ke=!0,bt.mo(new dn(pi,ta)),J.close()}else Bt(Sc,`RPC '${e}' stream ${s} received:`,rr),bt.fo(rr)}}),jt(_,Ce.STAT_EVENT,Gt=>{Gt.stat===Ke.PROXY?Bt(Sc,`RPC '${e}' stream ${s} detected buffering proxy`):Gt.stat===Ke.NOPROXY&&Bt(Sc,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{bt.Vo()},0),bt}}function pm(){return typeof document<"u"?document:null}function gm(n){return new x0(n,!0)}class Y0{constructor(e,t,r=1e3,s=1.5,a=6e4){this._i=e,this.timerId=t,this.xo=r,this.Oo=s,this.No=a,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const t=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),s=Math.max(0,t-r);s>0&&Bt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,s,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class Q0{constructor(e,t,r,s,a,c,_,b){this._i=e,this.Uo=r,this.Wo=s,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=_,this.listener=b,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new Y0(e,t)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var e=this;return(0,Ae.Z)(function*(){e.Jo()&&(yield e.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}t_(){var e=this;return(0,Ae.Z)(function*(){if(e.Yo())return e.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(e,t){var r=this;return(0,Ae.Z)(function*(){r.r_(),r.i_(),r.Ho.cancel(),r.Go++,4!==e?r.Ho.reset():t&&t.code===Pt.RESOURCE_EXHAUSTED?(ci(t.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),r.Ho.qo()):t&&t.code===Pt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.s_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(t)})()}s_(){}auth(){this.state=1;const e=this.o_(this.Go),t=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Go===t&&this.__(r,s)},r=>{e(()=>{const s=new dn(Pt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(s)})})}__(e,t){const r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(s=>{r(()=>this.a_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Zo(){var e=this;this.state=5,this.Ho.Qo((0,Ae.Z)(function*(){e.state=0,e.start()}))}a_(e){return Bt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return t=>{this._i.enqueueAndForget(()=>this.Go===e?t():(Bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zb extends Q0{constructor(e,t,r,s,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=a}u_(e,t){return this.connection.Mo("Listen",e,t)}onMessage(e){this.Ho.reset();const t=function $h(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:zn(),s=e.targetChange.targetIds||[],a=function(O,j){return O.useProto3Json?(lr(void 0===j||"string"==typeof j),Qo.fromBase64String(j||"")):(lr(void 0===j||j instanceof Uint8Array),Qo.fromUint8Array(j||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,_=c&&function(O){const j=void 0===O.code?Pt.UNKNOWN:De(O.code);return new dn(j,O.message||"")}(c);t=new Td(r,s,a,_||null)}else if("documentChange"in e){const r=e.documentChange,s=dd(n,r.document.name),a=pl(r.document.updateTime),c=r.document.createTime?pl(r.document.createTime):mr.min(),_=new B({mapValue:{fields:r.document.fields}}),b=ae.newFoundDocument(s,a,c,_);t=new Ru(r.targetIds||[],r.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const r=e.documentDelete,s=dd(n,r.document),a=r.readTime?pl(r.readTime):mr.min(),c=ae.newNoDocument(s,a);t=new Ru([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,s=dd(n,r.document);t=new Ru([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return zn();{const r=e.filter,{count:s=0,unchangedNames:a}=r,c=new I(s,a);t=new Uh(r.targetId,c)}}var O;return t}(this.serializer,e),r=function(a){if(!("targetChange"in a))return mr.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?mr.min():c.readTime?pl(c.readTime):mr.min()}(e);return this.listener.c_(t,r)}l_(e){const t={};t.database=jh(this.serializer),t.addTarget=function(a,c){let _;const b=c.target;if(_=Al(b)?{documents:k0(a,b)}:{query:Sf(a,b)},_.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){_.resumeToken=function O0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}(a,c.resumeToken);const O=Np(a,c.expectedCount);null!==O&&(_.expectedCount=O)}else if(c.snapshotVersion.compareTo(mr.min())>0){_.readTime=function Sd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(a,c.snapshotVersion.toTimestamp());const O=Np(a,c.expectedCount);null!==O&&(_.expectedCount=O)}return _}(this.serializer,e);const r=function L0(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.n_(t)}h_(e){const t={};t.database=jh(this.serializer),t.removeTarget=e,this.n_(t)}}class cD extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.R_=!1}V_(){if(this.R_)throw new dn(Pt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.bo(e,t,r,s,a)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new dn(Pt.UNKNOWN,s.toString())})}Fo(e,t,r,s){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Fo(e,t,r,a,c,s)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new dn(Pt.UNKNOWN,a.toString())})}terminate(){this.R_=!0}}class ry{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(ci(t),this.p_=!1):Bt("OnlineStateTracker",t)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class J0{constructor(e,t,r,s,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=a,this.x_.so(_=>{r.enqueueAndForget((0,Ae.Z)(function*(){var b;Pd(c)&&(Bt("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,Ae.Z)(function*(j){const J=yn(j);J.F_.add(4),yield Yh(J),J.O_.set("Unknown"),J.F_.delete(4),yield mm(J)}),function O(j){return b.apply(this,arguments)})(c))}))}),this.O_=new ry(r,s)}}function mm(n){return iy.apply(this,arguments)}function iy(){return iy=(0,Ae.Z)(function*(n){if(Pd(n))for(const e of n.M_)yield e(!0)}),iy.apply(this,arguments)}function Yh(n){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,Ae.Z)(function*(n){for(const e of n.M_)yield e(!1)}),Kp.apply(this,arguments)}function sy(n,e){const t=yn(n);t.v_.has(e.targetId)||(t.v_.set(e.targetId,e),tE(t)?Jb(t):ju(t).Yo()&&X0(t,e))}function Yp(n,e){const t=yn(n),r=ju(t);t.v_.delete(e),r.Yo()&&eE(t,e),0===t.v_.size&&(r.Yo()?r.e_():Pd(t)&&t.O_.set("Unknown"))}function X0(n,e){if(n.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mr.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ju(n).l_(e)}function eE(n,e){n.N_.Le(e),ju(n).h_(e)}function Jb(n){n.N_=new N_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.v_.get(e)||null,st:()=>n.datastore.serializer.databaseId}),ju(n).start(),n.O_.y_()}function tE(n){return Pd(n)&&!ju(n).Jo()&&n.v_.size>0}function Pd(n){return 0===yn(n).F_.size}function Xb(n){n.N_=void 0}function Qp(n){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,Ae.Z)(function*(n){n.v_.forEach((e,t)=>{X0(n,e)})}),Bf.apply(this,arguments)}function uD(n,e){return oy.apply(this,arguments)}function oy(){return oy=(0,Ae.Z)(function*(n,e){Xb(n),tE(n)?(n.O_.b_(e),Jb(n)):n.O_.set("Unknown")}),oy.apply(this,arguments)}function dD(n,e,t){return nE.apply(this,arguments)}function nE(){return nE=(0,Ae.Z)(function*(n,e,t){if(n.O_.set("Online"),e instanceof Td&&2===e.state&&e.cause)try{yield(r=(0,Ae.Z)(function*(a,c){const _=c.cause;for(const b of c.targetIds)a.v_.has(b)&&(yield a.remoteSyncer.rejectListen(b,_),a.v_.delete(b),a.N_.removeTarget(b))}),function s(a,c){return r.apply(this,arguments)})(n,e)}catch(r){Bt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ay(n,r)}else if(e instanceof Ru?n.N_.Ge(e):e instanceof Uh?n.N_.Xe(e):n.N_.He(e),!t.isEqual(mr.min()))try{const r=yield qb(n.localStore);t.compareTo(r)>=0&&(yield function(a,c){const _=a.N_._t(c);return _.targetChanges.forEach((b,O)=>{if(b.resumeToken.approximateByteSize()>0){const j=a.v_.get(O);j&&a.v_.set(O,j.withResumeToken(b.resumeToken,c))}}),_.targetMismatches.forEach((b,O)=>{const j=a.v_.get(b);if(!j)return;a.v_.set(b,j.withResumeToken(Qo.EMPTY_BYTE_STRING,j.snapshotVersion)),eE(a,b);const J=new Cd(j.target,b,O,j.sequenceNumber);X0(a,J)}),a.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(r){Bt("RemoteStore","Failed to raise snapshot:",r),yield ay(n,r)}var r}),nE.apply(this,arguments)}function ay(n,e,t){return ly.apply(this,arguments)}function ly(){return ly=(0,Ae.Z)(function*(n,e,t){if(!F(e))throw e;n.F_.add(1),yield Yh(n),n.O_.set("Offline"),t||(t=()=>qb(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){Bt("RemoteStore","Retrying IndexedDB access"),yield t(),n.F_.delete(1),yield mm(n)}))}),ly.apply(this,arguments)}function fd(n,e){return uy.apply(this,arguments)}function uy(){return uy=(0,Ae.Z)(function*(n,e){const t=yn(n);t.asyncQueue.verifyOperationInProgress(),Bt("RemoteStore","RemoteStore received new credentials");const r=Pd(t);t.F_.add(3),yield Yh(t),r&&t.O_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.F_.delete(3),yield mm(t)}),uy.apply(this,arguments)}function _m(){return _m=(0,Ae.Z)(function*(n,e){const t=yn(n);e?(t.F_.delete(2),yield mm(t)):e||(t.F_.add(2),yield Yh(t),t.O_.set("Unknown"))}),_m.apply(this,arguments)}function ju(n){return n.B_||(n.B_=function(t,r,s){const a=yn(t);return a.V_(),new Zb(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Io:Qp.bind(null,n),Eo:uD.bind(null,n),c_:dD.bind(null,n)}),n.M_.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.B_.Xo(),tE(n)?Jb(n):n.O_.set("Unknown")):(yield n.B_.stop(),Xb(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}class aE{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new So,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const c=Date.now()+r,_=new aE(e,t,c,s,a);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dn(Pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ym(n,e){if(ci("AsyncQueue",`${e}: ${n}`),F(n))return new dn(Pt.UNAVAILABLE,`${e}: ${n}`);throw n}class Zp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ht.comparator(t.key,r.key):(t,r)=>ht.comparator(t.key,r.key),this.keyedMap=od(),this.sortedSet=new Ai(this.comparator)}static emptySet(e){return new Zp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Zp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dy{constructor(){this.k_=new Ai(ht.comparator)}track(e){const t=e.doc.key,r=this.k_.get(t);r?0!==e.type&&3===r.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==r.type?this.k_=this.k_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.k_=this.k_.remove(t):1===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):zn():this.k_=this.k_.insert(t,e)}q_(){const e=[];return this.k_.inorderTraversal((t,r)=>{e.push(r)}),e}}class yu{constructor(e,t,r,s,a,c,_,b,O){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=_,this.excludesMetadataChanges=b,this.hasCachedResults=O}static fromInitialDocuments(e,t,r,s,a){const c=[];return t.forEach(_=>{c.push({type:0,doc:_})}),new yu(e,t,Zp.emptySet(t),c,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class cI{constructor(){this.Q_=void 0,this.listeners=[]}}class fD{constructor(){this.queries=new Rl(e=>Cu(e),fl),this.onlineState="Unknown",this.K_=new Set}}function nc(){return nc=(0,Ae.Z)(function*(n,e){const t=yn(n),r=e.query;let s=!1,a=t.queries.get(r);if(a||(s=!0,a=new cI),s)try{a.Q_=yield t.onListen(r)}catch(c){const _=ym(c,`Initialization of query '${Jc(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,a),a.listeners.push(e),e.U_(t.onlineState),a.Q_&&e.W_(a.Q_)&&Em(t)}),nc.apply(this,arguments)}function vm(){return vm=(0,Ae.Z)(function*(n,e){const t=yn(n),r=e.query;let s=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),s=0===a.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),vm.apply(this,arguments)}function pD(n,e){const t=yn(n);let r=!1;for(const s of e){const c=t.queries.get(s.query);if(c){for(const _ of c.listeners)_.W_(s)&&(r=!0);c.Q_=s}}r&&Em(t)}function gD(n,e,t){const r=yn(n),s=r.queries.get(e);if(s)for(const a of s.listeners)a.onError(t);r.queries.delete(e)}function Em(n){n.K_.forEach(e=>{e.next()})}class hy{constructor(e,t,r){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){return!e.fromCache||(!this.options.Z_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class pI{constructor(e){this.key=e}}class gI{constructor(e){this.key=e}}class mI{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Zi(),this.mutatedKeys=Zi(),this.ua=sd(e),this.ca=new Zp(this.ua)}get la(){return this.oa}ha(e,t){const r=t?t.Pa:new dy,s=t?t.ca:this.ca;let a=t?t.mutatedKeys:this.mutatedKeys,c=s,_=!1;const b="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,O="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((j,J)=>{const Ee=s.get(j),ke=Au(this.query,J)?J:null,bt=!!Ee&&this.mutatedKeys.has(Ee.key),jt=!!ke&&(ke.hasLocalMutations||this.mutatedKeys.has(ke.key)&&ke.hasCommittedMutations);let Gt=!1;Ee&&ke?Ee.data.isEqual(ke.data)?bt!==jt&&(r.track({type:3,doc:ke}),Gt=!0):this.Ia(Ee,ke)||(r.track({type:2,doc:ke}),Gt=!0,(b&&this.ua(ke,b)>0||O&&this.ua(ke,O)<0)&&(_=!0)):!Ee&&ke?(r.track({type:0,doc:ke}),Gt=!0):Ee&&!ke&&(r.track({type:1,doc:Ee}),Gt=!0,(b||O)&&(_=!0)),Gt&&(ke?(c=c.add(ke),a=jt?a.add(j):a.delete(j)):(c=c.delete(j),a=a.delete(j)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const j="F"===this.query.limitType?c.last():c.first();c=c.delete(j.key),a=a.delete(j.key),r.track({type:1,doc:j})}return{ca:c,Pa:r,es:_,mutatedKeys:a}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const a=e.Pa.q_();a.sort((O,j)=>function(Ee,ke){const bt=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zn()}};return bt(Ee)-bt(ke)}(O.type,j.type)||this.ua(O.doc,j.doc)),this.da(r);const c=t?this.Ta():[],_=0===this.aa.size&&this.current?1:0,b=_!==this._a;return this._a=_,0!==a.length||b?{snapshot:new yu(this.query,e.ca,s,a,e.mutatedKeys,0===_,b,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:c}:{Ea:c}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new dy,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(t=>this.oa=this.oa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.oa=this.oa.delete(t)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=Zi(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const t=[];return e.forEach(r=>{this.aa.has(r)||t.push(new gI(r))}),this.aa.forEach(r=>{e.has(r)||t.push(new pI(r))}),t}Ra(e){this.oa=e.Ps,this.aa=Zi();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return yu.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class _I{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Jp{constructor(e){this.key=e,this.ma=!1}}class wh{constructor(e,t,r,s,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.fa={},this.ga=new Rl(_=>Cu(_),fl),this.pa=new Map,this.ya=new Set,this.wa=new Ai(ht.comparator),this.Sa=new Map,this.ba=new H_,this.Da={},this.Ca=new Map,this.va=xd.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function Xp(n,e){return uE.apply(this,arguments)}function uE(){return uE=(0,Ae.Z)(function*(n,e){const t=function EE(n){const e=yn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mD.bind(null,e),e.fa.c_=pD.bind(null,e.eventManager),e.fa.xa=gD.bind(null,e.eventManager),e}(n);let r,s;const a=t.ga.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),s=a.view.Va();else{const c=yield function $p(n,e){const t=yn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Kr.getTargetData(r,e).next(a=>a?(s=a,_t.resolve(s)):t.Kr.allocateTargetId(r).next(c=>(s=new Cd(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Kr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.rs.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.rs=t.rs.insert(r.targetId,r),t.ss.set(e,r.targetId)),r})}(t.localStore,Fn(e)),_=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=yield function dE(n,e,t,r,s){return fy.apply(this,arguments)}(t,e,r,"current"===_,c.resumeToken),t.isPrimaryClient&&sy(t.remoteStore,c)}return s}),uE.apply(this,arguments)}function fy(){return fy=(0,Ae.Z)(function*(n,e,t,r,s){n.Ma=(J,Ee,ke)=>{return(bt=(0,Ae.Z)(function*(Gt,$n,rr,Jn){let fi=$n.view.ha(rr);fi.es&&(fi=yield cm(Gt.localStore,$n.query,!1).then(({documents:ta})=>$n.view.ha(ta,fi)));const Hi=Jn&&Jn.targetChanges.get($n.targetId),pi=$n.view.applyChanges(fi,Gt.isPrimaryClient,Hi);return wI(Gt,$n.targetId,pi.Ea),pi.snapshot}),function jt(Gt,$n,rr,Jn){return bt.apply(this,arguments)})(n,J,Ee,ke);var bt};const a=yield cm(n.localStore,e,!0),c=new mI(e,a.Ps),_=c.ha(a.documents),b=Wa.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),O=c.applyChanges(_,n.isPrimaryClient,b);wI(n,t,O.Ea);const j=new _I(e,t,c);return n.ga.set(e,j),n.pa.has(t)?n.pa.get(t).push(e):n.pa.set(t,[e]),O.snapshot}),fy.apply(this,arguments)}function yI(n,e){return wm.apply(this,arguments)}function wm(){return wm=(0,Ae.Z)(function*(n,e){const t=yn(n),r=t.ga.get(e),s=t.pa.get(r.targetId);if(s.length>1)return t.pa.set(r.targetId,s.filter(a=>!fl(a,e))),void t.ga.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Gp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Yp(t.remoteStore,r.targetId),Im(t,r.targetId)}).catch(vo))):(Im(t,r.targetId),yield Gp(t.localStore,r.targetId,!0))}),wm.apply(this,arguments)}function hE(n,e){return py.apply(this,arguments)}function py(){return py=(0,Ae.Z)(function*(n,e){const t=yn(n);try{const r=yield function Kb(n,e){const t=yn(n),r=e.snapshotVersion;let s=t.rs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t._s.newChangeBuffer({trackRemovals:!0});s=t.rs;const _=[];e.targetChanges.forEach((j,J)=>{const Ee=s.get(J);if(!Ee)return;_.push(t.Kr.removeMatchingKeys(a,j.removedDocuments,J).next(()=>t.Kr.addMatchingKeys(a,j.addedDocuments,J)));let ke=Ee.withSequenceNumber(a.currentSequenceNumber);var jt,Gt,$n;null!==e.targetMismatches.get(J)?ke=ke.withResumeToken(Qo.EMPTY_BYTE_STRING,mr.min()).withLastLimboFreeSnapshotVersion(mr.min()):j.resumeToken.approximateByteSize()>0&&(ke=ke.withResumeToken(j.resumeToken,r)),s=s.insert(J,ke),Gt=ke,$n=j,(0===(jt=Ee).resumeToken.approximateByteSize()||Gt.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||$n.addedDocuments.size+$n.modifiedDocuments.size+$n.removedDocuments.size>0)&&_.push(t.Kr.updateTargetData(a,ke))});let b=xl(),O=Zi();if(e.documentUpdates.forEach(j=>{e.resolvedLimboDocuments.has(j)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(a,j))}),_.push(function Ff(n,e,t){let r=Zi(),s=Zi();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=xl();return t.forEach((_,b)=>{const O=a.get(_);b.isFoundDocument()!==O.isFoundDocument()&&(s=s.add(_)),b.isNoDocument()&&b.version.isEqual(mr.min())?(e.removeEntry(_,b.readTime),c=c.insert(_,b)):!O.isValidDocument()||b.version.compareTo(O.version)>0||0===b.version.compareTo(O.version)&&O.hasPendingWrites?(e.addEntry(b),c=c.insert(_,b)):Bt("LocalStore","Ignoring outdated watch update for ",_,". Current version:",O.version," Watch version:",b.version)}),{ls:c,hs:s}})}(a,c,e.documentUpdates).next(j=>{b=j.ls,O=j.hs})),!r.isEqual(mr.min())){const j=t.Kr.getLastRemoteSnapshotVersion(a).next(J=>t.Kr.setTargetsMetadata(a,a.currentSequenceNumber,r));_.push(j)}return _t.waitFor(_).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,b,O)).next(()=>b)}).then(a=>(t.rs=s,a))}(t.localStore,e);e.targetChanges.forEach((s,a)=>{const c=t.Sa.get(a);c&&(lr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.ma=!0:s.modifiedDocuments.size>0?lr(c.ma):s.removedDocuments.size>0&&(lr(c.ma),c.ma=!1))}),yield bh(t,r,e)}catch(r){yield vo(r)}}),py.apply(this,arguments)}function vI(n,e,t){const r=yn(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ga.forEach((a,c)=>{const _=c.view.U_(e);_.snapshot&&s.push(_.snapshot)}),function(c,_){const b=yn(c);b.onlineState=_;let O=!1;b.queries.forEach((j,J)=>{for(const Ee of J.listeners)Ee.U_(_)&&(O=!0)}),O&&Em(b)}(r.eventManager,e),s.length&&r.fa.c_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mD(n,e,t){return fE.apply(this,arguments)}function fE(){return fE=(0,Ae.Z)(function*(n,e,t){const r=yn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Sa.get(e),a=s&&s.key;if(a){let c=new Ai(ht.comparator);c=c.insert(a,ae.newNoDocument(a,mr.min()));const _=Zi().add(a),b=new Ps(mr.min(),new Map,new Ai(gr),c,_);yield hE(r,b),r.wa=r.wa.remove(a),r.Sa.delete(e),yy(r)}else yield Gp(r.localStore,e,!1).then(()=>Im(r,e,t)).catch(vo)}),fE.apply(this,arguments)}function Im(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.pa.get(e))n.ga.delete(r),t&&n.fa.xa(r,t);n.pa.delete(e),n.isPrimaryClient&&n.ba.mr(e).forEach(r=>{n.ba.containsKey(r)||Tm(n,r)})}function Tm(n,e){n.ya.delete(e.path.canonicalString());const t=n.wa.get(e);null!==t&&(Yp(n.remoteStore,t),n.wa=n.wa.remove(e),n.Sa.delete(t),yy(n))}function wI(n,e,t){for(const r of t)r instanceof pI?(n.ba.addReference(r.key,e),bI(n,r)):r instanceof gI?(Bt("SyncEngine","Document no longer in limbo: "+r.key),n.ba.removeReference(r.key,e),n.ba.containsKey(r.key)||Tm(n,r.key)):zn()}function bI(n,e){const t=e.key,r=t.path.canonicalString();n.wa.get(t)||n.ya.has(r)||(Bt("SyncEngine","New document in limbo: "+t),n.ya.add(r),yy(n))}function yy(n){for(;n.ya.size>0&&n.wa.size<n.maxConcurrentLimboResolutions;){const e=n.ya.values().next().value;n.ya.delete(e);const t=new ht(Yi.fromString(e)),r=n.va.next();n.Sa.set(r,new Jp(t)),n.wa=n.wa.insert(t,r),sy(n.remoteStore,new Cd(Fn(U(t.path)),r,"TargetPurposeLimboResolution",z.ae))}}function bh(n,e,t){return vy.apply(this,arguments)}function vy(){return vy=(0,Ae.Z)(function*(n,e,t){const r=yn(n),s=[],a=[],c=[];var _;r.ga.isEmpty()||(r.ga.forEach((_,b)=>{c.push(r.Ma(b,e,t).then(O=>{if((O||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,O?.fromCache?"not-current":"current"),O){s.push(O);const j=jp.$i(b.targetId,O);a.push(j)}}))}),yield Promise.all(c),r.fa.c_(s),yield(_=(0,Ae.Z)(function*(O,j){const J=yn(O);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>_t.forEach(j,ke=>_t.forEach(ke.Qi,bt=>J.persistence.referenceDelegate.addReference(Ee,ke.targetId,bt)).next(()=>_t.forEach(ke.Ki,bt=>J.persistence.referenceDelegate.removeReference(Ee,ke.targetId,bt)))))}catch(Ee){if(!F(Ee))throw Ee;Bt("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of j){const ke=Ee.targetId;if(!Ee.fromCache){const bt=J.rs.get(ke),Gt=bt.withLastLimboFreeSnapshotVersion(bt.snapshotVersion);J.rs=J.rs.insert(ke,Gt)}}}),function b(O,j){return _.apply(this,arguments)})(r.localStore,a))}),vy.apply(this,arguments)}function II(n,e){return Gi.apply(this,arguments)}function Gi(){return Gi=(0,Ae.Z)(function*(n,e){const t=yn(n);if(!t.currentUser.isEqual(e)){Bt("SyncEngine","User change. New user:",e.toKey());const r=yield om(t.localStore,e);t.currentUser=e,(a=t).Ca.forEach(_=>{_.forEach(b=>{b.reject(new dn(Pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ca.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield bh(t,r.cs)}var a}),Gi.apply(this,arguments)}function TI(n,e){const t=yn(n),r=t.Sa.get(e);if(r&&r.ma)return Zi().add(r.key);{let s=Zi();const a=t.pa.get(e);if(!a)return s;for(const c of a){const _=t.ga.get(c);s=s.unionWith(_.view.la)}return s}}class Iy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.serializer=gm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Md(n,e,t,r){return new J_(n,e,t,r)}(this.persistence,new Z_,e.initialUser,this.serializer)}createPersistence(e){return new z_(z0.Jr,this.serializer)}createSharedClientState(e){return new Wp}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jf{initialize(e,t){var r=this;return(0,Ae.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>vI(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=II.bind(null,r.syncEngine),yield function lI(n,e){return _m.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fD}createDatastore(e){const t=gm(e.databaseInfo.databaseId),r=new fm(e.databaseInfo);return new cD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,s=this.datastore,a=e.asyncQueue,c=t=>vI(this.syncEngine,t,0),_=Vf.C()?new Vf:new ty,new J0(r,s,a,c,_);var r,s,a,c,_}createSyncEngine(e,t){return function(s,a,c,_,b,O,j){const J=new wh(s,a,c,_,b,O);return j&&(J.Fa=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(r){const s=yn(r);Bt("RemoteStore","RemoteStore shutting down."),s.F_.add(5),yield Yh(s),s.x_.shutdown(),s.O_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Ty{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):ci("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wx{constructor(e,t,r,s){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Vn.UNAUTHENTICATED,this.clientId=Mc.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ae.Z)(function*(_){Bt("FirestoreClient","Received user=",_.uid),yield a.authCredentialListener(_),a.user=_});return function(_){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Bt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new dn(Pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new So;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=ym(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function tg(n,e){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Bt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Ae.Z)(function*(a){r.isEqual(a)||(yield om(e.localStore,a),r=a)});return function(a){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Sy.apply(this,arguments)}function bE(n,e){return IE.apply(this,arguments)}function IE(){return IE=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function Dy(n){return TE.apply(this,arguments)}(n);Bt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>fd(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>fd(e.remoteStore,a)),n._onlineComponents=e}),IE.apply(this,arguments)}function TE(){return TE=(0,Ae.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Bt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function xI(n){return"FirebaseError"===n.name?n.code===Pt.FAILED_PRECONDITION||n.code===Pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;ki("Error using user provided cache. Falling back to memory cache: "+t),yield tg(n,new Iy)}}else Bt("FirestoreClient","Using default OfflineComponentProvider"),yield tg(n,new Iy);return n._offlineComponents}),TE.apply(this,arguments)}function Cm(){return Cm=(0,Ae.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Bt("FirestoreClient","Using user provided OnlineComponentProvider"),yield bE(n,n._uninitializedComponentsProvider._online)):(Bt("FirestoreClient","Using default OnlineComponentProvider"),yield bE(n,new jf))),n._onlineComponents}),Cm.apply(this,arguments)}function vu(n){return Am.apply(this,arguments)}function Am(){return Am=(0,Ae.Z)(function*(n){const e=yield function Cy(n){return Cm.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=Xp.bind(null,e.syncEngine),t.onUnlisten=yI.bind(null,e.syncEngine),t}),Am.apply(this,arguments)}function Ay(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const th=new Map;function Qs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new dn(Pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function xm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":zn()}(n);throw new dn(Pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class rg{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new dn(Pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new dn(Pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function SD(n,e,t,r){if(!0===e&&!0===r)throw new dn(Pt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ay(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new dn(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new dn(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new dn(Pt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ig{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new dn(Pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new dn(Pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rg(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Ga;switch(r.type){case"firstParty":return new Vl(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dn(Pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=th.get(t);r&&(Bt("ComponentProvider","Removing Datastore"),th.delete(t),r.terminate())}(this),Promise.resolve()}}class nu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nu(this.firestore,e,this._query)}}class zl{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zl(this.firestore,e,this._key)}}class Nd extends nu{constructor(e,t,r){super(e,t,U(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zl(this.firestore,null,new ht(e))}withConverter(e){return new Nd(this.firestore,e,this._path)}}class Mm{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new Y0(this,"async_queue_retry"),this.ou=()=>{const t=pm();t&&Bt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Ho.$o()};const e=pm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const t=pm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const t=new So;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(t){if(!F(t))throw t;Bt("AsyncQueue","Operation failed with retryable error: "+t)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const t=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,ci("INTERNAL UNHANDLED ERROR: ",function(c){let _=c.message||"";return c.stack&&(_=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),_}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=t,t}enqueueAfterDelay(e,t,r){this._u(),this.su.indexOf(e)>-1&&(t=0);const s=aE.createAndSchedule(this,e,t,r,a=>this.cu(a));return this.tu.push(s),s}_u(){this.nu&&zn()}verifyOperationInProgress(){}lu(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.Za,yield t}while(t!==e.Za)})()}hu(e){for(const t of this.tu)if(t.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const t=this.tu.indexOf(e);this.tu.splice(t,1)}}function xE(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const s=t;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class Ka extends ig{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Mm,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$I(this),this._firestoreClient.terminate()}}function $I(n){var e,t,r;const s=n._freezeSettings(),a=(b=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Kc(n._databaseId,b,n._persistenceKey,(j=s).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,Ay(j.experimentalLongPollingOptions),j.useFetchStreams));var b,j;n._firestoreClient=new wx(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=s.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}class $f{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $f(Qo.fromBase64String(e))}catch(t){throw new dn(Pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $f(Qo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sg{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new dn(Pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class My{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new dn(Pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new dn(Pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gr(this._lat,e._lat)||gr(this._long,e._long)}}const og=new RegExp("[~\\*/\\[\\]]");function Dh(n,e,t,r,s){const a=r&&!r.isEmpty(),c=void 0!==s;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let b="";return(a||c)&&(b+=" (found",a&&(b+=` in field ${r}`),c&&(b+=` in document ${s}`),b+=")"),new dn(Pt.INVALID_ARGUMENT,_+n+b)}class tf{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qI extends tf{data(){return super.data()}}function Vm(n,e){return"string"==typeof e?function Sh(n,e,t){if(e.search(og)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sg(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof sg?e._internalPath:e._delegate._internalPath}class LD{convertValue(e,t="none"){switch(jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw zn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Co(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new My(Bo(e.latitude),Bo(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=qc(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const t=Zo(e);return new Ki(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Yi.fromString(e);lr(Fp(r));const s=new Jo(r.get(1),r.get(3)),a=new ht(r.popFirst(5));return s.isEqual(t)||ci(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class ih{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Um extends tf{constructor(e,t,r,s,a,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Vy extends Um{data(e={}){return super.data(e)}}class ug{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ih(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vy(this._firestore,this._userDataWriter,r.key,r,new ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dn(Pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(_=>({type:"added",doc:new Vy(s._firestore,s._userDataWriter,_.doc.key,_.doc,new ih(s._snapshot.mutatedKeys.has(_.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(_=>a||3!==_.type).map(_=>{const b=new Vy(s._firestore,s._userDataWriter,_.doc.key,_.doc,new ih(s._snapshot.mutatedKeys.has(_.doc.key),s._snapshot.fromCache),s.query.converter);let O=-1,j=-1;return 0!==_.type&&(O=c.indexOf(_.doc.key),c=c.delete(_.doc.key)),1!==_.type&&(c=c.add(_.doc),j=c.indexOf(_.doc.key)),{type:UE(_.type),doc:b,oldIndex:O,newIndex:j}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function UE(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zn()}}class nf extends LD{constructor(e){super(),this.firestore=e}convertBytes(e){return new $f(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zl(this.firestore,null,t)}}!function(e,t=!0){Sr=ct.Jn,(0,ct.Xd)(new it.wA("firestore",(r,{instanceIdentifier:s,options:a})=>{const c=r.getProvider("app").getImmediate(),_=new Ka(new md(r.getProvider("auth-internal")),new oi(r.getProvider("app-check-internal")),function(O,j){if(!Object.prototype.hasOwnProperty.apply(O.options,["projectId"]))throw new dn(Pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jo(O.options.projectId,j)}(c,s),c);return a=Object.assign({useFetchStreams:t},a),_._setSettings(a),_},"PUBLIC").setMultipleInstances(!0)),(0,ct.KN)(Kn,"4.2.0",e),(0,ct.KN)(Kn,"4.2.0","esm2017")}();var oC=Y(5592),$y=Y(7398),oh=function(){return oh=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},oh.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var aC={includeMetadataChanges:!1};function $m(n,e){return void 0===e&&(e=aC),new oC.y(function(t){var r=function jE(n,...e){var t,r,s;n=(0,xe.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||xE(e[c])||(a=e[c],c++);const _={includeMetadataChanges:a.includeMetadataChanges};if(xE(e[c])){const J=e[c];e[c]=null===(t=J.next)||void 0===t?void 0:t.bind(J),e[c+1]=null===(r=J.error)||void 0===r?void 0:r.bind(J),e[c+2]=null===(s=J.complete)||void 0===s?void 0:s.bind(J)}let b,O,j;if(n instanceof zl)O=Qs(n.firestore,Ka),j=U(n._key.path),b={next:J=>{e[c]&&e[c](function dg(n,e,t){const r=t.docs.get(e._key),s=new nf(n);return new Um(n,s,e._key,r,new ih(t.hasPendingWrites,t.fromCache),e.converter)}(O,n,J))},error:e[c+1],complete:e[c+2]};else{const J=Qs(n,nu);O=Qs(J.firestore,Ka),j=J._query;const Ee=new nf(O);b={next:ke=>{e[c]&&e[c](new ug(O,Ee,J,ke))},error:e[c+1],complete:e[c+2]},function FE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new dn(Pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(Ee,ke,bt,jt){const Gt=new Ty(jt),$n=new hy(ke,Gt,bt);return Ee.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function uI(n,e){return nc.apply(this,arguments)}(yield vu(Ee),$n)})),()=>{Gt.La(),Ee.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function lE(n,e){return vm.apply(this,arguments)}(yield vu(Ee),$n)}))}}(function Wl(n){return n._firestoreClient||$I(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(O),j,_,b)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function cC(n,e){return void 0===e&&(e={}),function g1(n){return $m(n,{includeMetadataChanges:!0}).pipe((0,$y.U)(function(e){return e.docs}))}(n).pipe((0,$y.U)(function(t){return t.map(function(r){return function l1(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?oh(oh({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}var br,hg=Y(7592),m1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ah={},Hm=Hm||{},hi=m1||self;function Gy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Hu="closure_uid_"+(1e9*Math.random()>>>0),kd=0;function _1(n,e,t){return n.call.apply(n.bind,arguments)}function y1(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function iu(n,e,t){return(iu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_1:y1).apply(null,arguments)}function Hy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Dc(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,a){for(var c=Array(arguments.length-2),_=2;_<arguments.length;_++)c[_-2]=arguments[_];return e.prototype[s].apply(r,c)}}function sf(){this.s=this.s,this.o=this.o}sf.prototype.s=!1,sf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lh(n){Object.prototype.hasOwnProperty.call(n,Hu)&&n[Hu]||(n[Hu]=++kd)}(this)},sf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function XE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ew(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Gy(r)){const s=n.length||0,a=r.length||0;n.length=s+a;for(let c=0;c<a;c++)n[s+c]=r[c]}else n.push(r)}}function su(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}su.prototype.h=function(){this.defaultPrevented=!0};var hC=function(){if(!hi.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{hi.addEventListener("test",()=>{},e),hi.removeEventListener("test",()=>{},e)}catch{}return n}();function gg(n){return/^[\s\xa0]*$/.test(n)}function zm(){var n=hi.navigator;return n&&(n=n.userAgent)?n:""}function zu(n){return-1!=zm().indexOf(n)}function tw(n){return tw[" "](n),n}tw[" "]=function(){};var qy,E1=zu("Opera"),Kf=zu("Trident")||zu("MSIE"),w1=zu("Edge"),nw=w1||Kf,zy=zu("Gecko")&&!(-1!=zm().toLowerCase().indexOf("webkit")&&!zu("Edge"))&&!(zu("Trident")||zu("MSIE"))&&!zu("Edge"),Wy=-1!=zm().toLowerCase().indexOf("webkit")&&!zu("Edge");function rw(){var n=hi.document;return n?n.documentMode:void 0}e:{var Ky="",Yy=function(){var n=zm();return zy?/rv:([^\);]+)(\)|;)/.exec(n):w1?/Edge\/([\d\.]+)/.exec(n):Kf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Wy?/WebKit\/(\S+)/.exec(n):E1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(Yy&&(Ky=Yy?Yy[1]:""),Kf){var Qy=rw();if(null!=Qy&&Qy>parseFloat(Ky)){qy=String(Qy);break e}}qy=Ky}var b1=hi.document&&Kf&&(rw()||parseInt(qy,10))||void 0;function Wm(n,e){if(su.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zy){e:{try{tw(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wm.$.h.call(this)}}Dc(Wm,su);var fC={2:"touch",3:"pen",4:"mouse"};Wm.prototype.h=function(){Wm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qm="closure_listenable_"+(1e6*Math.random()|0),pC=0;function gC(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++pC,this.fa=this.ia=!1}function Jy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function sw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function I1(n){const e={};for(const t in n)e[t]=n[t];return e}const T1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S1(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let a=0;a<T1.length;a++)t=T1[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Xy(n){this.src=n,this.g={},this.h=0}function ow(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],s=pg(r,e);(a=0<=s)&&Array.prototype.splice.call(r,s,1),a&&(Jy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function aw(n,e,t,r){for(var s=0;s<n.length;++s){var a=n[s];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return s}return-1}Xy.prototype.add=function(n,e,t,r,s){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=aw(n,e,r,s);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new gC(e,this.src,a,!!r,s)).ia=t,n.push(e)),e};var lw="closure_lm_"+(1e6*Math.random()|0),cw={};function D1(n,e,t,r,s){if(r&&r.once)return uw(n,e,t,r,s);if(Array.isArray(e)){for(var a=0;a<e.length;a++)D1(n,e[a],t,r,s);return null}return t=rv(t),n&&n[qm]?n.O(e,t,fg(r)?!!r.capture:!!r,s):C1(n,e,t,!1,r,s)}function C1(n,e,t,r,s,a){if(!e)throw Error("Invalid event type");var c=fg(s)?!!s.capture:!!s,_=tv(n);if(_||(n[lw]=_=new Xy(n)),(t=_.add(e,t,r,c,a)).proxy)return t;if(r=function A1(){const e=R1;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hC||(s=c),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(hw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function uw(n,e,t,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)uw(n,e[a],t,r,s);return null}return t=rv(t),n&&n[qm]?n.P(e,t,fg(r)?!!r.capture:!!r,s):C1(n,e,t,!0,r,s)}function dw(n,e,t,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)dw(n,e[a],t,r,s);else r=fg(r)?!!r.capture:!!r,t=rv(t),n&&n[qm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=aw(a=n.g[e],t,r,s))&&(Jy(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=tv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=aw(e,t,r,s)),(t=-1<n?e[n]:null)&&ev(t))}function ev(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[qm])ow(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(hw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=tv(e))?(ow(t,n),0==t.h&&(t.src=null,e[lw]=null)):Jy(n)}}}function hw(n){return n in cw?cw[n]:cw[n]="on"+n}function R1(n,e){if(n.fa)n=!0;else{e=new Wm(e,this);var t=n.listener,r=n.la||n.src;n.ia&&ev(n),n=t.call(r,e)}return n}function tv(n){return(n=n[lw])instanceof Xy?n:null}var nv="__closure_events_fn_"+(1e9*Math.random()>>>0);function rv(n){return"function"==typeof n?n:(n[nv]||(n[nv]=function(e){return n.handleEvent(e)}),n[nv])}function rc(){sf.call(this),this.i=new Xy(this),this.S=this,this.J=null}function Cc(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new su(e,n);else if(e instanceof su)e.target=e.target||n;else{var s=e;S1(e=new su(r,n),s)}if(s=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];s=ch(c,r,!0,e)&&s}if(s=ch(c=e.g=n,r,!0,e)&&s,s=ch(c,r,!1,e)&&s,t)for(a=0;a<t.length;a++)s=ch(c=e.g=t[a],r,!1,e)&&s}function ch(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var _=c.listener,b=c.la||c.src;c.ia&&ow(n.i,c),s=!1!==_.call(b,r)&&s}}return s&&!r.defaultPrevented}Dc(rc,sf),rc.prototype[qm]=!0,rc.prototype.removeEventListener=function(n,e,t,r){dw(this,n,e,t,r)},rc.prototype.N=function(){if(rc.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Jy(t[r]);delete n.g[e],n.h--}}this.J=null},rc.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},rc.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var fw=hi.JSON.stringify;function mg(){var n=pw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iv=new class _C{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Qx,n=>n.reset());class Qx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function x1(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function O1(n){hi.setTimeout(()=>{throw n},0)}let sv,uh=!1,pw=new class Yx{constructor(){this.h=this.g=null}add(e,t){const r=iv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},M1=()=>{const n=hi.Promise.resolve(void 0);sv=()=>{n.then(yC)}};var yC=()=>{for(var n;n=mg();){try{n.h.call(n.g)}catch(t){O1(t)}var e=iv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}uh=!1};function Ch(n,e){rc.call(this),this.h=n||1,this.g=e||hi,this.j=iu(this.qb,this),this.l=Date.now()}function gw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function _g(n,e,t){if("function"==typeof n)t&&(n=iu(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=iu(n.handleEvent,n)}return 2147483647<Number(e)?-1:hi.setTimeout(n,e||0)}function Km(n){n.g=_g(()=>{n.g=null,n.i&&(n.i=!1,Km(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Dc(Ch,rc),(br=Ch.prototype).ga=!1,br.T=null,br.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Cc(this,"tick"),this.ga&&(gw(this),this.start()))}},br.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},br.N=function(){Ch.$.N.call(this),gw(this),delete this.g};class Ou extends sf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Km(this)}N(){super.N(),this.g&&(hi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ov(n){sf.call(this),this.h=n,this.g={}}Dc(ov,sf);var mw=[];function _w(n,e,t,r){Array.isArray(t)||(t&&(mw[0]=t.toString()),t=mw);for(var s=0;s<t.length;s++){var a=D1(e,t[s],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function P1(n){sw(n.g,function(e,t){this.g.hasOwnProperty(t)&&ev(e)},n),n.g={}}function Ym(){this.g=!0}function Yf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function EC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<s.length;c++)s[c]=""}}}return fw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ov.prototype.N=function(){ov.$.N.call(this),P1(this)},ov.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ym.prototype.Ea=function(){this.g=!1},Ym.prototype.info=function(){};var Qf={},yg=null;function av(){return yg=yg||new rc}function F1(n){su.call(this,Qf.Ta,n)}function Qm(n){const e=av();Cc(e,new F1(e))}function Zm(n,e){su.call(this,Qf.STAT_EVENT,n),this.stat=e}function ou(n){const e=av();Cc(e,new Zm(e,n))}function yw(n,e){su.call(this,Qf.Ua,n),this.size=e}function vg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return hi.setTimeout(function(){n()},e)}Qf.Ta="serverreachability",Dc(F1,su),Qf.STAT_EVENT="statevent",Dc(Zm,su),Qf.Ua="timingevent",Dc(yw,su);var lv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Eg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zf(){}function V1(){}Zf.prototype.h=null;var dv,Jm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cv(){su.call(this,"d")}function uv(){su.call(this,"c")}function hv(){}function wg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new ov(this),this.P=wC,this.V=new Ch(n=nw?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new B1}function B1(){this.i=null,this.g="",this.h=!1}Dc(cv,su),Dc(uv,su),Dc(hv,Zf),hv.prototype.g=function(){return new XMLHttpRequest},hv.prototype.i=function(){return{}},dv=new hv;var wC=45e3,U1={},vw={};function j1(n,e,t){n.L=1,n.v=pv(Wu(e)),n.s=t,n.S=!0,bC(n,null)}function bC(n,e){n.G=Date.now(),e_(n),n.A=Wu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),K1(t.i,"t",r),n.C=0,t=n.l.J,n.h=new B1,n.g=cT(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Ou(iu(n.Pa,n,n.g),n.O)),_w(n.U,n.g,"readystatechange",n.nb),e=n.I?I1(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Qm(),function N1(n,e,t,r,s,a){n.info(function(){if(n.g)if(a)for(var c="",_=a.split("&"),b=0;b<_.length;b++){var O=_[b].split("=");if(1<O.length){var j=O[0];O=O[1];var J=j.split("_");c=2<=J.length&&"type"==J[1]?c+(j+"=")+O+"&":c+(j+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Ew(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Xm(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=IC(n,t),s==vw){4==e&&(n.o=4,ou(14),r=!1),Yf(n.j,n.m,null,"[Incomplete Response]");break}if(s==U1){n.o=4,ou(15),Yf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Yf(n.j,n.m,s,null),bw(n,s)}Ew(n)&&s!=vw&&s!=U1&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ou(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),sT(e),e.M=!0,ou(11))):(Yf(n.j,n.m,t,"[Invalid Chunked Response]"),Jf(n),t_(n))}function IC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?vw:(t=Number(e.substring(t,r)),isNaN(t)?U1:(r+=1)+t>e.length?vw:(e=e.slice(r,r+t),n.C=r+t,e))}function e_(n){n.Y=Date.now()+n.P,ww(n,n.P)}function ww(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vg(iu(n.lb,n),e)}function af(n){n.B&&(hi.clearTimeout(n.B),n.B=null)}function t_(n){0==n.l.H||n.J||aT(n.l,n)}function Jf(n){af(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,gw(n.V),P1(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function bw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||gv(t.i,n)))if(!n.K&&gv(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Rv(t),Dv(t)}Pw(t),ou(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=vg(iu(t.ib,t),6e3));if(1>=Z1(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else lf(t,11)}else if((n.K||t.g==n)&&Rv(t),!gg(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let O=s[e];if(t.V=O[0],O=O[1],2==t.H)if("c"==O[0]){t.K=O[1],t.pa=O[2];const j=O[3];null!=j&&(t.ra=j,t.l.info("VER="+t.ra));const J=O[4];null!=J&&(t.Ga=J,t.l.info("SVER="+t.Ga));const Ee=O[5];null!=Ee&&"number"==typeof Ee&&0<Ee&&(t.L=r=1.5*Ee,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const ke=n.g;if(ke){const bt=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bt){var a=r.i;a.g||-1==bt.indexOf("spdy")&&-1==bt.indexOf("quic")&&-1==bt.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(mv(a,a.h),a.h=null))}if(r.F){const jt=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;jt&&(r.Da=jt,Ya(r.I,r.F,jt))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=lT(r,r.J?r.pa:null,r.Y),c.K){Dw(r.i,c);var _=c,b=r.L;b&&_.setTimeout(b),_.B&&(af(_),e_(_)),r.g=c}else iT(r);0<t.j.length&&Cv(t)}else"stop"!=O[0]&&"close"!=O[0]||lf(t,7);else 3==t.H&&("stop"==O[0]||"close"==O[0]?"stop"==O[0]?lf(t,7):Sv(t):"noop"!=O[0]&&t.h&&t.h.Aa(O),t.A=0)}Qm()}catch{}}function $1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gy(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Zx(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gy(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TC(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,a=0;a<s;a++)e.call(void 0,r[a],t&&t[a],n)}(br=wg.prototype).setTimeout=function(n){this.P=n},br.nb=function(n){n=n.target;const e=this.M;e&&3==Fd(n)?e.l():this.Pa(n)},br.Pa=function(n){try{if(n==this.g)e:{const j=Fd(this.g);var e=this.g.Ia();if(this.g.da(),!(3>j)&&(3!=j||nw||this.g&&(this.h.h||this.g.ja()||tT(this.g)))){this.J||4!=j||7==e||Qm(),af(this);var t=this.g.da();this.ca=t;t:if(Ew(this)){var r=tT(this.g);n="";var s=r.length,a=4==Fd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jf(this),t_(this);var c="";break t}this.h.i=new hi.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function k1(n,e,t,r,s,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,j,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var _,b=this.g;if((_=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gg(_)){var O=_;break t}}O=null}if(!(t=O)){this.i=!1,this.o=3,ou(12),Jf(this),t_(this);break e}Yf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bw(this,t)}this.S?(Xm(this,j,c),nw&&this.i&&3==j&&(_w(this.U,this.V,"tick",this.mb),this.V.start())):(Yf(this.j,this.m,c,null),bw(this,c)),4==j&&Jf(this),this.i&&!this.J&&(4==j?aT(this.l,this):(this.i=!1,e_(this)))}else(function nT(n){const e={};n=(n.g&&2<=Fd(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(gg(n[r]))continue;var t=x1(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[s]||[];e[s]=a,a.push(t)}!function mC(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ou(12)):(this.o=0,ou(13)),Jf(this),t_(this)}}}catch{}},br.mb=function(){if(this.g){var n=Fd(this.g),e=this.g.ja();this.C<e.length&&(af(this),Xm(this,n,e),this.i&&4!=n&&e_(this))}},br.cancel=function(){this.J=!0,Jf(this)},br.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Qm(),ou(17)),Jf(this),this.o=2,t_(this)):ww(this,this.Y-n)};var Iw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Xf){this.h=n.h,fv(this,n.j),this.s=n.s,this.g=n.g,n_(this,n.m),this.l=n.l;var e=n.i,t=new i_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),G1(this,t),this.o=n.o}else n&&(e=String(n).match(Iw))?(this.h=!1,fv(this,e[1]||"",!0),this.s=bg(e[2]||""),this.g=bg(e[3]||"",!0),n_(this,e[4]),this.l=bg(e[5]||"",!0),G1(this,e[6]||"",!0),this.o=bg(e[7]||"")):(this.h=!1,this.i=new i_(null,this.h))}function Wu(n){return new Xf(n)}function fv(n,e,t){n.j=t?bg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function n_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function G1(n,e,t){e instanceof i_?(n.i=e,function AC(n,e){e&&!n.j&&(dh(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(q1(this,r),K1(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=r_(e,DC)),n.i=new i_(e,n.h))}function Ya(n,e,t){n.i.set(e,t)}function pv(n){return Ya(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function r_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Tw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Tw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(r_(e,H1,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(r_(e,H1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(r_(t,"/"==t.charAt(0)?W1:z1,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",r_(t,CC)),n.join("")};var H1=/[#\/\?@]/g,z1=/[#\?:]/g,W1=/[#\?]/g,DC=/[#\?@]/g,CC=/#/g;function i_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function dh(n){n.g||(n.g=new Map,n.h=0,n.i&&function SC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var a=n[t].substring(0,r);s=n[t].substring(r+1)}else a=n[t];e(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function q1(n,e){dh(n),e=Ig(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Sw(n,e){return dh(n),e=Ig(n,e),n.g.has(e)}function K1(n,e,t){q1(n,e),0<t.length&&(n.i=null,n.g.set(Ig(n,e),XE(t)),n.h+=t.length)}function Ig(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Y1(n){this.l=n||xC,n=hi.PerformanceNavigationTiming?0<(n=hi.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(hi.g&&hi.g.Ka&&hi.g.Ka()&&hi.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(br=i_.prototype).add=function(n,e){dh(this),this.i=null,n=Ig(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},br.forEach=function(n,e){dh(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},br.ta=function(){dh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let a=0;a<s.length;a++)t.push(e[r])}return t},br.Z=function(n){dh(this);let e=[];if("string"==typeof n)Sw(this,n)&&(e=e.concat(this.g.get(Ig(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},br.set=function(n,e){return dh(this),this.i=null,Sw(this,n=Ig(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},br.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},br.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var s=a;""!==c[r]&&(s+="="+encodeURIComponent(String(c[r]))),n.push(s)}}return this.i=n.join("&")};var xC=10;function Q1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Z1(n){return n.h?1:n.g?n.g.size:0}function gv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function mv(n,e){n.g?n.g.add(e):n.h=e}function Dw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function J1(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return XE(n.i)}Y1.prototype.cancel=function(){if(this.i=J1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var X1=class{stringify(n){return hi.JSON.stringify(n,void 0)}parse(n){return hi.JSON.parse(n,void 0)}};function OC(){this.g=new X1}function MC(n,e,t){const r=t||"";try{$1(n,function(s,a){let c=s;fg(s)&&(c=fw(s)),e.push(r+a+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function _v(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ep(n){this.l=n.fc||null,this.j=n.ob||!1}function Tg(n,e){rc.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=yv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dc(ep,Zf),ep.prototype.g=function(){return new Tg(this.l,this.j)},ep.prototype.i=function(n){return function(){return n}}({}),Dc(Tg,rc);var yv=0;function vv(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function s_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,o_(n)}function o_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(br=Tg.prototype).open=function(n,e){if(this.readyState!=yv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,o_(this)},br.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||hi).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},br.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,s_(this)),this.readyState=yv},br.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,o_(this)),this.g&&(this.readyState=3,o_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof hi.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vv(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},br.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?s_(this):o_(this),3==this.readyState&&vv(this)}},br.Za=function(n){this.g&&(this.response=this.responseText=n,s_(this))},br.Ya=function(n){this.g&&(this.response=n,s_(this))},br.ka=function(){this.g&&s_(this)},br.setRequestHeader=function(n,e){this.v.append(n,e)},br.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},br.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Tg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Cw=hi.JSON.parse;function Pl(n){rc.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Aw,this.L=this.M=!1}Dc(Pl,rc);var Aw="",tp=/^https?$/i,eT=["POST","PUT"];function kC(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Ev(n),bv(n)}function Ev(n){n.F||(n.F=!0,Cc(n,"complete"),Cc(n,"error"))}function wv(n){if(n.h&&typeof Hm<"u"&&(!n.C[1]||4!=Fd(n)||2!=n.da()))if(n.v&&4==Fd(n))_g(n.La,0,n);else if(Cc(n,"readystatechange"),4==Fd(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var s=String(n.I).match(Iw)[1]||null;!s&&hi.self&&hi.self.location&&(s=hi.self.location.protocol.slice(0,-1)),r=!tp.test(s?s.toLowerCase():"")}t=r}if(t)Cc(n,"complete"),Cc(n,"success");else{n.m=6;try{var a=2<Fd(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",Ev(n)}}finally{bv(n)}}}function bv(n,e){if(n.g){Rw(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Cc(n,"ready");try{t.onreadystatechange=r}catch{}}}function Rw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(hi.clearTimeout(n.A),n.A=null)}function Fd(n){return n.g?n.g.readyState:0}function tT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Aw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Iv(n){let e="";return sw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Tv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Iv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ya(n,e,t))}function Sg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function xw(n){this.Ga=0,this.j=[],this.l=new Ym,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sg("baseRetryDelayMs",5e3,n),this.hb=Sg("retryDelaySeedMs",1e4,n),this.eb=Sg("forwardChannelMaxRetries",2,n),this.xa=Sg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Y1(n&&n.concurrentRequestLimit),this.Ja=new OC,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Sv(n){if(rT(n),3==n.H){var e=n.W++,t=Wu(n.I);if(Ya(t,"SID",n.K),Ya(t,"RID",e),Ya(t,"TYPE","terminate"),Av(n,t),(e=new wg(n,n.l,e)).L=2,e.v=pv(Wu(t)),t=!1,hi.navigator&&hi.navigator.sendBeacon)try{t=hi.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&hi.Image&&((new Image).src=e.v,t=!0),t||(e.g=cT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),e_(e)}kw(n)}function Dv(n){n.g&&(sT(n),n.g.cancel(),n.g=null)}function rT(n){Dv(n),n.u&&(hi.clearTimeout(n.u),n.u=null),Rv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&hi.clearTimeout(n.m),n.m=null)}function Cv(n){if(!Q1(n.i)&&!n.m){n.m=!0;var e=n.Na;sv||M1(),uh||(sv(),uh=!0),pw.add(e,n),n.C=0}}function Ow(n,e){var t;t=e?e.m:n.W++;const r=Wu(n.I);Ya(r,"SID",n.K),Ya(r,"RID",t),Ya(r,"AID",n.V),Av(n,r),n.o&&n.s&&Tv(r,n.o,n.s),t=new wg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Mw(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),mv(n.i,t),j1(t,r,e)}function Av(n,e){n.na&&sw(n.na,function(t,r){Ya(e,r,t)}),n.h&&$1({},function(t,r){Ya(e,r,t)})}function Mw(n,e,t){t=Math.min(n.j.length,t);var r=n.h?iu(n.h.Va,n.h,n):null;e:{var s=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=s[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let _=!0;for(let b=0;b<t;b++){let O=s[b].g;const j=s[b].map;if(O-=a,0>O)a=Math.max(0,s[b].g-100),_=!1;else try{MC(j,c,"req"+O+"_")}catch{r&&r(j)}}if(_){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function iT(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;sv||M1(),uh||(sv(),uh=!0),pw.add(e,n),n.A=0}}function Pw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=vg(iu(n.Ma,n),Nw(n,n.A)),n.A++,0))}function sT(n){null!=n.B&&(hi.clearTimeout(n.B),n.B=null)}function oT(n){n.g=new wg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Wu(n.wa);Ya(e,"RID","rpc"),Ya(e,"SID",n.K),Ya(e,"AID",n.V),Ya(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ya(e,"TO",n.qa),Ya(e,"TYPE","xmlhttp"),Av(n,e),n.o&&n.s&&Tv(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=pv(Wu(e)),t.s=null,t.S=!0,bC(t,n)}function Rv(n){null!=n.v&&(hi.clearTimeout(n.v),n.v=null)}function aT(n,e){var t=null;if(n.g==e){Rv(n),sT(n),n.g=null;var r=2}else{if(!gv(n.i,e))return;t=e.F,Dw(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;Cc(r=av(),new yw(r,t)),Cv(n)}else iT(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function FC(n,e){return!(Z1(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=vg(iu(n.Na,n,e),Nw(n,n.C)),n.C++,0)))}(n,e)||2==r&&Pw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:lf(n,5);break;case 4:lf(n,10);break;case 3:lf(n,6);break;default:lf(n,2)}}function Nw(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function lf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=iu(n.pb,n);t||(t=new Xf("//www.google.com/images/cleardot.gif"),hi.location&&"http"==hi.location.protocol||fv(t,"https"),pv(t)),function PC(n,e){const t=new Ym;if(hi.Image){const r=new Image;r.onload=Hy(_v,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Hy(_v,t,r,"TestLoadImage: error",!1,e),r.onabort=Hy(_v,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hy(_v,t,r,"TestLoadImage: timeout",!1,e),hi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ou(2);n.H=0,n.h&&n.h.za(e),kw(n),rT(n)}function kw(n){if(n.H=0,n.ma=[],n.h){const e=J1(n.i);(0!=e.length||0!=n.j.length)&&(ew(n.ma,e),ew(n.ma,n.j),n.i.i.length=0,XE(n.j),n.j.length=0),n.h.ya()}}function lT(n,e,t){var r=t instanceof Xf?Wu(t):new Xf(t);if(""!=r.g)e&&(r.g=e+"."+r.g),n_(r,r.m);else{var s=hi.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var a=new Xf(null);r&&fv(a,r),e&&(a.g=e),s&&n_(a,s),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Ya(r,t,e),Ya(r,"VER",n.ra),Av(n,r),r}function cT(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pl(t&&n.Ha&&!n.va?new ep({ob:!0}):n.va)).Oa(n.J),e}function uT(){}function xv(){if(Kf&&!(10<=Number(b1)))throw Error("Environmental error: no available transport.")}function qu(n,e){rc.call(this),this.g=new xw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!gg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new np(this)}function dT(n){cv.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Dg(){uv.call(this),this.status=1}function np(n){this.g=n}function pd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ov(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((s=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^a&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^s^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(s^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(s^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((s=a+((c=s+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+a&4294967295}function da(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var a=0|n[s];r&&a==e||(t[s]=a,r=!1)}this.g=t}(br=Pl.prototype).Oa=function(n){this.M=n},br.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dv.g(),this.C=function L1(n){return n.h||(n.h=n.i())}(this.u?this.u:dv),this.g.onreadystatechange=iu(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void kC(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),s=hi.FormData&&n instanceof hi.FormData,!(0<=pg(eT,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Rw(this),0<this.B&&((this.L=function NC(n){return Kf&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=iu(this.ua,this)):this.A=_g(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){kC(this,a)}},br.ua=function(){typeof Hm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cc(this,"timeout"),this.abort(8))},br.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Cc(this,"complete"),Cc(this,"abort"),bv(this))},br.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bv(this,!0)),Pl.$.N.call(this)},br.La=function(){this.s||(this.G||this.v||this.l?wv(this):this.kb())},br.kb=function(){wv(this)},br.isActive=function(){return!!this.g},br.da=function(){try{return 2<Fd(this)?this.g.status:-1}catch{return-1}},br.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},br.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Cw(e)}},br.Ia=function(){return this.m},br.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(br=xw.prototype).ra=8,br.H=1,br.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new wg(this,this.l,n);let a=this.s;if(this.U&&(a?(a=I1(a),S1(a,this.U)):a=this.U),null!==this.o||this.O||(s.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mw(this,s,e),Ya(t=Wu(this.I),"RID",n),Ya(t,"CVER",22),this.F&&Ya(t,"X-HTTP-Session-Id",this.F),Av(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(Iv(a)))+"&"+e:this.o&&Tv(t,this.o,a)),mv(this.i,s),this.bb&&Ya(t,"TYPE","init"),this.P?(Ya(t,"$req",e),Ya(t,"SID","null"),s.aa=!0,j1(s,t,null)):j1(s,t,e),this.H=2}}else 3==this.H&&(n?Ow(this,n):0==this.j.length||Q1(this.i)||Ow(this))},br.Ma=function(){if(this.u=null,oT(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=vg(iu(this.jb,this),n)}},br.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ou(10),Dv(this),oT(this))},br.ib=function(){null!=this.v&&(this.v=null,Dv(this),Pw(this),ou(19))},br.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ou(2)):(this.l.info("Failed to ping google.com"),ou(1))},br.isActive=function(){return!!this.h&&this.h.isActive(this)},(br=uT.prototype).Ba=function(){},br.Aa=function(){},br.za=function(){},br.ya=function(){},br.isActive=function(){return!0},br.Va=function(){},xv.prototype.g=function(n,e){return new qu(n,e)},Dc(qu,rc),qu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ou(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=lT(n,null,n.Y),Cv(n)},qu.prototype.close=function(){Sv(this.g)},qu.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=fw(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Cv(e)},qu.prototype.N=function(){this.g.h=null,delete this.j,Sv(this.g),delete this.g,qu.$.N.call(this)},Dc(dT,cv),Dc(Dg,uv),Dc(np,uT),np.prototype.Ba=function(){Cc(this.g,"a")},np.prototype.Aa=function(n){Cc(this.g,new dT(n))},np.prototype.za=function(n){Cc(this.g,new Dg)},np.prototype.ya=function(){Cc(this.g,"b")},Dc(pd,function hT(){this.blockSize=-1}),pd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pd.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,a=0;a<e;){if(0==s)for(;a<=t;)Ov(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[s++]=n.charCodeAt(a++),s==this.blockSize){Ov(this,r),s=0;break}}else for(;a<e;)if(r[s++]=n[a++],s==this.blockSize){Ov(this,r),s=0;break}}this.h=s,this.i+=e},pd.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var LC={};function Fw(n){return-128<=n&&128>n?function v1(n,e){var t=LC;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new da([0|e],0>e?-1:0)}):new da([0|n],0>n?-1:0)}function Ah(n){if(isNaN(n)||!isFinite(n))return Cg;if(0>n)return Bc(Ah(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Lw;return new da(e,0)}var Lw=4294967296,Cg=Fw(0),Vw=Fw(1),fT=Fw(16777216);function Rh(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function au(n){return-1==n.h}function Bc(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new da(t,~n.h).add(Vw)}function Ag(n,e){return n.add(Bc(e))}function Mv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Pv(n,e){this.g=n,this.h=e}function Nv(n,e){if(Rh(e))throw Error("division by zero");if(Rh(n))return new Pv(Cg,Cg);if(au(n))return e=Nv(Bc(n),e),new Pv(Bc(e.g),Bc(e.h));if(au(e))return e=Nv(n,Bc(e)),new Pv(Bc(e.g),e.h);if(30<n.g.length){if(au(n)||au(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Vw,r=e;0>=r.X(n);)t=BC(t),r=BC(r);var s=hh(t,1),a=hh(r,1);for(r=hh(r,2),t=hh(t,2);!Rh(r);){var c=a.add(r);0>=c.X(n)&&(s=s.add(t),a=c),r=hh(r,1),t=hh(t,1)}return e=Ag(n,s.R(e)),new Pv(s,e)}for(s=Cg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=Ah(t)).R(e);au(c)||0<c.X(n);)c=(a=Ah(t-=r)).R(e);Rh(a)&&(a=Vw),s=s.add(a),n=Ag(n,c)}return new Pv(s,n)}function BC(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new da(t,n.h)}function hh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],a=0;a<r;a++)s[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new da(s,n.h)}(br=da.prototype).ea=function(){if(au(this))return-Bc(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Lw+r)*e,e*=Lw}return n},br.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Rh(this))return"0";if(au(this))return"-"+Bc(this).toString(n);for(var e=Ah(Math.pow(n,6)),t=this,r="";;){var s=Nv(t,e).g,a=((0<(t=Ag(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Rh(t=s))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},br.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},br.X=function(n){return au(n=Ag(this,n))?-1:Rh(n)?0:1},br.abs=function(){return au(this)?Bc(this):this},br.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var a=r+(65535&this.D(s))+(65535&n.D(s)),c=(a>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=c>>>16,t[s]=(c&=65535)<<16|(a&=65535)}return new da(t,-2147483648&t[t.length-1]?-1:0)},br.R=function(n){if(Rh(this)||Rh(n))return Cg;if(au(this))return au(n)?Bc(this).R(Bc(n)):Bc(Bc(this).R(n));if(au(n))return Bc(this.R(Bc(n)));if(0>this.X(fT)&&0>n.X(fT))return Ah(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var a=this.D(r)>>>16,c=65535&this.D(r),_=n.D(s)>>>16,b=65535&n.D(s);t[2*r+2*s]+=c*b,Mv(t,2*r+2*s),t[2*r+2*s+1]+=a*b,Mv(t,2*r+2*s+1),t[2*r+2*s+1]+=c*_,Mv(t,2*r+2*s+1),t[2*r+2*s+2]+=a*_,Mv(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new da(t,0)},br.gb=function(n){return Nv(this,n).h},br.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new da(t,this.h&n.h)},br.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new da(t,this.h|n.h)},br.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new da(t,this.h^n.h)},xv.prototype.createWebChannel=xv.prototype.g,qu.prototype.send=qu.prototype.u,qu.prototype.open=qu.prototype.m,qu.prototype.close=qu.prototype.close,lv.NO_ERROR=0,lv.TIMEOUT=8,lv.HTTP_ERROR=6,Eg.COMPLETE="complete",V1.EventType=Jm,Jm.OPEN="a",Jm.CLOSE="b",Jm.ERROR="c",Jm.MESSAGE="d",rc.prototype.listen=rc.prototype.O,Pl.prototype.listenOnce=Pl.prototype.P,Pl.prototype.getLastError=Pl.prototype.Sa,Pl.prototype.getLastErrorCode=Pl.prototype.Ia,Pl.prototype.getStatus=Pl.prototype.da,Pl.prototype.getResponseJson=Pl.prototype.Wa,Pl.prototype.getResponseText=Pl.prototype.ja,Pl.prototype.send=Pl.prototype.ha,Pl.prototype.setWithCredentials=Pl.prototype.Oa,pd.prototype.digest=pd.prototype.l,pd.prototype.reset=pd.prototype.reset,pd.prototype.update=pd.prototype.j,da.prototype.add=da.prototype.add,da.prototype.multiply=da.prototype.R,da.prototype.modulo=da.prototype.gb,da.prototype.compare=da.prototype.X,da.prototype.toNumber=da.prototype.ea,da.prototype.toString=da.prototype.toString,da.prototype.getBits=da.prototype.D,da.fromNumber=Ah,da.fromString=function VC(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Bc(VC(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ah(Math.pow(e,8)),r=Cg,s=0;s<n.length;s+=8){var a=Math.min(8,n.length-s),c=parseInt(n.substring(s,s+a),e);8>a?(a=Ah(Math.pow(e,a)),r=r.R(a).add(Ah(c))):r=(r=r.R(t)).add(Ah(c))}return r};var UC=ah.createWebChannelTransport=function(){return new xv},jC=ah.getStatEventTarget=function(){return av()},Bw=ah.ErrorCode=lv,kv=ah.EventType=Eg,pT=ah.Event=Qf,gT=ah.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mT=ah.FetchXmlHttpFactory=ep,rp=ah.WebChannel=V1,$C=ah.XhrIo=Pl,GC=ah.Md5=pd,ip=ah.Integer=da;const _T="@firebase/firestore";class Ac{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ac.UNAUTHENTICATED=new Ac(null),Ac.GOOGLE_CREDENTIALS=new Ac("google-credentials-uid"),Ac.FIRST_PARTY=new Ac("first-party-uid"),Ac.MOCK_USER=new Ac("mock-user");let sp="9.23.0";const Ld=new Te.Yd("@firebase/firestore");function Uw(){return Ld.logLevel}function On(n,...e){if(Ld.logLevel<=Te.in.DEBUG){const t=e.map(Fv);Ld.debug(`Firestore (${sp}): ${n}`,...t)}}function Nl(n,...e){if(Ld.logLevel<=Te.in.ERROR){const t=e.map(Fv);Ld.error(`Firestore (${sp}): ${n}`,...t)}}function Ku(n,...e){if(Ld.logLevel<=Te.in.WARN){const t=e.map(Fv);Ld.warn(`Firestore (${sp}): ${n}`,...t)}}function Fv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Lr(n="Unexpected state"){const e=`FIRESTORE (${sp}) INTERNAL ASSERTION FAILED: `+n;throw Nl(e),new Error(e)}function Qr(n,e){n||Lr()}function _r(n,e){return n}const Zt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class En extends xe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ql{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $w{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ac.UNAUTHENTICATED))}shutdown(){}}class Gw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zC{constructor(e){this.t=e,this.currentUser=Ac.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const a=O=>this.i!==s?(s=this.i,t(O)):Promise.resolve();let c=new ql;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ql,e.enqueueRetryable(()=>a(this.currentUser))};const _=()=>{const O=c;e.enqueueRetryable((0,Ae.Z)(function*(){yield O.promise,yield a(r.currentUser)}))},b=O=>{On("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=O,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(O=>b(O)),setTimeout(()=>{if(!this.auth){const O=this.t.getImmediate({optional:!0});O?b(O):(On("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ql)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(On("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qr("string"==typeof r.accessToken),new jw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qr(null===e||"string"==typeof e),new Ac(e)}}class WC{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ac.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new WC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ac.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vT{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&On("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,On("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{On("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?s(a):On("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qr("string"==typeof t.token),this.T=t.token,new yT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function wT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Hw{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=wT(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[a]%62))}return r}}function Fi(n,e){return n<e?-1:n>e?1:0}function op(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class gl{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new En(Zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new En(Zt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new En(Zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new En(Zt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gl.fromMillis(Date.now())}static fromDate(e){return gl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new gl(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fi(this.nanoseconds,e.nanoseconds):Fi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xr(e)}static min(){return new Xr(new gl(0,0))}static max(){return new Xr(new gl(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class a_{constructor(e,t,r){void 0===t?t=0:t>e.length&&Lr(),void 0===r?r=e.length-t:r>e.length-t&&Lr(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===a_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof a_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),c=t.get(s);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class so extends a_{construct(e,t,r){return new so(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new En(Zt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new so(t)}static emptyPath(){return new so([])}}const IT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oo extends a_{construct(e,t,r){return new oo(e,t,r)}static isValidIdentifier(e){return IT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new oo(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(0===r.length)throw new En(Zt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const _=e[s];if("\\"===_){if(s+1===e.length)throw new En(Zt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[s+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new En(Zt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,s+=2}else"`"===_?(c=!c,s++):"."!==_||c?(r+=_,s++):(a(),s++)}if(a(),c)throw new En(Zt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new oo(t)}static emptyPath(){return new oo([])}}class nr{constructor(e){this.path=e}static fromPath(e){return new nr(so.fromString(e))}static fromName(e){return new nr(so.fromString(e).popFirst(5))}static empty(){return new nr(so.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===so.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return so.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nr(new so(e.slice()))}}function YC(n){return new Uc(n.readTime,n.key,-1)}class Uc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Uc(Xr.min(),nr.empty(),-1)}static max(){return new Uc(Xr.max(),nr.empty(),-1)}}function qw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=nr.comparator(n.documentKey,e.documentKey),0!==t?t:Fi(n.largestBatchId,e.largestBatchId))}const Bv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xh(n){return Kw.apply(this,arguments)}function Kw(){return Kw=(0,Ae.Z)(function*(n){if(n.code!==Zt.FAILED_PRECONDITION||n.message!==Bv)throw n;On("LocalStore","Unexpectedly lost primary lease")}),Kw.apply(this,arguments)}class $t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Lr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $t((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $t?t:$t.resolve(t)}catch(t){return $t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$t.reject(t)}static resolve(e){return new $t((t,r)=>{t(e)})}static reject(e){return new $t((t,r)=>{r(e)})}static waitFor(e){return new $t((t,r)=>{let s=0,a=0,c=!1;e.forEach(_=>{++s,_.next(()=>{++a,c&&a===s&&t()},b=>r(b))}),c=!0,a===s&&t()})}static or(e){let t=$t.resolve(!1);for(const r of e)t=t.next(s=>s?$t.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new $t((r,s)=>{const a=e.length,c=new Array(a);let _=0;for(let b=0;b<a;b++){const O=b;t(e[O]).next(j=>{c[O]=j,++_,_===a&&r(c)},j=>s(j))}})}static doWhile(e,t){return new $t((r,s)=>{const a=()=>{!0===e()?t().next(()=>{a()},s):r()};a()})}}function Vd(n){return"IndexedDbTransactionError"===n.name}let Qu=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Mg(n){return null==n}function ap(n){return 0===n&&1/n==-1/0}function aA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Xw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Da{constructor(e,t){this.comparator=e,this.root=t||$c.EMPTY}insert(e,t){return new Da(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$c.BLACK,null,null))}remove(e){return new Da(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$c.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new d_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new d_(this.root,e,this.comparator,!1)}getReverseIterator(){return new d_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new d_(this.root,e,this.comparator,!0)}}class d_{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $c{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??$c.RED,this.left=s??$c.EMPTY,this.right=a??$c.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new $c(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===a?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $c.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return $c.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$c.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Lr();const e=this.left.check();if(e!==this.right.check())throw Lr();return e+(this.isRed()?0:1)}}$c.EMPTY=null,$c.RED=!0,$c.BLACK=!1,$c.EMPTY=new class{constructor(){this.size=0}get key(){throw Lr()}get value(){throw Lr()}get color(){throw Lr()}get left(){throw Lr()}get right(){throw Lr()}copy(n,e,t,r,s){return this}insert(n,e,t){return new $c(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ca{constructor(e){this.comparator=e,this.data=new Da(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LT(this.data.getIterator())}getIteratorFrom(e){return new LT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(s,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ca(this.comparator);return t.data=e,t}}class LT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zu{constructor(e){this.fields=e,e.sort(oo.comparator)}static empty(){return new Zu([])}unionWith(e){let t=new Ca(oo.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return op(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class VT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VT("Invalid base64 string: "+s):s}}(e);return new gc(t)}static fromUint8Array(e){const t=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new gc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gc.EMPTY_BYTE_STRING=new gc("");const cA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cf(n){if(Qr(!!n),"string"==typeof n){let e=0;const t=cA.exec(n);if(Qr(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kl(n.seconds),nanos:Kl(n.nanos)}}function Kl(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Oh(n){return"string"==typeof n?gc.fromBase64String(n):gc.fromUint8Array(n)}function uf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cp(n){const e=n.mapValue.fields.__previous_value__;return uf(e)?cp(e):e}function f_(n){const e=cf(n.mapValue.fields.__local_write_time__.timestampValue);return new gl(e.seconds,e.nanos)}class uA{constructor(e,t,r,s,a,c,_,b,O){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=_,this.longPollingOptions=b,this.useFetchStreams=O}}class up{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new up("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof up&&e.projectId===this.projectId&&e.database===this.database}}const df={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uf(n)?4:rb(n)?9007199254740991:10:Lr()}function gd(n,e){if(n===e)return!0;const t=hf(n);if(t!==hf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return f_(n).isEqual(f_(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=cf(r.timestampValue),c=cf(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Oh(n.bytesValue).isEqual(Oh(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Kl(r.geoPointValue.latitude)===Kl(s.geoPointValue.latitude)&&Kl(r.geoPointValue.longitude)===Kl(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Kl(r.integerValue)===Kl(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Kl(r.doubleValue),c=Kl(s.doubleValue);return a===c?ap(a)===ap(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return op(n.arrayValue.values||[],e.arrayValue.values||[],gd);case 10:return function(r,s){const a=r.mapValue.fields||{},c=s.mapValue.fields||{};if(aA(a)!==aA(c))return!1;for(const _ in a)if(a.hasOwnProperty(_)&&(void 0===c[_]||!gd(a[_],c[_])))return!1;return!0}(n,e);default:return Lr()}var s}function p_(n,e){return void 0!==(n.values||[]).find(t=>gd(t,e))}function ff(n,e){if(n===e)return 0;const t=hf(n),r=hf(e);if(t!==r)return Fi(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fi(n.booleanValue,e.booleanValue);case 2:return function(s,a){const c=Kl(s.integerValue||s.doubleValue),_=Kl(a.integerValue||a.doubleValue);return c<_?-1:c>_?1:c===_?0:isNaN(c)?isNaN(_)?0:-1:1}(n,e);case 3:return BT(n.timestampValue,e.timestampValue);case 4:return BT(f_(n),f_(e));case 5:return Fi(n.stringValue,e.stringValue);case 6:return function(s,a){const c=Oh(s),_=Oh(a);return c.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),_=a.split("/");for(let b=0;b<c.length&&b<_.length;b++){const O=Fi(c[b],_[b]);if(0!==O)return O}return Fi(c.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const c=Fi(Kl(s.latitude),Kl(a.latitude));return 0!==c?c:Fi(Kl(s.longitude),Kl(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,a){const c=s.values||[],_=a.values||[];for(let b=0;b<c.length&&b<_.length;++b){const O=ff(c[b],_[b]);if(O)return O}return Fi(c.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===df.mapValue&&a===df.mapValue)return 0;if(s===df.mapValue)return 1;if(a===df.mapValue)return-1;const c=s.fields||{},_=Object.keys(c),b=a.fields||{},O=Object.keys(b);_.sort(),O.sort();for(let j=0;j<_.length&&j<O.length;++j){const J=Fi(_[j],O[j]);if(0!==J)return J;const Ee=ff(c[_[j]],b[O[j]]);if(0!==Ee)return Ee}return Fi(_.length,O.length)}(n.mapValue,e.mapValue);default:throw Lr()}}function BT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Fi(n,e);const t=cf(n),r=cf(e),s=Fi(t.seconds,r.seconds);return 0!==s?s:Fi(t.nanos,r.nanos)}function Pg(n){return eb(n)}function eb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=cf(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Oh(n.bytesValue).toBase64():"referenceValue"in n?nr.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",a=!0;for(const c of r.values||[])a?a=!1:s+=",",s+=eb(c);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const _ of s)c?c=!1:a+=",",a+=`${_}:${eb(r.fields[_])}`;return a+"}"}(n.mapValue):Lr();var e}function tb(n){return!!n&&"integerValue"in n}function g_(n){return!!n&&"arrayValue"in n}function nb(n){return!!n&&"nullValue"in n}function Gv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hv(n){return!!n&&"mapValue"in n}function m_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return lp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=m_(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=m_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Rc{constructor(e){this.value=e}static empty(){return new Rc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=m_(t)}setAll(e){let t=oo.emptyPath(),r={},s=[];e.forEach((c,_)=>{if(!t.isImmediateParentOf(_)){const b=this.getFieldsMap(t);this.applyChanges(b,r,s),r={},s=[],t=_.popLast()}c?r[_.lastSegment()]=m_(c):s.push(_.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Hv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Hv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){lp(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Rc(m_(this.value))}}function jT(n){const e=[];return lp(n.fields,(t,r)=>{const s=new oo([t]);if(Hv(r)){const a=jT(r.mapValue).fields;if(0===a.length)e.push(s);else for(const c of a)e.push(s.child(c))}else e.push(s)}),new Zu(e)}class Qa{constructor(e,t,r,s,a,c,_){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=c,this.documentState=_}static newInvalidDocument(e){return new Qa(e,0,Xr.min(),Xr.min(),Xr.min(),Rc.empty(),0)}static newFoundDocument(e,t,r,s){return new Qa(e,1,t,Xr.min(),r,s,0)}static newNoDocument(e,t){return new Qa(e,2,t,Xr.min(),Xr.min(),Rc.empty(),0)}static newUnknownDocument(e,t){return new Qa(e,3,t,Xr.min(),Xr.min(),Rc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pf{constructor(e,t){this.position=e,this.inclusive=t}}function zv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],c=n.position[s];if(r=a.field.isKeyField()?nr.comparator(nr.fromName(c.referenceValue),t.key):ff(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Mh(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gd(n.position[t],e.position[t]))return!1;return!0}class hp{constructor(e,t="asc"){this.field=e,this.dir=t}}function sb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Wv{}class Zs extends Wv{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new hA(e,t,r):"array-contains"===t?new HT(e,r):"in"===t?new db(e,r):"not-in"===t?new fA(e,r):"array-contains-any"===t?new zT(e,r):new Zs(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new GT(e,r):new sO(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ff(t,this.value)):null!==t&&hf(this.value)===hf(t)&&this.matchesComparison(ff(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Aa extends Wv{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Aa(e,t)}matches(e){return fp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function fp(n){return"and"===n.op}function ab(n){return function $T(n){for(const e of n.filters)if(e instanceof Aa)return!1;return!0}(n)&&fp(n)}function lb(n){if(n instanceof Zs)return n.field.canonicalString()+n.op.toString()+Pg(n.value);if(ab(n))return n.filters.map(e=>lb(e)).join(",");{const e=n.filters.map(t=>lb(t)).join(",");return`${n.op}(${e})`}}function cb(n,e){return n instanceof Zs?(t=n,(r=e)instanceof Zs&&t.op===r.op&&t.field.isEqual(r.field)&&gd(t.value,r.value)):n instanceof Aa?function(t,r){return r instanceof Aa&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,a,c)=>s&&cb(a,r.filters[c]),!0)}(n,e):void Lr();var t,r}function ub(n){return n instanceof Zs?`${(e=n).field.canonicalString()} ${e.op} ${Pg(e.value)}`:n instanceof Aa?function(e){return e.op.toString()+" {"+e.getFilters().map(ub).join(" ,")+"}"}(n):"Filter";var e}class hA extends Zs{constructor(e,t,r){super(e,t,r),this.key=nr.fromName(r.referenceValue)}matches(e){const t=nr.comparator(e.key,this.key);return this.matchesComparison(t)}}class GT extends Zs{constructor(e,t){super(e,"in",t),this.keys=qv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sO extends Zs{constructor(e,t){super(e,"not-in",t),this.keys=qv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>nr.fromName(r.referenceValue))}class HT extends Zs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return g_(t)&&p_(t.arrayValue,this.value)}}class db extends Zs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&p_(this.value.arrayValue,t)}}class fA extends Zs{constructor(e,t){super(e,"not-in",t)}matches(e){if(p_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!p_(this.value.arrayValue,t)}}class zT extends Zs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!g_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>p_(this.value.arrayValue,r))}}class WT{constructor(e,t=null,r=[],s=[],a=null,c=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=c,this.endAt=_,this.dt=null}}function gf(n,e=null,t=[],r=[],s=null,a=null,c=null){return new WT(n,e,t,r,s,a,c)}function ph(n){const e=_r(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Mg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Pg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Pg(r)).join(",")),e.dt=t}return e.dt}function Ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Mh(n.startAt,e.startAt)&&Mh(n.endAt,e.endAt)}function __(n){return nr.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class gh{constructor(e,t=null,r=[],s=[],a=null,c="F",_=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=c,this.startAt=_,this.endAt=b,this.wt=null,this._t=null}}function kg(n){return new gh(n)}function gA(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function pp(n){const e=_r(n);if(null===e.wt){e.wt=[];const t=function hb(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function YT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new hp(t)),e.wt.push(new hp(oo.keyField(),"asc"));else{let s=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(s=!0);if(!s){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new hp(oo.keyField(),a))}}}return e.wt}function wu(n){const e=_r(n);if(!e._t)if("F"===e.limitType)e._t=gf(e.path,e.collectionGroup,pp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of pp(e))t.push(new hp(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new pf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new pf(e.startAt.position,e.startAt.inclusive):null;e._t=gf(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function pb(n,e,t){return new gh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qv(n,e){return Ng(wu(n),wu(e))&&n.limitType===e.limitType}function mA(n){return`${ph(wu(n))}|lt:${n.limitType}`}function QT(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>ub(r)).join(", ")}]`),Mg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Pg(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Pg(r)).join(",")),`Target(${t})`}(wu(n))}; limitType=${n.limitType})`}function Zv(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):nr.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of pp(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,a,c){const _=zv(s,a,c);return s.inclusive?_<=0:_<0}(t.startAt,pp(t),r)||t.endAt&&!function(s,a,c){const _=zv(s,a,c);return s.inclusive?_>=0:_>0}(t.endAt,pp(t),r)));var t,r}function y_(n){return(e,t)=>{let r=!1;for(const s of pp(n)){const a=_A(s,e,t);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function _A(n,e,t){const r=n.field.isKeyField()?nr.comparator(e.key,t.key):function(s,a,c){const _=a.data.field(s),b=c.data.field(s);return null!==_&&null!==b?ff(_,b):Lr()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Lr()}}class Ph{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,a]of r)if(this.equalsFn(s,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){lp(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return Xw(this.inner)}size(){return this.innerSize}}const JT=new Da(nr.comparator);function ic(){return JT}const gb=new Da(nr.comparator);function gp(...n){let e=gb;for(const t of n)e=e.insert(t.key,t);return e}function Jv(n){let e=gb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function mh(){return mp()}function Xv(){return mp()}function mp(){return new Ph(n=>n.toString(),(n,e)=>n.isEqual(e))}const e0=new Da(nr.comparator),oO=new Ca(nr.comparator);function ys(...n){let e=oO;for(const t of n)e=e.add(t);return e}const aO=new Ca(Fi);function XT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ap(e)?"-0":e}}function eS(n){return{integerValue:""+n}}function tS(n,e){return function ZC(n){return"number"==typeof n&&Number.isInteger(n)&&!ap(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?eS(e):XT(n,e)}class n0{constructor(){this._=void 0}}function nS(n,e,t){return n instanceof Fg?function(r,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&uf(s)&&(s=cp(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):n instanceof _p?_b(n,e):n instanceof Nh?yA(n,e):function(r,s){const a=mb(r,s),c=r0(a)+r0(r.gt);return tb(a)&&tb(r.gt)?eS(c):XT(r.serializer,c)}(n,e)}function rS(n,e,t){return n instanceof _p?_b(n,e):n instanceof Nh?yA(n,e):t}function mb(n,e){return n instanceof yp?tb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Fg extends n0{}class _p extends n0{constructor(e){super(),this.elements=e}}function _b(n,e){const t=iS(e);for(const r of n.elements)t.some(s=>gd(s,r))||t.push(r);return{arrayValue:{values:t}}}class Nh extends n0{constructor(e){super(),this.elements=e}}function yA(n,e){let t=iS(e);for(const r of n.elements)t=t.filter(s=>!gd(s,r));return{arrayValue:{values:t}}}class yp extends n0{constructor(e,t){super(),this.serializer=e,this.gt=t}}function r0(n){return Kl(n.integerValue||n.doubleValue)}function iS(n){return g_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cO{constructor(e,t){this.version=e,this.transformResults=t}}class ml{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ml}static exists(e){return new ml(void 0,e)}static updateTime(e){return new ml(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function s0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class o0{}function sS(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ep(n.key,ml.none()):new vp(n.key,n.data,ml.none());{const t=n.data,r=Rc.empty();let s=new Ca(oo.comparator);for(let a of e.fields)if(!s.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),s=s.add(a)}return new mf(n.key,r,new Zu(s.toArray()),ml.none())}}function oS(n,e,t){n instanceof vp?function(r,s,a){const c=r.value.clone(),_=a0(r.fieldTransforms,s,a.transformResults);c.setAll(_),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof mf?function(r,s,a){if(!s0(r.precondition,s))return void s.convertToUnknownDocument(a.version);const c=a0(r.fieldTransforms,s,a.transformResults),_=s.data;_.setAll(aS(r)),_.setAll(c),s.convertToFoundDocument(a.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lg(n,e,t,r){return n instanceof vp?function(s,a,c,_){if(!s0(s.precondition,a))return c;const b=s.value.clone(),O=vb(s.fieldTransforms,_,a);return b.setAll(O),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null}(n,e,t,r):n instanceof mf?function(s,a,c,_){if(!s0(s.precondition,a))return c;const b=vb(s.fieldTransforms,_,a),O=a.data;return O.setAll(aS(s)),O.setAll(b),a.convertToFoundDocument(a.version,O).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(j=>j.field))}(n,e,t,r):(c=t,s0(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function vA(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=mb(r.transform,s||null);null!=a&&(null===t&&(t=Rc.empty()),t.set(r.field,a))}return t||null}function yb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&op(t,r,(s,a)=>function lO(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof _p&&r instanceof _p||t instanceof Nh&&r instanceof Nh?op(t.elements,r.elements,gd):t instanceof yp&&r instanceof yp?gd(t.gt,r.gt):t instanceof Fg&&r instanceof Fg);var t,r}(s,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class vp extends o0{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mf extends o0{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function aS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function a0(n,e,t){const r=new Map;Qr(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],c=a.transform,_=e.data.field(a.field);r.set(a.field,rS(c,_,t[s]))}return r}function vb(n,e,t){const r=new Map;for(const s of n){const a=s.transform,c=t.data.field(s.field);r.set(s.field,nS(a,c,e))}return r}class Ep extends o0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Eb extends o0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vg{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&oS(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Lg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Xv();return this.mutations.forEach(s=>{const a=e.get(s.key),c=a.overlayedDocument;let _=this.applyToLocalView(c,a.mutatedFields);_=t.has(s.key)?null:_;const b=sS(c,_);null!==b&&r.set(s.key,b),c.isValidDocument()||c.convertToNoDocument(Xr.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ys())}isEqual(e){return this.batchId===e.batchId&&op(this.mutations,e.mutations,(t,r)=>yb(t,r))&&op(this.baseMutations,e.baseMutations,(t,r)=>yb(t,r))}}class wb{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Qr(e.mutations.length===r.length);let s=e0;const a=e.mutations;for(let c=0;c<a.length;c++)s=s.insert(a[c].key,r[c].version);return new wb(e,t,r,s)}}class bb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cS{constructor(e,t){this.count=e,this.unchangedNames=t}}var mc,bo;function uS(n){if(void 0===n)return Nl("GRPC error has no .code"),Zt.UNKNOWN;switch(n){case mc.OK:return Zt.OK;case mc.CANCELLED:return Zt.CANCELLED;case mc.UNKNOWN:return Zt.UNKNOWN;case mc.DEADLINE_EXCEEDED:return Zt.DEADLINE_EXCEEDED;case mc.RESOURCE_EXHAUSTED:return Zt.RESOURCE_EXHAUSTED;case mc.INTERNAL:return Zt.INTERNAL;case mc.UNAVAILABLE:return Zt.UNAVAILABLE;case mc.UNAUTHENTICATED:return Zt.UNAUTHENTICATED;case mc.INVALID_ARGUMENT:return Zt.INVALID_ARGUMENT;case mc.NOT_FOUND:return Zt.NOT_FOUND;case mc.ALREADY_EXISTS:return Zt.ALREADY_EXISTS;case mc.PERMISSION_DENIED:return Zt.PERMISSION_DENIED;case mc.FAILED_PRECONDITION:return Zt.FAILED_PRECONDITION;case mc.ABORTED:return Zt.ABORTED;case mc.OUT_OF_RANGE:return Zt.OUT_OF_RANGE;case mc.UNIMPLEMENTED:return Zt.UNIMPLEMENTED;case mc.DATA_LOSS:return Zt.DATA_LOSS;default:return Lr()}}(bo=mc||(mc={}))[bo.OK=0]="OK",bo[bo.CANCELLED=1]="CANCELLED",bo[bo.UNKNOWN=2]="UNKNOWN",bo[bo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bo[bo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bo[bo.NOT_FOUND=5]="NOT_FOUND",bo[bo.ALREADY_EXISTS=6]="ALREADY_EXISTS",bo[bo.PERMISSION_DENIED=7]="PERMISSION_DENIED",bo[bo.UNAUTHENTICATED=16]="UNAUTHENTICATED",bo[bo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bo[bo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bo[bo.ABORTED=10]="ABORTED",bo[bo.OUT_OF_RANGE=11]="OUT_OF_RANGE",bo[bo.UNIMPLEMENTED=12]="UNIMPLEMENTED",bo[bo.INTERNAL=13]="INTERNAL",bo[bo.UNAVAILABLE=14]="UNAVAILABLE",bo[bo.DATA_LOSS=15]="DATA_LOSS";class dS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ib}static getOrCreateInstance(){return null===Ib&&(Ib=new dS),Ib}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Ib=null;const wA=new ip([4294967295,4294967295],0);function bA(n){const e=function hS(){return new TextEncoder}().encode(n),t=new GC;return t.update(e),new Uint8Array(t.digest())}function IA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ip([t,r],0),new ip([s,a],0)]}class fS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new l0(`Invalid padding: ${t}`);if(r<0)throw new l0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new l0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new l0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ip.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(ip.fromNumber(r)));return 1===s.compare(wA)&&(s=new ip([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=bA(e),[r,s]=IA(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,s,a);if(!this.At(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new fS(a,s,t);return r.forEach(_=>c.insert(_)),c}insert(e){if(0===this.It)return;const t=bA(e),[r,s]=IA(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,s,a);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class l0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class c0{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,E_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new c0(Xr.min(),s,new Da(Fi),ic(),ys())}}class E_{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new E_(r,t,ys(),ys(),ys())}}class Tb{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class TA{constructor(e,t){this.targetId=e,this.Vt=t}}class SA{constructor(e,t,r=gc.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class DA{constructor(){this.St=0,this.Dt=AA(),this.Ct=gc.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ys(),t=ys(),r=ys();return this.Dt.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Lr()}}),new E_(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=AA()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class CA{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ic(),this.zt=pS(),this.Wt=new Da(Fi)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Lr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,a=this.se(r);if(a){const c=a.target;if(__(c))if(0===s){const _=new nr(c.path);this.Yt(r,_,Qa.newNoDocument(_,Xr.min()))}else Qr(1===s);else{const _=this.ie(r);if(_!==s){const b=this.re(e,_);0!==b&&(this.ee(r),this.Wt=this.Wt.insert(r,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=dS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(O,j,J){var Ee,ke,bt,jt,Gt,$n;const rr={localCacheCount:j,existenceFilterCount:J.count},Jn=J.unchangedNames;return Jn&&(rr.bloomFilter={applied:0===O,hashCount:null!==(Ee=Jn?.hashCount)&&void 0!==Ee?Ee:0,bitmapLength:null!==(jt=null===(bt=null===(ke=Jn?.bits)||void 0===ke?void 0:ke.bitmap)||void 0===bt?void 0:bt.length)&&void 0!==jt?jt:0,padding:null!==($n=null===(Gt=Jn?.bits)||void 0===Gt?void 0:Gt.padding)&&void 0!==$n?$n:0}),rr}(b,_,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:_=0}=r;let b,O;try{b=Oh(a).toUint8Array()}catch(j){if(j instanceof VT)return Ku("Decoding the base64 bloom filter in existence filter failed ("+j.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw j}try{O=new fS(b,c,_)}catch(j){return Ku(j instanceof l0?"BloomFilter error: ":"Applying bloom filter failed: ",j),1}return 0===O.It?1:s!==t-this.oe(e.targetId,O)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(a=>{const c=this.Gt.ue(),_=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;t.vt(_)||(this.Yt(e,a,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((a,c)=>{const _=this.se(c);if(_){if(a.current&&__(_.target)){const b=new nr(_.target.path);null!==this.jt.get(b)||this.ae(c,b)||this.Yt(c,b,Qa.newNoDocument(b,e))}a.Mt&&(t.set(c,a.Ot()),a.Ft())}});let r=ys();this.zt.forEach((a,c)=>{let _=!0;c.forEachWhile(b=>{const O=this.se(b);return!O||"TargetPurposeLimboResolution"===O.purpose||(_=!1,!1)}),_&&(r=r.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const s=new c0(e,t,this.Wt,this.jt,r);return this.jt=ic(),this.zt=pS(),this.Wt=new Da(Fi),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new DA,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ca(Fi),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||On("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new DA),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function pS(){return new Da(nr.comparator)}function AA(){return new Da(nr.comparator)}const i={asc:"ASCENDING",desc:"DESCENDING"},o={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l={and:"AND",or:"OR"};class u{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function h(n,e){return n.useProto3Json||Mg(e)?e:{value:e}}function v(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function N(n,e){return v(n,e.toTimestamp())}function H(n){return Qr(!!n),Xr.fromTimestamp(function(e){const t=cf(e);return new gl(t.seconds,t.nanos)}(n))}function ie(n,e){return(t=n,new so(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ye(n){const e=so.fromString(n);return Qr(hO(e)),e}function Fe(n,e){return ie(n.databaseId,e.path)}function at(n,e){const t=ye(e);if(t.get(1)!==n.databaseId.projectId)throw new En(Zt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new En(Zt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new nr(fr(t))}function Dt(n,e){return ie(n.databaseId,e)}function Cn(n){return new so(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fr(n){return Qr(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ei(n,e,t){return{name:Fe(n,e),fields:t.value.mapValue.fields}}function wp(n,e){return{documents:[Dt(n,e.path)]}}function w_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Dt(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Dt(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(b){if(0!==b.length)return dO(Aa.create(b,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(b){if(0!==b.length)return b.map(O=>{return{field:Bg((j=O).field),direction:aP(j.dir)};var j})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=h(n,e.limit);var _,b;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(_=e.startAt).inclusive,values:_.position}),e.endAt&&(t.structuredQuery.endAt={before:!(b=e.endAt).inclusive,values:b.position}),t}function gS(n){let e=function nn(n){const e=ye(n);return 4===e.length?so.emptyPath():fr(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Qr(1===r);const j=t.from[0];j.allDescendants?s=j.collectionId:e=e.child(j.collectionId)}let a=[];t.where&&(a=function(j){const J=uO(j);return J instanceof Aa&&ab(J)?J.getFilters():[J]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(j=>{return new hp(u0((J=j).field),function(Ee){switch(Ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction));var J}));let _=null;t.limit&&(_=function(j){let J;return J="object"==typeof j?j.value:j,Mg(J)?null:J}(t.limit));let b=null;var j;t.startAt&&(b=new pf((j=t.startAt).values||[],!!j.before));let O=null;return t.endAt&&(O=function(j){return new pf(j.values||[],!j.before)}(t.endAt)),function KT(n,e,t,r,s,a,c,_){return new gh(n,e,t,r,s,a,c,_)}(e,s,c,a,_,"F",b,O)}function uO(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=u0(e.unaryFilter.field);return Zs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=u0(e.unaryFilter.field);return Zs.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=u0(e.unaryFilter.field);return Zs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=u0(e.unaryFilter.field);return Zs.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Lr()}}(n):void 0!==n.fieldFilter?Zs.create(u0((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lr()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Aa.create(e.compositeFilter.filters.map(t=>uO(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Lr()}}(e.compositeFilter.op))}(n):Lr();var e}function aP(n){return i[n]}function lP(n){return o[n]}function cP(n){return l[n]}function Bg(n){return{fieldPath:n.canonicalString()}}function u0(n){return oo.fromServerFormat(n.fieldPath)}function dO(n){return n instanceof Zs?function(e){if("=="===e.op){if(Gv(e.value))return{unaryFilter:{field:Bg(e.field),op:"IS_NAN"}};if(nb(e.value))return{unaryFilter:{field:Bg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gv(e.value))return{unaryFilter:{field:Bg(e.field),op:"IS_NOT_NAN"}};if(nb(e.value))return{unaryFilter:{field:Bg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bg(e.field),op:lP(e.op),value:e.value}}}(n):n instanceof Aa?function(e){const t=e.getFilters().map(r=>dO(r));return 1===t.length?t[0]:{compositeFilter:{op:cP(e.op),filters:t}}}(n):Lr()}function uP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class bp{constructor(e,t,r,s,a=Xr.min(),c=Xr.min(),_=gc.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=_,this.expectedCount=b}withSequenceNumber(e){return new bp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fO{constructor(e){this.fe=e}}function xA(n){const e=gS({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?pb(e,e.limit,"L"):e}class S_{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Kl(e.integerValue));else if("doubleValue"in e){const r=Kl(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),ap(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Oh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?rb(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Lr()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),nr.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}S_.Ve=new S_;class vP{constructor(){this.rn=new FA}addToCollectionParentIndex(e,t){return this.rn.add(t),$t.resolve()}getCollectionParents(e,t){return $t.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return $t.resolve()}deleteFieldIndex(e,t){return $t.resolve()}getDocumentsMatchingTarget(e,t){return $t.resolve(null)}getIndexType(e,t){return $t.resolve(0)}getFieldIndexes(e,t){return $t.resolve([])}getNextCollectionGroupToUpdate(e){return $t.resolve(null)}getMinOffset(e,t){return $t.resolve(Uc.min())}getMinOffsetFromCollectionGroup(e,t){return $t.resolve(Uc.min())}updateCollectionGroup(e,t,r){return $t.resolve()}updateIndexEntries(e,t){return $t.resolve()}}class FA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ca(so.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ca(so.comparator)).toArray()}}new Uint8Array(0);class Mu{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mu(e,Mu.DEFAULT_COLLECTION_PERCENTILE,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Mu.DEFAULT_COLLECTION_PERCENTILE=10,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mu.DEFAULT=new Mu(41943040,Mu.DEFAULT_COLLECTION_PERCENTILE,Mu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mu.DISABLED=new Mu(-1,0,0);class C_{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new C_(0)}static Mn(){return new C_(-1)}}class SP{constructor(){this.changes=new Ph(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?$t.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class AP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class BO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Lg(r.mutation,s,Zu.empty(),gl.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ys()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ys()){const s=mh();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let c=gp();return a.forEach((_,b)=>{c=c.insert(_,b.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=mh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ys()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((c,_)=>{t.set(c,_)})})}computeViews(e,t,r,s){let a=ic();const c=mp(),_=mp();return t.forEach((b,O)=>{const j=r.get(O.key);s.has(O.key)&&(void 0===j||j.mutation instanceof mf)?a=a.insert(O.key,O):void 0!==j?(c.set(O.key,j.mutation.getFieldMask()),Lg(j.mutation,O,j.mutation.getFieldMask(),gl.now())):c.set(O.key,Zu.empty())}),this.recalculateAndSaveOverlays(e,a).next(b=>(b.forEach((O,j)=>c.set(O,j)),t.forEach((O,j)=>{var J;return _.set(O,new AP(j,null!==(J=c.get(O))&&void 0!==J?J:null))}),_))}recalculateAndSaveOverlays(e,t){const r=mp();let s=new Da((c,_)=>c-_),a=ys();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const _ of c)_.keys().forEach(b=>{const O=t.get(b);if(null===O)return;let j=r.get(b)||Zu.empty();j=_.applyToLocalView(O,j),r.set(b,j);const J=(s.get(_.batchId)||ys()).add(b);s=s.insert(_.batchId,J)})}).next(()=>{const c=[],_=s.getReverseIterator();for(;_.hasNext();){const b=_.getNext(),O=b.key,j=b.value,J=Xv();j.forEach(Ee=>{if(!a.has(Ee)){const ke=sS(t.get(Ee),r.get(Ee));null!==ke&&J.set(Ee,ke),a=a.add(Ee)}}),c.push(this.documentOverlayCache.saveOverlays(e,O,J))}return $t.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return nr.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Yv(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const c=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):$t.resolve(mh());let _=-1,b=a;return c.next(O=>$t.forEach(O,(j,J)=>(_<J.largestBatchId&&(_=J.largestBatchId),a.get(j)?$t.resolve():this.remoteDocumentCache.getEntry(e,j).next(Ee=>{b=b.insert(j,Ee)}))).next(()=>this.populateOverlays(e,O,a)).next(()=>this.computeViews(e,b,O,ys())).next(j=>({batchId:_,changes:Jv(j)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nr(t)).next(r=>{let s=gp();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let a=gp();return this.indexManager.getCollectionParents(e,s).next(c=>$t.forEach(c,_=>{const b=(O=t,j=_.child(s),new gh(j,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt));var O,j;return this.getDocumentsMatchingCollectionQuery(e,b,r).next(O=>{O.forEach((j,J)=>{a=a.insert(j,J)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(a=>{s.forEach((_,b)=>{const O=b.getKey();null===a.get(O)&&(a=a.insert(O,Qa.newInvalidDocument(O)))});let c=gp();return a.forEach((_,b)=>{const O=s.get(_);void 0!==O&&Lg(O.mutation,b,Zu.empty(),gl.now()),Zv(t,b)&&(c=c.insert(_,b))}),c})}}class RP{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return $t.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:H(r.createTime)}),$t.resolve()}getNamedQuery(e,t){return $t.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:xA(r.bundledQuery),readTime:H(r.readTime)}),$t.resolve();var r}}class xP{constructor(){this.overlays=new Da(nr.comparator),this.ls=new Map}getOverlay(e,t){return $t.resolve(this.overlays.get(t))}getOverlays(e,t){const r=mh();return $t.forEach(t,s=>this.getOverlay(e,s).next(a=>{null!==a&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.we(e,t,a)}),$t.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),$t.resolve()}getOverlaysForCollection(e,t,r){const s=mh(),a=t.length+1,c=new nr(t.child("")),_=this.overlays.getIteratorFrom(c);for(;_.hasNext();){const b=_.getNext().value,O=b.getKey();if(!t.isPrefixOf(O.path))break;O.path.length===a&&b.largestBatchId>r&&s.set(b.getKey(),b)}return $t.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Da((O,j)=>O-j);const c=this.overlays.getIterator();for(;c.hasNext();){const O=c.getNext().value;if(O.getKey().getCollectionGroup()===t&&O.largestBatchId>r){let j=a.get(O.largestBatchId);null===j&&(j=mh(),a=a.insert(O.largestBatchId,j)),j.set(O.getKey(),O)}}const _=mh(),b=a.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((O,j)=>_.set(O,j)),!(_.size()>=s)););return $t.resolve(_)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const c=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new bb(t,r));let a=this.ls.get(t);void 0===a&&(a=ys(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class LA{constructor(){this.fs=new Ca(uu.ds),this.ws=new Ca(uu._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new uu(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new uu(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new nr(new so([])),r=new uu(t,e),s=new uu(t,e+1),a=[];return this.ws.forEachInRange([r,s],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new nr(new so([])),r=new uu(t,e),s=new uu(t,e+1);let a=ys();return this.ws.forEachInRange([r,s],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new uu(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class uu{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return nr.comparator(e.key,t.key)||Fi(e.As,t.As)}static _s(e,t){return Fi(e.As,t.As)||nr.comparator(e.key,t.key)}}class OP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ca(uu.ds)}checkEmpty(e){return $t.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const a=this.vs;this.vs++;const c=new Vg(a,t,r,s);this.mutationQueue.push(c);for(const _ of s)this.Rs=this.Rs.add(new uu(_.key,a)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return $t.resolve(c)}lookupMutationBatch(e,t){return $t.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),a=s<0?0:s;return $t.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return $t.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return $t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new uu(t,0),s=new uu(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,s],c=>{const _=this.Ps(c.As);a.push(_)}),$t.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ca(Fi);return t.forEach(s=>{const a=new uu(s,0),c=new uu(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],_=>{r=r.add(_.As)})}),$t.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;nr.isDocumentKey(a)||(a=a.child(""));const c=new uu(new nr(a),0);let _=new Ca(Fi);return this.Rs.forEachWhile(b=>{const O=b.key.path;return!!r.isPrefixOf(O)&&(O.length===s&&(_=_.add(b.As)),!0)},c),$t.resolve(this.Vs(_))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Qr(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return $t.forEach(t.mutations,s=>{const a=new uu(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new uu(t,0),s=this.Rs.firstAfterOrEqual(r);return $t.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return $t.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class MP{constructor(e){this.Ds=e,this.docs=new Da(nr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $t.resolve(r?r.document.mutableCopy():Qa.newInvalidDocument(t))}getEntries(e,t){let r=ic();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Qa.newInvalidDocument(s))}),$t.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ic();const c=t.path,_=new nr(c.child("")),b=this.docs.getIteratorFrom(_);for(;b.hasNext();){const{key:O,value:{document:j}}=b.getNext();if(!c.isPrefixOf(O.path))break;O.path.length>c.length+1||qw(YC(j),r)<=0||(s.has(j.key)||Zv(t,j))&&(a=a.insert(j.key,j.mutableCopy()))}return $t.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Lr()}Cs(e,t){return $t.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new PP(this)}getSize(e){return $t.resolve(this.size)}}class PP extends SP{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),$t.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class NP{constructor(e){this.persistence=e,this.xs=new Ph(t=>ph(t),Ng),this.lastRemoteSnapshotVersion=Xr.min(),this.highestTargetId=0,this.Ns=0,this.ks=new LA,this.targetCount=0,this.Ms=C_.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),$t.resolve()}getLastRemoteSnapshotVersion(e){return $t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $t.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),$t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),$t.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new C_(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,$t.resolve()}updateTargetData(e,t){return this.Fn(t),$t.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,$t.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.xs.forEach((c,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,_.targetId)),s++)}),$t.waitFor(a).next(()=>s)}getTargetCount(e){return $t.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return $t.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),$t.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(c=>{a.push(s.markPotentiallyOrphaned(e,c))}),$t.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),$t.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return $t.resolve(r)}containsKey(e,t){return $t.resolve(this.ks.containsKey(t))}}class VA{constructor(e,t){this.$s={},this.overlays={},this.Os=new Qu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new NP(this),this.indexManager=new vP,this.remoteDocumentCache=new MP(r=>this.referenceDelegate.Ls(r)),this.serializer=new fO(t),this.qs=new RP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new OP(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){On("MemoryPersistence","Starting transaction:",e);const s=new kP(this.Os.next());return this.referenceDelegate.Us(),r(s).next(a=>this.referenceDelegate.Ks(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Gs(e,t){return $t.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class kP extends QC{constructor(e){super(),this.currentSequenceNumber=e}}class TS{constructor(e){this.persistence=e,this.Qs=new LA,this.js=null}static zs(e){return new TS(e)}get Ws(){if(this.js)return this.js;throw Lr()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),$t.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),$t.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),$t.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.Ws,r=>{const s=nr.fromPath(r);return this.Hs(e,s).next(a=>{a||t.removeEntry(s,Xr.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return $t.or([()=>$t.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class $A{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=ys(),s=ys();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new $A(e,t.fromCache,r,s)}}class jO{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(a=>a||this.Gi(e,t,s,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(gA(t))return $t.resolve(null);let r=wu(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=pb(t,null,"F"),r=wu(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=ys(...a);return this.Ui.getDocuments(e,c).next(_=>this.indexManager.getMinOffset(e,r).next(b=>{const O=this.ji(t,_);return this.zi(t,O,c,b.readTime)?this.Ki(e,pb(t,null,"F")):this.Wi(e,O,t,b)}))})))}Gi(e,t,r,s){return gA(t)||s.isEqual(Xr.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const c=this.ji(t,a);return this.zi(t,c,r,s)?this.Qi(e,t):(Uw()<=Te.in.DEBUG&&On("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),QT(t)),this.Wi(e,c,t,function KC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Xr.fromTimestamp(1e9===r?new gl(t+1,0):new gl(t,r));return new Uc(s,nr.empty(),e)}(s,-1)))})}ji(e,t){let r=new Ca(y_(e));return t.forEach((s,a)=>{Zv(e,a)&&(r=r.add(a))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Qi(e,t){return Uw()<=Te.in.DEBUG&&On("QueryEngine","Using full collection scan to execute query:",QT(t)),this.Ui.getDocumentsMatchingQuery(e,t,Uc.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class LP{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new Da(Fi),this.Yi=new Ph(a=>ph(a),Ng),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function GO(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,Ae.Z)(function*(n,e){const t=_r(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],_=[];let b=ys();for(const O of s){c.push(O.batchId);for(const j of O.mutations)b=b.add(j.key)}for(const O of a){_.push(O.batchId);for(const j of O.mutations)b=b.add(j.key)}return t.localDocuments.getDocuments(r,b).next(O=>({er:O,removedBatchIds:c,addedBatchIds:_}))})})}),GA.apply(this,arguments)}function HO(n){const e=_r(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function UP(n,e){const t=_r(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function p0(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,Ae.Z)(function*(n,e,t){const r=_r(n),s=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Vd(c))throw c;On("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),HA.apply(this,arguments)}function CS(n,e,t){const r=_r(n);let s=Xr.min(),a=ys();return r.persistence.runTransaction("Execute query","readonly",c=>function(_,b,O){const j=_r(_),J=j.Yi.get(O);return void 0!==J?$t.resolve(j.Ji.get(J)):j.Bs.getTargetData(b,O)}(r,c,wu(e)).next(_=>{if(_)return s=_.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,_.targetId).next(b=>{a=b})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?s:Xr.min(),t?a:ys())).next(_=>(function KO(n,e,t){let r=n.Xi.get(e)||Xr.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}(r,function ZT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),_),{documents:_,ir:a})))}class YA{constructor(){this.activeTargetIds=function t0(){return aO}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZO{constructor(){this.Hr=new YA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new YA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GP{Yr(e){}shutdown(){}}class JO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){On("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){On("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xS=null;function ZA(){return null===xS?xS=268435456+Math.round(2147483648*Math.random()):xS++,"0x"+xS.toString(16)}const HP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zP{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Pu="WebChannelConnection";class WP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,a){const c=ZA(),_=this.To(e,t);On("RestConnection",`Sending RPC '${e}' ${c}:`,_,r);const b={};return this.Eo(b,s,a),this.Ao(e,_,b,r).then(O=>(On("RestConnection",`Received RPC '${e}' ${c}: `,O),O),O=>{throw Ku("RestConnection",`RPC '${e}' ${c} failed with error: `,O,"url: ",_,"request:",r),O})}vo(e,t,r,s,a,c){return this.Io(e,t,r,s,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}To(e,t){return`${this.mo}/v1/${t}:${HP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const a=ZA();return new Promise((c,_)=>{const b=new $C;b.setWithCredentials(!0),b.listenOnce(kv.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Bw.NO_ERROR:const j=b.getResponseJson();On(Pu,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(j)),c(j);break;case Bw.TIMEOUT:On(Pu,`RPC '${e}' ${a} timed out`),_(new En(Zt.DEADLINE_EXCEEDED,"Request time out"));break;case Bw.HTTP_ERROR:const J=b.getStatus();if(On(Pu,`RPC '${e}' ${a} failed with status:`,J,"response text:",b.getResponseText()),J>0){let Ee=b.getResponseJson();Array.isArray(Ee)&&(Ee=Ee[0]);const ke=Ee?.error;if(ke&&ke.status&&ke.message){const bt=function(jt){const Gt=jt.toLowerCase().replace(/_/g,"-");return Object.values(Zt).indexOf(Gt)>=0?Gt:Zt.UNKNOWN}(ke.status);_(new En(bt,ke.message))}else _(new En(Zt.UNKNOWN,"Server responded with status "+b.getStatus()))}else _(new En(Zt.UNAVAILABLE,"Connection failed."));break;default:Lr()}}finally{On(Pu,`RPC '${e}' ${a} completed.`)}});const O=JSON.stringify(s);On(Pu,`RPC '${e}' ${a} sending request:`,s),b.send(t,"POST",O,r,15)})}Ro(e,t,r){const s=ZA(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=UC(),_=jC(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},O=this.longPollingOptions.timeoutSeconds;void 0!==O&&(b.longPollingTimeout=Math.round(1e3*O)),this.useFetchStreams&&(b.xmlHttpFactory=new mT({})),this.Eo(b.initMessageHeaders,t,r),b.encodeInitMessageHeaders=!0;const j=a.join("");On(Pu,`Creating RPC '${e}' stream ${s}: ${j}`,b);const J=c.createWebChannel(j,b);let Ee=!1,ke=!1;const bt=new zP({ro:Gt=>{ke?On(Pu,`Not sending because RPC '${e}' stream ${s} is closed:`,Gt):(Ee||(On(Pu,`Opening RPC '${e}' stream ${s} transport.`),J.open(),Ee=!0),On(Pu,`RPC '${e}' stream ${s} sending:`,Gt),J.send(Gt))},oo:()=>J.close()}),jt=(Gt,$n,rr)=>{Gt.listen($n,Jn=>{try{rr(Jn)}catch(fi){setTimeout(()=>{throw fi},0)}})};return jt(J,rp.EventType.OPEN,()=>{ke||On(Pu,`RPC '${e}' stream ${s} transport opened.`)}),jt(J,rp.EventType.CLOSE,()=>{ke||(ke=!0,On(Pu,`RPC '${e}' stream ${s} transport closed`),bt.wo())}),jt(J,rp.EventType.ERROR,Gt=>{ke||(ke=!0,Ku(Pu,`RPC '${e}' stream ${s} transport errored:`,Gt),bt.wo(new En(Zt.UNAVAILABLE,"The operation could not be completed")))}),jt(J,rp.EventType.MESSAGE,Gt=>{var $n;if(!ke){const rr=Gt.data[0];Qr(!!rr);const fi=rr.error||(null===($n=rr[0])||void 0===$n?void 0:$n.error);if(fi){On(Pu,`RPC '${e}' stream ${s} received error:`,fi);const Hi=fi.status;let pi=function(du){const QS=mc[du];if(void 0!==QS)return uS(QS)}(Hi),ta=fi.message;void 0===pi&&(pi=Zt.INTERNAL,ta="Unknown error status: "+Hi+" with message "+fi.message),ke=!0,bt.wo(new En(pi,ta)),J.close()}else On(Pu,`RPC '${e}' stream ${s} received:`,rr),bt._o(rr)}}),jt(_,pT.STAT_EVENT,Gt=>{Gt.stat===gT.PROXY?On(Pu,`RPC '${e}' stream ${s} detected buffering proxy`):Gt.stat===gT.NOPROXY&&On(Pu,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{bt.fo()},0),bt}}function OS(){return typeof document<"u"?document:null}function Pb(n){return new u(n,!0)}class JA{constructor(e,t,r=1e3,s=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&On("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class eM{constructor(e,t,r,s,a,c,_,b){this.ii=e,this.$o=r,this.Oo=s,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=_,this.listener=b,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new JA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ae.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ae.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Ae.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===Zt.RESOURCE_EXHAUSTED?(Nl(t.toString()),Nl("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===Zt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new En(Zt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,Ae.Z)(function*(){e.state=0,e.start()}))}tu(e){return On("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(On("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qP extends eM{constructor(e,t,r,s,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function ws(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:Lr(),s=e.targetChange.targetIds||[],a=function(b,O){return b.useProto3Json?(Qr(void 0===O||"string"==typeof O),gc.fromBase64String(O||"")):(Qr(void 0===O||O instanceof Uint8Array),gc.fromUint8Array(O||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,_=c&&function(b){const O=void 0===b.code?Zt.UNKNOWN:uS(b.code);return new En(O,b.message||"")}(c);t=new SA(r,s,a,_||null)}else if("documentChange"in e){const r=e.documentChange,s=at(n,r.document.name),a=H(r.document.updateTime),c=r.document.createTime?H(r.document.createTime):Xr.min(),_=new Rc({mapValue:{fields:r.document.fields}}),b=Qa.newFoundDocument(s,a,c,_);t=new Tb(r.targetIds||[],r.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const r=e.documentDelete,s=at(n,r.document),a=r.readTime?H(r.readTime):Xr.min(),c=Qa.newNoDocument(s,a);t=new Tb([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,s=at(n,r.document);t=new Tb([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return Lr();{const r=e.filter,{count:s=0,unchangedNames:a}=r,c=new cS(s,a);t=new TA(r.targetId,c)}}var b;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Xr.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Xr.min():a.readTime?H(a.readTime):Xr.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Cn(this.serializer),t.addTarget=function(s,a){let c;const _=a.target;if(c=__(_)?{documents:wp(s,_)}:{query:w_(s,_)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=x(s,a.resumeToken);const b=h(s,a.expectedCount);null!==b&&(c.expectedCount=b)}else if(a.snapshotVersion.compareTo(Xr.min())>0){c.readTime=v(s,a.snapshotVersion.toTimestamp());const b=h(s,a.expectedCount);null!==b&&(c.expectedCount=b)}return c}(this.serializer,e);const r=function RA(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lr()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Cn(this.serializer),t.removeTarget=e,this.Wo(t)}}class KP extends eM{constructor(e,t,r,s,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Qr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function kh(n,e){return n&&n.length>0?(Qr(void 0!==e),n.map(t=>function(r,s){let a=H(r.updateTime?r.updateTime:s);return a.isEqual(Xr.min())&&(a=H(s)),new cO(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=H(e.commitTime);return this.listener.cu(r,t)}return Qr(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cn(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function xo(n,e){let t;if(e instanceof vp)t={update:ei(n,e.key,e.value)};else if(e instanceof Ep)t={delete:Fe(n,e.key)};else if(e instanceof mf)t={update:ei(n,e.key,e.data),updateMask:uP(e.fieldMask)};else{if(!(e instanceof Eb))return Lr();t={verify:Fe(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const c=a.transform;if(c instanceof Fg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _p)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Nh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof yp)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw Lr()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:N(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Lr()),t;var s}(this.serializer,r))};this.Wo(t)}}class YP extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new En(Zt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Io(e,t,r,s,a)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new En(Zt.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,t,r,a,c,s)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Zt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new En(Zt.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class ZP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Nl(t),this.mu=!1):On("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class JP{constructor(e,t,r,s,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(_=>{r.enqueueAndForget((0,Ae.Z)(function*(){var b;Gg(c)&&(On("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,Ae.Z)(function*(O){const j=_r(O);j.vu.add(4),yield g0(j),j.bu.set("Unknown"),j.vu.delete(4),yield Nb(j)}),function(O){return b.apply(this,arguments)})(c))}))}),this.bu=new ZP(r,s)}}function Nb(n){return eR.apply(this,arguments)}function eR(){return eR=(0,Ae.Z)(function*(n){if(Gg(n))for(const e of n.Ru)yield e(!0)}),eR.apply(this,arguments)}function g0(n){return tR.apply(this,arguments)}function tR(){return tR=(0,Ae.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),tR.apply(this,arguments)}function MS(n,e){const t=_r(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),iR(t)?rR(t):_0(t).Ko()&&nR(t,e))}function kb(n,e){const t=_r(n),r=_0(t);t.Au.delete(e),r.Ko()&&tM(t,e),0===t.Au.size&&(r.Ko()?r.jo():Gg(t)&&t.bu.set("Unknown"))}function nR(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xr.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_0(n).su(e)}function tM(n,e){n.Vu.qt(e),_0(n).iu(e)}function rR(n){n.Vu=new CA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),_0(n).start(),n.bu.gu()}function iR(n){return Gg(n)&&!_0(n).Uo()&&n.Au.size>0}function Gg(n){return 0===_r(n).vu.size}function nM(n){n.Vu=void 0}function XP(n){return sR.apply(this,arguments)}function sR(){return sR=(0,Ae.Z)(function*(n){n.Au.forEach((e,t)=>{nR(n,e)})}),sR.apply(this,arguments)}function eN(n,e){return oR.apply(this,arguments)}function oR(){return oR=(0,Ae.Z)(function*(n,e){nM(n),iR(n)?(n.bu.Iu(e),rR(n)):n.bu.set("Unknown")}),oR.apply(this,arguments)}function tN(n,e,t){return aR.apply(this,arguments)}function aR(){return aR=(0,Ae.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof SA&&2===e.state&&e.cause)try{yield(r=(0,Ae.Z)(function*(s,a){const c=a.cause;for(const _ of a.targetIds)s.Au.has(_)&&(yield s.remoteSyncer.rejectListen(_,c),s.Au.delete(_),s.Vu.removeTarget(_))}),function(s,a){return r.apply(this,arguments)})(n,e)}catch(r){On("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield PS(n,r)}else if(e instanceof Tb?n.Vu.Ht(e):e instanceof TA?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Xr.min()))try{const r=yield HO(n.localStore);t.compareTo(r)>=0&&(yield function(s,a){const c=s.Vu.ce(a);return c.targetChanges.forEach((_,b)=>{if(_.resumeToken.approximateByteSize()>0){const O=s.Au.get(b);O&&s.Au.set(b,O.withResumeToken(_.resumeToken,a))}}),c.targetMismatches.forEach((_,b)=>{const O=s.Au.get(_);if(!O)return;s.Au.set(_,O.withResumeToken(gc.EMPTY_BYTE_STRING,O.snapshotVersion)),tM(s,_);const j=new bp(O.target,_,b,O.sequenceNumber);nR(s,j)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){On("RemoteStore","Failed to raise snapshot:",r),yield PS(n,r)}var r}),aR.apply(this,arguments)}function PS(n,e,t){return lR.apply(this,arguments)}function lR(){return lR=(0,Ae.Z)(function*(n,e,t){if(!Vd(e))throw e;n.vu.add(1),yield g0(n),n.bu.set("Offline"),t||(t=()=>HO(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ae.Z)(function*(){On("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Nb(n)}))}),lR.apply(this,arguments)}function rM(n,e){return e().catch(t=>PS(n,t,e))}function m0(n){return cR.apply(this,arguments)}function cR(){return cR=(0,Ae.Z)(function*(n){const e=_r(n),t=Hg(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;nN(e);)try{const s=yield UP(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,rN(e,s)}catch(s){yield PS(e,s)}iM(e)&&sM(e)}),cR.apply(this,arguments)}function nN(n){return Gg(n)&&n.Eu.length<10}function rN(n,e){n.Eu.push(e);const t=Hg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function iM(n){return Gg(n)&&!Hg(n).Uo()&&n.Eu.length>0}function sM(n){Hg(n).start()}function iN(n){return uR.apply(this,arguments)}function uR(){return uR=(0,Ae.Z)(function*(n){Hg(n).hu()}),uR.apply(this,arguments)}function sN(n){return dR.apply(this,arguments)}function dR(){return dR=(0,Ae.Z)(function*(n){const e=Hg(n);for(const t of n.Eu)e.uu(t.mutations)}),dR.apply(this,arguments)}function oN(n,e,t){return hR.apply(this,arguments)}function hR(){return hR=(0,Ae.Z)(function*(n,e,t){const r=n.Eu.shift(),s=wb.from(r,e,t);yield rM(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield m0(n)}),hR.apply(this,arguments)}function aN(n,e){return fR.apply(this,arguments)}function fR(){return fR=(0,Ae.Z)(function*(n,e){var t;e&&Hg(n).ou&&(yield(t=(0,Ae.Z)(function*(r,s){if(function EA(n){switch(n){default:return Lr();case Zt.CANCELLED:case Zt.UNKNOWN:case Zt.DEADLINE_EXCEEDED:case Zt.RESOURCE_EXHAUSTED:case Zt.INTERNAL:case Zt.UNAVAILABLE:case Zt.UNAUTHENTICATED:return!1;case Zt.INVALID_ARGUMENT:case Zt.NOT_FOUND:case Zt.ALREADY_EXISTS:case Zt.PERMISSION_DENIED:case Zt.FAILED_PRECONDITION:case Zt.ABORTED:case Zt.OUT_OF_RANGE:case Zt.UNIMPLEMENTED:case Zt.DATA_LOSS:return!0}}(a=s.code)&&a!==Zt.ABORTED){const c=r.Eu.shift();Hg(r).Qo(),yield rM(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,s)),yield m0(r)}var a}),function(r,s){return t.apply(this,arguments)})(n,e)),iM(n)&&sM(n)}),fR.apply(this,arguments)}function oM(n,e){return pR.apply(this,arguments)}function pR(){return pR=(0,Ae.Z)(function*(n,e){const t=_r(n);t.asyncQueue.verifyOperationInProgress(),On("RemoteStore","RemoteStore received new credentials");const r=Gg(t);t.vu.add(3),yield g0(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Nb(t)}),pR.apply(this,arguments)}function mR(){return mR=(0,Ae.Z)(function*(n,e){const t=_r(n);e?(t.vu.delete(2),yield Nb(t)):e||(t.vu.add(2),yield g0(t),t.bu.set("Unknown"))}),mR.apply(this,arguments)}function _0(n){return n.Su||(n.Su=function(e,t,r){const s=_r(e);return s.fu(),new qP(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:XP.bind(null,n),ao:eN.bind(null,n),nu:tN.bind(null,n)}),n.Ru.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.Su.Qo(),iR(n)?rR(n):n.bu.set("Unknown")):(yield n.Su.stop(),nM(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Hg(n){return n.Du||(n.Du=function(e,t,r){const s=_r(e);return s.fu(),new KP(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:iN.bind(null,n),ao:aN.bind(null,n),au:sN.bind(null,n),cu:oN.bind(null,n)}),n.Ru.push(function(){var e=(0,Ae.Z)(function*(t){t?(n.Du.Qo(),yield m0(n)):(yield n.Du.stop(),n.Eu.length>0&&(On("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class _R{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,s,a){const c=Date.now()+r,_=new _R(e,t,c,s,a);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new En(Zt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y0(n,e){if(Nl("AsyncQueue",`${e}: ${n}`),Vd(n))return new En(Zt.UNAVAILABLE,`${e}: ${n}`);throw n}class v0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||nr.comparator(t.key,r.key):(t,r)=>nr.comparator(t.key,r.key),this.keyedMap=gp(),this.sortedSet=new Da(this.comparator)}static emptySet(e){return new v0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof v0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new v0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aM{constructor(){this.Cu=new Da(nr.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Lr():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class E0{constructor(e,t,r,s,a,c,_,b,O){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=_,this.excludesMetadataChanges=b,this.hasCachedResults=O}static fromInitialDocuments(e,t,r,s,a){const c=[];return t.forEach(_=>{c.push({type:0,doc:_})}),new E0(e,t,v0.emptySet(t),c,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class lN{constructor(){this.Nu=void 0,this.listeners=[]}}class cN{constructor(){this.queries=new Ph(e=>mA(e),Qv),this.onlineState="Unknown",this.ku=new Set}}function vR(){return vR=(0,Ae.Z)(function*(n,e){const t=_r(n),r=e.query;let s=!1,a=t.queries.get(r);if(a||(s=!0,a=new lN),s)try{a.Nu=yield t.onListen(r)}catch(c){const _=y0(c,`Initialization of query '${QT(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&bR(t)}),vR.apply(this,arguments)}function wR(){return wR=(0,Ae.Z)(function*(n,e){const t=_r(n),r=e.query;let s=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),s=0===a.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),wR.apply(this,arguments)}function uN(n,e){const t=_r(n);let r=!1;for(const s of e){const c=t.queries.get(s.query);if(c){for(const _ of c.listeners)_.$u(s)&&(r=!0);c.Nu=s}}r&&bR(t)}function dN(n,e,t){const r=_r(n),s=r.queries.get(e);if(s)for(const a of s.listeners)a.onError(t);r.queries.delete(e)}function bR(n){n.ku.forEach(e=>{e.next()})}class IR{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new E0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=E0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class uM{constructor(e){this.key=e}}class dM{constructor(e){this.key=e}}class hM{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ys(),this.mutatedKeys=ys(),this.tc=y_(e),this.ec=new v0(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new aM,s=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,c=s,_=!1;const b="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,O="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((j,J)=>{const Ee=s.get(j),ke=Zv(this.query,J)?J:null,bt=!!Ee&&this.mutatedKeys.has(Ee.key),jt=!!ke&&(ke.hasLocalMutations||this.mutatedKeys.has(ke.key)&&ke.hasCommittedMutations);let Gt=!1;Ee&&ke?Ee.data.isEqual(ke.data)?bt!==jt&&(r.track({type:3,doc:ke}),Gt=!0):this.rc(Ee,ke)||(r.track({type:2,doc:ke}),Gt=!0,(b&&this.tc(ke,b)>0||O&&this.tc(ke,O)<0)&&(_=!0)):!Ee&&ke?(r.track({type:0,doc:ke}),Gt=!0):Ee&&!ke&&(r.track({type:1,doc:Ee}),Gt=!0,(b||O)&&(_=!0)),Gt&&(ke?(c=c.add(ke),a=jt?a.add(j):a.delete(j)):(c=c.delete(j),a=a.delete(j)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const j="F"===this.query.limitType?c.last():c.first();c=c.delete(j.key),a=a.delete(j.key),r.track({type:1,doc:j})}return{ec:c,ic:r,zi:_,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((O,j)=>function(J,Ee){const ke=bt=>{switch(bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lr()}};return ke(J)-ke(Ee)}(O.type,j.type)||this.tc(O.doc,j.doc)),this.oc(r);const c=t?this.uc():[],_=0===this.Zu.size&&this.current?1:0,b=_!==this.Xu;return this.Xu=_,0!==a.length||b?{snapshot:new E0(this.query,e.ec,s,a,e.mutatedKeys,0===_,b,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new aM,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ys(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new dM(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new uM(r))}),t}hc(e){this.Yu=e.ir,this.Zu=ys();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return E0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gN{constructor(e){this.key=e,this.fc=!1}}class mN{constructor(e,t,r,s,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Ph(_=>mA(_),Qv),this._c=new Map,this.mc=new Set,this.gc=new Da(nr.comparator),this.yc=new Map,this.Ic=new LA,this.Tc={},this.Ec=new Map,this.Ac=C_.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function _N(n,e){return TR.apply(this,arguments)}function TR(){return TR=(0,Ae.Z)(function*(n,e){const t=function qR(n){const e=_r(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EN.bind(null,e),e.dc.nu=uN.bind(null,e.eventManager),e.dc.Pc=dN.bind(null,e.eventManager),e}(n);let r,s;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),s=a.view.lc();else{const c=yield function f0(n,e){const t=_r(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(a=>a?(s=a,$t.resolve(s)):t.Bs.allocateTargetId(r).next(c=>(s=new bp(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,wu(e)),_=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=yield function SR(n,e,t,r,s){return DR.apply(this,arguments)}(t,e,r,"current"===_,c.resumeToken),t.isPrimaryClient&&MS(t.remoteStore,c)}return s}),TR.apply(this,arguments)}function DR(){return DR=(0,Ae.Z)(function*(n,e,t,r,s){n.Rc=(J,Ee,ke)=>{return(bt=(0,Ae.Z)(function*(jt,Gt,$n,rr){let Jn=Gt.view.sc($n);Jn.zi&&(Jn=yield CS(jt.localStore,Gt.query,!1).then(({documents:pi})=>Gt.view.sc(pi,Jn)));const fi=rr&&rr.targetChanges.get(Gt.targetId),Hi=Gt.view.applyChanges(Jn,jt.isPrimaryClient,fi);return FR(jt,Gt.targetId,Hi.cc),Hi.snapshot}),function(jt,Gt,$n,rr){return bt.apply(this,arguments)})(n,J,Ee,ke);var bt};const a=yield CS(n.localStore,e,!0),c=new hM(e,a.ir),_=c.sc(a.documents),b=E_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),O=c.applyChanges(_,n.isPrimaryClient,b);FR(n,t,O.cc);const j=new pN(e,t,c);return n.wc.set(e,j),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),O.snapshot}),DR.apply(this,arguments)}function yN(n,e){return CR.apply(this,arguments)}function CR(){return CR=(0,Ae.Z)(function*(n,e){const t=_r(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(a=>!Qv(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield p0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),kb(t.remoteStore,r.targetId),w0(t,r.targetId)}).catch(xh))):(w0(t,r.targetId),yield p0(t.localStore,r.targetId,!0))}),CR.apply(this,arguments)}function AR(){return AR=(0,Ae.Z)(function*(n,e,t){const r=function KR(n){const e=_r(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bN.bind(null,e),e}(n);try{const s=yield function(a,c){const _=_r(a),b=gl.now(),O=c.reduce((Ee,ke)=>Ee.add(ke.key),ys());let j,J;return _.persistence.runTransaction("Locally write mutations","readwrite",Ee=>{let ke=ic(),bt=ys();return _.Zi.getEntries(Ee,O).next(jt=>{ke=jt,ke.forEach((Gt,$n)=>{$n.isValidDocument()||(bt=bt.add(Gt))})}).next(()=>_.localDocuments.getOverlayedDocuments(Ee,ke)).next(jt=>{j=jt;const Gt=[];for(const $n of c){const rr=vA($n,j.get($n.key).overlayedDocument);null!=rr&&Gt.push(new mf($n.key,rr,jT(rr.value.mapValue),ml.exists(!0)))}return _.mutationQueue.addMutationBatch(Ee,b,Gt,c)}).next(jt=>{J=jt;const Gt=jt.applyToLocalDocumentSet(j,bt);return _.documentOverlayCache.saveOverlays(Ee,jt.batchId,Gt)})}).then(()=>({batchId:J.batchId,changes:Jv(j)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,c,_){let b=a.Tc[a.currentUser.toKey()];b||(b=new Da(Fi)),b=b.insert(c,_),a.Tc[a.currentUser.toKey()]=b}(r,s.batchId,t),yield Ip(r,s.changes),yield m0(r.remoteStore)}catch(s){const a=y0(s,"Failed to persist write");t.reject(a)}}),AR.apply(this,arguments)}function fM(n,e){return RR.apply(this,arguments)}function RR(){return RR=(0,Ae.Z)(function*(n,e){const t=_r(n);try{const r=yield function BP(n,e){const t=_r(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const _=[];e.targetChanges.forEach((j,J)=>{const Ee=s.get(J);if(!Ee)return;_.push(t.Bs.removeMatchingKeys(a,j.removedDocuments,J).next(()=>t.Bs.addMatchingKeys(a,j.addedDocuments,J)));let ke=Ee.withSequenceNumber(a.currentSequenceNumber);var bt,jt,Gt;null!==e.targetMismatches.get(J)?ke=ke.withResumeToken(gc.EMPTY_BYTE_STRING,Xr.min()).withLastLimboFreeSnapshotVersion(Xr.min()):j.resumeToken.approximateByteSize()>0&&(ke=ke.withResumeToken(j.resumeToken,r)),s=s.insert(J,ke),jt=ke,Gt=j,(0===(bt=Ee).resumeToken.approximateByteSize()||jt.snapshotVersion.toMicroseconds()-bt.snapshotVersion.toMicroseconds()>=3e8||Gt.addedDocuments.size+Gt.modifiedDocuments.size+Gt.removedDocuments.size>0)&&_.push(t.Bs.updateTargetData(a,ke))});let b=ic(),O=ys();if(e.documentUpdates.forEach(j=>{e.resolvedLimboDocuments.has(j)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(a,j))}),_.push(function zO(n,e,t){let r=ys(),s=ys();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=ic();return t.forEach((_,b)=>{const O=a.get(_);b.isFoundDocument()!==O.isFoundDocument()&&(s=s.add(_)),b.isNoDocument()&&b.version.isEqual(Xr.min())?(e.removeEntry(_,b.readTime),c=c.insert(_,b)):!O.isValidDocument()||b.version.compareTo(O.version)>0||0===b.version.compareTo(O.version)&&O.hasPendingWrites?(e.addEntry(b),c=c.insert(_,b)):On("LocalStore","Ignoring outdated watch update for ",_,". Current version:",O.version," Watch version:",b.version)}),{nr:c,sr:s}})}(a,c,e.documentUpdates).next(j=>{b=j.nr,O=j.sr})),!r.isEqual(Xr.min())){const j=t.Bs.getLastRemoteSnapshotVersion(a).next(J=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));_.push(j)}return $t.waitFor(_).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,b,O)).next(()=>b)}).then(a=>(t.Ji=s,a))}(t.localStore,e);e.targetChanges.forEach((s,a)=>{const c=t.yc.get(a);c&&(Qr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.fc=!0:s.modifiedDocuments.size>0?Qr(c.fc):s.removedDocuments.size>0&&(Qr(c.fc),c.fc=!1))}),yield Ip(t,r,e)}catch(r){yield xh(r)}}),RR.apply(this,arguments)}function pM(n,e,t){const r=_r(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((a,c)=>{const _=c.view.Mu(e);_.snapshot&&s.push(_.snapshot)}),function(a,c){const _=_r(a);_.onlineState=c;let b=!1;_.queries.forEach((O,j)=>{for(const J of j.listeners)J.Mu(c)&&(b=!0)}),b&&bR(_)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EN(n,e,t){return xR.apply(this,arguments)}function xR(){return xR=(0,Ae.Z)(function*(n,e,t){const r=_r(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),a=s&&s.key;if(a){let c=new Da(nr.comparator);c=c.insert(a,Qa.newNoDocument(a,Xr.min()));const _=ys().add(a),b=new c0(Xr.min(),new Map,new Da(Fi),c,_);yield fM(r,b),r.gc=r.gc.remove(a),r.yc.delete(e),LR(r)}else yield p0(r.localStore,e,!1).then(()=>w0(r,e,t)).catch(xh)}),xR.apply(this,arguments)}function wN(n,e){return OR.apply(this,arguments)}function OR(){return OR=(0,Ae.Z)(function*(n,e){const t=_r(n),r=e.batch.batchId;try{const s=yield function VP(n,e){const t=_r(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,_,b,O){const j=b.batch,J=j.keys();let Ee=$t.resolve();return J.forEach(ke=>{Ee=Ee.next(()=>O.getEntry(_,ke)).next(bt=>{const jt=b.docVersions.get(ke);Qr(null!==jt),bt.version.compareTo(jt)<0&&(j.applyToRemoteDocument(bt,b),bt.isValidDocument()&&(bt.setReadTime(b.commitVersion),O.addEntry(bt)))})}),Ee.next(()=>c.mutationQueue.removeMutationBatch(_,j))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let _=ys();for(let b=0;b<c.mutationResults.length;++b)c.mutationResults[b].transformResults.length>0&&(_=_.add(c.batch.mutations[b].key));return _}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);kR(t,r,null),NR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ip(t,s)}catch(s){yield xh(s)}}),OR.apply(this,arguments)}function bN(n,e,t){return MR.apply(this,arguments)}function MR(){return MR=(0,Ae.Z)(function*(n,e,t){const r=_r(n);try{const s=yield function(a,c){const _=_r(a);return _.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let O;return _.mutationQueue.lookupMutationBatch(b,c).next(j=>(Qr(null!==j),O=j.keys(),_.mutationQueue.removeMutationBatch(b,j))).next(()=>_.mutationQueue.performConsistencyCheck(b)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(b,O,c)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,O)).next(()=>_.localDocuments.getDocuments(b,O))})}(r.localStore,e);kR(r,e,t),NR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ip(r,s)}catch(s){yield xh(s)}}),MR.apply(this,arguments)}function NR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function kR(n,e,t){const r=_r(n);let s=r.Tc[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function w0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||gM(n,r)})}function gM(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(kb(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),LR(n))}function FR(n,e,t){for(const r of t)r instanceof uM?(n.Ic.addReference(r.key,e),TN(n,r)):r instanceof dM?(On("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||gM(n,r.key)):Lr()}function TN(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(On("SyncEngine","New document in limbo: "+t),n.mc.add(r),LR(n))}function LR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new nr(so.fromString(e)),r=n.Ac.next();n.yc.set(r,new gN(t)),n.gc=n.gc.insert(t,r),MS(n.remoteStore,new bp(wu(kg(t.path)),r,"TargetPurposeLimboResolution",Qu.ct))}}function Ip(n,e,t){return VR.apply(this,arguments)}function VR(){return VR=(0,Ae.Z)(function*(n,e,t){const r=_r(n),s=[],a=[],c=[];var _;r.wc.isEmpty()||(r.wc.forEach((_,b)=>{c.push(r.Rc(b,e,t).then(O=>{if((O||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,O?.fromCache?"not-current":"current"),O){s.push(O);const j=$A.Li(b.targetId,O);a.push(j)}}))}),yield Promise.all(c),r.dc.nu(s),yield(_=(0,Ae.Z)(function*(b,O){const j=_r(b);try{yield j.persistence.runTransaction("notifyLocalViewChanges","readwrite",J=>$t.forEach(O,Ee=>$t.forEach(Ee.Fi,ke=>j.persistence.referenceDelegate.addReference(J,Ee.targetId,ke)).next(()=>$t.forEach(Ee.Bi,ke=>j.persistence.referenceDelegate.removeReference(J,Ee.targetId,ke)))))}catch(J){if(!Vd(J))throw J;On("LocalStore","Failed to update sequence numbers: "+J)}for(const J of O){const Ee=J.targetId;if(!J.fromCache){const ke=j.Ji.get(Ee),jt=ke.withLastLimboFreeSnapshotVersion(ke.snapshotVersion);j.Ji=j.Ji.insert(Ee,jt)}}}),function(b,O){return _.apply(this,arguments)})(r.localStore,a))}),VR.apply(this,arguments)}function SN(n,e){return BR.apply(this,arguments)}function BR(){return BR=(0,Ae.Z)(function*(n,e){const t=_r(n);if(!t.currentUser.isEqual(e)){On("SyncEngine","User change. New user:",e.toKey());const r=yield GO(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(c=>{c.forEach(_=>{_.reject(new En(Zt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ip(t,r.er)}var s}),BR.apply(this,arguments)}function DN(n,e){const t=_r(n),r=t.yc.get(e);if(r&&r.fc)return ys().add(r.key);{let s=ys();const a=t._c.get(e);if(!a)return s;for(const c of a){const _=t.wc.get(c);s=s.unionWith(_.view.nc)}return s}}class NS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ae.Z)(function*(){t.serializer=Pb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function $O(n,e,t,r){return new LP(n,e,t,r)}(this.persistence,new jO,e.initialUser,this.serializer)}createPersistence(e){return new VA(TS.zs,this.serializer)}createSharedClientState(e){return new ZO}terminate(){var e=this;return(0,Ae.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class b0{initialize(e,t){var r=this;return(0,Ae.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>pM(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=SN.bind(null,r.syncEngine),yield function gR(n,e){return mR.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cN}createDatastore(e){const t=Pb(e.databaseInfo.databaseId),r=new WP(e.databaseInfo);return new YP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,a=_=>pM(this.syncEngine,_,0),c=JO.D()?new JO:new GP,new JP(t,r,s,a,c);var t,r,s,a,c}createSyncEngine(e,t){return function(r,s,a,c,_,b,O){const j=new mN(r,s,a,c,_,b);return O&&(j.vc=!0),j}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ae.Z)(function*(t){const r=_r(t);On("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield g0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class kS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Nl("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BN{constructor(e,t,r,s){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Ac.UNAUTHENTICATED,this.clientId=Hw.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ae.Z)(function*(_){On("FirestoreClient","Received user=",_.uid),yield a.authCredentialListener(_),a.user=_});return function(_){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(On("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ae.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new En(Zt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ae.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=y0(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function FS(n,e){return YR.apply(this,arguments)}function YR(){return YR=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),On("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Ae.Z)(function*(a){r.isEqual(a)||(yield GO(e.localStore,a),r=a)});return function(a){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),YR.apply(this,arguments)}function QR(n,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,Ae.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function JR(n){return XR.apply(this,arguments)}(n);On("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>oM(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>oM(e.remoteStore,a)),n._onlineComponents=e}),ZR.apply(this,arguments)}function XR(){return XR=(0,Ae.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){On("FirestoreClient","Using user provided OfflineComponentProvider");try{yield FS(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function wM(n){return"FirebaseError"===n.name?n.code===Zt.FAILED_PRECONDITION||n.code===Zt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Ku("Error using user provided cache. Falling back to memory cache: "+t),yield FS(n,new NS)}}else On("FirestoreClient","Using default OfflineComponentProvider"),yield FS(n,new NS);return n._offlineComponents}),XR.apply(this,arguments)}function LS(n){return ex.apply(this,arguments)}function ex(){return ex=(0,Ae.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(On("FirestoreClient","Using user provided OnlineComponentProvider"),yield QR(n,n._uninitializedComponentsProvider._online)):(On("FirestoreClient","Using default OnlineComponentProvider"),yield QR(n,new b0))),n._onlineComponents}),ex.apply(this,arguments)}function nx(){return nx=(0,Ae.Z)(function*(n){const e=yield LS(n),t=e.eventManager;return t.onListen=_N.bind(null,e.syncEngine),t.onUnlisten=yN.bind(null,e.syncEngine),t}),nx.apply(this,arguments)}function DM(n,e,t={}){const r=new ql;return n.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function(s,a,c,_,b){const O=new kS({next:J=>{a.enqueueAndForget(()=>function ER(n,e){return wR.apply(this,arguments)}(s,j)),J.fromCache&&"server"===_.source?b.reject(new En(Zt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(J)},error:J=>b.reject(J)}),j=new IR(c,O,{includeMetadataChanges:!0,Ku:!0});return function yR(n,e){return vR.apply(this,arguments)}(s,j)}(yield function I0(n){return nx.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function CM(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const AM=new Map;function rx(n,e,t){if(!t)throw new En(Zt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RM(n){if(!nr.isDocumentKey(n))throw new En(Zt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xM(n){if(nr.isDocumentKey(n))throw new En(Zt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function BS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Lr()}function Oo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new En(Zt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=BS(n);throw new En(Zt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class MM{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new En(Zt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new En(Zt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function KN(n,e,t,r){if(!0===e&&!0===r)throw new En(Zt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=CM(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new En(Zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new En(Zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new En(Zt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fb{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new En(Zt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new En(Zt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $w;switch(t.type){case"firstParty":return new qC(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new En(Zt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AM.get(e);t&&(On("ComponentProvider","Removing Datastore"),AM.delete(e),t.terminate())}(this),Promise.resolve()}}class _c{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _f(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _c(this.firestore,e,this._key)}}class bu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bu(this.firestore,e,this._query)}}class _f extends bu{constructor(e,t,r){super(e,t,kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _c(this.firestore,null,new nr(e))}withConverter(e){return new _f(this.firestore,e,this._path)}}function QN(n,e,...t){if(n=(0,xe.m9)(n),rx("collection","path",e),n instanceof Fb){const r=so.fromString(e,...t);return xM(r),new _f(n,null,r)}{if(!(n instanceof _c||n instanceof _f))throw new En(Zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(so.fromString(e,...t));return xM(r),new _f(n.firestore,null,r)}}function PM(n,e,...t){if(n=(0,xe.m9)(n),1===arguments.length&&(e=Hw.A()),rx("doc","path",e),n instanceof Fb){const r=so.fromString(e,...t);return RM(r),new _c(n,null,new nr(r))}{if(!(n instanceof _c||n instanceof _f))throw new En(Zt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(so.fromString(e,...t));return RM(r),new _c(n.firestore,n instanceof _f?n.converter:null,new nr(r))}}class ZN{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new JA(this,"async_queue_retry"),this.Xc=()=>{const t=OS();t&&On("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=OS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=OS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ql;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ae.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Vd(t))throw t;On("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Nl("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=_R.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(s),s}Zc(){this.Wc&&Lr()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ae.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class wl extends Fb{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ZN,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kM(this),this._firestoreClient.terminate()}}function XN(n,e){const t="object"==typeof n?n:(0,hg.getApp)(),r="string"==typeof n?n:e||"(default)",s=(0,hg._getProvider)(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=(0,xe.P0)("firestore");a&&function YN(n,e,t,r={}){var s;const a=(n=Oo(n,Fb))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==c&&Ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),r.mockUserToken){let _,b;if("string"==typeof r.mockUserToken)_=r.mockUserToken,b=Ac.MOCK_USER;else{_=(0,xe.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const O=r.mockUserToken.sub||r.mockUserToken.user_id;if(!O)throw new En(Zt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ac(O)}n._authCredentials=new Gw(new jw(_,b))}}(s,...a)}return s}function xc(n){return n._firestoreClient||kM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function kM(n){var e,t,r;const s=n._freezeSettings(),a=(_=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uA(n._databaseId,_,n._persistenceKey,(O=s).host,O.ssl,O.experimentalForceLongPolling,O.experimentalAutoDetectLongPolling,CM(O.experimentalLongPollingOptions),O.useFetchStreams));var _,O;n._firestoreClient=new BN(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class R_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new R_(gc.fromBase64String(e))}catch(t){throw new En(Zt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new R_(gc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class T0{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new En(Zt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sx{constructor(e){this._methodName=e}}class ox{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new En(Zt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new En(Zt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fi(this._lat,e._lat)||Fi(this._long,e._long)}}const tk=/^__.*__$/;class nk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new mf(e,this.data,this.fieldMask,t,this.fieldTransforms):new vp(e,this.data,t,this.fieldTransforms)}}class VM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lr()}}class US{constructor(e,t,r,s,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new US(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return $S(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(BM(this.ca)&&tk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class rk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Pb(e)}ya(e,t,r,s=!1){return new US({ca:e,methodName:t,ga:r,path:oo.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S0(n){const e=n._freezeSettings(),t=Pb(n._databaseId);return new rk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ax(n,e,t,r,s,a={}){const c=n.ya(a.merge||a.mergeFields?2:0,e,t,s);cx("Data must be an object, but it was:",c,r);const _=HM(r,c);let b,O;if(a.merge)b=new Zu(c.fieldMask),O=c.fieldTransforms;else if(a.mergeFields){const j=[];for(const J of a.mergeFields){const Ee=Bb(e,J,t);if(!c.contains(Ee))throw new En(Zt.INVALID_ARGUMENT,`Field '${Ee}' is specified in your field mask but missing from your input data.`);WM(j,Ee)||j.push(Ee)}b=new Zu(j),O=c.fieldTransforms.filter(J=>b.covers(J.field))}else b=null,O=c.fieldTransforms;return new nk(new Rc(_),b,O)}class Vb extends sx{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vb}}function x_(n,e){if(zM(n=(0,xe.m9)(n)))return cx("Unsupported field value:",e,n),HM(n,e);if(n instanceof sx)return function(t,r){if(!BM(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let a=0;for(const c of t){let _=x_(c,r.wa(a));null==_&&(_={nullValue:"NULL_VALUE"}),s.push(_),a++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,xe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return tS(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=gl.fromDate(t);return{timestampValue:v(r.serializer,s)}}if(t instanceof gl){const s=new gl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:v(r.serializer,s)}}if(t instanceof ox)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof R_)return{bytesValue:x(r.serializer,t._byteString)};if(t instanceof _c){const s=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(s))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ie(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${BS(t)}`)}(n,e)}function HM(n,e){const t={};return Xw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lp(n,(r,s)=>{const a=x_(s,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function zM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gl||n instanceof ox||n instanceof R_||n instanceof _c||n instanceof sx)}function cx(n,e,t){if(!zM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=BS(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Bb(n,e,t){if((e=(0,xe.m9)(e))instanceof T0)return e._internalPath;if("string"==typeof e)return jS(n,e);throw $S("Field path arguments must be of type string or ",n,!1,void 0,t)}const ak=new RegExp("[~\\*/\\[\\]]");function jS(n,e,t){if(e.search(ak)>=0)throw $S(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new T0(...e.split("."))._internalPath}catch{throw $S(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $S(n,e,t,r,s){const a=r&&!r.isEmpty(),c=void 0!==s;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let b="";return(a||c)&&(b+=" (found",a&&(b+=` in field ${r}`),c&&(b+=` in document ${s}`),b+=")"),new En(Zt.INVALID_ARGUMENT,_+n+b)}function WM(n,e){return n.some(t=>t.isEqual(e))}class ux{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _c(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lk extends ux{data(){return super.data()}}function GS(n,e){return"string"==typeof e?jS(n,e):e instanceof T0?e._internalPath:e._delegate._internalPath}class uk{convertValue(e,t="none"){switch(hf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return lp(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new ox(Kl(e.latitude),Kl(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(f_(e));default:return null}}convertTimestamp(e){const t=cf(e);return new gl(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=so.fromString(e);Qr(hO(r));const s=new up(r.get(1),r.get(3)),a=new nr(r.popFirst(5));return s.isEqual(t)||Nl(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function hx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class O_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C0 extends ux{constructor(e,t,r,s,a,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(GS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class qS extends C0{data(e={}){return super.data(e)}}class A0{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new O_(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qS(this._firestore,this._userDataWriter,r.key,r,new O_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new En(Zt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new qS(r._firestore,r._userDataWriter,c.doc.key,c.doc,new O_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const _=new qS(r._firestore,r._userDataWriter,c.doc.key,c.doc,new O_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,O=-1;return 0!==c.type&&(b=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),O=a.indexOf(c.doc.key)),{type:hk(c.type),doc:_,oldIndex:b,newIndex:O}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lr()}}class zg extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new R_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _c(this.firestore,null,t)}}function fk(n){n=Oo(n,bu);const e=Oo(n.firestore,wl),t=xc(e),r=new zg(e);return function qM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new En(Zt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),DM(t,n._query).then(s=>new A0(e,r,n,s))}function pk(n,e,t){n=Oo(n,_c);const r=Oo(n.firestore,wl),s=hx(n.converter,e,t);return jb(r,[ax(S0(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,ml.none())])}function gk(n,e,t,...r){n=Oo(n,_c);const s=Oo(n.firestore,wl),a=S0(s);let c;return c="string"==typeof(e=(0,xe.m9)(e))||e instanceof T0?function $M(n,e,t,r,s,a){const c=n.ya(1,e,t),_=[Bb(e,r,t)],b=[s];if(a.length%2!=0)throw new En(Zt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ee=0;Ee<a.length;Ee+=2)_.push(Bb(e,a[Ee])),b.push(a[Ee+1]);const O=[],j=Rc.empty();for(let Ee=_.length-1;Ee>=0;--Ee)if(!WM(O,_[Ee])){const ke=_[Ee];let bt=b[Ee];bt=(0,xe.m9)(bt);const jt=c.da(ke);if(bt instanceof Vb)O.push(ke);else{const Gt=x_(bt,jt);null!=Gt&&(O.push(ke),j.set(ke,Gt))}}const J=new Zu(O);return new VM(j,J,c.fieldTransforms)}(a,"updateDoc",n._key,e,t,r):function jM(n,e,t,r){const s=n.ya(1,e,t);cx("Data must be an object, but it was:",s,r);const a=[],c=Rc.empty();lp(r,(b,O)=>{const j=jS(e,b,t);O=(0,xe.m9)(O);const J=s.da(j);if(O instanceof Vb)a.push(j);else{const Ee=x_(O,J);null!=Ee&&(a.push(j),c.set(j,Ee))}});const _=new Zu(a);return new VM(c,_,s.fieldTransforms)}(a,"updateDoc",n._key,e),jb(s,[c.toMutation(n._key,ml.exists(!0))])}function mk(n){return jb(Oo(n.firestore,wl),[new Ep(n._key,ml.none())])}function _k(n,e){const t=Oo(n.firestore,wl),r=PM(n),s=hx(n.converter,e);return jb(t,[ax(S0(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,ml.exists(!1))]).then(()=>r)}function jb(n,e){return function(t,r){const s=new ql;return t.asyncQueue.enqueueAndForget((0,Ae.Z)(function*(){return function vN(n,e,t){return AR.apply(this,arguments)}(yield function tx(n){return LS(n).then(e=>e.syncEngine)}(t),r,s)})),s.promise}(xc(n),e)}!function(n,e=!0){sp=hg.SDK_VERSION,(0,hg._registerComponent)(new it.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const a=t.getProvider("app").getImmediate(),c=new wl(new zC(t.getProvider("auth-internal")),new vT(t.getProvider("app-check-internal")),function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new En(Zt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new up(_.options.projectId,b)}(a,r),a);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),(0,hg.registerVersion)(_T,"3.13.0",n),(0,hg.registerVersion)(_T,"3.13.0","esm2017")}();class YS{constructor(e){return e}}const tP="firestore",px=new ge.OlP("angularfire2.firestore-instances");function Ok(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new YS(r)}}const Mk={provide:class Rk{constructor(){return(0,d.vb)(tP)}},deps:[[new ge.FiY,px]]},Pk={provide:YS,useFactory:function xk(n,e){const t=(0,d.JM)(tP,n,e);return t&&new YS(t)},deps:[[new ge.FiY,px],ne.Ot]};let Nk=(()=>{class n{constructor(){(0,Ne.KN)("angularfire",d.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ge.oAB({type:n}),n.\u0275inj=ge.cJS({providers:[Pk,Mk]}),n})();function kk(n,...e){return{ngModule:Nk,providers:[{provide:px,useFactory:Ok(n),multi:!0,deps:[ge.R0b,ge.zs3,d.HU,ne.z6,[new ge.FiY,we.dh],[new ge.FiY,He.nm],...e]}]}}const Fk=(0,d.u3)(cC,!0),Lk=(0,d.u3)(_k,!0),Vk=(0,d.u3)(QN,!0),Bk=(0,d.u3)(mk,!0),Uk=(0,d.u3)(PM,!0),jk=(0,d.u3)(fk,!0),$k=(0,d.u3)(XN,!0),Gk=(0,d.u3)(pk,!0),Hk=(0,d.u3)(gk,!0)},2793:(Rn,yt,Y)=>{Y.d(yt,{q4:()=>qc,iC:()=>nd,HU:()=>Uo,vb:()=>Xu,JM:()=>cc,u3:()=>Qc});var d=Y(5879),ge=Y(4097),we=Y(5861),ne=Y(4303),Ne=Y(9058),He=Y(4537),Ae=Y(7879);const ct=(B,q)=>q.some(ae=>B instanceof ae);let it,Te;const mt=new WeakMap,Ge=new WeakMap,Yt=new WeakMap,ut=new WeakMap,an=new WeakMap;let wn={get(B,q,ae){if(B instanceof IDBTransaction){if("done"===q)return Ge.get(B);if("objectStoreNames"===q)return B.objectStoreNames||Yt.get(B);if("store"===q)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return gt(B[q])},set:(B,q,ae)=>(B[q]=ae,!0),has:(B,q)=>B instanceof IDBTransaction&&("done"===q||"store"===q)||q in B};function pt(B){return"function"==typeof B?function It(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qe(){return Te||(Te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...q){return B.apply(Mt(this),q),gt(mt.get(this))}:function(...q){return gt(B.apply(Mt(this),q))}:function(q,...ae){const Re=B.call(Mt(this),q,...ae);return Yt.set(Re,q.sort?q.sort():[q]),gt(Re)}}(B):(B instanceof IDBTransaction&&function Nn(B){if(Ge.has(B))return;const q=new Promise((ae,Re)=>{const We=()=>{B.removeEventListener("complete",lt),B.removeEventListener("error",Wt),B.removeEventListener("abort",Wt)},lt=()=>{ae(),We()},Wt=()=>{Re(B.error||new DOMException("AbortError","AbortError")),We()};B.addEventListener("complete",lt),B.addEventListener("error",Wt),B.addEventListener("abort",Wt)});Ge.set(B,q)}(B),ct(B,function xe(){return it||(it=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,wn):B)}function gt(B){if(B instanceof IDBRequest)return function qt(B){const q=new Promise((ae,Re)=>{const We=()=>{B.removeEventListener("success",lt),B.removeEventListener("error",Wt)},lt=()=>{ae(gt(B.result)),We()},Wt=()=>{Re(B.error),We()};B.addEventListener("success",lt),B.addEventListener("error",Wt)});return q.then(ae=>{ae instanceof IDBCursor&&mt.set(ae,B)}).catch(()=>{}),an.set(q,B),q}(B);if(ut.has(B))return ut.get(B);const q=pt(B);return q!==B&&(ut.set(B,q),an.set(q,B)),q}const Mt=B=>an.get(B),on=["get","getKey","getAll","getAllKeys","count"],Wn=["put","add","delete","clear"],jn=new Map;function mn(B,q){if(!(B instanceof IDBDatabase)||q in B||"string"!=typeof q)return;if(jn.get(q))return jn.get(q);const ae=q.replace(/FromIndex$/,""),Re=q!==ae,We=Wn.includes(ae);if(!(ae in(Re?IDBIndex:IDBObjectStore).prototype)||!We&&!on.includes(ae))return;const lt=function(){var Wt=(0,we.Z)(function*(Zn,...Gn){const vn=this.transaction(Zn,We?"readwrite":"readonly");let sr=vn.store;return Re&&(sr=sr.index(Gn.shift())),(yield Promise.all([sr[ae](...Gn),We&&vn.done]))[0]});return function(Gn){return Wt.apply(this,arguments)}}();return jn.set(q,lt),lt}!function st(B){wn=B(wn)}(B=>({...B,get:(q,ae,Re)=>mn(q,ae)||B.get(q,ae,Re),has:(q,ae)=>!!mn(q,ae)||B.has(q,ae)}));const Yn="@firebase/installations",yr="0.6.4",Ln=1e4,kn=`w:${yr}`,Ye="FIS_v2",nt="https://firebaseinstallations.googleapis.com/v1",Et=36e5,rn=new Ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ln(B){return B instanceof Ne.ZR&&B.code.includes("request-failed")}function Hr({projectId:B}){return`${nt}/projects/${B}/installations`}function ir(B){return{token:B.token,requestStatus:2,expiresIn:Ze(B.expiresIn),creationTime:Date.now()}}function hr(B,q){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,we.Z)(function*(B,q){const Re=(yield q.json()).error;return rn.create("request-failed",{requestName:B,serverCode:Re.code,serverMessage:Re.message,serverStatus:Re.status})})).apply(this,arguments)}function Mr({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Nr(B){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,we.Z)(function*(B){const q=yield B();return q.status>=500&&q.status<600?B():q})).apply(this,arguments)}function Ze(B){return Number(B.replace("s","000"))}function At(){return(At=(0,we.Z)(function*({appConfig:B,heartbeatServiceProvider:q},{fid:ae}){const Re=Hr(B),We=Mr(B),lt=q.getImmediate({optional:!0});if(lt){const vn=yield lt.getHeartbeatsHeader();vn&&We.append("x-firebase-client",vn)}const Zn={method:"POST",headers:We,body:JSON.stringify({fid:ae,authVersion:Ye,appId:B.appId,sdkVersion:kn})},Gn=yield Nr(()=>fetch(Re,Zn));if(Gn.ok){const vn=yield Gn.json();return{fid:vn.fid||ae,registrationStatus:2,refreshToken:vn.refreshToken,authToken:ir(vn.authToken)}}throw yield hr("Create Installation",Gn)})).apply(this,arguments)}function Qt(B){return new Promise(q=>{setTimeout(q,B)})}const Xn=/^[cdef][\w-]{21}$/,cn="";function bn(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const ae=function er(B){return function pr(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return Xn.test(ae)?ae:cn}catch{return cn}}function cr(B){return`${B.appName}!${B.appId}`}const ii=new Map;function Si(B,q){const ae=cr(B);qr(ae,q),function Vr(B,q){const ae=function Dr(){return!Xi&&"BroadcastChannel"in self&&(Xi=new BroadcastChannel("[Firebase] FID Change"),Xi.onmessage=B=>{qr(B.data.key,B.data.fid)}),Xi}();ae&&ae.postMessage({key:B,fid:q}),function ur(){0===ii.size&&Xi&&(Xi.close(),Xi=null)}()}(ae,q)}function qr(B,q){const ae=ii.get(B);if(ae)for(const Re of ae)Re(q)}let Xi=null;const bs="firebase-installations-database",Is=1,_i="firebase-installations-store";let vs=null;function Tt(){return vs||(vs=function Oe(B,q,{blocked:ae,upgrade:Re,blocking:We,terminated:lt}={}){const Wt=indexedDB.open(B,q),Zn=gt(Wt);return Re&&Wt.addEventListener("upgradeneeded",Gn=>{Re(gt(Wt.result),Gn.oldVersion,Gn.newVersion,gt(Wt.transaction))}),ae&&Wt.addEventListener("blocked",()=>ae()),Zn.then(Gn=>{lt&&Gn.addEventListener("close",()=>lt()),We&&Gn.addEventListener("versionchange",()=>We())}).catch(()=>{}),Zn}(bs,Is,{upgrade:(B,q)=>{0===q&&B.createObjectStore(_i)}})),vs}function $e(B,q){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,we.Z)(function*(B,q){const ae=cr(B),We=(yield Tt()).transaction(_i,"readwrite"),lt=We.objectStore(_i),Wt=yield lt.get(ae);return yield lt.put(q,ae),yield We.done,(!Wt||Wt.fid!==q.fid)&&Si(B,q.fid),q})).apply(this,arguments)}function wt(B){return sn.apply(this,arguments)}function sn(){return(sn=(0,we.Z)(function*(B){const q=cr(B),Re=(yield Tt()).transaction(_i,"readwrite");yield Re.objectStore(_i).delete(q),yield Re.done})).apply(this,arguments)}function gn(B,q){return tr.apply(this,arguments)}function tr(){return(tr=(0,we.Z)(function*(B,q){const ae=cr(B),We=(yield Tt()).transaction(_i,"readwrite"),lt=We.objectStore(_i),Wt=yield lt.get(ae),Zn=q(Wt);return void 0===Zn?yield lt.delete(ae):yield lt.put(Zn,ae),yield We.done,Zn&&(!Wt||Wt.fid!==Zn.fid)&&Si(B,Zn.fid),Zn})).apply(this,arguments)}function Ve(B){return me.apply(this,arguments)}function me(){return me=(0,we.Z)(function*(B){let q;const ae=yield gn(B.appConfig,Re=>{const We=function fe(B){return Sn(B||{fid:bn(),registrationStatus:0})}(Re),lt=function Le(B,q){if(0===q.registrationStatus){if(!navigator.onLine)return{installationEntry:q,registrationPromise:Promise.reject(rn.create("app-offline"))};const ae={fid:q.fid,registrationStatus:1,registrationTime:Date.now()},Re=function ve(B,q){return ze.apply(this,arguments)}(B,ae);return{installationEntry:ae,registrationPromise:Re}}return 1===q.registrationStatus?{installationEntry:q,registrationPromise:Lt(B)}:{installationEntry:q}}(B,We);return q=lt.registrationPromise,lt.installationEntry});return ae.fid===cn?{installationEntry:yield q}:{installationEntry:ae,registrationPromise:q}}),me.apply(this,arguments)}function ze(){return ze=(0,we.Z)(function*(B,q){try{const ae=yield function Nt(B,q){return At.apply(this,arguments)}(B,q);return $e(B.appConfig,ae)}catch(ae){throw ln(ae)&&409===ae.customData.serverCode?yield wt(B.appConfig):yield $e(B.appConfig,{fid:q.fid,registrationStatus:0}),ae}}),ze.apply(this,arguments)}function Lt(B){return tn.apply(this,arguments)}function tn(){return(tn=(0,we.Z)(function*(B){let q=yield qn(B.appConfig);for(;1===q.registrationStatus;)yield Qt(100),q=yield qn(B.appConfig);if(0===q.registrationStatus){const{installationEntry:ae,registrationPromise:Re}=yield Ve(B);return Re||ae}return q})).apply(this,arguments)}function qn(B){return gn(B,q=>{if(!q)throw rn.create("installation-not-found");return Sn(q)})}function Sn(B){return function ni(B){return 1===B.registrationStatus&&B.registrationTime+Ln<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function Ei(){return(Ei=(0,we.Z)(function*({appConfig:B,heartbeatServiceProvider:q},ae){const Re=function ui(B,{fid:q}){return`${Hr(B)}/${q}/authTokens:generate`}(B,ae),We=function Mn(B,{refreshToken:q}){const ae=Mr(B);return ae.append("Authorization",function St(B){return`${Ye} ${B}`}(q)),ae}(B,ae),lt=q.getImmediate({optional:!0});if(lt){const vn=yield lt.getHeartbeatsHeader();vn&&We.append("x-firebase-client",vn)}const Zn={method:"POST",headers:We,body:JSON.stringify({installation:{sdkVersion:kn,appId:B.appId}})},Gn=yield Nr(()=>fetch(Re,Zn));if(Gn.ok)return ir(yield Gn.json());throw yield hr("Generate Auth Token",Gn)})).apply(this,arguments)}function Ns(B){return $s.apply(this,arguments)}function $s(){return $s=(0,we.Z)(function*(B,q=!1){let ae;const Re=yield gn(B.appConfig,lt=>{if(!Wi(lt))throw rn.create("not-registered");const Wt=lt.authToken;if(!q&&function Js(B){return 2===B.requestStatus&&!function Xs(B){const q=Date.now();return q<B.creationTime||B.creationTime+B.expiresIn<q+Et}(B)}(Wt))return lt;if(1===Wt.requestStatus)return ae=function ks(B,q){return li.apply(this,arguments)}(B,q),lt;{if(!navigator.onLine)throw rn.create("app-offline");const Zn=function $o(B){const q={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:q})}(lt);return ae=function zi(B,q){return ri.apply(this,arguments)}(B,Zn),Zn}});return ae?yield ae:Re.authToken}),$s.apply(this,arguments)}function li(){return(li=(0,we.Z)(function*(B,q){let ae=yield wi(B.appConfig);for(;1===ae.authToken.requestStatus;)yield Qt(100),ae=yield wi(B.appConfig);const Re=ae.authToken;return 0===Re.requestStatus?Ns(B,q):Re})).apply(this,arguments)}function wi(B){return gn(B,q=>{if(!Wi(q))throw rn.create("not-registered");return function Pi(B){return 1===B.requestStatus&&B.requestTime+Ln<Date.now()}(q.authToken)?Object.assign(Object.assign({},q),{authToken:{requestStatus:0}}):q})}function ri(){return ri=(0,we.Z)(function*(B,q){try{const ae=yield function dr(B,q){return Ei.apply(this,arguments)}(B,q),Re=Object.assign(Object.assign({},q),{authToken:ae});return yield $e(B.appConfig,Re),ae}catch(ae){if(!ln(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const Re=Object.assign(Object.assign({},q),{authToken:{requestStatus:0}});yield $e(B.appConfig,Re)}else yield wt(B.appConfig);throw ae}}),ri.apply(this,arguments)}function Wi(B){return void 0!==B&&2===B.registrationStatus}function ao(){return(ao=(0,we.Z)(function*(B){const q=B,{installationEntry:ae,registrationPromise:Re}=yield Ve(q);return Re?Re.catch(console.error):Ns(q).catch(console.error),ae.fid})).apply(this,arguments)}function Io(){return Io=(0,we.Z)(function*(B,q=!1){const ae=B;return yield function fs(B){return Go.apply(this,arguments)}(ae),(yield Ns(ae,q)).token}),Io.apply(this,arguments)}function Go(){return(Go=(0,we.Z)(function*(B){const{registrationPromise:q}=yield Ve(B);q&&(yield q)})).apply(this,arguments)}function qe(B){return rn.create("missing-app-config-values",{valueName:B})}const vt="installations",Ut=B=>{const q=B.getProvider("app").getImmediate(),ae=function tt(B){if(!B||!B.options)throw qe("App Configuration");if(!B.name)throw qe("App Name");const q=["projectId","apiKey","appId"];for(const ae of q)if(!B.options[ae])throw qe(ae);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(q);return{app:q,appConfig:ae,heartbeatServiceProvider:(0,ne.qX)(q,"heartbeat"),_delete:()=>Promise.resolve()}},Hn=B=>{const q=B.getProvider("app").getImmediate(),ae=(0,ne.qX)(q,vt).getImmediate();return{getId:()=>function Fs(B){return ao.apply(this,arguments)}(ae),getToken:We=>function Ts(B){return Io.apply(this,arguments)}(ae,We)}};(function si(){(0,ne.Xd)(new He.wA(vt,Ut,"PUBLIC")),(0,ne.Xd)(new He.wA("installations-internal",Hn,"PRIVATE"))})(),(0,ne.KN)(Yn,yr),(0,ne.KN)(Yn,yr,"esm2017");const Zr="@firebase/remote-config",Vi=new Ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fr{constructor(q,ae,Re,We){this.client=q,this.storage=ae,this.storageCache=Re,this.logger=We}isCachedDataFresh(q,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Re=Date.now()-ae,We=Re<=q;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Re}. Cache max age millis (minimumFetchIntervalMillis setting): ${q}. Is cache hit: ${We}.`),We}fetch(q){var ae=this;return(0,we.Z)(function*(){const[Re,We]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(We&&ae.isCachedDataFresh(q.cacheMaxAgeMillis,Re))return We;q.eTag=We&&We.eTag;const lt=yield ae.client.fetch(q),Wt=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===lt.status&&Wt.push(ae.storage.setLastSuccessfulFetchResponse(lt)),yield Promise.all(Wt),lt})()}}function mi(B=navigator){return B.languages&&B.languages[0]||B.language}class Tr{constructor(q,ae,Re,We,lt,Wt){this.firebaseInstallations=q,this.sdkVersion=ae,this.namespace=Re,this.projectId=We,this.apiKey=lt,this.appId=Wt}fetch(q){var ae=this;return(0,we.Z)(function*(){const[Re,We]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),Wt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,Zn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":q.eTag||"*"},Gn={sdk_version:ae.sdkVersion,app_instance_id:Re,app_instance_id_token:We,app_id:ae.appId,language_code:mi()},vn={method:"POST",headers:Zn,body:JSON.stringify(Gn)},sr=fetch(Wt,vn),kr=new Promise((Xl,ca)=>{q.signal.addEventListener(()=>{const Fc=new Error("The operation was aborted.");Fc.name="AbortError",ca(Fc)})});let dl;try{yield Promise.race([sr,kr]),dl=yield sr}catch(Xl){let ca="fetch-client-network";throw"AbortError"===Xl?.name&&(ca="fetch-timeout"),Vi.create(ca,{originalErrorMessage:Xl?.message})}let jo=dl.status;const Rs=dl.headers.get("ETag")||void 0;let Zc,$l;if(200===dl.status){let Xl;try{Xl=yield dl.json()}catch(ca){throw Vi.create("fetch-client-parse",{originalErrorMessage:ca?.message})}Zc=Xl.entries,$l=Xl.state}if("INSTANCE_STATE_UNSPECIFIED"===$l?jo=500:"NO_CHANGE"===$l?jo=304:("NO_TEMPLATE"===$l||"EMPTY_CONFIG"===$l)&&(Zc={}),304!==jo&&200!==jo)throw Vi.create("fetch-status",{httpStatus:jo});return{status:jo,eTag:Rs,config:Zc}})()}}class ho{constructor(q,ae){this.client=q,this.storage=ae}fetch(q){var ae=this;return(0,we.Z)(function*(){const Re=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(q,Re)})()}attemptFetch(q,{throttleEndTimeMillis:ae,backoffCount:Re}){var We=this;return(0,we.Z)(function*(){yield function ia(B,q){return new Promise((ae,Re)=>{const We=Math.max(q-Date.now(),0),lt=setTimeout(ae,We);B.addEventListener(()=>{clearTimeout(lt),Re(Vi.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(q.signal,ae);try{const lt=yield We.client.fetch(q);return yield We.storage.deleteThrottleMetadata(),lt}catch(lt){if(!function Di(B){if(!(B instanceof Ne.ZR&&B.customData))return!1;const q=Number(B.customData.httpStatus);return 429===q||500===q||503===q||504===q}(lt))throw lt;const Wt={throttleEndTimeMillis:Date.now()+(0,Ne.$s)(Re),backoffCount:Re+1};return yield We.storage.setThrottleMetadata(Wt),We.attemptFetch(q,Wt)}})()}}class Ho{constructor(q,ae,Re,We,lt){this.app=q,this._client=ae,this._storageCache=Re,this._storage=We,this._logger=lt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function vr(B,q){const ae=B.target.error||void 0;return Vi.create(q,{originalErrorMessage:ae&&ae?.message})}const No="app_namespace_store";class ma{constructor(q,ae,Re,We=function Or(){return new Promise((B,q)=>{try{const ae=indexedDB.open("firebase_remote_config",1);ae.onerror=Re=>{q(vr(Re,"storage-open"))},ae.onsuccess=Re=>{B(Re.target.result)},ae.onupgradeneeded=Re=>{0===Re.oldVersion&&Re.target.result.createObjectStore(No,{keyPath:"compositeKey"})}}catch(ae){q(Vi.create("storage-open",{originalErrorMessage:ae?.message}))}})}()){this.appId=q,this.appName=ae,this.namespace=Re,this.openDbPromise=We}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(q){return this.set("last_fetch_status",q)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(q){return this.set("last_successful_fetch_timestamp_millis",q)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(q){return this.set("last_successful_fetch_response",q)}getActiveConfig(){return this.get("active_config")}setActiveConfig(q){return this.set("active_config",q)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(q){return this.set("active_config_etag",q)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(q){return this.set("throttle_metadata",q)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(q){var ae=this;return(0,we.Z)(function*(){const Re=yield ae.openDbPromise;return new Promise((We,lt)=>{const Zn=Re.transaction([No],"readonly").objectStore(No),Gn=ae.createCompositeKey(q);try{const vn=Zn.get(Gn);vn.onerror=sr=>{lt(vr(sr,"storage-get"))},vn.onsuccess=sr=>{const kr=sr.target.result;We(kr?kr.value:void 0)}}catch(vn){lt(Vi.create("storage-get",{originalErrorMessage:vn?.message}))}})})()}set(q,ae){var Re=this;return(0,we.Z)(function*(){const We=yield Re.openDbPromise;return new Promise((lt,Wt)=>{const Gn=We.transaction([No],"readwrite").objectStore(No),vn=Re.createCompositeKey(q);try{const sr=Gn.put({compositeKey:vn,value:ae});sr.onerror=kr=>{Wt(vr(kr,"storage-set"))},sr.onsuccess=()=>{lt()}}catch(sr){Wt(Vi.create("storage-set",{originalErrorMessage:sr?.message}))}})})()}delete(q){var ae=this;return(0,we.Z)(function*(){const Re=yield ae.openDbPromise;return new Promise((We,lt)=>{const Zn=Re.transaction([No],"readwrite").objectStore(No),Gn=ae.createCompositeKey(q);try{const vn=Zn.delete(Gn);vn.onerror=sr=>{lt(vr(sr,"storage-delete"))},vn.onsuccess=()=>{We()}}catch(vn){lt(Vi.create("storage-delete",{originalErrorMessage:vn?.message}))}})})()}createCompositeKey(q){return[this.appId,this.appName,this.namespace,q].join()}}class Ls{constructor(q){this.storage=q}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var q=this;return(0,we.Z)(function*(){const ae=q.storage.getLastFetchStatus(),Re=q.storage.getLastSuccessfulFetchTimestampMillis(),We=q.storage.getActiveConfig(),lt=yield ae;lt&&(q.lastFetchStatus=lt);const Wt=yield Re;Wt&&(q.lastSuccessfulFetchTimestampMillis=Wt);const Zn=yield We;Zn&&(q.activeConfig=Zn)})()}setLastFetchStatus(q){return this.lastFetchStatus=q,this.storage.setLastFetchStatus(q)}setLastSuccessfulFetchTimestampMillis(q){return this.lastSuccessfulFetchTimestampMillis=q,this.storage.setLastSuccessfulFetchTimestampMillis(q)}setActiveConfig(q){return this.activeConfig=q,this.storage.setActiveConfig(q)}}function eo(){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,we.Z)(function*(){if(!(0,Ne.hl)())return!1;try{return yield(0,Ne.eu)()}catch{return!1}})).apply(this,arguments)}!function Es(){(0,ne.Xd)(new He.wA("remote-config",function B(q,{instanceIdentifier:ae}){const Re=q.getProvider("app").getImmediate(),We=q.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vi.create("registration-window");if(!(0,Ne.hl)())throw Vi.create("indexed-db-unavailable");const{projectId:lt,apiKey:Wt,appId:Zn}=Re.options;if(!lt)throw Vi.create("registration-project-id");if(!Wt)throw Vi.create("registration-api-key");if(!Zn)throw Vi.create("registration-app-id");const Gn=new ma(Zn,Re.name,ae=ae||"firebase"),vn=new Ls(Gn),sr=new Ae.Yd(Zr);sr.logLevel=Ae.in.ERROR;const kr=new Tr(We,ne.Jn,ae,lt,Wt,Zn),dl=new ho(kr,Gn),jo=new Fr(dl,Gn,vn,sr),Rs=new Ho(Re,jo,vn,Gn,sr);return function gi(B){const q=(0,Ne.m9)(B);q._initializePromise||(q._initializePromise=q._storageCache.loadFromStorage().then(()=>{q._isInitializationComplete=!0}))}(Rs),Rs},"PUBLIC").setMultipleInstances(!0)),(0,ne.KN)(Zr,"0.4.4"),(0,ne.KN)(Zr,"0.4.4","esm2017")}();const Cr=(B,q)=>q.some(ae=>B instanceof ae);let po,zr;const La=new WeakMap,to=new WeakMap,Ds=new WeakMap,ya=new WeakMap,go=new WeakMap;let as={get(B,q,ae){if(B instanceof IDBTransaction){if("done"===q)return to.get(B);if("objectStoreNames"===q)return B.objectStoreNames||Ds.get(B);if("store"===q)return ae.objectStoreNames[1]?void 0:ae.objectStore(ae.objectStoreNames[0])}return Ci(B[q])},set:(B,q,ae)=>(B[q]=ae,!0),has:(B,q)=>B instanceof IDBTransaction&&("done"===q||"store"===q)||q in B};function no(B){return"function"==typeof B?function zo(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ui(){return zr||(zr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...q){return B.apply(Bs(this),q),Ci(La.get(this))}:function(...q){return Ci(B.apply(Bs(this),q))}:function(q,...ae){const Re=B.call(Bs(this),q,...ae);return Ds.set(Re,q.sort?q.sort():[q]),Ci(Re)}}(B):(B instanceof IDBTransaction&&function va(B){if(to.has(B))return;const q=new Promise((ae,Re)=>{const We=()=>{B.removeEventListener("complete",lt),B.removeEventListener("error",Wt),B.removeEventListener("abort",Wt)},lt=()=>{ae(),We()},Wt=()=>{Re(B.error||new DOMException("AbortError","AbortError")),We()};B.addEventListener("complete",lt),B.addEventListener("error",Wt),B.addEventListener("abort",Wt)});to.set(B,q)}(B),Cr(B,function _l(){return po||(po=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,as):B)}function Ci(B){if(B instanceof IDBRequest)return function os(B){const q=new Promise((ae,Re)=>{const We=()=>{B.removeEventListener("success",lt),B.removeEventListener("error",Wt)},lt=()=>{ae(Ci(B.result)),We()},Wt=()=>{Re(B.error),We()};B.addEventListener("success",lt),B.addEventListener("error",Wt)});return q.then(ae=>{ae instanceof IDBCursor&&La.set(ae,B)}).catch(()=>{}),go.set(q,B),q}(B);if(ya.has(B))return ya.get(B);const q=no(B);return q!==B&&(ya.set(B,q),go.set(q,B)),q}const Bs=B=>go.get(B);function Ea(B,q,{blocked:ae,upgrade:Re,blocking:We,terminated:lt}={}){const Wt=indexedDB.open(B,q),Zn=Ci(Wt);return Re&&Wt.addEventListener("upgradeneeded",Gn=>{Re(Ci(Wt.result),Gn.oldVersion,Gn.newVersion,Ci(Wt.transaction))}),ae&&Wt.addEventListener("blocked",()=>ae()),Zn.then(Gn=>{lt&&Gn.addEventListener("close",()=>lt()),We&&Gn.addEventListener("versionchange",()=>We())}).catch(()=>{}),Zn}function ji(B,{blocked:q}={}){const ae=indexedDB.deleteDatabase(B);return q&&ae.addEventListener("blocked",()=>q()),Ci(ae).then(()=>{})}const xa=["get","getKey","getAll","getAllKeys","count"],sc=["put","add","delete","clear"],Xa=new Map;function Va(B,q){if(!(B instanceof IDBDatabase)||q in B||"string"!=typeof q)return;if(Xa.get(q))return Xa.get(q);const ae=q.replace(/FromIndex$/,""),Re=q!==ae,We=sc.includes(ae);if(!(ae in(Re?IDBIndex:IDBObjectStore).prototype)||!We&&!xa.includes(ae))return;const lt=function(){var Wt=(0,we.Z)(function*(Zn,...Gn){const vn=this.transaction(Zn,We?"readwrite":"readonly");let sr=vn.store;return Re&&(sr=sr.index(Gn.shift())),(yield Promise.all([sr[ae](...Gn),We&&vn.done]))[0]});return function(Gn){return Wt.apply(this,arguments)}}();return Xa.set(q,lt),lt}!function Ii(B){as=B(as)}(B=>({...B,get:(q,ae,Re)=>Va(q,ae)||B.get(q,ae,Re),has:(q,ae)=>!!Va(q,ae)||B.has(q,ae)}));const fa="/firebase-messaging-sw.js",Wo="/firebase-cloud-messaging-push-scope",kl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pa="https://fcmregistrations.googleapis.com/v1",$i="google.c.a.c_id",To="google.c.a.c_l",mo="google.c.a.ts";var be=function(B){return B.PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",B}(be||{});function ee(B){const q=new Uint8Array(B);return btoa(String.fromCharCode(...q)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Me(B){const ae=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Re=atob(ae),We=new Uint8Array(Re.length);for(let lt=0;lt<Re.length;++lt)We[lt]=Re.charCodeAt(lt);return We}const un="fcm_token_details_db",ar=5,Cs="fcm_token_object_Store";function ko(){return ko=(0,we.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(lt=>lt.name).includes(un))return null;let q=null;return(yield Ea(un,ar,{upgrade:(Re=(0,we.Z)(function*(We,lt,Wt,Zn){var Gn;if(lt<2||!We.objectStoreNames.contains(Cs))return;const vn=Zn.objectStore(Cs),sr=yield vn.index("fcmSenderId").get(B);if(yield vn.clear(),sr)if(2===lt){const kr=sr;if(!kr.auth||!kr.p256dh||!kr.endpoint)return;q={token:kr.fcmToken,createTime:null!==(Gn=kr.createTime)&&void 0!==Gn?Gn:Date.now(),subscriptionOptions:{auth:kr.auth,p256dh:kr.p256dh,endpoint:kr.endpoint,swScope:kr.swScope,vapidKey:"string"==typeof kr.vapidKey?kr.vapidKey:ee(kr.vapidKey)}}}else if(3===lt){const kr=sr;q={token:kr.fcmToken,createTime:kr.createTime,subscriptionOptions:{auth:ee(kr.auth),p256dh:ee(kr.p256dh),endpoint:kr.endpoint,swScope:kr.swScope,vapidKey:ee(kr.vapidKey)}}}else if(4===lt){const kr=sr;q={token:kr.fcmToken,createTime:kr.createTime,subscriptionOptions:{auth:ee(kr.auth),p256dh:ee(kr.p256dh),endpoint:kr.endpoint,swScope:kr.swScope,vapidKey:ee(kr.vapidKey)}}}}),function(lt,Wt,Zn,Gn){return Re.apply(this,arguments)})})).close(),yield ji(un),yield ji("fcm_vapid_details_db"),yield ji("undefined"),function Us(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:q}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof q.auth&&q.auth.length>0&&"string"==typeof q.p256dh&&q.p256dh.length>0&&"string"==typeof q.endpoint&&q.endpoint.length>0&&"string"==typeof q.swScope&&q.swScope.length>0&&"string"==typeof q.vapidKey&&q.vapidKey.length>0}(q)?q:null;var Re}),ko.apply(this,arguments)}const Hs="firebase-messaging-database",Ba=1,ro="firebase-messaging-store";let ts=null;function sa(){return ts||(ts=Ea(Hs,Ba,{upgrade:(B,q)=>{0===q&&B.createObjectStore(ro)}})),ts}function cs(B){return ga.apply(this,arguments)}function ga(){return ga=(0,we.Z)(function*(B){const q=Oa(B),Re=yield(yield sa()).transaction(ro).objectStore(ro).get(q);if(Re)return Re;{const We=yield function Ni(B){return ko.apply(this,arguments)}(B.appConfig.senderId);if(We)return yield ol(B,We),We}}),ga.apply(this,arguments)}function ol(B,q){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,we.Z)(function*(B,q){const ae=Oa(B),We=(yield sa()).transaction(ro,"readwrite");return yield We.objectStore(ro).put(q,ae),yield We.done,q})).apply(this,arguments)}function ja(){return(ja=(0,we.Z)(function*(B){const q=Oa(B),Re=(yield sa()).transaction(ro,"readwrite");yield Re.objectStore(ro).delete(q),yield Re.done})).apply(this,arguments)}function Oa({appConfig:B}){return B.appId}const Ms=new Ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bl(B,q){return As.apply(this,arguments)}function As(){return(As=(0,we.Z)(function*(B,q){const ae=yield Fl(B),Re=$a(q),We={method:"POST",headers:ae,body:JSON.stringify(Re)};let lt;try{lt=yield(yield fetch(qo(B.appConfig),We)).json()}catch(Wt){throw Ms.create("token-subscribe-failed",{errorInfo:Wt?.toString()})}if(lt.error)throw Ms.create("token-subscribe-failed",{errorInfo:lt.error.message});if(!lt.token)throw Ms.create("token-subscribe-no-token");return lt.token})).apply(this,arguments)}function el(){return(el=(0,we.Z)(function*(B,q){const ae=yield Fl(B),Re=$a(q.subscriptionOptions),We={method:"PATCH",headers:ae,body:JSON.stringify(Re)};let lt;try{lt=yield(yield fetch(`${qo(B.appConfig)}/${q.token}`,We)).json()}catch(Wt){throw Ms.create("token-update-failed",{errorInfo:Wt?.toString()})}if(lt.error)throw Ms.create("token-update-failed",{errorInfo:lt.error.message});if(!lt.token)throw Ms.create("token-update-no-token");return lt.token})).apply(this,arguments)}function di(B,q){return zs.apply(this,arguments)}function zs(){return(zs=(0,we.Z)(function*(B,q){const Re={method:"DELETE",headers:yield Fl(B)};try{const lt=yield(yield fetch(`${qo(B.appConfig)}/${q}`,Re)).json();if(lt.error)throw Ms.create("token-unsubscribe-failed",{errorInfo:lt.error.message})}catch(We){throw Ms.create("token-unsubscribe-failed",{errorInfo:We?.toString()})}})).apply(this,arguments)}function qo({projectId:B}){return`${pa}/projects/${B}/registrations`}function Fl(B){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,we.Z)(function*({appConfig:B,installations:q}){const ae=yield q.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function $a({p256dh:B,auth:q,endpoint:ae,vapidKey:Re}){const We={web:{endpoint:ae,auth:q,p256dh:B}};return Re!==kl&&(We.web.applicationPubKey=Re),We}const oa=6048e5;function aa(){return aa=(0,we.Z)(function*(B){const q=yield function io(B,q){return Ql.apply(this,arguments)}(B.swRegistration,B.vapidKey),ae={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:q.endpoint,auth:ee(q.getKey("auth")),p256dh:ee(q.getKey("p256dh"))},Re=yield cs(B.firebaseDependencies);if(Re){if(function V(B,q){return q.vapidKey===B.vapidKey&&q.endpoint===B.endpoint&&q.auth===B.auth&&q.p256dh===B.p256dh}(Re.subscriptionOptions,ae))return Date.now()>=Re.createTime+oa?function Ll(B,q){return ll.apply(this,arguments)}(B,{token:Re.token,createTime:Date.now(),subscriptionOptions:ae}):Re.token;try{yield di(B.firebaseDependencies,Re.token)}catch(We){console.warn(We)}return Ko(B.firebaseDependencies,ae)}return Ko(B.firebaseDependencies,ae)}),aa.apply(this,arguments)}function Fo(){return Fo=(0,we.Z)(function*(B){const q=yield cs(B.firebaseDependencies);q&&(yield di(B.firebaseDependencies,q.token),yield function wa(B){return ja.apply(this,arguments)}(B.firebaseDependencies));const ae=yield B.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()}),Fo.apply(this,arguments)}function ll(){return ll=(0,we.Z)(function*(B,q){try{const ae=yield function Il(B,q){return el.apply(this,arguments)}(B.firebaseDependencies,q),Re=Object.assign(Object.assign({},q),{token:ae,createTime:Date.now()});return yield ol(B.firebaseDependencies,Re),ae}catch(ae){throw yield function Yl(B){return Fo.apply(this,arguments)}(B),ae}}),ll.apply(this,arguments)}function Ko(B,q){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,we.Z)(function*(B,q){const Re={token:yield bl(B,q),createTime:Date.now(),subscriptionOptions:q};return yield ol(B,Re),Re.token})).apply(this,arguments)}function Ql(){return(Ql=(0,we.Z)(function*(B,q){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Me(q)})})).apply(this,arguments)}function X(B){const q={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function Pe(B,q){if(!q.notification)return;B.notification={};const ae=q.notification.title;ae&&(B.notification.title=ae);const Re=q.notification.body;Re&&(B.notification.body=Re);const We=q.notification.image;We&&(B.notification.image=We);const lt=q.notification.icon;lt&&(B.notification.icon=lt)}(q,B),function Q(B,q){q.data&&(B.data=q.data)}(q,B),function Se(B,q){var ae,Re,We,lt,Wt;if(!(q.fcmOptions||null!==(ae=q.notification)&&void 0!==ae&&ae.click_action))return;B.fcmOptions={};const Zn=null!==(We=null===(Re=q.fcmOptions)||void 0===Re?void 0:Re.link)&&void 0!==We?We:null===(lt=q.notification)||void 0===lt?void 0:lt.click_action;Zn&&(B.fcmOptions.link=Zn);const Gn=null===(Wt=q.fcmOptions)||void 0===Wt?void 0:Wt.analytics_label;Gn&&(B.fcmOptions.analyticsLabel=Gn)}(q,B),q}function re(B,q){const ae=[];for(let Re=0;Re<B.length;Re++)ae.push(B.charAt(Re)),Re<q.length&&ae.push(q.charAt(Re));return ae.join("")}function _e(B){return Ms.create("missing-app-config-values",{valueName:B})}re("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),re("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ce{constructor(q,ae,Re){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const We=function he(B){if(!B||!B.options)throw _e("App Configuration Object");if(!B.name)throw _e("App Name");const q=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=B;for(const Re of q)if(!ae[Re])throw _e(Re);return{appName:B.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(q);this.firebaseDependencies={app:q,appConfig:We,installations:ae,analyticsProvider:Re}}_delete(){return Promise.resolve()}}function et(){return(et=(0,we.Z)(function*(B){try{B.swRegistration=yield navigator.serviceWorker.register(fa,{scope:Wo}),B.swRegistration.update().catch(()=>{})}catch(q){throw Ms.create("failed-service-worker-registration",{browserErrorMessage:q?.message})}})).apply(this,arguments)}function Ot(){return(Ot=(0,we.Z)(function*(B,q){if(!q&&!B.swRegistration&&(yield function Ke(B){return et.apply(this,arguments)}(B)),q||!B.swRegistration){if(!(q instanceof ServiceWorkerRegistration))throw Ms.create("invalid-sw-registration");B.swRegistration=q}})).apply(this,arguments)}function xn(){return(xn=(0,we.Z)(function*(B,q){q?B.vapidKey=q:B.vapidKey||(B.vapidKey=kl)})).apply(this,arguments)}function Vn(){return Vn=(0,we.Z)(function*(B,q){if(!navigator)throw Ms.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ms.create("permission-blocked");return yield function In(B,q){return xn.apply(this,arguments)}(B,q?.vapidKey),yield function xt(B,q){return Ot.apply(this,arguments)}(B,q?.serviceWorkerRegistration),function Ma(B){return aa.apply(this,arguments)}(B)}),Vn.apply(this,arguments)}function $r(){return($r=(0,we.Z)(function*(B,q,ae){const Re=function ps(B){switch(B){case be.NOTIFICATION_CLICKED:return"notification_open";case be.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(q);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(Re,{message_id:ae[$i],message_name:ae[To],message_time:ae[mo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Bt(){return Bt=(0,we.Z)(function*(B,q){const ae=q.data;if(!ae.isFirebaseMessaging)return;B.onMessageHandler&&ae.messageType===be.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(X(ae)):B.onMessageHandler.next(X(ae)));const Re=ae.data;(function $(B){return"object"==typeof B&&!!B&&$i in B})(Re)&&"1"===Re["google.c.a.e"]&&(yield function Sr(B,q,ae){return $r.apply(this,arguments)}(B,ae.messageType,Re))}),Bt.apply(this,arguments)}const ci="@firebase/messaging",ns=B=>{const q=new Ce(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function Ws(B,q){return Bt.apply(this,arguments)}(q,ae)),q},zn=B=>{const q=B.getProvider("messaging").getImmediate();return{getToken:Re=>function Kn(B,q){return Vn.apply(this,arguments)}(q,Re)}};function gs(){return yn.apply(this,arguments)}function yn(){return(yn=(0,we.Z)(function*(){try{yield(0,Ne.eu)()}catch{return!1}return typeof window<"u"&&(0,Ne.hl)()&&(0,Ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function lr(){(0,ne.Xd)(new He.wA("messaging",ns,"PUBLIC")),(0,ne.Xd)(new He.wA("messaging-internal",zn,"PRIVATE")),(0,ne.KN)(ci,"0.12.4"),(0,ne.KN)(ci,"0.12.4","esm2017")}();const Vl="analytics",Oc="firebase_id",oi="origin",oc=6e4,Zl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Mc="https://www.googletagmanager.com/gtag/js",gr=new Ae.Yd("@firebase/analytics"),Lo=new Ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ki(B){if(!B.startsWith(Mc)){const q=Lo.create("invalid-gtag-resource",{gtagURL:B});return gr.warn(q.message),""}return B}function mr(B){return Promise.all(B.map(q=>q.catch(ae=>ae)))}function ht(){return(ht=(0,we.Z)(function*(B,q,ae,Re,We,lt){const Wt=Re[We];try{if(Wt)yield q[Wt];else{const Gn=(yield mr(ae)).find(vn=>vn.measurementId===We);Gn&&(yield q[Gn.appId])}}catch(Zn){gr.error(Zn)}B("config",We,lt)})).apply(this,arguments)}function yc(){return(yc=(0,we.Z)(function*(B,q,ae,Re,We){try{let lt=[];if(We&&We.send_to){let Wt=We.send_to;Array.isArray(Wt)||(Wt=[Wt]);const Zn=yield mr(ae);for(const Gn of Wt){const vn=Zn.find(kr=>kr.measurementId===Gn),sr=vn&&q[vn.appId];if(!sr){lt=[];break}lt.push(sr)}}0===lt.length&&(lt=Object.values(q)),yield Promise.all(lt),B("event",Re,We||{})}catch(lt){gr.error(lt)}})).apply(this,arguments)}const zc=30,vc=new class Pc{constructor(q={},ae=1e3){this.throttleMetadata=q,this.intervalMillis=ae}getThrottleMetadata(q){return this.throttleMetadata[q]}setThrottleMetadata(q,ae){this.throttleMetadata[q]=ae}deleteThrottleMetadata(q){delete this.throttleMetadata[q]}};function nl(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function Nc(){return(Nc=(0,we.Z)(function*(B){var q;const{appId:ae,apiKey:Re}=B,We={method:"GET",headers:nl(Re)},lt=Zl.replace("{app-id}",ae),Wt=yield fetch(lt,We);if(200!==Wt.status&&304!==Wt.status){let Zn="";try{const Gn=yield Wt.json();null!==(q=Gn.error)&&void 0!==q&&q.message&&(Zn=Gn.error.message)}catch{}throw Lo.create("config-fetch-failed",{httpStatus:Wt.status,responseMessage:Zn})}return Wt.json()})).apply(this,arguments)}function vo(){return(vo=(0,we.Z)(function*(B,q=vc,ae){const{appId:Re,apiKey:We,measurementId:lt}=B.options;if(!Re)throw Lo.create("no-app-id");if(!We){if(lt)return{measurementId:lt,appId:Re};throw Lo.create("no-api-key")}const Wt=q.getThrottleMetadata(Re)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Zn=new oe;return setTimeout((0,we.Z)(function*(){Zn.abort()}),void 0!==ae?ae:oc),hu({appId:Re,apiKey:We,measurementId:lt},Wt,Zn,q)})).apply(this,arguments)}function hu(B,q,ae){return _t.apply(this,arguments)}function _t(){return _t=(0,we.Z)(function*(B,{throttleEndTimeMillis:q,backoffCount:ae},Re,We=vc){var lt;const{appId:Wt,measurementId:Zn}=B;try{yield function ba(B,q){return new Promise((ae,Re)=>{const We=Math.max(q-Date.now(),0),lt=setTimeout(ae,We);B.addEventListener(()=>{clearTimeout(lt),Re(Lo.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(Re,q)}catch(Gn){if(Zn)return gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${Gn?.message}]`),{appId:Wt,measurementId:Zn};throw Gn}try{const Gn=yield function Tu(B){return Nc.apply(this,arguments)}(B);return We.deleteThrottleMetadata(Wt),Gn}catch(Gn){const vn=Gn;if(!function Bl(B){if(!(B instanceof Ne.ZR&&B.customData))return!1;const q=Number(B.customData.httpStatus);return 429===q||500===q||503===q||504===q}(vn)){if(We.deleteThrottleMetadata(Wt),Zn)return gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${vn?.message}]`),{appId:Wt,measurementId:Zn};throw Gn}const sr=503===Number(null===(lt=vn?.customData)||void 0===lt?void 0:lt.httpStatus)?(0,Ne.$s)(ae,We.intervalMillis,zc):(0,Ne.$s)(ae,We.intervalMillis),kr={throttleEndTimeMillis:Date.now()+sr,backoffCount:ae+1};return We.setThrottleMetadata(Wt,kr),gr.debug(`Calling attemptFetch again in ${sr} millis`),hu(B,kr,Re,We)}}),_t.apply(this,arguments)}class oe{constructor(){this.listeners=[]}addEventListener(q){this.listeners.push(q)}abort(){this.listeners.forEach(q=>q())}}let A,dt;function W(){return(W=(0,we.Z)(function*(B,q,ae,Re,We){if(We&&We.global)B("event",ae,Re);else{const lt=yield q;B("event",ae,Object.assign(Object.assign({},Re),{send_to:lt}))}})).apply(this,arguments)}function Er(){return(Er=(0,we.Z)(function*(){if(!(0,Ne.hl)())return gr.warn(Lo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ne.eu)()}catch(B){return gr.warn(Lo.create("indexeddb-unavailable",{errorInfo:B?.toString()}).message),!1}return!0})).apply(this,arguments)}function rs(){return rs=(0,we.Z)(function*(B,q,ae,Re,We,lt,Wt){var Zn;const Gn=function yo(B){return vo.apply(this,arguments)}(B);Gn.then(jo=>{ae[jo.measurementId]=jo.appId,B.options.measurementId&&jo.measurementId!==B.options.measurementId&&gr.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${jo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jo=>gr.error(jo)),q.push(Gn);const vn=function Gr(){return Er.apply(this,arguments)}().then(jo=>{if(jo)return Re.getId()}),[sr,kr]=yield Promise.all([Gn,vn]);(function ac(B){const q=window.document.getElementsByTagName("script");for(const ae of Object.values(q))if(ae.src&&ae.src.includes(Mc)&&ae.src.includes(B))return ae;return null})(lt)||function Yi(B,q){const ae=function yl(B,q){let ae;return window.trustedTypes&&(ae=window.trustedTypes.createPolicy(B,q)),ae}("firebase-js-sdk-policy",{createScriptURL:Ki}),Re=document.createElement("script"),We=`${Mc}?l=${B}&id=${q}`;Re.src=ae?ae?.createScriptURL(We):We,Re.async=!0,document.head.appendChild(Re)}(lt,sr.measurementId),dt&&(We("consent","default",dt),function fn(B){dt=B}(void 0)),We("js",new Date);const dl=null!==(Zn=Wt?.config)&&void 0!==Zn?Zn:{};return dl[oi]="firebase",dl.update=!0,null!=kr&&(dl[Oc]=kr),We("config",sr.measurementId,dl),A&&(We("set",A),function Qn(B){A=B}(void 0)),sr.measurementId}),rs.apply(this,arguments)}class Tl{constructor(q){this.app=q}_delete(){return delete ms[this.app.options.appId],Promise.resolve()}}let ms={},la=[];const vl={};let Sl,Ia,Vo="dataLayer",za=!1;function An(B,q,ae){!function lc(){const B=[];if((0,Ne.ru)()&&B.push("This is a browser extension environment."),(0,Ne.zI)()||B.push("Cookies are not available."),B.length>0){const q=B.map((Re,We)=>`(${We+1}) ${Re}`).join(" "),ae=Lo.create("invalid-analytics-context",{errorInfo:q});gr.warn(ae.message)}}();const Re=B.options.appId;if(!Re)throw Lo.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw Lo.create("no-api-key");gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ms[Re])throw Lo.create("already-exists",{id:Re});if(!za){!function Iu(B){let q=[];Array.isArray(window[B])?q=window[B]:window[B]=q}(Vo);const{wrappedGtag:lt,gtagCore:Wt}=function Ks(B,q,ae,Re,We){let lt=function(...Wt){window[Re].push(arguments)};return window[We]&&"function"==typeof window[We]&&(lt=window[We]),window[We]=function Ha(B,q,ae,Re){function lt(){return lt=(0,we.Z)(function*(Wt,...Zn){try{if("event"===Wt){const[Gn,vn]=Zn;yield function Ti(B,q,ae,Re,We){return yc.apply(this,arguments)}(B,q,ae,Gn,vn)}else if("config"===Wt){const[Gn,vn]=Zn;yield function qs(B,q,ae,Re,We,lt){return ht.apply(this,arguments)}(B,q,ae,Re,Gn,vn)}else if("consent"===Wt){const[Gn]=Zn;B("consent","update",Gn)}else if("get"===Wt){const[Gn,vn,sr]=Zn;B("get",Gn,vn,sr)}else if("set"===Wt){const[Gn]=Zn;B("set",Gn)}else B(Wt,...Zn)}catch(Gn){gr.error(Gn)}}),lt.apply(this,arguments)}return function We(Wt){return lt.apply(this,arguments)}}(lt,B,q,ae),{gtagCore:lt,wrappedGtag:window[We]}}(ms,la,vl,Vo,"gtag");Ia=lt,Sl=Wt,za=!0}return ms[Re]=function Kr(B,q,ae,Re,We,lt,Wt){return rs.apply(this,arguments)}(B,la,vl,q,Sl,Vo,ae),new Tl(B)}function Qi(){return _s.apply(this,arguments)}function _s(){return(_s=(0,we.Z)(function*(){if((0,Ne.ru)()||!(0,Ne.zI)()||!(0,Ne.hl)())return!1;try{return yield(0,Ne.eu)()}catch{return!1}})).apply(this,arguments)}const ul="@firebase/analytics";!function js(){(0,ne.Xd)(new He.wA(Vl,(q,{options:ae})=>An(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,ne.Xd)(new He.wA("analytics-internal",function B(q){try{const ae=q.getProvider(Vl).getImmediate();return{logEvent:(Re,We,lt)=>function Ec(B,q,ae,Re){B=(0,Ne.m9)(B),function F(B,q,ae,Re,We){return W.apply(this,arguments)}(Ia,ms[B.app.options.appId],q,ae,Re).catch(We=>gr.error(We))}(ae,Re,We,lt)}}catch(ae){throw Lo.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,ne.KN)(ul,"0.10.0"),(0,ne.KN)(ul,"0.10.0","esm2017")}();var wc=Y(1954),Yo=Y(2631);const Bd=new class _h extends Yo.v{}(class il extends wc.o{constructor(q,ae){super(q,ae),this.scheduler=q,this.work=ae}schedule(q,ae=0){return ae>0?super.schedule(q,ae):(this.delay=ae,this.state=q,this.scheduler.flush(this),this)}execute(q,ae){return ae>0||this.closed?super.execute(q,ae):this._execute(q,ae)}requestAsyncId(q,ae,Re=0){return null!=Re&&Re>0||null==Re&&this.delay>0?super.requestAsyncId(q,ae,Re):(q.flush(this),0)}});var Nu=Y(6321),Zo=Y(5592),Bo=Y(9397),Ao=Y(5137),bc=Y(3093);const qc=new d.GfV("7.6.1"),Cl="__angularfire_symbol__analyticsIsSupportedValue",Kc="__angularfire_symbol__analyticsIsSupported",Jo="__angularfire_symbol__remoteConfigIsSupportedValue",Ul="__angularfire_symbol__remoteConfigIsSupported",Yc="__angularfire_symbol__messagingIsSupportedValue",jl="__angularfire_symbol__messagingIsSupported";function cc(B,q,ae){if(q){if(1===q.length)return q[0];const lt=q.filter(Wt=>Wt.app===ae);if(1===lt.length)return lt[0]}return ae.container.getProvider(B).getImmediate({optional:!0})}globalThis[Kc]||(globalThis[Kc]=Qi().then(B=>globalThis[Cl]=B).catch(()=>globalThis[Cl]=!1)),globalThis[jl]||(globalThis[jl]=gs().then(B=>globalThis[Yc]=B).catch(()=>globalThis[Yc]=!1)),globalThis[Ul]||(globalThis[Ul]=eo().then(B=>globalThis[Jo]=B).catch(()=>globalThis[Jo]=!1));const Xu=(B,q)=>{const ae=q?[q]:(0,ge.C6)(),Re=[];return ae.forEach(We=>{We.container.getProvider(B).instances.forEach(Wt=>{Re.includes(Wt)||Re.push(Wt)})}),Re};function Ic(){}class Jl{constructor(q,ae=Bd){this.zone=q,this.delegate=ae}now(){return this.delegate.now()}schedule(q,ae,Re){const We=this.zone;return this.delegate.schedule(function(Wt){We.runGuarded(()=>{q.apply(this,[Wt])})},ae,Re)}}class ed{constructor(q){this.zone=q,this.task=null}call(q,ae){const Re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ic,{},Ic,Ic)),ae.pipe((0,Bo.b)({next:Re,complete:Re,error:Re})).subscribe(q).add(Re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Uo=(()=>{class B{constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new Jl(Zone.current)),this.insideAngular=ae.run(()=>new Jl(Zone.current,Nu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(ae){return new(ae||B)(d.LFG(d.R0b))},B.\u0275prov=d.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function pu(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function uc(B){return pu().ngZone.run(()=>B())}function nd(B){return pu(),function ku(B){return function(ae){return(ae=ae.lift(new ed(B.ngZone))).pipe((0,Ao.R)(B.outsideAngular),(0,bc.Q)(B.insideAngular))}}(pu())(B)}const Su=(B,q)=>function(){const Re=arguments;return q&&setTimeout(()=>{"scheduled"===q.state&&q.invoke()},10),uc(()=>B.apply(void 0,Re))},Qc=(B,q)=>function(){let ae;const Re=arguments;for(let lt=0;lt<arguments.length;lt++)"function"==typeof Re[lt]&&(q&&(ae||(ae=uc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ic,{},Ic,Ic)))),Re[lt]=Su(Re[lt],ae));const We=function td(B){return pu().ngZone.runOutsideAngular(()=>B())}(()=>B.apply(this,Re));if(!q){if(We instanceof Zo.y){const lt=pu();return We.pipe((0,Ao.R)(lt.outsideAngular),(0,bc.Q)(lt.insideAngular))}return uc(()=>We)}return We instanceof Zo.y?We.pipe(nd):We instanceof Promise?uc(()=>new Promise((lt,Wt)=>We.then(Zn=>uc(()=>lt(Zn)),Zn=>uc(()=>Wt(Zn))))):"function"==typeof We&&ae?function(){return setTimeout(()=>{ae&&"scheduled"===ae.state&&ae.invoke()},10),We.apply(this,arguments)}:uc(()=>We)}},6710:(Rn,yt,Y)=>{Y.d(yt,{$:()=>fa,A:()=>xe,D:()=>Ge,I:()=>sl,J:()=>Ut,L:()=>pn,N:()=>gn,P:()=>Kr,Q:()=>ma,R:()=>R,U:()=>_a,V:()=>eo,W:()=>Vs,X:()=>Ss,Y:()=>_l,Z:()=>Ui,_:()=>go,a:()=>So,a0:()=>kl,a1:()=>$i,a2:()=>Z,a3:()=>Cs,a4:()=>ko,a5:()=>Hs,a6:()=>ro,a7:()=>sa,a8:()=>ga,a9:()=>Ua,aA:()=>Oe,aB:()=>Kc,aC:()=>wt,aD:()=>tr,aE:()=>Bo,aF:()=>Co,aG:()=>Ju,aH:()=>Un,aL:()=>Gc,aO:()=>po,aa:()=>wa,ab:()=>Oa,ac:()=>al,ad:()=>Il,ae:()=>di,af:()=>qo,ai:()=>oa,aj:()=>aa,ak:()=>Yl,an:()=>zo,ao:()=>Pe,aq:()=>xn,ar:()=>ci,as:()=>on,at:()=>Sn,au:()=>Lt,av:()=>st,aw:()=>kr,ax:()=>jl,ay:()=>ni,az:()=>It,b:()=>Pt,c:()=>Ia,d:()=>An,e:()=>Wc,f:()=>ul,g:()=>_h,h:()=>wc,i:()=>_o,j:()=>Nu,k:()=>$l,l:()=>pe,m:()=>Fc,o:()=>Fh,p:()=>ct,r:()=>kt,s:()=>z,u:()=>Gr});var d=Y(5861),ge=Y(9058),we=Y(7592),ne=Y(7582),Ne=Y(7879),He=Y(4537);const ct={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},xe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ge=function Qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Yt=function mt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new ge.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qt=new Ne.Yd("@firebase/auth");function wn(k,...E){qt.logLevel<=Ne.in.ERROR&&qt.error(`Auth (${we.SDK_VERSION}): ${k}`,...E)}function st(k,...E){throw Mt(k,...E)}function It(k,...E){return Mt(k,...E)}function pt(k,E,C){const U=Object.assign(Object.assign({},Yt()),{[E]:C});return new ge.LL("auth","Firebase",U).create(E,{appName:k.name})}function gt(k,E,C){if(!(E instanceof C))throw C.name!==E.constructor.name&&st(k,"argument-error"),pt(k,"argument-error",`Type of ${E.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mt(k,...E){if("string"!=typeof k){const C=E[0],U=[...E.slice(1)];return U[0]&&(U[0].appName=k.name),k._errorFactory.create(C,...U)}return ut.create(k,...E)}function Oe(k,E,...C){if(!k)throw Mt(E,...C)}function Ht(k){const E="INTERNAL ASSERTION FAILED: "+k;throw wn(E),new Error(E)}function on(k,E){k||Ht(E)}function Wn(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.href)||""}function jn(){return"http:"===mn()||"https:"===mn()}function mn(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.protocol)||null}class Ln{constructor(E,C){this.shortDelay=E,this.longDelay=C,on(C>E,"Short delay should be less than long delay!"),this.isMobile=(0,ge.uI)()||(0,ge.b$)()}get(){return function Yn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(jn()||(0,ge.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kn(k,E){on(k.emulator,"Emulator should always be set here");const{url:C}=k.emulator;return E?`${C}${E.startsWith("/")?E.slice(1):E}`:C}class Ye{static initialize(E,C,U){this.fetchImpl=E,C&&(this.headersImpl=C),U&&(this.responseImpl=U)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Et=new Ln(3e4,6e4);function ot(k,E){return k.tenantId&&!E.tenantId?Object.assign(Object.assign({},E),{tenantId:k.tenantId}):E}function Ct(k,E,C,U){return en.apply(this,arguments)}function en(){return(en=(0,d.Z)(function*(k,E,C,U,de={}){return rn(k,de,(0,d.Z)(function*(){let Ie={},ft={};U&&("GET"===E?ft=U:Ie={body:JSON.stringify(U)});const zt=(0,ge.xO)(Object.assign({key:k.config.apiKey},ft)).slice(1),Pn=yield k._getAdditionalHeaders();return Pn["Content-Type"]="application/json",k.languageCode&&(Pn["X-Firebase-Locale"]=k.languageCode),Ye.fetch()(hr(k,k.config.apiHost,C,zt),Object.assign({method:E,headers:Pn,referrerPolicy:"no-referrer"},Ie))}))})).apply(this,arguments)}function rn(k,E,C){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(k,E,C){k._canInitEmulator=!1;const U=Object.assign(Object.assign({},nt),E);try{const de=new Bn(k),Ie=yield Promise.race([C(),de.promise]);de.clearNetworkTimeout();const ft=yield Ie.json();if("needConfirmation"in ft)throw Mr(k,"account-exists-with-different-credential",ft);if(Ie.ok&&!("errorMessage"in ft))return ft;{const zt=Ie.ok?ft.errorMessage:ft.error.message,[Pn,Fn]=zt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pn)throw Mr(k,"credential-already-in-use",ft);if("EMAIL_EXISTS"===Pn)throw Mr(k,"email-already-in-use",ft);if("USER_DISABLED"===Pn)throw Mr(k,"user-disabled",ft);const xr=U[Pn]||Pn.toLowerCase().replace(/[_\s]+/g,"-");if(Fn)throw pt(k,xr,Fn);st(k,xr)}}catch(de){if(de instanceof ge.ZR)throw de;st(k,"network-request-failed",{message:String(de)})}})).apply(this,arguments)}function Hr(k,E,C,U){return ir.apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(k,E,C,U,de={}){const Ie=yield Ct(k,E,C,U,de);return"mfaPendingCredential"in Ie&&st(k,"multi-factor-auth-required",{_serverResponse:Ie}),Ie})).apply(this,arguments)}function hr(k,E,C,U){const de=`${E}${C}?${U}`;return k.config.emulator?kn(k.config,de):`${k.config.apiScheme}://${de}`}class Bn{constructor(E){this.auth=E,this.timer=null,this.promise=new Promise((C,U)=>{this.timer=setTimeout(()=>U(It(this.auth,"network-request-failed")),Et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mr(k,E,C){const U={appName:k.name};C.email&&(U.email=C.email),C.phoneNumber&&(U.phoneNumber=C.phoneNumber);const de=It(k,E,U);return de.customData._tokenResponse=C,de}function Nr(){return(Nr=(0,d.Z)(function*(k,E){return Ct(k,"POST","/v1/accounts:delete",E)})).apply(this,arguments)}function Ze(){return(Ze=(0,d.Z)(function*(k,E){return Ct(k,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(k,E){return Ct(k,"POST","/v1/accounts:lookup",E)})).apply(this,arguments)}function At(k){if(k)try{const E=new Date(Number(k));if(!isNaN(E.getTime()))return E.toUTCString()}catch{}}function Xn(){return(Xn=(0,d.Z)(function*(k,E=!1){const C=(0,ge.m9)(k),U=yield C.getIdToken(E),de=bn(U);Oe(de&&de.exp&&de.auth_time&&de.iat,C.auth,"internal-error");const Ie="object"==typeof de.firebase?de.firebase:void 0,ft=Ie?.sign_in_provider;return{claims:de,token:U,authTime:At(cn(de.auth_time)),issuedAtTime:At(cn(de.iat)),expirationTime:At(cn(de.exp)),signInProvider:ft||null,signInSecondFactor:Ie?.sign_in_second_factor||null}})).apply(this,arguments)}function cn(k){return 1e3*Number(k)}function bn(k){const[E,C,U]=k.split(".");if(void 0===E||void 0===C||void 0===U)return wn("JWT malformed, contained fewer than 3 sections"),null;try{const de=(0,ge.tV)(C);return de?JSON.parse(de):(wn("Failed to decode base64 JWT payload"),null)}catch(de){return wn("Caught error parsing JWT payload as JSON",de?.toString()),null}}function cr(k,E){return ii.apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(k,E,C=!1){if(C)return E;try{return yield E}catch(U){throw U instanceof ge.ZR&&function Si({code:k}){return"auth/user-disabled"===k||"auth/user-token-expired"===k}(U)&&k.auth.currentUser===k&&(yield k.auth.signOut()),U}})).apply(this,arguments)}class Ir{constructor(E){this.user=E,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(E){var C;if(E){const U=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),U}{this.errorBackoff=3e4;const de=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,de)}}schedule(E=!1){var C=this;if(!this.isRunning)return;const U=this.getInterval(E);this.timerId=setTimeout((0,d.Z)(function*(){yield C.iteration()}),U)}iteration(){var E=this;return(0,d.Z)(function*(){try{yield E.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C?.code&&E.schedule(!0))}E.schedule()})()}}class ti{constructor(E,C){this.createdAt=E,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=At(this.lastLoginAt),this.creationTime=At(this.createdAt)}_copy(E){this.createdAt=E.createdAt,this.lastLoginAt=E.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qr(k){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,d.Z)(function*(k){var E;const C=k.auth,U=yield k.getIdToken(),de=yield cr(k,function St(k,E){return Nt.apply(this,arguments)}(C,{idToken:U}));Oe(de?.users.length,C,"internal-error");const Ie=de.users[0];k._notifyReloadListener(Ie);const ft=null!==(E=Ie.providerUserInfo)&&void 0!==E&&E.length?function bs(k){return k.map(E=>{var{providerId:C}=E,U=(0,ne._T)(E,["providerId"]);return{providerId:C,uid:U.rawId||"",displayName:U.displayName||null,email:U.email||null,phoneNumber:U.phoneNumber||null,photoURL:U.photoUrl||null}})}(Ie.providerUserInfo):[],zt=function ur(k,E){return[...k.filter(U=>!E.some(de=>de.providerId===U.providerId)),...E]}(k.providerData,ft),xr=!!k.isAnonymous&&!(k.email&&Ie.passwordHash||zt?.length),Ri={uid:Ie.localId,displayName:Ie.displayName||null,photoURL:Ie.photoUrl||null,email:Ie.email||null,emailVerified:Ie.emailVerified||!1,phoneNumber:Ie.phoneNumber||null,tenantId:Ie.tenantId||null,providerData:zt,metadata:new ti(Ie.createdAt,Ie.lastLoginAt),isAnonymous:xr};Object.assign(k,Ri)}),Vr.apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(k){const E=(0,ge.m9)(k);yield qr(E),yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)})).apply(this,arguments)}function _i(){return(_i=(0,d.Z)(function*(k,E){const C=yield rn(k,{},(0,d.Z)(function*(){const U=(0,ge.xO)({grant_type:"refresh_token",refresh_token:E}).slice(1),{tokenApiHost:de,apiKey:Ie}=k.config,ft=hr(k,de,"/v1/token",`key=${Ie}`),zt=yield k._getAdditionalHeaders();return zt["Content-Type"]="application/x-www-form-urlencoded",Ye.fetch()(ft,{method:"POST",headers:zt,body:U})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class vs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(E){Oe(E.idToken,"internal-error"),Oe(typeof E.idToken<"u","internal-error"),Oe(typeof E.refreshToken<"u","internal-error");const C="expiresIn"in E&&typeof E.expiresIn<"u"?Number(E.expiresIn):function er(k){const E=bn(k);return Oe(E,"internal-error"),Oe(typeof E.exp<"u","internal-error"),Oe(typeof E.iat<"u","internal-error"),Number(E.exp)-Number(E.iat)}(E.idToken);this.updateTokensAndExpiration(E.idToken,E.refreshToken,C)}getToken(E,C=!1){var U=this;return(0,d.Z)(function*(){return Oe(!U.accessToken||U.refreshToken,E,"user-token-expired"),C||!U.accessToken||U.isExpired?U.refreshToken?(yield U.refresh(E,U.refreshToken),U.accessToken):null:U.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(E,C){var U=this;return(0,d.Z)(function*(){const{accessToken:de,refreshToken:Ie,expiresIn:ft}=yield function Is(k,E){return _i.apply(this,arguments)}(E,C);U.updateTokensAndExpiration(de,Ie,Number(ft))})()}updateTokensAndExpiration(E,C,U){this.refreshToken=C||null,this.accessToken=E||null,this.expirationTime=Date.now()+1e3*U}static fromJSON(E,C){const{refreshToken:U,accessToken:de,expirationTime:Ie}=C,ft=new vs;return U&&(Oe("string"==typeof U,"internal-error",{appName:E}),ft.refreshToken=U),de&&(Oe("string"==typeof de,"internal-error",{appName:E}),ft.accessToken=de),Ie&&(Oe("number"==typeof Ie,"internal-error",{appName:E}),ft.expirationTime=Ie),ft}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(E){this.accessToken=E.accessToken,this.refreshToken=E.refreshToken,this.expirationTime=E.expirationTime}_clone(){return Object.assign(new vs,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function Tt(k,E){Oe("string"==typeof k||typeof k>"u","internal-error",{appName:E})}class $e{constructor(E){var{uid:C,auth:U,stsTokenManager:de}=E,Ie=(0,ne._T)(E,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=U,this.stsTokenManager=de,this.accessToken=de.accessToken,this.displayName=Ie.displayName||null,this.email=Ie.email||null,this.emailVerified=Ie.emailVerified||!1,this.phoneNumber=Ie.phoneNumber||null,this.photoURL=Ie.photoURL||null,this.isAnonymous=Ie.isAnonymous||!1,this.tenantId=Ie.tenantId||null,this.providerData=Ie.providerData?[...Ie.providerData]:[],this.metadata=new ti(Ie.createdAt||void 0,Ie.lastLoginAt||void 0)}getIdToken(E){var C=this;return(0,d.Z)(function*(){const U=yield cr(C,C.stsTokenManager.getToken(C.auth,E));return Oe(U,C.auth,"internal-error"),C.accessToken!==U&&(C.accessToken=U,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),U})()}getIdTokenResult(E){return function pr(k){return Xn.apply(this,arguments)}(this,E)}reload(){return function Xi(k){return Dr.apply(this,arguments)}(this)}_assign(E){this!==E&&(Oe(this.uid===E.uid,this.auth,"internal-error"),this.displayName=E.displayName,this.photoURL=E.photoURL,this.email=E.email,this.emailVerified=E.emailVerified,this.phoneNumber=E.phoneNumber,this.isAnonymous=E.isAnonymous,this.tenantId=E.tenantId,this.providerData=E.providerData.map(C=>Object.assign({},C)),this.metadata._copy(E.metadata),this.stsTokenManager._assign(E.stsTokenManager))}_clone(E){const C=new $e(Object.assign(Object.assign({},this),{auth:E,stsTokenManager:this.stsTokenManager._clone()}));return C.metadata._copy(this.metadata),C}_onReload(E){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=E,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(E){this.reloadListener?this.reloadListener(E):this.reloadUserInfo=E}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(E,C=!1){var U=this;return(0,d.Z)(function*(){let de=!1;E.idToken&&E.idToken!==U.stsTokenManager.accessToken&&(U.stsTokenManager.updateFromServerResponse(E),de=!0),C&&(yield qr(U)),yield U.auth._persistUserIfCurrent(U),de&&U.auth._notifyListenersIfCurrent(U)})()}delete(){var E=this;return(0,d.Z)(function*(){const C=yield E.getIdToken();return yield cr(E,function Mn(k,E){return Nr.apply(this,arguments)}(E.auth,{idToken:C})),E.stsTokenManager.clearRefreshToken(),E.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(E=>Object.assign({},E)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(E,C){var U,de,Ie,ft,zt,Pn,Fn,xr;const Ri=null!==(U=C.displayName)&&void 0!==U?U:void 0,Ta=null!==(de=C.email)&&void 0!==de?de:void 0,fl=null!==(Ie=C.phoneNumber)&&void 0!==Ie?Ie:void 0,Cu=null!==(ft=C.photoURL)&&void 0!==ft?ft:void 0,Jc=null!==(zt=C.tenantId)&&void 0!==zt?zt:void 0,Au=null!==(Pn=C._redirectEventId)&&void 0!==Pn?Pn:void 0,Tc=null!==(Fn=C.createdAt)&&void 0!==Fn?Fn:void 0,sd=null!==(xr=C.lastLoginAt)&&void 0!==xr?xr:void 0,{uid:ec,emailVerified:Rl,isAnonymous:Lh,providerData:xl,stsTokenManager:yh}=C;Oe(ec&&yh,E,"internal-error");const od=vs.fromJSON(this.name,yh);Oe("string"==typeof ec,E,"internal-error"),Tt(Ri,E.name),Tt(Ta,E.name),Oe("boolean"==typeof Rl,E,"internal-error"),Oe("boolean"==typeof Lh,E,"internal-error"),Tt(fl,E.name),Tt(Cu,E.name),Tt(Jc,E.name),Tt(Au,E.name),Tt(Tc,E.name),Tt(sd,E.name);const $d=new $e({uid:ec,auth:E,email:Ta,emailVerified:Rl,displayName:Ri,isAnonymous:Lh,photoURL:Cu,phoneNumber:fl,tenantId:Jc,stsTokenManager:od,createdAt:Tc,lastLoginAt:sd});return xl&&Array.isArray(xl)&&($d.providerData=xl.map(Xc=>Object.assign({},Xc))),Au&&($d._redirectEventId=Au),$d}static _fromIdTokenResponse(E,C,U=!1){return(0,d.Z)(function*(){const de=new vs;de.updateFromServerResponse(C);const Ie=new $e({uid:C.localId,auth:E,stsTokenManager:de,isAnonymous:U});return yield qr(Ie),Ie})()}}const Vt=new Map;function wt(k){on(k instanceof Function,"Expected a class definition");let E=Vt.get(k);return E?(on(E instanceof k,"Instance stored in cache mismatched with class"),E):(E=new k,Vt.set(k,E),E)}const gn=(()=>{class k{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(C,U){var de=this;return(0,d.Z)(function*(){de.storage[C]=U})()}_get(C){var U=this;return(0,d.Z)(function*(){const de=U.storage[C];return void 0===de?null:de})()}_remove(C){var U=this;return(0,d.Z)(function*(){delete U.storage[C]})()}_addListener(C,U){}_removeListener(C,U){}}return k.type="NONE",k})();function tr(k,E,C){return`firebase:${k}:${E}:${C}`}class Ve{constructor(E,C,U){this.persistence=E,this.auth=C,this.userKey=U;const{config:de,name:Ie}=this.auth;this.fullUserKey=tr(this.userKey,de.apiKey,Ie),this.fullPersistenceKey=tr("persistence",de.apiKey,Ie),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(E){return this.persistence._set(this.fullUserKey,E.toJSON())}getCurrentUser(){var E=this;return(0,d.Z)(function*(){const C=yield E.persistence._get(E.fullUserKey);return C?$e._fromJSON(E.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(E){var C=this;return(0,d.Z)(function*(){if(C.persistence===E)return;const U=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=E,U?C.setCurrentUser(U):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(E,C,U="authUser"){return(0,d.Z)(function*(){if(!C.length)return new Ve(wt(gn),E,U);const de=(yield Promise.all(C.map(function(){var Fn=(0,d.Z)(function*(xr){if(yield xr._isAvailable())return xr});return function(xr){return Fn.apply(this,arguments)}}()))).filter(Fn=>Fn);let Ie=de[0]||wt(gn);const ft=tr(U,E.config.apiKey,E.name);let zt=null;for(const Fn of C)try{const xr=yield Fn._get(ft);if(xr){const Ri=$e._fromJSON(E,xr);Fn!==Ie&&(zt=Ri),Ie=Fn;break}}catch{}const Pn=de.filter(Fn=>Fn._shouldAllowMigration);return Ie._shouldAllowMigration&&Pn.length?(Ie=Pn[0],zt&&(yield Ie._set(ft,zt.toJSON())),yield Promise.all(C.map(function(){var Fn=(0,d.Z)(function*(xr){if(xr!==Ie)try{yield xr._remove(ft)}catch{}});return function(xr){return Fn.apply(this,arguments)}}())),new Ve(Ie,E,U)):new Ve(Ie,E,U)})()}}function me(k){const E=k.toLowerCase();if(E.includes("opera/")||E.includes("opr/")||E.includes("opios/"))return"Opera";if(ze(E))return"IEMobile";if(E.includes("msie")||E.includes("trident/"))return"IE";if(E.includes("edge/"))return"Edge";if(fe(E))return"Firefox";if(E.includes("silk/"))return"Silk";if(tn(E))return"Blackberry";if(qn(E))return"Webos";if(Le(E))return"Safari";if((E.includes("chrome/")||ve(E))&&!E.includes("edge/"))return"Chrome";if(Lt(E))return"Android";{const U=k.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===U?.length)return U[1]}return"Other"}function fe(k=(0,ge.z$)()){return/firefox\//i.test(k)}function Le(k=(0,ge.z$)()){const E=k.toLowerCase();return E.includes("safari/")&&!E.includes("chrome/")&&!E.includes("crios/")&&!E.includes("android")}function ve(k=(0,ge.z$)()){return/crios\//i.test(k)}function ze(k=(0,ge.z$)()){return/iemobile/i.test(k)}function Lt(k=(0,ge.z$)()){return/android/i.test(k)}function tn(k=(0,ge.z$)()){return/blackberry/i.test(k)}function qn(k=(0,ge.z$)()){return/webos/i.test(k)}function Sn(k=(0,ge.z$)()){return/iphone|ipad|ipod/i.test(k)||/macintosh/i.test(k)&&/mobile/i.test(k)}function ni(k=(0,ge.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(k)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(k)}function ui(k=(0,ge.z$)()){return Sn(k)||Lt(k)||qn(k)||tn(k)||/windows phone/i.test(k)||ze(k)}function $s(k,E=[]){let C;switch(k){case"Browser":C=me((0,ge.z$)());break;case"Worker":C=`${me((0,ge.z$)())}-${k}`;break;default:C=k}const U=E.length?E.join(","):"FirebaseCore-web";return`${C}/JsCore/${we.SDK_VERSION}/${U}`}function li(){return(li=(0,d.Z)(function*(k){return(yield Ct(k,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wi(k,E){return zi.apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(k,E){return Ct(k,"GET","/v2/recaptchaConfig",ot(k,E))})).apply(this,arguments)}function ri(k){return void 0!==k&&void 0!==k.getResponse}function Wi(k){return void 0!==k&&void 0!==k.enterprise}class Js{constructor(E){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===E.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=E.recaptchaKey.split("/")[3],this.emailPasswordEnabled=E.recaptchaEnforcementState.some(C=>"EMAIL_PASSWORD_PROVIDER"===C.provider&&"OFF"!==C.enforcementState)}}function $o(k){return new Promise((E,C)=>{const U=document.createElement("script");U.setAttribute("src",k),U.onload=E,U.onerror=de=>{const Ie=It("internal-error");Ie.customData=de,C(Ie)},U.type="text/javascript",U.charset="UTF-8",function Xs(){var k,E;return null!==(E=null===(k=document.getElementsByTagName("head"))||void 0===k?void 0:k[0])&&void 0!==E?E:document}().appendChild(U)})}function Pi(k){return`__${k}${Math.floor(1e6*Math.random())}`}class Io{constructor(E){this.type="recaptcha-enterprise",this.auth=Un(E)}verify(E="verify",C=!1){var U=this;return(0,d.Z)(function*(){function Ie(){return Ie=(0,d.Z)(function*(zt){if(!C){if(null==zt.tenantId&&null!=zt._agentRecaptchaConfig)return zt._agentRecaptchaConfig.siteKey;if(null!=zt.tenantId&&void 0!==zt._tenantRecaptchaConfigs[zt.tenantId])return zt._tenantRecaptchaConfigs[zt.tenantId].siteKey}return new Promise(function(){var Pn=(0,d.Z)(function*(Fn,xr){wi(zt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ri=>{if(void 0!==Ri.recaptchaKey){const Ta=new Js(Ri);return null==zt.tenantId?zt._agentRecaptchaConfig=Ta:zt._tenantRecaptchaConfigs[zt.tenantId]=Ta,Fn(Ta.siteKey)}xr(new Error("recaptcha Enterprise site key undefined"))}).catch(Ri=>{xr(Ri)})});return function(Fn,xr){return Pn.apply(this,arguments)}}())}),Ie.apply(this,arguments)}function ft(zt,Pn,Fn){const xr=window.grecaptcha;Wi(xr)?xr.enterprise.ready(()=>{xr.enterprise.execute(zt,{action:E}).then(Ri=>{Pn(Ri)}).catch(()=>{Pn("NO_RECAPTCHA")})}):Fn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((zt,Pn)=>{(function de(zt){return Ie.apply(this,arguments)})(U.auth).then(Fn=>{if(!C&&Wi(window.grecaptcha))ft(Fn,zt,Pn);else{if(typeof window>"u")return void Pn(new Error("RecaptchaVerifier is only supported in browser"));$o("https://www.google.com/recaptcha/enterprise.js?render="+Fn).then(()=>{ft(Fn,zt,Pn)}).catch(xr=>{Pn(xr)})}}).catch(Fn=>{Pn(Fn)})})})()}}function fs(k,E,C){return Go.apply(this,arguments)}function Go(){return(Go=(0,d.Z)(function*(k,E,C,U=!1){const de=new Io(k);let Ie;try{Ie=yield de.verify(C)}catch{Ie=yield de.verify(C,!0)}const ft=Object.assign({},E);return Object.assign(ft,U?{captchaResp:Ie}:{captchaResponse:Ie}),Object.assign(ft,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ft,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ft})).apply(this,arguments)}class Mo{constructor(E){this.auth=E,this.queue=[]}pushCallback(E,C){const U=Ie=>new Promise((ft,zt)=>{try{ft(E(Ie))}catch(Pn){zt(Pn)}});U.onAbort=C,this.queue.push(U);const de=this.queue.length-1;return()=>{this.queue[de]=()=>Promise.resolve()}}runMiddleware(E){var C=this;return(0,d.Z)(function*(){if(C.auth.currentUser===E)return;const U=[];try{for(const de of C.queue)yield de(E),de.onAbort&&U.push(de.onAbort)}catch(de){U.reverse();for(const Ie of U)try{Ie()}catch{}throw C.auth._errorFactory.create("login-blocked",{originalMessage:de?.message})}})()}}class Br{constructor(E,C,U,de){this.app=E,this.heartbeatServiceProvider=C,this.appCheckServiceProvider=U,this.config=de,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jr(this),this.idTokenSubscription=new jr(this),this.beforeStateQueue=new Mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=E.name,this.clientVersion=de.sdkClientVersion}_initializeWithPersistence(E,C){var U=this;return C&&(this._popupRedirectResolver=wt(C)),this._initializationPromise=this.queue((0,d.Z)(function*(){var de,Ie;if(!U._deleted&&(U.persistenceManager=yield Ve.create(U,E),!U._deleted)){if(null!==(de=U._popupRedirectResolver)&&void 0!==de&&de._shouldInitProactively)try{yield U._popupRedirectResolver._initialize(U)}catch{}yield U.initializeCurrentUser(C),U.lastNotifiedUid=(null===(Ie=U.currentUser)||void 0===Ie?void 0:Ie.uid)||null,!U._deleted&&(U._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var E=this;return(0,d.Z)(function*(){if(E._deleted)return;const C=yield E.assertedPersistence.getCurrentUser();if(E.currentUser||C){if(E.currentUser&&C&&E.currentUser.uid===C.uid)return E._currentUser._assign(C),void(yield E.currentUser.getIdToken());yield E._updateCurrentUser(C,!0)}})()}initializeCurrentUser(E){var C=this;return(0,d.Z)(function*(){var U;const de=yield C.assertedPersistence.getCurrentUser();let Ie=de,ft=!1;if(E&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const zt=null===(U=C.redirectUser)||void 0===U?void 0:U._redirectEventId,Pn=Ie?._redirectEventId,Fn=yield C.tryRedirectSignIn(E);(!zt||zt===Pn)&&Fn?.user&&(Ie=Fn.user,ft=!0)}if(!Ie)return C.directlySetCurrentUser(null);if(!Ie._redirectEventId){if(ft)try{yield C.beforeStateQueue.runMiddleware(Ie)}catch(zt){Ie=de,C._popupRedirectResolver._overrideRedirectResult(C,()=>Promise.reject(zt))}return Ie?C.reloadAndSetCurrentUserOrClear(Ie):C.directlySetCurrentUser(null)}return Oe(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===Ie._redirectEventId?C.directlySetCurrentUser(Ie):C.reloadAndSetCurrentUserOrClear(Ie)})()}tryRedirectSignIn(E){var C=this;return(0,d.Z)(function*(){let U=null;try{U=yield C._popupRedirectResolver._completeRedirectFn(C,E,!0)}catch{yield C._setRedirectUser(null)}return U})()}reloadAndSetCurrentUserOrClear(E){var C=this;return(0,d.Z)(function*(){try{yield qr(E)}catch(U){if("auth/network-request-failed"!==U?.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(E)})()}useDeviceLanguage(){this.languageCode=function yr(){if(typeof navigator>"u")return null;const k=navigator;return k.languages&&k.languages[0]||k.language||null}()}_delete(){var E=this;return(0,d.Z)(function*(){E._deleted=!0})()}updateCurrentUser(E){var C=this;return(0,d.Z)(function*(){const U=E?(0,ge.m9)(E):null;return U&&Oe(U.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(U&&U._clone(C))})()}_updateCurrentUser(E,C=!1){var U=this;return(0,d.Z)(function*(){if(!U._deleted)return E&&Oe(U.tenantId===E.tenantId,U,"tenant-id-mismatch"),C||(yield U.beforeStateQueue.runMiddleware(E)),U.queue((0,d.Z)(function*(){yield U.directlySetCurrentUser(E),U.notifyAuthListeners()}))})()}signOut(){var E=this;return(0,d.Z)(function*(){return yield E.beforeStateQueue.runMiddleware(null),(E.redirectPersistenceManager||E._popupRedirectResolver)&&(yield E._setRedirectUser(null)),E._updateCurrentUser(null,!0)})()}setPersistence(E){var C=this;return this.queue((0,d.Z)(function*(){yield C.assertedPersistence.setPersistence(wt(E))}))}initializeRecaptchaConfig(){var E=this;return(0,d.Z)(function*(){const C=yield wi(E,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),U=new Js(C);null==E.tenantId?E._agentRecaptchaConfig=U:E._tenantRecaptchaConfigs[E.tenantId]=U,U.emailPasswordEnabled&&new Io(E).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(E){this._errorFactory=new ge.LL("auth","Firebase",E())}onAuthStateChanged(E,C,U){return this.registerStateListener(this.authStateSubscription,E,C,U)}beforeAuthStateChanged(E,C){return this.beforeStateQueue.pushCallback(E,C)}onIdTokenChanged(E,C,U){return this.registerStateListener(this.idTokenSubscription,E,C,U)}toJSON(){var E;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(E=this._currentUser)||void 0===E?void 0:E.toJSON()}}_setRedirectUser(E,C){var U=this;return(0,d.Z)(function*(){const de=yield U.getOrInitRedirectPersistenceManager(C);return null===E?de.removeCurrentUser():de.setCurrentUser(E)})()}getOrInitRedirectPersistenceManager(E){var C=this;return(0,d.Z)(function*(){if(!C.redirectPersistenceManager){const U=E&&wt(E)||C._popupRedirectResolver;Oe(U,C,"argument-error"),C.redirectPersistenceManager=yield Ve.create(C,[wt(U._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(E){var C=this;return(0,d.Z)(function*(){var U,de;return C._isInitialized&&(yield C.queue((0,d.Z)(function*(){}))),(null===(U=C._currentUser)||void 0===U?void 0:U._redirectEventId)===E?C._currentUser:(null===(de=C.redirectUser)||void 0===de?void 0:de._redirectEventId)===E?C.redirectUser:null})()}_persistUserIfCurrent(E){var C=this;return(0,d.Z)(function*(){if(E===C.currentUser)return C.queue((0,d.Z)(function*(){return C.directlySetCurrentUser(E)}))})()}_notifyListenersIfCurrent(E){E===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var E,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const U=null!==(C=null===(E=this.currentUser)||void 0===E?void 0:E.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==U&&(this.lastNotifiedUid=U,this.authStateSubscription.next(this.currentUser))}registerStateListener(E,C,U,de){if(this._deleted)return()=>{};const Ie="function"==typeof C?C:C.next.bind(C),ft=this._isInitialized?Promise.resolve():this._initializationPromise;return Oe(ft,this,"internal-error"),ft.then(()=>Ie(this.currentUser)),"function"==typeof C?E.addObserver(C,U,de):E.addObserver(C)}directlySetCurrentUser(E){var C=this;return(0,d.Z)(function*(){C.currentUser&&C.currentUser!==E&&C._currentUser._stopProactiveRefresh(),E&&C.isProactiveRefreshEnabled&&E._startProactiveRefresh(),C.currentUser=E,E?yield C.assertedPersistence.setCurrentUser(E):yield C.assertedPersistence.removeCurrentUser()})()}queue(E){return this.operations=this.operations.then(E,E),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(E){!E||this.frameworks.includes(E)||(this.frameworks.push(E),this.frameworks.sort(),this.clientVersion=$s(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var E=this;return(0,d.Z)(function*(){var C;const U={"X-Client-Version":E.clientVersion};E.app.options.appId&&(U["X-Firebase-gmpid"]=E.app.options.appId);const de=yield null===(C=E.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();de&&(U["X-Firebase-Client"]=de);const Ie=yield E._getAppCheckToken();return Ie&&(U["X-Firebase-AppCheck"]=Ie),U})()}_getAppCheckToken(){var E=this;return(0,d.Z)(function*(){var C;const U=yield null===(C=E.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getToken();return U?.error&&function Nn(k,...E){qt.logLevel<=Ne.in.WARN&&qt.warn(`Auth (${we.SDK_VERSION}): ${k}`,...E)}(`Error while retrieving App Check token: ${U.error}`),U?.token})()}}function Un(k){return(0,ge.m9)(k)}class jr{constructor(E){this.auth=E,this.observer=null,this.addObserver=(0,ge.ne)(C=>this.observer=C)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sl(k,E,C){const U=Un(k);Oe(U._canInitEmulator,U,"emulator-config-failed"),Oe(/^https?:\/\//.test(E),U,"invalid-emulator-scheme");const de=!!C?.disableWarnings,Ie=tt(E),{host:ft,port:zt}=function qe(k){const E=tt(k),C=/(\/\/)?([^?#/]+)/.exec(k.substr(E.length));if(!C)return{host:"",port:null};const U=C[2].split("@").pop()||"",de=/^(\[[^\]]+\])(:|$)/.exec(U);if(de){const Ie=de[1];return{host:Ie,port:vt(U.substr(Ie.length+1))}}{const[Ie,ft]=U.split(":");return{host:Ie,port:vt(ft)}}}(E);U.config.emulator={url:`${Ie}//${ft}${null===zt?"":`:${zt}`}/`},U.settings.appVerificationDisabledForTesting=!0,U.emulatorConfig=Object.freeze({host:ft,port:zt,protocol:Ie.replace(":",""),options:Object.freeze({disableWarnings:de})}),de||function Ft(){function k(){const E=document.createElement("p"),C=E.style;E.innerText="Running in emulator mode. Do not use with production credentials.",C.position="fixed",C.width="100%",C.backgroundColor="#ffffff",C.border=".1em solid #000000",C.color="#b50000",C.bottom="0px",C.left="0px",C.margin="0px",C.zIndex="10000",C.textAlign="center",E.classList.add("firebase-emulator-warning"),document.body.appendChild(E)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",k):k())}()}function tt(k){const E=k.indexOf(":");return E<0?"":k.substr(0,E+1)}function vt(k){if(!k)return null;const E=Number(k);return isNaN(E)?null:E}class Ut{constructor(E,C){this.providerId=E,this.signInMethod=C}toJSON(){return Ht("not implemented")}_getIdTokenResponse(E){return Ht("not implemented")}_linkToIdToken(E,C){return Ht("not implemented")}_getReauthenticationResolver(E){return Ht("not implemented")}}function Hn(k,E){return si.apply(this,arguments)}function si(){return(si=(0,d.Z)(function*(k,E){return Ct(k,"POST","/v1/accounts:resetPassword",ot(k,E))})).apply(this,arguments)}function Zr(k,E){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(k,E){return Ct(k,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function Gs(){return(Gs=(0,d.Z)(function*(k,E){return Ct(k,"POST","/v1/accounts:update",ot(k,E))})).apply(this,arguments)}function lo(k,E){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,d.Z)(function*(k,E){return Hr(k,"POST","/v1/accounts:signInWithPassword",ot(k,E))})).apply(this,arguments)}function co(k,E){return ka.apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(k,E){return Ct(k,"POST","/v1/accounts:sendOobCode",ot(k,E))})).apply(this,arguments)}function Fa(){return(Fa=(0,d.Z)(function*(k,E){return co(k,E)})).apply(this,arguments)}function na(k,E){return Po.apply(this,arguments)}function Po(){return(Po=(0,d.Z)(function*(k,E){return co(k,E)})).apply(this,arguments)}function Ra(k,E){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,d.Z)(function*(k,E){return co(k,E)})).apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(k,E){return co(k,E)})).apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(k,E){return Hr(k,"POST","/v1/accounts:signInWithEmailLink",ot(k,E))})).apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(k,E){return Hr(k,"POST","/v1/accounts:signInWithEmailLink",ot(k,E))})).apply(this,arguments)}class Bi extends Ut{constructor(E,C,U,de=null){super("password",U),this._email=E,this._password=C,this._tenantId=de}static _fromEmailAndPassword(E,C){return new Bi(E,C,"password")}static _fromEmailAndCode(E,C,U=null){return new Bi(E,C,"emailLink",U)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(E){const C="string"==typeof E?JSON.parse(E):E;if(C?.email&&C?.password){if("password"===C.signInMethod)return this._fromEmailAndPassword(C.email,C.password);if("emailLink"===C.signInMethod)return this._fromEmailAndCode(C.email,C.password,C.tenantId)}return null}_getIdTokenResponse(E){var C=this;return(0,d.Z)(function*(){var U;switch(C.signInMethod){case"password":const de={returnSecureToken:!0,email:C._email,password:C._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(U=E._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const Ie=yield fs(E,de,"signInWithPassword");return lo(E,Ie)}return lo(E,de).catch(function(){var Ie=(0,d.Z)(function*(ft){if("auth/missing-recaptcha-token"===ft.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const zt=yield fs(E,de,"signInWithPassword");return lo(E,zt)}return Promise.reject(ft)});return function(ft){return Ie.apply(this,arguments)}}());case"emailLink":return function Pr(k,E){return ls.apply(this,arguments)}(E,{email:C._email,oobCode:C._password});default:st(E,"internal-error")}})()}_linkToIdToken(E,C){var U=this;return(0,d.Z)(function*(){switch(U.signInMethod){case"password":return Zr(E,{idToken:C,returnSecureToken:!0,email:U._email,password:U._password});case"emailLink":return function ra(k,E){return ha.apply(this,arguments)}(E,{idToken:C,email:U._email,oobCode:U._password});default:st(E,"internal-error")}})()}_getReauthenticationResolver(E){return this._getIdTokenResponse(E)}}function bi(k,E){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(k,E){return Hr(k,"POST","/v1/accounts:signInWithIdp",ot(k,E))})).apply(this,arguments)}class pn extends Ut{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(E){const C=new pn(E.providerId,E.signInMethod);return E.idToken||E.accessToken?(E.idToken&&(C.idToken=E.idToken),E.accessToken&&(C.accessToken=E.accessToken),E.nonce&&!E.pendingToken&&(C.nonce=E.nonce),E.pendingToken&&(C.pendingToken=E.pendingToken)):E.oauthToken&&E.oauthTokenSecret?(C.accessToken=E.oauthToken,C.secret=E.oauthTokenSecret):st("argument-error"),C}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(E){const C="string"==typeof E?JSON.parse(E):E,{providerId:U,signInMethod:de}=C,Ie=(0,ne._T)(C,["providerId","signInMethod"]);if(!U||!de)return null;const ft=new pn(U,de);return ft.idToken=Ie.idToken||void 0,ft.accessToken=Ie.accessToken||void 0,ft.secret=Ie.secret,ft.nonce=Ie.nonce,ft.pendingToken=Ie.pendingToken||null,ft}_getIdTokenResponse(E){return bi(E,this.buildRequest())}_linkToIdToken(E,C){const U=this.buildRequest();return U.idToken=C,bi(E,U)}_getReauthenticationResolver(E){const C=this.buildRequest();return C.autoCreate=!1,bi(E,C)}buildRequest(){const E={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)E.pendingToken=this.pendingToken;else{const C={};this.idToken&&(C.id_token=this.idToken),this.accessToken&&(C.access_token=this.accessToken),this.secret&&(C.oauth_token_secret=this.secret),C.providerId=this.providerId,this.nonce&&!this.pendingToken&&(C.nonce=this.nonce),E.postBody=(0,ge.xO)(C)}return E}}function mi(){return(mi=(0,d.Z)(function*(k,E){return Ct(k,"POST","/v1/accounts:sendVerificationCode",ot(k,E))})).apply(this,arguments)}function ia(){return(ia=(0,d.Z)(function*(k,E){return Hr(k,"POST","/v1/accounts:signInWithPhoneNumber",ot(k,E))})).apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(k,E){const C=yield Hr(k,"POST","/v1/accounts:signInWithPhoneNumber",ot(k,E));if(C.temporaryProof)throw Mr(k,"account-exists-with-different-credential",C);return C})).apply(this,arguments)}const qi={USER_NOT_FOUND:"user-not-found"};function Ho(){return(Ho=(0,d.Z)(function*(k,E){return Hr(k,"POST","/v1/accounts:signInWithPhoneNumber",ot(k,Object.assign(Object.assign({},E),{operation:"REAUTH"})),qi)})).apply(this,arguments)}class vr extends Ut{constructor(E){super("phone","phone"),this.params=E}static _fromVerification(E,C){return new vr({verificationId:E,verificationCode:C})}static _fromTokenResponse(E,C){return new vr({phoneNumber:E,temporaryProof:C})}_getIdTokenResponse(E){return function Tr(k,E){return ia.apply(this,arguments)}(E,this._makeVerificationRequest())}_linkToIdToken(E,C){return function Di(k,E){return ho.apply(this,arguments)}(E,Object.assign({idToken:C},this._makeVerificationRequest()))}_getReauthenticationResolver(E){return function Os(k,E){return Ho.apply(this,arguments)}(E,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:E,phoneNumber:C,verificationId:U,verificationCode:de}=this.params;return E&&C?{temporaryProof:E,phoneNumber:C}:{sessionInfo:U,code:de}}toJSON(){const E={providerId:this.providerId};return this.params.phoneNumber&&(E.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(E.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(E.verificationCode=this.params.verificationCode),this.params.verificationId&&(E.verificationId=this.params.verificationId),E}static fromJSON(E){"string"==typeof E&&(E=JSON.parse(E));const{verificationId:C,verificationCode:U,phoneNumber:de,temporaryProof:Ie}=E;return U||C||de||Ie?new vr({verificationId:C,verificationCode:U,phoneNumber:de,temporaryProof:Ie}):null}}class fo{constructor(E){var C,U,de,Ie,ft,zt;const Pn=(0,ge.zd)((0,ge.pd)(E)),Fn=null!==(C=Pn.apiKey)&&void 0!==C?C:null,xr=null!==(U=Pn.oobCode)&&void 0!==U?U:null,Ri=function No(k){switch(k){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(de=Pn.mode)&&void 0!==de?de:null);Oe(Fn&&xr&&Ri,"argument-error"),this.apiKey=Fn,this.operation=Ri,this.code=xr,this.continueUrl=null!==(Ie=Pn.continueUrl)&&void 0!==Ie?Ie:null,this.languageCode=null!==(ft=Pn.languageCode)&&void 0!==ft?ft:null,this.tenantId=null!==(zt=Pn.tenantId)&&void 0!==zt?zt:null}static parseLink(E){const C=function Ja(k){const E=(0,ge.zd)((0,ge.pd)(k)).link,C=E?(0,ge.zd)((0,ge.pd)(E)).deep_link_id:null,U=(0,ge.zd)((0,ge.pd)(k)).deep_link_id;return(U?(0,ge.zd)((0,ge.pd)(U)).link:null)||U||C||E||k}(E);try{return new fo(C)}catch{return null}}}let ma=(()=>{class k{constructor(){this.providerId=k.PROVIDER_ID}static credential(C,U){return Bi._fromEmailAndPassword(C,U)}static credentialWithLink(C,U){const de=fo.parseLink(U);return Oe(de,"argument-error"),Bi._fromEmailAndCode(C,de.code,de.tenantId)}}return k.PROVIDER_ID="password",k.EMAIL_PASSWORD_SIGN_IN_METHOD="password",k.EMAIL_LINK_SIGN_IN_METHOD="emailLink",k})();class Ls{constructor(E){this.providerId=E,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(E){this.defaultLanguageCode=E}setCustomParameters(E){return this.customParameters=E,this}getCustomParameters(){return this.customParameters}}class Es extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(E){return this.scopes.includes(E)||this.scopes.push(E),this}getScopes(){return[...this.scopes]}}class Ss extends Es{static credentialFromJSON(E){const C="string"==typeof E?JSON.parse(E):E;return Oe("providerId"in C&&"signInMethod"in C,"argument-error"),pn._fromParams(C)}credential(E){return this._credential(Object.assign(Object.assign({},E),{nonce:E.rawNonce}))}_credential(E){return Oe(E.idToken||E.accessToken,"argument-error"),pn._fromParams(Object.assign(Object.assign({},E),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(E){return Ss.oauthCredentialFromTaggedObject(E)}static credentialFromError(E){return Ss.oauthCredentialFromTaggedObject(E.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:C,oauthAccessToken:U,oauthTokenSecret:de,pendingToken:Ie,nonce:ft,providerId:zt}=E;if(!U&&!de&&!C&&!Ie||!zt)return null;try{return new Ss(zt)._credential({idToken:C,accessToken:U,nonce:ft,pendingToken:Ie})}catch{return null}}}let _a=(()=>{class k extends Es{constructor(){super("facebook.com")}static credential(C){return pn._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.FACEBOOK_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return k.credentialFromTaggedObject(C)}static credentialFromError(C){return k.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return k.credential(C.oauthAccessToken)}catch{return null}}}return k.FACEBOOK_SIGN_IN_METHOD="facebook.com",k.PROVIDER_ID="facebook.com",k})(),eo=(()=>{class k extends Es{constructor(){super("google.com"),this.addScope("profile")}static credential(C,U){return pn._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GOOGLE_SIGN_IN_METHOD,idToken:C,accessToken:U})}static credentialFromResult(C){return k.credentialFromTaggedObject(C)}static credentialFromError(C){return k.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthIdToken:U,oauthAccessToken:de}=C;if(!U&&!de)return null;try{return k.credential(U,de)}catch{return null}}}return k.GOOGLE_SIGN_IN_METHOD="google.com",k.PROVIDER_ID="google.com",k})(),Vs=(()=>{class k extends Es{constructor(){super("github.com")}static credential(C){return pn._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GITHUB_SIGN_IN_METHOD,accessToken:C})}static credentialFromResult(C){return k.credentialFromTaggedObject(C)}static credentialFromError(C){return k.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C||!("oauthAccessToken"in C)||!C.oauthAccessToken)return null;try{return k.credential(C.oauthAccessToken)}catch{return null}}}return k.GITHUB_SIGN_IN_METHOD="github.com",k.PROVIDER_ID="github.com",k})();class po extends Ut{constructor(E,C){super(E,E),this.pendingToken=C}_getIdTokenResponse(E){return bi(E,this.buildRequest())}_linkToIdToken(E,C){const U=this.buildRequest();return U.idToken=C,bi(E,U)}_getReauthenticationResolver(E){const C=this.buildRequest();return C.autoCreate=!1,bi(E,C)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(E){const C="string"==typeof E?JSON.parse(E):E,{providerId:U,signInMethod:de,pendingToken:Ie}=C;return U&&de&&Ie&&U===de?new po(U,Ie):null}static _create(E,C){return new po(E,C)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _l extends Ls{constructor(E){Oe(E.startsWith("saml."),"argument-error"),super(E)}static credentialFromResult(E){return _l.samlCredentialFromTaggedObject(E)}static credentialFromError(E){return _l.samlCredentialFromTaggedObject(E.customData||{})}static credentialFromJSON(E){const C=po.fromJSON(E);return Oe(C,"argument-error"),C}static samlCredentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{pendingToken:C,providerId:U}=E;if(!C||!U)return null;try{return po._create(U,C)}catch{return null}}}let Ui=(()=>{class k extends Es{constructor(){super("twitter.com")}static credential(C,U){return pn._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.TWITTER_SIGN_IN_METHOD,oauthToken:C,oauthTokenSecret:U})}static credentialFromResult(C){return k.credentialFromTaggedObject(C)}static credentialFromError(C){return k.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{oauthAccessToken:U,oauthTokenSecret:de}=C;if(!U||!de)return null;try{return k.credential(U,de)}catch{return null}}}return k.TWITTER_SIGN_IN_METHOD="twitter.com",k.PROVIDER_ID="twitter.com",k})();function La(k,E){return to.apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(k,E){return Hr(k,"POST","/v1/accounts:signUp",ot(k,E))})).apply(this,arguments)}class Ds{constructor(E){this.user=E.user,this.providerId=E.providerId,this._tokenResponse=E._tokenResponse,this.operationType=E.operationType}static _fromIdTokenResponse(E,C,U,de=!1){return(0,d.Z)(function*(){const Ie=yield $e._fromIdTokenResponse(E,U,de),ft=ya(U);return new Ds({user:Ie,providerId:ft,_tokenResponse:U,operationType:C})})()}static _forOperation(E,C,U){return(0,d.Z)(function*(){yield E._updateTokensIfNecessary(U,!0);const de=ya(U);return new Ds({user:E,providerId:de,_tokenResponse:U,operationType:C})})()}}function ya(k){return k.providerId?k.providerId:"phoneNumber"in k?"phone":null}function go(k){return os.apply(this,arguments)}function os(){return(os=(0,d.Z)(function*(k){var E;const C=Un(k);if(yield C._initializationPromise,null!==(E=C.currentUser)&&void 0!==E&&E.isAnonymous)return new Ds({user:C.currentUser,providerId:null,operationType:"signIn"});const U=yield La(C,{returnSecureToken:!0}),de=yield Ds._fromIdTokenResponse(C,"signIn",U,!0);return yield C._updateCurrentUser(de.user),de})).apply(this,arguments)}class va extends ge.ZR{constructor(E,C,U,de){var Ie;super(C.code,C.message),this.operationType=U,this.user=de,Object.setPrototypeOf(this,va.prototype),this.customData={appName:E.name,tenantId:null!==(Ie=E.tenantId)&&void 0!==Ie?Ie:void 0,_serverResponse:C.customData._serverResponse,operationType:U}}static _fromErrorAndOperation(E,C,U,de){return new va(E,C,U,de)}}function as(k,E,C,U){return("reauthenticate"===E?C._getReauthenticationResolver(k):C._getIdTokenResponse(k)).catch(Ie=>{throw"auth/multi-factor-auth-required"===Ie.code?va._fromErrorAndOperation(k,Ie,E,U):Ie})}function Ii(k){return new Set(k.map(({providerId:E})=>E).filter(E=>!!E))}function zo(k,E){return no.apply(this,arguments)}function no(){return no=(0,d.Z)(function*(k,E){const C=(0,ge.m9)(k);yield Ea(!0,C,E);const{providerUserInfo:U}=yield function Ue(k,E){return Ze.apply(this,arguments)}(C.auth,{idToken:yield C.getIdToken(),deleteProvider:[E]}),de=Ii(U||[]);return C.providerData=C.providerData.filter(Ie=>de.has(Ie.providerId)),de.has("phone")||(C.phoneNumber=null),yield C.auth._persistUserIfCurrent(C),C}),no.apply(this,arguments)}function Ci(k,E){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(k,E,C=!1){const U=yield cr(k,E._linkToIdToken(k.auth,yield k.getIdToken()),C);return Ds._forOperation(k,"link",U)})).apply(this,arguments)}function Ea(k,E,C){return ji.apply(this,arguments)}function ji(){return(ji=(0,d.Z)(function*(k,E,C){yield qr(E);const de=!1===k?"provider-already-linked":"no-such-provider";Oe(Ii(E.providerData).has(C)===k,E.auth,de)})).apply(this,arguments)}function xa(k,E){return sc.apply(this,arguments)}function sc(){return(sc=(0,d.Z)(function*(k,E,C=!1){const{auth:U}=k,de="reauthenticate";try{const Ie=yield cr(k,as(U,de,E,k),C);Oe(Ie.idToken,U,"internal-error");const ft=bn(Ie.idToken);Oe(ft,U,"internal-error");const{sub:zt}=ft;return Oe(k.uid===zt,U,"user-mismatch"),Ds._forOperation(k,de,Ie)}catch(Ie){throw"auth/user-not-found"===Ie?.code&&st(U,"user-mismatch"),Ie}})).apply(this,arguments)}function Xa(k,E){return Va.apply(this,arguments)}function Va(){return(Va=(0,d.Z)(function*(k,E,C=!1){const U="signIn",de=yield as(k,U,E),Ie=yield Ds._fromIdTokenResponse(k,U,de);return C||(yield k._updateCurrentUser(Ie.user)),Ie})).apply(this,arguments)}function fa(k,E){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(k,E){return Xa(Un(k),E)})).apply(this,arguments)}function kl(k,E){return pa.apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(k,E){const C=(0,ge.m9)(k);return yield Ea(!1,C,E.providerId),Ci(C,E)})).apply(this,arguments)}function $i(k,E){return To.apply(this,arguments)}function To(){return(To=(0,d.Z)(function*(k,E){return xa((0,ge.m9)(k),E)})).apply(this,arguments)}function te(){return(te=(0,d.Z)(function*(k,E){return Hr(k,"POST","/v1/accounts:signInWithCustomToken",ot(k,E))})).apply(this,arguments)}function Z(k,E){return be.apply(this,arguments)}function be(){return be=(0,d.Z)(function*(k,E){const C=Un(k),U=yield function mo(k,E){return te.apply(this,arguments)}(C,{token:E,returnSecureToken:!0}),de=yield Ds._fromIdTokenResponse(C,"signIn",U);return yield C._updateCurrentUser(de.user),de}),be.apply(this,arguments)}class ee{constructor(E,C){this.factorId=E,this.uid=C.mfaEnrollmentId,this.enrollmentTime=new Date(C.enrolledAt).toUTCString(),this.displayName=C.displayName}static _fromServerResponse(E,C){return"phoneInfo"in C?Me._fromServerResponse(E,C):"totpInfo"in C?un._fromServerResponse(E,C):st(E,"internal-error")}}class Me extends ee{constructor(E){super("phone",E),this.phoneNumber=E.phoneInfo}static _fromServerResponse(E,C){return new Me(C)}}class un extends ee{constructor(E){super("totp",E)}static _fromServerResponse(E,C){return new un(C)}}function ar(k,E,C){var U;Oe((null===(U=C.url)||void 0===U?void 0:U.length)>0,k,"invalid-continue-uri"),Oe(typeof C.dynamicLinkDomain>"u"||C.dynamicLinkDomain.length>0,k,"invalid-dynamic-link-domain"),E.continueUrl=C.url,E.dynamicLinkDomain=C.dynamicLinkDomain,E.canHandleCodeInApp=C.handleCodeInApp,C.iOS&&(Oe(C.iOS.bundleId.length>0,k,"missing-ios-bundle-id"),E.iOSBundleId=C.iOS.bundleId),C.android&&(Oe(C.android.packageName.length>0,k,"missing-android-pkg-name"),E.androidInstallApp=C.android.installApp,E.androidMinimumVersionCode=C.android.minimumVersion,E.androidPackageName=C.android.packageName)}function Cs(k,E,C){return Ni.apply(this,arguments)}function Ni(){return Ni=(0,d.Z)(function*(k,E,C){var U;const de=Un(k),Ie={requestType:"PASSWORD_RESET",email:E,clientType:"CLIENT_TYPE_WEB"};if(null!==(U=de._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const ft=yield fs(de,Ie,"getOobCode",!0);C&&ar(de,ft,C),yield na(de,ft)}else C&&ar(de,Ie,C),yield na(de,Ie).catch(function(){var ft=(0,d.Z)(function*(zt){if("auth/missing-recaptcha-token"!==zt.code)return Promise.reject(zt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pn=yield fs(de,Ie,"getOobCode",!0);C&&ar(de,Pn,C),yield na(de,Pn)}});return function(zt){return ft.apply(this,arguments)}}())}),Ni.apply(this,arguments)}function ko(k,E,C){return Us.apply(this,arguments)}function Us(){return(Us=(0,d.Z)(function*(k,E,C){yield Hn((0,ge.m9)(k),{oobCode:E,newPassword:C})})).apply(this,arguments)}function Hs(k,E){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,d.Z)(function*(k,E){yield function Za(k,E){return Gs.apply(this,arguments)}((0,ge.m9)(k),{oobCode:E})}),Ba.apply(this,arguments)}function ro(k,E){return ts.apply(this,arguments)}function ts(){return(ts=(0,d.Z)(function*(k,E){const C=(0,ge.m9)(k),U=yield Hn(C,{oobCode:E}),de=U.requestType;switch(Oe(de,C,"internal-error"),de){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Oe(U.newEmail,C,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Oe(U.mfaInfo,C,"internal-error");default:Oe(U.email,C,"internal-error")}let Ie=null;return U.mfaInfo&&(Ie=ee._fromServerResponse(Un(C),U.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===U.requestType?U.newEmail:U.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===U.requestType?U.email:U.newEmail)||null,multiFactorInfo:Ie},operation:de}})).apply(this,arguments)}function sa(k,E){return cs.apply(this,arguments)}function cs(){return(cs=(0,d.Z)(function*(k,E){const{data:C}=yield ro((0,ge.m9)(k),E);return C.email})).apply(this,arguments)}function ga(k,E,C){return ol.apply(this,arguments)}function ol(){return ol=(0,d.Z)(function*(k,E,C){var U;const de=Un(k),Ie={returnSecureToken:!0,email:E,password:C,clientType:"CLIENT_TYPE_WEB"};let ft;if(null!==(U=de._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const Fn=yield fs(de,Ie,"signUpPassword");ft=La(de,Fn)}else ft=La(de,Ie).catch(function(){var Fn=(0,d.Z)(function*(xr){if("auth/missing-recaptcha-token"===xr.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ri=yield fs(de,Ie,"signUpPassword");return La(de,Ri)}return Promise.reject(xr)});return function(xr){return Fn.apply(this,arguments)}}());const zt=yield ft.catch(Fn=>Promise.reject(Fn)),Pn=yield Ds._fromIdTokenResponse(de,"signIn",zt);return yield de._updateCurrentUser(Pn.user),Pn}),ol.apply(this,arguments)}function Ua(k,E,C){return fa((0,ge.m9)(k),ma.credential(E,C))}function wa(k,E,C){return ja.apply(this,arguments)}function ja(){return ja=(0,d.Z)(function*(k,E,C){var U;const de=Un(k),Ie={requestType:"EMAIL_SIGNIN",email:E,clientType:"CLIENT_TYPE_WEB"};function ft(zt,Pn){Oe(Pn.handleCodeInApp,de,"argument-error"),Pn&&ar(de,zt,Pn)}if(null!==(U=de._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const zt=yield fs(de,Ie,"getOobCode",!0);ft(zt,C),yield Ra(de,zt)}else ft(Ie,C),yield Ra(de,Ie).catch(function(){var zt=(0,d.Z)(function*(Pn){if("auth/missing-recaptcha-token"!==Pn.code)return Promise.reject(Pn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Fn=yield fs(de,Ie,"getOobCode",!0);ft(Fn,C),yield Ra(de,Fn)}});return function(Pn){return zt.apply(this,arguments)}}())}),ja.apply(this,arguments)}function Oa(k,E){const C=fo.parseLink(E);return"EMAIL_SIGNIN"===C?.operation}function al(k,E,C){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,d.Z)(function*(k,E,C){const U=(0,ge.m9)(k),de=ma.credentialWithLink(E,C||Wn());return Oe(de._tenantId===(U.tenantId||null),U,"tenant-id-mismatch"),fa(U,de)})).apply(this,arguments)}function As(){return(As=(0,d.Z)(function*(k,E){return Ct(k,"POST","/v1/accounts:createAuthUri",ot(k,E))})).apply(this,arguments)}function Il(k,E){return el.apply(this,arguments)}function el(){return el=(0,d.Z)(function*(k,E){const U={identifier:E,continueUri:jn()?Wn():"http://localhost"},{signinMethods:de}=yield function bl(k,E){return As.apply(this,arguments)}((0,ge.m9)(k),U);return de||[]}),el.apply(this,arguments)}function di(k,E){return zs.apply(this,arguments)}function zs(){return zs=(0,d.Z)(function*(k,E){const C=(0,ge.m9)(k),de={requestType:"VERIFY_EMAIL",idToken:yield k.getIdToken()};E&&ar(C.auth,de,E);const{email:Ie}=yield function uo(k,E){return Fa.apply(this,arguments)}(C.auth,de);Ie!==k.email&&(yield k.reload())}),zs.apply(this,arguments)}function qo(k,E,C){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,d.Z)(function*(k,E,C){const U=(0,ge.m9)(k),Ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield k.getIdToken(),newEmail:E};C&&ar(U.auth,Ie,C);const{email:ft}=yield function es(k,E){return gi.apply(this,arguments)}(U.auth,Ie);ft!==k.email&&(yield k.reload())}),Fl.apply(this,arguments)}function $a(){return($a=(0,d.Z)(function*(k,E){return Ct(k,"POST","/v1/accounts:update",E)})).apply(this,arguments)}function oa(k,E){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,d.Z)(function*(k,{displayName:E,photoURL:C}){if(void 0===E&&void 0===C)return;const U=(0,ge.m9)(k),Ie={idToken:yield U.getIdToken(),displayName:E,photoUrl:C,returnSecureToken:!0},ft=yield cr(U,function Mi(k,E){return $a.apply(this,arguments)}(U.auth,Ie));U.displayName=ft.displayName||null,U.photoURL=ft.photoUrl||null;const zt=U.providerData.find(({providerId:Pn})=>"password"===Pn);zt&&(zt.displayName=U.displayName,zt.photoURL=U.photoURL),yield U._updateTokensIfNecessary(ft)}),Ma.apply(this,arguments)}function aa(k,E){return Fo((0,ge.m9)(k),E,null)}function Yl(k,E){return Fo((0,ge.m9)(k),null,E)}function Fo(k,E,C){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,d.Z)(function*(k,E,C){const{auth:U}=k,Ie={idToken:yield k.getIdToken(),returnSecureToken:!0};E&&(Ie.email=E),C&&(Ie.password=C);const ft=yield cr(k,Zr(U,Ie));yield k._updateTokensIfNecessary(ft,!0)})).apply(this,arguments)}class Ko{constructor(E,C,U={}){this.isNewUser=E,this.providerId=C,this.profile=U}}class Pa extends Ko{constructor(E,C,U,de){super(E,C,U),this.username=de}}class io extends Ko{constructor(E,C){super(E,"facebook.com",C)}}class Ql extends Pa{constructor(E,C){super(E,"github.com",C,"string"==typeof C?.login?C?.login:null)}}class V extends Ko{constructor(E,C){super(E,"google.com",C)}}class X extends Pa{constructor(E,C,U){super(E,"twitter.com",C,U)}}function Pe(k){const{user:E,_tokenResponse:C}=k;return E.isAnonymous&&!C?{providerId:null,isNewUser:!1,profile:null}:function ll(k){var E,C;if(!k)return null;const{providerId:U}=k,de=k.rawUserInfo?JSON.parse(k.rawUserInfo):{},Ie=k.isNewUser||"identitytoolkit#SignupNewUserResponse"===k.kind;if(!U&&k?.idToken){const ft=null===(C=null===(E=bn(k.idToken))||void 0===E?void 0:E.firebase)||void 0===C?void 0:C.sign_in_provider;if(ft)return new Ko(Ie,"anonymous"!==ft&&"custom"!==ft?ft:null)}if(!U)return null;switch(U){case"facebook.com":return new io(Ie,de);case"github.com":return new Ql(Ie,de);case"google.com":return new V(Ie,de);case"twitter.com":return new X(Ie,de,k.screenName||null);case"custom":case"anonymous":return new Ko(Ie,null);default:return new Ko(Ie,U,de)}}(C)}class Ot{constructor(E,C,U){this.type=E,this.credential=C,this.auth=U}static _fromIdtoken(E,C){return new Ot("enroll",E,C)}static _fromMfaPendingCredential(E){return new Ot("signin",E)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(E){var C,U;if(E?.multiFactorSession){if(null!==(C=E.multiFactorSession)&&void 0!==C&&C.pendingCredential)return Ot._fromMfaPendingCredential(E.multiFactorSession.pendingCredential);if(null!==(U=E.multiFactorSession)&&void 0!==U&&U.idToken)return Ot._fromIdtoken(E.multiFactorSession.idToken)}return null}}class In{constructor(E,C,U){this.session=E,this.hints=C,this.signInResolver=U}static _fromError(E,C){const U=Un(E),de=C.customData._serverResponse,Ie=(de.mfaInfo||[]).map(zt=>ee._fromServerResponse(U,zt));Oe(de.mfaPendingCredential,U,"internal-error");const ft=Ot._fromMfaPendingCredential(de.mfaPendingCredential);return new In(ft,Ie,function(){var zt=(0,d.Z)(function*(Pn){const Fn=yield Pn._process(U,ft);delete de.mfaInfo,delete de.mfaPendingCredential;const xr=Object.assign(Object.assign({},de),{idToken:Fn.idToken,refreshToken:Fn.refreshToken});switch(C.operationType){case"signIn":const Ri=yield Ds._fromIdTokenResponse(U,C.operationType,xr);return yield U._updateCurrentUser(Ri.user),Ri;case"reauthenticate":return Oe(C.user,U,"internal-error"),Ds._forOperation(C.user,C.operationType,xr);default:st(U,"internal-error")}});return function(Pn){return zt.apply(this,arguments)}}())}resolveSignIn(E){var C=this;return(0,d.Z)(function*(){return C.signInResolver(E)})()}}function xn(k,E){var C;const U=(0,ge.m9)(k),de=E;return Oe(E.customData.operationType,U,"argument-error"),Oe(null===(C=de.customData._serverResponse)||void 0===C?void 0:C.mfaPendingCredential,U,"argument-error"),In._fromError(U,de)}class Ws{constructor(E){this.user=E,this.enrolledFactors=[],E._onReload(C=>{C.mfaInfo&&(this.enrolledFactors=C.mfaInfo.map(U=>ee._fromServerResponse(E.auth,U)))})}static _fromUser(E){return new Ws(E)}getSession(){var E=this;return(0,d.Z)(function*(){return Ot._fromIdtoken(yield E.user.getIdToken(),E.user.auth)})()}enroll(E,C){var U=this;return(0,d.Z)(function*(){const de=E,Ie=yield U.getSession(),ft=yield cr(U.user,de._process(U.user.auth,Ie,C));return yield U.user._updateTokensIfNecessary(ft),U.user.reload()})()}unenroll(E){var C=this;return(0,d.Z)(function*(){const U="string"==typeof E?E:E.uid,de=yield C.user.getIdToken();try{const Ie=yield cr(C.user,function ps(k,E){return Ct(k,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(k,E))}(C.user.auth,{idToken:de,mfaEnrollmentId:U}));C.enrolledFactors=C.enrolledFactors.filter(({uid:ft})=>ft!==U),yield C.user._updateTokensIfNecessary(Ie),yield C.user.reload()}catch(Ie){throw Ie}})()}}const Bt=new WeakMap;function ci(k){const E=(0,ge.m9)(k);return Bt.has(E)||Bt.set(E,Ws._fromUser(E)),Bt.get(E)}const ki="__sak";class ns{constructor(E,C){this.storageRetriever=E,this.type=C}_isAvailable(){try{return this.storage?(this.storage.setItem(ki,"1"),this.storage.removeItem(ki),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(E,C){return this.storage.setItem(E,JSON.stringify(C)),Promise.resolve()}_get(E){const C=this.storage.getItem(E);return Promise.resolve(C?JSON.parse(C):null)}_remove(E){return this.storage.removeItem(E),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pt=(()=>{class k extends ns{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(C,U)=>this.onStorageEvent(C,U),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zn(){const k=(0,ge.z$)();return Le(k)||Sn(k)}()&&function Ns(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ui(),this._shouldAllowMigration=!0}forAllChangedKeys(C){for(const U of Object.keys(this.listeners)){const de=this.storage.getItem(U),Ie=this.localCache[U];de!==Ie&&C(U,Ie,de)}}onStorageEvent(C,U=!1){if(!C.key)return void this.forAllChangedKeys((zt,Pn,Fn)=>{this.notifyListeners(zt,Fn)});const de=C.key;if(U?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const zt=this.storage.getItem(de);if(C.newValue!==zt)null!==C.newValue?this.storage.setItem(de,C.newValue):this.storage.removeItem(de);else if(this.localCache[de]===C.newValue&&!U)return}const Ie=()=>{const zt=this.storage.getItem(de);!U&&this.localCache[de]===zt||this.notifyListeners(de,zt)},ft=this.storage.getItem(de);!function Ei(){return(0,ge.w1)()&&10===document.documentMode}()||ft===C.newValue||C.newValue===C.oldValue?Ie():setTimeout(Ie,10)}notifyListeners(C,U){this.localCache[C]=U;const de=this.listeners[C];if(de)for(const Ie of Array.from(de))Ie(U&&JSON.parse(U))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((C,U,de)=>{this.onStorageEvent(new StorageEvent("storage",{key:C,oldValue:U,newValue:de}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(C,U){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[C]||(this.listeners[C]=new Set,this.localCache[C]=this.storage.getItem(C)),this.listeners[C].add(U)}_removeListener(C,U){this.listeners[C]&&(this.listeners[C].delete(U),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(C,U){var de=()=>super._set,Ie=this;return(0,d.Z)(function*(){yield de().call(Ie,C,U),Ie.localCache[C]=JSON.stringify(U)})()}_get(C){var U=()=>super._get,de=this;return(0,d.Z)(function*(){const Ie=yield U().call(de,C);return de.localCache[C]=JSON.stringify(Ie),Ie})()}_remove(C){var U=()=>super._remove,de=this;return(0,d.Z)(function*(){yield U().call(de,C),delete de.localCache[C]})()}}return k.type="LOCAL",k})(),So=(()=>{class k extends ns{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(C,U){}_removeListener(C,U){}}return k.type="SESSION",k})();let Ga=(()=>{class k{constructor(C){this.eventTarget=C,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(C){const U=this.receivers.find(Ie=>Ie.isListeningto(C));if(U)return U;const de=new k(C);return this.receivers.push(de),de}isListeningto(C){return this.eventTarget===C}handleEvent(C){var U=this;return(0,d.Z)(function*(){const de=C,{eventId:Ie,eventType:ft,data:zt}=de.data,Pn=U.handlersMap[ft];if(!Pn?.size)return;de.ports[0].postMessage({status:"ack",eventId:Ie,eventType:ft});const Fn=Array.from(Pn).map(function(){var Ri=(0,d.Z)(function*(Ta){return Ta(de.origin,zt)});return function(Ta){return Ri.apply(this,arguments)}}()),xr=yield function tl(k){return Promise.all(k.map(function(){var E=(0,d.Z)(function*(C){try{return{fulfilled:!0,value:yield C}}catch(U){return{fulfilled:!1,reason:U}}});return function(C){return E.apply(this,arguments)}}()))}(Fn);de.ports[0].postMessage({status:"done",eventId:Ie,eventType:ft,response:xr})})()}_subscribe(C,U){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[C]||(this.handlersMap[C]=new Set),this.handlersMap[C].add(U)}_unsubscribe(C,U){this.handlersMap[C]&&U&&this.handlersMap[C].delete(U),(!U||0===this.handlersMap[C].size)&&delete this.handlersMap[C],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return k.receivers=[],k})();function Gc(k="",E=10){let C="";for(let U=0;U<E;U++)C+=Math.floor(10*Math.random());return k+C}class md{constructor(E){this.target=E,this.handlers=new Set}removeMessageHandler(E){E.messageChannel&&(E.messageChannel.port1.removeEventListener("message",E.onMessage),E.messageChannel.port1.close()),this.handlers.delete(E)}_send(E,C,U=50){var de=this;return(0,d.Z)(function*(){const Ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ie)throw new Error("connection_unavailable");let ft,zt;return new Promise((Pn,Fn)=>{const xr=Gc("",20);Ie.port1.start();const Ri=setTimeout(()=>{Fn(new Error("unsupported_event"))},U);zt={messageChannel:Ie,onMessage(Ta){const fl=Ta;if(fl.data.eventId===xr)switch(fl.data.status){case"ack":clearTimeout(Ri),ft=setTimeout(()=>{Fn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ft),Pn(fl.data.response);break;default:clearTimeout(Ri),clearTimeout(ft),Fn(new Error("invalid_response"))}}},de.handlers.add(zt),Ie.port1.addEventListener("message",zt.onMessage),de.target.postMessage({eventType:E,eventId:xr,data:C},[Ie.port2])}).finally(()=>{zt&&de.removeMessageHandler(zt)})})()}}function Do(){return window}function Oc(){return typeof Do().WorkerGlobalScope<"u"&&"function"==typeof Do().importScripts}function oc(){return(oc=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gr="firebaseLocalStorageDb",Lo="firebaseLocalStorage",Ki="fbase_key";class mr{constructor(E){this.request=E}toPromise(){return new Promise((E,C)=>{this.request.addEventListener("success",()=>{E(this.request.result)}),this.request.addEventListener("error",()=>{C(this.request.error)})})}}function yl(k,E){return k.transaction([Lo],E?"readwrite":"readonly").objectStore(Lo)}function Iu(){const k=indexedDB.open(gr,1);return new Promise((E,C)=>{k.addEventListener("error",()=>{C(k.error)}),k.addEventListener("upgradeneeded",()=>{const U=k.result;try{U.createObjectStore(Lo,{keyPath:Ki})}catch(de){C(de)}}),k.addEventListener("success",(0,d.Z)(function*(){const U=k.result;U.objectStoreNames.contains(Lo)?E(U):(U.close(),yield function Yi(){const k=indexedDB.deleteDatabase(gr);return new mr(k).toPromise()}(),E(yield Iu()))}))})}function qs(k,E,C){return ht.apply(this,arguments)}function ht(){return(ht=(0,d.Z)(function*(k,E,C){const U=yl(k,!0).put({[Ki]:E,value:C});return new mr(U).toPromise()})).apply(this,arguments)}function yc(){return(yc=(0,d.Z)(function*(k,E){const C=yl(k,!1).get(E),U=yield new mr(C).toPromise();return void 0===U?null:U.value})).apply(this,arguments)}function Ha(k,E){const C=yl(k,!0).delete(E);return new mr(C).toPromise()}const _o=(()=>{class k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var C=this;return(0,d.Z)(function*(){return C.db||(C.db=yield Iu()),C.db})()}_withRetries(C){var U=this;return(0,d.Z)(function*(){let de=0;for(;;)try{const Ie=yield U._openDb();return yield C(Ie)}catch(Ie){if(de++>3)throw Ie;U.db&&(U.db.close(),U.db=void 0)}})()}initializeServiceWorkerMessaging(){var C=this;return(0,d.Z)(function*(){return Oc()?C.initializeReceiver():C.initializeSender()})()}initializeReceiver(){var C=this;return(0,d.Z)(function*(){C.receiver=Ga._getInstance(function Mc(){return Oc()?self:null}()),C.receiver._subscribe("keyChanged",function(){var U=(0,d.Z)(function*(de,Ie){return{keyProcessed:(yield C._poll()).includes(Ie.key)}});return function(de,Ie){return U.apply(this,arguments)}}()),C.receiver._subscribe("ping",function(){var U=(0,d.Z)(function*(de,Ie){return["keyChanged"]});return function(de,Ie){return U.apply(this,arguments)}}())})()}initializeSender(){var C=this;return(0,d.Z)(function*(){var U,de;if(C.activeServiceWorker=yield function oi(){return oc.apply(this,arguments)}(),!C.activeServiceWorker)return;C.sender=new md(C.activeServiceWorker);const Ie=yield C.sender._send("ping",{},800);Ie&&null!==(U=Ie[0])&&void 0!==U&&U.fulfilled&&null!==(de=Ie[0])&&void 0!==de&&de.value.includes("keyChanged")&&(C.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(C){var U=this;return(0,d.Z)(function*(){if(U.sender&&U.activeServiceWorker&&function Zl(){var k;return(null===(k=navigator?.serviceWorker)||void 0===k?void 0:k.controller)||null}()===U.activeServiceWorker)try{yield U.sender._send("keyChanged",{key:C},U.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const C=yield Iu();return yield qs(C,ki,"1"),yield Ha(C,ki),!0}catch{}return!1})()}_withPendingWrite(C){var U=this;return(0,d.Z)(function*(){U.pendingWrites++;try{yield C()}finally{U.pendingWrites--}})()}_set(C,U){var de=this;return(0,d.Z)(function*(){return de._withPendingWrite((0,d.Z)(function*(){return yield de._withRetries(Ie=>qs(Ie,C,U)),de.localCache[C]=U,de.notifyServiceWorker(C)}))})()}_get(C){var U=this;return(0,d.Z)(function*(){const de=yield U._withRetries(Ie=>function Ti(k,E){return yc.apply(this,arguments)}(Ie,C));return U.localCache[C]=de,de})()}_remove(C){var U=this;return(0,d.Z)(function*(){return U._withPendingWrite((0,d.Z)(function*(){return yield U._withRetries(de=>Ha(de,C)),delete U.localCache[C],U.notifyServiceWorker(C)}))})()}_poll(){var C=this;return(0,d.Z)(function*(){const U=yield C._withRetries(ft=>{const zt=yl(ft,!1).getAll();return new mr(zt).toPromise()});if(!U)return[];if(0!==C.pendingWrites)return[];const de=[],Ie=new Set;for(const{fbase_key:ft,value:zt}of U)Ie.add(ft),JSON.stringify(C.localCache[ft])!==JSON.stringify(zt)&&(C.notifyListeners(ft,zt),de.push(ft));for(const ft of Object.keys(C.localCache))C.localCache[ft]&&!Ie.has(ft)&&(C.notifyListeners(ft,null),de.push(ft));return de})()}notifyListeners(C,U){this.localCache[C]=U;const de=this.listeners[C];if(de)for(const Ie of Array.from(de))Ie(U)}startPolling(){var C=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return C._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(C,U){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[C]||(this.listeners[C]=new Set,this._get(C)),this.listeners[C].add(U)}_removeListener(C,U){this.listeners[C]&&(this.listeners[C].delete(U),0===this.listeners[C].size&&delete this.listeners[C]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return k.type="LOCAL",k})(),yo=1e12;class vo{constructor(E){this.auth=E,this.counter=yo,this._widgets=new Map}render(E,C){const U=this.counter;return this._widgets.set(U,new hu(E,this.auth.name,C||{})),this.counter++,U}reset(E){var C;const U=E||yo;null===(C=this._widgets.get(U))||void 0===C||C.delete(),this._widgets.delete(U)}getResponse(E){var C;return(null===(C=this._widgets.get(E||yo))||void 0===C?void 0:C.getResponse())||""}execute(E){var C=this;return(0,d.Z)(function*(){var U;return null===(U=C._widgets.get(E||yo))||void 0===U||U.execute(),""})()}}class hu{constructor(E,C,U){this.params=U,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const de="string"==typeof E?document.getElementById(E):E;Oe(de,"argument-error",{appName:C}),this.container=de,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _t(k){const E=[],C="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<k;U++)E.push(C.charAt(Math.floor(62*Math.random())));return E.join("")}(50);const{callback:E,"expired-callback":C}=this.params;if(E)try{E(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,C)try{C()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ba=Pi("rcb"),Bl=new Ln(3e4,6e4);class A{constructor(){var E;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(E=Do().grecaptcha)||void 0===E||!E.render)}load(E,C=""){return Oe(function F(k){return k.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(k)}(C),E,"argument-error"),this.shouldResolveImmediately(C)&&ri(Do().grecaptcha)?Promise.resolve(Do().grecaptcha):new Promise((U,de)=>{const Ie=Do().setTimeout(()=>{de(It(E,"network-request-failed"))},Bl.get());Do()[ba]=()=>{Do().clearTimeout(Ie),delete Do()[ba];const zt=Do().grecaptcha;if(!zt||!ri(zt))return void de(It(E,"internal-error"));const Pn=zt.render;zt.render=(Fn,xr)=>{const Ri=Pn(Fn,xr);return this.counter++,Ri},this.hostLanguage=C,U(zt)},$o(`https://www.google.com/recaptcha/api.js??${(0,ge.xO)({onload:ba,render:"explicit",hl:C})}`).catch(()=>{clearTimeout(Ie),de(It(E,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(E){var C;return!(null===(C=Do().grecaptcha)||void 0===C||!C.render)&&(E===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class W{load(E){return(0,d.Z)(function*(){return new vo(E)})()}clearedOneInstance(){}}const ue="recaptcha",w={theme:"light",type:"image"};class R{constructor(E,C=Object.assign({},w),U){this.parameters=C,this.type=ue,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Un(U),this.isInvisible="invisible"===this.parameters.size,Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const de="string"==typeof E?document.getElementById(E):E;Oe(de,this.auth,"argument-error"),this.container=de,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new W:new A,this.validateStartingState()}verify(){var E=this;return(0,d.Z)(function*(){E.assertNotDestroyed();const C=yield E.render(),U=E.getAssertedRecaptcha();return U.getResponse(C)||new Promise(Ie=>{const ft=zt=>{zt&&(E.tokenChangeListeners.delete(ft),Ie(zt))};E.tokenChangeListeners.add(ft),E.isInvisible&&U.execute(C)})})()}render(){try{this.assertNotDestroyed()}catch(E){return Promise.reject(E)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(E=>{throw this.renderPromise=null,E})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(E=>{this.container.removeChild(E)})}validateStartingState(){Oe(!this.parameters.sitekey,this.auth,"argument-error"),Oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(E){return C=>{if(this.tokenChangeListeners.forEach(U=>U(C)),"function"==typeof E)E(C);else if("string"==typeof E){const U=Do()[E];"function"==typeof U&&U(C)}}}assertNotDestroyed(){Oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var E=this;return(0,d.Z)(function*(){if(yield E.init(),!E.widgetId){let C=E.container;if(!E.isInvisible){const U=document.createElement("div");C.appendChild(U),C=U}E.widgetId=E.getAssertedRecaptcha().render(C,E.parameters)}return E.widgetId})()}init(){var E=this;return(0,d.Z)(function*(){Oe(jn()&&!Oc(),E.auth,"internal-error"),yield function P(){let k=null;return new Promise(E=>{"complete"!==document.readyState?(k=()=>E(),window.addEventListener("load",k)):E()}).catch(E=>{throw k&&window.removeEventListener("load",k),E})}(),E.recaptcha=yield E._recaptchaLoader.load(E.auth,E.auth.languageCode||void 0);const C=yield function ks(k){return li.apply(this,arguments)}(E.auth);Oe(C,E.auth,"internal-error"),E.parameters.sitekey=C})()}getAssertedRecaptcha(){return Oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class M{constructor(E,C){this.verificationId=E,this.onConfirmation=C}confirm(E){const C=vr._fromVerification(this.verificationId,E);return this.onConfirmation(C)}}function z(k,E,C){return ce.apply(this,arguments)}function ce(){return(ce=(0,d.Z)(function*(k,E,C){const U=Un(k),de=yield fn(U,E,(0,ge.m9)(C));return new M(de,Ie=>fa(U,Ie))})).apply(this,arguments)}function pe(k,E,C){return Je.apply(this,arguments)}function Je(){return(Je=(0,d.Z)(function*(k,E,C){const U=(0,ge.m9)(k);yield Ea(!1,U,"phone");const de=yield fn(U.auth,E,(0,ge.m9)(C));return new M(de,Ie=>kl(U,Ie))})).apply(this,arguments)}function kt(k,E,C){return dt.apply(this,arguments)}function dt(){return(dt=(0,d.Z)(function*(k,E,C){const U=(0,ge.m9)(k),de=yield fn(U.auth,E,(0,ge.m9)(C));return new M(de,Ie=>$i(U,Ie))})).apply(this,arguments)}function fn(k,E,C){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,d.Z)(function*(k,E,C){var U;const de=yield C.verify();try{let Ie;if(Oe("string"==typeof de,k,"argument-error"),Oe(C.type===ue,k,"argument-error"),Ie="string"==typeof E?{phoneNumber:E}:E,"session"in Ie){const ft=Ie.session;if("phoneNumber"in Ie)return Oe("enroll"===ft.type,k,"internal-error"),(yield function Kn(k,E){return Ct(k,"POST","/v2/accounts/mfaEnrollment:start",ot(k,E))}(k,{idToken:ft.credential,phoneEnrollmentInfo:{phoneNumber:Ie.phoneNumber,recaptchaToken:de}})).phoneSessionInfo.sessionInfo;{Oe("signin"===ft.type,k,"internal-error");const zt=(null===(U=Ie.multiFactorHint)||void 0===U?void 0:U.uid)||Ie.multiFactorUid;return Oe(zt,k,"missing-multi-factor-info"),(yield function Pc(k,E){return Ct(k,"POST","/v2/accounts/mfaSignIn:start",ot(k,E))}(k,{mfaPendingCredential:ft.credential,mfaEnrollmentId:zt,phoneSignInInfo:{recaptchaToken:de}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ft}=yield function Fr(k,E){return mi.apply(this,arguments)}(k,{phoneNumber:Ie.phoneNumber,recaptchaToken:de});return ft}}finally{C._reset()}}),Qn.apply(this,arguments)}function Gr(k,E){return Er.apply(this,arguments)}function Er(){return(Er=(0,d.Z)(function*(k,E){yield Ci((0,ge.m9)(k),E)})).apply(this,arguments)}let Kr=(()=>{class k{constructor(C){this.providerId=k.PROVIDER_ID,this.auth=Un(C)}verifyPhoneNumber(C,U){return fn(this.auth,C,(0,ge.m9)(U))}static credential(C,U){return vr._fromVerification(C,U)}static credentialFromResult(C){return k.credentialFromTaggedObject(C)}static credentialFromError(C){return k.credentialFromTaggedObject(C.customData||{})}static credentialFromTaggedObject({_tokenResponse:C}){if(!C)return null;const{phoneNumber:U,temporaryProof:de}=C;return U&&de?vr._fromTokenResponse(U,de):null}}return k.PROVIDER_ID="phone",k.PHONE_SIGN_IN_METHOD="phone",k})();function rs(k,E){return E?wt(E):(Oe(k._popupRedirectResolver,k,"argument-error"),k._popupRedirectResolver)}class Tl extends Ut{constructor(E){super("custom","custom"),this.params=E}_getIdTokenResponse(E){return bi(E,this._buildIdpRequest())}_linkToIdToken(E,C){return bi(E,this._buildIdpRequest(C))}_getReauthenticationResolver(E){return bi(E,this._buildIdpRequest())}_buildIdpRequest(E){const C={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return E&&(C.idToken=E),C}}function ms(k){return Xa(k.auth,new Tl(k),k.bypassAuthState)}function la(k){const{auth:E,user:C}=k;return Oe(C,E,"internal-error"),xa(C,new Tl(k),k.bypassAuthState)}function vl(k){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,d.Z)(function*(k){const{auth:E,user:C}=k;return Oe(C,E,"internal-error"),Ci(C,new Tl(k),k.bypassAuthState)})).apply(this,arguments)}class cl{constructor(E,C,U,de,Ie=!1){this.auth=E,this.resolver=U,this.user=de,this.bypassAuthState=Ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(C)?C:[C]}execute(){var E=this;return new Promise(function(){var C=(0,d.Z)(function*(U,de){E.pendingPromise={resolve:U,reject:de};try{E.eventManager=yield E.resolver._initialize(E.auth),yield E.onExecution(),E.eventManager.registerConsumer(E)}catch(Ie){E.reject(Ie)}});return function(U,de){return C.apply(this,arguments)}}())}onAuthEvent(E){var C=this;return(0,d.Z)(function*(){const{urlResponse:U,sessionId:de,postBody:Ie,tenantId:ft,error:zt,type:Pn}=E;if(zt)return void C.reject(zt);const Fn={auth:C.auth,requestUri:U,sessionId:de,tenantId:ft||void 0,postBody:Ie||void 0,user:C.user,bypassAuthState:C.bypassAuthState};try{C.resolve(yield C.getIdpTask(Pn)(Fn))}catch(xr){C.reject(xr)}})()}onError(E){this.reject(E)}getIdpTask(E){switch(E){case"signInViaPopup":case"signInViaRedirect":return ms;case"linkViaPopup":case"linkViaRedirect":return vl;case"reauthViaPopup":case"reauthViaRedirect":return la;default:st(this.auth,"internal-error")}}resolve(E){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(E),this.unregisterAndCleanUp()}reject(E){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(E),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sl=new Ln(2e3,1e4);function Ia(k,E,C){return za.apply(this,arguments)}function za(){return(za=(0,d.Z)(function*(k,E,C){const U=Un(k);gt(k,E,Ls);const de=rs(U,C);return new Ur(U,"signInViaPopup",E,de).executeNotNull()})).apply(this,arguments)}function Wc(k,E,C){return lc.apply(this,arguments)}function lc(){return(lc=(0,d.Z)(function*(k,E,C){const U=(0,ge.m9)(k);gt(U.auth,E,Ls);const de=rs(U.auth,C);return new Ur(U.auth,"reauthViaPopup",E,de,U).executeNotNull()})).apply(this,arguments)}function An(k,E,C){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,d.Z)(function*(k,E,C){const U=(0,ge.m9)(k);gt(U.auth,E,Ls);const de=rs(U.auth,C);return new Ur(U.auth,"linkViaPopup",E,de,U).executeNotNull()})).apply(this,arguments)}let Ur=(()=>{class k extends cl{constructor(C,U,de,Ie,ft){super(C,U,Ie,ft),this.provider=de,this.authWindow=null,this.pollId=null,k.currentPopupAction&&k.currentPopupAction.cancel(),k.currentPopupAction=this}executeNotNull(){var C=this;return(0,d.Z)(function*(){const U=yield C.execute();return Oe(U,C.auth,"internal-error"),U})()}onExecution(){var C=this;return(0,d.Z)(function*(){on(1===C.filter.length,"Popup operations only handle one event");const U=Gc();C.authWindow=yield C.resolver._openPopup(C.auth,C.provider,C.filter[0],U),C.authWindow.associatedEvent=U,C.resolver._originValidation(C.auth).catch(de=>{C.reject(de)}),C.resolver._isIframeWebStorageSupported(C.auth,de=>{de||C.reject(It(C.auth,"web-storage-unsupported"))}),C.pollUserCancellation()})()}get eventId(){var C;return(null===(C=this.authWindow)||void 0===C?void 0:C.associatedEvent)||null}cancel(){this.reject(It(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,k.currentPopupAction=null}pollUserCancellation(){const C=()=>{var U,de;this.pollId=null!==(de=null===(U=this.authWindow)||void 0===U?void 0:U.window)&&void 0!==de&&de.closed?window.setTimeout(()=>{this.pollId=null,this.reject(It(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(C,Sl.get())};C()}}return k.currentPopupAction=null,k})();const Qi="pendingRedirect",_s=new Map;class Na extends cl{constructor(E,C,U=!1){super(E,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],C,void 0,U),this.eventId=null}execute(){var E=()=>super.execute,C=this;return(0,d.Z)(function*(){let U=_s.get(C.auth._key());if(!U){try{const Ie=(yield function rl(k,E){return Dl.apply(this,arguments)}(C.resolver,C.auth))?yield E().call(C):null;U=()=>Promise.resolve(Ie)}catch(de){U=()=>Promise.reject(de)}_s.set(C.auth._key(),U)}return C.bypassAuthState||_s.set(C.auth._key(),()=>Promise.resolve(null)),U()})()}onAuthEvent(E){var C=()=>super.onAuthEvent,U=this;return(0,d.Z)(function*(){if("signInViaRedirect"===E.type)return C().call(U,E);if("unknown"!==E.type){if(E.eventId){const de=yield U.auth._redirectUserForId(E.eventId);if(de)return U.user=de,C().call(U,E);U.resolve(null)}}else U.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Dl(){return(Dl=(0,d.Z)(function*(k,E){const C=Ai(E),U=Ec(k);if(!(yield U._isAvailable()))return!1;const de="true"===(yield U._get(C));return yield U._remove(C),de})).apply(this,arguments)}function is(k,E){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,d.Z)(function*(k,E){return Ec(k)._set(Ai(E),"true")})).apply(this,arguments)}function Ju(){_s.clear()}function Co(k,E){_s.set(k._key(),E)}function Ec(k){return wt(k._redirectPersistence)}function Ai(k){return tr(Qi,k.config.apiKey,k.name)}function ul(k,E,C){return function Ys(k,E,C){return js.apply(this,arguments)}(k,E,C)}function js(){return(js=(0,d.Z)(function*(k,E,C){const U=Un(k);gt(k,E,Ls),yield U._initializationPromise;const de=rs(U,C);return yield is(de,U),de._openRedirect(U,E,"signInViaRedirect")})).apply(this,arguments)}function wc(k,E,C){return function il(k,E,C){return Yo.apply(this,arguments)}(k,E,C)}function Yo(){return(Yo=(0,d.Z)(function*(k,E,C){const U=(0,ge.m9)(k);gt(U.auth,E,Ls),yield U.auth._initializationPromise;const de=rs(U.auth,C);yield is(de,U.auth);const Ie=yield bc(U);return de._openRedirect(U.auth,E,"reauthViaRedirect",Ie)})).apply(this,arguments)}function _h(k,E,C){return function Bd(k,E,C){return Qo.apply(this,arguments)}(k,E,C)}function Qo(){return(Qo=(0,d.Z)(function*(k,E,C){const U=(0,ge.m9)(k);gt(U.auth,E,Ls),yield U.auth._initializationPromise;const de=rs(U.auth,C);yield Ea(!1,U,E.providerId),yield is(de,U.auth);const Ie=yield bc(U);return de._openRedirect(U.auth,E,"linkViaRedirect",Ie)})).apply(this,arguments)}function Nu(k,E){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(k,E){return yield Un(k)._initializationPromise,Bo(k,E,!1)})).apply(this,arguments)}function Bo(k,E){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,d.Z)(function*(k,E,C=!1){const U=Un(k),de=rs(U,E),ft=yield new Na(U,de,C).execute();return ft&&!C&&(delete ft.user._redirectEventId,yield U._persistUserIfCurrent(ft.user),yield U._setRedirectUser(null,E)),ft})).apply(this,arguments)}function bc(k){return qc.apply(this,arguments)}function qc(){return(qc=(0,d.Z)(function*(k){const E=Gc(`${k.uid}:::`);return k._redirectEventId=E,yield k.auth._setRedirectUser(k),yield k.auth._persistUserIfCurrent(k),E})).apply(this,arguments)}class Kc{constructor(E){this.auth=E,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(E){this.consumers.add(E),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,E)&&(this.sendToConsumer(this.queuedRedirectEvent,E),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(E){this.consumers.delete(E)}onEvent(E){if(this.hasEventBeenHandled(E))return!1;let C=!1;return this.consumers.forEach(U=>{this.isEventForConsumer(E,U)&&(C=!0,this.sendToConsumer(E,U),this.saveEventToCache(E))}),this.hasHandledPotentialRedirect||!function Yc(k){switch(k.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ul(k);default:return!1}}(E)||(this.hasHandledPotentialRedirect=!0,C||(this.queuedRedirectEvent=E,C=!0)),C}sendToConsumer(E,C){var U;if(E.error&&!Ul(E)){const de=(null===(U=E.error.code)||void 0===U?void 0:U.split("auth/")[1])||"internal-error";C.onError(It(this.auth,de))}else C.onAuthEvent(E)}isEventForConsumer(E,C){const U=null===C.eventId||!!E.eventId&&E.eventId===C.eventId;return C.filter.includes(E.type)&&U}hasEventBeenHandled(E){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(E))}saveEventToCache(E){this.cachedEventUids.add(Jo(E)),this.lastProcessedEventTime=Date.now()}}function Jo(k){return[k.type,k.eventId,k.sessionId,k.tenantId].filter(E=>E).join("-")}function Ul({type:k,error:E}){return"unknown"===k&&"auth/no-auth-event"===E?.code}function jl(k){return El.apply(this,arguments)}function El(){return(El=(0,d.Z)(function*(k,E={}){return Ct(k,"GET","/v1/projects",E)})).apply(this,arguments)}const _d=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kc=/^https?/;function cc(){return(cc=(0,d.Z)(function*(k){if(k.config.emulator)return;const{authorizedDomains:E}=yield jl(k);for(const C of E)try{if(Xu(C))return}catch{}st(k,"unauthorized-domain")})).apply(this,arguments)}function Xu(k){const E=Wn(),{protocol:C,hostname:U}=new URL(E);if(k.startsWith("chrome-extension://")){const ft=new URL(k);return""===ft.hostname&&""===U?"chrome-extension:"===C&&k.replace("chrome-extension://","")===E.replace("chrome-extension://",""):"chrome-extension:"===C&&ft.hostname===U}if(!kc.test(C))return!1;if(_d.test(k))return U===k;const de=k.replace(/\./g,"\\.");return new RegExp("^(.+\\."+de+"|"+de+")$","i").test(U)}const Ic=new Ln(3e4,6e4);function Jl(){const k=Do().___jsl;if(k?.H)for(const E of Object.keys(k.H))if(k.H[E].r=k.H[E].r||[],k.H[E].L=k.H[E].L||[],k.H[E].r=[...k.H[E].L],k.CP)for(let C=0;C<k.CP.length;C++)k.CP[C]=null}let Uo=null;const td=new Ln(5e3,15e3),uc="__/auth/iframe",yd="emulator/auth/iframe",Ud={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ku(k){const E=k.config;Oe(E.authDomain,k,"auth-domain-config-required");const C=E.emulator?kn(E,yd):`https://${k.config.authDomain}/${uc}`,U={apiKey:E.apiKey,appName:k.name,v:we.SDK_VERSION},de=nd.get(k.config.apiHost);de&&(U.eid=de);const Ie=k._getFrameworks();return Ie.length&&(U.fw=Ie.join(",")),`${C}?${(0,ge.xO)(U).slice(1)}`}function Qc(){return Qc=(0,d.Z)(function*(k){const E=yield function pu(k){return Uo=Uo||function ed(k){return new Promise((E,C)=>{var U,de,Ie;function ft(){Jl(),gapi.load("gapi.iframes",{callback:()=>{E(gapi.iframes.getContext())},ontimeout:()=>{Jl(),C(It(k,"network-request-failed"))},timeout:Ic.get()})}if(null!==(de=null===(U=Do().gapi)||void 0===U?void 0:U.iframes)&&void 0!==de&&de.Iframe)E(gapi.iframes.getContext());else{if(null===(Ie=Do().gapi)||void 0===Ie||!Ie.load){const zt=Pi("iframefcb");return Do()[zt]=()=>{gapi.load?ft():C(It(k,"network-request-failed"))},$o(`https://apis.google.com/js/api.js?onload=${zt}`).catch(Pn=>C(Pn))}ft()}}).catch(E=>{throw Uo=null,E})}(k),Uo}(k),C=Do().gapi;return Oe(C,k,"internal-error"),E.open({where:document.body,url:ku(k),messageHandlersFilter:C.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ud,dontclear:!0},U=>new Promise(function(){var de=(0,d.Z)(function*(Ie,ft){yield U.restyle({setHideOnLeave:!1});const zt=It(k,"network-request-failed"),Pn=Do().setTimeout(()=>{ft(zt)},td.get());function Fn(){Do().clearTimeout(Pn),Ie(U)}U.ping(Fn).then(Fn,()=>{ft(zt)})});return function(Ie,ft){return de.apply(this,arguments)}}()))}),Qc.apply(this,arguments)}const B={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lt{constructor(E){this.window=E,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Gn="__/auth/handler",vn="emulator/auth/handler",sr=encodeURIComponent("fac");function kr(k,E,C,U,de,Ie){return dl.apply(this,arguments)}function dl(){return(dl=(0,d.Z)(function*(k,E,C,U,de,Ie){Oe(k.config.authDomain,k,"auth-domain-config-required"),Oe(k.config.apiKey,k,"invalid-api-key");const ft={apiKey:k.config.apiKey,appName:k.name,authType:C,redirectUrl:U,v:we.SDK_VERSION,eventId:de};if(E instanceof Ls){E.setDefaultLanguage(k.languageCode),ft.providerId=E.providerId||"",(0,ge.xb)(E.getCustomParameters())||(ft.customParameters=JSON.stringify(E.getCustomParameters()));for(const[xr,Ri]of Object.entries(Ie||{}))ft[xr]=Ri}if(E instanceof Es){const xr=E.getScopes().filter(Ri=>""!==Ri);xr.length>0&&(ft.scopes=xr.join(","))}k.tenantId&&(ft.tid=k.tenantId);const zt=ft;for(const xr of Object.keys(zt))void 0===zt[xr]&&delete zt[xr];const Pn=yield k._getAppCheckToken(),Fn=Pn?`#${sr}=${encodeURIComponent(Pn)}`:"";return`${function jo({config:k}){return k.emulator?kn(k,vn):`https://${k.authDomain}/${Gn}`}(k)}?${(0,ge.xO)(zt).slice(1)}${Fn}`})).apply(this,arguments)}const Rs="webStorageSupport",$l=class Zc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=So,this._completeRedirectFn=Bo,this._overrideRedirectResult=Co}_openPopup(E,C,U,de){var Ie=this;return(0,d.Z)(function*(){var ft;on(null===(ft=Ie.eventManagers[E._key()])||void 0===ft?void 0:ft.manager,"_initialize() not called before _openPopup()");const zt=yield kr(E,C,U,Wn(),de);return function Wt(k,E,C,U=500,de=600){const Ie=Math.max((window.screen.availHeight-de)/2,0).toString(),ft=Math.max((window.screen.availWidth-U)/2,0).toString();let zt="";const Pn=Object.assign(Object.assign({},B),{width:U.toString(),height:de.toString(),top:Ie,left:ft}),Fn=(0,ge.z$)().toLowerCase();C&&(zt=ve(Fn)?"_blank":C),fe(Fn)&&(E=E||"http://localhost",Pn.scrollbars="yes");const xr=Object.entries(Pn).reduce((Ta,[fl,Cu])=>`${Ta}${fl}=${Cu},`,"");if(function dr(k=(0,ge.z$)()){var E;return Sn(k)&&!(null===(E=window.navigator)||void 0===E||!E.standalone)}(Fn)&&"_self"!==zt)return function Zn(k,E){const C=document.createElement("a");C.href=k,C.target=E;const U=document.createEvent("MouseEvent");U.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),C.dispatchEvent(U)}(E||"",zt),new lt(null);const Ri=window.open(E||"",zt,xr);Oe(Ri,k,"popup-blocked");try{Ri.focus()}catch{}return new lt(Ri)}(E,zt,Gc())})()}_openRedirect(E,C,U,de){var Ie=this;return(0,d.Z)(function*(){return yield Ie._originValidation(E),function Vl(k){Do().location.href=k}(yield kr(E,C,U,Wn(),de)),new Promise(()=>{})})()}_initialize(E){const C=E._key();if(this.eventManagers[C]){const{manager:de,promise:Ie}=this.eventManagers[C];return de?Promise.resolve(de):(on(Ie,"If manager is not set, promise should be"),Ie)}const U=this.initAndGetManager(E);return this.eventManagers[C]={promise:U},U.catch(()=>{delete this.eventManagers[C]}),U}initAndGetManager(E){var C=this;return(0,d.Z)(function*(){const U=yield function Su(k){return Qc.apply(this,arguments)}(E),de=new Kc(E);return U.register("authEvent",Ie=>(Oe(Ie?.authEvent,E,"invalid-auth-event"),{status:de.onEvent(Ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),C.eventManagers[E._key()]={manager:de},C.iframes[E._key()]=U,de})()}_isIframeWebStorageSupported(E,C){this.iframes[E._key()].send(Rs,{type:Rs},de=>{var Ie;const ft=null===(Ie=de?.[0])||void 0===Ie?void 0:Ie[Rs];void 0!==ft&&C(!!ft),st(E,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(E){const C=E._key();return this.originValidationPromises[C]||(this.originValidationPromises[C]=function fu(k){return cc.apply(this,arguments)}(E)),this.originValidationPromises[C]}get _shouldInitProactively(){return ui()||Le()||Sn()}};class Xl{constructor(E){this.factorId=E}_process(E,C,U){switch(C.type){case"enroll":return this._finalizeEnroll(E,C.credential,U);case"signin":return this._finalizeSignIn(E,C.credential);default:return Ht("unexpected MultiFactorSessionType")}}}class ca extends Xl{constructor(E){super("phone"),this.credential=E}static _fromCredential(E){return new ca(E)}_finalizeEnroll(E,C,U){return function Vn(k,E){return Ct(k,"POST","/v2/accounts/mfaEnrollment:finalize",ot(k,E))}(E,{idToken:C,displayName:U,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(E,C){return function vc(k,E){return Ct(k,"POST","/v2/accounts/mfaSignIn:finalize",ot(k,E))}(E,{mfaPendingCredential:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fc=(()=>{class k{constructor(){}static assertion(C){return ca._fromCredential(C)}}return k.FACTOR_ID="phone",k})();var jd="@firebase/auth";class Lu{constructor(E){this.auth=E,this.internalListeners=new Map}getUid(){var E;return this.assertAuthConfigured(),(null===(E=this.auth.currentUser)||void 0===E?void 0:E.uid)||null}getToken(E){var C=this;return(0,d.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(E)}:null})()}addAuthTokenListener(E){if(this.assertAuthConfigured(),this.internalListeners.has(E))return;const C=this.auth.onIdTokenChanged(U=>{E(U?.stsTokenManager.accessToken||null)});this.internalListeners.set(E,C),this.updateProactiveRefresh()}removeAuthTokenListener(E){this.assertAuthConfigured();const C=this.internalListeners.get(E);C&&(this.internalListeners.delete(E),C(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const id=(0,ge.Pz)("authIdTokenMaxAge")||300;let Al=null;const gu=k=>function(){var E=(0,d.Z)(function*(C){const U=C&&(yield C.getIdTokenResult()),de=U&&((new Date).getTime()-Date.parse(U.issuedAtTime))/1e3;if(de&&de>id)return;const Ie=U?.token;Al!==Ie&&(Al=Ie,yield fetch(k,{method:Ie?"POST":"DELETE",headers:Ie?{Authorization:`Bearer ${Ie}`}:{}}))});return function(C){return E.apply(this,arguments)}}();function Fh(k=(0,we.getApp)()){const E=(0,we._getProvider)(k,"auth");if(E.isInitialized())return E.getImmediate();const C=function ss(k,E){const C=(0,we._getProvider)(k,"auth");if(C.isInitialized()){const de=C.getImmediate(),Ie=C.getOptions();if((0,ge.vZ)(Ie,E??{}))return de;st(de,"already-initialized")}return C.initialize({options:E})}(k,{popupRedirectResolver:$l,persistence:[_o,Pt,So]}),U=(0,ge.Pz)("authTokenSyncURL");if(U){const Ie=gu(U);(function re(k,E,C){(0,ge.m9)(k).beforeAuthStateChanged(E,C)})(C,Ie,()=>Ie(C.currentUser)),function $(k,E,C,U){(0,ge.m9)(k).onIdTokenChanged(E,C,U)}(C,ft=>Ie(ft))}const de=(0,ge.q4)("auth");return de&&sl(C,`http://${de}`),C}!function Vu(k){(0,we._registerComponent)(new He.wA("auth",(E,{options:C})=>{const U=E.getProvider("app").getImmediate(),de=E.getProvider("heartbeat"),Ie=E.getProvider("app-check-internal"),{apiKey:ft,authDomain:zt}=U.options;Oe(ft&&!ft.includes(":"),"invalid-api-key",{appName:U.name});const Pn={apiKey:ft,authDomain:zt,clientPlatform:k,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$s(k)},Fn=new Br(U,de,Ie,Pn);return function xi(k,E){const C=E?.persistence||[],U=(Array.isArray(C)?C:[C]).map(wt);E?.errorMap&&k._updateErrorMap(E.errorMap),k._initializeWithPersistence(U,E?.popupRedirectResolver)}(Fn,C),Fn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((E,C,U)=>{E.getProvider("auth-internal").initialize()})),(0,we._registerComponent)(new He.wA("auth-internal",E=>{const C=Un(E.getProvider("auth").getImmediate());return new Lu(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)(jd,"0.23.2",function Ro(k){switch(k){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(k)),(0,we.registerVersion)(jd,"0.23.2","esm2017")}("Browser")},5710:(Rn,yt,Y)=>{Y.d(yt,{$o:()=>P_,AM:()=>it,Bd:()=>Ed,Bt:()=>Rp,EW:()=>ad,FQ:()=>Zo,G$:()=>Ci,HE:()=>Bh,IO:()=>zd,JH:()=>Ro,Jr:()=>Jc,Kk:()=>Wg,Lx:()=>yh,MQ:()=>Tc,N8:()=>qd,Od:()=>de,Ot:()=>Id,R:()=>vf,S1:()=>sd,Sb:()=>Yd,Sl:()=>ft,TD:()=>Wd,TQ:()=>vd,U2:()=>Fn,U7:()=>Kg,VF:()=>U,Vt:()=>Au,Vx:()=>Pn,Wu:()=>Lh,cy:()=>zt,dH:()=>Kd,e0:()=>$d,g2:()=>yf,i3:()=>ud,iH:()=>Fh,iU:()=>E,jM:()=>fl,mI:()=>Ao,nP:()=>xp,qT:()=>k,t8:()=>Ie,tn:()=>Al,vA:()=>Lu,vh:()=>Zi,wj:()=>vh,yv:()=>Cu});var d=Y(5861),ge=Y(7592),we=Y(4537),ne=Y(9058),Ne=Y(7879);const He="@firebase/database";let ct="";function it(y){ct=y}class Te{constructor(p){this.domStorage_=p,this.prefix_="firebase:"}set(p,g){null==g?this.domStorage_.removeItem(this.prefixedName_(p)):this.domStorage_.setItem(this.prefixedName_(p),(0,ne.Wl)(g))}get(p){const g=this.domStorage_.getItem(this.prefixedName_(p));return null==g?null:(0,ne.cI)(g)}remove(p){this.domStorage_.removeItem(this.prefixedName_(p))}prefixedName_(p){return this.prefix_+p}toString(){return this.domStorage_.toString()}}class xe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(p,g){null==g?delete this.cache_[p]:this.cache_[p]=g}get(p){return(0,ne.r3)(this.cache_,p)?this.cache_[p]:null}remove(p){delete this.cache_[p]}}const Qe=function(y){try{if(typeof window<"u"&&typeof window[y]<"u"){const p=window[y];return p.setItem("firebase:sentinel","cache"),p.removeItem("firebase:sentinel"),new Te(p)}}catch{}return new xe},mt=Qe("localStorage"),Ge=Qe("sessionStorage"),Yt=new Ne.Yd("@firebase/database"),ut=function(){let y=1;return function(){return y++}}(),an=function(y){const p=(0,ne.dS)(y),g=new ne.gQ;g.update(p);const I=g.digest();return ne.US.encodeByteArray(I)},qt=function(...y){let p="";for(let g=0;g<y.length;g++){const I=y[g];Array.isArray(I)||I&&"object"==typeof I&&"number"==typeof I.length?p+=qt.apply(null,I):p+="object"==typeof I?(0,ne.Wl)(I):I,p+=" "}return p};let Nn=null,wn=!0;const st=function(y,p){(0,ne.hu)(!p||!0===y||!1===y,"Can't turn on custom loggers persistently."),!0===y?(Yt.logLevel=Ne.in.VERBOSE,Nn=Yt.log.bind(Yt),p&&Ge.set("logging_enabled",!0)):"function"==typeof y?Nn=y:(Nn=null,Ge.remove("logging_enabled"))},It=function(...y){if(!0===wn&&(wn=!1,null===Nn&&!0===Ge.get("logging_enabled")&&st(!0)),Nn){const p=qt.apply(null,y);Nn(p)}},pt=function(y){return function(...p){It(y,...p)}},gt=function(...y){const p="FIREBASE INTERNAL ERROR: "+qt(...y);Yt.error(p)},Mt=function(...y){const p=`FIREBASE FATAL ERROR: ${qt(...y)}`;throw Yt.error(p),new Error(p)},Oe=function(...y){const p="FIREBASE WARNING: "+qt(...y);Yt.warn(p)},on=function(y){return"number"==typeof y&&(y!=y||y===Number.POSITIVE_INFINITY||y===Number.NEGATIVE_INFINITY)},jn="[MIN_NAME]",mn="[MAX_NAME]",Yn=function(y,p){if(y===p)return 0;if(y===jn||p===mn)return-1;if(p===jn||y===mn)return 1;{const g=ir(y),I=ir(p);return null!==g?null!==I?g-I==0?y.length-p.length:g-I:-1:null!==I?1:y<p?-1:1}},yr=function(y,p){return y===p?0:y<p?-1:1},Ln=function(y,p){if(p&&y in p)return p[y];throw new Error("Missing required key ("+y+") in object: "+(0,ne.Wl)(p))},kn=function(y){if("object"!=typeof y||null===y)return(0,ne.Wl)(y);const p=[];for(const I in y)p.push(I);p.sort();let g="{";for(let I=0;I<p.length;I++)0!==I&&(g+=","),g+=(0,ne.Wl)(p[I]),g+=":",g+=kn(y[p[I]]);return g+="}",g},Ye=function(y,p){const g=y.length;if(g<=p)return[y];const I=[];for(let L=0;L<g;L+=p)I.push(y.substring(L,L+p>g?g:L+p));return I};function nt(y,p){for(const g in y)y.hasOwnProperty(g)&&p(g,y[g])}const Et=function(y){(0,ne.hu)(!on(y),"Invalid JSON number");const I=1023;let L,K,se,De,je;0===y?(K=0,se=0,L=1/y==-1/0?1:0):(L=y<0,(y=Math.abs(y))>=Math.pow(2,1-I)?(De=Math.min(Math.floor(Math.log(y)/Math.LN2),I),K=De+I,se=Math.round(y*Math.pow(2,52-De)-Math.pow(2,52))):(K=0,se=Math.round(y/Math.pow(2,-1074))));const Xe=[];for(je=52;je;je-=1)Xe.push(se%2?1:0),se=Math.floor(se/2);for(je=11;je;je-=1)Xe.push(K%2?1:0),K=Math.floor(K/2);Xe.push(L?1:0),Xe.reverse();const Jt=Xe.join("");let Xt="";for(je=0;je<64;je+=8){let hn=parseInt(Jt.substr(je,8),2).toString(16);1===hn.length&&(hn="0"+hn),Xt+=hn}return Xt.toLowerCase()},rn=new RegExp("^-?(0*)\\d{1,10}$"),ir=function(y){if(rn.test(y)){const p=Number(y);if(p>=-2147483648&&p<=2147483647)return p}return null},hr=function(y){try{y()}catch(p){setTimeout(()=>{throw Oe("Exception was thrown by user callback.",p.stack||""),p},Math.floor(0))}},Mr=function(y,p){const g=setTimeout(y,p);return"number"==typeof g&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(g):"object"==typeof g&&g.unref&&g.unref(),g};class Mn{constructor(p,g){this.appName_=p,this.appCheckProvider=g,this.appCheck=g?.getImmediate({optional:!0}),this.appCheck||g?.get().then(I=>this.appCheck=I)}getToken(p){return this.appCheck?this.appCheck.getToken(p):new Promise((g,I)=>{setTimeout(()=>{this.appCheck?this.getToken(p).then(g,I):g(null)},0)})}addTokenChangeListener(p){var g;null===(g=this.appCheckProvider)||void 0===g||g.get().then(I=>I.addTokenListener(p))}notifyForInvalidToken(){Oe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Nr{constructor(p,g,I){this.appName_=p,this.firebaseOptions_=g,this.authProvider_=I,this.auth_=null,this.auth_=I.getImmediate({optional:!0}),this.auth_||I.onInit(L=>this.auth_=L)}getToken(p){return this.auth_?this.auth_.getToken(p).catch(g=>g&&"auth/token-not-initialized"===g.code?(It("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(g)):new Promise((g,I)=>{setTimeout(()=>{this.auth_?this.getToken(p).then(g,I):g(null)},0)})}addTokenChangeListener(p){this.auth_?this.auth_.addAuthTokenListener(p):this.authProvider_.get().then(g=>g.addAuthTokenListener(p))}removeTokenChangeListener(p){this.authProvider_.get().then(g=>g.removeAuthTokenListener(p))}notifyForInvalidToken(){let p='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';p+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Oe(p)}}let Ue=(()=>{class y{constructor(g){this.accessToken=g}getToken(g){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(g){g(this.accessToken)}removeTokenChangeListener(g){}notifyForInvalidToken(){}}return y.OWNER="owner",y})();const pr=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,er="websocket",cr="long_polling";class ii{constructor(p,g,I,L,K=!1,se="",De=!1,je=!1){this.secure=g,this.namespace=I,this.webSocketOnly=L,this.nodeAdmin=K,this.persistenceKey=se,this.includeNamespaceInQueryParams=De,this.isUsingEmulator=je,this._host=p.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mt.get("host:"+p)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(p){p!==this.internalHost&&(this.internalHost=p,this.isCacheableHost()&&mt.set("host:"+this._host,this.internalHost))}toString(){let p=this.toURLString();return this.persistenceKey&&(p+="<"+this.persistenceKey+">"),p}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ir(y,p,g){let I;if((0,ne.hu)("string"==typeof p,"typeof type must == string"),(0,ne.hu)("object"==typeof g,"typeof params must == object"),p===er)I=(y.secure?"wss://":"ws://")+y.internalHost+"/.ws?";else{if(p!==cr)throw new Error("Unknown connection type: "+p);I=(y.secure?"https://":"http://")+y.internalHost+"/.lp?"}(function Si(y){return y.host!==y.internalHost||y.isCustomHost()||y.includeNamespaceInQueryParams})(y)&&(g.ns=y.namespace);const L=[];return nt(g,(K,se)=>{L.push(K+"="+se)}),I+L.join("&")}class ti{constructor(){this.counters_={}}incrementCounter(p,g=1){(0,ne.r3)(this.counters_,p)||(this.counters_[p]=0),this.counters_[p]+=g}get(){return(0,ne.p$)(this.counters_)}}const qr={},Vr={};function Xi(y){const p=y.toString();return qr[p]||(qr[p]=new ti),qr[p]}class ur{constructor(p){this.onMessage_=p,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(p,g){this.closeAfterResponse=p,this.onClose=g,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(p,g){for(this.pendingResponses[p]=g;this.pendingResponses[this.currentResponseNum];){const I=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let L=0;L<I.length;++L)I[L]&&hr(()=>{this.onMessage_(I[L])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Lt{constructor(p,g,I,L,K,se,De){this.connId=p,this.repoInfo=g,this.applicationId=I,this.appCheckToken=L,this.authToken=K,this.transportSessionId=se,this.lastSessionId=De,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pt(p),this.stats_=Xi(g),this.urlFn=je=>(this.appCheckToken&&(je.ac=this.appCheckToken),Ir(g,cr,je))}open(p,g){this.curSegmentNum=0,this.onDisconnect_=g,this.myPacketOrderer=new ur(p),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(y){if((0,ne.Yr)()||"complete"===document.readyState)y();else{let p=!1;const g=function(){document.body?p||(p=!0,y()):setTimeout(g,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",g,!1),window.addEventListener("load",g,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&g()}),window.attachEvent("onload",g))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new tn((...K)=>{const[se,De,je,Xe,Jt]=K;if(this.incrementIncomingBytes_(K),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===se)this.id=De,this.password=je;else{if("close"!==se)throw new Error("Unrecognized command received: "+se);De?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(De,()=>{this.onClosed_()})):this.onClosed_()}},(...K)=>{const[se,De]=K;this.incrementIncomingBytes_(K),this.myPacketOrderer.handleResponse(se,De)},()=>{this.onClosed_()},this.urlFn);const I={start:"t"};I.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(I.cb=this.scriptTagHolder.uniqueCallbackIdentifier),I.v="5",this.transportSessionId&&(I.s=this.transportSessionId),this.lastSessionId&&(I.ls=this.lastSessionId),this.applicationId&&(I.p=this.applicationId),this.appCheckToken&&(I.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&pr.test(location.hostname)&&(I.r="f");const L=this.urlFn(I);this.log_("Connecting via long-poll to "+L),this.scriptTagHolder.addTag(L,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Lt.forceAllow_=!0}static forceDisallow(){Lt.forceDisallow_=!0}static isAvailable(){return!((0,ne.Yr)()||!Lt.forceAllow_&&(Lt.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(p){const g=(0,ne.Wl)(p);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);const I=(0,ne.h$)(g),L=Ye(I,1840);for(let K=0;K<L.length;K++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,L.length,L[K]),this.curSegmentNum++}addDisconnectPingFrame(p,g){if((0,ne.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const I={dframe:"t"};I.id=p,I.pw=g,this.myDisconnFrame.src=this.urlFn(I),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(p){const g=(0,ne.Wl)(p).length;this.bytesReceived+=g,this.stats_.incrementCounter("bytes_received",g)}}class tn{constructor(p,g,I,L){if(this.onDisconnect=I,this.urlFn=L,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ne.Yr)())this.commandCB=p,this.onMessageCB=g;else{this.uniqueCallbackIdentifier=ut(),window["pLPCommand"+this.uniqueCallbackIdentifier]=p,window["pRTLPCB"+this.uniqueCallbackIdentifier]=g,this.myIFrame=tn.createIFrame_();let K="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(K='<script>document.domain="'+document.domain+'";<\/script>');const se="<html><body>"+K+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(se),this.myIFrame.doc.close()}catch(De){It("frame writing exception"),De.stack&&It(De.stack),It(De)}}}static createIFrame_(){const p=document.createElement("iframe");if(p.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(p);try{p.contentWindow.document||It("No IE domain setting required")}catch{const I=document.domain;p.src="javascript:void((function(){document.open();document.domain='"+I+"';document.close();})())"}return p.contentDocument?p.doc=p.contentDocument:p.contentWindow?p.doc=p.contentWindow.document:p.document&&(p.doc=p.document),p}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const p=this.onDisconnect;p&&(this.onDisconnect=null,p())}startLongPoll(p,g){for(this.myID=p,this.myPW=g,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const p={};p.id=this.myID,p.pw=this.myPW,p.ser=this.currentSerial;let g=this.urlFn(p),I="",L=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+I.length<=1870;){const se=this.pendingSegs.shift();I=I+"&seg"+L+"="+se.seg+"&ts"+L+"="+se.ts+"&d"+L+"="+se.d,L++}return g+=I,this.addLongPollTag_(g,this.currentSerial),!0}return!1}enqueueSegment(p,g,I){this.pendingSegs.push({seg:p,ts:g,d:I}),this.alive&&this.newRequest_()}addLongPollTag_(p,g){this.outstandingRequests.add(g);const I=()=>{this.outstandingRequests.delete(g),this.newRequest_()},L=setTimeout(I,Math.floor(25e3));this.addTag(p,()=>{clearTimeout(L),I()})}addTag(p,g){(0,ne.Yr)()?this.doNodeLongPoll(p,g):setTimeout(()=>{try{if(!this.sendNewPolls)return;const I=this.myIFrame.doc.createElement("script");I.type="text/javascript",I.async=!0,I.src=p,I.onload=I.onreadystatechange=function(){const L=I.readyState;(!L||"loaded"===L||"complete"===L)&&(I.onload=I.onreadystatechange=null,I.parentNode&&I.parentNode.removeChild(I),g())},I.onerror=()=>{It("Long-poll script failed to load: "+p),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(I)}catch{}},Math.floor(1))}}let ni=null;typeof MozWebSocket<"u"?ni=MozWebSocket:typeof WebSocket<"u"&&(ni=WebSocket);let dr=(()=>{class y{constructor(g,I,L,K,se,De,je){this.connId=g,this.applicationId=L,this.appCheckToken=K,this.authToken=se,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pt(this.connId),this.stats_=Xi(I),this.connURL=y.connectionURL_(I,De,je,K,L),this.nodeAdmin=I.nodeAdmin}static connectionURL_(g,I,L,K,se){const De={v:"5"};return!(0,ne.Yr)()&&typeof location<"u"&&location.hostname&&pr.test(location.hostname)&&(De.r="f"),I&&(De.s=I),L&&(De.ls=L),K&&(De.ac=K),se&&(De.p=se),Ir(g,er,De)}open(g,I){this.onDisconnect=I,this.onMessage=g,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mt.set("previous_websocket_failure",!0);try{let L;if((0,ne.Yr)()){L={headers:{"User-Agent":`Firebase/5/${ct}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(L.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(L.headers["X-Firebase-AppCheck"]=this.appCheckToken);const se=process.env,De=0===this.connURL.indexOf("wss://")?se.HTTPS_PROXY||se.https_proxy:se.HTTP_PROXY||se.http_proxy;De&&(L.proxy={origin:De})}this.mySock=new ni(this.connURL,[],L)}catch(L){this.log_("Error instantiating WebSocket.");const K=L.message||L.data;return K&&this.log_(K),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=L=>{this.handleIncomingFrame(L)},this.mySock.onerror=L=>{this.log_("WebSocket error.  Closing connection.");const K=L.message||L.data;K&&this.log_(K),this.onClosed_()}}start(){}static forceDisallow(){y.forceDisallow_=!0}static isAvailable(){let g=!1;if(typeof navigator<"u"&&navigator.userAgent){const L=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);L&&L.length>1&&parseFloat(L[1])<4.4&&(g=!0)}return!g&&null!==ni&&!y.forceDisallow_}static previouslyFailed(){return mt.isInMemoryStorage||!0===mt.get("previous_websocket_failure")}markConnectionHealthy(){mt.remove("previous_websocket_failure")}appendFrame_(g){if(this.frames.push(g),this.frames.length===this.totalFrames){const I=this.frames.join("");this.frames=null;const L=(0,ne.cI)(I);this.onMessage(L)}}handleNewFrameCount_(g){this.totalFrames=g,this.frames=[]}extractFrameCount_(g){if((0,ne.hu)(null===this.frames,"We already have a frame buffer"),g.length<=6){const I=Number(g);if(!isNaN(I))return this.handleNewFrameCount_(I),null}return this.handleNewFrameCount_(1),g}handleIncomingFrame(g){if(null===this.mySock)return;const I=g.data;if(this.bytesReceived+=I.length,this.stats_.incrementCounter("bytes_received",I.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(I);else{const L=this.extractFrameCount_(I);null!==L&&this.appendFrame_(L)}}send(g){this.resetKeepAlive();const I=(0,ne.Wl)(g);this.bytesSent+=I.length,this.stats_.incrementCounter("bytes_sent",I.length);const L=Ye(I,16384);L.length>1&&this.sendString_(String(L.length));for(let K=0;K<L.length;K++)this.sendString_(L[K])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(g){try{this.mySock.send(g)}catch(I){this.log_("Exception thrown from WebSocket.send():",I.message||I.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return y.responsesRequiredToBeHealthy=2,y.healthyTimeout=3e4,y})(),Ei=(()=>{class y{constructor(g){this.initTransports_(g)}static get ALL_TRANSPORTS(){return[Lt,dr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(g){const I=dr&&dr.isAvailable();let L=I&&!dr.previouslyFailed();if(g.webSocketOnly&&(I||Oe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),L=!0),L)this.transports_=[dr];else{const K=this.transports_=[];for(const se of y.ALL_TRANSPORTS)se&&se.isAvailable()&&K.push(se);y.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return y.globalTransportInitialized_=!1,y})();class ao{constructor(p,g,I,L,K,se,De,je,Xe,Jt){this.id=p,this.repoInfo_=g,this.applicationId_=I,this.appCheckToken_=L,this.authToken_=K,this.onMessage_=se,this.onReady_=De,this.onDisconnect_=je,this.onKill_=Xe,this.lastSessionId=Jt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pt("c:"+this.id+":"),this.transportManager_=new Ei(g),this.log_("Connection created"),this.start_()}start_(){const p=this.transportManager_.initialTransport();this.conn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;const g=this.connReceiver_(this.conn_),I=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(g,I)},Math.floor(0));const L=p.healthyTimeout||0;L>0&&(this.healthyTimeout_=Mr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(L)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(p){return g=>{p===this.conn_?this.onConnectionLost_(g):p===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(p){return g=>{2!==this.state_&&(p===this.rx_?this.onPrimaryMessageReceived_(g):p===this.secondaryConn_?this.onSecondaryMessageReceived_(g):this.log_("message on old connection"))}}sendRequest(p){this.sendData_({t:"d",d:p})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(p){if("t"in p){const g=p.t;"a"===g?this.upgradeIfSecondaryHealthy_():"r"===g?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===g&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(p){const g=Ln("t",p),I=Ln("d",p);if("c"===g)this.onSecondaryControl_(I);else{if("d"!==g)throw new Error("Unknown protocol layer: "+g);this.pendingDataMessages.push(I)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(p){const g=Ln("t",p),I=Ln("d",p);"c"===g?this.onControl_(I):"d"===g&&this.onDataMessage_(I)}onDataMessage_(p){this.onPrimaryResponse_(),this.onMessage_(p)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(p){const g=Ln("t",p);if("d"in p){const I=p.d;if("h"===g){const L=Object.assign({},I);this.repoInfo_.isUsingEmulator&&(L.h=this.repoInfo_.host),this.onHandshake_(L)}else if("n"===g){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let L=0;L<this.pendingDataMessages.length;++L)this.onDataMessage_(this.pendingDataMessages[L]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===g?this.onConnectionShutdown_(I):"r"===g?this.onReset_(I):"e"===g?gt("Server Error: "+I):"o"===g?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gt("Unknown control packet command: "+g)}}onHandshake_(p){const g=p.ts,I=p.v,L=p.h;this.sessionId=p.s,this.repoInfo_.host=L,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,g),"5"!==I&&Oe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const p=this.transportManager_.upgradeTransport();p&&this.startUpgrade_(p)}startUpgrade_(p){this.secondaryConn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;const g=this.connReceiver_(this.secondaryConn_),I=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(g,I),Mr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(p){this.log_("Reset packet received.  New host: "+p),this.repoInfo_.host=p,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(p,g){this.log_("Realtime connection established."),this.conn_=p,this.state_=1,this.onReady_&&(this.onReady_(g,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const p=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===p||this.rx_===p)&&this.close()}onConnectionLost_(p){this.conn_=null,p||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(p){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(p),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(p){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(p)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ts{put(p,g,I,L){}merge(p,g,I,L){}refreshAuthToken(p){}refreshAppCheckToken(p){}onDisconnectPut(p,g,I){}onDisconnectMerge(p,g,I){}onDisconnectCancel(p,g){}reportStats(p){}}class Io{constructor(p){this.allowedEvents_=p,this.listeners_={},(0,ne.hu)(Array.isArray(p)&&p.length>0,"Requires a non-empty array")}trigger(p,...g){if(Array.isArray(this.listeners_[p])){const I=[...this.listeners_[p]];for(let L=0;L<I.length;L++)I[L].callback.apply(I[L].context,g)}}on(p,g,I){this.validateEventType_(p),this.listeners_[p]=this.listeners_[p]||[],this.listeners_[p].push({callback:g,context:I});const L=this.getInitialEvent(p);L&&g.apply(I,L)}off(p,g,I){this.validateEventType_(p);const L=this.listeners_[p]||[];for(let K=0;K<L.length;K++)if(L[K].callback===g&&(!I||I===L[K].context))return void L.splice(K,1)}validateEventType_(p){(0,ne.hu)(this.allowedEvents_.find(g=>g===p),"Unknown event: "+p)}}class fs extends Io{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ne.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new fs}getInitialEvent(p){return(0,ne.hu)("online"===p,"Unknown event type: "+p),[this.online_]}currentlyOnline(){return this.online_}}class Br{constructor(p,g){if(void 0===g){this.pieces_=p.split("/");let I=0;for(let L=0;L<this.pieces_.length;L++)this.pieces_[L].length>0&&(this.pieces_[I]=this.pieces_[L],I++);this.pieces_.length=I,this.pieceNum_=0}else this.pieces_=p,this.pieceNum_=g}toString(){let p="";for(let g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(p+="/"+this.pieces_[g]);return p||"/"}}function Un(){return new Br("")}function jr(y){return y.pieceNum_>=y.pieces_.length?null:y.pieces_[y.pieceNum_]}function ss(y){return y.pieces_.length-y.pieceNum_}function xi(y){let p=y.pieceNum_;return p<y.pieces_.length&&p++,new Br(y.pieces_,p)}function sl(y){return y.pieceNum_<y.pieces_.length?y.pieces_[y.pieces_.length-1]:null}function qe(y,p=0){return y.pieces_.slice(y.pieceNum_+p)}function vt(y){if(y.pieceNum_>=y.pieces_.length)return null;const p=[];for(let g=y.pieceNum_;g<y.pieces_.length-1;g++)p.push(y.pieces_[g]);return new Br(p,0)}function Ft(y,p){const g=[];for(let I=y.pieceNum_;I<y.pieces_.length;I++)g.push(y.pieces_[I]);if(p instanceof Br)for(let I=p.pieceNum_;I<p.pieces_.length;I++)g.push(p.pieces_[I]);else{const I=p.split("/");for(let L=0;L<I.length;L++)I[L].length>0&&g.push(I[L])}return new Br(g,0)}function Ut(y){return y.pieceNum_>=y.pieces_.length}function Hn(y,p){const g=jr(y),I=jr(p);if(null===g)return p;if(g===I)return Hn(xi(y),xi(p));throw new Error("INTERNAL ERROR: innerPath ("+p+") is not within outerPath ("+y+")")}function si(y,p){const g=qe(y,0),I=qe(p,0);for(let L=0;L<g.length&&L<I.length;L++){const K=Yn(g[L],I[L]);if(0!==K)return K}return g.length===I.length?0:g.length<I.length?-1:1}function Zr(y,p){if(ss(y)!==ss(p))return!1;for(let g=y.pieceNum_,I=p.pieceNum_;g<=y.pieces_.length;g++,I++)if(y.pieces_[g]!==p.pieces_[I])return!1;return!0}function Ar(y,p){let g=y.pieceNum_,I=p.pieceNum_;if(ss(y)>ss(p))return!1;for(;g<y.pieces_.length;){if(y.pieces_[g]!==p.pieces_[I])return!1;++g,++I}return!0}class Za{constructor(p,g){this.errorPrefix_=g,this.parts_=qe(p,0),this.byteLength_=Math.max(1,this.parts_.length);for(let I=0;I<this.parts_.length;I++)this.byteLength_+=(0,ne.ug)(this.parts_[I]);Vi(this)}}function Vi(y){if(y.byteLength_>768)throw new Error(y.errorPrefix_+"has a key path longer than 768 bytes ("+y.byteLength_+").");if(y.parts_.length>32)throw new Error(y.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+co(y))}function co(y){return 0===y.parts_.length?"":"in property '"+y.parts_.join(".")+"'"}class ka extends Io{constructor(){let p,g;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(g="visibilitychange",p="hidden"):typeof document.mozHidden<"u"?(g="mozvisibilitychange",p="mozHidden"):typeof document.msHidden<"u"?(g="msvisibilitychange",p="msHidden"):typeof document.webkitHidden<"u"&&(g="webkitvisibilitychange",p="webkitHidden")),this.visible_=!0,g&&document.addEventListener(g,()=>{const I=!document[p];I!==this.visible_&&(this.visible_=I,this.trigger("visible",I))},!1)}static getInstance(){return new ka}getInitialEvent(p){return(0,ne.hu)("visible"===p,"Unknown event type: "+p),[this.visible_]}}const uo=1e3;let ra,gi=(()=>{class y extends Ts{constructor(g,I,L,K,se,De,je,Xe){if(super(),this.repoInfo_=g,this.applicationId_=I,this.onDataUpdate_=L,this.onConnectStatus_=K,this.onServerInfoUpdate_=se,this.authTokenProvider_=De,this.appCheckTokenProvider_=je,this.authOverride_=Xe,this.id=y.nextPersistentConnectionId_++,this.log_=pt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uo,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,Xe&&!(0,ne.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ka.getInstance().on("visible",this.onVisible_,this),-1===g.host.indexOf("fblocal")&&fs.getInstance().on("online",this.onOnline_,this)}sendRequest(g,I,L){const K=++this.requestNumber_,se={r:K,a:g,b:I};this.log_((0,ne.Wl)(se)),(0,ne.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(se),L&&(this.requestCBHash_[K]=L)}get(g){this.initConnection_();const I=new ne.BH,K={action:"g",request:{p:g._path.toString(),q:g._queryObject},onComplete:De=>{const je=De.d;"ok"===De.s?I.resolve(je):I.reject(je)}};return this.outstandingGets_.push(K),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),I.promise}listen(g,I,L,K){this.initConnection_();const se=g._queryIdentifier,De=g._path.toString();this.log_("Listen called for "+De+" "+se),this.listens.has(De)||this.listens.set(De,new Map),(0,ne.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ne.hu)(!this.listens.get(De).has(se),"listen() called twice for same path/queryId.");const je={onComplete:K,hashFn:I,query:g,tag:L};this.listens.get(De).set(se,je),this.connected_&&this.sendListen_(je)}sendGet_(g){const I=this.outstandingGets_[g];this.sendRequest("g",I.request,L=>{delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),I.onComplete&&I.onComplete(L)})}sendListen_(g){const I=g.query,L=I._path.toString(),K=I._queryIdentifier;this.log_("Listen on "+L+" for "+K);const se={p:L};g.tag&&(se.q=I._queryObject,se.t=g.tag),se.h=g.hashFn(),this.sendRequest("q",se,je=>{const Xe=je.d,Jt=je.s;y.warnOnListenWarnings_(Xe,I),(this.listens.get(L)&&this.listens.get(L).get(K))===g&&(this.log_("listen response",je),"ok"!==Jt&&this.removeListen_(L,K),g.onComplete&&g.onComplete(Jt,Xe))})}static warnOnListenWarnings_(g,I){if(g&&"object"==typeof g&&(0,ne.r3)(g,"w")){const L=(0,ne.DV)(g,"w");if(Array.isArray(L)&&~L.indexOf("no_index")){const K='".indexOn": "'+I._queryParams.getIndex().toString()+'"',se=I._path.toString();Oe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${K} at ${se} to your security rules for better performance.`)}}}refreshAuthToken(g){this.authToken_=g,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(g)}reduceReconnectDelayIfAdminCredential_(g){(g&&40===g.length||(0,ne.GJ)(g))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(g){this.appCheckToken_=g,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const g=this.authToken_,I=(0,ne.w9)(g)?"auth":"gauth",L={cred:g};null===this.authOverride_?L.noauth=!0:"object"==typeof this.authOverride_&&(L.authvar=this.authOverride_),this.sendRequest(I,L,K=>{const se=K.s,De=K.d||"error";this.authToken_===g&&("ok"===se?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(se,De))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},g=>{const I=g.s,L=g.d||"error";"ok"===I?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(I,L)})}unlisten(g,I){const L=g._path.toString(),K=g._queryIdentifier;this.log_("Unlisten called for "+L+" "+K),(0,ne.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(L,K)&&this.connected_&&this.sendUnlisten_(L,K,g._queryObject,I)}sendUnlisten_(g,I,L,K){this.log_("Unlisten on "+g+" for "+I);const se={p:g};K&&(se.q=L,se.t=K),this.sendRequest("n",se)}onDisconnectPut(g,I,L){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",g,I,L):this.onDisconnectRequestQueue_.push({pathString:g,action:"o",data:I,onComplete:L})}onDisconnectMerge(g,I,L){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",g,I,L):this.onDisconnectRequestQueue_.push({pathString:g,action:"om",data:I,onComplete:L})}onDisconnectCancel(g,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",g,null,I):this.onDisconnectRequestQueue_.push({pathString:g,action:"oc",data:null,onComplete:I})}sendOnDisconnect_(g,I,L,K){const se={p:I,d:L};this.log_("onDisconnect "+g,se),this.sendRequest(g,se,De=>{K&&setTimeout(()=>{K(De.s,De.d)},Math.floor(0))})}put(g,I,L,K){this.putInternal("p",g,I,L,K)}merge(g,I,L,K){this.putInternal("m",g,I,L,K)}putInternal(g,I,L,K,se){this.initConnection_();const De={p:I,d:L};void 0!==se&&(De.h=se),this.outstandingPuts_.push({action:g,request:De,onComplete:K}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+I)}sendPut_(g){const I=this.outstandingPuts_[g].action,L=this.outstandingPuts_[g].request,K=this.outstandingPuts_[g].onComplete;this.outstandingPuts_[g].queued=this.connected_,this.sendRequest(I,L,se=>{this.log_(I+" response",se),delete this.outstandingPuts_[g],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),K&&K(se.s,se.d)})}reportStats(g){if(this.connected_){const I={c:g};this.log_("reportStats",I),this.sendRequest("s",I,L=>{"ok"!==L.s&&this.log_("reportStats","Error sending stats: "+L.d)})}}onDataMessage_(g){if("r"in g){this.log_("from server: "+(0,ne.Wl)(g));const I=g.r,L=this.requestCBHash_[I];L&&(delete this.requestCBHash_[I],L(g.b))}else{if("error"in g)throw"A server-side error has occurred: "+g.error;"a"in g&&this.onDataPush_(g.a,g.b)}}onDataPush_(g,I){this.log_("handleServerMessage",g,I),"d"===g?this.onDataUpdate_(I.p,I.d,!1,I.t):"m"===g?this.onDataUpdate_(I.p,I.d,!0,I.t):"c"===g?this.onListenRevoked_(I.p,I.q):"ac"===g?this.onAuthRevoked_(I.s,I.d):"apc"===g?this.onAppCheckRevoked_(I.s,I.d):"sd"===g?this.onSecurityDebugPacket_(I):gt("Unrecognized action received from server: "+(0,ne.Wl)(g)+"\nAre you using the latest client?")}onReady_(g,I){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(g),this.lastSessionId=I,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(g){(0,ne.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(g))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(g){g&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0)),this.visible_=g}onOnline_(g){g?(this.log_("Browser went online."),this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=uo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const g=(new Date).getTime()-this.lastConnectionAttemptTime_;let I=Math.max(0,this.reconnectDelay_-g);I=Math.random()*I,this.log_("Trying to reconnect in "+I+"ms"),this.scheduleConnect_(I),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var g=this;return(0,d.Z)(function*(){if(g.shouldReconnect_()){g.log_("Making a connection attempt"),g.lastConnectionAttemptTime_=(new Date).getTime(),g.lastConnectionEstablishedTime_=null;const I=g.onDataMessage_.bind(g),L=g.onReady_.bind(g),K=g.onRealtimeDisconnect_.bind(g),se=g.id+":"+y.nextConnectionId_++,De=g.lastSessionId;let je=!1,Xe=null;const Jt=function(){Xe?Xe.close():(je=!0,K())};g.realtime_={close:Jt,sendRequest:function(wr){(0,ne.hu)(Xe,"sendRequest call when we're not connected not allowed."),Xe.sendRequest(wr)}};const hn=g.forceTokenRefresh_;g.forceTokenRefresh_=!1;try{const[wr,Wr]=yield Promise.all([g.authTokenProvider_.getToken(hn),g.appCheckTokenProvider_.getToken(hn)]);je?It("getToken() completed but was canceled"):(It("getToken() completed. Creating connection."),g.authToken_=wr&&wr.accessToken,g.appCheckToken_=Wr&&Wr.token,Xe=new ao(se,g.repoInfo_,g.applicationId_,g.appCheckToken_,g.authToken_,I,L,K,Ps=>{Oe(Ps+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},De))}catch(wr){g.log_("Failed to get token: "+wr),je||(g.repoInfo_.nodeAdmin&&Oe(wr),Jt())}}})()}interrupt(g){It("Interrupting connection for reason: "+g),this.interruptReasons_[g]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(g){It("Resuming connection for reason: "+g),delete this.interruptReasons_[g],(0,ne.xb)(this.interruptReasons_)&&(this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(g){const I=g-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:I})}cancelSentTransactions_(){for(let g=0;g<this.outstandingPuts_.length;g++){const I=this.outstandingPuts_[g];I&&"h"in I.request&&I.queued&&(I.onComplete&&I.onComplete("disconnect"),delete this.outstandingPuts_[g],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(g,I){let L;L=I?I.map(se=>kn(se)).join("$"):"default";const K=this.removeListen_(g,L);K&&K.onComplete&&K.onComplete("permission_denied")}removeListen_(g,I){const L=new Br(g).toString();let K;if(this.listens.has(L)){const se=this.listens.get(L);K=se.get(I),se.delete(I),0===se.size&&this.listens.delete(L)}else K=void 0;return K}onAuthRevoked_(g,I){It("Auth token revoked: "+g+"/"+I),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===g||"permission_denied"===g)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(g,I){It("App check token revoked: "+g+"/"+I),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===g||"permission_denied"===g)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(g){this.securityDebugCallback_?this.securityDebugCallback_(g):"msg"in g&&console.log("FIREBASE: "+g.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const g of this.listens.values())for(const I of g.values())this.sendListen_(I);for(let g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){const g=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(g.action,g.pathString,g.data,g.onComplete)}for(let g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)}sendConnectStats_(){const g={};let I="js";(0,ne.Yr)()&&(I=this.repoInfo_.nodeAdmin?"admin_node":"node"),g["sdk."+I+"."+ct.replace(/\./g,"-")]=1,(0,ne.uI)()?g["framework.cordova"]=1:(0,ne.b$)()&&(g["framework.reactnative"]=1),this.reportStats(g)}shouldReconnect_(){const g=fs.getInstance().currentlyOnline();return(0,ne.xb)(this.interruptReasons_)&&g}}return y.nextPersistentConnectionId_=0,y.nextConnectionId_=0,y})();class Pr{constructor(p,g){this.name=p,this.node=g}static Wrap(p,g){return new Pr(p,g)}}class ls{getCompare(){return this.compare.bind(this)}indexedValueChanged(p,g){const I=new Pr(jn,p),L=new Pr(jn,g);return 0!==this.compare(I,L)}minPost(){return Pr.MIN}}class ha extends ls{static get __EMPTY_NODE(){return ra}static set __EMPTY_NODE(p){ra=p}compare(p,g){return Yn(p.name,g.name)}isDefinedOn(p){throw(0,ne.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(p,g){return!1}minPost(){return Pr.MIN}maxPost(){return new Pr(mn,ra)}makePost(p,g){return(0,ne.hu)("string"==typeof p,"KeyIndex indexValue must always be a string."),new Pr(p,ra)}toString(){return".key"}}const Bi=new ha;class bi{constructor(p,g,I,L,K=null){this.isReverse_=L,this.resultGenerator_=K,this.nodeStack_=[];let se=1;for(;!p.isEmpty();)if(se=g?I(p.key,g):1,L&&(se*=-1),se<0)p=this.isReverse_?p.left:p.right;else{if(0===se){this.nodeStack_.push(p);break}this.nodeStack_.push(p),p=this.isReverse_?p.right:p.left}}getNext(){if(0===this.nodeStack_.length)return null;let g,p=this.nodeStack_.pop();if(g=this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value},this.isReverse_)for(p=p.left;!p.isEmpty();)this.nodeStack_.push(p),p=p.right;else for(p=p.right;!p.isEmpty();)this.nodeStack_.push(p),p=p.left;return g}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const p=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value}}}let Tr,Oi=(()=>{class y{constructor(g,I,L,K,se){this.key=g,this.value=I,this.color=L??y.RED,this.left=K??pn.EMPTY_NODE,this.right=se??pn.EMPTY_NODE}copy(g,I,L,K,se){return new y(g??this.key,I??this.value,L??this.color,K??this.left,se??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(g){return this.left.inorderTraversal(g)||!!g(this.key,this.value)||this.right.inorderTraversal(g)}reverseTraversal(g){return this.right.reverseTraversal(g)||g(this.key,this.value)||this.left.reverseTraversal(g)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(g,I,L){let K=this;const se=L(g,K.key);return K=se<0?K.copy(null,null,null,K.left.insert(g,I,L),null):0===se?K.copy(null,I,null,null,null):K.copy(null,null,null,null,K.right.insert(g,I,L)),K.fixUp_()}removeMin_(){if(this.left.isEmpty())return pn.EMPTY_NODE;let g=this;return!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.removeMin_(),null),g.fixUp_()}remove(g,I){let L,K;if(L=this,I(g,L.key)<0)!L.left.isEmpty()&&!L.left.isRed_()&&!L.left.left.isRed_()&&(L=L.moveRedLeft_()),L=L.copy(null,null,null,L.left.remove(g,I),null);else{if(L.left.isRed_()&&(L=L.rotateRight_()),!L.right.isEmpty()&&!L.right.isRed_()&&!L.right.left.isRed_()&&(L=L.moveRedRight_()),0===I(g,L.key)){if(L.right.isEmpty())return pn.EMPTY_NODE;K=L.right.min_(),L=L.copy(K.key,K.value,null,null,L.right.removeMin_())}L=L.copy(null,null,null,null,L.right.remove(g,I))}return L.fixUp_()}isRed_(){return this.color}fixUp_(){let g=this;return g.right.isRed_()&&!g.left.isRed_()&&(g=g.rotateLeft_()),g.left.isRed_()&&g.left.left.isRed_()&&(g=g.rotateRight_()),g.left.isRed_()&&g.right.isRed_()&&(g=g.colorFlip_()),g}moveRedLeft_(){let g=this.colorFlip_();return g.right.left.isRed_()&&(g=g.copy(null,null,null,null,g.right.rotateRight_()),g=g.rotateLeft_(),g=g.colorFlip_()),g}moveRedRight_(){let g=this.colorFlip_();return g.left.left.isRed_()&&(g=g.rotateRight_(),g=g.colorFlip_()),g}rotateLeft_(){const g=this.copy(null,null,y.RED,null,this.right.left);return this.right.copy(null,null,this.color,g,null)}rotateRight_(){const g=this.copy(null,null,y.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,g)}colorFlip_(){const g=this.left.copy(null,null,!this.left.color,null,null),I=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,g,I)}checkMaxDepth_(){const g=this.check_();return Math.pow(2,g)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const g=this.left.check_();if(g!==this.right.check_())throw new Error("Black depths differ");return g+(this.isRed_()?0:1)}}return y.RED=!0,y.BLACK=!1,y})();class pn{constructor(p,g=pn.EMPTY_NODE){this.comparator_=p,this.root_=g}insert(p,g){return new pn(this.comparator_,this.root_.insert(p,g,this.comparator_).copy(null,null,Oi.BLACK,null,null))}remove(p){return new pn(this.comparator_,this.root_.remove(p,this.comparator_).copy(null,null,Oi.BLACK,null,null))}get(p){let g,I=this.root_;for(;!I.isEmpty();){if(g=this.comparator_(p,I.key),0===g)return I.value;g<0?I=I.left:g>0&&(I=I.right)}return null}getPredecessorKey(p){let g,I=this.root_,L=null;for(;!I.isEmpty();){if(g=this.comparator_(p,I.key),0===g){if(I.left.isEmpty())return L?L.key:null;for(I=I.left;!I.right.isEmpty();)I=I.right;return I.key}g<0?I=I.left:g>0&&(L=I,I=I.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(p){return this.root_.inorderTraversal(p)}reverseTraversal(p){return this.root_.reverseTraversal(p)}getIterator(p){return new bi(this.root_,null,this.comparator_,!1,p)}getIteratorFrom(p,g){return new bi(this.root_,p,this.comparator_,!1,g)}getReverseIteratorFrom(p,g){return new bi(this.root_,p,this.comparator_,!0,g)}getReverseIterator(p){return new bi(this.root_,null,this.comparator_,!0,p)}}function Fr(y,p){return Yn(y.name,p.name)}function mi(y,p){return Yn(y,p)}pn.EMPTY_NODE=new class yi{copy(p,g,I,L,K){return this}insert(p,g,I){return new Oi(p,g,null)}remove(p,g){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(p){return!1}reverseTraversal(p){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Di=function(y){return"number"==typeof y?"number:"+Et(y):"string:"+y},ho=function(y){if(y.isLeafNode()){const p=y.val();(0,ne.hu)("string"==typeof p||"number"==typeof p||"object"==typeof p&&(0,ne.r3)(p,".sv"),"Priority must be a string or number.")}else(0,ne.hu)(y===Tr||y.isEmpty(),"priority of unexpected type.");(0,ne.hu)(y===Tr||y.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let qi,Ho,vr,Os=(()=>{class y{constructor(g,I=y.__childrenNodeConstructor.EMPTY_NODE){this.value_=g,this.priorityNode_=I,this.lazyHash_=null,(0,ne.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ho(this.priorityNode_)}static set __childrenNodeConstructor(g){qi=g}static get __childrenNodeConstructor(){return qi}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(g){return new y(this.value_,g)}getImmediateChild(g){return".priority"===g?this.priorityNode_:y.__childrenNodeConstructor.EMPTY_NODE}getChild(g){return Ut(g)?this:".priority"===jr(g)?this.priorityNode_:y.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(g,I){return null}updateImmediateChild(g,I){return".priority"===g?this.updatePriority(I):I.isEmpty()&&".priority"!==g?this:y.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(g,I).updatePriority(this.priorityNode_)}updateChild(g,I){const L=jr(g);return null===L?I:I.isEmpty()&&".priority"!==L?this:((0,ne.hu)(".priority"!==L||1===ss(g),".priority must be the last token in a path"),this.updateImmediateChild(L,y.__childrenNodeConstructor.EMPTY_NODE.updateChild(xi(g),I)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(g,I){return!1}val(g){return g&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let g="";this.priorityNode_.isEmpty()||(g+="priority:"+Di(this.priorityNode_.val())+":");const I=typeof this.value_;g+=I+":",g+="number"===I?Et(this.value_):this.value_,this.lazyHash_=an(g)}return this.lazyHash_}getValue(){return this.value_}compareTo(g){return g===y.__childrenNodeConstructor.EMPTY_NODE?1:g instanceof y.__childrenNodeConstructor?-1:((0,ne.hu)(g.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(g))}compareToLeafNode_(g){const I=typeof g.value_,L=typeof this.value_,K=y.VALUE_TYPE_ORDER.indexOf(I),se=y.VALUE_TYPE_ORDER.indexOf(L);return(0,ne.hu)(K>=0,"Unknown leaf type: "+I),(0,ne.hu)(se>=0,"Unknown leaf type: "+L),K===se?"object"===L?0:this.value_<g.value_?-1:this.value_===g.value_?0:1:se-K}withIndex(){return this}isIndexed(){return!0}equals(g){return g===this||!!g.isLeafNode()&&(this.value_===g.value_&&this.priorityNode_.equals(g.priorityNode_))}}return y.VALUE_TYPE_ORDER=["object","boolean","number","string"],y})();const Or=new class fo extends ls{compare(p,g){const I=p.node.getPriority(),L=g.node.getPriority(),K=I.compareTo(L);return 0===K?Yn(p.name,g.name):K}isDefinedOn(p){return!p.getPriority().isEmpty()}indexedValueChanged(p,g){return!p.getPriority().equals(g.getPriority())}minPost(){return Pr.MIN}maxPost(){return new Pr(mn,new Os("[PRIORITY-POST]",vr))}makePost(p,g){const I=Ho(p);return new Pr(g,new Os("[PRIORITY-POST]",I))}toString(){return".priority"}},ma=Math.log(2);class Ls{constructor(p){this.count=parseInt(Math.log(p+1)/ma,10),this.current_=this.count-1;const L=(K=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=p+1&L}nextBitIsOne(){const p=!(this.bits_&1<<this.current_);return this.current_--,p}}const Es=function(y,p,g,I){y.sort(p);const L=function(je,Xe){const Jt=Xe-je;let Xt,hn;if(0===Jt)return null;if(1===Jt)return Xt=y[je],hn=g?g(Xt):Xt,new Oi(hn,Xt.node,Oi.BLACK,null,null);{const wr=parseInt(Jt/2,10)+je,Wr=L(je,wr),Ps=L(wr+1,Xe);return Xt=y[wr],hn=g?g(Xt):Xt,new Oi(hn,Xt.node,Oi.BLACK,Wr,Ps)}},De=function(je){let Xe=null,Jt=null,Xt=y.length;const hn=function(Wr,Ps){const Wa=Xt-Wr,Ru=Xt;Xt-=Wr;const Uh=L(Wa+1,Ru),Td=y[Wa],Qg=g?g(Td):Td;wr(new Oi(Qg,Td.node,Ps,null,Uh))},wr=function(Wr){Xe?(Xe.left=Wr,Xe=Wr):(Jt=Wr,Xe=Wr)};for(let Wr=0;Wr<je.count;++Wr){const Ps=je.nextBitIsOne(),Wa=Math.pow(2,je.count-(Wr+1));Ps?hn(Wa,Oi.BLACK):(hn(Wa,Oi.BLACK),hn(Wa,Oi.RED))}return Jt}(new Ls(y.length));return new pn(I||p,De)};let Ss;const _a={};class eo{constructor(p,g){this.indexes_=p,this.indexSet_=g}static get Default(){return(0,ne.hu)(_a&&Or,"ChildrenNode.ts has not been loaded"),Ss=Ss||new eo({".priority":_a},{".priority":Or}),Ss}get(p){const g=(0,ne.DV)(this.indexes_,p);if(!g)throw new Error("No index defined for "+p);return g instanceof pn?g:null}hasIndex(p){return(0,ne.r3)(this.indexSet_,p.toString())}addIndex(p,g){(0,ne.hu)(p!==Bi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const I=[];let L=!1;const K=g.getIterator(Pr.Wrap);let De,se=K.getNext();for(;se;)L=L||p.isDefinedOn(se.node),I.push(se),se=K.getNext();De=L?Es(I,p.getCompare()):_a;const je=p.toString(),Xe=Object.assign({},this.indexSet_);Xe[je]=p;const Jt=Object.assign({},this.indexes_);return Jt[je]=De,new eo(Jt,Xe)}addToIndexes(p,g){const I=(0,ne.UI)(this.indexes_,(L,K)=>{const se=(0,ne.DV)(this.indexSet_,K);if((0,ne.hu)(se,"Missing index implementation for "+K),L===_a){if(se.isDefinedOn(p.node)){const De=[],je=g.getIterator(Pr.Wrap);let Xe=je.getNext();for(;Xe;)Xe.name!==p.name&&De.push(Xe),Xe=je.getNext();return De.push(p),Es(De,se.getCompare())}return _a}{const De=g.get(p.name);let je=L;return De&&(je=je.remove(new Pr(p.name,De))),je.insert(p,p.node)}});return new eo(I,this.indexSet_)}removeFromIndexes(p,g){const I=(0,ne.UI)(this.indexes_,L=>{if(L===_a)return L;{const K=g.get(p.name);return K?L.remove(new Pr(p.name,K)):L}});return new eo(I,this.indexSet_)}}let Vs,Cr=(()=>{class y{constructor(g,I,L){this.children_=g,this.priorityNode_=I,this.indexMap_=L,this.lazyHash_=null,this.priorityNode_&&ho(this.priorityNode_),this.children_.isEmpty()&&(0,ne.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vs||(Vs=new y(new pn(mi),null,eo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vs}updatePriority(g){return this.children_.isEmpty()?this:new y(this.children_,g,this.indexMap_)}getImmediateChild(g){if(".priority"===g)return this.getPriority();{const I=this.children_.get(g);return null===I?Vs:I}}getChild(g){const I=jr(g);return null===I?this:this.getImmediateChild(I).getChild(xi(g))}hasChild(g){return null!==this.children_.get(g)}updateImmediateChild(g,I){if((0,ne.hu)(I,"We should always be passing snapshot nodes"),".priority"===g)return this.updatePriority(I);{const L=new Pr(g,I);let K,se;I.isEmpty()?(K=this.children_.remove(g),se=this.indexMap_.removeFromIndexes(L,this.children_)):(K=this.children_.insert(g,I),se=this.indexMap_.addToIndexes(L,this.children_));const De=K.isEmpty()?Vs:this.priorityNode_;return new y(K,De,se)}}updateChild(g,I){const L=jr(g);if(null===L)return I;{(0,ne.hu)(".priority"!==jr(g)||1===ss(g),".priority must be the last token in a path");const K=this.getImmediateChild(L).updateChild(xi(g),I);return this.updateImmediateChild(L,K)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(g){if(this.isEmpty())return null;const I={};let L=0,K=0,se=!0;if(this.forEachChild(Or,(De,je)=>{I[De]=je.val(g),L++,se&&y.INTEGER_REGEXP_.test(De)?K=Math.max(K,Number(De)):se=!1}),!g&&se&&K<2*L){const De=[];for(const je in I)De[je]=I[je];return De}return g&&!this.getPriority().isEmpty()&&(I[".priority"]=this.getPriority().val()),I}hash(){if(null===this.lazyHash_){let g="";this.getPriority().isEmpty()||(g+="priority:"+Di(this.getPriority().val())+":"),this.forEachChild(Or,(I,L)=>{const K=L.hash();""!==K&&(g+=":"+I+":"+K)}),this.lazyHash_=""===g?"":an(g)}return this.lazyHash_}getPredecessorChildName(g,I,L){const K=this.resolveIndex_(L);if(K){const se=K.getPredecessorKey(new Pr(g,I));return se?se.name:null}return this.children_.getPredecessorKey(g)}getFirstChildName(g){const I=this.resolveIndex_(g);if(I){const L=I.minKey();return L&&L.name}return this.children_.minKey()}getFirstChild(g){const I=this.getFirstChildName(g);return I?new Pr(I,this.children_.get(I)):null}getLastChildName(g){const I=this.resolveIndex_(g);if(I){const L=I.maxKey();return L&&L.name}return this.children_.maxKey()}getLastChild(g){const I=this.getLastChildName(g);return I?new Pr(I,this.children_.get(I)):null}forEachChild(g,I){const L=this.resolveIndex_(g);return L?L.inorderTraversal(K=>I(K.name,K.node)):this.children_.inorderTraversal(I)}getIterator(g){return this.getIteratorFrom(g.minPost(),g)}getIteratorFrom(g,I){const L=this.resolveIndex_(I);if(L)return L.getIteratorFrom(g,K=>K);{const K=this.children_.getIteratorFrom(g.name,Pr.Wrap);let se=K.peek();for(;null!=se&&I.compare(se,g)<0;)K.getNext(),se=K.peek();return K}}getReverseIterator(g){return this.getReverseIteratorFrom(g.maxPost(),g)}getReverseIteratorFrom(g,I){const L=this.resolveIndex_(I);if(L)return L.getReverseIteratorFrom(g,K=>K);{const K=this.children_.getReverseIteratorFrom(g.name,Pr.Wrap);let se=K.peek();for(;null!=se&&I.compare(se,g)>0;)K.getNext(),se=K.peek();return K}}compareTo(g){return this.isEmpty()?g.isEmpty()?0:-1:g.isLeafNode()||g.isEmpty()?1:g===zr?-1:0}withIndex(g){if(g===Bi||this.indexMap_.hasIndex(g))return this;{const I=this.indexMap_.addIndex(g,this.children_);return new y(this.children_,this.priorityNode_,I)}}isIndexed(g){return g===Bi||this.indexMap_.hasIndex(g)}equals(g){if(g===this)return!0;if(g.isLeafNode())return!1;{const I=g;if(this.getPriority().equals(I.getPriority())){if(this.children_.count()===I.children_.count()){const L=this.getIterator(Or),K=I.getIterator(Or);let se=L.getNext(),De=K.getNext();for(;se&&De;){if(se.name!==De.name||!se.node.equals(De.node))return!1;se=L.getNext(),De=K.getNext()}return null===se&&null===De}return!1}return!1}}resolveIndex_(g){return g===Bi?null:this.indexMap_.get(g.toString())}}return y.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,y})();const zr=new class po extends Cr{constructor(){super(new pn(mi),Cr.EMPTY_NODE,eo.Default)}compareTo(p){return p===this?0:1}equals(p){return p===this}getPriority(){return this}getImmediateChild(p){return Cr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Pr,{MIN:{value:new Pr(jn,Cr.EMPTY_NODE)},MAX:{value:new Pr(mn,zr)}}),ha.__EMPTY_NODE=Cr.EMPTY_NODE,Os.__childrenNodeConstructor=Cr,function ia(y){Tr=y}(zr),function Ja(y){vr=y}(zr);const _l=!0;function Ui(y,p=null){if(null===y)return Cr.EMPTY_NODE;if("object"==typeof y&&".priority"in y&&(p=y[".priority"]),(0,ne.hu)(null===p||"string"==typeof p||"number"==typeof p||"object"==typeof p&&".sv"in p,"Invalid priority type found: "+typeof p),"object"==typeof y&&".value"in y&&null!==y[".value"]&&(y=y[".value"]),"object"!=typeof y||".sv"in y)return new Os(y,Ui(p));if(y instanceof Array||!_l){let g=Cr.EMPTY_NODE;return nt(y,(I,L)=>{if((0,ne.r3)(y,I)&&"."!==I.substring(0,1)){const K=Ui(L);(K.isLeafNode()||!K.isEmpty())&&(g=g.updateImmediateChild(I,K))}}),g.updatePriority(Ui(p))}{const g=[];let I=!1;if(nt(y,(se,De)=>{if("."!==se.substring(0,1)){const je=Ui(De);je.isEmpty()||(I=I||!je.getPriority().isEmpty(),g.push(new Pr(se,je)))}}),0===g.length)return Cr.EMPTY_NODE;const K=Es(g,Fr,se=>se.name,mi);if(I){const se=Es(g,Or.getCompare());return new Cr(K,Ui(p),new eo({".priority":se},{".priority":Or}))}return new Cr(K,Ui(p),eo.Default)}}!function No(y){Ho=y}(Ui);class La extends ls{constructor(p){super(),this.indexPath_=p,(0,ne.hu)(!Ut(p)&&".priority"!==jr(p),"Can't create PathIndex with empty path or .priority key")}extractChild(p){return p.getChild(this.indexPath_)}isDefinedOn(p){return!p.getChild(this.indexPath_).isEmpty()}compare(p,g){const I=this.extractChild(p.node),L=this.extractChild(g.node),K=I.compareTo(L);return 0===K?Yn(p.name,g.name):K}makePost(p,g){const I=Ui(p),L=Cr.EMPTY_NODE.updateChild(this.indexPath_,I);return new Pr(g,L)}maxPost(){const p=Cr.EMPTY_NODE.updateChild(this.indexPath_,zr);return new Pr(mn,p)}toString(){return qe(this.indexPath_,0).join("/")}}const Ds=new class to extends ls{compare(p,g){const I=p.node.compareTo(g.node);return 0===I?Yn(p.name,g.name):I}isDefinedOn(p){return!0}indexedValueChanged(p,g){return!p.equals(g)}minPost(){return Pr.MIN}maxPost(){return Pr.MAX}makePost(p,g){const I=Ui(p);return new Pr(g,I)}toString(){return".value"}};function ya(y){return{type:"value",snapshotNode:y}}function go(y,p){return{type:"child_added",snapshotNode:p,childName:y}}function os(y,p){return{type:"child_removed",snapshotNode:p,childName:y}}function va(y,p,g){return{type:"child_changed",snapshotNode:p,childName:y,oldSnap:g}}class Ii{constructor(p){this.index_=p}updateChild(p,g,I,L,K,se){(0,ne.hu)(p.isIndexed(this.index_),"A node must be indexed if only a child is updated");const De=p.getImmediateChild(g);return De.getChild(L).equals(I.getChild(L))&&De.isEmpty()===I.isEmpty()||(null!=se&&(I.isEmpty()?p.hasChild(g)?se.trackChildChange(os(g,De)):(0,ne.hu)(p.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):De.isEmpty()?se.trackChildChange(go(g,I)):se.trackChildChange(va(g,I,De))),p.isLeafNode()&&I.isEmpty())?p:p.updateImmediateChild(g,I).withIndex(this.index_)}updateFullNode(p,g,I){return null!=I&&(p.isLeafNode()||p.forEachChild(Or,(L,K)=>{g.hasChild(L)||I.trackChildChange(os(L,K))}),g.isLeafNode()||g.forEachChild(Or,(L,K)=>{if(p.hasChild(L)){const se=p.getImmediateChild(L);se.equals(K)||I.trackChildChange(va(L,K,se))}else I.trackChildChange(go(L,K))})),g.withIndex(this.index_)}updatePriority(p,g){return p.isEmpty()?Cr.EMPTY_NODE:p.updatePriority(g)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zo{constructor(p){this.indexedFilter_=new Ii(p.getIndex()),this.index_=p.getIndex(),this.startPost_=zo.getStartPost_(p),this.endPost_=zo.getEndPost_(p),this.startIsInclusive_=!p.startAfterSet_,this.endIsInclusive_=!p.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(p){const g=this.startIsInclusive_?this.index_.compare(this.getStartPost(),p)<=0:this.index_.compare(this.getStartPost(),p)<0,I=this.endIsInclusive_?this.index_.compare(p,this.getEndPost())<=0:this.index_.compare(p,this.getEndPost())<0;return g&&I}updateChild(p,g,I,L,K,se){return this.matches(new Pr(g,I))||(I=Cr.EMPTY_NODE),this.indexedFilter_.updateChild(p,g,I,L,K,se)}updateFullNode(p,g,I){g.isLeafNode()&&(g=Cr.EMPTY_NODE);let L=g.withIndex(this.index_);L=L.updatePriority(Cr.EMPTY_NODE);const K=this;return g.forEachChild(Or,(se,De)=>{K.matches(new Pr(se,De))||(L=L.updateImmediateChild(se,Cr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(p,L,I)}updatePriority(p,g){return p}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(p){if(p.hasStart()){const g=p.getIndexStartName();return p.getIndex().makePost(p.getIndexStartValue(),g)}return p.getIndex().minPost()}static getEndPost_(p){if(p.hasEnd()){const g=p.getIndexEndName();return p.getIndex().makePost(p.getIndexEndValue(),g)}return p.getIndex().maxPost()}}class no{constructor(p){this.withinDirectionalStart=g=>this.reverse_?this.withinEndPost(g):this.withinStartPost(g),this.withinDirectionalEnd=g=>this.reverse_?this.withinStartPost(g):this.withinEndPost(g),this.withinStartPost=g=>{const I=this.index_.compare(this.rangedFilter_.getStartPost(),g);return this.startIsInclusive_?I<=0:I<0},this.withinEndPost=g=>{const I=this.index_.compare(g,this.rangedFilter_.getEndPost());return this.endIsInclusive_?I<=0:I<0},this.rangedFilter_=new zo(p),this.index_=p.getIndex(),this.limit_=p.getLimit(),this.reverse_=!p.isViewFromLeft(),this.startIsInclusive_=!p.startAfterSet_,this.endIsInclusive_=!p.endBeforeSet_}updateChild(p,g,I,L,K,se){return this.rangedFilter_.matches(new Pr(g,I))||(I=Cr.EMPTY_NODE),p.getImmediateChild(g).equals(I)?p:p.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(p,g,I,L,K,se):this.fullLimitUpdateChild_(p,g,I,K,se)}updateFullNode(p,g,I){let L;if(g.isLeafNode()||g.isEmpty())L=Cr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<g.numChildren()&&g.isIndexed(this.index_)){let K;L=Cr.EMPTY_NODE.withIndex(this.index_),K=this.reverse_?g.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):g.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let se=0;for(;K.hasNext()&&se<this.limit_;){const De=K.getNext();if(this.withinDirectionalStart(De)){if(!this.withinDirectionalEnd(De))break;L=L.updateImmediateChild(De.name,De.node),se++}}}else{let K;L=g.withIndex(this.index_),L=L.updatePriority(Cr.EMPTY_NODE),K=this.reverse_?L.getReverseIterator(this.index_):L.getIterator(this.index_);let se=0;for(;K.hasNext();){const De=K.getNext();se<this.limit_&&this.withinDirectionalStart(De)&&this.withinDirectionalEnd(De)?se++:L=L.updateImmediateChild(De.name,Cr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(p,L,I)}updatePriority(p,g){return p}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(p,g,I,L,K){let se;if(this.reverse_){const Xt=this.index_.getCompare();se=(hn,wr)=>Xt(wr,hn)}else se=this.index_.getCompare();const De=p;(0,ne.hu)(De.numChildren()===this.limit_,"");const je=new Pr(g,I),Xe=this.reverse_?De.getFirstChild(this.index_):De.getLastChild(this.index_),Jt=this.rangedFilter_.matches(je);if(De.hasChild(g)){const Xt=De.getImmediateChild(g);let hn=L.getChildAfterChild(this.index_,Xe,this.reverse_);for(;null!=hn&&(hn.name===g||De.hasChild(hn.name));)hn=L.getChildAfterChild(this.index_,hn,this.reverse_);const wr=null==hn?1:se(hn,je);if(Jt&&!I.isEmpty()&&wr>=0)return K?.trackChildChange(va(g,I,Xt)),De.updateImmediateChild(g,I);{K?.trackChildChange(os(g,Xt));const Ps=De.updateImmediateChild(g,Cr.EMPTY_NODE);return null!=hn&&this.rangedFilter_.matches(hn)?(K?.trackChildChange(go(hn.name,hn.node)),Ps.updateImmediateChild(hn.name,hn.node)):Ps}}return I.isEmpty()?p:Jt&&se(Xe,je)>=0?(null!=K&&(K.trackChildChange(os(Xe.name,Xe.node)),K.trackChildChange(go(g,I))),De.updateImmediateChild(g,I).updateImmediateChild(Xe.name,Cr.EMPTY_NODE)):p}}class Ci{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Or}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ne.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ne.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:jn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ne.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ne.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ne.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Or}copy(){const p=new Ci;return p.limitSet_=this.limitSet_,p.limit_=this.limit_,p.startSet_=this.startSet_,p.startAfterSet_=this.startAfterSet_,p.indexStartValue_=this.indexStartValue_,p.startNameSet_=this.startNameSet_,p.indexStartName_=this.indexStartName_,p.endSet_=this.endSet_,p.endBeforeSet_=this.endBeforeSet_,p.indexEndValue_=this.indexEndValue_,p.endNameSet_=this.endNameSet_,p.indexEndName_=this.indexEndName_,p.index_=this.index_,p.viewFrom_=this.viewFrom_,p}}function xa(y,p,g){const I=y.copy();return I.startSet_=!0,void 0===p&&(p=null),I.indexStartValue_=p,null!=g?(I.startNameSet_=!0,I.indexStartName_=g):(I.startNameSet_=!1,I.indexStartName_=""),I}function Xa(y,p,g){const I=y.copy();return I.endSet_=!0,void 0===p&&(p=null),I.indexEndValue_=p,void 0!==g?(I.endNameSet_=!0,I.indexEndName_=g):(I.endNameSet_=!1,I.indexEndName_=""),I}function fa(y,p){const g=y.copy();return g.index_=p,g}function Wo(y){const p={};if(y.isDefault())return p;let g;if(y.index_===Or?g="$priority":y.index_===Ds?g="$value":y.index_===Bi?g="$key":((0,ne.hu)(y.index_ instanceof La,"Unrecognized index type!"),g=y.index_.toString()),p.orderBy=(0,ne.Wl)(g),y.startSet_){const I=y.startAfterSet_?"startAfter":"startAt";p[I]=(0,ne.Wl)(y.indexStartValue_),y.startNameSet_&&(p[I]+=","+(0,ne.Wl)(y.indexStartName_))}if(y.endSet_){const I=y.endBeforeSet_?"endBefore":"endAt";p[I]=(0,ne.Wl)(y.indexEndValue_),y.endNameSet_&&(p[I]+=","+(0,ne.Wl)(y.indexEndName_))}return y.limitSet_&&(y.isViewFromLeft()?p.limitToFirst=y.limit_:p.limitToLast=y.limit_),p}function kl(y){const p={};if(y.startSet_&&(p.sp=y.indexStartValue_,y.startNameSet_&&(p.sn=y.indexStartName_),p.sin=!y.startAfterSet_),y.endSet_&&(p.ep=y.indexEndValue_,y.endNameSet_&&(p.en=y.indexEndName_),p.ein=!y.endBeforeSet_),y.limitSet_){p.l=y.limit_;let g=y.viewFrom_;""===g&&(g=y.isViewFromLeft()?"l":"r"),p.vf=g}return y.index_!==Or&&(p.i=y.index_.toString()),p}class pa extends Ts{constructor(p,g,I,L){super(),this.repoInfo_=p,this.onDataUpdate_=g,this.authTokenProvider_=I,this.appCheckTokenProvider_=L,this.log_=pt("p:rest:"),this.listens_={}}reportStats(p){throw new Error("Method not implemented.")}static getListenId_(p,g){return void 0!==g?"tag$"+g:((0,ne.hu)(p._queryParams.isDefault(),"should have a tag if it's not a default query."),p._path.toString())}listen(p,g,I,L){const K=p._path.toString();this.log_("Listen called for "+K+" "+p._queryIdentifier);const se=pa.getListenId_(p,I),De={};this.listens_[se]=De;const je=Wo(p._queryParams);this.restRequest_(K+".json",je,(Xe,Jt)=>{let Xt=Jt;if(404===Xe&&(Xt=null,Xe=null),null===Xe&&this.onDataUpdate_(K,Xt,!1,I),(0,ne.DV)(this.listens_,se)===De){let hn;hn=Xe?401===Xe?"permission_denied":"rest_error:"+Xe:"ok",L(hn,null)}})}unlisten(p,g){const I=pa.getListenId_(p,g);delete this.listens_[I]}get(p){const g=Wo(p._queryParams),I=p._path.toString(),L=new ne.BH;return this.restRequest_(I+".json",g,(K,se)=>{let De=se;404===K&&(De=null,K=null),null===K?(this.onDataUpdate_(I,De,!1,null),L.resolve(De)):L.reject(new Error(De))}),L.promise}refreshAuthToken(p){}restRequest_(p,g={},I){return g.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([L,K])=>{L&&L.accessToken&&(g.auth=L.accessToken),K&&K.token&&(g.ac=K.token);const se=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+p+"?ns="+this.repoInfo_.namespace+(0,ne.xO)(g);this.log_("Sending REST request for "+se);const De=new XMLHttpRequest;De.onreadystatechange=()=>{if(I&&4===De.readyState){this.log_("REST Response for "+se+" received. status:",De.status,"response:",De.responseText);let je=null;if(De.status>=200&&De.status<300){try{je=(0,ne.cI)(De.responseText)}catch{Oe("Failed to parse JSON response for "+se+": "+De.responseText)}I(null,je)}else 401!==De.status&&404!==De.status&&Oe("Got unsuccessful REST response for "+se+" Status: "+De.status),I(De.status);I=null}},De.open("GET",se,!0),De.send()})}}class $i{constructor(){this.rootNode_=Cr.EMPTY_NODE}getNode(p){return this.rootNode_.getChild(p)}updateSnapshot(p,g){this.rootNode_=this.rootNode_.updateChild(p,g)}}function To(){return{value:null,children:new Map}}function mo(y,p,g){if(Ut(p))y.value=g,y.children.clear();else if(null!==y.value)y.value=y.value.updateChild(p,g);else{const I=jr(p);y.children.has(I)||y.children.set(I,To()),mo(y.children.get(I),p=xi(p),g)}}function te(y,p){if(Ut(p))return y.value=null,y.children.clear(),!0;if(null!==y.value){if(y.value.isLeafNode())return!1;{const g=y.value;return y.value=null,g.forEachChild(Or,(I,L)=>{mo(y,new Br(I),L)}),te(y,p)}}if(y.children.size>0){const g=jr(p);return p=xi(p),y.children.has(g)&&te(y.children.get(g),p)&&y.children.delete(g),0===y.children.size}return!0}function Z(y,p,g){null!==y.value?g(p,y.value):function be(y,p){y.children.forEach((g,I)=>{p(I,g)})}(y,(I,L)=>{Z(L,new Br(p.toString()+"/"+I),g)})}class ee{constructor(p){this.collection_=p,this.last_=null}get(){const p=this.collection_.get(),g=Object.assign({},p);return this.last_&&nt(this.last_,(I,L)=>{g[I]=g[I]-L}),this.last_=p,g}}class Cs{constructor(p,g){this.server_=g,this.statsToReport_={},this.statsListener_=new ee(p);const I=1e4+2e4*Math.random();Mr(this.reportStats_.bind(this),Math.floor(I))}reportStats_(){const p=this.statsListener_.get(),g={};let I=!1;nt(p,(L,K)=>{K>0&&(0,ne.r3)(this.statsToReport_,L)&&(g[L]=K,I=!0)}),I&&this.server_.reportStats(g),Mr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ni=function(y){return y[y.OVERWRITE=0]="OVERWRITE",y[y.MERGE=1]="MERGE",y[y.ACK_USER_WRITE=2]="ACK_USER_WRITE",y[y.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",y}(Ni||{});function Hs(y){return{fromUser:!1,fromServer:!0,queryId:y,tagged:!0}}class Ba{constructor(p,g,I){this.path=p,this.affectedTree=g,this.revert=I,this.type=Ni.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(p){if(Ut(this.path)){if(null!=this.affectedTree.value)return(0,ne.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const g=this.affectedTree.subtree(new Br(p));return new Ba(Un(),g,this.revert)}}return(0,ne.hu)(jr(this.path)===p,"operationForChild called for unrelated child."),new Ba(xi(this.path),this.affectedTree,this.revert)}}class ro{constructor(p,g){this.source=p,this.path=g,this.type=Ni.LISTEN_COMPLETE}operationForChild(p){return Ut(this.path)?new ro(this.source,Un()):new ro(this.source,xi(this.path))}}class ts{constructor(p,g,I){this.source=p,this.path=g,this.snap=I,this.type=Ni.OVERWRITE}operationForChild(p){return Ut(this.path)?new ts(this.source,Un(),this.snap.getImmediateChild(p)):new ts(this.source,xi(this.path),this.snap)}}class sa{constructor(p,g,I){this.source=p,this.path=g,this.children=I,this.type=Ni.MERGE}operationForChild(p){if(Ut(this.path)){const g=this.children.subtree(new Br(p));return g.isEmpty()?null:g.value?new ts(this.source,Un(),g.value):new sa(this.source,Un(),g)}return(0,ne.hu)(jr(this.path)===p,"Can't get a merge for a child not on the path of the operation"),new sa(this.source,xi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class cs{constructor(p,g,I){this.node_=p,this.fullyInitialized_=g,this.filtered_=I}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(p){if(Ut(p))return this.isFullyInitialized()&&!this.filtered_;const g=jr(p);return this.isCompleteForChild(g)}isCompleteForChild(p){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(p)}getNode(){return this.node_}}class ga{constructor(p){this.query_=p,this.index_=this.query_._queryParams.getIndex()}}function Ua(y,p,g,I,L,K){const se=I.filter(De=>De.type===g);se.sort((De,je)=>function ja(y,p,g){if(null==p.childName||null==g.childName)throw(0,ne.g5)("Should only compare child_ events.");const I=new Pr(p.childName,p.snapshotNode),L=new Pr(g.childName,g.snapshotNode);return y.index_.compare(I,L)}(y,De,je)),se.forEach(De=>{const je=function wa(y,p,g){return"value"===p.type||"child_removed"===p.type||(p.prevName=g.getPredecessorChildName(p.childName,p.snapshotNode,y.index_)),p}(y,De,K);L.forEach(Xe=>{Xe.respondsTo(De.type)&&p.push(Xe.createEvent(je,y.query_))})})}function Oa(y,p){return{eventCache:y,serverCache:p}}function al(y,p,g,I){return Oa(new cs(p,g,I),y.serverCache)}function Ms(y,p,g,I){return Oa(y.eventCache,new cs(p,g,I))}function bl(y){return y.eventCache.isFullyInitialized()?y.eventCache.getNode():null}function As(y){return y.serverCache.isFullyInitialized()?y.serverCache.getNode():null}let Il;class di{constructor(p,g=(()=>(Il||(Il=new pn(yr)),Il))()){this.value=p,this.children=g}static fromObject(p){let g=new di(null);return nt(p,(I,L)=>{g=g.set(new Br(I),L)}),g}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(p,g){if(null!=this.value&&g(this.value))return{path:Un(),value:this.value};if(Ut(p))return null;{const I=jr(p),L=this.children.get(I);if(null!==L){const K=L.findRootMostMatchingPathAndValue(xi(p),g);return null!=K?{path:Ft(new Br(I),K.path),value:K.value}:null}return null}}findRootMostValueAndPath(p){return this.findRootMostMatchingPathAndValue(p,()=>!0)}subtree(p){if(Ut(p))return this;{const g=jr(p),I=this.children.get(g);return null!==I?I.subtree(xi(p)):new di(null)}}set(p,g){if(Ut(p))return new di(g,this.children);{const I=jr(p),K=(this.children.get(I)||new di(null)).set(xi(p),g),se=this.children.insert(I,K);return new di(this.value,se)}}remove(p){if(Ut(p))return this.children.isEmpty()?new di(null):new di(null,this.children);{const g=jr(p),I=this.children.get(g);if(I){const L=I.remove(xi(p));let K;return K=L.isEmpty()?this.children.remove(g):this.children.insert(g,L),null===this.value&&K.isEmpty()?new di(null):new di(this.value,K)}return this}}get(p){if(Ut(p))return this.value;{const g=jr(p),I=this.children.get(g);return I?I.get(xi(p)):null}}setTree(p,g){if(Ut(p))return g;{const I=jr(p),K=(this.children.get(I)||new di(null)).setTree(xi(p),g);let se;return se=K.isEmpty()?this.children.remove(I):this.children.insert(I,K),new di(this.value,se)}}fold(p){return this.fold_(Un(),p)}fold_(p,g){const I={};return this.children.inorderTraversal((L,K)=>{I[L]=K.fold_(Ft(p,L),g)}),g(p,this.value,I)}findOnPath(p,g){return this.findOnPath_(p,Un(),g)}findOnPath_(p,g,I){const L=!!this.value&&I(g,this.value);if(L)return L;if(Ut(p))return null;{const K=jr(p),se=this.children.get(K);return se?se.findOnPath_(xi(p),Ft(g,K),I):null}}foreachOnPath(p,g){return this.foreachOnPath_(p,Un(),g)}foreachOnPath_(p,g,I){if(Ut(p))return this;{this.value&&I(g,this.value);const L=jr(p),K=this.children.get(L);return K?K.foreachOnPath_(xi(p),Ft(g,L),I):new di(null)}}foreach(p){this.foreach_(Un(),p)}foreach_(p,g){this.children.inorderTraversal((I,L)=>{L.foreach_(Ft(p,I),g)}),this.value&&g(p,this.value)}foreachChild(p){this.children.inorderTraversal((g,I)=>{I.value&&p(g,I.value)})}}class zs{constructor(p){this.writeTree_=p}static empty(){return new zs(new di(null))}}function qo(y,p,g){if(Ut(p))return new zs(new di(g));{const I=y.writeTree_.findRootMostValueAndPath(p);if(null!=I){const L=I.path;let K=I.value;const se=Hn(L,p);return K=K.updateChild(se,g),new zs(y.writeTree_.set(L,K))}{const L=new di(g),K=y.writeTree_.setTree(p,L);return new zs(K)}}}function Fl(y,p,g){let I=y;return nt(g,(L,K)=>{I=qo(I,Ft(p,L),K)}),I}function Mi(y,p){if(Ut(p))return zs.empty();{const g=y.writeTree_.setTree(p,new di(null));return new zs(g)}}function $a(y,p){return null!=oa(y,p)}function oa(y,p){const g=y.writeTree_.findRootMostValueAndPath(p);return null!=g?y.writeTree_.get(g.path).getChild(Hn(g.path,p)):null}function Ma(y){const p=[],g=y.writeTree_.value;return null!=g?g.isLeafNode()||g.forEachChild(Or,(I,L)=>{p.push(new Pr(I,L))}):y.writeTree_.children.inorderTraversal((I,L)=>{null!=L.value&&p.push(new Pr(I,L.value))}),p}function aa(y,p){if(Ut(p))return y;{const g=oa(y,p);return new zs(null!=g?new di(g):y.writeTree_.subtree(p))}}function Yl(y){return y.writeTree_.isEmpty()}function Fo(y,p){return Ll(Un(),y.writeTree_,p)}function Ll(y,p,g){if(null!=p.value)return g.updateChild(y,p.value);{let I=null;return p.children.inorderTraversal((L,K)=>{".priority"===L?((0,ne.hu)(null!==K.value,"Priority writes must always be leaf nodes"),I=K.value):g=Ll(Ft(y,L),K,g)}),!g.getChild(y).isEmpty()&&null!==I&&(g=g.updateChild(Ft(y,".priority"),I)),g}}function ll(y,p){return Sr(p,y)}function V(y,p){if(y.snap)return Ar(y.path,p);for(const g in y.children)if(y.children.hasOwnProperty(g)&&Ar(Ft(y.path,g),p))return!0;return!1}function Pe(y){return y.visible}function Q(y,p,g){let I=zs.empty();for(let L=0;L<y.length;++L){const K=y[L];if(p(K)){const se=K.path;let De;if(K.snap)Ar(g,se)?(De=Hn(g,se),I=qo(I,De,K.snap)):Ar(se,g)&&(De=Hn(se,g),I=qo(I,Un(),K.snap.getChild(De)));else{if(!K.children)throw(0,ne.g5)("WriteRecord should have .snap or .children");if(Ar(g,se))De=Hn(g,se),I=Fl(I,De,K.children);else if(Ar(se,g))if(De=Hn(se,g),Ut(De))I=Fl(I,Un(),K.children);else{const je=(0,ne.DV)(K.children,jr(De));if(je){const Xe=je.getChild(xi(De));I=qo(I,Un(),Xe)}}}}}return I}function Se(y,p,g,I,L){if(I||L){const K=aa(y.visibleWrites,p);return!L&&Yl(K)?g:L||null!=g||$a(K,Un())?Fo(Q(y.allWrites,function(Xe){return(Xe.visible||L)&&(!I||!~I.indexOf(Xe.writeId))&&(Ar(Xe.path,p)||Ar(p,Xe.path))},p),g||Cr.EMPTY_NODE):null}{const K=oa(y.visibleWrites,p);if(null!=K)return K;{const se=aa(y.visibleWrites,p);return Yl(se)?g:null!=g||$a(se,Un())?Fo(se,g||Cr.EMPTY_NODE):null}}}function et(y,p,g,I){return Se(y.writeTree,y.treePath,p,g,I)}function xt(y,p){return function $(y,p,g){let I=Cr.EMPTY_NODE;const L=oa(y.visibleWrites,p);if(L)return L.isLeafNode()||L.forEachChild(Or,(K,se)=>{I=I.updateImmediateChild(K,se)}),I;if(g){const K=aa(y.visibleWrites,p);return g.forEachChild(Or,(se,De)=>{const je=Fo(aa(K,new Br(se)),De);I=I.updateImmediateChild(se,je)}),Ma(K).forEach(se=>{I=I.updateImmediateChild(se.name,se.node)}),I}return Ma(aa(y.visibleWrites,p)).forEach(se=>{I=I.updateImmediateChild(se.name,se.node)}),I}(y.writeTree,y.treePath,p)}function Ot(y,p,g,I){return function re(y,p,g,I,L){(0,ne.hu)(I||L,"Either existingEventSnap or existingServerSnap must exist");const K=Ft(p,g);if($a(y.visibleWrites,K))return null;{const se=aa(y.visibleWrites,K);return Yl(se)?L.getChild(g):Fo(se,L.getChild(g))}}(y.writeTree,y.treePath,p,g,I)}function In(y,p){return function _e(y,p){return oa(y.visibleWrites,p)}(y.writeTree,Ft(y.treePath,p))}function Kn(y,p,g){return function he(y,p,g,I){const L=Ft(p,g),K=oa(y.visibleWrites,L);return null!=K?K:I.isCompleteForChild(g)?Fo(aa(y.visibleWrites,L),I.getNode().getImmediateChild(g)):null}(y.writeTree,y.treePath,p,g)}function Vn(y,p){return Sr(Ft(y.treePath,p),y.writeTree)}function Sr(y,p){return{treePath:y,writeTree:p}}class $r{constructor(){this.changeMap=new Map}trackChildChange(p){const g=p.type,I=p.childName;(0,ne.hu)("child_added"===g||"child_changed"===g||"child_removed"===g,"Only child changes supported for tracking"),(0,ne.hu)(".priority"!==I,"Only non-priority child changes can be tracked.");const L=this.changeMap.get(I);if(L){const K=L.type;if("child_added"===g&&"child_removed"===K)this.changeMap.set(I,va(I,p.snapshotNode,L.snapshotNode));else if("child_removed"===g&&"child_added"===K)this.changeMap.delete(I);else if("child_removed"===g&&"child_changed"===K)this.changeMap.set(I,os(I,L.oldSnap));else if("child_changed"===g&&"child_added"===K)this.changeMap.set(I,go(I,p.snapshotNode));else{if("child_changed"!==g||"child_changed"!==K)throw(0,ne.g5)("Illegal combination of changes: "+p+" occurred after "+L);this.changeMap.set(I,va(I,p.snapshotNode,L.oldSnap))}}else this.changeMap.set(I,p)}getChanges(){return Array.from(this.changeMap.values())}}const Ws=new class ps{getCompleteChild(p){return null}getChildAfterChild(p,g,I){return null}};class Bt{constructor(p,g,I=null){this.writes_=p,this.viewCache_=g,this.optCompleteServerCache_=I}getCompleteChild(p){const g=this.viewCache_.eventCache;if(g.isCompleteForChild(p))return g.getNode().getImmediateChild(p);{const I=null!=this.optCompleteServerCache_?new cs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Kn(this.writes_,p,I)}}getChildAfterChild(p,g,I){const L=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:As(this.viewCache_),K=function xn(y,p,g,I,L,K){return function Ce(y,p,g,I,L,K,se){let De;const je=aa(y.visibleWrites,p),Xe=oa(je,Un());if(null!=Xe)De=Xe;else{if(null==g)return[];De=Fo(je,g)}if(De=De.withIndex(se),De.isEmpty()||De.isLeafNode())return[];{const Jt=[],Xt=se.getCompare(),hn=K?De.getReverseIteratorFrom(I,se):De.getIteratorFrom(I,se);let wr=hn.getNext();for(;wr&&Jt.length<L;)0!==Xt(wr,I)&&Jt.push(wr),wr=hn.getNext();return Jt}}(y.writeTree,y.treePath,p,g,I,L,K)}(this.writes_,L,g,1,I,p);return 0===K.length?null:K[0]}}function lr(y,p,g,I,L,K){const se=p.eventCache;if(null!=In(I,g))return p;{let De,je;if(Ut(g))if((0,ne.hu)(p.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),p.serverCache.isFiltered()){const Xe=As(p),Xt=xt(I,Xe instanceof Cr?Xe:Cr.EMPTY_NODE);De=y.filter.updateFullNode(p.eventCache.getNode(),Xt,K)}else{const Xe=et(I,As(p));De=y.filter.updateFullNode(p.eventCache.getNode(),Xe,K)}else{const Xe=jr(g);if(".priority"===Xe){(0,ne.hu)(1===ss(g),"Can't have a priority with additional path components");const Jt=se.getNode();je=p.serverCache.getNode();const Xt=Ot(I,g,Jt,je);De=null!=Xt?y.filter.updatePriority(Jt,Xt):se.getNode()}else{const Jt=xi(g);let Xt;if(se.isCompleteForChild(Xe)){je=p.serverCache.getNode();const hn=Ot(I,g,se.getNode(),je);Xt=null!=hn?se.getNode().getImmediateChild(Xe).updateChild(Jt,hn):se.getNode().getImmediateChild(Xe)}else Xt=Kn(I,Xe,p.serverCache);De=null!=Xt?y.filter.updateChild(se.getNode(),Xe,Xt,Jt,L,K):se.getNode()}}return al(p,De,se.isFullyInitialized()||Ut(g),y.filter.filtersNodes())}}function gs(y,p,g,I,L,K,se,De){const je=p.serverCache;let Xe;const Jt=se?y.filter:y.filter.getIndexedFilter();if(Ut(g))Xe=Jt.updateFullNode(je.getNode(),I,null);else if(Jt.filtersNodes()&&!je.isFiltered()){const wr=je.getNode().updateChild(g,I);Xe=Jt.updateFullNode(je.getNode(),wr,null)}else{const wr=jr(g);if(!je.isCompleteForPath(g)&&ss(g)>1)return p;const Wr=xi(g),Wa=je.getNode().getImmediateChild(wr).updateChild(Wr,I);Xe=".priority"===wr?Jt.updatePriority(je.getNode(),Wa):Jt.updateChild(je.getNode(),wr,Wa,Wr,Ws,null)}const Xt=Ms(p,Xe,je.isFullyInitialized()||Ut(g),Jt.filtersNodes());return lr(y,Xt,g,L,new Bt(L,Xt,K),De)}function yn(y,p,g,I,L,K,se){const De=p.eventCache;let je,Xe;const Jt=new Bt(L,p,K);if(Ut(g))Xe=y.filter.updateFullNode(p.eventCache.getNode(),I,se),je=al(p,Xe,!0,y.filter.filtersNodes());else{const Xt=jr(g);if(".priority"===Xt)Xe=y.filter.updatePriority(p.eventCache.getNode(),I),je=al(p,Xe,De.isFullyInitialized(),De.isFiltered());else{const hn=xi(g),wr=De.getNode().getImmediateChild(Xt);let Wr;if(Ut(hn))Wr=I;else{const Ps=Jt.getCompleteChild(Xt);Wr=null!=Ps?".priority"===sl(hn)&&Ps.getChild(vt(hn)).isEmpty()?Ps:Ps.updateChild(hn,I):Cr.EMPTY_NODE}je=wr.equals(Wr)?p:al(p,y.filter.updateChild(De.getNode(),Xt,Wr,hn,Jt,se),De.isFullyInitialized(),y.filter.filtersNodes())}}return je}function Pt(y,p){return y.eventCache.isCompleteForChild(p)}function So(y,p,g){return g.foreach((I,L)=>{p=p.updateChild(I,L)}),p}function tl(y,p,g,I,L,K,se,De){if(p.serverCache.getNode().isEmpty()&&!p.serverCache.isFullyInitialized())return p;let Xe,je=p;Xe=Ut(g)?I:new di(null).setTree(g,I);const Jt=p.serverCache.getNode();return Xe.children.inorderTraversal((Xt,hn)=>{if(Jt.hasChild(Xt)){const Wr=So(0,p.serverCache.getNode().getImmediateChild(Xt),hn);je=gs(y,je,new Br(Xt),Wr,L,K,se,De)}}),Xe.children.inorderTraversal((Xt,hn)=>{const wr=!p.serverCache.isCompleteForChild(Xt)&&null===hn.value;if(!Jt.hasChild(Xt)&&!wr){const Ps=So(0,p.serverCache.getNode().getImmediateChild(Xt),hn);je=gs(y,je,new Br(Xt),Ps,L,K,se,De)}}),je}class Do{constructor(p,g){this.query_=p,this.eventRegistrations_=[];const I=this.query_._queryParams,L=new Ii(I.getIndex()),K=function Bs(y){return y.loadsAllData()?new Ii(y.getIndex()):y.hasLimit()?new no(y):new zo(y)}(I);this.processor_=function ci(y){return{filter:y}}(K);const se=g.serverCache,De=g.eventCache,je=L.updateFullNode(Cr.EMPTY_NODE,se.getNode(),null),Xe=K.updateFullNode(Cr.EMPTY_NODE,De.getNode(),null),Jt=new cs(je,se.isFullyInitialized(),L.filtersNodes()),Xt=new cs(Xe,De.isFullyInitialized(),K.filtersNodes());this.viewCache_=Oa(Xt,Jt),this.eventGenerator_=new ga(this.query_)}get query(){return this.query_}}function oi(y,p){const g=As(y.viewCache_);return g&&(y.query._queryParams.loadsAllData()||!Ut(p)&&!g.getImmediateChild(jr(p)).isEmpty())?g.getChild(p):null}function oc(y){return 0===y.eventRegistrations_.length}function Mc(y,p,g){const I=[];if(g){(0,ne.hu)(null==p,"A cancel should cancel all event registrations.");const L=y.query._path;y.eventRegistrations_.forEach(K=>{const se=K.createCancelEvent(g,L);se&&I.push(se)})}if(p){let L=[];for(let K=0;K<y.eventRegistrations_.length;++K){const se=y.eventRegistrations_[K];if(se.matches(p)){if(p.hasAnyCallback()){L=L.concat(y.eventRegistrations_.slice(K+1));break}}else L.push(se)}y.eventRegistrations_=L}else y.eventRegistrations_=[];return I}function gr(y,p,g,I){p.type===Ni.MERGE&&null!==p.source.queryId&&((0,ne.hu)(As(y.viewCache_),"We should always have a full cache before handling merges"),(0,ne.hu)(bl(y.viewCache_),"Missing event cache, even though we have a server cache"));const L=y.viewCache_,K=function ns(y,p,g,I,L){const K=new $r;let se,De;if(g.type===Ni.OVERWRITE){const Xe=g;Xe.source.fromUser?se=yn(y,p,Xe.path,Xe.snap,I,L,K):((0,ne.hu)(Xe.source.fromServer,"Unknown source."),De=Xe.source.tagged||p.serverCache.isFiltered()&&!Ut(Xe.path),se=gs(y,p,Xe.path,Xe.snap,I,L,De,K))}else if(g.type===Ni.MERGE){const Xe=g;Xe.source.fromUser?se=function dn(y,p,g,I,L,K,se){let De=p;return I.foreach((je,Xe)=>{const Jt=Ft(g,je);Pt(p,jr(Jt))&&(De=yn(y,De,Jt,Xe,L,K,se))}),I.foreach((je,Xe)=>{const Jt=Ft(g,je);Pt(p,jr(Jt))||(De=yn(y,De,Jt,Xe,L,K,se))}),De}(y,p,Xe.path,Xe.children,I,L,K):((0,ne.hu)(Xe.source.fromServer,"Unknown source."),De=Xe.source.tagged||p.serverCache.isFiltered(),se=tl(y,p,Xe.path,Xe.children,I,L,De,K))}else if(g.type===Ni.ACK_USER_WRITE){const Xe=g;se=Xe.revert?function md(y,p,g,I,L,K){let se;if(null!=In(I,g))return p;{const De=new Bt(I,p,L),je=p.eventCache.getNode();let Xe;if(Ut(g)||".priority"===jr(g)){let Jt;if(p.serverCache.isFullyInitialized())Jt=et(I,As(p));else{const Xt=p.serverCache.getNode();(0,ne.hu)(Xt instanceof Cr,"serverChildren would be complete if leaf node"),Jt=xt(I,Xt)}Xe=y.filter.updateFullNode(je,Jt,K)}else{const Jt=jr(g);let Xt=Kn(I,Jt,p.serverCache);null==Xt&&p.serverCache.isCompleteForChild(Jt)&&(Xt=je.getImmediateChild(Jt)),Xe=null!=Xt?y.filter.updateChild(je,Jt,Xt,xi(g),De,K):p.eventCache.getNode().hasChild(Jt)?y.filter.updateChild(je,Jt,Cr.EMPTY_NODE,xi(g),De,K):je,Xe.isEmpty()&&p.serverCache.isFullyInitialized()&&(se=et(I,As(p)),se.isLeafNode()&&(Xe=y.filter.updateFullNode(Xe,se,K)))}return se=p.serverCache.isFullyInitialized()||null!=In(I,Un()),al(p,Xe,se,y.filter.filtersNodes())}}(y,p,Xe.path,I,L,K):function Ga(y,p,g,I,L,K,se){if(null!=In(L,g))return p;const De=p.serverCache.isFiltered(),je=p.serverCache;if(null!=I.value){if(Ut(g)&&je.isFullyInitialized()||je.isCompleteForPath(g))return gs(y,p,g,je.getNode().getChild(g),L,K,De,se);if(Ut(g)){let Xe=new di(null);return je.getNode().forEachChild(Bi,(Jt,Xt)=>{Xe=Xe.set(new Br(Jt),Xt)}),tl(y,p,g,Xe,L,K,De,se)}return p}{let Xe=new di(null);return I.foreach((Jt,Xt)=>{const hn=Ft(g,Jt);je.isCompleteForPath(hn)&&(Xe=Xe.set(Jt,je.getNode().getChild(hn)))}),tl(y,p,g,Xe,L,K,De,se)}}(y,p,Xe.path,Xe.affectedTree,I,L,K)}else{if(g.type!==Ni.LISTEN_COMPLETE)throw(0,ne.g5)("Unknown operation type: "+g.type);se=function Gc(y,p,g,I,L){const K=p.serverCache;return lr(y,Ms(p,K.getNode(),K.isFullyInitialized()||Ut(g),K.isFiltered()),g,I,Ws,L)}(y,p,g.path,I,K)}const je=K.getChanges();return function zn(y,p,g){const I=p.eventCache;if(I.isFullyInitialized()){const L=I.getNode().isLeafNode()||I.getNode().isEmpty(),K=bl(y);(g.length>0||!y.eventCache.isFullyInitialized()||L&&!I.getNode().equals(K)||!I.getNode().getPriority().equals(K.getPriority()))&&g.push(ya(bl(p)))}}(p,se,je),{viewCache:se,changes:je}}(y.processor_,L,p,g,I);return function ki(y,p){(0,ne.hu)(p.eventCache.getNode().isIndexed(y.filter.getIndex()),"Event snap not indexed"),(0,ne.hu)(p.serverCache.getNode().isIndexed(y.filter.getIndex()),"Server snap not indexed")}(y.processor_,K.viewCache),(0,ne.hu)(K.viewCache.serverCache.isFullyInitialized()||!L.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),y.viewCache_=K.viewCache,Lo(y,K.changes,K.viewCache.eventCache.getNode(),null)}function Lo(y,p,g,I){return function ol(y,p,g,I){const L=[],K=[];return p.forEach(se=>{"child_changed"===se.type&&y.index_.indexedValueChanged(se.oldSnap,se.snapshotNode)&&K.push(function as(y,p){return{type:"child_moved",snapshotNode:p,childName:y}}(se.childName,se.snapshotNode))}),Ua(y,L,"child_removed",p,I,g),Ua(y,L,"child_added",p,I,g),Ua(y,L,"child_moved",K,I,g),Ua(y,L,"child_changed",p,I,g),Ua(y,L,"value",p,I,g),L}(y.eventGenerator_,p,g,I?[I]:y.eventRegistrations_)}let Ki,vc;class mr{constructor(){this.views=new Map}}function qs(y,p,g,I){const L=p.source.queryId;if(null!==L){const K=y.views.get(L);return(0,ne.hu)(null!=K,"SyncTree gave us an op for an invalid query."),gr(K,p,g,I)}{let K=[];for(const se of y.views.values())K=K.concat(gr(se,p,g,I));return K}}function ht(y,p,g,I,L){const se=y.views.get(p._queryIdentifier);if(!se){let De=et(g,L?I:null),je=!1;De?je=!0:I instanceof Cr?(De=xt(g,I),je=!1):(De=Cr.EMPTY_NODE,je=!1);const Xe=Oa(new cs(De,je,!1),new cs(I,L,!1));return new Do(p,Xe)}return se}function Ha(y){const p=[];for(const g of y.views.values())g.query._queryParams.loadsAllData()||p.push(g);return p}function Ks(y,p){let g=null;for(const I of y.views.values())g=g||oi(I,p);return g}function ac(y,p){return p._queryParams.loadsAllData()?Pc(y):y.views.get(p._queryIdentifier)}function zc(y,p){return null!=ac(y,p)}function _o(y){return null!=Pc(y)}function Pc(y){for(const p of y.views.values())if(p.query._queryParams.loadsAllData())return p;return null}let Nc=1;class yo{constructor(p){this.listenProvider_=p,this.syncPointTree_=new di(null),this.pendingWriteTree_=function Ke(){return{visibleWrites:zs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vo(y,p,g,I,L){return function Ko(y,p,g,I,L){(0,ne.hu)(I>y.lastWriteId,"Stacking an older write on top of newer ones"),void 0===L&&(L=!0),y.allWrites.push({path:p,snap:g,writeId:I,visible:L}),L&&(y.visibleWrites=qo(y.visibleWrites,p,g)),y.lastWriteId=I}(y.pendingWriteTree_,p,g,I,L),L?M(y,new ts({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,g)):[]}function _t(y,p,g=!1){const I=function io(y,p){for(let g=0;g<y.allWrites.length;g++){const I=y.allWrites[g];if(I.writeId===p)return I}return null}(y.pendingWriteTree_,p);if(function Ql(y,p){const g=y.allWrites.findIndex(De=>De.writeId===p);(0,ne.hu)(g>=0,"removeWrite called with nonexistent writeId.");const I=y.allWrites[g];y.allWrites.splice(g,1);let L=I.visible,K=!1,se=y.allWrites.length-1;for(;L&&se>=0;){const De=y.allWrites[se];De.visible&&(se>=g&&V(De,I.path)?L=!1:Ar(I.path,De.path)&&(K=!0)),se--}return!!L&&(K?(function X(y){y.visibleWrites=Q(y.allWrites,Pe,Un()),y.lastWriteId=y.allWrites.length>0?y.allWrites[y.allWrites.length-1].writeId:-1}(y),!0):(I.snap?y.visibleWrites=Mi(y.visibleWrites,I.path):nt(I.children,je=>{y.visibleWrites=Mi(y.visibleWrites,Ft(I.path,je))}),!0))}(y.pendingWriteTree_,p)){let K=new di(null);return null!=I.snap?K=K.set(Un(),!0):nt(I.children,se=>{K=K.set(new Br(se),!0)}),M(y,new Ba(I.path,K,g))}return[]}function ba(y,p,g){return M(y,new ts({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,g))}function F(y,p,g,I,L=!1){const K=p._path,se=y.syncPointTree_.get(K);let De=[];if(se&&("default"===p._queryIdentifier||zc(se,p))){const je=function yc(y,p,g,I){const L=p._queryIdentifier,K=[];let se=[];const De=_o(y);if("default"===L)for(const[je,Xe]of y.views.entries())se=se.concat(Mc(Xe,g,I)),oc(Xe)&&(y.views.delete(je),Xe.query._queryParams.loadsAllData()||K.push(Xe.query));else{const je=y.views.get(L);je&&(se=se.concat(Mc(je,g,I)),oc(je)&&(y.views.delete(L),je.query._queryParams.loadsAllData()||K.push(je.query)))}return De&&!_o(y)&&K.push(new(function Yi(){return(0,ne.hu)(Ki,"Reference.ts has not been loaded"),Ki}())(p._repo,p._path)),{removed:K,events:se}}(se,p,g,I);(function Iu(y){return 0===y.views.size})(se)&&(y.syncPointTree_=y.syncPointTree_.remove(K));const Xe=je.removed;if(De=je.events,!L){const Jt=-1!==Xe.findIndex(hn=>hn._queryParams.loadsAllData()),Xt=y.syncPointTree_.findOnPath(K,(hn,wr)=>_o(wr));if(Jt&&!Xt){const hn=y.syncPointTree_.subtree(K);if(!hn.isEmpty()){const wr=function Gr(y){return y.fold((p,g,I)=>{if(g&&_o(g))return[Pc(g)];{let L=[];return g&&(L=Ha(g)),nt(I,(K,se)=>{L=L.concat(se)}),L}})}(hn);for(let Wr=0;Wr<wr.length;++Wr){const Ps=wr[Wr],Wa=Ps.query,Ru=pe(y,Ps);y.listenProvider_.startListening(Er(Wa),Je(y,Wa),Ru.hashFn,Ru.onComplete)}}}!Xt&&Xe.length>0&&!I&&(Jt?y.listenProvider_.stopListening(Er(p),null):Xe.forEach(hn=>{const wr=y.queryToTagMap.get(kt(hn));y.listenProvider_.stopListening(Er(hn),wr)}))}!function Kr(y,p){for(let g=0;g<p.length;++g){const I=p[g];if(!I._queryParams.loadsAllData()){const L=kt(I),K=y.queryToTagMap.get(L);y.queryToTagMap.delete(L),y.tagToQueryMap.delete(K)}}}(y,Xe)}return De}function W(y,p,g,I){const L=dt(y,I);if(null!=L){const K=fn(L),se=K.path,De=K.queryId,je=Hn(se,p);return Qn(y,se,new ts(Hs(De),je,g))}return[]}function w(y,p,g,I=!1){const L=p._path;let K=null,se=!1;y.syncPointTree_.foreachOnPath(L,(hn,wr)=>{const Wr=Hn(hn,L);K=K||Ks(wr,Wr),se=se||_o(wr)});let je,De=y.syncPointTree_.get(L);De?(se=se||_o(De),K=K||Ks(De,Un())):(De=new mr,y.syncPointTree_=y.syncPointTree_.set(L,De)),null!=K?je=!0:(je=!1,K=Cr.EMPTY_NODE,y.syncPointTree_.subtree(L).foreachChild((wr,Wr)=>{const Ps=Ks(Wr,Un());Ps&&(K=K.updateImmediateChild(wr,Ps))}));const Xe=zc(De,p);if(!Xe&&!p._queryParams.loadsAllData()){const hn=kt(p);(0,ne.hu)(!y.queryToTagMap.has(hn),"View does not exist, but we have a tag");const wr=function rs(){return Nc++}();y.queryToTagMap.set(hn,wr),y.tagToQueryMap.set(wr,hn)}let Xt=function Ti(y,p,g,I,L,K){const se=ht(y,p,I,L,K);return y.views.has(p._queryIdentifier)||y.views.set(p._queryIdentifier,se),function Zl(y,p){y.eventRegistrations_.push(p)}(se,g),function Hc(y,p){const g=y.viewCache_.eventCache,I=[];return g.getNode().isLeafNode()||g.getNode().forEachChild(Or,(K,se)=>{I.push(go(K,se))}),g.isFullyInitialized()&&I.push(ya(g.getNode())),Lo(y,I,g.getNode(),p)}(se,g)}(De,p,g,ll(y.pendingWriteTree_,L),K,je);if(!Xe&&!se&&!I){const hn=ac(De,p);Xt=Xt.concat(function Tl(y,p,g){const I=p._path,L=Je(y,p),K=pe(y,g),se=y.listenProvider_.startListening(Er(p),L,K.hashFn,K.onComplete),De=y.syncPointTree_.subtree(I);if(L)(0,ne.hu)(!_o(De.value),"If we're adding a query, it shouldn't be shadowed");else{const je=De.fold((Xe,Jt,Xt)=>{if(!Ut(Xe)&&Jt&&_o(Jt))return[Pc(Jt).query];{let hn=[];return Jt&&(hn=hn.concat(Ha(Jt).map(wr=>wr.query))),nt(Xt,(wr,Wr)=>{hn=hn.concat(Wr)}),hn}});for(let Xe=0;Xe<je.length;++Xe){const Jt=je[Xe];y.listenProvider_.stopListening(Er(Jt),Je(y,Jt))}}return se}(y,p,hn))}return Xt}function R(y,p,g){const L=y.pendingWriteTree_,K=y.syncPointTree_.findOnPath(p,(se,De)=>{const Xe=Ks(De,Hn(se,p));if(Xe)return Xe});return Se(L,p,K,g,!0)}function M(y,p){return z(p,y.syncPointTree_,null,ll(y.pendingWriteTree_,Un()))}function z(y,p,g,I){if(Ut(y.path))return ce(y,p,g,I);{const L=p.get(Un());null==g&&null!=L&&(g=Ks(L,Un()));let K=[];const se=jr(y.path),De=y.operationForChild(se),je=p.children.get(se);if(je&&De){const Xe=g?g.getImmediateChild(se):null,Jt=Vn(I,se);K=K.concat(z(De,je,Xe,Jt))}return L&&(K=K.concat(qs(L,y,I,g))),K}}function ce(y,p,g,I){const L=p.get(Un());null==g&&null!=L&&(g=Ks(L,Un()));let K=[];return p.children.inorderTraversal((se,De)=>{const je=g?g.getImmediateChild(se):null,Xe=Vn(I,se),Jt=y.operationForChild(se);Jt&&(K=K.concat(ce(Jt,De,je,Xe)))}),L&&(K=K.concat(qs(L,y,I,g))),K}function pe(y,p){const g=p.query,I=Je(y,g);return{hashFn:()=>(function Vl(y){return y.viewCache_.serverCache.getNode()}(p)||Cr.EMPTY_NODE).hash(),onComplete:L=>{if("ok"===L)return I?function A(y,p,g){const I=dt(y,g);if(I){const L=fn(I),K=L.path,se=L.queryId,De=Hn(K,p);return Qn(y,K,new ro(Hs(se),De))}return[]}(y,g._path,I):function oe(y,p){return M(y,new ro({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p))}(y,g._path);{const K=function en(y,p){let g="Unknown Error";"too_big"===y?g="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===y?g="Client doesn't have permission to access the desired data.":"unavailable"===y&&(g="The service is unavailable");const I=new Error(y+" at "+p._path.toString()+": "+g);return I.code=y.toUpperCase(),I}(L,g);return F(y,g,null,K)}}}}function Je(y,p){const g=kt(p);return y.queryToTagMap.get(g)}function kt(y){return y._path.toString()+"$"+y._queryIdentifier}function dt(y,p){return y.tagToQueryMap.get(p)}function fn(y){const p=y.indexOf("$");return(0,ne.hu)(-1!==p&&p<y.length-1,"Bad queryKey."),{queryId:y.substr(p+1),path:new Br(y.substr(0,p))}}function Qn(y,p,g){const I=y.syncPointTree_.get(p);return(0,ne.hu)(I,"Missing sync point for query tag that we're tracking"),qs(I,g,ll(y.pendingWriteTree_,p),null)}function Er(y){return y._queryParams.loadsAllData()&&!y._queryParams.isDefault()?new(function Tu(){return(0,ne.hu)(vc,"Reference.ts has not been loaded"),vc}())(y._repo,y._path):y}class ms{constructor(p){this.node_=p}getImmediateChild(p){const g=this.node_.getImmediateChild(p);return new ms(g)}node(){return this.node_}}class la{constructor(p,g){this.syncTree_=p,this.path_=g}getImmediateChild(p){const g=Ft(this.path_,p);return new la(this.syncTree_,g)}node(){return R(this.syncTree_,this.path_)}}const vl=function(y){return(y=y||{}).timestamp=y.timestamp||(new Date).getTime(),y},Vo=function(y,p,g){return y&&"object"==typeof y?((0,ne.hu)(".sv"in y,"Unexpected leaf node or priority contents"),"string"==typeof y[".sv"]?cl(y[".sv"],p,g):"object"==typeof y[".sv"]?Sl(y[".sv"],p):void(0,ne.hu)(!1,"Unexpected server value: "+JSON.stringify(y,null,2))):y},cl=function(y,p,g){if("timestamp"===y)return g.timestamp;(0,ne.hu)(!1,"Unexpected server value: "+y)},Sl=function(y,p,g){y.hasOwnProperty("increment")||(0,ne.hu)(!1,"Unexpected server value: "+JSON.stringify(y,null,2));const I=y.increment;"number"!=typeof I&&(0,ne.hu)(!1,"Unexpected increment value: "+I);const L=p.node();if((0,ne.hu)(null!==L&&typeof L<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!L.isLeafNode())return I;const se=L.getValue();return"number"!=typeof se?I:se+I},Ia=function(y,p,g,I){return Wc(p,new la(g,y),I)},za=function(y,p,g){return Wc(y,new ms(p),g)};function Wc(y,p,g){const I=y.getPriority().val(),L=Vo(I,p.getImmediateChild(".priority"),g);let K;if(y.isLeafNode()){const se=y,De=Vo(se.getValue(),p,g);return De!==se.getValue()||L!==se.getPriority().val()?new Os(De,Ui(L)):y}{const se=y;return K=se,L!==se.getPriority().val()&&(K=K.updatePriority(new Os(L))),se.forEachChild(Or,(De,je)=>{const Xe=Wc(je,p.getImmediateChild(De),g);Xe!==je&&(K=K.updateImmediateChild(De,Xe))}),K}}class lc{constructor(p="",g=null,I={children:{},childCount:0}){this.name=p,this.parent=g,this.node=I}}function An(y,p){let g=p instanceof Br?p:new Br(p),I=y,L=jr(g);for(;null!==L;){const K=(0,ne.DV)(I.node.children,L)||{children:{},childCount:0};I=new lc(L,I,K),g=xi(g),L=jr(g)}return I}function Rr(y){return y.node.value}function Ur(y,p){y.node.value=p,Eo(y)}function Qi(y){return y.node.childCount>0}function Na(y,p){nt(y.node.children,(g,I)=>{p(new lc(g,y,I))})}function rl(y,p,g,I){g&&!I&&p(y),Na(y,L=>{rl(L,p,!0,I)}),g&&I&&p(y)}function is(y){return new Br(null===y.parent?y.name:is(y.parent)+"/"+y.name)}function Eo(y){null!==y.parent&&function Ju(y,p,g){const I=function _s(y){return void 0===Rr(y)&&!Qi(y)}(g),L=(0,ne.r3)(y.node.children,p);I&&L?(delete y.node.children[p],y.node.childCount--,Eo(y)):!I&&!L&&(y.node.children[p]=g.node,y.node.childCount++,Eo(y))}(y.parent,y.name,y)}const Co=/[\[\].#$\/\u0000-\u001F\u007F]/,Ec=/[\[\].#$\u0000-\u001F\u007F]/,Ai=10485760,ul=function(y){return"string"==typeof y&&0!==y.length&&!Co.test(y)},Ys=function(y){return"string"==typeof y&&0!==y.length&&!Ec.test(y)},wc=function(y){return null===y||"string"==typeof y||"number"==typeof y&&!on(y)||y&&"object"==typeof y&&(0,ne.r3)(y,".sv")},il=function(y,p,g,I){I&&void 0===p||Yo((0,ne.gK)(y,"value"),p,g)},Yo=function(y,p,g){const I=g instanceof Br?new Za(g,y):g;if(void 0===p)throw new Error(y+"contains undefined "+co(I));if("function"==typeof p)throw new Error(y+"contains a function "+co(I)+" with contents = "+p.toString());if(on(p))throw new Error(y+"contains "+p.toString()+" "+co(I));if("string"==typeof p&&p.length>Ai/3&&(0,ne.ug)(p)>Ai)throw new Error(y+"contains a string greater than "+Ai+" utf8 bytes "+co(I)+" ('"+p.substring(0,50)+"...')");if(p&&"object"==typeof p){let L=!1,K=!1;if(nt(p,(se,De)=>{if(".value"===se)L=!0;else if(".priority"!==se&&".sv"!==se&&(K=!0,!ul(se)))throw new Error(y+" contains an invalid key ("+se+") "+co(I)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Gs(y,p){y.parts_.length>0&&(y.byteLength_+=1),y.parts_.push(p),y.byteLength_+=(0,ne.ug)(p),Vi(y)})(I,se),Yo(y,De,I),function lo(y){const p=y.parts_.pop();y.byteLength_-=(0,ne.ug)(p),y.parts_.length>0&&(y.byteLength_-=1)}(I)}),L&&K)throw new Error(y+' contains ".value" child '+co(I)+" in addition to actual children.")}},Bd=function(y,p,g,I){if(I&&void 0===p)return;const L=(0,ne.gK)(y,"values");if(!p||"object"!=typeof p||Array.isArray(p))throw new Error(L+" must be an object containing the children to replace.");const K=[];nt(p,(se,De)=>{const je=new Br(se);if(Yo(L,De,Ft(g,je)),".priority"===sl(je)&&!wc(De))throw new Error(L+"contains an invalid value for '"+je.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");K.push(je)}),function(y,p){let g,I;for(g=0;g<p.length;g++){I=p[g];const K=qe(I);for(let se=0;se<K.length;se++)if((".priority"!==K[se]||se!==K.length-1)&&!ul(K[se]))throw new Error(y+"contains an invalid key ("+K[se]+") in path "+I.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}p.sort(si);let L=null;for(g=0;g<p.length;g++){if(I=p[g],null!==L&&Ar(L,I))throw new Error(y+"contains a path "+L.toString()+" that is ancestor of another path "+I.toString());L=I}}(L,K)},Qo=function(y,p,g){if(!g||void 0!==p){if(on(p))throw new Error((0,ne.gK)(y,"priority")+"is "+p.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wc(p))throw new Error((0,ne.gK)(y,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Nu=function(y,p,g,I){if(!(I&&void 0===g||ul(g)))throw new Error((0,ne.gK)(y,p)+'was an invalid key = "'+g+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zo=function(y,p,g,I){if(!(I&&void 0===g||Ys(g)))throw new Error((0,ne.gK)(y,p)+'was an invalid path = "'+g+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Bo=function(y,p,g,I){g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),Zo(y,p,g,I)},Ao=function(y,p){if(".info"===jr(p))throw new Error(y+" failed = Can't modify data under /.info/")},bc=function(y,p){const g=p.path.toString();if("string"!=typeof p.repoInfo.host||0===p.repoInfo.host.length||!ul(p.repoInfo.namespace)&&"localhost"!==p.repoInfo.host.split(":")[0]||0!==g.length&&!function(y){return y&&(y=y.replace(/^\/*\.info(\/|$)/,"/")),Ys(y)}(g))throw new Error((0,ne.gK)(y,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class qc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cl(y,p){let g=null;for(let I=0;I<p.length;I++){const L=p[I],K=L.getPath();null!==g&&!Zr(K,g.path)&&(y.eventLists_.push(g),g=null),null===g&&(g={events:[],path:K}),g.events.push(L)}g&&y.eventLists_.push(g)}function Kc(y,p,g){Cl(y,g),Ul(y,I=>Zr(I,p))}function Jo(y,p,g){Cl(y,g),Ul(y,I=>Ar(I,p)||Ar(p,I))}function Ul(y,p){y.recursionDepth_++;let g=!0;for(let I=0;I<y.eventLists_.length;I++){const L=y.eventLists_[I];L&&(p(L.path)?(Yc(y.eventLists_[I]),y.eventLists_[I]=null):g=!1)}g&&(y.eventLists_=[]),y.recursionDepth_--}function Yc(y){for(let p=0;p<y.events.length;p++){const g=y.events[p];if(null!==g){y.events[p]=null;const I=g.getEventRunner();Nn&&It("event: "+g.toString()),hr(I)}}}const jl="repo_interrupt",El=25;class _d{constructor(p,g,I,L){this.repoInfo_=p,this.forceRestClient_=g,this.authTokenProvider_=I,this.appCheckProvider_=L,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=To(),this.transactionQueueTree_=new lc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fu(y){const g=y.infoData_.getNode(new Br(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+g}function cc(y){return vl({timestamp:fu(y)})}function Xu(y,p,g,I,L){y.dataUpdateCount++;const K=new Br(p);g=y.interceptServerDataCallback_?y.interceptServerDataCallback_(p,g):g;let se=[];if(L)if(I){const je=(0,ne.UI)(g,Xe=>Ui(Xe));se=function ue(y,p,g,I){const L=dt(y,I);if(L){const K=fn(L),se=K.path,De=K.queryId,je=Hn(se,p),Xe=di.fromObject(g);return Qn(y,se,new sa(Hs(De),je,Xe))}return[]}(y.serverSyncTree_,K,je,L)}else{const je=Ui(g);se=W(y.serverSyncTree_,K,je,L)}else if(I){const je=(0,ne.UI)(g,Xe=>Ui(Xe));se=function Bl(y,p,g){const I=di.fromObject(g);return M(y,new sa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,I))}(y.serverSyncTree_,K,je)}else{const je=Ui(g);se=ba(y.serverSyncTree_,K,je)}let De=K;se.length>0&&(De=vn(y,K)),Jo(y.eventQueue_,De,se)}function Ic(y,p){ed(y,"connected",p),!1===p&&function yd(y){Re(y,"onDisconnectEvents");const p=cc(y),g=To();Z(y.onDisconnect_,Un(),(L,K)=>{const se=Ia(L,K,y.serverSyncTree_,p);mo(g,L,se)});let I=[];Z(g,Un(),(L,K)=>{I=I.concat(ba(y.serverSyncTree_,L,K));const se=Zc(y,L);vn(y,se)}),y.onDisconnect_=To(),Jo(y.eventQueue_,Un(),I)}(y)}function ed(y,p,g){const I=new Br("/.info/"+p),L=Ui(g);y.infoData_.updateSnapshot(I,L);const K=ba(y.infoSyncTree_,I,L);Jo(y.eventQueue_,I,K)}function Uo(y){return y.nextWriteId_++}function td(y,p,g,I,L){Re(y,"set",{path:p.toString(),value:g,priority:I});const K=cc(y),se=Ui(g,I),De=R(y.serverSyncTree_,p),je=za(se,De,K),Xe=Uo(y),Jt=vo(y.serverSyncTree_,p,je,Xe,!0);Cl(y.eventQueue_,Jt),y.server_.put(p.toString(),se.val(!0),(hn,wr)=>{const Wr="ok"===hn;Wr||Oe("set at "+p+" failed: "+hn);const Ps=_t(y.serverSyncTree_,Xe,!Wr);Jo(y.eventQueue_,p,Ps),We(0,L,hn,wr)});const Xt=Zc(y,p);vn(y,Xt),Jo(y.eventQueue_,Xt,[])}function Ud(y,p,g){y.server_.onDisconnectCancel(p.toString(),(I,L)=>{"ok"===I&&te(y.onDisconnect_,p),We(0,g,I,L)})}function nd(y,p,g,I){const L=Ui(g);y.server_.onDisconnectPut(p.toString(),L.val(!0),(K,se)=>{"ok"===K&&mo(y.onDisconnect_,p,L),We(0,I,K,se)})}function B(y,p,g){let I;I=".info"===jr(p._path)?F(y.infoSyncTree_,p,g):F(y.serverSyncTree_,p,g),Kc(y.eventQueue_,p._path,I)}function q(y){y.persistentConnection_&&y.persistentConnection_.interrupt(jl)}function Re(y,...p){let g="";y.persistentConnection_&&(g=y.persistentConnection_.id+":"),It(g,...p)}function We(y,p,g,I){p&&hr(()=>{if("ok"===g)p(null);else{const L=(g||"error").toUpperCase();let K=L;I&&(K+=": "+I);const se=new Error(K);se.code=L,p(se)}})}function Wt(y,p,g){return R(y.serverSyncTree_,p,g)||Cr.EMPTY_NODE}function Zn(y,p=y.transactionQueueTree_){if(p||Rs(y,p),Rr(p)){const g=dl(y,p);(0,ne.hu)(g.length>0,"Sending zero length transaction queue"),g.every(L=>0===L.status)&&function Gn(y,p,g){const I=g.map(Xe=>Xe.currentWriteId),L=Wt(y,p,I);let K=L;const se=L.hash();for(let Xe=0;Xe<g.length;Xe++){const Jt=g[Xe];(0,ne.hu)(0===Jt.status,"tryToSendTransactionQueue_: items in queue should all be run."),Jt.status=1,Jt.retryCount++;const Xt=Hn(p,Jt.path);K=K.updateChild(Xt,Jt.currentOutputSnapshotRaw)}const De=K.val(!0),je=p;y.server_.put(je.toString(),De,Xe=>{Re(y,"transaction put response",{path:je.toString(),status:Xe});let Jt=[];if("ok"===Xe){const Xt=[];for(let hn=0;hn<g.length;hn++)g[hn].status=2,Jt=Jt.concat(_t(y.serverSyncTree_,g[hn].currentWriteId)),g[hn].onComplete&&Xt.push(()=>g[hn].onComplete(null,!0,g[hn].currentOutputSnapshotResolved)),g[hn].unwatcher();Rs(y,An(y.transactionQueueTree_,p)),Zn(y,y.transactionQueueTree_),Jo(y.eventQueue_,p,Jt);for(let hn=0;hn<Xt.length;hn++)hr(Xt[hn])}else{if("datastale"===Xe)for(let Xt=0;Xt<g.length;Xt++)g[Xt].status=3===g[Xt].status?4:0;else{Oe("transaction at "+je.toString()+" failed: "+Xe);for(let Xt=0;Xt<g.length;Xt++)g[Xt].status=4,g[Xt].abortReason=Xe}vn(y,p)}},se)}(y,is(p),g)}else Qi(p)&&Na(p,g=>{Zn(y,g)})}function vn(y,p){const g=kr(y,p),I=is(g);return function sr(y,p,g){if(0===p.length)return;const I=[];let L=[];const se=p.filter(De=>0===De.status).map(De=>De.currentWriteId);for(let De=0;De<p.length;De++){const je=p[De],Xe=Hn(g,je.path);let Xt,Jt=!1;if((0,ne.hu)(null!==Xe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===je.status)Jt=!0,Xt=je.abortReason,L=L.concat(_t(y.serverSyncTree_,je.currentWriteId,!0));else if(0===je.status)if(je.retryCount>=El)Jt=!0,Xt="maxretry",L=L.concat(_t(y.serverSyncTree_,je.currentWriteId,!0));else{const hn=Wt(y,je.path,se);je.currentInputSnapshot=hn;const wr=p[De].update(hn.val());if(void 0!==wr){Yo("transaction failed: Data returned ",wr,je.path);let Wr=Ui(wr);"object"==typeof wr&&null!=wr&&(0,ne.r3)(wr,".priority")||(Wr=Wr.updatePriority(hn.getPriority()));const Wa=je.currentWriteId,Ru=cc(y),Uh=za(Wr,hn,Ru);je.currentOutputSnapshotRaw=Wr,je.currentOutputSnapshotResolved=Uh,je.currentWriteId=Uo(y),se.splice(se.indexOf(Wa),1),L=L.concat(vo(y.serverSyncTree_,je.path,Uh,je.currentWriteId,je.applyLocally)),L=L.concat(_t(y.serverSyncTree_,Wa,!0))}else Jt=!0,Xt="nodata",L=L.concat(_t(y.serverSyncTree_,je.currentWriteId,!0))}Jo(y.eventQueue_,g,L),L=[],Jt&&(p[De].status=2,setTimeout(p[De].unwatcher,Math.floor(0)),p[De].onComplete&&I.push("nodata"===Xt?()=>p[De].onComplete(null,!1,p[De].currentInputSnapshot):()=>p[De].onComplete(new Error(Xt),!1,null)))}Rs(y,y.transactionQueueTree_);for(let De=0;De<I.length;De++)hr(I[De]);Zn(y,y.transactionQueueTree_)}(y,dl(y,g),I),I}function kr(y,p){let g,I=y.transactionQueueTree_;for(g=jr(p);null!==g&&void 0===Rr(I);)I=An(I,g),g=jr(p=xi(p));return I}function dl(y,p){const g=[];return jo(y,p,g),g.sort((I,L)=>I.order-L.order),g}function jo(y,p,g){const I=Rr(p);if(I)for(let L=0;L<I.length;L++)g.push(I[L]);Na(p,L=>{jo(y,L,g)})}function Rs(y,p){const g=Rr(p);if(g){let I=0;for(let L=0;L<g.length;L++)2!==g[L].status&&(g[I]=g[L],I++);g.length=I,Ur(p,g.length>0?g:void 0)}Na(p,I=>{Rs(y,I)})}function Zc(y,p){const g=is(kr(y,p)),I=An(y.transactionQueueTree_,p);return function Dl(y,p,g){let I=g?y:y.parent;for(;null!==I;){if(p(I))return!0;I=I.parent}}(I,L=>{$l(y,L)}),$l(y,I),rl(I,L=>{$l(y,L)}),g}function $l(y,p){const g=Rr(p);if(g){const I=[];let L=[],K=-1;for(let se=0;se<g.length;se++)3===g[se].status||(1===g[se].status?((0,ne.hu)(K===se-1,"All SENT items should be at beginning of queue."),K=se,g[se].status=3,g[se].abortReason="set"):((0,ne.hu)(0===g[se].status,"Unexpected transaction status in abort"),g[se].unwatcher(),L=L.concat(_t(y.serverSyncTree_,g[se].currentWriteId,!0)),g[se].onComplete&&I.push(g[se].onComplete.bind(null,new Error("set"),!1,null))));-1===K?Ur(p,void 0):g.length=K+1,Jo(y.eventQueue_,is(p),L);for(let se=0;se<I.length;se++)hr(I[se])}}const Fc=function(y,p){const g=rd(y),I=g.namespace;return"firebase.com"===g.domain&&Mt(g.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!I||"undefined"===I)&&"localhost"!==g.domain&&Mt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),g.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Oe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ii(g.host,g.secure,I,"ws"===g.scheme||"wss"===g.scheme,p,"",I!==g.subdomain),path:new Br(g.pathString)}},rd=function(y){let p="",g="",I="",L="",K="",se=!0,De="https",je=443;if("string"==typeof y){let Xe=y.indexOf("//");Xe>=0&&(De=y.substring(0,Xe-1),y=y.substring(Xe+2));let Jt=y.indexOf("/");-1===Jt&&(Jt=y.length);let Xt=y.indexOf("?");-1===Xt&&(Xt=y.length),p=y.substring(0,Math.min(Jt,Xt)),Jt<Xt&&(L=function Xl(y){let p="";const g=y.split("/");for(let I=0;I<g.length;I++)if(g[I].length>0){let L=g[I];try{L=decodeURIComponent(L.replace(/\+/g," "))}catch{}p+="/"+L}return p}(y.substring(Jt,Xt)));const hn=function ca(y){const p={};"?"===y.charAt(0)&&(y=y.substring(1));for(const g of y.split("&")){if(0===g.length)continue;const I=g.split("=");2===I.length?p[decodeURIComponent(I[0])]=decodeURIComponent(I[1]):Oe(`Invalid query segment '${g}' in query '${y}'`)}return p}(y.substring(Math.min(y.length,Xt)));Xe=p.indexOf(":"),Xe>=0?(se="https"===De||"wss"===De,je=parseInt(p.substring(Xe+1),10)):Xe=p.length;const wr=p.slice(0,Xe);if("localhost"===wr.toLowerCase())g="localhost";else if(wr.split(".").length<=2)g=wr;else{const Wr=p.indexOf(".");I=p.substring(0,Wr).toLowerCase(),g=p.substring(Wr+1),K=I}"ns"in hn&&(K=hn.ns)}return{host:p,port:je,domain:g,subdomain:I,secure:se,scheme:De,pathString:L,namespace:K}},dc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Lc=function(){let y=0;const p=[];return function(g){const I=g===y;let L;y=g;const K=new Array(8);for(L=7;L>=0;L--)K[L]=dc.charAt(g%64),g=Math.floor(g/64);(0,ne.hu)(0===g,"Cannot push at time == 0");let se=K.join("");if(I){for(L=11;L>=0&&63===p[L];L--)p[L]=0;p[L]++}else for(L=0;L<12;L++)p[L]=Math.floor(64*Math.random());for(L=0;L<12;L++)se+=dc.charAt(p[L]);return(0,ne.hu)(20===se.length,"nextPushId: Length should be 20."),se}}();class Du{constructor(p,g,I,L){this.eventType=p,this.eventRegistration=g,this.snapshot=I,this.prevName=L}getPath(){const p=this.snapshot.ref;return"value"===this.eventType?p._path:p.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,ne.Wl)(this.snapshot.exportVal())}}class jd{constructor(p,g,I){this.eventRegistration=p,this.error=g,this.path=I}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Fu{constructor(p,g){this.snapshotCallback=p,this.cancelCallback=g}onValue(p,g){this.snapshotCallback.call(null,p,g)}onCancel(p){return(0,ne.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,p)}get hasCancelCallback(){return!!this.cancelCallback}matches(p){return this.snapshotCallback===p.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===p.snapshotCallback.userCallback&&this.snapshotCallback.context===p.snapshotCallback.context}}class Lu{constructor(p,g){this._repo=p,this._path=g}cancel(){const p=new ne.BH;return Ud(this._repo,this._path,p.wrapCallback(()=>{})),p.promise}remove(){Ao("OnDisconnect.remove",this._path);const p=new ne.BH;return nd(this._repo,this._path,null,p.wrapCallback(()=>{})),p.promise}set(p){Ao("OnDisconnect.set",this._path),il("OnDisconnect.set",p,this._path,!1);const g=new ne.BH;return nd(this._repo,this._path,p,g.wrapCallback(()=>{})),g.promise}setWithPriority(p,g){Ao("OnDisconnect.setWithPriority",this._path),il("OnDisconnect.setWithPriority",p,this._path,!1),Qo("OnDisconnect.setWithPriority",g,!1);const I=new ne.BH;return function ku(y,p,g,I,L){const K=Ui(g,I);y.server_.onDisconnectPut(p.toString(),K.val(!0),(se,De)=>{"ok"===se&&mo(y.onDisconnect_,p,K),We(0,L,se,De)})}(this._repo,this._path,p,g,I.wrapCallback(()=>{})),I.promise}update(p){Ao("OnDisconnect.update",this._path),Bd("OnDisconnect.update",p,this._path,!1);const g=new ne.BH;return function Su(y,p,g,I){if((0,ne.xb)(g))return It("onDisconnect().update() called with empty data.  Don't do anything."),void We(0,I,"ok",void 0);y.server_.onDisconnectMerge(p.toString(),g,(L,K)=>{"ok"===L&&nt(g,(se,De)=>{const je=Ui(De);mo(y.onDisconnect_,Ft(p,se),je)}),We(0,I,L,K)})}(this._repo,this._path,p,g.wrapCallback(()=>{})),g.promise}}class Ro{constructor(p,g,I,L){this._repo=p,this._path=g,this._queryParams=I,this._orderByCalled=L}get key(){return Ut(this._path)?null:sl(this._path)}get ref(){return new Al(this._repo,this._path)}get _queryIdentifier(){const p=kl(this._queryParams),g=kn(p);return"{}"===g?"default":g}get _queryObject(){return kl(this._queryParams)}isEqual(p){if(!((p=(0,ne.m9)(p))instanceof Ro))return!1;const g=this._repo===p._repo,I=Zr(this._path,p._path);return g&&I&&this._queryIdentifier===p._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function tt(y){let p="";for(let g=y.pieceNum_;g<y.pieces_.length;g++)""!==y.pieces_[g]&&(p+="/"+encodeURIComponent(String(y.pieces_[g])));return p||"/"}(this._path)}}function Vu(y,p){if(!0===y._orderByCalled)throw new Error(p+": You can't combine multiple orderBy calls.")}function hl(y){let p=null,g=null;if(y.hasStart()&&(p=y.getIndexStartValue()),y.hasEnd()&&(g=y.getIndexEndValue()),y.getIndex()===Bi){const I="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",L="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(y.hasStart()){if(y.getIndexStartName()!==jn)throw new Error(I);if("string"!=typeof p)throw new Error(L)}if(y.hasEnd()){if(y.getIndexEndName()!==mn)throw new Error(I);if("string"!=typeof g)throw new Error(L)}}else if(y.getIndex()===Or){if(null!=p&&!wc(p)||null!=g&&!wc(g))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,ne.hu)(y.getIndex()instanceof La||y.getIndex()===Ds,"unknown index type."),null!=p&&"object"==typeof p||null!=g&&"object"==typeof g)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function id(y){if(y.hasStart()&&y.hasEnd()&&y.hasLimit()&&!y.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Al extends Ro{constructor(p,g){super(p,g,new Ci,!1)}get parent(){const p=vt(this._path);return null===p?null:new Al(this._repo,p)}get root(){let p=this;for(;null!==p.parent;)p=p.parent;return p}}class gu{constructor(p,g,I){this._node=p,this.ref=g,this._index=I}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(p){const g=new Br(p),I=E(this.ref,p);return new gu(this._node.getChild(g),I,Or)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(p){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(I,L)=>p(new gu(L,E(this.ref,I),Or)))}hasChild(p){const g=new Br(p);return!this._node.getChild(g).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fh(y,p){return(y=(0,ne.m9)(y))._checkNotDeleted("ref"),void 0!==p?E(y._root,p):y._root}function k(y,p){(y=(0,ne.m9)(y))._checkNotDeleted("refFromURL");const g=Fc(p,y._repo.repoInfo_.nodeAdmin);bc("refFromURL",g);const I=g.repoInfo;return!y._repo.repoInfo_.isCustomHost()&&I.host!==y._repo.repoInfo_.host&&Mt("refFromURL: Host name does not match the current database: (found "+I.host+" but expected "+y._repo.repoInfo_.host+")"),Fh(y,g.path.toString())}function E(y,p){return null===jr((y=(0,ne.m9)(y))._path)?Bo("child","path",p,!1):Zo("child","path",p,!1),new Al(y._repo,Ft(y._path,p))}function U(y,p){y=(0,ne.m9)(y),Ao("push",y._path),il("push",p,y._path,!0);const g=fu(y._repo),I=Lc(g),L=E(y,I),K=E(y,I);let se;return se=null!=p?Ie(K,p).then(()=>K):Promise.resolve(K),L.then=se.then.bind(se),L.catch=se.then.bind(se,void 0),L}function de(y){return Ao("remove",y._path),Ie(y,null)}function Ie(y,p){y=(0,ne.m9)(y),Ao("set",y._path),il("set",p,y._path,!1);const g=new ne.BH;return td(y._repo,y._path,p,null,g.wrapCallback(()=>{})),g.promise}function ft(y,p){y=(0,ne.m9)(y),Ao("setPriority",y._path),Qo("setPriority",p,!1);const g=new ne.BH;return td(y._repo,Ft(y._path,".priority"),p,null,g.wrapCallback(()=>{})),g.promise}function zt(y,p,g){if(Ao("setWithPriority",y._path),il("setWithPriority",p,y._path,!1),Qo("setWithPriority",g,!1),".length"===y.key||".keys"===y.key)throw"setWithPriority failed: "+y.key+" is a read-only object.";const I=new ne.BH;return td(y._repo,y._path,p,g,I.wrapCallback(()=>{})),I.promise}function Pn(y,p){Bd("update",p,y._path,!1);const g=new ne.BH;return function uc(y,p,g,I){Re(y,"update",{path:p.toString(),value:g});let L=!0;const K=cc(y),se={};if(nt(g,(De,je)=>{L=!1,se[De]=Ia(Ft(p,De),Ui(je),y.serverSyncTree_,K)}),L)It("update() called with empty data.  Don't do anything."),We(0,I,"ok",void 0);else{const De=Uo(y),je=function hu(y,p,g,I){!function Pa(y,p,g,I){(0,ne.hu)(I>y.lastWriteId,"Stacking an older merge on top of newer ones"),y.allWrites.push({path:p,children:g,writeId:I,visible:!0}),y.visibleWrites=Fl(y.visibleWrites,p,g),y.lastWriteId=I}(y.pendingWriteTree_,p,g,I);const L=di.fromObject(g);return M(y,new sa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,L))}(y.serverSyncTree_,p,se,De);Cl(y.eventQueue_,je),y.server_.merge(p.toString(),g,(Xe,Jt)=>{const Xt="ok"===Xe;Xt||Oe("update at "+p+" failed: "+Xe);const hn=_t(y.serverSyncTree_,De,!Xt),wr=hn.length>0?vn(y,p):p;Jo(y.eventQueue_,wr,hn),We(0,I,Xe,Jt)}),nt(g,Xe=>{const Jt=Zc(y,Ft(p,Xe));vn(y,Jt)}),Jo(y.eventQueue_,p,[])}}(y._repo,y._path,p,g.wrapCallback(()=>{})),g.promise}function Fn(y){y=(0,ne.m9)(y);const p=new Fu(()=>{}),g=new xr(p);return function pu(y,p,g){const I=function P(y,p){const g=p._path;let I=null;y.syncPointTree_.foreachOnPath(g,(Xe,Jt)=>{const Xt=Hn(Xe,g);I=I||Ks(Jt,Xt)});let L=y.syncPointTree_.get(g);L?I=I||Ks(L,Un()):(L=new mr,y.syncPointTree_=y.syncPointTree_.set(g,L));const K=null!=I,se=K?new cs(I,!0,!1):null;return function Oc(y){return bl(y.viewCache_)}(ht(L,p,ll(y.pendingWriteTree_,p._path),K?se.getNode():Cr.EMPTY_NODE,K))}(y.serverSyncTree_,p);return null!=I?Promise.resolve(I):y.server_.get(p).then(L=>{const K=Ui(L).withIndex(p._queryParams.getIndex());let se;if(w(y.serverSyncTree_,p,g,!0),p._queryParams.loadsAllData())se=ba(y.serverSyncTree_,p._path,K);else{const De=Je(y.serverSyncTree_,p);se=W(y.serverSyncTree_,p._path,K,De)}return Jo(y.eventQueue_,p._path,se),F(y.serverSyncTree_,p,g,null,!0),K},L=>(Re(y,"get for query "+(0,ne.Wl)(p)+" failed: "+L),Promise.reject(new Error(L))))}(y._repo,y,g).then(I=>new gu(I,new Al(y._repo,y._path),y._queryParams.getIndex()))}class xr{constructor(p){this.callbackContext=p}respondsTo(p){return"value"===p}createEvent(p,g){const I=g._queryParams.getIndex();return new Du("value",this,new gu(p.snapshotNode,new Al(g._repo,g._path),I))}getEventRunner(p){return"cancel"===p.getEventType()?()=>this.callbackContext.onCancel(p.error):()=>this.callbackContext.onValue(p.snapshot,null)}createCancelEvent(p,g){return this.callbackContext.hasCancelCallback?new jd(this,p,g):null}matches(p){return p instanceof xr&&(!p.callbackContext||!this.callbackContext||p.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ri{constructor(p,g){this.eventType=p,this.callbackContext=g}respondsTo(p){let g="children_added"===p?"child_added":p;return g="children_removed"===g?"child_removed":g,this.eventType===g}createCancelEvent(p,g){return this.callbackContext.hasCancelCallback?new jd(this,p,g):null}createEvent(p,g){(0,ne.hu)(null!=p.childName,"Child events should have a childName.");const I=E(new Al(g._repo,g._path),p.childName),L=g._queryParams.getIndex();return new Du(p.type,this,new gu(p.snapshotNode,I,L),p.prevName)}getEventRunner(p){return"cancel"===p.getEventType()?()=>this.callbackContext.onCancel(p.error):()=>this.callbackContext.onValue(p.snapshot,p.prevName)}matches(p){return p instanceof Ri&&this.eventType===p.eventType&&(!this.callbackContext||!p.callbackContext||this.callbackContext.matches(p.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ta(y,p,g,I,L){let K;if("object"==typeof I&&(K=void 0,L=I),"function"==typeof I&&(K=I),L&&L.onlyOnce){const je=g,Xe=(Jt,Xt)=>{B(y._repo,y,De),je(Jt,Xt)};Xe.userCallback=g.userCallback,Xe.context=g.context,g=Xe}const se=new Fu(g,K||void 0),De="value"===p?new xr(se):new Ri(p,se);return function Qc(y,p,g){let I;I=".info"===jr(p._path)?w(y.infoSyncTree_,p,g):w(y.serverSyncTree_,p,g),Kc(y.eventQueue_,p._path,I)}(y._repo,y,De),()=>B(y._repo,y,De)}function fl(y,p,g,I){return Ta(y,"value",p,g,I)}function Cu(y,p,g,I){return Ta(y,"child_added",p,g,I)}function Jc(y,p,g,I){return Ta(y,"child_changed",p,g,I)}function Au(y,p,g,I){return Ta(y,"child_moved",p,g,I)}function Tc(y,p,g,I){return Ta(y,"child_removed",p,g,I)}function sd(y,p,g){let I=null;const L=g?new Fu(g):null;"value"===p?I=new xr(L):p&&(I=new Ri(p,L)),B(y._repo,y,I)}class ec{}class Rl extends ec{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){il("endAt",this._value,p._path,!0);const g=Xa(p._queryParams,this._value,this._key);if(id(g),hl(g),p._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ro(p._repo,p._path,g,p._orderByCalled)}}function Lh(y,p){return Nu("endAt","key",p,!0),new Rl(y,p)}class xl extends ec{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){il("endBefore",this._value,p._path,!1);const g=function Va(y,p,g){let I;return I=Xa(y,p,y.index_===Bi||g?g:jn),I.endBeforeSet_=!0,I}(p._queryParams,this._value,this._key);if(id(g),hl(g),p._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ro(p._repo,p._path,g,p._orderByCalled)}}function yh(y,p){return Nu("endBefore","key",p,!0),new xl(y,p)}class od extends ec{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){il("startAt",this._value,p._path,!0);const g=xa(p._queryParams,this._value,this._key);if(id(g),hl(g),p._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ro(p._repo,p._path,g,p._orderByCalled)}}function $d(y=null,p){return Nu("startAt","key",p,!0),new od(y,p)}class Xc extends ec{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){il("startAfter",this._value,p._path,!1);const g=function sc(y,p,g){let I;return I=xa(y,p,y.index_===Bi||g?g:mn),I.startAfterSet_=!0,I}(p._queryParams,this._value,this._key);if(id(g),hl(g),p._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ro(p._repo,p._path,g,p._orderByCalled)}}function vd(y,p){return Nu("startAfter","key",p,!0),new Xc(y,p)}class Gd extends ec{constructor(p){super(),this._limit=p}_apply(p){if(p._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ro(p._repo,p._path,function Ea(y,p){const g=y.copy();return g.limitSet_=!0,g.limit_=p,g.viewFrom_="l",g}(p._queryParams,this._limit),p._orderByCalled)}}function Wg(y){if("number"!=typeof y||Math.floor(y)!==y||y<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Gd(y)}class Tp extends ec{constructor(p){super(),this._limit=p}_apply(p){if(p._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ro(p._repo,p._path,function ji(y,p){const g=y.copy();return g.limitSet_=!0,g.limit_=p,g.viewFrom_="r",g}(p._queryParams,this._limit),p._orderByCalled)}}function Zi(y){if("number"!=typeof y||Math.floor(y)!==y||y<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Tp(y)}class Sp extends ec{constructor(p){super(),this._path=p}_apply(p){Vu(p,"orderByChild");const g=new Br(this._path);if(Ut(g))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const I=new La(g),L=fa(p._queryParams,I);return hl(L),new Ro(p._repo,p._path,L,!0)}}function yf(y){if("$key"===y)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===y)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===y)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zo("orderByChild","path",y,!1),new Sp(y)}class Dp extends ec{_apply(p){Vu(p,"orderByKey");const g=fa(p._queryParams,Bi);return hl(g),new Ro(p._repo,p._path,g,!0)}}function vf(){return new Dp}class Vh extends ec{_apply(p){Vu(p,"orderByPriority");const g=fa(p._queryParams,Or);return hl(g),new Ro(p._repo,p._path,g,!0)}}function Bh(){return new Vh}class M_ extends ec{_apply(p){Vu(p,"orderByValue");const g=fa(p._queryParams,Ds);return hl(g),new Ro(p._repo,p._path,g,!0)}}function Ed(){return new M_}class Hd extends ec{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){if(il("equalTo",this._value,p._path,!1),p._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(p._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Rl(this._value,this._key)._apply(new od(this._value,this._key)._apply(p))}}function ad(y,p){return Nu("equalTo","key",p,!0),new Hd(y,p)}function zd(y,...p){let g=(0,ne.m9)(y);for(const I of p)g=I._apply(g);return g}(function yl(y){(0,ne.hu)(!Ki,"__referenceConstructor has already been defined"),Ki=y})(Al),function nl(y){(0,ne.hu)(!vc,"__referenceConstructor has already been defined"),vc=y}(Al);const qg="FIREBASE_DATABASE_EMULATOR_HOST",ld={};let Ef=!1;function vh(y,p,g,I,L){let K=I||y.options.databaseURL;void 0===K&&(y.options.projectId||Mt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),It("Using default host for project ",y.options.projectId),K=`${y.options.projectId}-default-rtdb.firebaseio.com`);let je,Xe,se=Fc(K,L),De=se.repoInfo;typeof process<"u"&&process.env&&(Xe=process.env[qg]),Xe?(je=!0,K=`http://${Xe}?ns=${De.namespace}`,se=Fc(K,L),De=se.repoInfo):je=!se.repoInfo.secure;const Jt=L&&je?new Ue(Ue.OWNER):new Nr(y.name,y.options,p);bc("Invalid Firebase Database URL",se),Ut(se.path)||Mt("Database URL must point to the root of a Firebase Database (not including a child path).");const Xt=function wd(y,p,g,I){let L=ld[p.name];L||(L={},ld[p.name]=L);let K=L[y.toURLString()];return K&&Mt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),K=new _d(y,Ef,g,I),L[y.toURLString()]=K,K}(De,y,Jt,new Mn(y.name,g));return new bd(Xt,y)}class bd{constructor(p,g){this._repoInternal=p,this.app=g,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function kc(y,p,g){if(y.stats_=Xi(y.repoInfo_),y.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)y.server_=new pa(y.repoInfo_,(I,L,K,se)=>{Xu(y,I,L,K,se)},y.authTokenProvider_,y.appCheckProvider_),setTimeout(()=>Ic(y,!0),0);else{if(typeof g<"u"&&null!==g){if("object"!=typeof g)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ne.Wl)(g)}catch(I){throw new Error("Invalid authOverride provided: "+I)}}y.persistentConnection_=new gi(y.repoInfo_,p,(I,L,K,se)=>{Xu(y,I,L,K,se)},I=>{Ic(y,I)},I=>{!function Jl(y,p){nt(p,(g,I)=>{ed(y,g,I)})}(y,I)},y.authTokenProvider_,y.appCheckProvider_,g),y.server_=y.persistentConnection_}y.authTokenProvider_.addTokenChangeListener(I=>{y.server_.refreshAuthToken(I)}),y.appCheckProvider_.addTokenChangeListener(I=>{y.server_.refreshAppCheckToken(I.token)}),y.statsReporter_=function Dr(y,p){const g=y.toString();return Vr[g]||(Vr[g]=p()),Vr[g]}(y.repoInfo_,()=>new Cs(y.stats_,y.server_)),y.infoData_=new $i,y.infoSyncTree_=new yo({startListening:(I,L,K,se)=>{let De=[];const je=y.infoData_.getNode(I._path);return je.isEmpty()||(De=ba(y.infoSyncTree_,I._path,je),setTimeout(()=>{se("ok")},0)),De},stopListening:()=>{}}),ed(y,"connected",!1),y.serverSyncTree_=new yo({startListening:(I,L,K,se)=>(y.server_.listen(I,K,L,(De,je)=>{const Xe=se(De,je);Jo(y.eventQueue_,I._path,Xe)}),[]),stopListening:(I,L)=>{y.server_.unlisten(I,L)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Al(this._repo,Un())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Cp(y,p){const g=ld[p];(!g||g[y.key]!==y)&&Mt(`Database ${p}(${y.repoInfo_}) has already been deleted.`),q(y),delete g[y.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(p){null===this._rootInternal&&Mt("Cannot call "+p+" on a deleted database.")}}function Xo(){Ei.IS_TRANSPORT_INITIALIZED&&Oe("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Wd(){Xo(),Lt.forceDisallow()}function Id(){Xo(),dr.forceDisallow(),Lt.forceAllow()}function qd(y=(0,ge.getApp)(),p){const g=(0,ge._getProvider)(y,"database").getImmediate({identifier:p});if(!g._instanceStarted){const I=(0,ne.P0)("database");I&&Kd(g,...I)}return g}function Kd(y,p,g,I={}){(y=(0,ne.m9)(y))._checkNotDeleted("useEmulator"),y._instanceStarted&&Mt("Cannot call useEmulator() after instance has already been initialized.");const L=y._repoInternal;let K;if(L.repoInfo_.nodeAdmin)I.mockUserToken&&Mt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),K=new Ue(Ue.OWNER);else if(I.mockUserToken){const se="string"==typeof I.mockUserToken?I.mockUserToken:(0,ne.Sg)(I.mockUserToken,y.app.options.projectId);K=new Ue(se)}!function mu(y,p,g,I){y.repoInfo_=new ii(`${p}:${g}`,!1,y.repoInfo_.namespace,y.repoInfo_.webSocketOnly,y.repoInfo_.nodeAdmin,y.repoInfo_.persistenceKey,y.repoInfo_.includeNamespaceInQueryParams,!0),I&&(y.authTokenProvider_=I)}(L,p,g,K)}function Yd(y){(y=(0,ne.m9)(y))._checkNotDeleted("goOffline"),q(y._repo)}function P_(y){(y=(0,ne.m9)(y))._checkNotDeleted("goOnline"),function ae(y){y.persistentConnection_&&y.persistentConnection_.resume(jl)}(y._repo)}function Kg(y,p){st(y,p)}const _u={".sv":"timestamp"};function Rp(){return _u}function xp(y){return{".sv":{increment:y}}}class Op{constructor(p,g){this.committed=p,this.snapshot=g}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function ud(y,p,g){var I;if(y=(0,ne.m9)(y),Ao("Reference.transaction",y._path),".length"===y.key||".keys"===y.key)throw"Reference.transaction failed: "+y.key+" is a read-only object.";const L=null===(I=g?.applyLocally)||void 0===I||I,K=new ne.BH,De=fl(y,()=>{});return function lt(y,p,g,I,L,K){Re(y,"transaction on "+p);const se={path:p,update:g,onComplete:I,status:null,order:ut(),applyLocally:K,retryCount:0,unwatcher:L,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},De=Wt(y,p,void 0);se.currentInputSnapshot=De;const je=se.update(De.val());if(void 0===je)se.unwatcher(),se.currentOutputSnapshotRaw=null,se.currentOutputSnapshotResolved=null,se.onComplete&&se.onComplete(null,!1,se.currentInputSnapshot);else{Yo("transaction failed: Data returned ",je,se.path),se.status=0;const Xe=An(y.transactionQueueTree_,p),Jt=Rr(Xe)||[];let Xt;Jt.push(se),Ur(Xe,Jt),"object"==typeof je&&null!==je&&(0,ne.r3)(je,".priority")?(Xt=(0,ne.DV)(je,".priority"),(0,ne.hu)(wc(Xt),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Xt=(R(y.serverSyncTree_,p)||Cr.EMPTY_NODE).getPriority().val();const hn=cc(y),wr=Ui(je,Xt),Wr=za(wr,De,hn);se.currentOutputSnapshotRaw=wr,se.currentOutputSnapshotResolved=Wr,se.currentWriteId=Uo(y);const Ps=vo(y.serverSyncTree_,p,Wr,se.currentWriteId,se.applyLocally);Jo(y.eventQueue_,p,Ps),Zn(y,y.transactionQueueTree_)}}(y._repo,y._path,p,(je,Xe,Jt)=>{let Xt=null;je?K.reject(je):(Xt=new gu(Jt,new Al(y._repo,y._path),Or),K.resolve(new Op(Xe,Xt)))},De,L),K.promise}gi.prototype.simpleListen=function(y,p){this.sendRequest("q",{p:y},p)},gi.prototype.echo=function(y,p){this.sendRequest("echo",{d:y},p)},function cd(y){it(ge.SDK_VERSION),(0,ge._registerComponent)(new we.wA("database",(p,{instanceIdentifier:g})=>vh(p.getProvider("app").getImmediate(),p.getProvider("auth-internal"),p.getProvider("app-check-internal"),g),"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(He,"0.14.4",y),(0,ge.registerVersion)(He,"0.14.4","esm2017")}()},9058:(Rn,yt,Y)=>{Y.d(yt,{$s:()=>wt,BH:()=>pt,DV:()=>Ze,Dv:()=>qr,GJ:()=>Nr,L:()=>it,LL:()=>en,P0:()=>wn,Pz:()=>It,Sg:()=>gt,UG:()=>Ht,UI:()=>Nt,US:()=>He,Wj:()=>Dr,Wl:()=>ir,Yr:()=>Ln,ZB:()=>Qe,ZR:()=>Ct,aH:()=>st,b$:()=>jn,cI:()=>Hr,dS:()=>bs,eu:()=>nt,g5:()=>we,gK:()=>Vr,gQ:()=>er,h$:()=>ct,hl:()=>Ye,hu:()=>ge,jU:()=>on,lb:()=>ur,m9:()=>tr,ne:()=>cr,p$:()=>xe,pd:()=>bn,q4:()=>Nn,r3:()=>Ue,ru:()=>Wn,tV:()=>Te,uI:()=>Oe,ug:()=>Is,vZ:()=>At,w1:()=>Yn,w9:()=>Mn,xO:()=>Xn,xb:()=>St,z$:()=>Mt,zI:()=>Et,zd:()=>cn});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ge=function(Ve,me){if(!Ve)throw we(me)},we=function(Ve){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Ve)},ne=function(Ve){const me=[];let fe=0;for(let Le=0;Le<Ve.length;Le++){let ve=Ve.charCodeAt(Le);ve<128?me[fe++]=ve:ve<2048?(me[fe++]=ve>>6|192,me[fe++]=63&ve|128):55296==(64512&ve)&&Le+1<Ve.length&&56320==(64512&Ve.charCodeAt(Le+1))?(ve=65536+((1023&ve)<<10)+(1023&Ve.charCodeAt(++Le)),me[fe++]=ve>>18|240,me[fe++]=ve>>12&63|128,me[fe++]=ve>>6&63|128,me[fe++]=63&ve|128):(me[fe++]=ve>>12|224,me[fe++]=ve>>6&63|128,me[fe++]=63&ve|128)}return me},He={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ve,me){if(!Array.isArray(Ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const fe=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,Le=[];for(let ve=0;ve<Ve.length;ve+=3){const ze=Ve[ve],Lt=ve+1<Ve.length,tn=Lt?Ve[ve+1]:0,qn=ve+2<Ve.length,Sn=qn?Ve[ve+2]:0;let Ei=(15&tn)<<2|Sn>>6,ui=63&Sn;qn||(ui=64,Lt||(Ei=64)),Le.push(fe[ze>>2],fe[(3&ze)<<4|tn>>4],fe[Ei],fe[ui])}return Le.join("")},encodeString(Ve,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(Ve):this.encodeByteArray(ne(Ve),me)},decodeString(Ve,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(Ve):function(Ve){const me=[];let fe=0,Le=0;for(;fe<Ve.length;){const ve=Ve[fe++];if(ve<128)me[Le++]=String.fromCharCode(ve);else if(ve>191&&ve<224){const ze=Ve[fe++];me[Le++]=String.fromCharCode((31&ve)<<6|63&ze)}else if(ve>239&&ve<365){const qn=((7&ve)<<18|(63&Ve[fe++])<<12|(63&Ve[fe++])<<6|63&Ve[fe++])-65536;me[Le++]=String.fromCharCode(55296+(qn>>10)),me[Le++]=String.fromCharCode(56320+(1023&qn))}else{const ze=Ve[fe++],Lt=Ve[fe++];me[Le++]=String.fromCharCode((15&ve)<<12|(63&ze)<<6|63&Lt)}}return me.join("")}(this.decodeStringToByteArray(Ve,me))},decodeStringToByteArray(Ve,me){this.init_();const fe=me?this.charToByteMapWebSafe_:this.charToByteMap_,Le=[];for(let ve=0;ve<Ve.length;){const ze=fe[Ve.charAt(ve++)],tn=ve<Ve.length?fe[Ve.charAt(ve)]:0;++ve;const Sn=ve<Ve.length?fe[Ve.charAt(ve)]:64;++ve;const dr=ve<Ve.length?fe[Ve.charAt(ve)]:64;if(++ve,null==ze||null==tn||null==Sn||null==dr)throw new Ae;Le.push(ze<<2|tn>>4),64!==Sn&&(Le.push(tn<<4&240|Sn>>2),64!==dr&&Le.push(Sn<<6&192|dr))}return Le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ve=0;Ve<this.ENCODED_VALS.length;Ve++)this.byteToCharMap_[Ve]=this.ENCODED_VALS.charAt(Ve),this.charToByteMap_[this.byteToCharMap_[Ve]]=Ve,this.byteToCharMapWebSafe_[Ve]=this.ENCODED_VALS_WEBSAFE.charAt(Ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ve]]=Ve,Ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ve)]=Ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ve)]=Ve)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ct=function(Ve){const me=ne(Ve);return He.encodeByteArray(me,!0)},it=function(Ve){return ct(Ve).replace(/\./g,"")},Te=function(Ve){try{return He.decodeString(Ve,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function xe(Ve){return Qe(void 0,Ve)}function Qe(Ve,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===Ve&&(Ve={});break;case Array:Ve=[];break;default:return me}for(const fe in me)!me.hasOwnProperty(fe)||!mt(fe)||(Ve[fe]=Qe(Ve[fe],me[fe]));return Ve}function mt(Ve){return"__proto__"!==Ve}const qt=()=>{try{return function Ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ve=process.env.__FIREBASE_DEFAULTS__;return Ve?JSON.parse(Ve):void 0})()||(()=>{if(typeof document>"u")return;let Ve;try{Ve=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const me=Ve&&Te(Ve[1]);return me&&JSON.parse(me)})()}catch(Ve){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ve}`)}},Nn=Ve=>{var me,fe;return null===(fe=null===(me=qt())||void 0===me?void 0:me.emulatorHosts)||void 0===fe?void 0:fe[Ve]},wn=Ve=>{const me=Nn(Ve);if(!me)return;const fe=me.lastIndexOf(":");if(fe<=0||fe+1===me.length)throw new Error(`Invalid host ${me} with no separate hostname and port!`);const Le=parseInt(me.substring(fe+1),10);return"["===me[0]?[me.substring(1,fe-1),Le]:[me.substring(0,fe),Le]},st=()=>{var Ve;return null===(Ve=qt())||void 0===Ve?void 0:Ve.config},It=Ve=>{var me;return null===(me=qt())||void 0===me?void 0:me[`_${Ve}`]};class pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,fe)=>{this.resolve=me,this.reject=fe})}wrapCallback(me){return(fe,Le)=>{fe?this.reject(fe):this.resolve(Le),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(fe):me(fe,Le))}}}function gt(Ve,me){if(Ve.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Le=me||"demo-project",ve=Ve.iat||0,ze=Ve.sub||Ve.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Lt=Object.assign({iss:`https://securetoken.google.com/${Le}`,aud:Le,iat:ve,exp:ve+3600,auth_time:ve,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},Ve);return[it(JSON.stringify({alg:"none",type:"JWT"})),it(JSON.stringify(Lt)),""].join(".")}function Mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function Ht(){var Ve;const me=null===(Ve=qt())||void 0===Ve?void 0:Ve.forceEnvironment;if("node"===me)return!0;if("browser"===me)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function on(){return"object"==typeof self&&self.self===self}function Wn(){const Ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ve&&void 0!==Ve.id}function jn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Yn(){const Ve=Mt();return Ve.indexOf("MSIE ")>=0||Ve.indexOf("Trident/")>=0}function Ln(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function Ye(){try{return"object"==typeof indexedDB}catch{return!1}}function nt(){return new Promise((Ve,me)=>{try{let fe=!0;const Le="validate-browser-context-for-indexeddb-analytics-module",ve=self.indexedDB.open(Le);ve.onsuccess=()=>{ve.result.close(),fe||self.indexedDB.deleteDatabase(Le),Ve(!0)},ve.onupgradeneeded=()=>{fe=!1},ve.onerror=()=>{var ze;me((null===(ze=ve.error)||void 0===ze?void 0:ze.message)||"")}}catch(fe){me(fe)}})}function Et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ct extends Error{constructor(me,fe,Le){super(fe),this.code=me,this.customData=Le,this.name="FirebaseError",Object.setPrototypeOf(this,Ct.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,en.prototype.create)}}class en{constructor(me,fe,Le){this.service=me,this.serviceName=fe,this.errors=Le}create(me,...fe){const Le=fe[0]||{},ve=`${this.service}/${me}`,ze=this.errors[me],Lt=ze?function rn(Ve,me){return Ve.replace(ln,(fe,Le)=>{const ve=me[Le];return null!=ve?String(ve):`<${Le}?>`})}(ze,Le):"Error";return new Ct(ve,`${this.serviceName}: ${Lt} (${ve}).`,Le)}}const ln=/\{\$([^}]+)}/g;function Hr(Ve){return JSON.parse(Ve)}function ir(Ve){return JSON.stringify(Ve)}const hr=function(Ve){let me={},fe={},Le={},ve="";try{const ze=Ve.split(".");me=Hr(Te(ze[0])||""),fe=Hr(Te(ze[1])||""),ve=ze[2],Le=fe.d||{},delete fe.d}catch{}return{header:me,claims:fe,data:Le,signature:ve}},Mn=function(Ve){const fe=hr(Ve).claims;return!!fe&&"object"==typeof fe&&fe.hasOwnProperty("iat")},Nr=function(Ve){const me=hr(Ve).claims;return"object"==typeof me&&!0===me.admin};function Ue(Ve,me){return Object.prototype.hasOwnProperty.call(Ve,me)}function Ze(Ve,me){if(Object.prototype.hasOwnProperty.call(Ve,me))return Ve[me]}function St(Ve){for(const me in Ve)if(Object.prototype.hasOwnProperty.call(Ve,me))return!1;return!0}function Nt(Ve,me,fe){const Le={};for(const ve in Ve)Object.prototype.hasOwnProperty.call(Ve,ve)&&(Le[ve]=me.call(fe,Ve[ve],ve,Ve));return Le}function At(Ve,me){if(Ve===me)return!0;const fe=Object.keys(Ve),Le=Object.keys(me);for(const ve of fe){if(!Le.includes(ve))return!1;const ze=Ve[ve],Lt=me[ve];if(Qt(ze)&&Qt(Lt)){if(!At(ze,Lt))return!1}else if(ze!==Lt)return!1}for(const ve of Le)if(!fe.includes(ve))return!1;return!0}function Qt(Ve){return null!==Ve&&"object"==typeof Ve}function Xn(Ve){const me=[];for(const[fe,Le]of Object.entries(Ve))Array.isArray(Le)?Le.forEach(ve=>{me.push(encodeURIComponent(fe)+"="+encodeURIComponent(ve))}):me.push(encodeURIComponent(fe)+"="+encodeURIComponent(Le));return me.length?"&"+me.join("&"):""}function cn(Ve){const me={};return Ve.replace(/^\?/,"").split("&").forEach(Le=>{if(Le){const[ve,ze]=Le.split("=");me[decodeURIComponent(ve)]=decodeURIComponent(ze)}}),me}function bn(Ve){const me=Ve.indexOf("?");if(!me)return"";const fe=Ve.indexOf("#",me);return Ve.substring(me,fe>0?fe:void 0)}class er{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let me=1;me<this.blockSize;++me)this.pad_[me]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(me,fe){fe||(fe=0);const Le=this.W_;if("string"==typeof me)for(let dr=0;dr<16;dr++)Le[dr]=me.charCodeAt(fe)<<24|me.charCodeAt(fe+1)<<16|me.charCodeAt(fe+2)<<8|me.charCodeAt(fe+3),fe+=4;else for(let dr=0;dr<16;dr++)Le[dr]=me[fe]<<24|me[fe+1]<<16|me[fe+2]<<8|me[fe+3],fe+=4;for(let dr=16;dr<80;dr++){const Ei=Le[dr-3]^Le[dr-8]^Le[dr-14]^Le[dr-16];Le[dr]=4294967295&(Ei<<1|Ei>>>31)}let Sn,ni,ve=this.chain_[0],ze=this.chain_[1],Lt=this.chain_[2],tn=this.chain_[3],qn=this.chain_[4];for(let dr=0;dr<80;dr++){dr<40?dr<20?(Sn=tn^ze&(Lt^tn),ni=1518500249):(Sn=ze^Lt^tn,ni=1859775393):dr<60?(Sn=ze&Lt|tn&(ze|Lt),ni=2400959708):(Sn=ze^Lt^tn,ni=3395469782);const Ei=(ve<<5|ve>>>27)+Sn+qn+ni+Le[dr]&4294967295;qn=tn,tn=Lt,Lt=4294967295&(ze<<30|ze>>>2),ze=ve,ve=Ei}this.chain_[0]=this.chain_[0]+ve&4294967295,this.chain_[1]=this.chain_[1]+ze&4294967295,this.chain_[2]=this.chain_[2]+Lt&4294967295,this.chain_[3]=this.chain_[3]+tn&4294967295,this.chain_[4]=this.chain_[4]+qn&4294967295}update(me,fe){if(null==me)return;void 0===fe&&(fe=me.length);const Le=fe-this.blockSize;let ve=0;const ze=this.buf_;let Lt=this.inbuf_;for(;ve<fe;){if(0===Lt)for(;ve<=Le;)this.compress_(me,ve),ve+=this.blockSize;if("string"==typeof me){for(;ve<fe;)if(ze[Lt]=me.charCodeAt(ve),++Lt,++ve,Lt===this.blockSize){this.compress_(ze),Lt=0;break}}else for(;ve<fe;)if(ze[Lt]=me[ve],++Lt,++ve,Lt===this.blockSize){this.compress_(ze),Lt=0;break}}this.inbuf_=Lt,this.total_+=fe}digest(){const me=[];let fe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ve=this.blockSize-1;ve>=56;ve--)this.buf_[ve]=255&fe,fe/=256;this.compress_(this.buf_);let Le=0;for(let ve=0;ve<5;ve++)for(let ze=24;ze>=0;ze-=8)me[Le]=this.chain_[ve]>>ze&255,++Le;return me}}function cr(Ve,me){const fe=new ii(Ve,me);return fe.subscribe.bind(fe)}class ii{constructor(me,fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=fe,this.task.then(()=>{me(this)}).catch(Le=>{this.error(Le)})}next(me){this.forEachObserver(fe=>{fe.next(me)})}error(me){this.forEachObserver(fe=>{fe.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,fe,Le){let ve;if(void 0===me&&void 0===fe&&void 0===Le)throw new Error("Missing Observer.");ve=function Ir(Ve,me){if("object"!=typeof Ve||null===Ve)return!1;for(const fe of me)if(fe in Ve&&"function"==typeof Ve[fe])return!0;return!1}(me,["next","error","complete"])?me:{next:me,error:fe,complete:Le},void 0===ve.next&&(ve.next=ti),void 0===ve.error&&(ve.error=ti),void 0===ve.complete&&(ve.complete=ti);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ve.error(this.finalError):ve.complete()}catch{}}),this.observers.push(ve),ze}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let fe=0;fe<this.observers.length;fe++)this.sendOne(fe,me)}sendOne(me,fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{fe(this.observers[me])}catch(Le){typeof console<"u"&&console.error&&console.error(Le)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ti(){}const qr=function(Ve,me,fe,Le){let ve;if(Le<me?ve="at least "+me:Le>fe&&(ve=0===fe?"none":"no more than "+fe),ve)throw new Error(Ve+" failed: Was called with "+Le+(1===Le?" argument.":" arguments.")+" Expects "+ve+".")};function Vr(Ve,me){return`${Ve} failed: ${me} argument `}function Dr(Ve,me,fe,Le){if((!Le||fe)&&"function"!=typeof fe)throw new Error(Vr(Ve,me)+"must be a valid function.")}function ur(Ve,me,fe,Le){if((!Le||fe)&&("object"!=typeof fe||null===fe))throw new Error(Vr(Ve,me)+"must be a valid context object.")}const bs=function(Ve){const me=[];let fe=0;for(let Le=0;Le<Ve.length;Le++){let ve=Ve.charCodeAt(Le);if(ve>=55296&&ve<=56319){const ze=ve-55296;Le++,ge(Le<Ve.length,"Surrogate pair missing trail surrogate."),ve=65536+(ze<<10)+(Ve.charCodeAt(Le)-56320)}ve<128?me[fe++]=ve:ve<2048?(me[fe++]=ve>>6|192,me[fe++]=63&ve|128):ve<65536?(me[fe++]=ve>>12|224,me[fe++]=ve>>6&63|128,me[fe++]=63&ve|128):(me[fe++]=ve>>18|240,me[fe++]=ve>>12&63|128,me[fe++]=ve>>6&63|128,me[fe++]=63&ve|128)}return me},Is=function(Ve){let me=0;for(let fe=0;fe<Ve.length;fe++){const Le=Ve.charCodeAt(fe);Le<128?me++:Le<2048?me+=2:Le>=55296&&Le<=56319?(me+=4,fe++):me+=3}return me},vs=1e3,Tt=2,$e=144e5,Vt=.5;function wt(Ve,me=vs,fe=Tt){const Le=me*Math.pow(fe,Ve),ve=Math.round(Vt*Le*(Math.random()-.5)*2);return Math.min($e,Le+ve)}function tr(Ve){return Ve&&Ve._delegate?Ve._delegate:Ve}},8976:(Rn,yt,Y)=>{Y.d(yt,{b:()=>d});class d{constructor(we,ne,Ne){this.mail=we,this.password=ne,this.nombre=Ne,this.fechaAcceso=Date.now(),this.id=""}}},6514:(Rn,yt,Y)=>{Y.d(yt,{T:()=>He});var d=Y(5861),ge=Y(5879),we=Y(6796),ne=Y(1826),Ne=Y(2759);let He=(()=>{var Ae;class ct{constructor(Te,xe,Qe){this.auth=Te,this.router=xe,this.userService=Qe,this.auth.onAuthStateChanged(mt=>{mt?(this.UserData=mt,localStorage.setItem("user",JSON.stringify(this.UserData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}guardar(Te,xe){var Qe=this;return(0,d.Z)(function*(){return(yield Qe.auth.createUserWithEmailAndPassword(Te,xe)).user?.uid})()}login(Te,xe){return this.auth.signInWithEmailAndPassword(Te,xe).then(Qe=>{this.UserData=Qe.user,this.userService.updateLoginState(this.UserData.uid),this.router.navigateByUrl("")}).catch(Qe=>{window.alert(Qe.message)})}logout(){return this.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigateByUrl("login")})}isLoggedIn(){const Te=localStorage.getItem("user");return null!==JSON.parse(Te)}}return(Ae=ct).\u0275fac=function(Te){return new(Te||Ae)(ge.LFG(we.zQ),ge.LFG(ne.F0),ge.LFG(Ne.J))},Ae.\u0275prov=ge.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),ct})()},833:(Rn,yt,Y)=>{Y.d(yt,{_:()=>ne});var d=Y(5619),ge=Y(5879),we=Y(1826);let ne=(()=>{var Ne;class He{updateOverlayState(ct){this.showOverlay.next(ct)}constructor(ct){this.router=ct,this.showOverlay=new d.X(!1),this.currentOverlayState=this.showOverlay.asObservable(),ct.events.subscribe(it=>{this.navigationInterceptor(it)})}navigationInterceptor(ct){}}return(Ne=He).\u0275fac=function(ct){return new(ct||Ne)(ge.LFG(we.F0))},Ne.\u0275prov=ge.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),He})()},2759:(Rn,yt,Y)=>{Y.d(yt,{J:()=>He});var d=Y(5861),ge=Y(8976),we=Y(938),ne=Y(5619),Ne=Y(5879);let He=(()=>{var Ae;class ct{constructor(Te){this.firestore=Te,this.loginState=new ne.X(""),this.currentLoginState=this.loginState.asObservable(),this.usuariosRef=(0,we.hJ)(this.firestore,"usuarios")}updateLoginState(Te){this.loginState.next(Te)}addUsuario(Te){return(0,we.ET)(this.usuariosRef,Te)}setUsuario(Te,xe){var Qe=this;return(0,d.Z)(function*(){const mt=(0,we.JU)(Qe.usuariosRef,xe);return Te.id=xe,(0,we.pl)(mt,{...Te})})()}getUsuarios(){return(0,we.BS)(this.usuariosRef,{idField:"id"})}traerSubscripcion(){return this.getUsuarios().subscribe(Te=>{console.log(Te)})}getUsuario(Te){var xe=this;return(0,d.Z)(function*(){var Qe=new Document;return(yield(0,we.PL)(xe.usuariosRef)).forEach(Ge=>{Ge.id==Te&&(Qe=Ge.data())}),new ge.b(Qe.mail,Qe.password,Qe.nombre)})()}updUsuario(Te){const xe=(0,we.JU)(this.firestore,`usuarios/${Te.mail}`);return(0,we.r7)(xe,{...Te})}delUsuario(Te){const xe=(0,we.JU)(this.firestore,`usuarios/${Te}`);return(0,we.oe)(xe)}}return(Ae=ct).\u0275fac=function(Te){return new(Te||Ae)(Ne.LFG(we.gg))},Ae.\u0275prov=Ne.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),ct})()},5980:(Rn,yt,Y)=>{var d=Y(6593),ge=Y(1826),we=Y(6514),ne=Y(5879);const He=[{path:"",canActivate:[(oe,A)=>!!(0,ne.f3M)(we.T).isLoggedIn()||(0,ne.f3M)(ge.F0).navigateByUrl("login")],loadChildren:()=>Y.e(599).then(Y.bind(Y,6599)).then(oe=>oe.HomeModule)},{path:"login",loadChildren:()=>Y.e(629).then(Y.bind(Y,2629)).then(oe=>oe.LoginModule)},{path:"registro",loadChildren:()=>Promise.all([Y.e(519),Y.e(121)]).then(Y.bind(Y,5121)).then(oe=>oe.RegistroModule)},{path:"**",loadChildren:()=>Y.e(694).then(Y.bind(Y,694)).then(oe=>oe.ErrorModule)}];let Ae=(()=>{var oe;class A{}return(oe=A).\u0275fac=function(W){return new(W||oe)},oe.\u0275mod=ne.oAB({type:oe}),oe.\u0275inj=ne.cJS({imports:[ge.Bz.forRoot(He),ge.Bz]}),A})();var ct=Y(833),it=Y(6814);function Te(oe,A){1&oe&&(ne.TgZ(0,"div",5)(1,"div",6),ne._UZ(2,"div",7)(3,"div",8),ne.qZA()())}let xe=(()=>{var oe;class A{constructor(W){this.interceptor=W,this.title="sala-juegos-llemos",this.showOverlay=!1,W.currentOverlayState.subscribe(ue=>this.showOverlay=ue)}}return(oe=A).\u0275fac=function(W){return new(W||oe)(ne.Y36(ct._))},oe.\u0275cmp=ne.Xpm({type:oe,selectors:[["app-root"]],decls:7,vars:1,consts:[["class","my-overlay",4,"ngIf"],[1,"text-center","bg-dark"],[1,"cover-container","p-3","pt-0","mx-auto"],[1,"border-top","border-secondary","text-center","w-100"],[1,"text-light","font-monospace"],[1,"my-overlay"],[1,"spinner"],[1,"cube1"],[1,"cube2"]],template:function(W,ue){1&W&&(ne.YNc(0,Te,4,0,"div",0),ne.TgZ(1,"main",1)(2,"div",2),ne._UZ(3,"router-outlet"),ne.qZA()(),ne.TgZ(4,"footer",3)(5,"span",4),ne._uU(6,"LEMOS LAUTARO LUCAS - 2023"),ne.qZA()()),2&W&&ne.Q6J("ngIf",ue.showOverlay)},dependencies:[it.O5,ge.lC],styles:[".btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:hover, .btn-secondary[_ngcontent-%COMP%]:focus{color:#333;text-shadow:none}main[_ngcontent-%COMP%]{min-height:calc(100vh - 71px)}footer[_ngcontent-%COMP%]{line-height:20px;padding:10px 20px;margin-top:30px}.cover-container[_ngcontent-%COMP%]{max-width:50em}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ffffff80;border-bottom:.25rem solid transparent}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{border-bottom-color:#ffffff40}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] + .nav-link[_ngcontent-%COMP%]{margin-left:1rem}.nav-masthead[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}.my-overlay[_ngcontent-%COMP%]{left:0!important;top:0!important;z-index:10000!important;width:100%!important;height:100%!important;position:fixed!important;background-color:rgba(var(--bs-dark-rgb),1)!important;cursor:pointer!important;visibility:visible!important;transition:visibility 0s,opacity .4s linear!important;display:flex;align-items:center;justify-content:center;cursor:wait!important}.spinner[_ngcontent-%COMP%]{margin:100px auto;width:40px;height:40px;position:relative}.cube1[_ngcontent-%COMP%], .cube2[_ngcontent-%COMP%]{background-color:#979797;width:15px;height:15px;position:absolute;top:0;left:0;animation:_ngcontent-%COMP%_sk-cubemove 1.8s infinite ease-in-out}.cube2[_ngcontent-%COMP%]{animation-delay:-.9s}@keyframes _ngcontent-%COMP%_sk-cubemove{25%{transform:translate(42px) rotate(-90deg) scale(.5);-webkit-transform:translateX(42px) rotate(-90deg) scale(.5)}50%{transform:translate(42px) translateY(42px) rotate(-179deg);-webkit-transform:translateX(42px) translateY(42px) rotate(-179deg)}50.1%{transform:translate(42px) translateY(42px) rotate(-180deg);-webkit-transform:translateX(42px) translateY(42px) rotate(-180deg)}75%{transform:translate(0) translateY(42px) rotate(-270deg) scale(.5);-webkit-transform:translateX(0px) translateY(42px) rotate(-270deg) scale(.5)}to{transform:rotate(-360deg);-webkit-transform:rotate(-360deg)}}"]}),A})();var Qe=Y(6675),mt=Y(5597);class Ge{}class Yt{}const ut="*";function wn(oe,A=null){return{type:2,steps:oe,options:A}}function st(oe){return{type:6,styles:oe,offset:null}}class jn{constructor(A=0,F=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=A+F}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(A=>A()),this._onDoneFns=[])}onStart(A){this._originalOnStartFns.push(A),this._onStartFns.push(A)}onDone(A){this._originalOnDoneFns.push(A),this._onDoneFns.push(A)}onDestroy(A){this._onDestroyFns.push(A)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(A=>A()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(A=>A()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(A){this._position=this.totalTime?A*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(A){const F="start"==A?this._onStartFns:this._onDoneFns;F.forEach(W=>W()),F.length=0}}class mn{constructor(A){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=A;let F=0,W=0,ue=0;const w=this.players.length;0==w?queueMicrotask(()=>this._onFinish()):this.players.forEach(R=>{R.onDone(()=>{++F==w&&this._onFinish()}),R.onDestroy(()=>{++W==w&&this._onDestroy()}),R.onStart(()=>{++ue==w&&this._onStart()})}),this.totalTime=this.players.reduce((R,P)=>Math.max(R,P.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(A=>A()),this._onDoneFns=[])}init(){this.players.forEach(A=>A.init())}onStart(A){this._onStartFns.push(A)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(A=>A()),this._onStartFns=[])}onDone(A){this._onDoneFns.push(A)}onDestroy(A){this._onDestroyFns.push(A)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(A=>A.play())}pause(){this.players.forEach(A=>A.pause())}restart(){this.players.forEach(A=>A.restart())}finish(){this._onFinish(),this.players.forEach(A=>A.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(A=>A.destroy()),this._onDestroyFns.forEach(A=>A()),this._onDestroyFns=[])}reset(){this.players.forEach(A=>A.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(A){const F=A*this.totalTime;this.players.forEach(W=>{const ue=W.totalTime?Math.min(1,F/W.totalTime):1;W.setPosition(ue)})}getPosition(){const A=this.players.reduce((F,W)=>null===F||W.totalTime>F.totalTime?W:F,null);return null!=A?A.getPosition():0}beforeDestroy(){this.players.forEach(A=>{A.beforeDestroy&&A.beforeDestroy()})}triggerCallback(A){const F="start"==A?this._onStartFns:this._onDoneFns;F.forEach(W=>W()),F.length=0}}function Ln(oe){return new ne.vHH(3e3,!1)}function ur(oe){switch(oe.length){case 0:return new jn;case 1:return oe[0];default:return new mn(oe)}}function bs(oe,A,F=new Map,W=new Map){const ue=[],w=[];let R=-1,P=null;if(A.forEach(M=>{const z=M.get("offset"),ce=z==R,pe=ce&&P||new Map;M.forEach((Je,kt)=>{let dt=kt,fn=Je;if("offset"!==kt)switch(dt=oe.normalizePropertyName(dt,ue),fn){case"!":fn=F.get(kt);break;case ut:fn=W.get(kt);break;default:fn=oe.normalizeStyleValue(kt,dt,fn,ue)}pe.set(dt,fn)}),ce||w.push(pe),P=pe,R=z}),ue.length)throw function Xn(oe){return new ne.vHH(3502,!1)}();return w}function Is(oe,A,F,W){switch(A){case"start":oe.onStart(()=>W(F&&_i(F,"start",oe)));break;case"done":oe.onDone(()=>W(F&&_i(F,"done",oe)));break;case"destroy":oe.onDestroy(()=>W(F&&_i(F,"destroy",oe)))}}function _i(oe,A,F){const w=vs(oe.element,oe.triggerName,oe.fromState,oe.toState,A||oe.phaseName,F.totalTime??oe.totalTime,!!F.disabled),R=oe._data;return null!=R&&(w._data=R),w}function vs(oe,A,F,W,ue="",w=0,R){return{element:oe,triggerName:A,fromState:F,toState:W,phaseName:ue,totalTime:w,disabled:!!R}}function Tt(oe,A,F){let W=oe.get(A);return W||oe.set(A,W=F),W}function $e(oe){const A=oe.indexOf(":");return[oe.substring(1,A),oe.slice(A+1)]}const Vt=(()=>typeof document>"u"?null:document.documentElement)();function wt(oe){const A=oe.parentNode||oe.host||null;return A===Vt?null:A}let gn=null,tr=!1;function Le(oe,A){for(;A;){if(A===oe)return!0;A=wt(A)}return!1}function ve(oe,A,F){if(F)return Array.from(oe.querySelectorAll(A));const W=oe.querySelector(A);return W?[W]:[]}let Lt=(()=>{var oe;class A{validateStyleProperty(W){return function Ve(oe){gn||(gn=function fe(){return typeof document<"u"?document.body:null}()||{},tr=!!gn.style&&"WebkitAppearance"in gn.style);let A=!0;return gn.style&&!function sn(oe){return"ebkit"==oe.substring(1,6)}(oe)&&(A=oe in gn.style,!A&&tr&&(A="Webkit"+oe.charAt(0).toUpperCase()+oe.slice(1)in gn.style)),A}(W)}matchesElement(W,ue){return!1}containsElement(W,ue){return Le(W,ue)}getParentElement(W){return wt(W)}query(W,ue,w){return ve(W,ue,w)}computeStyle(W,ue,w){return w||""}animate(W,ue,w,R,P,M=[],z){return new jn(w,R)}}return(oe=A).\u0275fac=function(W){return new(W||oe)},oe.\u0275prov=ne.Yz7({token:oe,factory:oe.\u0275fac}),A})(),tn=(()=>{class A{}return A.NOOP=new Lt,A})();const qn=1e3,dr="ng-enter",Ei="ng-leave",ui="ng-trigger",Ns=".ng-trigger",$s="ng-animating",ks=".ng-animating";function li(oe){if("number"==typeof oe)return oe;const A=oe.match(/^(-?[\.\d]+)(m?s)/);return!A||A.length<2?0:wi(parseFloat(A[1]),A[2])}function wi(oe,A){return"s"===A?oe*qn:oe}function zi(oe,A,F){return oe.hasOwnProperty("duration")?oe:function ri(oe,A,F){let ue,w=0,R="";if("string"==typeof oe){const P=oe.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===P)return A.push(Ln()),{duration:0,delay:0,easing:""};ue=wi(parseFloat(P[1]),P[2]);const M=P[3];null!=M&&(w=wi(parseFloat(M),P[4]));const z=P[5];z&&(R=z)}else ue=oe;if(!F){let P=!1,M=A.length;ue<0&&(A.push(function kn(){return new ne.vHH(3100,!1)}()),P=!0),w<0&&(A.push(function Ye(){return new ne.vHH(3101,!1)}()),P=!0),P&&A.splice(M,0,Ln())}return{duration:ue,delay:w,easing:R}}(oe,A,F)}function Wi(oe,A={}){return Object.keys(oe).forEach(F=>{A[F]=oe[F]}),A}function Js(oe){const A=new Map;return Object.keys(oe).forEach(F=>{A.set(F,oe[F])}),A}function Pi(oe,A=new Map,F){if(F)for(let[W,ue]of F)A.set(W,ue);for(let[W,ue]of oe)A.set(W,ue);return A}function Fs(oe,A,F){A.forEach((W,ue)=>{const w=jr(ue);F&&!F.has(ue)&&F.set(ue,oe.style[w]),oe.style[w]=W})}function ao(oe,A){A.forEach((F,W)=>{const ue=jr(W);oe.style[ue]=""})}function Ts(oe){return Array.isArray(oe)?1==oe.length?oe[0]:wn(oe):oe}const fs=new RegExp("{{\\s*(.+?)\\s*}}","g");function Go(oe){let A=[];if("string"==typeof oe){let F;for(;F=fs.exec(oe);)A.push(F[1]);fs.lastIndex=0}return A}function Mo(oe,A,F){const W=oe.toString(),ue=W.replace(fs,(w,R)=>{let P=A[R];return null==P&&(F.push(function Et(oe){return new ne.vHH(3003,!1)}()),P=""),P.toString()});return ue==W?oe:ue}function Br(oe){const A=[];let F=oe.next();for(;!F.done;)A.push(F.value),F=oe.next();return A}const Un=/-+([a-z0-9])/g;function jr(oe){return oe.replace(Un,(...A)=>A[1].toUpperCase())}function tt(oe,A,F){switch(A.type){case 7:return oe.visitTrigger(A,F);case 0:return oe.visitState(A,F);case 1:return oe.visitTransition(A,F);case 2:return oe.visitSequence(A,F);case 3:return oe.visitGroup(A,F);case 4:return oe.visitAnimate(A,F);case 5:return oe.visitKeyframes(A,F);case 6:return oe.visitStyle(A,F);case 8:return oe.visitReference(A,F);case 9:return oe.visitAnimateChild(A,F);case 10:return oe.visitAnimateRef(A,F);case 11:return oe.visitQuery(A,F);case 12:return oe.visitStagger(A,F);default:throw function ot(oe){return new ne.vHH(3004,!1)}()}}function qe(oe,A){return window.getComputedStyle(oe)[A]}const Ar="*";function Za(oe,A){const F=[];return"string"==typeof oe?oe.split(/\s*,\s*/).forEach(W=>function Gs(oe,A,F){if(":"==oe[0]){const M=function lo(oe,A){switch(oe){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(F,W)=>parseFloat(W)>parseFloat(F);case":decrement":return(F,W)=>parseFloat(W)<parseFloat(F);default:return A.push(function Nt(oe){return new ne.vHH(3016,!1)}()),"* => *"}}(oe,F);if("function"==typeof M)return void A.push(M);oe=M}const W=oe.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==W||W.length<4)return F.push(function St(oe){return new ne.vHH(3015,!1)}()),A;const ue=W[1],w=W[2],R=W[3];A.push(ka(ue,R));"<"==w[0]&&!(ue==Ar&&R==Ar)&&A.push(ka(R,ue))}(W,F,A)):F.push(oe),F}const Vi=new Set(["true","1"]),co=new Set(["false","0"]);function ka(oe,A){const F=Vi.has(oe)||co.has(oe),W=Vi.has(A)||co.has(A);return(ue,w)=>{let R=oe==Ar||oe==ue,P=A==Ar||A==w;return!R&&F&&"boolean"==typeof ue&&(R=ue?Vi.has(oe):co.has(oe)),!P&&W&&"boolean"==typeof w&&(P=w?Vi.has(A):co.has(A)),R&&P}}const Fa=new RegExp("s*:selfs*,?","g");function na(oe,A,F,W){return new Ra(oe).build(A,F,W)}class Ra{constructor(A){this._driver=A}build(A,F,W){const ue=new gi(F);return this._resetContextStyleTimingState(ue),tt(this,Ts(A),ue)}_resetContextStyleTimingState(A){A.currentQuerySelector="",A.collectedStyles=new Map,A.collectedStyles.set("",new Map),A.currentTime=0}visitTrigger(A,F){let W=F.queryCount=0,ue=F.depCount=0;const w=[],R=[];return"@"==A.name.charAt(0)&&F.errors.push(function en(){return new ne.vHH(3006,!1)}()),A.definitions.forEach(P=>{if(this._resetContextStyleTimingState(F),0==P.type){const M=P,z=M.name;z.toString().split(/\s*,\s*/).forEach(ce=>{M.name=ce,w.push(this.visitState(M,F))}),M.name=z}else if(1==P.type){const M=this.visitTransition(P,F);W+=M.queryCount,ue+=M.depCount,R.push(M)}else F.errors.push(function rn(){return new ne.vHH(3007,!1)}())}),{type:7,name:A.name,states:w,transitions:R,queryCount:W,depCount:ue,options:null}}visitState(A,F){const W=this.visitStyle(A.styles,F),ue=A.options&&A.options.params||null;if(W.containsDynamicStyles){const w=new Set,R=ue||{};W.styles.forEach(P=>{P instanceof Map&&P.forEach(M=>{Go(M).forEach(z=>{R.hasOwnProperty(z)||w.add(z)})})}),w.size&&(Br(w.values()),F.errors.push(function ln(oe,A){return new ne.vHH(3008,!1)}()))}return{type:0,name:A.name,style:W,options:ue?{params:ue}:null}}visitTransition(A,F){F.queryCount=0,F.depCount=0;const W=tt(this,Ts(A.animation),F);return{type:1,matchers:Za(A.expr,F.errors),animation:W,queryCount:F.queryCount,depCount:F.depCount,options:ra(A.options)}}visitSequence(A,F){return{type:2,steps:A.steps.map(W=>tt(this,W,F)),options:ra(A.options)}}visitGroup(A,F){const W=F.currentTime;let ue=0;const w=A.steps.map(R=>{F.currentTime=W;const P=tt(this,R,F);return ue=Math.max(ue,F.currentTime),P});return F.currentTime=ue,{type:3,steps:w,options:ra(A.options)}}visitAnimate(A,F){const W=function ls(oe,A){if(oe.hasOwnProperty("duration"))return oe;if("number"==typeof oe)return ha(zi(oe,A).duration,0,"");const F=oe;if(F.split(/\s+/).some(w=>"{"==w.charAt(0)&&"{"==w.charAt(1))){const w=ha(0,0,"");return w.dynamic=!0,w.strValue=F,w}const ue=zi(F,A);return ha(ue.duration,ue.delay,ue.easing)}(A.timings,F.errors);F.currentAnimateTimings=W;let ue,w=A.styles?A.styles:st({});if(5==w.type)ue=this.visitKeyframes(w,F);else{let R=A.styles,P=!1;if(!R){P=!0;const z={};W.easing&&(z.easing=W.easing),R=st(z)}F.currentTime+=W.duration+W.delay;const M=this.visitStyle(R,F);M.isEmptyStep=P,ue=M}return F.currentAnimateTimings=null,{type:4,timings:W,style:ue,options:null}}visitStyle(A,F){const W=this._makeStyleAst(A,F);return this._validateStyleAst(W,F),W}_makeStyleAst(A,F){const W=[],ue=Array.isArray(A.styles)?A.styles:[A.styles];for(let P of ue)"string"==typeof P?P===ut?W.push(P):F.errors.push(new ne.vHH(3002,!1)):W.push(Js(P));let w=!1,R=null;return W.forEach(P=>{if(P instanceof Map&&(P.has("easing")&&(R=P.get("easing"),P.delete("easing")),!w))for(let M of P.values())if(M.toString().indexOf("{{")>=0){w=!0;break}}),{type:6,styles:W,easing:R,offset:A.offset,containsDynamicStyles:w,options:null}}_validateStyleAst(A,F){const W=F.currentAnimateTimings;let ue=F.currentTime,w=F.currentTime;W&&w>0&&(w-=W.duration+W.delay),A.styles.forEach(R=>{"string"!=typeof R&&R.forEach((P,M)=>{const z=F.collectedStyles.get(F.currentQuerySelector),ce=z.get(M);let pe=!0;ce&&(w!=ue&&w>=ce.startTime&&ue<=ce.endTime&&(F.errors.push(function hr(oe,A,F,W,ue){return new ne.vHH(3010,!1)}()),pe=!1),w=ce.startTime),pe&&z.set(M,{startTime:w,endTime:ue}),F.options&&function Io(oe,A,F){const W=A.params||{},ue=Go(oe);ue.length&&ue.forEach(w=>{W.hasOwnProperty(w)||F.push(function nt(oe){return new ne.vHH(3001,!1)}())})}(P,F.options,F.errors)})})}visitKeyframes(A,F){const W={type:5,styles:[],options:null};if(!F.currentAnimateTimings)return F.errors.push(function Bn(){return new ne.vHH(3011,!1)}()),W;let w=0;const R=[];let P=!1,M=!1,z=0;const ce=A.steps.map(Gr=>{const Er=this._makeStyleAst(Gr,F);let Kr=null!=Er.offset?Er.offset:function Pr(oe){if("string"==typeof oe)return null;let A=null;if(Array.isArray(oe))oe.forEach(F=>{if(F instanceof Map&&F.has("offset")){const W=F;A=parseFloat(W.get("offset")),W.delete("offset")}});else if(oe instanceof Map&&oe.has("offset")){const F=oe;A=parseFloat(F.get("offset")),F.delete("offset")}return A}(Er.styles),rs=0;return null!=Kr&&(w++,rs=Er.offset=Kr),M=M||rs<0||rs>1,P=P||rs<z,z=rs,R.push(rs),Er});M&&F.errors.push(function Mr(){return new ne.vHH(3012,!1)}()),P&&F.errors.push(function Mn(){return new ne.vHH(3200,!1)}());const pe=A.steps.length;let Je=0;w>0&&w<pe?F.errors.push(function Nr(){return new ne.vHH(3202,!1)}()):0==w&&(Je=1/(pe-1));const kt=pe-1,dt=F.currentTime,fn=F.currentAnimateTimings,Qn=fn.duration;return ce.forEach((Gr,Er)=>{const Kr=Je>0?Er==kt?1:Je*Er:R[Er],rs=Kr*Qn;F.currentTime=dt+fn.delay+rs,fn.duration=rs,this._validateStyleAst(Gr,F),Gr.offset=Kr,W.styles.push(Gr)}),W}visitReference(A,F){return{type:8,animation:tt(this,Ts(A.animation),F),options:ra(A.options)}}visitAnimateChild(A,F){return F.depCount++,{type:9,options:ra(A.options)}}visitAnimateRef(A,F){return{type:10,animation:this.visitReference(A.animation,F),options:ra(A.options)}}visitQuery(A,F){const W=F.currentQuerySelector,ue=A.options||{};F.queryCount++,F.currentQuery=A;const[w,R]=function Jr(oe){const A=!!oe.split(/\s*,\s*/).find(F=>":self"==F);return A&&(oe=oe.replace(Fa,"")),oe=oe.replace(/@\*/g,Ns).replace(/@\w+/g,F=>Ns+"-"+F.slice(1)).replace(/:animating/g,ks),[oe,A]}(A.selector);F.currentQuerySelector=W.length?W+" "+w:w,Tt(F.collectedStyles,F.currentQuerySelector,new Map);const P=tt(this,Ts(A.animation),F);return F.currentQuery=null,F.currentQuerySelector=W,{type:11,selector:w,limit:ue.limit||0,optional:!!ue.optional,includeSelf:R,animation:P,originalSelector:A.selector,options:ra(A.options)}}visitStagger(A,F){F.currentQuery||F.errors.push(function Ue(){return new ne.vHH(3013,!1)}());const W="full"===A.timings?{duration:0,delay:0,easing:"full"}:zi(A.timings,F.errors,!0);return{type:12,animation:tt(this,Ts(A.animation),F),timings:W,options:null}}}class gi{constructor(A){this.errors=A,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ra(oe){return oe?(oe=Wi(oe)).params&&(oe.params=function es(oe){return oe?Wi(oe):null}(oe.params)):oe={},oe}function ha(oe,A,F){return{duration:oe,delay:A,easing:F}}function Bi(oe,A,F,W,ue,w,R=null,P=!1){return{type:1,element:oe,keyframes:A,preStyleProps:F,postStyleProps:W,duration:ue,delay:w,totalTime:ue+w,easing:R,subTimeline:P}}class bi{constructor(){this._map=new Map}get(A){return this._map.get(A)||[]}append(A,F){let W=this._map.get(A);W||this._map.set(A,W=[]),W.push(...F)}has(A){return this._map.has(A)}clear(){this._map.clear()}}const pn=new RegExp(":enter","g"),mi=new RegExp(":leave","g");function Tr(oe,A,F,W,ue,w=new Map,R=new Map,P,M,z=[]){return(new ia).buildKeyframes(oe,A,F,W,ue,w,R,P,M,z)}class ia{buildKeyframes(A,F,W,ue,w,R,P,M,z,ce=[]){z=z||new bi;const pe=new ho(A,F,z,ue,w,ce,[]);pe.options=M;const Je=M.delay?li(M.delay):0;pe.currentTimeline.delayNextStep(Je),pe.currentTimeline.setStyles([R],null,pe.errors,M),tt(this,W,pe);const kt=pe.timelines.filter(dt=>dt.containsAnimation());if(kt.length&&P.size){let dt;for(let fn=kt.length-1;fn>=0;fn--){const Qn=kt[fn];if(Qn.element===F){dt=Qn;break}}dt&&!dt.allowOnlyTimelineStyles()&&dt.setStyles([P],null,pe.errors,M)}return kt.length?kt.map(dt=>dt.buildKeyframes()):[Bi(F,[],[],[],0,Je,"",!1)]}visitTrigger(A,F){}visitState(A,F){}visitTransition(A,F){}visitAnimateChild(A,F){const W=F.subInstructions.get(F.element);if(W){const ue=F.createSubContext(A.options),w=F.currentTimeline.currentTime,R=this._visitSubInstructions(W,ue,ue.options);w!=R&&F.transformIntoNewTimeline(R)}F.previousNode=A}visitAnimateRef(A,F){const W=F.createSubContext(A.options);W.transformIntoNewTimeline(),this._applyAnimationRefDelays([A.options,A.animation.options],F,W),this.visitReference(A.animation,W),F.transformIntoNewTimeline(W.currentTimeline.currentTime),F.previousNode=A}_applyAnimationRefDelays(A,F,W){for(const ue of A){const w=ue?.delay;if(w){const R="number"==typeof w?w:li(Mo(w,ue?.params??{},F.errors));W.delayNextStep(R)}}}_visitSubInstructions(A,F,W){let w=F.currentTimeline.currentTime;const R=null!=W.duration?li(W.duration):null,P=null!=W.delay?li(W.delay):null;return 0!==R&&A.forEach(M=>{const z=F.appendInstructionToTimeline(M,R,P);w=Math.max(w,z.duration+z.delay)}),w}visitReference(A,F){F.updateOptions(A.options,!0),tt(this,A.animation,F),F.previousNode=A}visitSequence(A,F){const W=F.subContextCount;let ue=F;const w=A.options;if(w&&(w.params||w.delay)&&(ue=F.createSubContext(w),ue.transformIntoNewTimeline(),null!=w.delay)){6==ue.previousNode.type&&(ue.currentTimeline.snapshotCurrentStyles(),ue.previousNode=Di);const R=li(w.delay);ue.delayNextStep(R)}A.steps.length&&(A.steps.forEach(R=>tt(this,R,ue)),ue.currentTimeline.applyStylesToKeyframe(),ue.subContextCount>W&&ue.transformIntoNewTimeline()),F.previousNode=A}visitGroup(A,F){const W=[];let ue=F.currentTimeline.currentTime;const w=A.options&&A.options.delay?li(A.options.delay):0;A.steps.forEach(R=>{const P=F.createSubContext(A.options);w&&P.delayNextStep(w),tt(this,R,P),ue=Math.max(ue,P.currentTimeline.currentTime),W.push(P.currentTimeline)}),W.forEach(R=>F.currentTimeline.mergeTimelineCollectedStyles(R)),F.transformIntoNewTimeline(ue),F.previousNode=A}_visitTiming(A,F){if(A.dynamic){const W=A.strValue;return zi(F.params?Mo(W,F.params,F.errors):W,F.errors)}return{duration:A.duration,delay:A.delay,easing:A.easing}}visitAnimate(A,F){const W=F.currentAnimateTimings=this._visitTiming(A.timings,F),ue=F.currentTimeline;W.delay&&(F.incrementTime(W.delay),ue.snapshotCurrentStyles());const w=A.style;5==w.type?this.visitKeyframes(w,F):(F.incrementTime(W.duration),this.visitStyle(w,F),ue.applyStylesToKeyframe()),F.currentAnimateTimings=null,F.previousNode=A}visitStyle(A,F){const W=F.currentTimeline,ue=F.currentAnimateTimings;!ue&&W.hasCurrentStyleProperties()&&W.forwardFrame();const w=ue&&ue.easing||A.easing;A.isEmptyStep?W.applyEmptyStep(w):W.setStyles(A.styles,w,F.errors,F.options),F.previousNode=A}visitKeyframes(A,F){const W=F.currentAnimateTimings,ue=F.currentTimeline.duration,w=W.duration,P=F.createSubContext().currentTimeline;P.easing=W.easing,A.styles.forEach(M=>{P.forwardTime((M.offset||0)*w),P.setStyles(M.styles,M.easing,F.errors,F.options),P.applyStylesToKeyframe()}),F.currentTimeline.mergeTimelineCollectedStyles(P),F.transformIntoNewTimeline(ue+w),F.previousNode=A}visitQuery(A,F){const W=F.currentTimeline.currentTime,ue=A.options||{},w=ue.delay?li(ue.delay):0;w&&(6===F.previousNode.type||0==W&&F.currentTimeline.hasCurrentStyleProperties())&&(F.currentTimeline.snapshotCurrentStyles(),F.previousNode=Di);let R=W;const P=F.invokeQuery(A.selector,A.originalSelector,A.limit,A.includeSelf,!!ue.optional,F.errors);F.currentQueryTotal=P.length;let M=null;P.forEach((z,ce)=>{F.currentQueryIndex=ce;const pe=F.createSubContext(A.options,z);w&&pe.delayNextStep(w),z===F.element&&(M=pe.currentTimeline),tt(this,A.animation,pe),pe.currentTimeline.applyStylesToKeyframe(),R=Math.max(R,pe.currentTimeline.currentTime)}),F.currentQueryIndex=0,F.currentQueryTotal=0,F.transformIntoNewTimeline(R),M&&(F.currentTimeline.mergeTimelineCollectedStyles(M),F.currentTimeline.snapshotCurrentStyles()),F.previousNode=A}visitStagger(A,F){const W=F.parentContext,ue=F.currentTimeline,w=A.timings,R=Math.abs(w.duration),P=R*(F.currentQueryTotal-1);let M=R*F.currentQueryIndex;switch(w.duration<0?"reverse":w.easing){case"reverse":M=P-M;break;case"full":M=W.currentStaggerTime}const ce=F.currentTimeline;M&&ce.delayNextStep(M);const pe=ce.currentTime;tt(this,A.animation,F),F.previousNode=A,W.currentStaggerTime=ue.currentTime-pe+(ue.startTime-W.currentTimeline.startTime)}}const Di={};class ho{constructor(A,F,W,ue,w,R,P,M){this._driver=A,this.element=F,this.subInstructions=W,this._enterClassName=ue,this._leaveClassName=w,this.errors=R,this.timelines=P,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Di,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=M||new qi(this._driver,F,0),P.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(A,F){if(!A)return;const W=A;let ue=this.options;null!=W.duration&&(ue.duration=li(W.duration)),null!=W.delay&&(ue.delay=li(W.delay));const w=W.params;if(w){let R=ue.params;R||(R=this.options.params={}),Object.keys(w).forEach(P=>{(!F||!R.hasOwnProperty(P))&&(R[P]=Mo(w[P],R,this.errors))})}}_copyOptions(){const A={};if(this.options){const F=this.options.params;if(F){const W=A.params={};Object.keys(F).forEach(ue=>{W[ue]=F[ue]})}}return A}createSubContext(A=null,F,W){const ue=F||this.element,w=new ho(this._driver,ue,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ue,W||0));return w.previousNode=this.previousNode,w.currentAnimateTimings=this.currentAnimateTimings,w.options=this._copyOptions(),w.updateOptions(A),w.currentQueryIndex=this.currentQueryIndex,w.currentQueryTotal=this.currentQueryTotal,w.parentContext=this,this.subContextCount++,w}transformIntoNewTimeline(A){return this.previousNode=Di,this.currentTimeline=this.currentTimeline.fork(this.element,A),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(A,F,W){const ue={duration:F??A.duration,delay:this.currentTimeline.currentTime+(W??0)+A.delay,easing:""},w=new Os(this._driver,A.element,A.keyframes,A.preStyleProps,A.postStyleProps,ue,A.stretchStartingKeyframe);return this.timelines.push(w),ue}incrementTime(A){this.currentTimeline.forwardTime(this.currentTimeline.duration+A)}delayNextStep(A){A>0&&this.currentTimeline.delayNextStep(A)}invokeQuery(A,F,W,ue,w,R){let P=[];if(ue&&P.push(this.element),A.length>0){A=(A=A.replace(pn,"."+this._enterClassName)).replace(mi,"."+this._leaveClassName);let z=this._driver.query(this.element,A,1!=W);0!==W&&(z=W<0?z.slice(z.length+W,z.length):z.slice(0,W)),P.push(...z)}return!w&&0==P.length&&R.push(function Ze(oe){return new ne.vHH(3014,!1)}()),P}}class qi{constructor(A,F,W,ue){this._driver=A,this.element=F,this.startTime=W,this._elementTimelineStylesLookup=ue,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(F),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(F,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(A){const F=1===this._keyframes.size&&this._pendingStyles.size;this.duration||F?(this.forwardTime(this.currentTime+A),F&&this.snapshotCurrentStyles()):this.startTime+=A}fork(A,F){return this.applyStylesToKeyframe(),new qi(this._driver,A,F||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(A){this.applyStylesToKeyframe(),this.duration=A,this._loadKeyframe()}_updateStyle(A,F){this._localTimelineStyles.set(A,F),this._globalTimelineStyles.set(A,F),this._styleSummary.set(A,{time:this.currentTime,value:F})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(A){A&&this._previousKeyframe.set("easing",A);for(let[F,W]of this._globalTimelineStyles)this._backFill.set(F,W||ut),this._currentKeyframe.set(F,ut);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(A,F,W,ue){F&&this._previousKeyframe.set("easing",F);const w=ue&&ue.params||{},R=function vr(oe,A){const F=new Map;let W;return oe.forEach(ue=>{if("*"===ue){W=W||A.keys();for(let w of W)F.set(w,ut)}else Pi(ue,F)}),F}(A,this._globalTimelineStyles);for(let[P,M]of R){const z=Mo(M,w,W);this._pendingStyles.set(P,z),this._localTimelineStyles.has(P)||this._backFill.set(P,this._globalTimelineStyles.get(P)??ut),this._updateStyle(P,z)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((A,F)=>{this._currentKeyframe.set(F,A)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((A,F)=>{this._currentKeyframe.has(F)||this._currentKeyframe.set(F,A)}))}snapshotCurrentStyles(){for(let[A,F]of this._localTimelineStyles)this._pendingStyles.set(A,F),this._updateStyle(A,F)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const A=[];for(let F in this._currentKeyframe)A.push(F);return A}mergeTimelineCollectedStyles(A){A._styleSummary.forEach((F,W)=>{const ue=this._styleSummary.get(W);(!ue||F.time>ue.time)&&this._updateStyle(W,F.value)})}buildKeyframes(){this.applyStylesToKeyframe();const A=new Set,F=new Set,W=1===this._keyframes.size&&0===this.duration;let ue=[];this._keyframes.forEach((P,M)=>{const z=Pi(P,new Map,this._backFill);z.forEach((ce,pe)=>{"!"===ce?A.add(pe):ce===ut&&F.add(pe)}),W||z.set("offset",M/this.duration),ue.push(z)});const w=A.size?Br(A.values()):[],R=F.size?Br(F.values()):[];if(W){const P=ue[0],M=new Map(P);P.set("offset",0),M.set("offset",1),ue=[P,M]}return Bi(this.element,ue,w,R,this.duration,this.startTime,this.easing,!1)}}class Os extends qi{constructor(A,F,W,ue,w,R,P=!1){super(A,F,R.delay),this.keyframes=W,this.preStyleProps=ue,this.postStyleProps=w,this._stretchStartingKeyframe=P,this.timings={duration:R.duration,delay:R.delay,easing:R.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let A=this.keyframes,{delay:F,duration:W,easing:ue}=this.timings;if(this._stretchStartingKeyframe&&F){const w=[],R=W+F,P=F/R,M=Pi(A[0]);M.set("offset",0),w.push(M);const z=Pi(A[0]);z.set("offset",Ho(P)),w.push(z);const ce=A.length-1;for(let pe=1;pe<=ce;pe++){let Je=Pi(A[pe]);const kt=Je.get("offset");Je.set("offset",Ho((F+kt*W)/R)),w.push(Je)}W=R,F=0,ue="",A=w}return Bi(this.element,A,this.preStyleProps,this.postStyleProps,W,F,ue,!0)}}function Ho(oe,A=3){const F=Math.pow(10,A-1);return Math.round(oe*F)/F}class Ja{}const Or=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ma extends Ja{normalizePropertyName(A,F){return jr(A)}normalizeStyleValue(A,F,W,ue){let w="";const R=W.toString().trim();if(Or.has(F)&&0!==W&&"0"!==W)if("number"==typeof W)w="px";else{const P=W.match(/^[+-]?[\d\.]+([a-z]*)$/);P&&0==P[1].length&&ue.push(function Ct(oe,A){return new ne.vHH(3005,!1)}())}return R+w}}function Ls(oe,A,F,W,ue,w,R,P,M,z,ce,pe,Je){return{type:0,element:oe,triggerName:A,isRemovalTransition:ue,fromState:F,fromStyles:w,toState:W,toStyles:R,timelines:P,queriedElements:M,preStyleProps:z,postStyleProps:ce,totalTime:pe,errors:Je}}const Es={};class Ss{constructor(A,F,W){this._triggerName=A,this.ast=F,this._stateStyles=W}match(A,F,W,ue){return function eo(oe,A,F,W,ue){return oe.some(w=>w(A,F,W,ue))}(this.ast.matchers,A,F,W,ue)}buildStyles(A,F,W){let ue=this._stateStyles.get("*");return void 0!==A&&(ue=this._stateStyles.get(A?.toString())||ue),ue?ue.buildStyles(F,W):new Map}build(A,F,W,ue,w,R,P,M,z,ce){const pe=[],Je=this.ast.options&&this.ast.options.params||Es,dt=this.buildStyles(W,P&&P.params||Es,pe),fn=M&&M.params||Es,Qn=this.buildStyles(ue,fn,pe),Gr=new Set,Er=new Map,Kr=new Map,rs="void"===ue,Tl={params:Vs(fn,Je),delay:this.ast.options?.delay},ms=ce?[]:Tr(A,F,this.ast.animation,w,R,dt,Qn,Tl,z,pe);let la=0;if(ms.forEach(Vo=>{la=Math.max(Vo.duration+Vo.delay,la)}),pe.length)return Ls(F,this._triggerName,W,ue,rs,dt,Qn,[],[],Er,Kr,la,pe);ms.forEach(Vo=>{const cl=Vo.element,Sl=Tt(Er,cl,new Set);Vo.preStyleProps.forEach(za=>Sl.add(za));const Ia=Tt(Kr,cl,new Set);Vo.postStyleProps.forEach(za=>Ia.add(za)),cl!==F&&Gr.add(cl)});const vl=Br(Gr.values());return Ls(F,this._triggerName,W,ue,rs,dt,Qn,ms,vl,Er,Kr,la)}}function Vs(oe,A){const F=Wi(A);for(const W in oe)oe.hasOwnProperty(W)&&null!=oe[W]&&(F[W]=oe[W]);return F}class Cr{constructor(A,F,W){this.styles=A,this.defaultParams=F,this.normalizer=W}buildStyles(A,F){const W=new Map,ue=Wi(this.defaultParams);return Object.keys(A).forEach(w=>{const R=A[w];null!==R&&(ue[w]=R)}),this.styles.styles.forEach(w=>{"string"!=typeof w&&w.forEach((R,P)=>{R&&(R=Mo(R,ue,F));const M=this.normalizer.normalizePropertyName(P,F);R=this.normalizer.normalizeStyleValue(P,M,R,F),W.set(P,R)})}),W}}class zr{constructor(A,F,W){this.name=A,this.ast=F,this._normalizer=W,this.transitionFactories=[],this.states=new Map,F.states.forEach(ue=>{this.states.set(ue.name,new Cr(ue.style,ue.options&&ue.options.params||{},W))}),Ui(this.states,"true","1"),Ui(this.states,"false","0"),F.transitions.forEach(ue=>{this.transitionFactories.push(new Ss(A,ue,this.states))}),this.fallbackTransition=function _l(oe,A,F){return new Ss(oe,{type:1,animation:{type:2,steps:[],options:null},matchers:[(R,P)=>!0],options:null,queryCount:0,depCount:0},A)}(A,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(A,F,W,ue){return this.transitionFactories.find(R=>R.match(A,F,W,ue))||null}matchStyles(A,F,W){return this.fallbackTransition.buildStyles(A,F,W)}}function Ui(oe,A,F){oe.has(A)?oe.has(F)||oe.set(F,oe.get(A)):oe.has(F)&&oe.set(A,oe.get(F))}const La=new bi;class to{constructor(A,F,W){this.bodyNode=A,this._driver=F,this._normalizer=W,this._animations=new Map,this._playersById=new Map,this.players=[]}register(A,F){const W=[],w=na(this._driver,F,W,[]);if(W.length)throw function cn(oe){return new ne.vHH(3503,!1)}();this._animations.set(A,w)}_buildPlayer(A,F,W){const ue=A.element,w=bs(this._normalizer,A.keyframes,F,W);return this._driver.animate(ue,w,A.duration,A.delay,A.easing,[],!0)}create(A,F,W={}){const ue=[],w=this._animations.get(A);let R;const P=new Map;if(w?(R=Tr(this._driver,F,w,dr,Ei,new Map,new Map,W,La,ue),R.forEach(ce=>{const pe=Tt(P,ce.element,new Map);ce.postStyleProps.forEach(Je=>pe.set(Je,null))})):(ue.push(function bn(){return new ne.vHH(3300,!1)}()),R=[]),ue.length)throw function er(oe){return new ne.vHH(3504,!1)}();P.forEach((ce,pe)=>{ce.forEach((Je,kt)=>{ce.set(kt,this._driver.computeStyle(pe,kt,ut))})});const z=ur(R.map(ce=>{const pe=P.get(ce.element);return this._buildPlayer(ce,new Map,pe)}));return this._playersById.set(A,z),z.onDestroy(()=>this.destroy(A)),this.players.push(z),z}destroy(A){const F=this._getPlayer(A);F.destroy(),this._playersById.delete(A);const W=this.players.indexOf(F);W>=0&&this.players.splice(W,1)}_getPlayer(A){const F=this._playersById.get(A);if(!F)throw function cr(oe){return new ne.vHH(3301,!1)}();return F}listen(A,F,W,ue){const w=vs(F,"","","");return Is(this._getPlayer(A),W,w,ue),()=>{}}command(A,F,W,ue){if("register"==W)return void this.register(A,ue[0]);if("create"==W)return void this.create(A,F,ue[0]||{});const w=this._getPlayer(A);switch(W){case"play":w.play();break;case"pause":w.pause();break;case"reset":w.reset();break;case"restart":w.restart();break;case"finish":w.finish();break;case"init":w.init();break;case"setPosition":w.setPosition(parseFloat(ue[0]));break;case"destroy":this.destroy(A)}}}const Ds="ng-animate-queued",go="ng-animate-disabled",Ii=[],zo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},no={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ci="__ng_removed";class Bs{get params(){return this.options.params}constructor(A,F=""){this.namespaceId=F;const W=A&&A.hasOwnProperty("value");if(this.value=function fa(oe){return oe??null}(W?A.value:A),W){const w=Wi(A);delete w.value,this.options=w}else this.options={};this.options.params||(this.options.params={})}absorbOptions(A){const F=A.params;if(F){const W=this.options.params;Object.keys(F).forEach(ue=>{null==W[ue]&&(W[ue]=F[ue])})}}}const Ea="void",ji=new Bs(Ea);class xa{constructor(A,F,W){this.id=A,this.hostElement=F,this._engine=W,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+A,mo(F,this._hostClassName)}listen(A,F,W,ue){if(!this._triggers.has(F))throw function ii(oe,A){return new ne.vHH(3302,!1)}();if(null==W||0==W.length)throw function Si(oe){return new ne.vHH(3303,!1)}();if(!function kl(oe){return"start"==oe||"done"==oe}(W))throw function Ir(oe,A){return new ne.vHH(3400,!1)}();const w=Tt(this._elementListeners,A,[]),R={name:F,phase:W,callback:ue};w.push(R);const P=Tt(this._engine.statesByElement,A,new Map);return P.has(F)||(mo(A,ui),mo(A,ui+"-"+F),P.set(F,ji)),()=>{this._engine.afterFlush(()=>{const M=w.indexOf(R);M>=0&&w.splice(M,1),this._triggers.has(F)||P.delete(F)})}}register(A,F){return!this._triggers.has(A)&&(this._triggers.set(A,F),!0)}_getTrigger(A){const F=this._triggers.get(A);if(!F)throw function ti(oe){return new ne.vHH(3401,!1)}();return F}trigger(A,F,W,ue=!0){const w=this._getTrigger(F),R=new Xa(this.id,F,A);let P=this._engine.statesByElement.get(A);P||(mo(A,ui),mo(A,ui+"-"+F),this._engine.statesByElement.set(A,P=new Map));let M=P.get(F);const z=new Bs(W,this.id);if(!(W&&W.hasOwnProperty("value"))&&M&&z.absorbOptions(M.options),P.set(F,z),M||(M=ji),z.value!==Ea&&M.value===z.value){if(!function Me(oe,A){const F=Object.keys(oe),W=Object.keys(A);if(F.length!=W.length)return!1;for(let ue=0;ue<F.length;ue++){const w=F[ue];if(!A.hasOwnProperty(w)||oe[w]!==A[w])return!1}return!0}(M.params,z.params)){const fn=[],Qn=w.matchStyles(M.value,M.params,fn),Gr=w.matchStyles(z.value,z.params,fn);fn.length?this._engine.reportError(fn):this._engine.afterFlush(()=>{ao(A,Qn),Fs(A,Gr)})}return}const Je=Tt(this._engine.playersByElement,A,[]);Je.forEach(fn=>{fn.namespaceId==this.id&&fn.triggerName==F&&fn.queued&&fn.destroy()});let kt=w.matchTransition(M.value,z.value,A,z.params),dt=!1;if(!kt){if(!ue)return;kt=w.fallbackTransition,dt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:A,triggerName:F,transition:kt,fromState:M,toState:z,player:R,isFallbackTransition:dt}),dt||(mo(A,Ds),R.onStart(()=>{te(A,Ds)})),R.onDone(()=>{let fn=this.players.indexOf(R);fn>=0&&this.players.splice(fn,1);const Qn=this._engine.playersByElement.get(A);if(Qn){let Gr=Qn.indexOf(R);Gr>=0&&Qn.splice(Gr,1)}}),this.players.push(R),Je.push(R),R}deregister(A){this._triggers.delete(A),this._engine.statesByElement.forEach(F=>F.delete(A)),this._elementListeners.forEach((F,W)=>{this._elementListeners.set(W,F.filter(ue=>ue.name!=A))})}clearElementCache(A){this._engine.statesByElement.delete(A),this._elementListeners.delete(A);const F=this._engine.playersByElement.get(A);F&&(F.forEach(W=>W.destroy()),this._engine.playersByElement.delete(A))}_signalRemovalForInnerTriggers(A,F){const W=this._engine.driver.query(A,Ns,!0);W.forEach(ue=>{if(ue[Ci])return;const w=this._engine.fetchNamespacesByElement(ue);w.size?w.forEach(R=>R.triggerLeaveAnimation(ue,F,!1,!0)):this.clearElementCache(ue)}),this._engine.afterFlushAnimationsDone(()=>W.forEach(ue=>this.clearElementCache(ue)))}triggerLeaveAnimation(A,F,W,ue){const w=this._engine.statesByElement.get(A),R=new Map;if(w){const P=[];if(w.forEach((M,z)=>{if(R.set(z,M.value),this._triggers.has(z)){const ce=this.trigger(A,z,Ea,ue);ce&&P.push(ce)}}),P.length)return this._engine.markElementAsRemoved(this.id,A,!0,F,R),W&&ur(P).onDone(()=>this._engine.processLeaveNode(A)),!0}return!1}prepareLeaveAnimationListeners(A){const F=this._elementListeners.get(A),W=this._engine.statesByElement.get(A);if(F&&W){const ue=new Set;F.forEach(w=>{const R=w.name;if(ue.has(R))return;ue.add(R);const M=this._triggers.get(R).fallbackTransition,z=W.get(R)||ji,ce=new Bs(Ea),pe=new Xa(this.id,R,A);this._engine.totalQueuedPlayers++,this._queue.push({element:A,triggerName:R,transition:M,fromState:z,toState:ce,player:pe,isFallbackTransition:!0})})}}removeNode(A,F){const W=this._engine;if(A.childElementCount&&this._signalRemovalForInnerTriggers(A,F),this.triggerLeaveAnimation(A,F,!0))return;let ue=!1;if(W.totalAnimations){const w=W.players.length?W.playersByQueriedElement.get(A):[];if(w&&w.length)ue=!0;else{let R=A;for(;R=R.parentNode;)if(W.statesByElement.get(R)){ue=!0;break}}}if(this.prepareLeaveAnimationListeners(A),ue)W.markElementAsRemoved(this.id,A,!1,F);else{const w=A[Ci];(!w||w===zo)&&(W.afterFlush(()=>this.clearElementCache(A)),W.destroyInnerAnimations(A),W._onRemovalComplete(A,F))}}insertNode(A,F){mo(A,this._hostClassName)}drainQueuedTransitions(A){const F=[];return this._queue.forEach(W=>{const ue=W.player;if(ue.destroyed)return;const w=W.element,R=this._elementListeners.get(w);R&&R.forEach(P=>{if(P.name==W.triggerName){const M=vs(w,W.triggerName,W.fromState.value,W.toState.value);M._data=A,Is(W.player,P.phase,M,P.callback)}}),ue.markedForDestroy?this._engine.afterFlush(()=>{ue.destroy()}):F.push(W)}),this._queue=[],F.sort((W,ue)=>{const w=W.transition.ast.depCount,R=ue.transition.ast.depCount;return 0==w||0==R?w-R:this._engine.driver.containsElement(W.element,ue.element)?1:-1})}destroy(A){this.players.forEach(F=>F.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,A)}}class sc{_onRemovalComplete(A,F){this.onRemovalComplete(A,F)}constructor(A,F,W){this.bodyNode=A,this.driver=F,this._normalizer=W,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ue,w)=>{}}get queuedPlayers(){const A=[];return this._namespaceList.forEach(F=>{F.players.forEach(W=>{W.queued&&A.push(W)})}),A}createNamespace(A,F){const W=new xa(A,F,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,F)?this._balanceNamespaceList(W,F):(this.newHostElements.set(F,W),this.collectEnterElement(F)),this._namespaceLookup[A]=W}_balanceNamespaceList(A,F){const W=this._namespaceList,ue=this.namespacesByHostElement;if(W.length-1>=0){let R=!1,P=this.driver.getParentElement(F);for(;P;){const M=ue.get(P);if(M){const z=W.indexOf(M);W.splice(z+1,0,A),R=!0;break}P=this.driver.getParentElement(P)}R||W.unshift(A)}else W.push(A);return ue.set(F,A),A}register(A,F){let W=this._namespaceLookup[A];return W||(W=this.createNamespace(A,F)),W}registerTrigger(A,F,W){let ue=this._namespaceLookup[A];ue&&ue.register(F,W)&&this.totalAnimations++}destroy(A,F){A&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const W=this._fetchNamespace(A);this.namespacesByHostElement.delete(W.hostElement);const ue=this._namespaceList.indexOf(W);ue>=0&&this._namespaceList.splice(ue,1),W.destroy(F),delete this._namespaceLookup[A]}))}_fetchNamespace(A){return this._namespaceLookup[A]}fetchNamespacesByElement(A){const F=new Set,W=this.statesByElement.get(A);if(W)for(let ue of W.values())if(ue.namespaceId){const w=this._fetchNamespace(ue.namespaceId);w&&F.add(w)}return F}trigger(A,F,W,ue){if(Wo(F)){const w=this._fetchNamespace(A);if(w)return w.trigger(F,W,ue),!0}return!1}insertNode(A,F,W,ue){if(!Wo(F))return;const w=F[Ci];if(w&&w.setForRemoval){w.setForRemoval=!1,w.setForMove=!0;const R=this.collectedLeaveElements.indexOf(F);R>=0&&this.collectedLeaveElements.splice(R,1)}if(A){const R=this._fetchNamespace(A);R&&R.insertNode(F,W)}ue&&this.collectEnterElement(F)}collectEnterElement(A){this.collectedEnterElements.push(A)}markElementAsDisabled(A,F){F?this.disabledNodes.has(A)||(this.disabledNodes.add(A),mo(A,go)):this.disabledNodes.has(A)&&(this.disabledNodes.delete(A),te(A,go))}removeNode(A,F,W){if(Wo(F)){const ue=A?this._fetchNamespace(A):null;ue?ue.removeNode(F,W):this.markElementAsRemoved(A,F,!1,W);const w=this.namespacesByHostElement.get(F);w&&w.id!==A&&w.removeNode(F,W)}else this._onRemovalComplete(F,W)}markElementAsRemoved(A,F,W,ue,w){this.collectedLeaveElements.push(F),F[Ci]={namespaceId:A,setForRemoval:ue,hasAnimation:W,removedBeforeQueried:!1,previousTriggersValues:w}}listen(A,F,W,ue,w){return Wo(F)?this._fetchNamespace(A).listen(F,W,ue,w):()=>{}}_buildInstruction(A,F,W,ue,w){return A.transition.build(this.driver,A.element,A.fromState.value,A.toState.value,W,ue,A.fromState.options,A.toState.options,F,w)}destroyInnerAnimations(A){let F=this.driver.query(A,Ns,!0);F.forEach(W=>this.destroyActiveAnimationsForElement(W)),0!=this.playersByQueriedElement.size&&(F=this.driver.query(A,ks,!0),F.forEach(W=>this.finishActiveQueriedAnimationOnElement(W)))}destroyActiveAnimationsForElement(A){const F=this.playersByElement.get(A);F&&F.forEach(W=>{W.queued?W.markedForDestroy=!0:W.destroy()})}finishActiveQueriedAnimationOnElement(A){const F=this.playersByQueriedElement.get(A);F&&F.forEach(W=>W.finish())}whenRenderingDone(){return new Promise(A=>{if(this.players.length)return ur(this.players).onDone(()=>A());A()})}processLeaveNode(A){const F=A[Ci];if(F&&F.setForRemoval){if(A[Ci]=zo,F.namespaceId){this.destroyInnerAnimations(A);const W=this._fetchNamespace(F.namespaceId);W&&W.clearElementCache(A)}this._onRemovalComplete(A,F.setForRemoval)}A.classList?.contains(go)&&this.markElementAsDisabled(A,!1),this.driver.query(A,".ng-animate-disabled",!0).forEach(W=>{this.markElementAsDisabled(W,!1)})}flush(A=-1){let F=[];if(this.newHostElements.size&&(this.newHostElements.forEach((W,ue)=>this._balanceNamespaceList(W,ue)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let W=0;W<this.collectedEnterElements.length;W++)mo(this.collectedEnterElements[W],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const W=[];try{F=this._flushAnimations(W,A)}finally{for(let ue=0;ue<W.length;ue++)W[ue]()}}else for(let W=0;W<this.collectedLeaveElements.length;W++)this.processLeaveNode(this.collectedLeaveElements[W]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(W=>W()),this._flushFns=[],this._whenQuietFns.length){const W=this._whenQuietFns;this._whenQuietFns=[],F.length?ur(F).onDone(()=>{W.forEach(ue=>ue())}):W.forEach(ue=>ue())}}reportError(A){throw function qr(oe){return new ne.vHH(3402,!1)}()}_flushAnimations(A,F){const W=new bi,ue=[],w=new Map,R=[],P=new Map,M=new Map,z=new Map,ce=new Set;this.disabledNodes.forEach(An=>{ce.add(An);const Rr=this.driver.query(An,".ng-animate-queued",!0);for(let Ur=0;Ur<Rr.length;Ur++)ce.add(Rr[Ur])});const pe=this.bodyNode,Je=Array.from(this.statesByElement.keys()),kt=To(Je,this.collectedEnterElements),dt=new Map;let fn=0;kt.forEach((An,Rr)=>{const Ur=dr+fn++;dt.set(Rr,Ur),An.forEach(Qi=>mo(Qi,Ur))});const Qn=[],Gr=new Set,Er=new Set;for(let An=0;An<this.collectedLeaveElements.length;An++){const Rr=this.collectedLeaveElements[An],Ur=Rr[Ci];Ur&&Ur.setForRemoval&&(Qn.push(Rr),Gr.add(Rr),Ur.hasAnimation?this.driver.query(Rr,".ng-star-inserted",!0).forEach(Qi=>Gr.add(Qi)):Er.add(Rr))}const Kr=new Map,rs=To(Je,Array.from(Gr));rs.forEach((An,Rr)=>{const Ur=Ei+fn++;Kr.set(Rr,Ur),An.forEach(Qi=>mo(Qi,Ur))}),A.push(()=>{kt.forEach((An,Rr)=>{const Ur=dt.get(Rr);An.forEach(Qi=>te(Qi,Ur))}),rs.forEach((An,Rr)=>{const Ur=Kr.get(Rr);An.forEach(Qi=>te(Qi,Ur))}),Qn.forEach(An=>{this.processLeaveNode(An)})});const Tl=[],ms=[];for(let An=this._namespaceList.length-1;An>=0;An--)this._namespaceList[An].drainQueuedTransitions(F).forEach(Ur=>{const Qi=Ur.player,_s=Ur.element;if(Tl.push(Qi),this.collectedEnterElements.length){const Co=_s[Ci];if(Co&&Co.setForMove){if(Co.previousTriggersValues&&Co.previousTriggersValues.has(Ur.triggerName)){const Ec=Co.previousTriggersValues.get(Ur.triggerName),Ai=this.statesByElement.get(Ur.element);if(Ai&&Ai.has(Ur.triggerName)){const ul=Ai.get(Ur.triggerName);ul.value=Ec,Ai.set(Ur.triggerName,ul)}}return void Qi.destroy()}}const Na=!pe||!this.driver.containsElement(pe,_s),rl=Kr.get(_s),Dl=dt.get(_s),is=this._buildInstruction(Ur,W,Dl,rl,Na);if(is.errors&&is.errors.length)return void ms.push(is);if(Na)return Qi.onStart(()=>ao(_s,is.fromStyles)),Qi.onDestroy(()=>Fs(_s,is.toStyles)),void ue.push(Qi);if(Ur.isFallbackTransition)return Qi.onStart(()=>ao(_s,is.fromStyles)),Qi.onDestroy(()=>Fs(_s,is.toStyles)),void ue.push(Qi);const Eo=[];is.timelines.forEach(Co=>{Co.stretchStartingKeyframe=!0,this.disabledNodes.has(Co.element)||Eo.push(Co)}),is.timelines=Eo,W.append(_s,is.timelines),R.push({instruction:is,player:Qi,element:_s}),is.queriedElements.forEach(Co=>Tt(P,Co,[]).push(Qi)),is.preStyleProps.forEach((Co,Ec)=>{if(Co.size){let Ai=M.get(Ec);Ai||M.set(Ec,Ai=new Set),Co.forEach((ul,Ys)=>Ai.add(Ys))}}),is.postStyleProps.forEach((Co,Ec)=>{let Ai=z.get(Ec);Ai||z.set(Ec,Ai=new Set),Co.forEach((ul,Ys)=>Ai.add(Ys))})});if(ms.length){const An=[];ms.forEach(Rr=>{An.push(function Xi(oe,A){return new ne.vHH(3505,!1)}())}),Tl.forEach(Rr=>Rr.destroy()),this.reportError(An)}const la=new Map,vl=new Map;R.forEach(An=>{const Rr=An.element;W.has(Rr)&&(vl.set(Rr,Rr),this._beforeAnimationBuild(An.player.namespaceId,An.instruction,la))}),ue.forEach(An=>{const Rr=An.element;this._getPreviousPlayers(Rr,!1,An.namespaceId,An.triggerName,null).forEach(Qi=>{Tt(la,Rr,[]).push(Qi),Qi.destroy()})});const Vo=Qn.filter(An=>un(An,M,z)),cl=new Map;$i(cl,this.driver,Er,z,ut).forEach(An=>{un(An,M,z)&&Vo.push(An)});const Ia=new Map;kt.forEach((An,Rr)=>{$i(Ia,this.driver,new Set(An),M,"!")}),Vo.forEach(An=>{const Rr=cl.get(An),Ur=Ia.get(An);cl.set(An,new Map([...Rr?.entries()??[],...Ur?.entries()??[]]))});const za=[],Wc=[],lc={};R.forEach(An=>{const{element:Rr,player:Ur,instruction:Qi}=An;if(W.has(Rr)){if(ce.has(Rr))return Ur.onDestroy(()=>Fs(Rr,Qi.toStyles)),Ur.disabled=!0,Ur.overrideTotalTime(Qi.totalTime),void ue.push(Ur);let _s=lc;if(vl.size>1){let rl=Rr;const Dl=[];for(;rl=rl.parentNode;){const is=vl.get(rl);if(is){_s=is;break}Dl.push(rl)}Dl.forEach(is=>vl.set(is,_s))}const Na=this._buildAnimation(Ur.namespaceId,Qi,la,w,Ia,cl);if(Ur.setRealPlayer(Na),_s===lc)za.push(Ur);else{const rl=this.playersByElement.get(_s);rl&&rl.length&&(Ur.parentPlayer=ur(rl)),ue.push(Ur)}}else ao(Rr,Qi.fromStyles),Ur.onDestroy(()=>Fs(Rr,Qi.toStyles)),Wc.push(Ur),ce.has(Rr)&&ue.push(Ur)}),Wc.forEach(An=>{const Rr=w.get(An.element);if(Rr&&Rr.length){const Ur=ur(Rr);An.setRealPlayer(Ur)}}),ue.forEach(An=>{An.parentPlayer?An.syncPlayerEvents(An.parentPlayer):An.destroy()});for(let An=0;An<Qn.length;An++){const Rr=Qn[An],Ur=Rr[Ci];if(te(Rr,Ei),Ur&&Ur.hasAnimation)continue;let Qi=[];if(P.size){let Na=P.get(Rr);Na&&Na.length&&Qi.push(...Na);let rl=this.driver.query(Rr,ks,!0);for(let Dl=0;Dl<rl.length;Dl++){let is=P.get(rl[Dl]);is&&is.length&&Qi.push(...is)}}const _s=Qi.filter(Na=>!Na.destroyed);_s.length?Z(this,Rr,_s):this.processLeaveNode(Rr)}return Qn.length=0,za.forEach(An=>{this.players.push(An),An.onDone(()=>{An.destroy();const Rr=this.players.indexOf(An);this.players.splice(Rr,1)}),An.play()}),za}afterFlush(A){this._flushFns.push(A)}afterFlushAnimationsDone(A){this._whenQuietFns.push(A)}_getPreviousPlayers(A,F,W,ue,w){let R=[];if(F){const P=this.playersByQueriedElement.get(A);P&&(R=P)}else{const P=this.playersByElement.get(A);if(P){const M=!w||w==Ea;P.forEach(z=>{z.queued||!M&&z.triggerName!=ue||R.push(z)})}}return(W||ue)&&(R=R.filter(P=>!(W&&W!=P.namespaceId||ue&&ue!=P.triggerName))),R}_beforeAnimationBuild(A,F,W){const w=F.element,R=F.isRemovalTransition?void 0:A,P=F.isRemovalTransition?void 0:F.triggerName;for(const M of F.timelines){const z=M.element,ce=z!==w,pe=Tt(W,z,[]);this._getPreviousPlayers(z,ce,R,P,F.toState).forEach(kt=>{const dt=kt.getRealPlayer();dt.beforeDestroy&&dt.beforeDestroy(),kt.destroy(),pe.push(kt)})}ao(w,F.fromStyles)}_buildAnimation(A,F,W,ue,w,R){const P=F.triggerName,M=F.element,z=[],ce=new Set,pe=new Set,Je=F.timelines.map(dt=>{const fn=dt.element;ce.add(fn);const Qn=fn[Ci];if(Qn&&Qn.removedBeforeQueried)return new jn(dt.duration,dt.delay);const Gr=fn!==M,Er=function be(oe){const A=[];return ee(oe,A),A}((W.get(fn)||Ii).map(la=>la.getRealPlayer())).filter(la=>!!la.element&&la.element===fn),Kr=w.get(fn),rs=R.get(fn),Tl=bs(this._normalizer,dt.keyframes,Kr,rs),ms=this._buildPlayer(dt,Tl,Er);if(dt.subTimeline&&ue&&pe.add(fn),Gr){const la=new Xa(A,P,fn);la.setRealPlayer(ms),z.push(la)}return ms});z.forEach(dt=>{Tt(this.playersByQueriedElement,dt.element,[]).push(dt),dt.onDone(()=>function Va(oe,A,F){let W=oe.get(A);if(W){if(W.length){const ue=W.indexOf(F);W.splice(ue,1)}0==W.length&&oe.delete(A)}return W}(this.playersByQueriedElement,dt.element,dt))}),ce.forEach(dt=>mo(dt,$s));const kt=ur(Je);return kt.onDestroy(()=>{ce.forEach(dt=>te(dt,$s)),Fs(M,F.toStyles)}),pe.forEach(dt=>{Tt(ue,dt,[]).push(kt)}),kt}_buildPlayer(A,F,W){return F.length>0?this.driver.animate(A.element,F,A.duration,A.delay,A.easing,W):new jn(A.duration,A.delay)}}class Xa{constructor(A,F,W){this.namespaceId=A,this.triggerName=F,this.element=W,this._player=new jn,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(A){this._containsRealPlayer||(this._player=A,this._queuedCallbacks.forEach((F,W)=>{F.forEach(ue=>Is(A,W,void 0,ue))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(A.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(A){this.totalTime=A}syncPlayerEvents(A){const F=this._player;F.triggerCallback&&A.onStart(()=>F.triggerCallback("start")),A.onDone(()=>this.finish()),A.onDestroy(()=>this.destroy())}_queueEvent(A,F){Tt(this._queuedCallbacks,A,[]).push(F)}onDone(A){this.queued&&this._queueEvent("done",A),this._player.onDone(A)}onStart(A){this.queued&&this._queueEvent("start",A),this._player.onStart(A)}onDestroy(A){this.queued&&this._queueEvent("destroy",A),this._player.onDestroy(A)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(A){this.queued||this._player.setPosition(A)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(A){const F=this._player;F.triggerCallback&&F.triggerCallback(A)}}function Wo(oe){return oe&&1===oe.nodeType}function pa(oe,A){const F=oe.style.display;return oe.style.display=A??"none",F}function $i(oe,A,F,W,ue){const w=[];F.forEach(M=>w.push(pa(M)));const R=[];W.forEach((M,z)=>{const ce=new Map;M.forEach(pe=>{const Je=A.computeStyle(z,pe,ue);ce.set(pe,Je),(!Je||0==Je.length)&&(z[Ci]=no,R.push(z))}),oe.set(z,ce)});let P=0;return F.forEach(M=>pa(M,w[P++])),R}function To(oe,A){const F=new Map;if(oe.forEach(P=>F.set(P,[])),0==A.length)return F;const ue=new Set(A),w=new Map;function R(P){if(!P)return 1;let M=w.get(P);if(M)return M;const z=P.parentNode;return M=F.has(z)?z:ue.has(z)?1:R(z),w.set(P,M),M}return A.forEach(P=>{const M=R(P);1!==M&&F.get(M).push(P)}),F}function mo(oe,A){oe.classList?.add(A)}function te(oe,A){oe.classList?.remove(A)}function Z(oe,A,F){ur(F).onDone(()=>oe.processLeaveNode(A))}function ee(oe,A){for(let F=0;F<oe.length;F++){const W=oe[F];W instanceof mn?ee(W.players,A):A.push(W)}}function un(oe,A,F){const W=F.get(oe);if(!W)return!1;let ue=A.get(oe);return ue?W.forEach(w=>ue.add(w)):A.set(oe,W),F.delete(oe),!0}class ar{constructor(A,F,W){this.bodyNode=A,this._driver=F,this._normalizer=W,this._triggerCache={},this.onRemovalComplete=(ue,w)=>{},this._transitionEngine=new sc(A,F,W),this._timelineEngine=new to(A,F,W),this._transitionEngine.onRemovalComplete=(ue,w)=>this.onRemovalComplete(ue,w)}registerTrigger(A,F,W,ue,w){const R=A+"-"+ue;let P=this._triggerCache[R];if(!P){const M=[],ce=na(this._driver,w,M,[]);if(M.length)throw function pr(oe,A){return new ne.vHH(3404,!1)}();P=function po(oe,A,F){return new zr(oe,A,F)}(ue,ce,this._normalizer),this._triggerCache[R]=P}this._transitionEngine.registerTrigger(F,ue,P)}register(A,F){this._transitionEngine.register(A,F)}destroy(A,F){this._transitionEngine.destroy(A,F)}onInsert(A,F,W,ue){this._transitionEngine.insertNode(A,F,W,ue)}onRemove(A,F,W){this._transitionEngine.removeNode(A,F,W)}disableAnimations(A,F){this._transitionEngine.markElementAsDisabled(A,F)}process(A,F,W,ue){if("@"==W.charAt(0)){const[w,R]=$e(W);this._timelineEngine.command(w,F,R,ue)}else this._transitionEngine.trigger(A,F,W,ue)}listen(A,F,W,ue,w){if("@"==W.charAt(0)){const[R,P]=$e(W);return this._timelineEngine.listen(R,F,P,w)}return this._transitionEngine.listen(A,F,W,ue,w)}flush(A=-1){this._transitionEngine.flush(A)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(A){this._transitionEngine.afterFlushAnimationsDone(A)}}let Ni=(()=>{class A{constructor(W,ue,w){this._element=W,this._startStyles=ue,this._endStyles=w,this._state=0;let R=A.initialStylesByElement.get(W);R||A.initialStylesByElement.set(W,R=new Map),this._initialStyles=R}start(){this._state<1&&(this._startStyles&&Fs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fs(this._element,this._initialStyles),this._endStyles&&(Fs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(A.initialStylesByElement.delete(this._element),this._startStyles&&(ao(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ao(this._element,this._endStyles),this._endStyles=null),Fs(this._element,this._initialStyles),this._state=3)}}return A.initialStylesByElement=new WeakMap,A})();function ko(oe){let A=null;return oe.forEach((F,W)=>{(function Us(oe){return"display"===oe||"position"===oe})(W)&&(A=A||new Map,A.set(W,F))}),A}class Hs{constructor(A,F,W,ue){this.element=A,this.keyframes=F,this.options=W,this._specialStyles=ue,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=W.duration,this._delay=W.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(A=>A()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const A=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,A,this.options),this._finalKeyframe=A.length?A[A.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(A){const F=[];return A.forEach(W=>{F.push(Object.fromEntries(W))}),F}_triggerWebAnimation(A,F,W){return A.animate(this._convertKeyframesToObject(F),W)}onStart(A){this._originalOnStartFns.push(A),this._onStartFns.push(A)}onDone(A){this._originalOnDoneFns.push(A),this._onDoneFns.push(A)}onDestroy(A){this._onDestroyFns.push(A)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(A=>A()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(A=>A()),this._onDestroyFns=[])}setPosition(A){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=A*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const A=new Map;this.hasStarted()&&this._finalKeyframe.forEach((W,ue)=>{"offset"!==ue&&A.set(ue,this._finished?W:qe(this.element,ue))}),this.currentSnapshot=A}triggerCallback(A){const F="start"===A?this._onStartFns:this._onDoneFns;F.forEach(W=>W()),F.length=0}}class Ba{validateStyleProperty(A){return!0}validateAnimatableStyleProperty(A){return!0}matchesElement(A,F){return!1}containsElement(A,F){return Le(A,F)}getParentElement(A){return wt(A)}query(A,F,W){return ve(A,F,W)}computeStyle(A,F,W){return window.getComputedStyle(A)[F]}animate(A,F,W,ue,w,R=[]){const M={duration:W,delay:ue,fill:0==ue?"both":"forwards"};w&&(M.easing=w);const z=new Map,ce=R.filter(kt=>kt instanceof Hs);(function xi(oe,A){return 0===oe||0===A})(W,ue)&&ce.forEach(kt=>{kt.currentSnapshot.forEach((dt,fn)=>z.set(fn,dt))});let pe=function Xs(oe){return oe.length?oe[0]instanceof Map?oe:oe.map(A=>Js(A)):[]}(F).map(kt=>Pi(kt));pe=function sl(oe,A,F){if(F.size&&A.length){let W=A[0],ue=[];if(F.forEach((w,R)=>{W.has(R)||ue.push(R),W.set(R,w)}),ue.length)for(let w=1;w<A.length;w++){let R=A[w];ue.forEach(P=>R.set(P,qe(oe,P)))}}return A}(A,pe,z);const Je=function Cs(oe,A){let F=null,W=null;return Array.isArray(A)&&A.length?(F=ko(A[0]),A.length>1&&(W=ko(A[A.length-1]))):A instanceof Map&&(F=ko(A)),F||W?new Ni(oe,F,W):null}(A,pe);return new Hs(A,pe,M,Je)}}let ro=(()=>{var oe;class A extends Ge{constructor(W,ue){super(),this._nextAnimationId=0,this._renderer=W.createRenderer(ue.body,{id:"0",encapsulation:ne.ifc.None,styles:[],data:{animation:[]}})}build(W){const ue=this._nextAnimationId.toString();this._nextAnimationId++;const w=Array.isArray(W)?wn(W):W;return cs(this._renderer,null,ue,"register",[w]),new ts(ue,this._renderer)}}return(oe=A).\u0275fac=function(W){return new(W||oe)(ne.LFG(ne.FYo),ne.LFG(it.K0))},oe.\u0275prov=ne.Yz7({token:oe,factory:oe.\u0275fac}),A})();class ts extends Yt{constructor(A,F){super(),this._id=A,this._renderer=F}create(A,F){return new sa(this._id,A,F||{},this._renderer)}}class sa{constructor(A,F,W,ue){this.id=A,this.element=F,this._renderer=ue,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",W)}_listen(A,F){return this._renderer.listen(this.element,`@@${this.id}:${A}`,F)}_command(A,...F){return cs(this._renderer,this.element,this.id,A,F)}onDone(A){this._listen("done",A)}onStart(A){this._listen("start",A)}onDestroy(A){this._listen("destroy",A)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(A){this._command("setPosition",A)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function cs(oe,A,F,W,ue){return oe.setProperty(A,`@@${F}:${W}`,ue)}const ol="@.disabled";let Ua=(()=>{var oe;class A{constructor(W,ue,w){this.delegate=W,this.engine=ue,this._zone=w,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,ue.onRemovalComplete=(R,P)=>{const M=P?.parentNode(R);M&&P.removeChild(M,R)}}createRenderer(W,ue){const R=this.delegate.createRenderer(W,ue);if(!(W&&ue&&ue.data&&ue.data.animation)){let pe=this._rendererCache.get(R);return pe||(pe=new wa("",R,this.engine,()=>this._rendererCache.delete(R)),this._rendererCache.set(R,pe)),pe}const P=ue.id,M=ue.id+"-"+this._currentId;this._currentId++,this.engine.register(M,W);const z=pe=>{Array.isArray(pe)?pe.forEach(z):this.engine.registerTrigger(P,M,W,pe.name,pe)};return ue.data.animation.forEach(z),new ja(this,M,R,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(W,ue,w){W>=0&&W<this._microtaskId?this._zone.run(()=>ue(w)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(R=>{const[P,M]=R;P(M)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([ue,w]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(oe=A).\u0275fac=function(W){return new(W||oe)(ne.LFG(ne.FYo),ne.LFG(ar),ne.LFG(ne.R0b))},oe.\u0275prov=ne.Yz7({token:oe,factory:oe.\u0275fac}),A})();class wa{constructor(A,F,W,ue){this.namespaceId=A,this.delegate=F,this.engine=W,this._onDestroy=ue}get data(){return this.delegate.data}destroyNode(A){this.delegate.destroyNode?.(A)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(A,F){return this.delegate.createElement(A,F)}createComment(A){return this.delegate.createComment(A)}createText(A){return this.delegate.createText(A)}appendChild(A,F){this.delegate.appendChild(A,F),this.engine.onInsert(this.namespaceId,F,A,!1)}insertBefore(A,F,W,ue=!0){this.delegate.insertBefore(A,F,W),this.engine.onInsert(this.namespaceId,F,A,ue)}removeChild(A,F,W){this.engine.onRemove(this.namespaceId,F,this.delegate)}selectRootElement(A,F){return this.delegate.selectRootElement(A,F)}parentNode(A){return this.delegate.parentNode(A)}nextSibling(A){return this.delegate.nextSibling(A)}setAttribute(A,F,W,ue){this.delegate.setAttribute(A,F,W,ue)}removeAttribute(A,F,W){this.delegate.removeAttribute(A,F,W)}addClass(A,F){this.delegate.addClass(A,F)}removeClass(A,F){this.delegate.removeClass(A,F)}setStyle(A,F,W,ue){this.delegate.setStyle(A,F,W,ue)}removeStyle(A,F,W){this.delegate.removeStyle(A,F,W)}setProperty(A,F,W){"@"==F.charAt(0)&&F==ol?this.disableAnimations(A,!!W):this.delegate.setProperty(A,F,W)}setValue(A,F){this.delegate.setValue(A,F)}listen(A,F,W){return this.delegate.listen(A,F,W)}disableAnimations(A,F){this.engine.disableAnimations(A,F)}}class ja extends wa{constructor(A,F,W,ue,w){super(F,W,ue,w),this.factory=A,this.namespaceId=F}setProperty(A,F,W){"@"==F.charAt(0)?"."==F.charAt(1)&&F==ol?this.disableAnimations(A,W=void 0===W||!!W):this.engine.process(this.namespaceId,A,F.slice(1),W):this.delegate.setProperty(A,F,W)}listen(A,F,W){if("@"==F.charAt(0)){const ue=function Oa(oe){switch(oe){case"body":return document.body;case"document":return document;case"window":return window;default:return oe}}(A);let w=F.slice(1),R="";return"@"!=w.charAt(0)&&([w,R]=function al(oe){const A=oe.indexOf(".");return[oe.substring(0,A),oe.slice(A+1)]}(w)),this.engine.listen(this.namespaceId,ue,w,R,P=>{this.factory.scheduleListenerCallback(P._data||-1,W,P)})}return this.delegate.listen(A,F,W)}}const Il=[{provide:Ge,useClass:ro},{provide:Ja,useFactory:function bl(){return new ma}},{provide:ar,useClass:(()=>{var oe;class A extends ar{constructor(W,ue,w,R){super(W.body,ue,w)}ngOnDestroy(){this.flush()}}return(oe=A).\u0275fac=function(W){return new(W||oe)(ne.LFG(it.K0),ne.LFG(tn),ne.LFG(Ja),ne.LFG(ne.z2F))},oe.\u0275prov=ne.Yz7({token:oe,factory:oe.\u0275fac}),A})()},{provide:ne.FYo,useFactory:function As(oe,A,F){return new Ua(oe,A,F)},deps:[d.se,ar,ne.R0b]}],el=[{provide:tn,useFactory:()=>new Ba},{provide:ne.QbO,useValue:"BrowserAnimations"},...Il],di=[{provide:tn,useClass:Lt},{provide:ne.QbO,useValue:"NoopAnimations"},...Il];let zs=(()=>{var oe;class A{static withConfig(W){return{ngModule:A,providers:W.disableAnimations?di:el}}}return(oe=A).\u0275fac=function(W){return new(W||oe)},oe.\u0275mod=ne.oAB({type:oe}),oe.\u0275inj=ne.cJS({providers:el,imports:[d.b2]}),A})();function $a(oe){return($a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(oe)}function aa(oe,A,F){return(A=function Ma(oe){var A=function oa(oe,A){if("object"!==$a(oe)||null===oe)return oe;var F=oe[Symbol.toPrimitive];if(void 0!==F){var W=F.call(oe,A||"default");if("object"!==$a(W))return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===A?String:Number)(oe)}(oe,"string");return"symbol"===$a(A)?A:String(A)}(A))in oe?Object.defineProperty(oe,A,{value:F,enumerable:!0,configurable:!0,writable:!0}):oe[A]=F,oe}const Fo=new ne.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),Ll=new ne.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),ll=new ne.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let Ko=(()=>{var oe;class A{constructor(W){aa(this,"swalProvider",void 0),aa(this,"swalPromiseCache",void 0),this.swalProvider=W}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const W=function ue(R){return"function"==typeof R&&void 0===R.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=W.then(R=>function w(R){return"function"==typeof R}(R)?R:R.default)}}return oe=A,aa(A,"\u0275fac",function(W){return new(W||oe)(ne.LFG(Fo))}),aa(A,"\u0275prov",ne.Yz7({token:oe,factory:oe.\u0275fac})),A})();function Pe(){return Y.e(519).then(Y.t.bind(Y,3519,19))}let Q=(()=>{var oe;class A{static forRoot(W={}){return{ngModule:A,providers:[Ko,{provide:Fo,useValue:W.provideSwal||Pe},{provide:Ll,useValue:W.fireOnInit||!1},{provide:ll,useValue:W.dismissOnDestroy||!0}]}}static forChild(W={}){return{ngModule:A,providers:[...W.provideSwal?[Ko,{provide:Fo,useValue:W.provideSwal}]:[],...void 0!==W.fireOnInit?[{provide:Ll,useValue:W.fireOnInit}]:[],...void 0!==W.dismissOnDestroy?[{provide:ll,useValue:W.dismissOnDestroy}]:[]]}}}return oe=A,aa(A,"\u0275fac",function(W){return new(W||oe)}),aa(A,"\u0275mod",ne.oAB({type:oe})),aa(A,"\u0275inj",ne.cJS({imports:[it.ez]})),A})();var Se=Y(8726);const $_firebase={projectId:"labo4-salajuegos-2023",appId:"1:267112383910:web:9d16a8980b08020939bb67",databaseURL:"https://labo4-salajuegos-2023-default-rtdb.firebaseio.com",storageBucket:"labo4-salajuegos-2023.appspot.com",apiKey:"AIzaSyAcH4KsY_LCiAMvtiqU1OuKwYU25e0kCb8",authDomain:"labo4-salajuegos-2023.firebaseapp.com",messagingSenderId:"267112383910",measurementId:"G-6440J31PNH"};var re=Y(7923),he=Y(6304),_e=Y(938),Ce=Y(2793),Ke=Y(4097),et=Y(2194),xt=Y(5710);class Ot{constructor(A){return A}}const In="database",Vn=new ne.OlP("angularfire2.database-instances");function $r(oe){return(A,F)=>{const W=A.runOutsideAngular(()=>oe(F));return new Ot(W)}}const ps={provide:class xn{constructor(){return(0,Ce.vb)(In)}},deps:[[new ne.FiY,Vn]]},Ws={provide:Ot,useFactory:function Sr(oe,A){const F=(0,Ce.JM)(In,oe,A);return F&&new Ot(F)},deps:[[new ne.FiY,Vn],Se.Ot]};let Bt=(()=>{class oe{constructor(){(0,Ke.KN)("angularfire",Ce.q4.full,"rtdb")}}return oe.\u0275fac=function(F){return new(F||oe)},oe.\u0275mod=ne.oAB({type:oe}),oe.\u0275inj=ne.cJS({providers:[Ws,ps]}),oe})();function ci(oe,...A){return{ngModule:Bt,providers:[{provide:Vn,useFactory:$r(oe),multi:!0,deps:[ne.R0b,ne.zs3,Ce.HU,Se.z6,[new ne.FiY,re.dh],[new ne.FiY,et.nm],...A]}]}}const oc=(0,Ce.u3)(xt.N8,!0);let Bl=(()=>{var oe;class A{}return(oe=A).\u0275fac=function(W){return new(W||oe)},oe.\u0275mod=ne.oAB({type:oe,bootstrap:[xe]}),oe.\u0275inj=ne.cJS({imports:[d.b2,Ae,Qe.IJ,Qe.lQ,mt.uH,zs,Q.forRoot(),he.hO.initializeApp($_firebase),(0,Se.hX)(()=>(0,Se.ZF)($_firebase)),(0,re.AR)(()=>(0,re.v0)()),(0,_e.Cm)(()=>(0,_e.ad)()),ci(()=>oc())]}),A})();d.q6().bootstrapModule(Bl).catch(oe=>console.error(oe))},5619:(Rn,yt,Y)=>{Y.d(yt,{X:()=>ge});var d=Y(8645);class ge extends d.x{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const Ne=super._subscribe(ne);return!Ne.closed&&ne.next(this._value),Ne}getValue(){const{hasError:ne,thrownError:Ne,_value:He}=this;if(ne)throw Ne;return this._throwIfClosed(),He}next(ne){super.next(this._value=ne)}}},5592:(Rn,yt,Y)=>{Y.d(yt,{y:()=>ct});var d=Y(305),ge=Y(7394),we=Y(4850),ne=Y(8407),Ne=Y(2653),He=Y(4674),Ae=Y(1441);let ct=(()=>{class Qe{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const Yt=new Qe;return Yt.source=this,Yt.operator=Ge,Yt}subscribe(Ge,Yt,ut){const an=function xe(Qe){return Qe&&Qe instanceof d.Lv||function Te(Qe){return Qe&&(0,He.m)(Qe.next)&&(0,He.m)(Qe.error)&&(0,He.m)(Qe.complete)}(Qe)&&(0,ge.Nn)(Qe)}(Ge)?Ge:new d.Hp(Ge,Yt,ut);return(0,Ae.x)(()=>{const{operator:qt,source:Nn}=this;an.add(qt?qt.call(an,Nn):Nn?this._subscribe(an):this._trySubscribe(an))}),an}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(Yt){Ge.error(Yt)}}forEach(Ge,Yt){return new(Yt=it(Yt))((ut,an)=>{const qt=new d.Hp({next:Nn=>{try{Ge(Nn)}catch(wn){an(wn),qt.unsubscribe()}},error:an,complete:ut});this.subscribe(qt)})}_subscribe(Ge){var Yt;return null===(Yt=this.source)||void 0===Yt?void 0:Yt.subscribe(Ge)}[we.L](){return this}pipe(...Ge){return(0,ne.U)(Ge)(this)}toPromise(Ge){return new(Ge=it(Ge))((Yt,ut)=>{let an;this.subscribe(qt=>an=qt,qt=>ut(qt),()=>Yt(an))})}}return Qe.create=mt=>new Qe(mt),Qe})();function it(Qe){var mt;return null!==(mt=Qe??Ne.config.Promise)&&void 0!==mt?mt:Promise}},8645:(Rn,yt,Y)=>{Y.d(yt,{x:()=>Ae});var d=Y(5592),ge=Y(7394);const ne=(0,Y(2306).d)(it=>function(){it(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=Y(9039),He=Y(1441);let Ae=(()=>{class it extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(xe){const Qe=new ct(this,this);return Qe.operator=xe,Qe}_throwIfClosed(){if(this.closed)throw new ne}next(xe){(0,He.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Qe of this.currentObservers)Qe.next(xe)}})}error(xe){(0,He.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=xe;const{observers:Qe}=this;for(;Qe.length;)Qe.shift().error(xe)}})}complete(){(0,He.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:xe}=this;for(;xe.length;)xe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var xe;return(null===(xe=this.observers)||void 0===xe?void 0:xe.length)>0}_trySubscribe(xe){return this._throwIfClosed(),super._trySubscribe(xe)}_subscribe(xe){return this._throwIfClosed(),this._checkFinalizedStatuses(xe),this._innerSubscribe(xe)}_innerSubscribe(xe){const{hasError:Qe,isStopped:mt,observers:Ge}=this;return Qe||mt?ge.Lc:(this.currentObservers=null,Ge.push(xe),new ge.w0(()=>{this.currentObservers=null,(0,Ne.P)(Ge,xe)}))}_checkFinalizedStatuses(xe){const{hasError:Qe,thrownError:mt,isStopped:Ge}=this;Qe?xe.error(mt):Ge&&xe.complete()}asObservable(){const xe=new d.y;return xe.source=this,xe}}return it.create=(Te,xe)=>new ct(Te,xe),it})();class ct extends Ae{constructor(Te,xe){super(),this.destination=Te,this.source=xe}next(Te){var xe,Qe;null===(Qe=null===(xe=this.destination)||void 0===xe?void 0:xe.next)||void 0===Qe||Qe.call(xe,Te)}error(Te){var xe,Qe;null===(Qe=null===(xe=this.destination)||void 0===xe?void 0:xe.error)||void 0===Qe||Qe.call(xe,Te)}complete(){var Te,xe;null===(xe=null===(Te=this.destination)||void 0===Te?void 0:Te.complete)||void 0===xe||xe.call(Te)}_subscribe(Te){var xe,Qe;return null!==(Qe=null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Te))&&void 0!==Qe?Qe:ge.Lc}}},305:(Rn,yt,Y)=>{Y.d(yt,{Hp:()=>ut,Lv:()=>Qe});var d=Y(4674),ge=Y(7394),we=Y(2653),ne=Y(3894),Ne=Y(2420);const He=it("C",void 0,void 0);function it(st,It,pt){return{kind:st,value:It,error:pt}}var Te=Y(7599),xe=Y(1441);class Qe extends ge.w0{constructor(It){super(),this.isStopped=!1,It?(this.destination=It,(0,ge.Nn)(It)&&It.add(this)):this.destination=wn}static create(It,pt,gt){return new ut(It,pt,gt)}next(It){this.isStopped?Nn(function ct(st){return it("N",st,void 0)}(It),this):this._next(It)}error(It){this.isStopped?Nn(function Ae(st){return it("E",void 0,st)}(It),this):(this.isStopped=!0,this._error(It))}complete(){this.isStopped?Nn(He,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(It){this.destination.next(It)}_error(It){try{this.destination.error(It)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mt=Function.prototype.bind;function Ge(st,It){return mt.call(st,It)}class Yt{constructor(It){this.partialObserver=It}next(It){const{partialObserver:pt}=this;if(pt.next)try{pt.next(It)}catch(gt){an(gt)}}error(It){const{partialObserver:pt}=this;if(pt.error)try{pt.error(It)}catch(gt){an(gt)}else an(It)}complete(){const{partialObserver:It}=this;if(It.complete)try{It.complete()}catch(pt){an(pt)}}}class ut extends Qe{constructor(It,pt,gt){let Mt;if(super(),(0,d.m)(It)||!It)Mt={next:It??void 0,error:pt??void 0,complete:gt??void 0};else{let Oe;this&&we.config.useDeprecatedNextContext?(Oe=Object.create(It),Oe.unsubscribe=()=>this.unsubscribe(),Mt={next:It.next&&Ge(It.next,Oe),error:It.error&&Ge(It.error,Oe),complete:It.complete&&Ge(It.complete,Oe)}):Mt=It}this.destination=new Yt(Mt)}}function an(st){we.config.useDeprecatedSynchronousErrorHandling?(0,xe.O)(st):(0,ne.h)(st)}function Nn(st,It){const{onStoppedNotification:pt}=we.config;pt&&Te.z.setTimeout(()=>pt(st,It))}const wn={closed:!0,next:Ne.Z,error:function qt(st){throw st},complete:Ne.Z}},7394:(Rn,yt,Y)=>{Y.d(yt,{Lc:()=>He,w0:()=>Ne,Nn:()=>Ae});var d=Y(4674);const we=(0,Y(2306).d)(it=>function(xe){it(this),this.message=xe?`${xe.length} errors occurred during unsubscription:\n${xe.map((Qe,mt)=>`${mt+1}) ${Qe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=xe});var ne=Y(9039);class Ne{constructor(Te){this.initialTeardown=Te,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Te;if(!this.closed){this.closed=!0;const{_parentage:xe}=this;if(xe)if(this._parentage=null,Array.isArray(xe))for(const Ge of xe)Ge.remove(this);else xe.remove(this);const{initialTeardown:Qe}=this;if((0,d.m)(Qe))try{Qe()}catch(Ge){Te=Ge instanceof we?Ge.errors:[Ge]}const{_finalizers:mt}=this;if(mt){this._finalizers=null;for(const Ge of mt)try{ct(Ge)}catch(Yt){Te=Te??[],Yt instanceof we?Te=[...Te,...Yt.errors]:Te.push(Yt)}}if(Te)throw new we(Te)}}add(Te){var xe;if(Te&&Te!==this)if(this.closed)ct(Te);else{if(Te instanceof Ne){if(Te.closed||Te._hasParent(this))return;Te._addParent(this)}(this._finalizers=null!==(xe=this._finalizers)&&void 0!==xe?xe:[]).push(Te)}}_hasParent(Te){const{_parentage:xe}=this;return xe===Te||Array.isArray(xe)&&xe.includes(Te)}_addParent(Te){const{_parentage:xe}=this;this._parentage=Array.isArray(xe)?(xe.push(Te),xe):xe?[xe,Te]:Te}_removeParent(Te){const{_parentage:xe}=this;xe===Te?this._parentage=null:Array.isArray(xe)&&(0,ne.P)(xe,Te)}remove(Te){const{_finalizers:xe}=this;xe&&(0,ne.P)(xe,Te),Te instanceof Ne&&Te._removeParent(this)}}Ne.EMPTY=(()=>{const it=new Ne;return it.closed=!0,it})();const He=Ne.EMPTY;function Ae(it){return it instanceof Ne||it&&"closed"in it&&(0,d.m)(it.remove)&&(0,d.m)(it.add)&&(0,d.m)(it.unsubscribe)}function ct(it){(0,d.m)(it)?it():it.unsubscribe()}},2653:(Rn,yt,Y)=>{Y.d(yt,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Rn,yt,Y)=>{Y.d(yt,{z:()=>Ne});var d=Y(7537),we=Y(9940),ne=Y(2459);function Ne(...He){return function ge(){return(0,d.J)(1)}()((0,ne.D)(He,(0,we.yG)(He)))}},6232:(Rn,yt,Y)=>{Y.d(yt,{E:()=>ge});const ge=new(Y(5592).y)(Ne=>Ne.complete())},2459:(Rn,yt,Y)=>{Y.d(yt,{D:()=>It});var d=Y(4829),ge=Y(3093),we=Y(5137),He=Y(5592),ct=Y(4971),it=Y(4674),Te=Y(7103);function Qe(pt,gt){if(!pt)throw new Error("Iterable cannot be null");return new He.y(Mt=>{(0,Te.f)(Mt,gt,()=>{const Oe=pt[Symbol.asyncIterator]();(0,Te.f)(Mt,gt,()=>{Oe.next().then(Ht=>{Ht.done?Mt.complete():Mt.next(Ht.value)})},0,!0)})})}var mt=Y(8382),Ge=Y(4026),Yt=Y(4266),ut=Y(3664),an=Y(5726),qt=Y(9853),Nn=Y(541);function It(pt,gt){return gt?function st(pt,gt){if(null!=pt){if((0,mt.c)(pt))return function ne(pt,gt){return(0,d.Xf)(pt).pipe((0,we.R)(gt),(0,ge.Q)(gt))}(pt,gt);if((0,Yt.z)(pt))return function Ae(pt,gt){return new He.y(Mt=>{let Oe=0;return gt.schedule(function(){Oe===pt.length?Mt.complete():(Mt.next(pt[Oe++]),Mt.closed||this.schedule())})})}(pt,gt);if((0,Ge.t)(pt))return function Ne(pt,gt){return(0,d.Xf)(pt).pipe((0,we.R)(gt),(0,ge.Q)(gt))}(pt,gt);if((0,an.D)(pt))return Qe(pt,gt);if((0,ut.T)(pt))return function xe(pt,gt){return new He.y(Mt=>{let Oe;return(0,Te.f)(Mt,gt,()=>{Oe=pt[ct.h](),(0,Te.f)(Mt,gt,()=>{let Ht,on;try{({value:Ht,done:on}=Oe.next())}catch(Wn){return void Mt.error(Wn)}on?Mt.complete():Mt.next(Ht)},0,!0)}),()=>(0,it.m)(Oe?.return)&&Oe.return()})}(pt,gt);if((0,Nn.L)(pt))return function wn(pt,gt){return Qe((0,Nn.Q)(pt),gt)}(pt,gt)}throw(0,qt.z)(pt)}(pt,gt):(0,d.Xf)(pt)}},4829:(Rn,yt,Y)=>{Y.d(yt,{Xf:()=>mt});var d=Y(7582),ge=Y(4266),we=Y(4026),ne=Y(5592),Ne=Y(8382),He=Y(5726),Ae=Y(9853),ct=Y(3664),it=Y(541),Te=Y(4674),xe=Y(3894),Qe=Y(4850);function mt(st){if(st instanceof ne.y)return st;if(null!=st){if((0,Ne.c)(st))return function Ge(st){return new ne.y(It=>{const pt=st[Qe.L]();if((0,Te.m)(pt.subscribe))return pt.subscribe(It);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(st);if((0,ge.z)(st))return function Yt(st){return new ne.y(It=>{for(let pt=0;pt<st.length&&!It.closed;pt++)It.next(st[pt]);It.complete()})}(st);if((0,we.t)(st))return function ut(st){return new ne.y(It=>{st.then(pt=>{It.closed||(It.next(pt),It.complete())},pt=>It.error(pt)).then(null,xe.h)})}(st);if((0,He.D)(st))return qt(st);if((0,ct.T)(st))return function an(st){return new ne.y(It=>{for(const pt of st)if(It.next(pt),It.closed)return;It.complete()})}(st);if((0,it.L)(st))return function Nn(st){return qt((0,it.Q)(st))}(st)}throw(0,Ae.z)(st)}function qt(st){return new ne.y(It=>{(function wn(st,It){var pt,gt,Mt,Oe;return(0,d.mG)(this,void 0,void 0,function*(){try{for(pt=(0,d.KL)(st);!(gt=yield pt.next()).done;)if(It.next(gt.value),It.closed)return}catch(Ht){Mt={error:Ht}}finally{try{gt&&!gt.done&&(Oe=pt.return)&&(yield Oe.call(pt))}finally{if(Mt)throw Mt.error}}It.complete()})})(st,It).catch(pt=>It.error(pt))})}},3019:(Rn,yt,Y)=>{Y.d(yt,{T:()=>He});var d=Y(7537),ge=Y(4829),we=Y(6232),ne=Y(9940),Ne=Y(2459);function He(...Ae){const ct=(0,ne.yG)(Ae),it=(0,ne._6)(Ae,1/0),Te=Ae;return Te.length?1===Te.length?(0,ge.Xf)(Te[0]):(0,d.J)(it)((0,Ne.D)(Te,ct)):we.E}},2096:(Rn,yt,Y)=>{Y.d(yt,{of:()=>we});var d=Y(9940),ge=Y(2459);function we(...ne){const Ne=(0,d.yG)(ne);return(0,ge.D)(ne,Ne)}},8251:(Rn,yt,Y)=>{Y.d(yt,{x:()=>ge});var d=Y(305);function ge(ne,Ne,He,Ae,ct){return new we(ne,Ne,He,Ae,ct)}class we extends d.Lv{constructor(Ne,He,Ae,ct,it,Te){super(Ne),this.onFinalize=it,this.shouldUnsubscribe=Te,this._next=He?function(xe){try{He(xe)}catch(Qe){Ne.error(Qe)}}:super._next,this._error=ct?function(xe){try{ct(xe)}catch(Qe){Ne.error(Qe)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(xe){Ne.error(xe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:He}=this;super.unsubscribe(),!He&&(null===(Ne=this.onFinalize)||void 0===Ne||Ne.call(this))}}}},3572:(Rn,yt,Y)=>{Y.d(yt,{d:()=>we});var d=Y(9360),ge=Y(8251);function we(ne){return(0,d.e)((Ne,He)=>{let Ae=!1;Ne.subscribe((0,ge.x)(He,ct=>{Ae=!0,He.next(ct)},()=>{Ae||He.next(ne),He.complete()}))})}},3997:(Rn,yt,Y)=>{Y.d(yt,{x:()=>ne});var d=Y(2737),ge=Y(9360),we=Y(8251);function ne(He,Ae=d.y){return He=He??Ne,(0,ge.e)((ct,it)=>{let Te,xe=!0;ct.subscribe((0,we.x)(it,Qe=>{const mt=Ae(Qe);(xe||!He(Te,mt))&&(xe=!1,Te=mt,it.next(Qe))}))})}function Ne(He,Ae){return He===Ae}},2181:(Rn,yt,Y)=>{Y.d(yt,{h:()=>we});var d=Y(9360),ge=Y(8251);function we(ne,Ne){return(0,d.e)((He,Ae)=>{let ct=0;He.subscribe((0,ge.x)(Ae,it=>ne.call(Ne,it,ct++)&&Ae.next(it)))})}},1374:(Rn,yt,Y)=>{Y.d(yt,{P:()=>Ae});var d=Y(6973),ge=Y(2181),we=Y(8180),ne=Y(3572),Ne=Y(3026),He=Y(2737);function Ae(ct,it){const Te=arguments.length>=2;return xe=>xe.pipe(ct?(0,ge.h)((Qe,mt)=>ct(Qe,mt,xe)):He.y,(0,we.q)(1),Te?(0,ne.d)(it):(0,Ne.T)(()=>new d.K))}},7398:(Rn,yt,Y)=>{Y.d(yt,{U:()=>we});var d=Y(9360),ge=Y(8251);function we(ne,Ne){return(0,d.e)((He,Ae)=>{let ct=0;He.subscribe((0,ge.x)(Ae,it=>{Ae.next(ne.call(Ne,it,ct++))}))})}},975:(Rn,yt,Y)=>{Y.d(yt,{h:()=>ge});var d=Y(7398);function ge(we){return(0,d.U)(()=>we)}},7537:(Rn,yt,Y)=>{Y.d(yt,{J:()=>we});var d=Y(1631),ge=Y(2737);function we(ne=1/0){return(0,d.z)(ge.y,ne)}},1631:(Rn,yt,Y)=>{Y.d(yt,{z:()=>ct});var d=Y(7398),ge=Y(4829),we=Y(9360),ne=Y(7103),Ne=Y(8251),Ae=Y(4674);function ct(it,Te,xe=1/0){return(0,Ae.m)(Te)?ct((Qe,mt)=>(0,d.U)((Ge,Yt)=>Te(Qe,Ge,mt,Yt))((0,ge.Xf)(it(Qe,mt))),xe):("number"==typeof Te&&(xe=Te),(0,we.e)((Qe,mt)=>function He(it,Te,xe,Qe,mt,Ge,Yt,ut){const an=[];let qt=0,Nn=0,wn=!1;const st=()=>{wn&&!an.length&&!qt&&Te.complete()},It=gt=>qt<Qe?pt(gt):an.push(gt),pt=gt=>{Ge&&Te.next(gt),qt++;let Mt=!1;(0,ge.Xf)(xe(gt,Nn++)).subscribe((0,Ne.x)(Te,Oe=>{mt?.(Oe),Ge?It(Oe):Te.next(Oe)},()=>{Mt=!0},void 0,()=>{if(Mt)try{for(qt--;an.length&&qt<Qe;){const Oe=an.shift();Yt?(0,ne.f)(Te,Yt,()=>pt(Oe)):pt(Oe)}st()}catch(Oe){Te.error(Oe)}}))};return it.subscribe((0,Ne.x)(Te,It,()=>{wn=!0,st()})),()=>{ut?.()}}(Qe,mt,it,xe)))}},3093:(Rn,yt,Y)=>{Y.d(yt,{Q:()=>ne});var d=Y(7103),ge=Y(9360),we=Y(8251);function ne(Ne,He=0){return(0,ge.e)((Ae,ct)=>{Ae.subscribe((0,we.x)(ct,it=>(0,d.f)(ct,Ne,()=>ct.next(it),He),()=>(0,d.f)(ct,Ne,()=>ct.complete(),He),it=>(0,d.f)(ct,Ne,()=>ct.error(it),He)))})}},6699:(Rn,yt,Y)=>{Y.d(yt,{R:()=>ne});var d=Y(9360),ge=Y(8251);function ne(Ne,He){return(0,d.e)(function we(Ne,He,Ae,ct,it){return(Te,xe)=>{let Qe=Ae,mt=He,Ge=0;Te.subscribe((0,ge.x)(xe,Yt=>{const ut=Ge++;mt=Qe?Ne(mt,Yt,ut):(Qe=!0,Yt),ct&&xe.next(mt)},it&&(()=>{Qe&&xe.next(mt),xe.complete()})))}}(Ne,He,arguments.length>=2,!0))}},3020:(Rn,yt,Y)=>{Y.d(yt,{B:()=>Ne});var d=Y(4829),ge=Y(8645),we=Y(305),ne=Y(9360);function Ne(Ae={}){const{connector:ct=(()=>new ge.x),resetOnError:it=!0,resetOnComplete:Te=!0,resetOnRefCountZero:xe=!0}=Ae;return Qe=>{let mt,Ge,Yt,ut=0,an=!1,qt=!1;const Nn=()=>{Ge?.unsubscribe(),Ge=void 0},wn=()=>{Nn(),mt=Yt=void 0,an=qt=!1},st=()=>{const It=mt;wn(),It?.unsubscribe()};return(0,ne.e)((It,pt)=>{ut++,!qt&&!an&&Nn();const gt=Yt=Yt??ct();pt.add(()=>{ut--,0===ut&&!qt&&!an&&(Ge=He(st,xe))}),gt.subscribe(pt),!mt&&ut>0&&(mt=new we.Hp({next:Mt=>gt.next(Mt),error:Mt=>{qt=!0,Nn(),Ge=He(wn,it,Mt),gt.error(Mt)},complete:()=>{an=!0,Nn(),Ge=He(wn,Te),gt.complete()}}),(0,d.Xf)(It).subscribe(mt))})(Qe)}}function He(Ae,ct,...it){if(!0===ct)return void Ae();if(!1===ct)return;const Te=new we.Hp({next:()=>{Te.unsubscribe(),Ae()}});return(0,d.Xf)(ct(...it)).subscribe(Te)}},7921:(Rn,yt,Y)=>{Y.d(yt,{O:()=>ne});var d=Y(5211),ge=Y(9940),we=Y(9360);function ne(...Ne){const He=(0,ge.yG)(Ne);return(0,we.e)((Ae,ct)=>{(He?(0,d.z)(Ne,Ae,He):(0,d.z)(Ne,Ae)).subscribe(ct)})}},5137:(Rn,yt,Y)=>{Y.d(yt,{R:()=>ge});var d=Y(9360);function ge(we,ne=0){return(0,d.e)((Ne,He)=>{He.add(we.schedule(()=>Ne.subscribe(He),ne))})}},4664:(Rn,yt,Y)=>{Y.d(yt,{w:()=>ne});var d=Y(4829),ge=Y(9360),we=Y(8251);function ne(Ne,He){return(0,ge.e)((Ae,ct)=>{let it=null,Te=0,xe=!1;const Qe=()=>xe&&!it&&ct.complete();Ae.subscribe((0,we.x)(ct,mt=>{it?.unsubscribe();let Ge=0;const Yt=Te++;(0,d.Xf)(Ne(mt,Yt)).subscribe(it=(0,we.x)(ct,ut=>ct.next(He?He(mt,ut,Yt,Ge++):ut),()=>{it=null,Qe()}))},()=>{xe=!0,Qe()}))})}},8180:(Rn,yt,Y)=>{Y.d(yt,{q:()=>ne});var d=Y(6232),ge=Y(9360),we=Y(8251);function ne(Ne){return Ne<=0?()=>d.E:(0,ge.e)((He,Ae)=>{let ct=0;He.subscribe((0,we.x)(Ae,it=>{++ct<=Ne&&(Ae.next(it),Ne<=ct&&Ae.complete())}))})}},9773:(Rn,yt,Y)=>{Y.d(yt,{R:()=>Ne});var d=Y(9360),ge=Y(8251),we=Y(4829),ne=Y(2420);function Ne(He){return(0,d.e)((Ae,ct)=>{(0,we.Xf)(He).subscribe((0,ge.x)(ct,()=>ct.complete(),ne.Z)),!ct.closed&&Ae.subscribe(ct)})}},9397:(Rn,yt,Y)=>{Y.d(yt,{b:()=>Ne});var d=Y(4674),ge=Y(9360),we=Y(8251),ne=Y(2737);function Ne(He,Ae,ct){const it=(0,d.m)(He)||Ae||ct?{next:He,error:Ae,complete:ct}:He;return it?(0,ge.e)((Te,xe)=>{var Qe;null===(Qe=it.subscribe)||void 0===Qe||Qe.call(it);let mt=!0;Te.subscribe((0,we.x)(xe,Ge=>{var Yt;null===(Yt=it.next)||void 0===Yt||Yt.call(it,Ge),xe.next(Ge)},()=>{var Ge;mt=!1,null===(Ge=it.complete)||void 0===Ge||Ge.call(it),xe.complete()},Ge=>{var Yt;mt=!1,null===(Yt=it.error)||void 0===Yt||Yt.call(it,Ge),xe.error(Ge)},()=>{var Ge,Yt;mt&&(null===(Ge=it.unsubscribe)||void 0===Ge||Ge.call(it)),null===(Yt=it.finalize)||void 0===Yt||Yt.call(it)}))}):ne.y}},3026:(Rn,yt,Y)=>{Y.d(yt,{T:()=>ne});var d=Y(6973),ge=Y(9360),we=Y(8251);function ne(He=Ne){return(0,ge.e)((Ae,ct)=>{let it=!1;Ae.subscribe((0,we.x)(ct,Te=>{it=!0,ct.next(Te)},()=>it?ct.complete():ct.error(He())))})}function Ne(){return new d.K}},2460:(Rn,yt,Y)=>{Y.d(yt,{M:()=>Ae});var d=Y(9360),ge=Y(8251),we=Y(4829),ne=Y(2737),Ne=Y(2420),He=Y(9940);function Ae(...ct){const it=(0,He.jO)(ct);return(0,d.e)((Te,xe)=>{const Qe=ct.length,mt=new Array(Qe);let Ge=ct.map(()=>!1),Yt=!1;for(let ut=0;ut<Qe;ut++)(0,we.Xf)(ct[ut]).subscribe((0,ge.x)(xe,an=>{mt[ut]=an,!Yt&&!Ge[ut]&&(Ge[ut]=!0,(Yt=Ge.every(ne.y))&&(Ge=null))},Ne.Z));Te.subscribe((0,ge.x)(xe,ut=>{if(Yt){const an=[ut,...mt];xe.next(it?it(...an):an)}}))})}},1954:(Rn,yt,Y)=>{Y.d(yt,{o:()=>Ne});var d=Y(7394);class ge extends d.w0{constructor(Ae,ct){super()}schedule(Ae,ct=0){return this}}const we={setInterval(He,Ae,...ct){const{delegate:it}=we;return it?.setInterval?it.setInterval(He,Ae,...ct):setInterval(He,Ae,...ct)},clearInterval(He){const{delegate:Ae}=we;return(Ae?.clearInterval||clearInterval)(He)},delegate:void 0};var ne=Y(9039);class Ne extends ge{constructor(Ae,ct){super(Ae,ct),this.scheduler=Ae,this.work=ct,this.pending=!1}schedule(Ae,ct=0){var it;if(this.closed)return this;this.state=Ae;const Te=this.id,xe=this.scheduler;return null!=Te&&(this.id=this.recycleAsyncId(xe,Te,ct)),this.pending=!0,this.delay=ct,this.id=null!==(it=this.id)&&void 0!==it?it:this.requestAsyncId(xe,this.id,ct),this}requestAsyncId(Ae,ct,it=0){return we.setInterval(Ae.flush.bind(Ae,this),it)}recycleAsyncId(Ae,ct,it=0){if(null!=it&&this.delay===it&&!1===this.pending)return ct;null!=ct&&we.clearInterval(ct)}execute(Ae,ct){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const it=this._execute(Ae,ct);if(it)return it;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,ct){let Te,it=!1;try{this.work(Ae)}catch(xe){it=!0,Te=xe||new Error("Scheduled action threw falsy error")}if(it)return this.unsubscribe(),Te}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:ct}=this,{actions:it}=ct;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(it,this),null!=Ae&&(this.id=this.recycleAsyncId(ct,Ae,null)),this.delay=null,super.unsubscribe()}}}},2631:(Rn,yt,Y)=>{Y.d(yt,{v:()=>we});var d=Y(4552);class ge{constructor(Ne,He=ge.now){this.schedulerActionCtor=Ne,this.now=He}schedule(Ne,He=0,Ae){return new this.schedulerActionCtor(this,Ne).schedule(Ae,He)}}ge.now=d.l.now;class we extends ge{constructor(Ne,He=ge.now){super(Ne,He),this.actions=[],this._active=!1}flush(Ne){const{actions:He}=this;if(this._active)return void He.push(Ne);let Ae;this._active=!0;do{if(Ae=Ne.execute(Ne.state,Ne.delay))break}while(Ne=He.shift());if(this._active=!1,Ae){for(;Ne=He.shift();)Ne.unsubscribe();throw Ae}}}},6321:(Rn,yt,Y)=>{Y.d(yt,{P:()=>ne,z:()=>we});var d=Y(1954);const we=new(Y(2631).v)(d.o),ne=we},4552:(Rn,yt,Y)=>{Y.d(yt,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(Rn,yt,Y)=>{Y.d(yt,{z:()=>d});const d={setTimeout(ge,we,...ne){const{delegate:Ne}=d;return Ne?.setTimeout?Ne.setTimeout(ge,we,...ne):setTimeout(ge,we,...ne)},clearTimeout(ge){const{delegate:we}=d;return(we?.clearTimeout||clearTimeout)(ge)},delegate:void 0}},4971:(Rn,yt,Y)=>{Y.d(yt,{h:()=>ge});const ge=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Rn,yt,Y)=>{Y.d(yt,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Rn,yt,Y)=>{Y.d(yt,{K:()=>ge});const ge=(0,Y(2306).d)(we=>function(){we(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Rn,yt,Y)=>{Y.d(yt,{_6:()=>He,jO:()=>ne,yG:()=>Ne});var d=Y(4674),ge=Y(671);function we(Ae){return Ae[Ae.length-1]}function ne(Ae){return(0,d.m)(we(Ae))?Ae.pop():void 0}function Ne(Ae){return(0,ge.K)(we(Ae))?Ae.pop():void 0}function He(Ae,ct){return"number"==typeof we(Ae)?Ae.pop():ct}},7453:(Rn,yt,Y)=>{Y.d(yt,{D:()=>Ne});const{isArray:d}=Array,{getPrototypeOf:ge,prototype:we,keys:ne}=Object;function Ne(Ae){if(1===Ae.length){const ct=Ae[0];if(d(ct))return{args:ct,keys:null};if(function He(Ae){return Ae&&"object"==typeof Ae&&ge(Ae)===we}(ct)){const it=ne(ct);return{args:it.map(Te=>ct[Te]),keys:it}}}return{args:Ae,keys:null}}},9039:(Rn,yt,Y)=>{function d(ge,we){if(ge){const ne=ge.indexOf(we);0<=ne&&ge.splice(ne,1)}}Y.d(yt,{P:()=>d})},2306:(Rn,yt,Y)=>{function d(ge){const ne=ge(Ne=>{Error.call(Ne),Ne.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}Y.d(yt,{d:()=>d})},2714:(Rn,yt,Y)=>{function d(ge,we){return ge.reduce((ne,Ne,He)=>(ne[Ne]=we[He],ne),{})}Y.d(yt,{n:()=>d})},1441:(Rn,yt,Y)=>{Y.d(yt,{O:()=>ne,x:()=>we});var d=Y(2653);let ge=null;function we(Ne){if(d.config.useDeprecatedSynchronousErrorHandling){const He=!ge;if(He&&(ge={errorThrown:!1,error:null}),Ne(),He){const{errorThrown:Ae,error:ct}=ge;if(ge=null,Ae)throw ct}}else Ne()}function ne(Ne){d.config.useDeprecatedSynchronousErrorHandling&&ge&&(ge.errorThrown=!0,ge.error=Ne)}},7103:(Rn,yt,Y)=>{function d(ge,we,ne,Ne=0,He=!1){const Ae=we.schedule(function(){ne(),He?ge.add(this.schedule(null,Ne)):this.unsubscribe()},Ne);if(ge.add(Ae),!He)return Ae}Y.d(yt,{f:()=>d})},2737:(Rn,yt,Y)=>{function d(ge){return ge}Y.d(yt,{y:()=>d})},4266:(Rn,yt,Y)=>{Y.d(yt,{z:()=>d});const d=ge=>ge&&"number"==typeof ge.length&&"function"!=typeof ge},5726:(Rn,yt,Y)=>{Y.d(yt,{D:()=>ge});var d=Y(4674);function ge(we){return Symbol.asyncIterator&&(0,d.m)(we?.[Symbol.asyncIterator])}},4674:(Rn,yt,Y)=>{function d(ge){return"function"==typeof ge}Y.d(yt,{m:()=>d})},8382:(Rn,yt,Y)=>{Y.d(yt,{c:()=>we});var d=Y(4850),ge=Y(4674);function we(ne){return(0,ge.m)(ne[d.L])}},3664:(Rn,yt,Y)=>{Y.d(yt,{T:()=>we});var d=Y(4971),ge=Y(4674);function we(ne){return(0,ge.m)(ne?.[d.h])}},4026:(Rn,yt,Y)=>{Y.d(yt,{t:()=>ge});var d=Y(4674);function ge(we){return(0,d.m)(we?.then)}},541:(Rn,yt,Y)=>{Y.d(yt,{L:()=>ne,Q:()=>we});var d=Y(7582),ge=Y(4674);function we(Ne){return(0,d.FC)(this,arguments,function*(){const Ae=Ne.getReader();try{for(;;){const{value:ct,done:it}=yield(0,d.qq)(Ae.read());if(it)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ct)}}finally{Ae.releaseLock()}})}function ne(Ne){return(0,ge.m)(Ne?.getReader)}},671:(Rn,yt,Y)=>{Y.d(yt,{K:()=>ge});var d=Y(4674);function ge(we){return we&&(0,d.m)(we.schedule)}},9360:(Rn,yt,Y)=>{Y.d(yt,{A:()=>ge,e:()=>we});var d=Y(4674);function ge(ne){return(0,d.m)(ne?.lift)}function we(ne){return Ne=>{if(ge(Ne))return Ne.lift(function(He){try{return ne(He,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Rn,yt,Y)=>{Y.d(yt,{Z:()=>ne});var d=Y(7398);const{isArray:ge}=Array;function ne(Ne){return(0,d.U)(He=>function we(Ne,He){return ge(He)?Ne(...He):Ne(He)}(Ne,He))}},2420:(Rn,yt,Y)=>{function d(){}Y.d(yt,{Z:()=>d})},8407:(Rn,yt,Y)=>{Y.d(yt,{U:()=>we,z:()=>ge});var d=Y(2737);function ge(...ne){return we(ne)}function we(ne){return 0===ne.length?d.y:1===ne.length?ne[0]:function(He){return ne.reduce((Ae,ct)=>ct(Ae),He)}}},3894:(Rn,yt,Y)=>{Y.d(yt,{h:()=>we});var d=Y(2653),ge=Y(7599);function we(ne){ge.z.setTimeout(()=>{const{onUnhandledError:Ne}=d.config;if(!Ne)throw ne;Ne(ne)})}},9853:(Rn,yt,Y)=>{function d(ge){return new TypeError(`You provided ${null!==ge&&"object"==typeof ge?"an invalid object":`'${ge}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d(yt,{z:()=>d})},6814:(Rn,yt,Y)=>{Y.d(yt,{Do:()=>ut,EM:()=>Es,HT:()=>ne,JF:()=>Vs,K0:()=>He,Mn:()=>Yn,Mx:()=>Fs,O5:()=>ss,PM:()=>fo,S$:()=>mt,Tn:()=>Oe,UT:()=>yr,V_:()=>ct,Ye:()=>an,ax:()=>Br,b0:()=>Yt,bD:()=>Os,ez:()=>qi,p6:()=>cr,q:()=>we,sg:()=>Br,tP:()=>Ar,w_:()=>Ne,x:()=>Mt});var d=Y(5879);let ge=null;function we(){return ge}function ne(V){ge||(ge=V)}class Ne{}const He=new d.OlP("DocumentToken");let Ae=(()=>{var V;class X{historyGo(Q){throw new Error("Not implemented")}}return(V=X).\u0275fac=function(Q){return new(Q||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(it)},providedIn:"platform"}),X})();const ct=new d.OlP("Location Initialized");let it=(()=>{var V;class X extends Ae{constructor(){super(),this._doc=(0,d.f3M)(He),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return we().getBaseHref(this._doc)}onPopState(Q){const Se=we().getGlobalEventTarget(this._doc,"window");return Se.addEventListener("popstate",Q,!1),()=>Se.removeEventListener("popstate",Q)}onHashChange(Q){const Se=we().getGlobalEventTarget(this._doc,"window");return Se.addEventListener("hashchange",Q,!1),()=>Se.removeEventListener("hashchange",Q)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Q){this._location.pathname=Q}pushState(Q,Se,$){this._history.pushState(Q,Se,$)}replaceState(Q,Se,$){this._history.replaceState(Q,Se,$)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Q=0){this._history.go(Q)}getState(){return this._history.state}}return(V=X).\u0275fac=function(Q){return new(Q||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return new V},providedIn:"platform"}),X})();function Te(V,X){if(0==V.length)return X;if(0==X.length)return V;let Pe=0;return V.endsWith("/")&&Pe++,X.startsWith("/")&&Pe++,2==Pe?V+X.substring(1):1==Pe?V+X:V+"/"+X}function xe(V){const X=V.match(/#|\?|$/),Pe=X&&X.index||V.length;return V.slice(0,Pe-("/"===V[Pe-1]?1:0))+V.slice(Pe)}function Qe(V){return V&&"?"!==V[0]?"?"+V:V}let mt=(()=>{var V;class X{historyGo(Q){throw new Error("Not implemented")}}return(V=X).\u0275fac=function(Q){return new(Q||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(Yt)},providedIn:"root"}),X})();const Ge=new d.OlP("appBaseHref");let Yt=(()=>{var V;class X extends mt{constructor(Q,Se){super(),this._platformLocation=Q,this._removeListenerFns=[],this._baseHref=Se??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Q){this._removeListenerFns.push(this._platformLocation.onPopState(Q),this._platformLocation.onHashChange(Q))}getBaseHref(){return this._baseHref}prepareExternalUrl(Q){return Te(this._baseHref,Q)}path(Q=!1){const Se=this._platformLocation.pathname+Qe(this._platformLocation.search),$=this._platformLocation.hash;return $&&Q?`${Se}${$}`:Se}pushState(Q,Se,$,re){const he=this.prepareExternalUrl($+Qe(re));this._platformLocation.pushState(Q,Se,he)}replaceState(Q,Se,$,re){const he=this.prepareExternalUrl($+Qe(re));this._platformLocation.replaceState(Q,Se,he)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Q=0){this._platformLocation.historyGo?.(Q)}}return(V=X).\u0275fac=function(Q){return new(Q||V)(d.LFG(Ae),d.LFG(Ge,8))},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),X})(),ut=(()=>{var V;class X extends mt{constructor(Q,Se){super(),this._platformLocation=Q,this._baseHref="",this._removeListenerFns=[],null!=Se&&(this._baseHref=Se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Q){this._removeListenerFns.push(this._platformLocation.onPopState(Q),this._platformLocation.onHashChange(Q))}getBaseHref(){return this._baseHref}path(Q=!1){let Se=this._platformLocation.hash;return null==Se&&(Se="#"),Se.length>0?Se.substring(1):Se}prepareExternalUrl(Q){const Se=Te(this._baseHref,Q);return Se.length>0?"#"+Se:Se}pushState(Q,Se,$,re){let he=this.prepareExternalUrl($+Qe(re));0==he.length&&(he=this._platformLocation.pathname),this._platformLocation.pushState(Q,Se,he)}replaceState(Q,Se,$,re){let he=this.prepareExternalUrl($+Qe(re));0==he.length&&(he=this._platformLocation.pathname),this._platformLocation.replaceState(Q,Se,he)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Q=0){this._platformLocation.historyGo?.(Q)}}return(V=X).\u0275fac=function(Q){return new(Q||V)(d.LFG(Ae),d.LFG(Ge,8))},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac}),X})(),an=(()=>{var V;class X{constructor(Q){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Q;const Se=this._locationStrategy.getBaseHref();this._basePath=function st(V){if(new RegExp("^(https?:)?//").test(V)){const[,Pe]=V.split(/\/\/[^\/]+/);return Pe}return V}(xe(wn(Se))),this._locationStrategy.onPopState($=>{this._subject.emit({url:this.path(!0),pop:!0,state:$.state,type:$.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Q=!1){return this.normalize(this._locationStrategy.path(Q))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Q,Se=""){return this.path()==this.normalize(Q+Qe(Se))}normalize(Q){return X.stripTrailingSlash(function Nn(V,X){if(!V||!X.startsWith(V))return X;const Pe=X.substring(V.length);return""===Pe||["/",";","?","#"].includes(Pe[0])?Pe:X}(this._basePath,wn(Q)))}prepareExternalUrl(Q){return Q&&"/"!==Q[0]&&(Q="/"+Q),this._locationStrategy.prepareExternalUrl(Q)}go(Q,Se="",$=null){this._locationStrategy.pushState($,"",Q,Se),this._notifyUrlChangeListeners(this.prepareExternalUrl(Q+Qe(Se)),$)}replaceState(Q,Se="",$=null){this._locationStrategy.replaceState($,"",Q,Se),this._notifyUrlChangeListeners(this.prepareExternalUrl(Q+Qe(Se)),$)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Q=0){this._locationStrategy.historyGo?.(Q)}onUrlChange(Q){return this._urlChangeListeners.push(Q),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Se=>{this._notifyUrlChangeListeners(Se.url,Se.state)})),()=>{const Se=this._urlChangeListeners.indexOf(Q);this._urlChangeListeners.splice(Se,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Q="",Se){this._urlChangeListeners.forEach($=>$(Q,Se))}subscribe(Q,Se,$){return this._subject.subscribe({next:Q,error:Se,complete:$})}}return(V=X).normalizeQueryParams=Qe,V.joinWithSlash=Te,V.stripTrailingSlash=xe,V.\u0275fac=function(Q){return new(Q||V)(d.LFG(mt))},V.\u0275prov=d.Yz7({token:V,factory:function(){return function qt(){return new an((0,d.LFG)(mt))}()},providedIn:"root"}),X})();function wn(V){return V.replace(/\/index.html$/,"")}var Mt=function(V){return V[V.Format=0]="Format",V[V.Standalone=1]="Standalone",V}(Mt||{}),Oe=function(V){return V[V.Narrow=0]="Narrow",V[V.Abbreviated=1]="Abbreviated",V[V.Wide=2]="Wide",V[V.Short=3]="Short",V}(Oe||{}),Ht=function(V){return V[V.Short=0]="Short",V[V.Medium=1]="Medium",V[V.Long=2]="Long",V[V.Full=3]="Full",V}(Ht||{}),on=function(V){return V[V.Decimal=0]="Decimal",V[V.Group=1]="Group",V[V.List=2]="List",V[V.PercentSign=3]="PercentSign",V[V.PlusSign=4]="PlusSign",V[V.MinusSign=5]="MinusSign",V[V.Exponential=6]="Exponential",V[V.SuperscriptingExponent=7]="SuperscriptingExponent",V[V.PerMille=8]="PerMille",V[V.Infinity=9]="Infinity",V[V.NaN=10]="NaN",V[V.TimeSeparator=11]="TimeSeparator",V[V.CurrencyDecimal=12]="CurrencyDecimal",V[V.CurrencyGroup=13]="CurrencyGroup",V}(on||{});function Yn(V,X,Pe){const Q=(0,d.cg1)(V),$=Ue([Q[d.wAp.DaysFormat],Q[d.wAp.DaysStandalone]],X);return Ue($,Pe)}function yr(V,X,Pe){const Q=(0,d.cg1)(V),$=Ue([Q[d.wAp.MonthsFormat],Q[d.wAp.MonthsStandalone]],X);return Ue($,Pe)}function nt(V,X){return Ue((0,d.cg1)(V)[d.wAp.DateFormat],X)}function Et(V,X){return Ue((0,d.cg1)(V)[d.wAp.TimeFormat],X)}function ot(V,X){return Ue((0,d.cg1)(V)[d.wAp.DateTimeFormat],X)}function Ct(V,X){const Pe=(0,d.cg1)(V),Q=Pe[d.wAp.NumberSymbols][X];if(typeof Q>"u"){if(X===on.CurrencyDecimal)return Pe[d.wAp.NumberSymbols][on.Decimal];if(X===on.CurrencyGroup)return Pe[d.wAp.NumberSymbols][on.Group]}return Q}function Bn(V){if(!V[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${V[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ue(V,X){for(let Pe=X;Pe>-1;Pe--)if(typeof V[Pe]<"u")return V[Pe];throw new Error("Locale data API: locale data undefined")}function Ze(V){const[X,Pe]=V.split(":");return{hours:+X,minutes:+Pe}}const Qt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pr={},Xn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var cn=function(V){return V[V.Short=0]="Short",V[V.ShortGMT=1]="ShortGMT",V[V.Long=2]="Long",V[V.Extended=3]="Extended",V}(cn||{}),bn=function(V){return V[V.FullYear=0]="FullYear",V[V.Month=1]="Month",V[V.Date=2]="Date",V[V.Hours=3]="Hours",V[V.Minutes=4]="Minutes",V[V.Seconds=5]="Seconds",V[V.FractionalSeconds=6]="FractionalSeconds",V[V.Day=7]="Day",V}(bn||{}),er=function(V){return V[V.DayPeriods=0]="DayPeriods",V[V.Days=1]="Days",V[V.Months=2]="Months",V[V.Eras=3]="Eras",V}(er||{});function cr(V,X,Pe,Q){let Se=function me(V){if(Le(V))return V;if("number"==typeof V&&!isNaN(V))return new Date(V);if("string"==typeof V){if(V=V.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(V)){const[Se,$=1,re=1]=V.split("-").map(he=>+he);return ii(Se,$-1,re)}const Pe=parseFloat(V);if(!isNaN(V-Pe))return new Date(Pe);let Q;if(Q=V.match(Qt))return function fe(V){const X=new Date(0);let Pe=0,Q=0;const Se=V[8]?X.setUTCFullYear:X.setFullYear,$=V[8]?X.setUTCHours:X.setHours;V[9]&&(Pe=Number(V[9]+V[10]),Q=Number(V[9]+V[11])),Se.call(X,Number(V[1]),Number(V[2])-1,Number(V[3]));const re=Number(V[4]||0)-Pe,he=Number(V[5]||0)-Q,_e=Number(V[6]||0),Ce=Math.floor(1e3*parseFloat("0."+(V[7]||0)));return $.call(X,re,he,_e,Ce),X}(Q)}const X=new Date(V);if(!Le(X))throw new Error(`Unable to convert "${V}" into a date`);return X}(V);X=Si(Pe,X)||X;let he,re=[];for(;X;){if(he=Xn.exec(X),!he){re.push(X);break}{re=re.concat(he.slice(1));const Ke=re.pop();if(!Ke)break;X=Ke}}let _e=Se.getTimezoneOffset();Q&&(_e=gn(Q,_e),Se=function Ve(V,X,Pe){const Q=Pe?-1:1,Se=V.getTimezoneOffset();return function tr(V,X){return(V=new Date(V.getTime())).setMinutes(V.getMinutes()+X),V}(V,Q*(gn(X,Se)-Se))}(Se,Q,!0));let Ce="";return re.forEach(Ke=>{const et=function sn(V){if(wt[V])return wt[V];let X;switch(V){case"G":case"GG":case"GGG":X=Dr(er.Eras,Oe.Abbreviated);break;case"GGGG":X=Dr(er.Eras,Oe.Wide);break;case"GGGGG":X=Dr(er.Eras,Oe.Narrow);break;case"y":X=Vr(bn.FullYear,1,0,!1,!0);break;case"yy":X=Vr(bn.FullYear,2,0,!0,!0);break;case"yyy":X=Vr(bn.FullYear,3,0,!1,!0);break;case"yyyy":X=Vr(bn.FullYear,4,0,!1,!0);break;case"Y":X=Vt(1);break;case"YY":X=Vt(2,!0);break;case"YYY":X=Vt(3);break;case"YYYY":X=Vt(4);break;case"M":case"L":X=Vr(bn.Month,1,1);break;case"MM":case"LL":X=Vr(bn.Month,2,1);break;case"MMM":X=Dr(er.Months,Oe.Abbreviated);break;case"MMMM":X=Dr(er.Months,Oe.Wide);break;case"MMMMM":X=Dr(er.Months,Oe.Narrow);break;case"LLL":X=Dr(er.Months,Oe.Abbreviated,Mt.Standalone);break;case"LLLL":X=Dr(er.Months,Oe.Wide,Mt.Standalone);break;case"LLLLL":X=Dr(er.Months,Oe.Narrow,Mt.Standalone);break;case"w":X=$e(1);break;case"ww":X=$e(2);break;case"W":X=$e(1,!0);break;case"d":X=Vr(bn.Date,1);break;case"dd":X=Vr(bn.Date,2);break;case"c":case"cc":X=Vr(bn.Day,1);break;case"ccc":X=Dr(er.Days,Oe.Abbreviated,Mt.Standalone);break;case"cccc":X=Dr(er.Days,Oe.Wide,Mt.Standalone);break;case"ccccc":X=Dr(er.Days,Oe.Narrow,Mt.Standalone);break;case"cccccc":X=Dr(er.Days,Oe.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":X=Dr(er.Days,Oe.Abbreviated);break;case"EEEE":X=Dr(er.Days,Oe.Wide);break;case"EEEEE":X=Dr(er.Days,Oe.Narrow);break;case"EEEEEE":X=Dr(er.Days,Oe.Short);break;case"a":case"aa":case"aaa":X=Dr(er.DayPeriods,Oe.Abbreviated);break;case"aaaa":X=Dr(er.DayPeriods,Oe.Wide);break;case"aaaaa":X=Dr(er.DayPeriods,Oe.Narrow);break;case"b":case"bb":case"bbb":X=Dr(er.DayPeriods,Oe.Abbreviated,Mt.Standalone,!0);break;case"bbbb":X=Dr(er.DayPeriods,Oe.Wide,Mt.Standalone,!0);break;case"bbbbb":X=Dr(er.DayPeriods,Oe.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":X=Dr(er.DayPeriods,Oe.Abbreviated,Mt.Format,!0);break;case"BBBB":X=Dr(er.DayPeriods,Oe.Wide,Mt.Format,!0);break;case"BBBBB":X=Dr(er.DayPeriods,Oe.Narrow,Mt.Format,!0);break;case"h":X=Vr(bn.Hours,1,-12);break;case"hh":X=Vr(bn.Hours,2,-12);break;case"H":X=Vr(bn.Hours,1);break;case"HH":X=Vr(bn.Hours,2);break;case"m":X=Vr(bn.Minutes,1);break;case"mm":X=Vr(bn.Minutes,2);break;case"s":X=Vr(bn.Seconds,1);break;case"ss":X=Vr(bn.Seconds,2);break;case"S":X=Vr(bn.FractionalSeconds,1);break;case"SS":X=Vr(bn.FractionalSeconds,2);break;case"SSS":X=Vr(bn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":X=bs(cn.Short);break;case"ZZZZZ":X=bs(cn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=bs(cn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":X=bs(cn.Long);break;default:return null}return wt[V]=X,X}(Ke);Ce+=et?et(Se,Pe,_e):"''"===Ke?"'":Ke.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ce}function ii(V,X,Pe){const Q=new Date(0);return Q.setFullYear(V,X,Pe),Q.setHours(0,0,0),Q}function Si(V,X){const Pe=function jn(V){return(0,d.cg1)(V)[d.wAp.LocaleId]}(V);if(pr[Pe]=pr[Pe]||{},pr[Pe][X])return pr[Pe][X];let Q="";switch(X){case"shortDate":Q=nt(V,Ht.Short);break;case"mediumDate":Q=nt(V,Ht.Medium);break;case"longDate":Q=nt(V,Ht.Long);break;case"fullDate":Q=nt(V,Ht.Full);break;case"shortTime":Q=Et(V,Ht.Short);break;case"mediumTime":Q=Et(V,Ht.Medium);break;case"longTime":Q=Et(V,Ht.Long);break;case"fullTime":Q=Et(V,Ht.Full);break;case"short":const Se=Si(V,"shortTime"),$=Si(V,"shortDate");Q=Ir(ot(V,Ht.Short),[Se,$]);break;case"medium":const re=Si(V,"mediumTime"),he=Si(V,"mediumDate");Q=Ir(ot(V,Ht.Medium),[re,he]);break;case"long":const _e=Si(V,"longTime"),Ce=Si(V,"longDate");Q=Ir(ot(V,Ht.Long),[_e,Ce]);break;case"full":const Ke=Si(V,"fullTime"),et=Si(V,"fullDate");Q=Ir(ot(V,Ht.Full),[Ke,et])}return Q&&(pr[Pe][X]=Q),Q}function Ir(V,X){return X&&(V=V.replace(/\{([^}]+)}/g,function(Pe,Q){return null!=X&&Q in X?X[Q]:Pe})),V}function ti(V,X,Pe="-",Q,Se){let $="";(V<0||Se&&V<=0)&&(Se?V=1-V:(V=-V,$=Pe));let re=String(V);for(;re.length<X;)re="0"+re;return Q&&(re=re.slice(re.length-X)),$+re}function Vr(V,X,Pe=0,Q=!1,Se=!1){return function($,re){let he=function Xi(V,X){switch(V){case bn.FullYear:return X.getFullYear();case bn.Month:return X.getMonth();case bn.Date:return X.getDate();case bn.Hours:return X.getHours();case bn.Minutes:return X.getMinutes();case bn.Seconds:return X.getSeconds();case bn.FractionalSeconds:return X.getMilliseconds();case bn.Day:return X.getDay();default:throw new Error(`Unknown DateType value "${V}".`)}}(V,$);if((Pe>0||he>-Pe)&&(he+=Pe),V===bn.Hours)0===he&&-12===Pe&&(he=12);else if(V===bn.FractionalSeconds)return function qr(V,X){return ti(V,3).substring(0,X)}(he,X);const _e=Ct(re,on.MinusSign);return ti(he,X,_e,Q,Se)}}function Dr(V,X,Pe=Mt.Format,Q=!1){return function(Se,$){return function ur(V,X,Pe,Q,Se,$){switch(Pe){case er.Months:return yr(X,Se,Q)[V.getMonth()];case er.Days:return Yn(X,Se,Q)[V.getDay()];case er.DayPeriods:const re=V.getHours(),he=V.getMinutes();if($){const Ce=function Mr(V){const X=(0,d.cg1)(V);return Bn(X),(X[d.wAp.ExtraData][2]||[]).map(Q=>"string"==typeof Q?Ze(Q):[Ze(Q[0]),Ze(Q[1])])}(X),Ke=function Mn(V,X,Pe){const Q=(0,d.cg1)(V);Bn(Q);const $=Ue([Q[d.wAp.ExtraData][0],Q[d.wAp.ExtraData][1]],X)||[];return Ue($,Pe)||[]}(X,Se,Q),et=Ce.findIndex(xt=>{if(Array.isArray(xt)){const[Ot,In]=xt,xn=re>=Ot.hours&&he>=Ot.minutes,Kn=re<In.hours||re===In.hours&&he<In.minutes;if(Ot.hours<In.hours){if(xn&&Kn)return!0}else if(xn||Kn)return!0}else if(xt.hours===re&&xt.minutes===he)return!0;return!1});if(-1!==et)return Ke[et]}return function mn(V,X,Pe){const Q=(0,d.cg1)(V),$=Ue([Q[d.wAp.DayPeriodsFormat],Q[d.wAp.DayPeriodsStandalone]],X);return Ue($,Pe)}(X,Se,Q)[re<12?0:1];case er.Eras:return function Ln(V,X){return Ue((0,d.cg1)(V)[d.wAp.Eras],X)}(X,Q)[V.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Pe}`)}}(Se,$,V,X,Pe,Q)}}function bs(V){return function(X,Pe,Q){const Se=-1*Q,$=Ct(Pe,on.MinusSign),re=Se>0?Math.floor(Se/60):Math.ceil(Se/60);switch(V){case cn.Short:return(Se>=0?"+":"")+ti(re,2,$)+ti(Math.abs(Se%60),2,$);case cn.ShortGMT:return"GMT"+(Se>=0?"+":"")+ti(re,1,$);case cn.Long:return"GMT"+(Se>=0?"+":"")+ti(re,2,$)+":"+ti(Math.abs(Se%60),2,$);case cn.Extended:return 0===Q?"Z":(Se>=0?"+":"")+ti(re,2,$)+":"+ti(Math.abs(Se%60),2,$);default:throw new Error(`Unknown zone width "${V}"`)}}}const Is=0,_i=4;function Tt(V){return ii(V.getFullYear(),V.getMonth(),V.getDate()+(_i-V.getDay()))}function $e(V,X=!1){return function(Pe,Q){let Se;if(X){const $=new Date(Pe.getFullYear(),Pe.getMonth(),1).getDay()-1,re=Pe.getDate();Se=1+Math.floor((re+$)/7)}else{const $=Tt(Pe),re=function vs(V){const X=ii(V,Is,1).getDay();return ii(V,0,1+(X<=_i?_i:_i+7)-X)}($.getFullYear()),he=$.getTime()-re.getTime();Se=1+Math.round(he/6048e5)}return ti(Se,V,Ct(Q,on.MinusSign))}}function Vt(V,X=!1){return function(Pe,Q){return ti(Tt(Pe).getFullYear(),V,Ct(Q,on.MinusSign),X)}}const wt={};function gn(V,X){V=V.replace(/:/g,"");const Pe=Date.parse("Jan 01, 1970 00:00:00 "+V)/6e4;return isNaN(Pe)?X:Pe}function Le(V){return V instanceof Date&&!isNaN(V.valueOf())}function Fs(V,X){X=encodeURIComponent(X);for(const Pe of V.split(";")){const Q=Pe.indexOf("="),[Se,$]=-1==Q?[Pe,""]:[Pe.slice(0,Q),Pe.slice(Q+1)];if(Se.trim()===X)return decodeURIComponent($)}return null}class Mo{constructor(X,Pe,Q,Se){this.$implicit=X,this.ngForOf=Pe,this.index=Q,this.count=Se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Br=(()=>{var V;class X{set ngForOf(Q){this._ngForOf=Q,this._ngForOfDirty=!0}set ngForTrackBy(Q){this._trackByFn=Q}get ngForTrackBy(){return this._trackByFn}constructor(Q,Se,$){this._viewContainer=Q,this._template=Se,this._differs=$,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Q){Q&&(this._template=Q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Q=this._ngForOf;!this._differ&&Q&&(this._differ=this._differs.find(Q).create(this.ngForTrackBy))}if(this._differ){const Q=this._differ.diff(this._ngForOf);Q&&this._applyChanges(Q)}}_applyChanges(Q){const Se=this._viewContainer;Q.forEachOperation(($,re,he)=>{if(null==$.previousIndex)Se.createEmbeddedView(this._template,new Mo($.item,this._ngForOf,-1,-1),null===he?void 0:he);else if(null==he)Se.remove(null===re?void 0:re);else if(null!==re){const _e=Se.get(re);Se.move(_e,he),Un(_e,$)}});for(let $=0,re=Se.length;$<re;$++){const _e=Se.get($).context;_e.index=$,_e.count=re,_e.ngForOf=this._ngForOf}Q.forEachIdentityChange($=>{Un(Se.get($.currentIndex),$)})}static ngTemplateContextGuard(Q,Se){return!0}}return(V=X).\u0275fac=function(Q){return new(Q||V)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},V.\u0275dir=d.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),X})();function Un(V,X){V.context.$implicit=X.item}let ss=(()=>{var V;class X{constructor(Q,Se){this._viewContainer=Q,this._context=new xi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Se}set ngIf(Q){this._context.$implicit=this._context.ngIf=Q,this._updateView()}set ngIfThen(Q){sl("ngIfThen",Q),this._thenTemplateRef=Q,this._thenViewRef=null,this._updateView()}set ngIfElse(Q){sl("ngIfElse",Q),this._elseTemplateRef=Q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Q,Se){return!0}}return(V=X).\u0275fac=function(Q){return new(Q||V)(d.Y36(d.s_b),d.Y36(d.Rgc))},V.\u0275dir=d.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),X})();class xi{constructor(){this.$implicit=null,this.ngIf=null}}function sl(V,X){if(X&&!X.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,d.AaK)(X)}'.`)}let Ar=(()=>{var V;class X{constructor(Q){this._viewContainerRef=Q,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Q){if(Q.ngTemplateOutlet||Q.ngTemplateOutletInjector){const Se=this._viewContainerRef;if(this._viewRef&&Se.remove(Se.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:$,ngTemplateOutletContext:re,ngTemplateOutletInjector:he}=this;this._viewRef=Se.createEmbeddedView($,re,he?{injector:he}:void 0)}else this._viewRef=null}else this._viewRef&&Q.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(V=X).\u0275fac=function(Q){return new(Q||V)(d.Y36(d.s_b))},V.\u0275dir=d.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),X})(),qi=(()=>{var V;class X{}return(V=X).\u0275fac=function(Q){return new(Q||V)},V.\u0275mod=d.oAB({type:V}),V.\u0275inj=d.cJS({}),X})();const Os="browser",Ho="server";function fo(V){return V===Ho}let Es=(()=>{var V;class X{}return(V=X).\u0275prov=(0,d.Yz7)({token:V,providedIn:"root",factory:()=>new Ss((0,d.LFG)(He),window)}),X})();class Ss{constructor(X,Pe){this.document=X,this.window=Pe,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const Pe=function _a(V,X){const Pe=V.getElementById(X)||V.getElementsByName(X)[0];if(Pe)return Pe;if("function"==typeof V.createTreeWalker&&V.body&&"function"==typeof V.body.attachShadow){const Q=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Se=Q.currentNode;for(;Se;){const $=Se.shadowRoot;if($){const re=$.getElementById(X)||$.querySelector(`[name="${X}"]`);if(re)return re}Se=Q.nextNode()}}return null}(this.document,X);Pe&&(this.scrollToElement(Pe),Pe.focus())}setHistoryScrollRestoration(X){this.supportsScrolling()&&(this.window.history.scrollRestoration=X)}scrollToElement(X){const Pe=X.getBoundingClientRect(),Q=Pe.left+this.window.pageXOffset,Se=Pe.top+this.window.pageYOffset,$=this.offset();this.window.scrollTo(Q-$[0],Se-$[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Vs{}},5879:(Rn,yt,Y)=>{Y.d(yt,{$8M:()=>nd,$WT:()=>Pr,$Z:()=>DI,AFp:()=>cm,AaK:()=>Qe,BQk:()=>$E,CHM:()=>yc,CRH:()=>op,EJc:()=>LT,EiD:()=>Nf,EpF:()=>n1,F$t:()=>eC,F4k:()=>QD,FYo:()=>oy,FiY:()=>zt,Gf:()=>Hw,GfV:()=>ly,Gpc:()=>Yt,HDt:()=>lA,Hsn:()=>tC,Ikx:()=>rc,JOm:()=>Kd,JVY:()=>Qd,JZr:()=>wn,KtG:()=>Ha,L6k:()=>Ad,LAX:()=>xu,LFG:()=>tn,LMc:()=>CA,LSH:()=>j0,Lbi:()=>X_,Lck:()=>NC,MAs:()=>GD,MGl:()=>zE,MMx:()=>Fd,NdJ:()=>HE,Ojb:()=>sD,OlP:()=>ea,Oqu:()=>zy,P3R:()=>G0,PXZ:()=>ab,Q6J:()=>XI,QGY:()=>GE,QbO:()=>q0,Qsj:()=>dD,R0b:()=>nc,RDi:()=>vi,Rgc:()=>hh,SBq:()=>Bf,SDv:()=>Dw,Sil:()=>cA,Suo:()=>Fi,TTD:()=>Ke,TgZ:()=>rf,Tol:()=>fg,VKq:()=>Nw,VuI:()=>wA,W1O:()=>IT,WLB:()=>lf,X6Q:()=>kg,XFs:()=>cn,Xpm:()=>lo,Xq5:()=>Nm,Xts:()=>im,Y36:()=>Zh,YKP:()=>eT,YNc:()=>UD,Yjl:()=>Ra,Yz7:()=>Bn,Z0I:()=>Ue,ZZ4:()=>Nh,_Bn:()=>Aw,_UZ:()=>e1,_c5:()=>ml,_uU:()=>E1,aQg:()=>r0,c2e:()=>d_,cJS:()=>Mn,cg1:()=>iv,dDg:()=>jT,dqk:()=>Ir,eBb:()=>Vc,eFA:()=>ub,eJc:()=>Ww,ekj:()=>Hm,eoX:()=>Qa,f3M:()=>Sn,g9A:()=>W0,h0i:()=>tp,hGG:()=>s0,hij:()=>Wy,iGM:()=>wT,ifc:()=>wi,ip1:()=>Xw,jDz:()=>nT,kEZ:()=>kw,kL8:()=>x1,lG2:()=>Po,lqb:()=>Md,lri:()=>ib,mCW:()=>eu,n5z:()=>td,oAB:()=>uo,oJD:()=>qh,oxw:()=>XD,pB0:()=>Eh,q3G:()=>Xd,q4F:()=>rE,qFp:()=>pS,qLn:()=>ju,qOj:()=>HI,qZA:()=>dg,qzn:()=>tc,rWj:()=>Rc,rg0:()=>Se,s9C:()=>o1,sBO:()=>pp,s_b:()=>Ld,soG:()=>Ca,tb:()=>Wv,tp0:()=>Fn,uIk:()=>Th,vHH:()=>st,vpe:()=>yu,wAp:()=>uh,xp6:()=>TI,ynx:()=>By,z2F:()=>gf,z3N:()=>qa,zSh:()=>sm,zW0:()=>ME,zs3:()=>fd});var d=Y(8645),ge=Y(7394),we=Y(5592),ne=Y(3019),Ne=Y(5619),He=Y(2096),Ae=Y(3020),ct=Y(4664),it=Y(3997);function Te(i){for(let o in i)if(i[o]===Te)return o;throw Error("Could not find renamed property on target object.")}function xe(i,o){for(const l in o)o.hasOwnProperty(l)&&!i.hasOwnProperty(l)&&(i[l]=o[l])}function Qe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Qe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function mt(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Ge=Te({__forward_ref__:Te});function Yt(i){return i.__forward_ref__=Yt,i.toString=function(){return Qe(this())},i}function ut(i){return an(i)?i():i}function an(i){return"function"==typeof i&&i.hasOwnProperty(Ge)&&i.__forward_ref__===Yt}function qt(i){return i&&!!i.\u0275providers}const wn="https://g.co/ng/security#xss";class st extends Error{constructor(o,l){super(function It(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,l)),this.code=o}}function pt(i){return"string"==typeof i?i:null==i?"":String(i)}function on(i,o){throw new st(-201,!1)}function ln(i,o,l,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}function Bn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Mn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Nr(i){return Ze(i,At)||Ze(i,pr)}function Ue(i){return null!==Nr(i)}function Ze(i,o){return i.hasOwnProperty(o)?i[o]:null}function Nt(i){return i&&(i.hasOwnProperty(Qt)||i.hasOwnProperty(Xn))?i[Qt]:null}const At=Te({\u0275prov:Te}),Qt=Te({\u0275inj:Te}),pr=Te({ngInjectableDef:Te}),Xn=Te({ngInjectorDef:Te});var cn=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(cn||{});let bn;function cr(i){const o=bn;return bn=i,o}function ii(i,o,l){const u=Nr(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&cn.Optional?null:void 0!==o?o:void on(Qe(i))}const Ir=globalThis,wt={},sn="__NG_DI_FLAG__",gn="ngTempTokenPath",Ve=/\n/gm,fe="__source";let Le;function ze(i){const o=Le;return Le=i,o}function Lt(i,o=cn.Default){if(void 0===Le)throw new st(-203,!1);return null===Le?ii(i,void 0,o):Le.get(i,o&cn.Optional?null:void 0,o)}function tn(i,o=cn.Default){return(function er(){return bn}()||Lt)(ut(i),o)}function Sn(i,o=cn.Default){return tn(i,ni(o))}function ni(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function dr(i){const o=[];for(let l=0;l<i.length;l++){const u=ut(i[l]);if(Array.isArray(u)){if(0===u.length)throw new st(900,!1);let h,v=cn.Default;for(let x=0;x<u.length;x++){const N=u[x],H=ui(N);"number"==typeof H?-1===H?h=N.token:v|=H:h=N}o.push(tn(h,v))}else o.push(tn(u))}return o}function Ei(i,o){return i[sn]=o,i.prototype[sn]=o,i}function ui(i){return i[sn]}function ks(i){return{toString:i}.toString()}var li=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(li||{}),wi=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(wi||{});const zi={},ri=[],Wi=Te({\u0275cmp:Te}),Js=Te({\u0275dir:Te}),Xs=Te({\u0275pipe:Te}),$o=Te({\u0275mod:Te}),Pi=Te({\u0275fac:Te}),Fs=Te({__NG_ELEMENT_ID__:Te}),ao=Te({__NG_ENV_ID__:Te});function Ts(i,o,l){let u=i.length;for(;;){const h=i.indexOf(o,l);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const v=o.length;if(h+v===u||i.charCodeAt(h+v)<=32)return h}l=h+1}}function Io(i,o,l){let u=0;for(;u<l.length;){const h=l[u];if("number"==typeof h){if(0!==h)break;u++;const v=l[u++],x=l[u++],N=l[u++];i.setAttribute(o,x,N,v)}else{const v=h,x=l[++u];Go(v)?i.setProperty(o,v,x):i.setAttribute(o,v,x),u++}}return u}function fs(i){return 3===i||4===i||6===i}function Go(i){return 64===i.charCodeAt(0)}function Mo(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||Br(i,l,h,null,-1===l||2===l?o[++u]:null)}}return i}function Br(i,o,l,u,h){let v=0,x=i.length;if(-1===o)x=-1;else for(;v<i.length;){const N=i[v++];if("number"==typeof N){if(N===o){x=-1;break}if(N>o){x=v-1;break}}}for(;v<i.length;){const N=i[v];if("number"==typeof N)break;if(N===l){if(null===u)return void(null!==h&&(i[v+1]=h));if(u===i[v+1])return void(i[v+2]=h)}v++,null!==u&&v++,null!==h&&v++}-1!==x&&(i.splice(x,0,o),v=x+1),i.splice(v++,0,l),null!==u&&i.splice(v++,0,u),null!==h&&i.splice(v++,0,h)}const Un="ng-template";function jr(i,o,l){let u=0,h=!0;for(;u<i.length;){let v=i[u++];if("string"==typeof v&&h){const x=i[u++];if(l&&"class"===v&&-1!==Ts(x.toLowerCase(),o,0))return!0}else{if(1===v){for(;u<i.length&&"string"==typeof(v=i[u++]);)if(v.toLowerCase()===o)return!0;return!1}"number"==typeof v&&(h=!1)}}return!1}function ss(i){return 4===i.type&&i.value!==Un}function xi(i,o,l){return o===(4!==i.type||l?i.value:Un)}function sl(i,o,l){let u=4;const h=i.attrs||[],v=function Ut(i){for(let o=0;o<i.length;o++)if(fs(i[o]))return o;return i.length}(h);let x=!1;for(let N=0;N<o.length;N++){const H=o[N];if("number"!=typeof H){if(!x)if(4&u){if(u=2|1&u,""!==H&&!xi(i,H,l)||""===H&&1===o.length){if(tt(u))return!1;x=!0}}else{const ie=8&u?H:o[++N];if(8&u&&null!==i.attrs){if(!jr(i.attrs,ie,l)){if(tt(u))return!1;x=!0}continue}const Fe=qe(8&u?"class":H,h,ss(i),l);if(-1===Fe){if(tt(u))return!1;x=!0;continue}if(""!==ie){let at;at=Fe>v?"":h[Fe+1].toLowerCase();const Dt=8&u?at:null;if(Dt&&-1!==Ts(Dt,ie,0)||2&u&&ie!==at){if(tt(u))return!1;x=!0}}}}else{if(!x&&!tt(u)&&!tt(H))return!1;if(x&&tt(H))continue;x=!1,u=H|1&u}}return tt(u)||x}function tt(i){return 0==(1&i)}function qe(i,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let v=!1;for(;h<o.length;){const x=o[h];if(x===i)return h;if(3===x||6===x)v=!0;else{if(1===x||2===x){let N=o[++h];for(;"string"==typeof N;)N=o[++h];continue}if(4===x)break;if(0===x){h+=4;continue}}h+=v?1:2}return-1}return function Hn(i,o){let l=i.indexOf(4);if(l>-1)for(l++;l<i.length;){const u=i[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,i)}function vt(i,o,l=!1){for(let u=0;u<o.length;u++)if(sl(i,o[u],l))return!0;return!1}function si(i,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(i.length===u.length){for(let h=0;h<i.length;h++)if(i[h]!==u[h])continue e;return!0}}return!1}function Zr(i,o){return i?":not("+o.trim()+")":o}function Ar(i){let o=i[0],l=1,u=2,h="",v=!1;for(;l<i.length;){let x=i[l];if("string"==typeof x)if(2&u){const N=i[++l];h+="["+x+(N.length>0?'="'+N+'"':"")+"]"}else 8&u?h+="."+x:4&u&&(h+=" "+x);else""!==h&&!tt(x)&&(o+=Zr(v,h),h=""),u=x,v=v||!tt(u);l++}return""!==h&&(o+=Zr(v,h)),o}function lo(i){return ks(()=>{const o=ra(i),l={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===li.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||wi.Emulated,styles:i.styles||ri,_:null,schemas:i.schemas||null,tView:null,id:""};ha(l);const u=i.dependencies;return l.directiveDefs=Bi(u,!1),l.pipeDefs=Bi(u,!0),l.id=function Oi(i){let o=0;const l=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of l)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(l),l})}function co(i){return Jr(i)||es(i)}function ka(i){return null!==i}function uo(i){return ks(()=>({type:i.type,bootstrap:i.bootstrap||ri,declarations:i.declarations||ri,imports:i.imports||ri,exports:i.exports||ri,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function na(i,o){if(null==i)return zi;const l={};for(const u in i)if(i.hasOwnProperty(u)){let h=i[u],v=h;Array.isArray(h)&&(v=h[1],h=h[0]),l[h]=u,o&&(o[h]=v)}return l}function Po(i){return ks(()=>{const o=ra(i);return ha(o),o})}function Ra(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Jr(i){return i[Wi]||null}function es(i){return i[Js]||null}function gi(i){return i[Xs]||null}function Pr(i){const o=Jr(i)||es(i)||gi(i);return null!==o&&o.standalone}function ls(i,o){const l=i[$o]||null;if(!l&&!0===o)throw new Error(`Type ${Qe(i)} does not have '\u0275mod' property.`);return l}function ra(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||zi,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||ri,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:na(i.inputs,o),outputs:na(i.outputs)}}function ha(i){i.features?.forEach(o=>o(i))}function Bi(i,o){if(!i)return null;const l=o?gi:co;return()=>("function"==typeof i?i():i).map(u=>l(u)).filter(ka)}const yi=0,pn=1,Fr=2,mi=3,Tr=4,ia=5,Di=6,ho=7,qi=8,Os=9,Ho=10,vr=11,No=12,Ja=13,fo=14,Or=15,ma=16,Ls=17,Es=18,Ss=19,_a=20,eo=21,Vs=22,Cr=23,po=24,zr=25,Ui=1,La=2,to=7,ya=9,os=11;function as(i){return Array.isArray(i)&&"object"==typeof i[Ui]}function Ii(i){return Array.isArray(i)&&!0===i[Ui]}function zo(i){return 0!=(4&i.flags)}function no(i){return i.componentOffset>-1}function Ci(i){return 1==(1&i.flags)}function Bs(i){return!!i.template}function Ea(i){return 0!=(512&i[Fr])}function Us(i,o){return i.hasOwnProperty(Pi)?i[Pi]:null}let ts=null,sa=!1;function cs(i){const o=ts;return ts=i,o}const ga={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ua(i){if(!di(i)||i.dirty){if(!i.producerMustRecompute(i)&&!bl(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Oa(i){i.dirty=!0,function wa(i){if(void 0===i.liveConsumerNode)return;const o=sa;sa=!0;try{for(const l of i.liveConsumerNode)l.dirty||Oa(l)}finally{sa=o}}(i),i.consumerMarkedDirty?.(i)}function al(i){return i&&(i.nextProducerIndex=0),cs(i)}function Ms(i,o){if(cs(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(di(i))for(let l=i.nextProducerIndex;l<i.producerNode.length;l++)el(i.producerNode[l],i.producerIndexOfThis[l]);for(let l=i.nextProducerIndex;l<i.producerNode.length;l++)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function bl(i){zs(i);for(let o=0;o<i.producerNode.length;o++){const l=i.producerNode[o],u=i.producerLastReadVersion[o];if(u!==l.version||(Ua(l),u!==l.version))return!0}return!1}function As(i){if(zs(i),di(i))for(let o=0;o<i.producerNode.length;o++)el(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function el(i,o){if(function qo(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),zs(i),1===i.liveConsumerNode.length)for(let u=0;u<i.producerNode.length;u++)el(i.producerNode[u],i.producerIndexOfThis[u]);const l=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[l],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[l],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const u=i.liveConsumerIndexOfThis[o],h=i.liveConsumerNode[o];zs(h),h.producerIndexOfThis[u]=o}}function di(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function zs(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Yl=null;function Se(i){const o=cs(null);try{return i()}finally{cs(o)}}const re=()=>{},he={...ga,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:re};class Ce{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ke(){return et}function et(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ot),xt}function xt(){const i=xn(this),o=i?.current;if(o){const l=i.previous;if(l===zi)i.previous=o;else for(let u in o)l[u]=o[u];i.current=null,this.ngOnChanges(o)}}function Ot(i,o,l,u){const h=this.declaredInputs[l],v=xn(i)||function Kn(i,o){return i[In]=o}(i,{previous:zi,current:null}),x=v.current||(v.current={}),N=v.previous,H=N[h];x[h]=new Ce(H&&H.currentValue,o,N===zi),i[u]=o}Ke.ngInherit=!0;const In="__ngSimpleChanges__";function xn(i){return i[In]||null}const $r=function(i,o,l){};function Bt(i){for(;Array.isArray(i);)i=i[yi];return i}function ki(i,o){return Bt(o[i])}function ns(i,o){return Bt(o[i.index])}function lr(i,o){return i.data[o]}function yn(i,o){const l=o[i];return as(l)?l:l[yi]}function tl(i,o){return null==o?null:i[o]}function Ga(i){i[Ls]=0}function Gc(i){1024&i[Fr]||(i[Fr]|=1024,Do(i,1))}function md(i){1024&i[Fr]&&(i[Fr]&=-1025,Do(i,-1))}function Do(i,o){let l=i[mi];if(null===l)return;l[ia]+=o;let u=l;for(l=l[mi];null!==l&&(1===o&&1===u[ia]||-1===o&&0===u[ia]);)l[ia]+=o,u=l,l=l[mi]}const oi={lFrame:pe(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Lo(){return oi.bindingsEnabled}function Ki(){return null!==oi.skipHydrationRootTNode}function ht(){return oi.lFrame.lView}function Ti(){return oi.lFrame.tView}function yc(i){return oi.lFrame.contextLView=i,i[qi]}function Ha(i){return oi.lFrame.contextLView=null,i}function Ks(){let i=ac();for(;null!==i&&64===i.type;)i=i.parent;return i}function ac(){return oi.lFrame.currentTNode}function zc(){const i=oi.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}function _o(i,o){const l=oi.lFrame;l.currentTNode=i,l.isParent=o}function Pc(){return oi.lFrame.isParent}function vc(){oi.lFrame.isParent=!1}function yo(){const i=oi.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function _t(){return oi.lFrame.bindingIndex++}function ba(i){const o=oi.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,l}function oe(i){oi.lFrame.inI18n=i}function A(i,o){const l=oi.lFrame;l.bindingIndex=l.bindingRootIndex=i,W(o)}function W(i){oi.lFrame.currentDirectiveIndex=i}function w(){return oi.lFrame.currentQueryIndex}function R(i){oi.lFrame.currentQueryIndex=i}function P(i){const o=i[pn];return 2===o.type?o.declTNode:1===o.type?i[Di]:null}function M(i,o,l){if(l&cn.SkipSelf){let h=o,v=i;for(;!(h=h.parent,null!==h||l&cn.Host||(h=P(v),null===h||(v=v[fo],10&h.type))););if(null===h)return!1;o=h,i=v}const u=oi.lFrame=ce();return u.currentTNode=o,u.lView=i,!0}function z(i){const o=ce(),l=i[pn];oi.lFrame=o,o.currentTNode=l.firstChild,o.lView=i,o.tView=l,o.contextLView=i,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function ce(){const i=oi.lFrame,o=null===i?null:i.child;return null===o?pe(i):o}function pe(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Je(){const i=oi.lFrame;return oi.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const kt=Je;function dt(){const i=Je();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Gr(){return oi.lFrame.selectedIndex}function Er(i){oi.lFrame.selectedIndex=i}function Kr(){const i=oi.lFrame;return lr(i.tView,i.selectedIndex)}let Vo=!0;function cl(){return Vo}function Sl(i){Vo=i}function za(i,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const v=i.data[l].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:N,ngAfterViewInit:H,ngAfterViewChecked:ie,ngOnDestroy:ye}=v;x&&(i.contentHooks??=[]).push(-l,x),N&&((i.contentHooks??=[]).push(l,N),(i.contentCheckHooks??=[]).push(l,N)),H&&(i.viewHooks??=[]).push(-l,H),ie&&((i.viewHooks??=[]).push(l,ie),(i.viewCheckHooks??=[]).push(l,ie)),null!=ye&&(i.destroyHooks??=[]).push(l,ye)}}function Wc(i,o,l){Rr(i,o,3,l)}function lc(i,o,l,u){(3&i[Fr])===l&&Rr(i,o,l,u)}function An(i,o){let l=i[Fr];(3&l)===o&&(l&=8191,l+=1,i[Fr]=l)}function Rr(i,o,l,u){const v=u??-1,x=o.length-1;let N=0;for(let H=void 0!==u?65535&i[Ls]:0;H<x;H++)if("number"==typeof o[H+1]){if(N=o[H],null!=u&&N>=u)break}else o[H]<0&&(i[Ls]+=65536),(N<v||-1==v)&&(Qi(i,l,o,H),i[Ls]=(4294901760&i[Ls])+H+2),H++}function Ur(i,o){$r(4,i,o);const l=cs(null);try{o.call(i)}finally{cs(l),$r(5,i,o)}}function Qi(i,o,l,u){const h=l[u]<0,v=l[u+1],N=i[h?-l[u]:l[u]];h?i[Fr]>>13<i[Ls]>>16&&(3&i[Fr])===o&&(i[Fr]+=8192,Ur(N,v)):Ur(N,v)}const _s=-1;class Na{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function ul(i){return i!==_s}function Ys(i){return 32767&i}function wc(i,o){let l=function js(i){return i>>16}(i),u=o;for(;l>0;)u=u[fo],l--;return u}let il=!0;function Yo(i){const o=il;return il=i,o}const Bd=255,Qo=5;let Nu=0;const Zo={};function Ao(i,o){const l=qc(i,o);if(-1!==l)return l;const u=o[pn];u.firstCreatePass&&(i.injectorIndex=o.length,bc(u.data,i),bc(o,null),bc(u.blueprint,null));const h=Cl(i,o),v=i.injectorIndex;if(ul(h)){const x=Ys(h),N=wc(h,o),H=N[pn].data;for(let ie=0;ie<8;ie++)o[v+ie]=N[x+ie]|H[x+ie]}return o[v+8]=h,v}function bc(i,o){i.push(0,0,0,0,0,0,0,0,o)}function qc(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Cl(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){if(u=Ud(h),null===u)return _s;if(l++,h=h[fo],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return _s}function Kc(i,o,l){!function Bo(i,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(Fs)&&(u=l[Fs]),null==u&&(u=l[Fs]=Nu++);const h=u&Bd;o.data[i+(h>>Qo)]|=1<<h}(i,o,l)}function Ul(i,o,l){if(l&cn.Optional||void 0!==i)return i;on()}function Yc(i,o,l,u){if(l&cn.Optional&&void 0===u&&(u=null),!(l&(cn.Self|cn.Host))){const h=i[Os],v=cr(void 0);try{return h?h.get(o,u,l&cn.Optional):ii(o,u,l&cn.Optional)}finally{cr(v)}}return Ul(u,0,l)}function jl(i,o,l,u=cn.Default,h){if(null!==i){if(2048&o[Fr]&&!(u&cn.Self)){const x=function yd(i,o,l,u,h){let v=i,x=o;for(;null!==v&&null!==x&&2048&x[Fr]&&!(512&x[Fr]);){const N=El(v,x,l,u|cn.Self,Zo);if(N!==Zo)return N;let H=v.parent;if(!H){const ie=x[_a];if(ie){const ye=ie.get(l,Zo,u);if(ye!==Zo)return ye}H=Ud(x),x=x[fo]}v=H}return h}(i,o,l,u,Zo);if(x!==Zo)return x}const v=El(i,o,l,u,Zo);if(v!==Zo)return v}return Yc(o,l,u,h)}function El(i,o,l,u,h){const v=function cc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Fs)?i[Fs]:void 0;return"number"==typeof o?o>=0?o&Bd:pu:o}(l);if("function"==typeof v){if(!M(o,i,u))return u&cn.Host?Ul(h,0,u):Yc(o,l,u,h);try{let x;if(x=v(u),null!=x||u&cn.Optional)return x;on()}finally{kt()}}else if("number"==typeof v){let x=null,N=qc(i,o),H=_s,ie=u&cn.Host?o[Or][Di]:null;for((-1===N||u&cn.SkipSelf)&&(H=-1===N?Cl(i,o):o[N+8],H!==_s&&Ic(u,!1)?(x=o[pn],N=Ys(H),o=wc(H,o)):N=-1);-1!==N;){const ye=o[pn];if(Xu(v,N,ye.data)){const Fe=_d(N,o,l,x,u,ie);if(Fe!==Zo)return Fe}H=o[N+8],H!==_s&&Ic(u,o[pn].data[N+8]===ie)&&Xu(v,N,o)?(x=ye,N=Ys(H),o=wc(H,o)):N=-1}}return h}function _d(i,o,l,u,h,v){const x=o[pn],N=x.data[i+8],ye=kc(N,x,l,null==u?no(N)&&il:u!=x&&0!=(3&N.type),h&cn.Host&&v===N);return null!==ye?fu(o,x,ye,N):Zo}function kc(i,o,l,u,h){const v=i.providerIndexes,x=o.data,N=1048575&v,H=i.directiveStart,ye=v>>20,at=h?N+ye:i.directiveEnd;for(let Dt=u?N:N+ye;Dt<at;Dt++){const nn=x[Dt];if(Dt<H&&l===nn||Dt>=H&&nn.type===l)return Dt}if(h){const Dt=x[H];if(Dt&&Bs(Dt)&&Dt.type===l)return H}return null}function fu(i,o,l,u){let h=i[l];const v=o.data;if(function rl(i){return i instanceof Na}(h)){const x=h;x.resolving&&function Mt(i,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new st(-200,`Circular dependency in DI detected for ${i}${l}`)}(function gt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():pt(i)}(v[l]));const N=Yo(x.canSeeViewProviders);x.resolving=!0;const ie=x.injectImpl?cr(x.injectImpl):null;M(i,u,cn.Default);try{h=i[l]=x.factory(void 0,v,i,u),o.firstCreatePass&&l>=u.directiveStart&&function Ia(i,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:v}=o.type.prototype;if(u){const x=et(o);(l.preOrderHooks??=[]).push(i,x),(l.preOrderCheckHooks??=[]).push(i,x)}h&&(l.preOrderHooks??=[]).push(0-i,h),v&&((l.preOrderHooks??=[]).push(i,v),(l.preOrderCheckHooks??=[]).push(i,v))}(l,v[l],o)}finally{null!==ie&&cr(ie),Yo(N),x.resolving=!1,kt()}}return h}function Xu(i,o,l){return!!(l[o+(i>>Qo)]&1<<i)}function Ic(i,o){return!(i&cn.Self||i&cn.Host&&o)}class Uo{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return jl(this._tNode,this._lView,o,ni(u),l)}}function pu(){return new Uo(Ks(),ht())}function td(i){return ks(()=>{const o=i.prototype.constructor,l=o[Pi]||uc(o),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const v=h[Pi]||uc(h);if(v&&v!==l)return v;h=Object.getPrototypeOf(h)}return v=>new v})}function uc(i){return an(i)?()=>{const o=uc(ut(i));return o&&o()}:Us(i)}function Ud(i){const o=i[pn],l=o.type;return 2===l?o.declTNode:1===l?i[Di]:null}function nd(i){return function Jo(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const l=i.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const v=l[h];if(fs(v))break;if(0===v)h+=2;else if("number"==typeof v)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(v===o)return l[h+1];h+=2}}}return null}(Ks(),i)}const Su="__parameters__";function ae(i,o,l){return ks(()=>{const u=function q(i){return function(...l){if(i){const u=i(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...v){if(this instanceof h)return u.apply(this,v),this;const x=new h(...v);return N.annotation=x,N;function N(H,ie,ye){const Fe=H.hasOwnProperty(Su)?H[Su]:Object.defineProperty(H,Su,{value:[]})[Su];for(;Fe.length<=ye;)Fe.push(null);return(Fe[ye]=Fe[ye]||[]).push(x),H}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function Fc(i,o){i.forEach(l=>Array.isArray(l)?Fc(l,o):o(l))}function rd(i,o,l){o>=i.length?i.push(l):i.splice(o,0,l)}function dc(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Lc(i,o){const l=[];for(let u=0;u<i;u++)l.push(o);return l}function Ro(i,o,l){let u=hl(i,o);return u>=0?i[1|u]=l:(u=~u,function Fu(i,o,l,u){let h=i.length;if(h==o)i.push(l,u);else if(1===h)i.push(u,i[0]),i[0]=l;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=l,i[o+1]=u}}(i,u,o,l)),u}function Vu(i,o){const l=hl(i,o);if(l>=0)return i[1|l]}function hl(i,o){return function Al(i,o,l){let u=0,h=i.length>>l;for(;h!==u;){const v=u+(h-u>>1),x=i[v<<l];if(o===x)return v<<l;x>o?h=v:u=v+1}return~(h<<l)}(i,o,1)}const zt=Ei(ae("Optional"),8),Fn=Ei(ae("SkipSelf"),4);function Id(i){return 128==(128&i.flags)}var Kd=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Kd||{});const Yd=/^>|^->|<!--|-->|--!>|<!-$/g,P_=/(<|>)/g,Kg="\u200b$1\u200b";const _u=new Map;let Rp=0;const I="__ngContext__";function L(i,o){as(o)?(i[I]=o[Ss],function Op(i){_u.set(i[Ss],i)}(o)):i[I]=o}let Wa;function Ru(i,o){return Wa(i,o)}function Td(i){const o=i[mi];return Ii(o)?o[mi]:o}function k_(i){return R0(i[No])}function F_(i){return R0(i[Tr])}function R0(i){for(;null!==i&&!Ii(i);)i=i[Tr];return i}function wf(i,o,l,u,h){if(null!=u){let v,x=!1;Ii(u)?v=u:as(u)&&(x=!0,u=u[yi]);const N=Bt(u);0===i&&null!==l?null==h?Tf(o,l,N):$h(o,l,N,h||null,!0):1===i&&null!==l?$h(o,l,N,h||null,!0):2===i?function Fp(i,o,l){const u=Sf(i,o);u&&function Gb(i,o,l,u){i.removeChild(o,l,u)}(i,u,o,l)}(o,N,x):3===i&&o.destroyNode(N),null!=v&&function D(i,o,l,u,h){const v=l[to];v!==Bt(l)&&wf(o,i,u,v,h);for(let N=os;N<l.length;N++){const H=l[N];Cf(H[pn],H,i,o,u,v)}}(o,i,v,l,h)}}function Pp(i,o){return i.createText(o)}function Np(i,o){return i.createComment(function cd(i){return i.replace(Yd,o=>o.replace(P_,Kg))}(o))}function Sd(i,o,l){return i.createElement(o,l)}function dd(i,o){const l=i[ya],u=l.indexOf(o);md(o),l.splice(u,1)}function bf(i,o){if(i.length<=os)return;const l=os+o,u=i[l];if(u){const h=u[ma];null!==h&&h!==i&&dd(h,u),o>0&&(i[l-1][Tr]=u[Tr]);const v=dc(i,os+o);!function O0(i,o){Cf(i,o,o[vr],2,null,null),o[yi]=null,o[Di]=null}(u[pn],u);const x=v[Es];null!==x&&x.detachView(v[pn]),u[mi]=null,u[Tr]=null,u[Fr]&=-129}return u}function If(i,o){if(!(256&o[Fr])){const l=o[vr];o[Cr]&&As(o[Cr]),o[po]&&As(o[po]),l.destroyNode&&Cf(i,o,l,3,null,null),function L_(i){let o=i[No];if(!o)return jh(i[pn],i);for(;o;){let l=null;if(as(o))l=o[No];else{const u=o[os];u&&(l=u)}if(!l){for(;o&&!o[Tr]&&o!==i;)as(o)&&jh(o[pn],o),o=o[mi];null===o&&(o=i),as(o)&&jh(o[pn],o),l=o&&o[Tr]}o=l}}(o)}}function jh(i,o){if(!(256&o[Fr])){o[Fr]&=-129,o[Fr]|=256,function N0(i,o){let l;if(null!=i&&null!=(l=i.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof Na)){const v=l[u+1];if(Array.isArray(v))for(let x=0;x<v.length;x+=2){const N=h[v[x]],H=v[x+1];$r(4,N,H);try{H.call(N)}finally{$r(5,N,H)}}else{$r(4,h,v);try{v.call(h)}finally{$r(5,h,v)}}}}}(i,o),function P0(i,o){const l=i.cleanup,u=o[ho];if(null!==l)for(let v=0;v<l.length-1;v+=2)if("string"==typeof l[v]){const x=l[v+3];x>=0?u[x]():u[-x].unsubscribe(),v+=2}else l[v].call(u[l[v+1]]);null!==u&&(o[ho]=null);const h=o[eo];if(null!==h){o[eo]=null;for(let v=0;v<h.length;v++)(0,h[v])()}}(i,o),1===o[pn].type&&o[vr].destroy();const l=o[ma];if(null!==l&&Ii(o[mi])){l!==o[mi]&&dd(l,o);const u=o[Es];null!==u&&u.detachView(i)}!function Mp(i){_u.delete(i[Ss])}(o)}}function Zg(i,o,l){return Jg(i,o.parent,l)}function Jg(i,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[yi];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:v}=i.data[u.directiveStart+h];if(v===wi.None||v===wi.Emulated)return null}return ns(u,l)}}function $h(i,o,l,u,h){i.insertBefore(o,l,u,h)}function Tf(i,o,l){i.appendChild(o,l)}function Xg(i,o,l,u,h){null!==u?$h(i,o,l,u,h):Tf(i,o,l)}function Sf(i,o){return i.parentNode(o)}function L0(i,o,l){return em(i,o,l)}function V_(i,o,l){return 40&i.type?ns(i,l):null}let B_,le,Tn,Yr,em=V_;function V0(i,o){em=i,B_=o}function Bu(i,o,l,u){const h=Zg(i,u,o),v=o[vr],N=L0(u.parent||o[Di],u,o);if(null!=h)if(Array.isArray(l))for(let H=0;H<l.length;H++)Xg(v,h,l[H],N,!1);else Xg(v,h,l,N,!1);void 0!==B_&&B_(v,u,o,l,h)}function Dd(i,o){if(null!==o){const l=o.type;if(3&l)return ns(o,i);if(4&l)return j_(-1,i[o.index]);if(8&l){const u=o.child;if(null!==u)return Dd(i,u);{const h=i[o.index];return Ii(h)?j_(-1,h):Bt(h)}}if(32&l)return Ru(o,i)()||Bt(i[o.index]);{const u=U_(i,o);return null!==u?Array.isArray(u)?u[0]:Dd(Td(i[Or]),u):Dd(i,o.next)}}return null}function U_(i,o){return null!==o?i[Or][Di].projection[o.projection]:null}function j_(i,o){const l=os+i+1;if(l<o.length){const u=o[l],h=u[pn].firstChild;if(null!==h)return Dd(u,h)}return o[to]}function Df(i,o,l,u,h,v,x){for(;null!=l;){const N=u[l.index],H=l.type;if(x&&0===o&&(N&&L(Bt(N),u),l.flags|=2),32!=(32&l.flags))if(8&H)Df(i,o,l.child,u,h,v,!1),wf(o,i,h,N,v);else if(32&H){const ie=Ru(l,u);let ye;for(;ye=ie();)wf(o,i,h,ye,v);wf(o,i,h,N,v)}else 16&H?m(i,o,u,l,h,v):wf(o,i,h,N,v);l=x?l.projectionNext:l.next}}function Cf(i,o,l,u,h,v){Df(l,u,i.firstChild,o,h,v,!1)}function m(i,o,l,u,h,v){const x=l[Or],H=x[Di].projection[u.projection];if(Array.isArray(H))for(let ie=0;ie<H.length;ie++)wf(o,i,h,H[ie],v);else{let ie=H;const ye=x[mi];Id(u)&&(ie.flags|=128),Df(i,o,ie,ye,h,v,!0)}}function T(i,o,l){""===l?i.removeAttribute(o,"class"):i.setAttribute(o,"class",l)}function G(i,o,l){const{mergedAttrs:u,classes:h,styles:v}=l;null!==u&&Io(i,o,u),null!==h&&T(i,o,h),null!==v&&function f(i,o,l){i.setAttribute(o,"style",l)}(i,o,v)}function rt(i){return function Be(){if(void 0===le&&(le=null,Ir.trustedTypes))try{le=Ir.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return le}()?.createHTML(i)||i}function vi(i){Tn=i}function ai(){if(void 0!==Tn)return Tn;if(typeof document<"u")return document;throw new st(210,!1)}function us(){if(void 0===Yr&&(Yr=null,Ir.trustedTypes))try{Yr=Ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Yr}function ds(i){return us()?.createHTML(i)||i}function hs(i){return us()?.createScriptURL(i)||i}class Ji{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wn})`}}class xs extends Ji{getTypeName(){return"HTML"}}class wo extends Ji{getTypeName(){return"Style"}}class ua extends Ji{getTypeName(){return"Script"}}class Gl extends Ji{getTypeName(){return"URL"}}class Ol extends Ji{getTypeName(){return"ResourceURL"}}function qa(i){return i instanceof Ji?i.changingThisBreaksApplicationSecurity:i}function tc(i,o){const l=function hc(i){return i instanceof Ji&&i.getTypeName()||null}(i);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${wn})`)}return l===o}function Qd(i){return new xs(i)}function Ad(i){return new wo(i)}function Vc(i){return new ua(i)}function xu(i){return new Gl(i)}function Eh(i){return new Ol(i)}function Zd(i){const o=new Hh(i);return function Af(){try{return!!(new window.DOMParser).parseFromString(rt(""),"text/html")}catch{return!1}}()?new Gh(o):o}class Gh{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(rt(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class Hh{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=rt(o),l}}const Rf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function eu(i){return(i=String(i)).match(Rf)?i:"unsafe:"+i}function Ml(i){const o={};for(const l of i.split(","))o[l]=!0;return o}function tu(...i){const o={};for(const l of i)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const zh=Ml("area,br,col,hr,img,wbr"),Rd=Ml("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hl=Ml("rp,rt"),Of=tu(zh,tu(Rd,Ml("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tu(Hl,Ml("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tu(Hl,Rd)),hd=Ml("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xd=tu(hd,Ml("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ml("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),U0=Ml("script,style,template");class Wh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Of.hasOwnProperty(l))return this.sanitizedSomething=!0,!U0.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let h=0;h<u.length;h++){const v=u.item(h),x=v.name,N=x.toLowerCase();if(!xd.hasOwnProperty(N)){this.sanitizedSomething=!0;continue}let H=v.value;hd[N]&&(H=eu(H)),this.buf.push(" ",x,'="',Lp(H),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Of.hasOwnProperty(l)&&!zh.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Lp(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Jd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uu=/([^\#-~ |!])/g;function Lp(i){return i.replace(/&/g,"&amp;").replace(Jd,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Uu,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pf;function Nf(i,o){let l=null;try{Pf=Pf||Zd(i);let u=o?String(o):"";l=Pf.getInertBodyElement(u);let h=5,v=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=v,v=l.innerHTML,l=Pf.getInertBodyElement(u)}while(u!==v);return rt((new Wh).sanitizeChildren(Vp(l)||l))}finally{if(l){const u=Vp(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Vp(i){return"content"in i&&function nm(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Xd=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Xd||{});function qh(i){const o=Bp();return o?ds(o.sanitize(Xd.HTML,i)||""):tc(i,"HTML")?ds(qa(i)):Nf(ai(),pt(i))}function j0(i){const o=Bp();return o?o.sanitize(Xd.URL,i)||"":tc(i,"URL")?qa(i):eu(pt(i))}function $0(i){const o=Bp();if(o)return hs(o.sanitize(Xd.RESOURCE_URL,i)||"");if(tc(i,"ResourceURL"))return hs(qa(i));throw new st(904,!1)}function G0(i,o,l){return function rm(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?$0:j0}(o,l)(i)}function Bp(){const i=ht();return i&&i[Ho].sanitizer}class ea{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Bn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const im=new ea("ENVIRONMENT_INITIALIZER"),H_=new ea("INJECTOR",-1),fc=new ea("INJECTOR_DEF_TYPES");class H0{get(o,l=wt){if(l===wt){const u=new Error(`NullInjectorError: No provider for ${Qe(o)}!`);throw u.name="NullInjectorError",u}return l}}function eD(...i){return{\u0275providers:Wb(0,i),\u0275fromNgModule:!0}}function Wb(i,...o){const l=[],u=new Set;let h;const v=x=>{l.push(x)};return Fc(o,x=>{const N=x;W_(N,v,[],u)&&(h||=[],h.push(N))}),void 0!==h&&z_(h,v),l}function z_(i,o){for(let l=0;l<i.length;l++){const{ngModule:u,providers:h}=i[l];Up(h,v=>{o(v,u)})}}function W_(i,o,l,u){if(!(i=ut(i)))return!1;let h=null,v=Nt(i);const x=!v&&Jr(i);if(v||x){if(x&&!x.standalone)return!1;h=i}else{const H=i.ngModule;if(v=Nt(H),!v)return!1;h=H}const N=u.has(h);if(x){if(N)return!1;if(u.add(h),x.dependencies){const H="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const ie of H)W_(ie,o,l,u)}}else{if(!v)return!1;{if(null!=v.imports&&!N){let ie;u.add(h);try{Fc(v.imports,ye=>{W_(ye,o,l,u)&&(ie||=[],ie.push(ye))})}finally{}void 0!==ie&&z_(ie,o)}if(!N){const ie=Us(h)||(()=>new h);o({provide:h,useFactory:ie,deps:ri},h),o({provide:fc,useValue:h,multi:!0},h),o({provide:im,useValue:()=>tn(h),multi:!0},h)}const H=v.providers;if(null!=H&&!N){const ie=i;Up(H,ye=>{o(ye,ie)})}}}return h!==i&&void 0!==i.providers}function Up(i,o){for(let l of i)qt(l)&&(l=l.\u0275providers),Array.isArray(l)?Up(l,o):o(l)}const tD=Te({provide:String,useValue:Te});function q_(i){return null!==i&&"object"==typeof i&&tD in i}function Od(i){return"function"==typeof i}const sm=new ea("Set Injector scope."),jp={},nD={};let Z_;function J_(){return void 0===Z_&&(Z_=new H0),Z_}class Md{}class om extends Md{get destroyed(){return this._destroyed}constructor(o,l,u,h){super(),this.parent=l,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lm(o,x=>this.processProvider(x)),this.records.set(H_,Ff(void 0,this)),h.has("environment")&&this.records.set(Md,Ff(void 0,this));const v=this.records.get(sm);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(fc.multi,ri,cn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of o)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const l=ze(this),u=cr(void 0);try{return o()}finally{ze(l),cr(u)}}get(o,l=wt,u=cn.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(ao))return o[ao](this);u=ni(u);const v=ze(this),x=cr(void 0);try{if(!(u&cn.SkipSelf)){let H=this.records.get(o);if(void 0===H){const ie=function Gp(i){return"function"==typeof i||"object"==typeof i&&i instanceof ea}(o)&&Nr(o);H=ie&&this.injectableDefInScope(ie)?Ff(am(o),jp):null,this.records.set(o,H)}if(null!=H)return this.hydrate(o,H)}return(u&cn.Self?J_():this.parent).get(o,l=u&cn.Optional&&l===wt?null:l)}catch(N){if("NullInjectorError"===N.name){if((N[gn]=N[gn]||[]).unshift(Qe(o)),v)throw N;return function Ns(i,o,l,u){const h=i[gn];throw o[fe]&&h.unshift(o[fe]),i.message=function $s(i,o,l,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=Qe(o);if(Array.isArray(o))h=o.map(Qe).join(" -> ");else if("object"==typeof o){let v=[];for(let x in o)if(o.hasOwnProperty(x)){let N=o[x];v.push(x+":"+("string"==typeof N?JSON.stringify(N):Qe(N)))}h=`{${v.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${i.replace(Ve,"\n  ")}`}("\n"+i.message,h,l,u),i.ngTokenPath=h,i[gn]=null,i}(N,o,"R3InjectorError",this.source)}throw N}finally{cr(x),ze(v)}}resolveInjectorInitializers(){const o=ze(this),l=cr(void 0);try{const h=this.get(im.multi,ri,cn.Self);for(const v of h)v()}finally{ze(o),cr(l)}}toString(){const o=[],l=this.records;for(const u of l.keys())o.push(Qe(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new st(205,!1)}processProvider(o){let l=Od(o=ut(o))?o:ut(o&&o.provide);const u=function qb(i){return q_(i)?Ff(void 0,i.useValue):Ff(Kb(i),jp)}(o);if(Od(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Ff(void 0,jp,!0),h.factory=()=>dr(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,u)}hydrate(o,l){return l.value===jp&&(l.value=nD,l.value=l.factory()),"object"==typeof l.value&&l.value&&function $p(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ut(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(o){const l=this._onDestroyHooks.indexOf(o);-1!==l&&this._onDestroyHooks.splice(l,1)}}function am(i){const o=Nr(i),l=null!==o?o.factory:Us(i);if(null!==l)return l;if(i instanceof ea)throw new st(204,!1);if(i instanceof Function)return function rD(i){const o=i.length;if(o>0)throw Lc(o,"?"),new st(204,!1);const l=function St(i){return i&&(i[At]||i[pr])||null}(i);return null!==l?()=>l.factory(i):()=>new i}(i);throw new st(204,!1)}function Kb(i,o,l){let u;if(Od(i)){const h=ut(i);return Us(h)||am(h)}if(q_(i))u=()=>ut(i.useValue);else if(function Y_(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...dr(i.deps||[]));else if(function K_(i){return!(!i||!i.useExisting)}(i))u=()=>tn(ut(i.useExisting));else{const h=ut(i&&(i.useClass||i.provide));if(!function iD(i){return!!i.deps}(i))return Us(h)||am(h);u=()=>new h(...dr(i.deps))}return u}function Ff(i,o,l=!1){return{factory:i,value:o,multi:l?[]:void 0}}function lm(i,o){for(const l of i)Array.isArray(l)?lm(l,o):l&&qt(l)?lm(l.\u0275providers,o):o(l)}const cm=new ea("AppId",{providedIn:"root",factory:()=>Yb}),Yb="ng",W0=new ea("Platform Initializer"),X_=new ea("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),q0=new ea("AnimationModuleType"),sD=new ea("CSP nonce",{providedIn:"root",factory:()=>ai().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let pm=(i,o,l)=>null;function Q0(i,o,l=!1){return pm(i,o,l)}class sy{}class Yp{}class tE{resolveComponentFactory(o){throw function X0(i){const o=Error(`No component factory found for ${Qe(i)}.`);return o.ngComponent=i,o}(o)}}let Pd=(()=>{class o{}return o.NULL=new tE,o})();function Xb(){return Qp(Ks(),ht())}function Qp(i,o){return new Bf(ns(i,o))}let Bf=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=Xb,o})();function uD(i){return i instanceof Bf?i.nativeElement:i}class oy{}let dD=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function nE(){const i=ht(),l=yn(Ks().index,i);return(as(l)?l:i)[vr]}(),o})(),ay=(()=>{var i;class o{}return(i=o).\u0275prov=Bn({token:i,providedIn:"root",factory:()=>null}),o})();class ly{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const rE=new ly("16.2.5"),Qh={};function aI(i,o=null,l=null,u){const h=cy(i,o,l,u);return h.resolveInjectorInitializers(),h}function cy(i,o=null,l=null,u,h=new Set){const v=[l||ri,eD(i)];return u=u||("object"==typeof i?void 0:Qe(i)),new om(v,o||J_(),u||null,h)}let fd=(()=>{var i;class o{static create(u,h){if(Array.isArray(u))return aI({name:""},h,u,"");{const v=u.name??"";return aI({name:v},u.parent,u.providers,v)}}}return(i=o).THROW_IF_NOT_FOUND=wt,i.NULL=new H0,i.\u0275prov=Bn({token:i,providedIn:"any",factory:()=>tn(H_)}),i.__NG_ELEMENT_ID__=-1,o})();function _m(i){return i.ngOriginalError}class ju{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&_m(o);for(;l&&_m(l);)l=_m(l);return l||null}}function dy(i){return o=>{setTimeout(i,void 0,o)}}const yu=class Zp extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){let h=o,v=l||(()=>null),x=u;if(o&&"object"==typeof o){const H=o;h=H.next?.bind(H),v=H.error?.bind(H),x=H.complete?.bind(H)}this.__isAsync&&(v=dy(v),h&&(h=dy(h)),x&&(x=dy(x)));const N=super.subscribe({next:h,error:v,complete:x});return o instanceof ge.w0&&o.add(N),N}};function cI(...i){}class nc{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yu(!1),this.onMicrotaskEmpty=new yu(!1),this.onStable=new yu(!1),this.onError=new yu(!1),typeof Zone>"u")throw new st(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function fD(){const i="function"==typeof Ir.requestAnimationFrame;let o=Ir[i?"requestAnimationFrame":"setTimeout"],l=Ir[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function gD(i){const o=()=>{!function pD(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ir,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Em(i),i.isCheckStableRunning=!0,vm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Em(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,v,x,N)=>{if(function pI(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(N))return l.invokeTask(h,v,x,N);try{return hy(i),l.invokeTask(h,v,x,N)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||i.shouldCoalesceRunChangeDetection)&&o(),dI(i)}},onInvoke:(l,u,h,v,x,N,H)=>{try{return hy(i),l.invoke(h,v,x,N,H)}finally{i.shouldCoalesceRunChangeDetection&&o(),dI(i)}},onHasTask:(l,u,h,v)=>{l.hasTask(h,v),u===h&&("microTask"==v.change?(i._hasPendingMicrotasks=v.microTask,Em(i),vm(i)):"macroTask"==v.change&&(i.hasPendingMacrotasks=v.macroTask))},onHandleError:(l,u,h,v)=>(l.handleError(h,v),i.runOutsideAngular(()=>i.onError.emit(v)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nc.isInAngularZone())throw new st(909,!1)}static assertNotInAngularZone(){if(nc.isInAngularZone())throw new st(909,!1)}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const v=this._inner,x=v.scheduleEventTask("NgZoneEvent: "+h,o,lE,cI,cI);try{return v.runTask(x,l,u)}finally{v.cancelTask(x)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const lE={};function vm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Em(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function hy(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function dI(i){i._nesting--,vm(i)}class hI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yu,this.onMicrotaskEmpty=new yu,this.onStable=new yu,this.onError=new yu}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}const fI=new ea("",{providedIn:"root",factory:cE});function cE(){const i=Sn(nc);let o=!0;const l=new we.y(h=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(o),h.complete()})}),u=new we.y(h=>{let v;i.runOutsideAngular(()=>{v=i.onStable.subscribe(()=>{nc.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const x=i.onUnstable.subscribe(()=>{nc.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{v.unsubscribe(),x.unsubscribe()}});return(0,ne.T)(l,u.pipe((0,Ae.B)()))}function wh(i){return i instanceof Function?i():i}let wm=(()=>{var i;class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(i=o).\u0275prov=Bn({token:i,providedIn:"root",factory:()=>new i}),o})();function bm(i){for(;i;){i[Fr]|=64;const o=Td(i);if(Ea(i)&&!o)return i;i=o}return null}const py=new ea("",{providedIn:"root",factory:()=>!1});let Tm=null;function bI(i,o){return i[o]??II()}function yy(i,o){const l=II();l.producerNode?.length&&(i[o]=Tm,l.lView=i,Tm=vy())}const bh={...ga,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{bm(i.lView)},lView:null};function vy(){return Object.create(bh)}function II(){return Tm??=vy(),Tm}const Gi={};function TI(i){SI(Ti(),ht(),Gr()+i,!1)}function SI(i,o,l,u){if(!u)if(3==(3&o[Fr])){const v=i.preOrderCheckHooks;null!==v&&Wc(o,v,l)}else{const v=i.preOrderHooks;null!==v&&lc(o,v,0,l)}Er(l)}function Zh(i,o=cn.Default){const l=ht();return null===l?tn(i,o):jl(Ks(),l,ut(i),o)}function DI(){throw new Error("invalid")}function Ey(i,o,l,u,h,v,x,N,H,ie,ye){const Fe=o.blueprint.slice();return Fe[yi]=h,Fe[Fr]=140|u,(null!==ie||i&&2048&i[Fr])&&(Fe[Fr]|=2048),Ga(Fe),Fe[mi]=Fe[fo]=i,Fe[qi]=l,Fe[Ho]=x||i&&i[Ho],Fe[vr]=N||i&&i[vr],Fe[Os]=H||i&&i[Os]||null,Fe[Di]=v,Fe[Ss]=function xp(){return Rp++}(),Fe[Vs]=ye,Fe[_a]=ie,Fe[Or]=2==o.type?i[Or]:Fe,Fe}function Jh(i,o,l,u,h){let v=i.data[o];if(null===v)v=mE(i,o,l,u,h),function Bl(){return oi.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=l,v.value=u,v.attrs=h;const x=zc();v.injectorIndex=null===x?-1:x.injectorIndex}return _o(v,!0),v}function mE(i,o,l,u,h){const v=ac(),x=Pc(),H=i.data[o]=function AI(i,o,l,u,h,v){let x=o?o.injectorIndex:-1,N=0;return Ki()&&(N|=128),{type:l,index:u,insertBeforeIndex:null,injectorIndex:x,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:N,providerIndexes:0,value:h,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?v:v&&v.parent,l,o,u,h);return null===i.firstChild&&(i.firstChild=H),null!==v&&(x?null==v.child&&null!==H.parent&&(v.child=H):null===v.next&&(v.next=H,H.prev=v)),H}function Uf(i,o,l,u){if(0===l)return-1;const h=o.length;for(let v=0;v<l;v++)o.push(u),i.blueprint.push(u),i.data.push(null);return h}function _E(i,o,l,u,h){const v=bI(o,Cr),x=Gr(),N=2&u;try{Er(-1),N&&o.length>zr&&SI(i,o,zr,!1),$r(N?2:0,h);const ie=N?v:null,ye=al(ie);try{null!==ie&&(ie.dirty=!1),l(u,h)}finally{Ms(ie,ye)}}finally{N&&null===o[Cr]&&yy(o,Cr),Er(x),$r(N?3:1,h)}}function Sm(i,o,l){if(zo(o)){const u=cs(null);try{const v=o.directiveEnd;for(let x=o.directiveStart;x<v;x++){const N=i.data[x];N.contentQueries&&N.contentQueries(1,l[x],x)}}finally{cs(u)}}}function wy(i,o,l){Lo()&&(function xI(i,o,l,u){const h=l.directiveStart,v=l.directiveEnd;no(l)&&function PI(i,o,l){const u=ns(o,i),h=CI(l);let x=16;l.signals?x=4096:l.onPush&&(x=64);const N=Rm(i,Ey(i,h,null,x,u,o,null,i[Ho].rendererFactory.createRenderer(u,l),null,null,null));i[o.index]=N}(o,l,i.data[h+l.componentOffset]),i.firstCreatePass||Ao(l,o),L(u,o);const x=l.initialInputs;for(let N=h;N<v;N++){const H=i.data[N],ie=fu(o,i,N,l);L(ie,o),null!==x&&ID(0,N-h,ie,H,0,x),Bs(H)&&(yn(l.index,o)[qi]=fu(o,i,N,l))}}(i,o,l,ns(l,o)),64==(64&l.flags)&&Dy(i,o,l))}function yE(i,o,l=ns){const u=o.localNames;if(null!==u){let h=o.index+1;for(let v=0;v<u.length;v+=2){const x=u[v+1],N=-1===x?l(o,i):i[x];i[h++]=N}}}function CI(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Dm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function Dm(i,o,l,u,h,v,x,N,H,ie,ye){const Fe=zr+u,at=Fe+h,Dt=function yD(i,o){const l=[];for(let u=0;u<o;u++)l.push(u<i?null:Gi);return l}(Fe,at),nn="function"==typeof ie?ie():ie;return Dt[pn]={type:i,blueprint:Dt,template:l,queries:null,viewQuery:N,declTNode:o,data:Dt.slice().fill(null,Fe),bindingStartIndex:Fe,expandoStartIndex:at,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:H,consts:nn,incompleteFirstPass:!1,ssrId:ye}}let by=i=>null;function wE(i,o,l,u){for(let h in i)if(i.hasOwnProperty(h)){l=null===l?{}:l;const v=i[h];null===u?jf(l,o,h,v):u.hasOwnProperty(h)&&jf(l,o,u[h],v)}return l}function jf(i,o,l,u){i.hasOwnProperty(l)?i[l].push(o,u):i[l]=[o,u]}function $u(i,o,l,u,h,v,x,N){const H=ns(o,l);let ye,ie=o.inputs;!N&&null!=ie&&(ye=ie[u])?(Ay(i,l,ye,u,h),no(o)&&function wD(i,o){const l=yn(o,i);16&l[Fr]||(l[Fr]|=64)}(l,o.index)):3&o.type&&(u=function Ty(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=x?x(h,o.value||"",u):h,v.setProperty(H,u,h))}function tg(i,o,l,u){if(Lo()){const h=null===u?null:{"":-1},v=function Cy(i,o){const l=i.directiveRegistry;let u=null,h=null;if(l)for(let v=0;v<l.length;v++){const x=l[v];if(vt(o,x.selectors,!1))if(u||(u=[]),Bs(x))if(null!==x.findHostDirectiveDefs){const N=[];h=h||new Map,x.findHostDirectiveDefs(x,N,h),u.unshift(...N,x),Cm(i,o,N.length)}else u.unshift(x),Cm(i,o,0);else h=h||new Map,x.findHostDirectiveDefs?.(x,u,h),u.push(x)}return null===u?null:[u,h]}(i,l);let x,N;null===v?x=N=null:[x,N]=v,null!==x&&Sy(i,o,l,x,h,N),h&&function OI(i,o,l){if(o){const u=i.localNames=[];for(let h=0;h<o.length;h+=2){const v=l[o[h+1]];if(null==v)throw new st(-301,!1);u.push(o[h],v)}}}(l,u,h)}l.mergedAttrs=Mo(l.mergedAttrs,l.attrs)}function Sy(i,o,l,u,h,v){for(let ie=0;ie<u.length;ie++)Kc(Ao(l,o),i,u[ie].type);!function MI(i,o,l){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+l,i.providerIndexes=o}(l,i.data.length,u.length);for(let ie=0;ie<u.length;ie++){const ye=u[ie];ye.providersResolver&&ye.providersResolver(ye)}let x=!1,N=!1,H=Uf(i,o,u.length,null);for(let ie=0;ie<u.length;ie++){const ye=u[ie];l.mergedAttrs=Mo(l.mergedAttrs,ye.hostAttrs),SE(i,l,o,H,ye),ng(H,ye,h),null!==ye.contentQueries&&(l.flags|=4),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(l.flags|=64);const Fe=ye.type.prototype;!x&&(Fe.ngOnChanges||Fe.ngOnInit||Fe.ngDoCheck)&&((i.preOrderHooks??=[]).push(l.index),x=!0),!N&&(Fe.ngOnChanges||Fe.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(l.index),N=!0),H++}!function RI(i,o,l){const h=o.directiveEnd,v=i.data,x=o.attrs,N=[];let H=null,ie=null;for(let ye=o.directiveStart;ye<h;ye++){const Fe=v[ye],at=l?l.get(Fe):null,nn=at?at.outputs:null;H=wE(Fe.inputs,ye,H,at?at.inputs:null),ie=wE(Fe.outputs,ye,ie,nn);const Cn=null===H||null===x||ss(o)?null:TD(H,ye,x);N.push(Cn)}null!==H&&(H.hasOwnProperty("class")&&(o.flags|=8),H.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=N,o.inputs=H,o.outputs=ie}(i,l,v)}function Dy(i,o,l){const u=l.directiveStart,h=l.directiveEnd,v=l.index,x=function F(){return oi.lFrame.currentDirectiveIndex}();try{Er(v);for(let N=u;N<h;N++){const H=i.data[N],ie=o[N];W(N),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&TE(H,ie)}}finally{Er(-1),W(x)}}function TE(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Cm(i,o,l){o.componentOffset=l,(i.components??=[]).push(o.index)}function ng(i,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=i;Bs(o)&&(l[""]=i)}}function SE(i,o,l,u,h){i.data[u]=h;const v=h.factory||(h.factory=Us(h.type)),x=new Na(v,Bs(h),Zh);i.blueprint[u]=x,l[u]=x,function bE(i,o,l,u,h){const v=h.hostBindings;if(v){let x=i.hostBindingOpCodes;null===x&&(x=i.hostBindingOpCodes=[]);const N=~o.index;(function IE(i){let o=i.length;for(;o>0;){const l=i[--o];if("number"==typeof l&&l<0)return l}return 0})(x)!=N&&x.push(N),x.push(l,u,v)}}(i,o,u,Uf(i,l,h.hostVars,Gi),h)}function vu(i,o,l,u,h,v){const x=ns(i,o);!function Am(i,o,l,u,h,v,x){if(null==v)i.removeAttribute(o,h,l);else{const N=null==x?pt(v):x(v,u||"",h);i.setAttribute(o,h,N,l)}}(o[vr],x,v,i.value,l,u,h)}function ID(i,o,l,u,h,v){const x=v[o];if(null!==x)for(let N=0;N<x.length;)NI(u,l,x[N++],x[N++],x[N++])}function NI(i,o,l,u,h){const v=cs(null);try{const x=i.inputTransforms;null!==x&&x.hasOwnProperty(u)&&(h=x[u].call(o,h)),null!==i.setInput?i.setInput(o,h,l,u):o[u]=h}finally{cs(v)}}function TD(i,o,l){let u=null,h=0;for(;h<l.length;){const v=l[h];if(0!==v)if(5!==v){if("number"==typeof v)break;if(i.hasOwnProperty(v)){null===u&&(u=[]);const x=i[v];for(let N=0;N<x.length;N+=2)if(x[N]===o){u.push(v,x[N+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function DE(i,o,l,u){return[i,!0,!1,o,null,0,u,l,null,null,null]}function kI(i,o){const l=i.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const v=l[u+1];if(-1!==v){const x=i.data[v];R(l[u]),x.contentQueries(2,o[v],v)}}}function Rm(i,o){return i[No]?i[Ja][Tr]=o:i[No]=o,i[Ja]=o,o}function CE(i,o,l){R(0);const u=cs(null);try{o(i,l)}finally{cs(u)}}function FI(i){return i[ho]||(i[ho]=[])}function LI(i){return i.cleanup||(i.cleanup=[])}function BI(i,o){const l=i[Os],u=l?l.get(ju,null):null;u&&u.handleError(o)}function Ay(i,o,l,u,h){for(let v=0;v<l.length;){const x=l[v++],N=l[v++];NI(i.data[x],o[x],u,N,h)}}function AE(i,o){const l=yn(o,i),u=l[pn];!function SD(i,o){for(let l=o.length;l<i.blueprint.length;l++)o.push(i.blueprint[l])}(u,l);const h=l[yi];null!==h&&null===l[Vs]&&(l[Vs]=Q0(h,l[Os])),Ry(u,l,l[qi])}function Ry(i,o,l){z(o);try{const u=i.viewQuery;null!==u&&CE(1,u,l);const h=i.template;null!==h&&_E(i,o,h,1,l),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&kI(i,o),i.staticViewQueries&&CE(2,i.viewQuery,l);const v=i.components;null!==v&&function UI(i,o){for(let l=0;l<o.length;l++)AE(i,o[l])}(o,v)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{o[Fr]&=-5,dt()}}let xm=(()=>{var i;class o{constructor(){this.all=new Set,this.queue=new Map}create(u,h,v){const x=typeof Zone>"u"?null:Zone.current,N=function $(i,o,l){const u=Object.create(he);l&&(u.consumerAllowSignalWrites=!0),u.fn=i,u.schedule=o;const h=x=>{u.cleanupFn=x};return u.ref={notify:()=>Oa(u),run:()=>{if(u.dirty=!1,u.hasRun&&!bl(u))return;u.hasRun=!0;const x=al(u);try{u.cleanupFn(),u.cleanupFn=re,u.fn(h)}finally{Ms(u,x)}},cleanup:()=>u.cleanupFn()},u.ref}(u,ye=>{this.all.has(ye)&&this.queue.set(ye,x)},v);let H;this.all.add(N),N.notify();const ie=()=>{N.cleanup(),H?.(),this.all.delete(N),this.queue.delete(N)};return H=h?.onDestroy(ie),{destroy:ie}}flush(){if(0!==this.queue.size)for(const[u,h]of this.queue)this.queue.delete(u),h?h.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=o).\u0275prov=Bn({token:i,providedIn:"root",factory:()=>new i}),o})();function Om(i,o,l){let u=l?i.styles:null,h=l?i.classes:null,v=0;if(null!==o)for(let x=0;x<o.length;x++){const N=o[x];"number"==typeof N?v=N:1==v?h=mt(h,N):2==v&&(u=mt(u,N+": "+o[++x]+";"))}l?i.styles=u:i.stylesWithoutHost=u,l?i.classes=h:i.classesWithoutHost=h}function rg(i,o,l,u,h=!1){for(;null!==l;){const v=o[l.index];null!==v&&u.push(Bt(v)),Ii(v)&&ig(v,u);const x=l.type;if(8&x)rg(i,o,l.child,u);else if(32&x){const N=Ru(l,o);let H;for(;H=N();)u.push(H)}else if(16&x){const N=U_(o,l);if(Array.isArray(N))u.push(...N);else{const H=Td(o[Or]);rg(H[pn],H,N,u,!0)}}l=h?l.projectionNext:l.next}return u}function ig(i,o){for(let l=os;l<i.length;l++){const u=i[l],h=u[pn].firstChild;null!==h&&rg(u[pn],u,h,o)}i[to]!==i[yi]&&o.push(i[to])}function xy(i,o,l,u=!0){const h=o[Ho],v=h.rendererFactory,x=h.afterRenderEventManager;v.begin?.(),x?.begin();try{Nd(i,o,i.template,l)}catch(H){throw u&&BI(o,H),H}finally{v.end?.(),h.effectManager?.flush(),x?.end()}}function Nd(i,o,l,u){const h=o[Fr];if(256!=(256&h)){o[Ho].effectManager?.flush(),z(o);try{Ga(o),function hu(i){return oi.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==l&&_E(i,o,l,2,u);const x=3==(3&h);if(x){const ie=i.preOrderCheckHooks;null!==ie&&Wc(o,ie,null)}else{const ie=i.preOrderHooks;null!==ie&&lc(o,ie,0,null),An(o,0)}if(function Ix(i){for(let o=k_(i);null!==o;o=F_(o)){if(!o[La])continue;const l=o[ya];for(let u=0;u<l.length;u++){Gc(l[u])}}}(o),DD(o,2),null!==i.contentQueries&&kI(i,o),x){const ie=i.contentCheckHooks;null!==ie&&Wc(o,ie)}else{const ie=i.contentHooks;null!==ie&&lc(o,ie,1),An(o,1)}!function gE(i,o){const l=i.hostBindingOpCodes;if(null===l)return;const u=bI(o,po);try{for(let h=0;h<l.length;h++){const v=l[h];if(v<0)Er(~v);else{const x=v,N=l[++h],H=l[++h];A(N,x),u.dirty=!1;const ie=al(u);try{H(2,o[x])}finally{Ms(u,ie)}}}}finally{null===o[po]&&yy(o,po),Er(-1)}}(i,o);const N=i.components;null!==N&&RE(o,N,0);const H=i.viewQuery;if(null!==H&&CE(2,H,u),x){const ie=i.viewCheckHooks;null!==ie&&Wc(o,ie)}else{const ie=i.viewHooks;null!==ie&&lc(o,ie,2),An(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[Fr]&=-73,md(o)}finally{dt()}}}function DD(i,o){for(let l=k_(i);null!==l;l=F_(l))for(let u=os;u<l.length;u++)AD(l[u],o)}function CD(i,o,l){AD(yn(o,i),l)}function AD(i,o){if(!function dn(i){return 128==(128&i[Fr])}(i))return;const l=i[pn],u=i[Fr];if(80&u&&0===o||1024&u||2===o)Nd(l,i,l.template,i[qi]);else if(i[ia]>0){DD(i,1);const h=l.components;null!==h&&RE(i,h,1)}}function RE(i,o,l){for(let u=0;u<o.length;u++)CD(i,o[u],l)}class Mm{get rootNodes(){const o=this._lView,l=o[pn];return rg(l,o,l.firstChild,[])}constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qi]}set context(o){this._lView[qi]=o}get destroyed(){return 256==(256&this._lView[Fr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[mi];if(Ii(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(bf(o,u),dc(l,u))}this._attachedToViewContainer=!1}If(this._lView[pn],this._lView)}onDestroy(o){!function Vl(i,o){if(256==(256&i[Fr]))throw new st(911,!1);null===i[eo]&&(i[eo]=[]),i[eo].push(o)}(this._lView,o)}markForCheck(){bm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fr]&=-129}reattach(){this._lView[Fr]|=128}detectChanges(){xy(this._lView[pn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new st(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pl(i,o){Cf(i,o,o[vr],2,null,null)}(this._lView[pn],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new st(902,!1);this._appRef=o}}class xE extends Mm{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;xy(o[pn],o,o[qi],!1)}checkNoChanges(){}get context(){return null}}class jI extends Pd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Jr(o);return new Oy(l,this.ngModule)}}function RD(i){const o=[];for(let l in i)i.hasOwnProperty(l)&&o.push({propName:i[l],templateName:l});return o}class Tx{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,u){u=ni(u);const h=this.injector.get(o,Qh,u);return h!==Qh||l===Qh?h:this.parentInjector.get(o,l,u)}}class Oy extends Yp{get inputs(){const o=this.componentDef,l=o.inputTransforms,u=RD(o.inputs);if(null!==l)for(const h of u)l.hasOwnProperty(h.propName)&&(h.transform=l[h.propName]);return u}get outputs(){return RD(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Za(i){return i.map(Ar).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,u,h){let v=(h=h||this.ngModule)instanceof Md?h:h?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const x=v?new Tx(o,v):o,N=x.get(oy,null);if(null===N)throw new st(407,!1);const Fe={rendererFactory:N,sanitizer:x.get(ay,null),effectManager:x.get(xm,null),afterRenderEventManager:x.get(wm,null)},at=N.createRenderer(null,this.componentDef),Dt=this.componentDef.selectors[0][0]||"div",nn=u?function vE(i,o,l,u){const v=u.get(py,!1)||l===wi.ShadowDom,x=i.selectRootElement(o,v);return function EE(i){by(i)}(x),x}(at,u,this.componentDef.encapsulation,x):Sd(at,Dt,function Ka(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(Dt)),ei=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _n=null;null!==nn&&(_n=Q0(nn,x,!0));const Li=Dm(0,null,null,1,0,null,null,null,null,null,null),ws=Ey(null,Li,null,ei,null,null,Fe,at,x,null,_n);let xo,cu;z(ws);try{const kh=this.componentDef;let wp,w_=null;kh.findHostDirectiveDefs?(wp=[],w_=new Map,kh.findHostDirectiveDefs(kh,wp,w_),wp.push(kh)):wp=[kh];const gS=function $I(i,o){const l=i[pn],u=zr;return i[u]=o,Jh(l,u,2,"#host",null)}(ws,nn),RA=function Sx(i,o,l,u,h,v,x){const N=h[pn];!function Dx(i,o,l,u){for(const h of i)o.mergedAttrs=Mo(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Om(o,o.mergedAttrs,!0),null!==l&&G(u,l,o))}(u,i,o,x);let H=null;null!==o&&(H=Q0(o,h[Os]));const ie=v.rendererFactory.createRenderer(o,l);let ye=16;l.signals?ye=4096:l.onPush&&(ye=64);const Fe=Ey(h,CI(l),null,ye,h[i.index],i,v,ie,null,null,H);return N.firstCreatePass&&Cm(N,i,u.length-1),Rm(h,Fe),h[i.index]=Fe}(gS,nn,kh,wp,ws,Fe,at);cu=lr(Li,zr),nn&&function Cx(i,o,l,u){if(u)Io(i,l,["ng-version",rE.full]);else{const{attrs:h,classes:v}=function Gs(i){const o=[],l=[];let u=1,h=2;for(;u<i.length;){let v=i[u];if("string"==typeof v)2===h?""!==v&&o.push(v,i[++u]):8===h&&l.push(v);else{if(!tt(h))break;h=v}u++}return{attrs:o,classes:l}}(o.selectors[0]);h&&Io(i,l,h),v&&v.length>0&&T(i,l,v.join(" "))}}(at,kh,nn,u),void 0!==l&&function Ax(i,o,l){const u=i.projection=[];for(let h=0;h<o.length;h++){const v=l[h];u.push(null!=v?Array.from(v):null)}}(cu,this.ngContentSelectors,l),xo=function GI(i,o,l,u,h,v){const x=Ks(),N=h[pn],H=ns(x,h);Sy(N,h,x,l,null,u);for(let ye=0;ye<l.length;ye++)L(fu(h,N,x.directiveStart+ye,x),h);Dy(N,h,x),H&&L(H,h);const ie=fu(h,N,x.directiveStart+x.componentOffset,x);if(i[qi]=h[qi]=ie,null!==v)for(const ye of v)ye(ie,o);return Sm(N,x,i),ie}(RA,kh,wp,w_,ws,[Rx]),Ry(Li,ws,null)}finally{dt()}return new Wl(this.componentType,xo,Qp(cu,ws),ws,cu)}}class Wl extends sy{constructor(o,l,u,h,v){super(),this.location=u,this._rootLView=h,this._tNode=v,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new xE(h),this.componentType=o}setInput(o,l){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),l))return;const v=this._rootLView;Ay(v[pn],v,h,o,l),this.previousInputValues.set(o,l),bm(yn(this._tNode.index,v))}}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Rx(){const i=Ks();za(ht()[pn],i)}function HI(i){let o=function xD(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),l=!0;const u=[i];for(;o;){let h;if(Bs(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new st(903,!1);h=o.\u0275dir}if(h){if(l){u.push(h);const x=i;x.inputs=OE(i.inputs),x.inputTransforms=OE(i.inputTransforms),x.declaredInputs=OE(i.declaredInputs),x.outputs=OE(i.outputs);const N=h.hostBindings;N&&OD(i,N);const H=h.viewQuery,ie=h.contentQueries;if(H&&zI(i,H),ie&&Pm(i,ie),xe(i.inputs,h.inputs),xe(i.declaredInputs,h.declaredInputs),xe(i.outputs,h.outputs),null!==h.inputTransforms&&(null===x.inputTransforms&&(x.inputTransforms={}),xe(x.inputTransforms,h.inputTransforms)),Bs(h)&&h.data.animation){const ye=i.data;ye.animation=(ye.animation||[]).concat(h.data.animation)}}const v=h.features;if(v)for(let x=0;x<v.length;x++){const N=v[x];N&&N.ngInherit&&N(i),N===HI&&(l=!1)}}o=Object.getPrototypeOf(o)}!function xx(i){let o=0,l=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Mo(h.hostAttrs,l=Mo(l,h.hostAttrs))}}(u)}function OE(i){return i===zi?{}:i===ri?[]:i}function zI(i,o){const l=i.viewQuery;i.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function Pm(i,o){const l=i.contentQueries;i.contentQueries=l?(u,h,v)=>{o(u,h,v),l(u,h,v)}:o}function OD(i,o){const l=i.hostBindings;i.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}function ME(i){return o=>{o.findHostDirectiveDefs=My,o.hostDirectives=(Array.isArray(i)?i:i()).map(l=>"function"==typeof l?{directive:ut(l),inputs:zi,outputs:zi}:{directive:ut(l.directive),inputs:WI(l.inputs),outputs:WI(l.outputs)})}}function My(i,o,l){if(null!==i.hostDirectives)for(const u of i.hostDirectives){const h=es(u.directive);MD(h.declaredInputs,u.inputs),My(h,o,l),l.set(h,u),o.push(h)}}function WI(i){if(void 0===i||0===i.length)return zi;const o={};for(let l=0;l<i.length;l+=2)o[i[l]]=i[l+1];return o}function MD(i,o){for(const l in o)o.hasOwnProperty(l)&&(i[o[l]]=i[l])}function Nm(i){const o=i.inputConfig,l={};for(const u in o)if(o.hasOwnProperty(u)){const h=o[u];Array.isArray(h)&&h[2]&&(l[u]=h[2])}i.inputTransforms=l}function Ih(i){return!!Py(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Py(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function nh(i,o,l){return i[o]=l}function ru(i,o,l){return!Object.is(i[o],l)&&(i[o]=l,!0)}function Xh(i,o,l,u){const h=ru(i,o,l);return ru(i,o+1,u)||h}function Th(i,o,l,u){const h=ht();return ru(h,_t(),o)&&(Ti(),vu(Kr(),h,i,o,l,u)),Th}function Hf(i,o,l,u){return ru(i,_t(),l)?o+pt(l)+u:Gi}function UD(i,o,l,u,h,v,x,N){const H=ht(),ie=Ti(),ye=i+zr,Fe=ie.firstCreatePass?function jx(i,o,l,u,h,v,x,N,H){const ie=o.consts,ye=Jh(o,i,4,x||null,tl(ie,N));tg(o,l,ye,tl(ie,H)),za(o,ye);const Fe=ye.tView=Dm(2,ye,u,h,v,o.directiveRegistry,o.pipeRegistry,null,o.schemas,ie,null);return null!==o.queries&&(o.queries.template(o,ye),Fe.queries=o.queries.embeddedTView(ye)),ye}(ye,ie,H,o,l,u,h,v,x):ie.data[ye];_o(Fe,!1);const at=jD(ie,H,Fe,i);cl()&&Bu(ie,H,at,Fe),L(at,H),Rm(H,H[ye]=DE(at,H,at,Fe)),Ci(Fe)&&wy(ie,H,Fe),null!=x&&yE(H,Fe,N)}let jD=function $D(i,o,l,u){return Sl(!0),o[vr].createComment("")};function GD(i){return function gs(i,o){return i[o]}(function nl(){return oi.lFrame.contextLView}(),zr+i)}function XI(i,o,l){const u=ht();return ru(u,_t(),o)&&$u(Ti(),Kr(),u,i,o,u[vr],l,!1),XI}function jE(i,o,l,u,h){const x=h?"class":"style";Ay(i,l,o.inputs[x],x,u)}function rf(i,o,l,u){const h=ht(),v=Ti(),x=zr+i,N=h[vr],H=v.firstCreatePass?function zx(i,o,l,u,h,v){const x=o.consts,H=Jh(o,i,2,u,tl(x,h));return tg(o,l,H,tl(x,v)),null!==H.attrs&&Om(H,H.attrs,!1),null!==H.mergedAttrs&&Om(H,H.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,H),H}(x,v,h,o,l,u):v.data[x],ie=t1(v,h,H,N,o,i);h[x]=ie;const ye=Ci(H);return _o(H,!0),G(N,ie,H),32!=(32&H.flags)&&cl()&&Bu(v,h,ie,H),0===function Mc(){return oi.lFrame.elementDepthCount}()&&L(ie,h),function gr(){oi.lFrame.elementDepthCount++}(),ye&&(wy(v,h,H),Sm(v,H,h)),null!==u&&yE(h,H),rf}function dg(){let i=Ks();Pc()?vc():(i=i.parent,_o(i,!1));const o=i;(function mr(i){return oi.skipHydrationRootTNode===i})(o)&&function qs(){oi.skipHydrationRootTNode=null}(),function Hc(){oi.lFrame.elementDepthCount--}();const l=Ti();return l.firstCreatePass&&(za(l,i),zo(i)&&l.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Ju(i){return 0!=(8&i.flags)}(o)&&jE(l,o,ht(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Co(i){return 0!=(16&i.flags)}(o)&&jE(l,o,ht(),o.stylesWithoutHost,!1),dg}function e1(i,o,l,u){return rf(i,o,l,u),dg(),e1}let t1=(i,o,l,u,h,v)=>(Sl(!0),Sd(u,h,function vl(){return oi.lFrame.currentNamespace}()));function By(i,o,l){const u=ht(),h=Ti(),v=i+zr,x=h.firstCreatePass?function WD(i,o,l,u,h){const v=o.consts,x=tl(v,u),N=Jh(o,i,8,"ng-container",x);return null!==x&&Om(N,x,!0),tg(o,l,N,tl(v,h)),null!==o.queries&&o.queries.elementStart(o,N),N}(v,h,u,o,l):h.data[v];_o(x,!0);const N=KD(h,u,x,i);return u[v]=N,cl()&&Bu(h,u,N,x),L(N,u),Ci(x)&&(wy(h,u,x),Sm(h,x,u)),null!=l&&yE(u,x),By}function $E(){let i=Ks();const o=Ti();return Pc()?vc():(i=i.parent,_o(i,!1)),o.firstCreatePass&&(za(o,i),zo(i)&&o.queries.elementEnd(i)),$E}let KD=(i,o,l,u)=>(Sl(!0),Np(o[vr],""));function n1(){return ht()}function GE(i){return!!i&&"function"==typeof i.then}function QD(i){return!!i&&"function"==typeof i.subscribe}function HE(i,o,l,u){const h=ht(),v=Ti(),x=Ks();return function s1(i,o,l,u,h,v,x){const N=Ci(u),ie=i.firstCreatePass&&LI(i),ye=o[qi],Fe=FI(o);let at=!0;if(3&u.type||x){const Cn=ns(u,o),fr=x?x(Cn):Cn,ei=Fe.length,_n=x?ws=>x(Bt(ws[u.index])):u.index;let Li=null;if(!x&&N&&(Li=function Uy(i,o,l,u){const h=i.cleanup;if(null!=h)for(let v=0;v<h.length-1;v+=2){const x=h[v];if(x===l&&h[v+1]===u){const N=o[ho],H=h[v+2];return N.length>H?N[H]:null}"string"==typeof x&&(v+=2)}return null}(i,o,h,u.index)),null!==Li)(Li.__ngLastListenerFn__||Li).__ngNextListenerFn__=v,Li.__ngLastListenerFn__=v,at=!1;else{v=JD(u,o,ye,v,!1);const ws=l.listen(fr,h,v);Fe.push(v,ws),ie&&ie.push(h,_n,ei,ei+1)}}else v=JD(u,o,ye,v,!1);const Dt=u.outputs;let nn;if(at&&null!==Dt&&(nn=Dt[h])){const Cn=nn.length;if(Cn)for(let fr=0;fr<Cn;fr+=2){const xo=o[nn[fr]][nn[fr+1]].subscribe(v),cu=Fe.length;Fe.push(v,xo),ie&&ie.push(h,u.index,cu,-(cu+1))}}}(v,h,h[vr],x,i,o,u),HE}function ZD(i,o,l,u){try{return $r(6,o,l),!1!==l(u)}catch(h){return BI(i,h),!1}finally{$r(7,o,l)}}function JD(i,o,l,u,h){return function v(x){if(x===Function)return u;bm(i.componentOffset>-1?yn(i.index,o):o);let H=ZD(o,l,u,x),ie=v.__ngNextListenerFn__;for(;ie;)H=ZD(o,l,ie,x)&&H,ie=ie.__ngNextListenerFn__;return h&&!1===H&&x.preventDefault(),H}}function XD(i=1){return function fn(i){return(oi.lFrame.contextLView=function Qn(i,o){for(;i>0;)o=o[fo],i--;return o}(i,oi.lFrame.contextLView))[qi]}(i)}function qx(i,o){let l=null;const u=function Ft(i){const o=i.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(i);for(let h=0;h<o.length;h++){const v=o[h];if("*"!==v){if(null===u?vt(i,v,!0):si(u,v))return h}else l=h}return l}function eC(i){const o=ht()[Or][Di];if(!o.projection){const u=o.projection=Lc(i?i.length:1,null),h=u.slice();let v=o.child;for(;null!==v;){const x=i?qx(v,i):0;null!==x&&(h[x]?h[x].projectionNext=v:u[x]=v,h[x]=v),v=v.next}}}function tC(i,o=0,l){const u=ht(),h=Ti(),v=Jh(h,zr+i,16,null,l||null);null===v.projection&&(v.projection=o),vc(),(!u[Vs]||Ki())&&32!=(32&v.flags)&&function $_(i,o,l){m(o[vr],0,o,l,Zg(i,l,o),L0(l.parent||o[Di],l,o))}(h,u,v)}function o1(i,o,l){return zE(i,"",o,"",l),o1}function zE(i,o,l,u,h){const v=ht(),x=Hf(v,o,l,u);return x!==Gi&&$u(Ti(),Kr(),v,i,x,v[vr],h,!1),zE}function YE(i,o){return i<<17|o<<2}function sh(i){return i>>17&32767}function $y(i){return 2|i}function oh(i){return(131068&i)>>2}function jm(i,o){return-131069&i|o<<2}function $m(i){return 1|i}function u1(i,o,l,u,h){const v=i[l+1],x=null===o;let N=u?sh(v):oh(v),H=!1;for(;0!==N&&(!1===H||x);){const ye=i[N+1];QE(i[N],o)&&(H=!0,i[N+1]=u?$m(ye):$y(ye)),N=u?sh(ye):oh(ye)}H&&(i[l+1]=u?$y(v):$m(v))}function QE(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&hl(i,o)>=0}const pc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function d1(i){return i.substring(pc.key,pc.keyEnd)}function f1(i,o){const l=pc.textEnd;return l===o?-1:(o=pc.keyEnd=function cC(i,o,l){for(;o<l&&i.charCodeAt(o)>32;)o++;return o}(i,pc.key=o,l),Gm(i,o,l))}function Gm(i,o,l){for(;o<l&&i.charCodeAt(o)<=32;)o++;return o}function Hm(i,o){return function Hu(i,o,l,u){const h=ht(),v=Ti(),x=ba(2);v.firstUpdatePass&&y1(v,i,x,u),o!==Gi&&ru(h,x,o)&&gg(v,v.data[Gr()],h,h[vr],i,h[x+1]=function tw(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=Qe(qa(i)))),i}(o,l),u,x)}(i,o,null,!0),Hm}function fg(i){!function kd(i,o,l,u){const h=Ti(),v=ba(2);h.firstUpdatePass&&y1(h,null,v,u);const x=ht();if(l!==Gi&&ru(x,v,l)){const N=h.data[Gr()];if(v1(N,u)&&!_1(h,v)){let H=u?N.classesWithoutHost:N.stylesWithoutHost;null!==H&&(l=mt(H,l||"")),jE(h,N,x,l,u)}else!function hC(i,o,l,u,h,v,x,N){h===Gi&&(h=ri);let H=0,ie=0,ye=0<h.length?h[0]:null,Fe=0<v.length?v[0]:null;for(;null!==ye||null!==Fe;){const at=H<h.length?h[H+1]:void 0,Dt=ie<v.length?v[ie+1]:void 0;let Cn,nn=null;ye===Fe?(H+=2,ie+=2,at!==Dt&&(nn=Fe,Cn=Dt)):null===Fe||null!==ye&&ye<Fe?(H+=2,nn=ye):(ie+=2,nn=Fe,Cn=Dt),null!==nn&&gg(i,o,l,u,nn,Cn,x,N),ye=H<h.length?h[H]:null,Fe=ie<v.length?v[ie]:null}}(h,N,x,x[vr],x[v+1],x[v+1]=function XE(i,o,l){if(null==l||""===l)return ri;const u=[],h=qa(l);if(Array.isArray(h))for(let v=0;v<h.length;v++)i(u,h[v],!0);else if("object"==typeof h)for(const v in h)h.hasOwnProperty(v)&&i(u,v,h[v]);else"string"==typeof h&&o(u,h);return u}(i,o,l),u,v)}}(su,lh,i,!0)}function lh(i,o){for(let l=function ZE(i){return function lC(i){pc.key=0,pc.keyEnd=0,pc.value=0,pc.valueEnd=0,pc.textEnd=i.length}(i),f1(i,Gm(i,0,pc.textEnd))}(o);l>=0;l=f1(o,l))Ro(i,d1(o),!0)}function _1(i,o){return o>=i.expandoStartIndex}function y1(i,o,l,u){const h=i.data;if(null===h[l+1]){const v=h[Gr()],x=_1(i,l);v1(v,u)&&null===o&&!x&&(o=!1),o=function iu(i,o,l,u){const h=function ue(i){const o=oi.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let v=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=pg(l=JE(null,i,o,l,u),o.attrs,u),v=null);else{const x=o.directiveStylingLast;if(-1===x||i[x]!==h)if(l=JE(h,i,o,l,u),null===v){let H=function Hy(i,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==oh(u))return i[sh(u)]}(i,o,u);void 0!==H&&Array.isArray(H)&&(H=JE(null,i,o,H[1],u),H=pg(H,o.attrs,u),function Dc(i,o,l,u){i[sh(l?o.classBindings:o.styleBindings)]=u}(i,o,u,H))}else v=function sf(i,o,l){let u;const h=o.directiveEnd;for(let v=1+o.directiveStylingLast;v<h;v++)u=pg(u,i[v].hostAttrs,l);return pg(u,o.attrs,l)}(i,o,u)}return void 0!==v&&(u?o.residualClasses=v:o.residualStyles=v),l}(h,v,o,u),function l1(i,o,l,u,h,v){let x=v?o.classBindings:o.styleBindings,N=sh(x),H=oh(x);i[u]=l;let ye,ie=!1;if(Array.isArray(l)?(ye=l[1],(null===ye||hl(l,ye)>0)&&(ie=!0)):ye=l,h)if(0!==H){const at=sh(i[N+1]);i[u+1]=YE(at,N),0!==at&&(i[at+1]=jm(i[at+1],u)),i[N+1]=function oC(i,o){return 131071&i|o<<17}(i[N+1],u)}else i[u+1]=YE(N,0),0!==N&&(i[N+1]=jm(i[N+1],u)),N=u;else i[u+1]=YE(H,0),0===N?N=u:i[H+1]=jm(i[H+1],u),H=u;ie&&(i[u+1]=$y(i[u+1])),u1(i,ye,u,!0),u1(i,ye,u,!1),function c1(i,o,l,u,h){const v=h?i.residualClasses:i.residualStyles;null!=v&&"string"==typeof o&&hl(v,o)>=0&&(l[u+1]=$m(l[u+1]))}(o,ye,i,u,v),x=YE(N,H),v?o.classBindings=x:o.styleBindings=x}(h,v,o,l,x,u)}}function JE(i,o,l,u,h){let v=null;const x=l.directiveEnd;let N=l.directiveStylingLast;for(-1===N?N=l.directiveStart:N++;N<x&&(v=o[N],u=pg(u,v.hostAttrs,h),v!==i);)N++;return null!==i&&(l.directiveStylingLast=N),u}function pg(i,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let v=0;v<o.length;v++){const x=o[v];"number"==typeof x?h=x:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ro(i,x,!!l||o[++v]))}return void 0===i?null:i}function su(i,o,l){const u=String(o);""!==u&&!u.includes(" ")&&Ro(i,u,l)}function gg(i,o,l,u,h,v,x,N){if(!(3&o.type))return;const H=i.data,ie=H[N+1],ye=function aC(i){return 1==(1&i)}(ie)?zm(H,o,l,h,oh(ie),x):void 0;zu(ye)||(zu(v)||function jy(i){return 2==(2&i)}(ie)&&(v=zm(H,null,l,h,N,x)),function S(i,o,l,u,h){if(o)h?i.addClass(l,u):i.removeClass(l,u);else{let v=-1===u.indexOf("-")?void 0:Kd.DashCase;null==h?i.removeStyle(l,u,v):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),v|=Kd.Important),i.setStyle(l,u,h,v))}}(u,x,ki(Gr(),l),h,v))}function zm(i,o,l,u,h,v){const x=null===o;let N;for(;h>0;){const H=i[h],ie=Array.isArray(H),ye=ie?H[1]:H,Fe=null===ye;let at=l[h+1];at===Gi&&(at=Fe?ri:void 0);let Dt=Fe?Vu(at,u):ye===u?at:void 0;if(ie&&!zu(Dt)&&(Dt=Vu(H,u)),zu(Dt)&&(N=Dt,x))return N;const nn=i[h+1];h=x?sh(nn):oh(nn)}if(null!==o){let H=v?o.residualClasses:o.residualStyles;null!=H&&(N=Vu(H,u))}return N}function zu(i){return void 0!==i}function v1(i,o){return 0!=(i.flags&(o?8:16))}function E1(i,o=""){const l=ht(),u=Ti(),h=i+zr,v=u.firstCreatePass?Jh(u,h,1,o,null):u.data[h],x=Kf(u,l,v,o,i);l[h]=x,cl()&&Bu(u,l,x,v),_o(v,!1)}let Kf=(i,o,l,u,h)=>(Sl(!0),Pp(o[vr],u));function zy(i){return Wy("",i,""),zy}function Wy(i,o,l){const u=ht(),h=Hf(u,i,o,l);return h!==Gi&&function th(i,o,l){const u=ki(o,i);!function x0(i,o,l){i.setValue(o,l)}(i[vr],u,l)}(u,Gr(),h),Wy}function rc(i,o,l){const u=ht();return ru(u,_t(),o)&&$u(Ti(),Kr(),u,i,o,u[vr],l,!0),rc}const ch=void 0;var _C=["en",[["a","p"],["AM","PM"],ch],[["AM","PM"],ch,ch],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ch,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ch,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ch,"{1} 'at' {0}",ch],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fw(i){const l=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let mg={};function iv(i){const o=function pw(i){return i.toLowerCase().replace(/_/g,"-")}(i);let l=O1(o);if(l)return l;const u=o.split("-")[0];if(l=O1(u),l)return l;if("en"===u)return _C;throw new st(701,!1)}function x1(i){return iv(i)[uh.PluralCase]}function O1(i){return i in mg||(mg[i]=Ir.ng&&Ir.ng.common&&Ir.ng.common.locales&&Ir.ng.common.locales[i]),mg[i]}var uh=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(uh||{});const Ch="en-US",_g={marker:"element"},Km={marker:"ICU"};var Ou=function(i){return i[i.SHIFT=2]="SHIFT",i[i.APPEND_EAGERLY=1]="APPEND_EAGERLY",i[i.COMMENT=2]="COMMENT",i}(Ou||{});let mw=Ch;function _w(i){(function rn(i,o){null==i&&ln(o,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(mw=i.toLowerCase().replace(/_/g,"-"))}function Ym(i,o,l){const u=o.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?V_(i,0,l):Bt(l[h])}function N1(i,o,l,u,h){const v=o.insertBeforeIndex;if(Array.isArray(v)){let x=u,N=null;if(3&o.type||(N=x,x=h),null!==x&&-1===o.componentOffset)for(let H=1;H<v.length;H++)$h(i,x,l[v[H]],N,!1)}}function k1(i,o){if(i.push(o),i.length>1)for(let l=i.length-2;l>=0;l--){const u=i[l];Yf(u)||vC(u,o)&&null===EC(u)&&Qf(u,o.index)}}function Yf(i){return!(64&i.type)}function vC(i,o){return Yf(o)||i.index>o.index}function EC(i){const o=i.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Qf(i,o){const l=i.insertBeforeIndex;Array.isArray(l)?l[0]=o:(V0(Ym,N1),i.insertBeforeIndex=o)}function Qm(i,o,l){const u=mE(i,l,64,null,null);return k1(o,u),u}function wC(){const i=[];let l,u,o=-1;function v(N,H){o=0;const ie=function Zm(i,o){const l=o[i.currentCaseLViewIndex];return null===l?l:l<0?~l:l}(N,H);u=null!==ie?N.remove[ie]:ri}function x(){if(o<u.length){const N=u[o++];return N>0?l[N]:(i.push(o,u),v(l[pn].data[~N],l),x())}return 0===i.length?null:(u=i.pop(),o=i.pop(),x())}return function h(N,H){for(l=H;i.length;)i.pop();return v(N.value,H),x}}const Xm=/\ufffd(\d+):?\d*\ufffd/gi,e_=/\ufffd(\d+)\ufffd/,ww=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,af="\ufffd",t_=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Jf=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,bw=/\uE500/g;function Iw(i,o,l,u,h,v,x){const N=Uf(i,u,1,null);let H=N<<Ou.SHIFT,ie=zc();o===ie&&(ie=null),null===ie&&(H|=Ou.APPEND_EAGERLY),x&&(H|=Ou.COMMENT,function Uh(i){void 0===Wa&&(Wa=i())}(wC)),h.push(H,null===v?"":v);const ye=mE(i,N,x?32:1,null===v?"":v,null);k1(l,ye);const Fe=ye.index;return _o(ye,!1),null!==ie&&o!==ie&&function F1(i,o){let l=i.insertBeforeIndex;null===l?(V0(Ym,N1),l=i.insertBeforeIndex=[null,o]):(function yr(i,o,l){i!=o&&ln(l,i,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(ie,Fe),ye}function SC(i,o,l,u,h,v,x){const N=x.match(Xm),H=Iw(i,o,l,v,u,N?null:x,!1);N&&Wu(h,x,H.index,null,0,null)}function Wu(i,o,l,u,h,v){const x=i.length,N=x+1;i.push(null,null);const H=x+2,ie=o.split(Xm);let ye=0;for(let Fe=0;Fe<ie.length;Fe++){const at=ie[Fe];if(1&Fe){const Dt=h+parseInt(at,10);i.push(-1-Dt),ye|=n_(Dt)}else""!==at&&i.push(at)}return i.push(l<<2|(u?1:0)),u&&i.push(u,v),i[x]=ye,i[N]=i.length-H,ye}function n_(i){return 1<<Math.min(i,31)}function Ya(i){let o,v,l="",u=0,h=!1;for(;null!==(o=t_.exec(i));)h?o[0]===`${af}/*${v}${af}`&&(u=o.index,h=!1):(l+=i.substring(u,o.index+o[0].length),v=o[1],h=!0);return l+=i.slice(u),l}function bg(i,o,l,u,h,v){let x=0;const N={type:h.type,currentCaseLViewIndex:Uf(i,o,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function CC(i,o,l){i.push(n_(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,h,v),function av(i,o,l){const u=i.data[o];null===u?i.data[o]=l:u.value=l}(i,v,N);const H=h.values;for(let ie=0;ie<H.length;ie++){const ye=H[ie],Fe=[];for(let at=0;at<ye.length;at++){const Dt=ye[at];if("string"!=typeof Dt){const nn=Fe.push(Dt)-1;ye[at]=`\x3c!--\ufffd${nn}\ufffd--\x3e`}}x=H1(i,N,o,l,u,h.cases[ie],ye.join(""),Fe)|x}x&&function i_(i,o,l){i.push(o,1,l<<2|3)}(l,x,v)}function r_(i){const o=[],l=[];let u=1,h=0;const v=Tw(i=i.replace(ww,function(x,N,H){return u="select"===H?0:1,h=parseInt(N.slice(1),10),""}));for(let x=0;x<v.length;){let N=v[x++].trim();1===u&&(N=N.replace(/\s*(?:=)?(\w+)\s*/,"$1")),N.length&&o.push(N);const H=Tw(v[x++]);o.length>l.length&&l.push(H)}return{type:u,mainBinding:h,cases:o,values:l}}function Tw(i){if(!i)return[];let o=0;const l=[],u=[],h=/[{}]/g;let v;for(h.lastIndex=0;v=h.exec(i);){const N=v.index;if("}"==v[0]){if(l.pop(),0==l.length){const H=i.substring(o,N);ww.test(H)?u.push(r_(H)):u.push(H),o=N+1}}else{if(0==l.length){const H=i.substring(o,N);u.push(H),o=N+1}l.push("{")}}const x=i.substring(o);return u.push(x),u}function H1(i,o,l,u,h,v,x,N){const H=[],ie=[],ye=[];o.cases.push(v),o.create.push(H),o.remove.push(ie),o.update.push(ye);const at=Zd(ai()).getInertBodyElement(x),Dt=Vp(at)||at;return Dt?z1(i,o,l,u,H,ie,ye,Dt,h,N,0):0}function z1(i,o,l,u,h,v,x,N,H,ie,ye){let Fe=0,at=N.firstChild;for(;at;){const Dt=Uf(i,l,1,null);switch(at.nodeType){case Node.ELEMENT_NODE:const nn=at,Cn=nn.tagName.toLowerCase();if(Of.hasOwnProperty(Cn)){dh(h,_g,Cn,H,Dt),i.data[Dt]=Cn;const Li=nn.attributes;for(let ws=0;ws<Li.length;ws++){const xo=Li.item(ws),cu=xo.name.toLowerCase();xo.value.match(Xm)?xd.hasOwnProperty(cu)&&Wu(x,xo.value,Dt,xo.name,0,hd[cu]?eu:null):q1(h,Dt,xo)}Fe=z1(i,o,l,u,h,v,x,at,Dt,ie,ye+1)|Fe,W1(v,Dt,ye)}break;case Node.TEXT_NODE:const fr=at.textContent||"",ei=fr.match(Xm);dh(h,null,ei?"":fr,H,Dt),W1(v,Dt,ye),ei&&(Fe=Wu(x,fr,Dt,null,0,null)|Fe);break;case Node.COMMENT_NODE:const _n=e_.exec(at.textContent||"");if(_n){const ws=ie[parseInt(_n[1],10)];dh(h,Km,"",H,Dt),bg(i,l,u,H,ws,Dt),DC(v,Dt,ye)}}at=at.nextSibling}return Fe}function W1(i,o,l){0===l&&i.push(o)}function DC(i,o,l){0===l&&(i.push(~o),i.push(o))}function dh(i,o,l,u,h){null!==o&&i.push(o),i.push(l,h,function lv(i,o,l){return i|o<<17|l<<1}(0,u,h))}function q1(i,o,l){i.push(o<<1|1,l.name,l.value)}function gv(i,o,l=-1){const u=Ti(),h=ht(),v=zr+i,x=tl(u.consts,o),N=zc();u.firstCreatePass&&function $1(i,o,l,u,h,v){const x=zc(),N=[],H=[],ie=[[]];h=function pv(i,o){if(function G1(i){return-1===i}(o))return Ya(i);{const l=i.indexOf(`:${o}${af}`)+2+o.toString().length,u=i.search(new RegExp(`${af}\\/\\*\\d+:${o}${af}`));return Ya(i.substring(l,u))}}(h,v);const ye=function TC(i){return i.replace(bw," ")}(h).split(Jf);for(let Fe=0;Fe<ye.length;Fe++){let at=ye[Fe];if(1&Fe){const Dt=47===at.charCodeAt(0),Cn=(at.charCodeAt(Dt?1:0),zr+Number.parseInt(at.substring(Dt?2:1)));if(Dt)ie.shift(),_o(zc(),!1);else{const fr=Qm(i,ie[0],Cn);ie.unshift([]),_o(fr,!0)}}else{const Dt=Tw(at);for(let nn=0;nn<Dt.length;nn++){let Cn=Dt[nn];if(1&nn){const fr=Cn;if("object"!=typeof fr)throw new Error(`Unable to parse ICU expression in "${h}" message.`);bg(i,l,H,o,fr,Iw(i,x,ie[0],l,N,"",!0).index)}else""!==Cn&&SC(i,x,ie[0],N,H,l,Cn)}}}i.data[u]={create:N,update:H}}(u,null===N?0:N.index,h,v,x,l),2===u.type?h[Or][Fr]|=32:h[Fr]|=32;const H=u.data[v],ye=Jg(u,N===h[Di]?null:N,h);(function Jm(i,o,l,u){const h=i[vr];for(let v=0;v<o.length;v++){const x=o[v++],N=o[v],ie=(x&Ou.APPEND_EAGERLY)===Ou.APPEND_EAGERLY,ye=x>>>Ou.SHIFT;let Fe=i[ye];null===Fe&&(Fe=i[ye]=(x&Ou.COMMENT)===Ou.COMMENT?h.createComment(N):Pp(h,N)),ie&&null!==l&&$h(h,l,Fe,u,!1)}})(h,H.create,ye,N&&8&N.type?h[N.index]:null),oe(!0)}function Dw(i,o,l){gv(i,o,l),function mv(){oe(!1)}()}function ep(i,o,l,u,h){if(i=ut(i),Array.isArray(i))for(let v=0;v<i.length;v++)ep(i[v],o,l,u,h);else{const v=Ti(),x=ht(),N=Ks();let H=Od(i)?i:ut(i.provide);const ie=Kb(i),ye=1048575&N.providerIndexes,Fe=N.directiveStart,at=N.providerIndexes>>20;if(Od(i)||!i.multi){const Dt=new Na(ie,h,Zh),nn=vv(H,o,h?ye:ye+at,Fe);-1===nn?(Kc(Ao(N,x),v,H),Tg(v,i,o.length),o.push(H),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),l.push(Dt),x.push(Dt)):(l[nn]=Dt,x[nn]=Dt)}else{const Dt=vv(H,o,ye+at,Fe),nn=vv(H,o,ye,ye+at),fr=nn>=0&&l[nn];if(h&&!fr||!h&&!(Dt>=0&&l[Dt])){Kc(Ao(N,x),v,H);const ei=function Pl(i,o,l,u,h){const v=new Na(i,l,Zh);return v.multi=[],v.index=o,v.componentProviders=0,yv(v,h,u&&!l),v}(h?o_:s_,l.length,h,u,ie);!h&&fr&&(l[nn].providerFactory=ei),Tg(v,i,o.length,0),o.push(H),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),l.push(ei),x.push(ei)}else Tg(v,i,Dt>-1?Dt:nn,yv(l[h?nn:Dt],ie,!h&&u));!h&&u&&fr&&l[nn].componentProviders++}}}function Tg(i,o,l,u){const h=Od(o),v=function Q_(i){return!!i.useClass}(o);if(h||v){const H=(v?ut(o.useClass):o).prototype.ngOnDestroy;if(H){const ie=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const ye=ie.indexOf(l);-1===ye?ie.push(l,[u,H]):ie[ye+1].push(u,H)}else ie.push(l,H)}}}function yv(i,o,l){return l&&i.componentProviders++,i.multi.push(o)-1}function vv(i,o,l,u){for(let h=l;h<u;h++)if(o[h]===i)return h;return-1}function s_(i,o,l,u){return Cw(this.multi,[])}function o_(i,o,l,u){const h=this.multi;let v;if(this.providerFactory){const x=this.providerFactory.componentProviders,N=fu(l,l[pn],this.providerFactory.index,u);v=N.slice(0,x),Cw(h,v);for(let H=x;H<N.length;H++)v.push(N[H])}else v=[],Cw(h,v);return v}function Cw(i,o){for(let l=0;l<i.length;l++)o.push((0,i[l])());return o}function Aw(i,o=[]){return l=>{l.providersResolver=(u,h)=>function _v(i,o,l){const u=Ti();if(u.firstCreatePass){const h=Bs(i);ep(l,u.data,u.blueprint,h,!0),ep(o,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,o)}}class tp{}class eT{}function NC(i,o){return new Ev(i,o??null,[])}class Ev extends tp{constructor(o,l,u){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jI(this);const h=ls(o);this._bootstrapComponents=wh(h.bootstrap),this._r3Injector=cy(o,l,[{provide:tp,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver},...u],Qe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class wv extends eT{constructor(o){super(),this.moduleType=o}create(o){return new Ev(this.moduleType,o,[])}}class Rw extends tp{constructor(o){super(),this.componentFactoryResolver=new jI(this),this.instance=null;const l=new om([...o.providers,{provide:tp,useValue:this},{provide:Pd,useValue:this.componentFactoryResolver}],o.parent||J_(),o.debugName,new Set(["environment"]));this.injector=l,o.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Fd(i,o,l=null){return new Rw({providers:i,parent:o,debugName:l,runEnvironmentInitializers:!0}).injector}let tT=(()=>{var i;class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const h=Wb(0,u.type),v=h.length>0?Fd([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,v)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return(i=o).\u0275prov=Bn({token:i,providedIn:"environment",factory:()=>new i(tn(Md))}),o})();function nT(i){i.getStandaloneInjector=o=>o.get(tT).getOrCreateStandaloneInjector(i)}function Nw(i,o,l,u){return function np(i,o,l,u,h,v){const x=o+l;return ru(i,x,h)?nh(i,x+1,v?u.call(v,h):u(h)):Dg(i,x+1)}(ht(),yo(),i,o,l,u)}function lf(i,o,l,u,h){return function hT(i,o,l,u,h,v,x){const N=o+l;return Xh(i,N,h,v)?nh(i,N+2,x?u.call(x,h,v):u(h,v)):Dg(i,N+2)}(ht(),yo(),i,o,l,u,h)}function kw(i,o,l,u,h,v){return function pd(i,o,l,u,h,v,x,N){const H=o+l;return function Lm(i,o,l,u,h){const v=Xh(i,o,l,u);return ru(i,o+2,h)||v}(i,H,h,v,x)?nh(i,H+3,N?u.call(N,h,v,x):u(h,v,x)):Dg(i,H+3)}(ht(),yo(),i,o,l,u,h,v)}function Dg(i,o){const l=i[o];return l===Gi?void 0:l}function Bc(){return this._results[Symbol.iterator]()}class Ag{get changes(){return this._changes||(this._changes=new yu)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Ag.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=Bc)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=function ca(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Xl(i,o,l){if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],v=o[u];if(l&&(h=l(h),v=l(v)),v!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Nv(i,o,l,u=!0){const h=o[pn];if(function M0(i,o,l,u){const h=os+u,v=l.length;u>0&&(l[h-1][Tr]=o),u<v-os?(o[Tr]=l[h],rd(l,os+u,o)):(l.push(o),o[Tr]=null),o[mi]=l;const x=o[ma];null!==x&&l!==x&&function kp(i,o){const l=i[ya];o[Or]!==o[mi][mi][Or]&&(i[La]=!0),null===l?i[ya]=[o]:l.push(o)}(x,o);const N=o[Es];null!==N&&N.insertView(i),o[Fr]|=128}(h,o,i,l),u){const v=j_(l,i),x=o[vr],N=Sf(x,i[to]);null!==N&&function $b(i,o,l,u,h,v){u[yi]=h,u[Di]=o,Cf(i,u,l,1,h,v)}(h,i[Di],x,o,N,v)}}let hh=(()=>{class o{}return o.__NG_ELEMENT_ID__=Bw,o})();const UC=hh,jC=class extends UC{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,l){return this.createEmbeddedViewImpl(o,l)}createEmbeddedViewImpl(o,l,u){const h=function Mv(i,o,l,u){const h=o.tView,N=Ey(i,h,l,4096&i[Fr]?4096:16,null,o,null,null,null,u?.injector??null,u?.hydrationInfo??null);N[ma]=i[o.index];const ie=i[Es];return null!==ie&&(N[Es]=ie.createEmbeddedView(h)),Ry(h,N,l),N}(this._declarationLView,this._declarationTContainer,o,{injector:l,hydrationInfo:u});return new Mm(h)}};function Bw(){return kv(Ks(),ht())}function kv(i,o){return 4&i.type?new jC(o,i,Qp(i,o)):null}let Ld=(()=>{class o{}return o.__NG_ELEMENT_ID__=Uw,o})();function Uw(){return Fv(Ks(),ht())}const Jx=Ld,On=class extends Jx{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return Qp(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Cl(this._hostTNode,this._hostLView);if(ul(o)){const l=wc(o,this._hostLView),u=Ys(o);return new Uo(l[pn].data[u+8],l)}return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Nl(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-os}createEmbeddedView(o,l,u){let h,v;"number"==typeof u?h=u:null!=u&&(h=u.index,v=u.injector);const N=o.createEmbeddedViewImpl(l||{},v,null);return this.insertImpl(N,h,false),N}createComponent(o,l,u,h,v){const x=o&&!function $l(i){return"function"==typeof i}(o);let N;if(x)N=l;else{const Cn=l||{};N=Cn.index,u=Cn.injector,h=Cn.projectableNodes,v=Cn.environmentInjector||Cn.ngModuleRef}const H=x?o:new Oy(Jr(o)),ie=u||this.parentInjector;if(!v&&null==H.ngModule){const fr=(x?ie:this.parentInjector).get(Md,null);fr&&(v=fr)}Jr(H.componentType??{});const Dt=H.create(ie,h,null,v);return this.insertImpl(Dt.hostView,N,false),Dt}insert(o,l){return this.insertImpl(o,l,!1)}insertImpl(o,l,u){const h=o._lView;if(function So(i){return Ii(i[mi])}(h)){const H=this.indexOf(o);if(-1!==H)this.detach(H);else{const ie=h[mi],ye=new On(ie,ie[Di],ie[mi]);ye.detach(ye.indexOf(o))}}const x=this._adjustIndex(l),N=this._lContainer;return Nv(N,h,x,!u),o.attachToViewContainerRef(),rd(Ku(N),x,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Nl(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=bf(this._lContainer,l);u&&(dc(Ku(this._lContainer),l),If(u[pn],u))}detach(o){const l=this._adjustIndex(o,-1),u=bf(this._lContainer,l);return u&&null!=dc(Ku(this._lContainer),l)?new Mm(u):null}_adjustIndex(o,l=0){return o??this.length+l}};function Nl(i){return i[8]}function Ku(i){return i[8]||(i[8]=[])}function Fv(i,o){let l;const u=o[i.index];return Ii(u)?l=u:(l=DE(u,o,null,i),o[i.index]=l,Rm(o,l)),Qr(l,o,i,u),new On(l,i,o)}let Qr=function HC(i,o,l,u){if(i[to])return;let h;h=8&l.type?Bt(u):function Lr(i,o){const l=i[vr],u=l.createComment(""),h=ns(o,i);return $h(l,Sf(l,h),u,function F0(i,o){return i.nextSibling(o)}(l,h),!1),u}(o,l),i[to]=h};class En{constructor(o){this.queryList=o,this.matches=null}clone(){return new En(this.queryList)}setDirty(){this.queryList.setDirty()}}class ql{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let v=0;v<u;v++){const x=l.getByIndex(v);h.push(this.queries[x.indexInDeclarationView].clone())}return new ql(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==so(o,l).matches&&this.queries[l].setDirty()}}class jw{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class $w{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,v=this.getByIndex(u).embeddedTView(o,h);v&&(v.indexInDeclarationView=u,null!==l?l.push(v):l=[v])}return null!==l?new $w(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Gw{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Gw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const v=u[h];this.matchTNodeWithReadOption(o,l,zC(l,v)),this.matchTNodeWithReadOption(o,l,kc(l,o,v,!1,!1))}else u===hh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,kc(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Bf||h===Ld||h===hh&&4&l.type)this.addMatch(l.index,-2);else{const v=kc(l,o,h,!1,!1);null!==v&&this.addMatch(l.index,v)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function zC(i,o){const l=i.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function qC(i,o,l,u){return-1===l?function WC(i,o){return 11&i.type?Qp(i,o):4&i.type?kv(i,o):null}(o,i):-2===l?function yT(i,o,l){return l===Bf?Qp(o,i):l===hh?kv(o,i):l===Ld?Fv(o,i):void 0}(i,o,u):fu(i,i[pn],l,o)}function vT(i,o,l,u){const h=o[Es].queries[u];if(null===h.matches){const v=i.data,x=l.matches,N=[];for(let H=0;H<x.length;H+=2){const ie=x[H];N.push(ie<0?null:qC(o,v[ie],x[H+1],l.metadata.read))}h.matches=N}return h.matches}function ET(i,o,l,u){const h=i.queries.getByIndex(l),v=h.matches;if(null!==v){const x=vT(i,o,h,l);for(let N=0;N<v.length;N+=2){const H=v[N];if(H>0)u.push(x[N/2]);else{const ie=v[N+1],ye=o[-H];for(let Fe=os;Fe<ye.length;Fe++){const at=ye[Fe];at[ma]===at[mi]&&ET(at[pn],at,ie,u)}if(null!==ye[ya]){const Fe=ye[ya];for(let at=0;at<Fe.length;at++){const Dt=Fe[at];ET(Dt[pn],Dt,ie,u)}}}}}return u}function wT(i){const o=ht(),l=Ti(),u=w();R(u+1);const h=so(l,u);if(i.dirty&&function Pt(i){return 4==(4&i[Fr])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const v=h.crossesNgTemplate?ET(l,o,u,[]):vT(l,o,h,u);i.reset(v,uD),i.notifyOnChanges()}return!0}return!1}function Hw(i,o,l){const u=Ti();u.firstCreatePass&&(Xr(u,new jw(i,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),gl(u,ht(),o)}function Fi(i,o,l,u){const h=Ti();if(h.firstCreatePass){const v=Ks();Xr(h,new jw(o,l,u),v.index),function a_(i,o){const l=i.contentQueries||(i.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(i.queries.length-1,o)}(h,i),2==(2&l)&&(h.staticContentQueries=!0)}gl(h,ht(),l)}function op(){return function bT(i,o){return i[Es].queries[o].queryList}(ht(),w())}function gl(i,o,l){const u=new Ag(4==(4&l));(function ED(i,o,l,u){const h=FI(o);h.push(l),i.firstCreatePass&&LI(i).push(u,h.length-1)})(i,o,u,u.destroy),null===o[Es]&&(o[Es]=new ql),o[Es].queries.push(new En(u))}function Xr(i,o,l){null===i.queries&&(i.queries=new $w),i.queries.track(new Gw(o,l))}function so(i,o){return i.queries.getByIndex(o)}function IT(i,o){return kv(i,o)}function Ww(i){return!!ls(i)}const Xw=new ea("Application Initializer");let Da=(()=>{var i;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=Sn(Xw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const v of this.appInits){const x=v();if(GE(x))u.push(x);else if(QD(x)){const N=new Promise((H,ie)=>{x.subscribe({complete:H,error:ie})});u.push(N)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{h()}).catch(v=>{this.reject(v)}),0===u.length&&h(),this.initialized=!0}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Bn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})(),d_=(()=>{var i;class o{log(u){console.log(u)}warn(u){console.warn(u)}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Bn({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();const Ca=new ea("LocaleId",{providedIn:"root",factory:()=>Sn(Ca,cn.Optional|cn.SkipSelf)||function $c(){return typeof $localize<"u"&&$localize.locale||Ch}()}),LT=new ea("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let lA=(()=>{var i;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ne.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Bn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();class gc{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let cA=(()=>{var i;class o{compileModuleSync(u){return new wv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),x=wh(ls(u).declarations).reduce((N,H)=>{const ie=Jr(H);return ie&&N.push(new Oy(ie)),N},[]);return new gc(h,x)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Bn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();const ib=new ea(""),Rc=new ea("");let zv,jT=(()=>{var i;class o{constructor(u,h,v){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zv||(function pf(i){zv=i}(v),v.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nc.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,v){let x=-1;h&&h>0&&(x=setTimeout(()=>{this._callbacks=this._callbacks.filter(N=>N.timeoutId!==x),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:x,updateCb:v})}whenStable(u,h,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,v){return[]}}return(i=o).\u0275fac=function(u){return new(u||i)(tn(nc),tn(Qa),tn(Rc))},i.\u0275prov=Bn({token:i,factory:i.\u0275fac}),o})(),Qa=(()=>{var i;class o{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return zv?.findTestabilityInTree(this,u,h)??null}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Bn({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})(),Mh=null;const hp=new ea("AllowMultipleToken"),sb=new ea("PlatformDestroyListeners"),Wv=new ea("appBootstrapListener");class ab{constructor(o,l){this.name=o,this.token=l}}function ub(i,o,l=[]){const u=`Platform: ${o}`,h=new ea(u);return(v=[])=>{let x=qv();if(!x||x.injector.get(hp,!1)){const N=[...l,...v,{provide:h,useValue:!0}];i?i(N):function $T(i){if(Mh&&!Mh.get(hp,!1))throw new st(400,!1);(function fp(){!function Ll(i){Yl=i}(()=>{throw new st(600,!1)})})(),Mh=i;const o=i.get(HT);(function cb(i){i.get(W0,null)?.forEach(l=>l())})(i)}(function GT(i=[],o){return fd.create({name:o,providers:[{provide:sm,useValue:"platform"},{provide:sb,useValue:new Set([()=>Mh=null])},...i]})}(N,u))}return function hA(i){const o=qv();if(!o)throw new st(401,!1);return o}()}}function qv(){return Mh?.get(HT)??null}let HT=(()=>{var i;class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const v=function fA(i="zone.js",o){return"noop"===i?new hI:"zone.js"===i?new nc(o):i}(h?.ngZone,function db(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return v.run(()=>{const x=function bv(i,o,l){return new Ev(i,o,l)}(u.moduleType,this.injector,function gh(i){return[{provide:nc,useFactory:i},{provide:im,multi:!0,useFactory:()=>{const o=Sn(qT,{optional:!0});return()=>o.initialize()}},{provide:__,useFactory:Kv},{provide:fI,useFactory:cE}]}(()=>v)),N=x.injector.get(ju,null);return v.runOutsideAngular(()=>{const H=v.onError.subscribe({next:ie=>{N.handleError(ie)}});x.onDestroy(()=>{ph(this._modules,x),H.unsubscribe()})}),function zT(i,o,l){try{const u=l();return GE(u)?u.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>i.handleError(u)),u}}(N,v,()=>{const H=x.injector.get(Da);return H.runInitializers(),H.donePromise.then(()=>(_w(x.injector.get(Ca,Ch)||Ch),this._moduleDoBootstrap(x),x))})})}bootstrapModule(u,h=[]){const v=WT({},h);return function Zs(i,o,l){const u=new wv(l);return Promise.resolve(u)}(0,0,u).then(x=>this.bootstrapModuleFactory(x,v))}_moduleDoBootstrap(u){const h=u.injector.get(gf);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(v=>h.bootstrap(v));else{if(!u.instance.ngDoBootstrap)throw new st(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new st(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(sb,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=o).\u0275fac=function(u){return new(u||i)(tn(fd))},i.\u0275prov=Bn({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();function WT(i,o){return Array.isArray(o)?o.reduce(WT,i):{...i,...o}}let gf=(()=>{var i;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Sn(__),this.zoneIsStable=Sn(fI),this.componentTypes=[],this.components=[],this.isStable=Sn(lA).hasPendingTasks.pipe((0,ct.w)(u=>u?(0,He.of)(!1):this.zoneIsStable),(0,it.x)(),(0,Ae.B)()),this._injector=Sn(Md)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const v=u instanceof Yp;if(!this._injector.get(Da).done)throw!v&&Pr(u),new st(405,!1);let N;N=v?u:this._injector.get(Pd).resolveComponentFactory(u),this.componentTypes.push(N.componentType);const H=function ob(i){return i.isBoundToModule}(N)?void 0:this._injector.get(tp),ye=N.create(fd.NULL,[],h||N.selector,H),Fe=ye.location.nativeElement,at=ye.injector.get(ib,null);return at?.registerApplication(Fe),ye.onDestroy(()=>{this.detachView(ye.hostView),ph(this.components,ye),at?.unregisterApplication(Fe)}),this._loadComponent(ye),ye}tick(){if(this._runningTick)throw new st(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;ph(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(Wv,[]);h.push(...this._bootstrapListeners),h.forEach(v=>v(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>ph(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new st(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Bn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function ph(i,o){const l=i.indexOf(o);l>-1&&i.splice(l,1)}const __=new ea("",{providedIn:"root",factory:()=>Sn(ju).handleError.bind(void 0)});function Kv(){const i=Sn(nc),o=Sn(ju);return l=>i.runOutsideAngular(()=>o.handleError(l))}let qT=(()=>{var i;class o{constructor(){this.zone=Sn(nc),this.applicationRef=Sn(gf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Bn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function kg(){return!1}let pp=(()=>{class o{}return o.__NG_ELEMENT_ID__=wu,o})();function wu(i){return function fb(i,o,l){if(no(i)&&!l){const u=yn(i.index,o);return new Mm(u,u)}return 47&i.type?new Mm(o[Or],o):null}(Ks(),ht(),16==(16&i))}class t0{constructor(){}supports(o){return Ih(o)}create(o){return new eS(o)}}const XT=(i,o)=>o;class eS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||XT}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,v=null;for(;l||u;){const x=!u||l&&l.currentIndex<rS(u,h,v)?l:u,N=rS(x,h,v),H=x.currentIndex;if(x===u)h--,u=u._nextRemoved;else if(l=l._next,null==x.previousIndex)h++;else{v||(v=[]);const ie=N-h,ye=H-h;if(ie!=ye){for(let at=0;at<ie;at++){const Dt=at<v.length?v[at]:v[at]=0,nn=Dt+at;ye<=nn&&nn<ie&&(v[at]=Dt+1)}v[x.previousIndex]=ye-ie}}N!==H&&o(x,N,H)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ih(o))throw new st(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,v,x,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let N=0;N<this.length;N++)v=o[N],x=this._trackByFn(N,v),null!==l&&Object.is(l.trackById,x)?(u&&(l=this._verifyReinsertion(l,v,x,N)),Object.is(l.item,v)||this._addIdentityChange(l,v)):(l=this._mismatch(l,v,x,N),u=!0),l=l._next}else h=0,function km(i,o){if(Array.isArray(i))for(let l=0;l<i.length;l++)o(i[l]);else{const l=i[Symbol.iterator]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,N=>{x=this._trackByFn(h,N),null!==l&&Object.is(l.trackById,x)?(u&&(l=this._verifyReinsertion(l,N,x,h)),Object.is(l.item,N)||this._addIdentityChange(l,N)):(l=this._mismatch(l,N,x,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let v;return null===o?v=this._itTail:(v=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,v,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,v,h)):o=this._addAfter(new tS(l,u),v,h),o}_verifyReinsertion(o,l,u,h){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==v?o=this._reinsertAfter(v,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,v=o._nextRemoved;return null===h?this._removalsHead=v:h._nextRemoved=v,null===v?this._removalsTail=h:v._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new nS),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nS),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class tS{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class nS{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new n0,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rS(i,o,l){const u=i.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class mb{constructor(){}supports(o){return o instanceof Map||Py(o)}create(){return new Fg}}class Fg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Py(o)))throw new st(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const v=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,v)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const v=h._prev,x=h._next;return v&&(v._next=x),x&&(x._prev=v),h._next=null,h._prev=null,h}const u=new _p(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class _p{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _b(){return new Nh([new t0])}let Nh=(()=>{var i;class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const v=h.factories.slice();u=u.concat(v)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||_b()),deps:[[o,new Fn,new zt]]}}find(u){const h=this.factories.find(v=>v.supports(u));if(null!=h)return h;throw new st(901,!1)}}return(i=o).\u0275prov=Bn({token:i,providedIn:"root",factory:_b}),o})();function yp(){return new r0([new mb])}let r0=(()=>{var i;class o{constructor(u){this.factories=u}static create(u,h){if(h){const v=h.factories.slice();u=u.concat(v)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||yp()),deps:[[o,new Fn,new zt]]}}find(u){const h=this.factories.find(v=>v.supports(u));if(h)return h;throw new st(901,!1)}}return(i=o).\u0275prov=Bn({token:i,providedIn:"root",factory:yp}),o})();const ml=ub(null,"core",[]);let s0=(()=>{var i;class o{constructor(u){}}return(i=o).\u0275fac=function(u){return new(u||i)(tn(gf))},i.\u0275mod=uo({type:i}),i.\u0275inj=Mn({}),o})();function wA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function CA(i,o){const l=Jr(i),u=o.elementInjector||J_();return new Oy(l).create(u,o.projectableNodes,o.hostElement,o.environmentInjector)}function pS(i){const o=Jr(i);if(!o)return null;const l=new Oy(o);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3399:(Rn,yt,Y)=>{Y.d(yt,{Z:()=>Yt});var d=Y(9058),ge=Y(4537),we=Y(7592),ne=Y(7879);class Ne{constructor(an,qt){this._delegate=an,this.firebase=qt,(0,we._addComponent)(an,new ge.wA("app-compat",()=>this,"PUBLIC")),this.container=an.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(an){this._delegate.automaticDataCollectionEnabled=an}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(an=>{this._delegate.checkDestroyed(),an()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,we.deleteApp)(this._delegate)))}_getService(an,qt=we._DEFAULT_ENTRY_NAME){var Nn;this._delegate.checkDestroyed();const wn=this._delegate.container.getProvider(an);return!wn.isInitialized()&&"EXPLICIT"===(null===(Nn=wn.getComponent())||void 0===Nn?void 0:Nn.instantiationMode)&&wn.initialize(),wn.getImmediate({identifier:qt})}_removeServiceInstance(an,qt=we._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(an).clearInstance(qt)}_addComponent(an){(0,we._addComponent)(this._delegate,an)}_addOrOverwriteComponent(an){(0,we._addOrOverwriteComponent)(this._delegate,an)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Te=function it(){const ut=function ct(ut){const an={},qt={__esModule:!0,initializeApp:function st(Mt,Oe={}){const Ht=we.initializeApp(Mt,Oe);if((0,d.r3)(an,Ht.name))return an[Ht.name];const on=new ut(Ht,qt);return an[Ht.name]=on,on},app:wn,registerVersion:we.registerVersion,setLogLevel:we.setLogLevel,onLog:we.onLog,apps:null,SDK_VERSION:we.SDK_VERSION,INTERNAL:{registerComponent:function pt(Mt){const Oe=Mt.name,Ht=Oe.replace("-compat","");if(we._registerComponent(Mt)&&"PUBLIC"===Mt.type){const on=(Wn=wn())=>{if("function"!=typeof Wn[Ht])throw Ae.create("invalid-app-argument",{appName:Oe});return Wn[Ht]()};void 0!==Mt.serviceProps&&(0,d.ZB)(on,Mt.serviceProps),qt[Ht]=on,ut.prototype[Ht]=function(...Wn){return this._getService.bind(this,Oe).apply(this,Mt.multipleInstances?Wn:[])}}return"PUBLIC"===Mt.type?qt[Ht]:null},removeApp:function Nn(Mt){delete an[Mt]},useAsService:function gt(Mt,Oe){return"serverAuth"===Oe?null:Oe},modularAPIs:we}};function wn(Mt){if(!(0,d.r3)(an,Mt=Mt||we._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Mt});return an[Mt]}return qt.default=qt,Object.defineProperty(qt,"apps",{get:function It(){return Object.keys(an).map(Mt=>an[Mt])}}),wn.App=ut,qt}(Ne);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:it,extendNamespace:function an(qt){(0,d.ZB)(ut,qt)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),ut}(),xe=new ne.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){xe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&xe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Yt=Te;!function Ge(ut){(0,we.registerVersion)("@firebase/app-compat","0.2.13",ut)}()},7592:(Rn,yt,Y)=>{Y.r(yt),Y.d(yt,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Mn,_DEFAULT_ENTRY_NAME:()=>Ye,_addComponent:()=>Ct,_addOrOverwriteComponent:()=>en,_apps:()=>Et,_clearComponents:()=>ir,_components:()=>ot,_getProvider:()=>ln,_registerComponent:()=>rn,_removeServiceInstance:()=>Hr,deleteApp:()=>St,getApp:()=>Ue,getApps:()=>Ze,initializeApp:()=>Nr,onLog:()=>Qt,registerVersion:()=>At,setLogLevel:()=>pr});var d=Y(5861),ge=Y(4537),we=Y(7879),ne=Y(9058),Ne=Y(1878);class He{constructor($e){this.container=$e}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function Ae(Tt){const $e=Tt.getComponent();return"VERSION"===$e?.type}(Vt)){const wt=Vt.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(Vt=>Vt).join(" ")}}const ct="@firebase/app",Te=new we.Yd("@firebase/app"),Ye="[DEFAULT]",nt={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,ot=new Map;function Ct(Tt,$e){try{Tt.container.addComponent($e)}catch(Vt){Te.debug(`Component ${$e.name} failed to register with FirebaseApp ${Tt.name}`,Vt)}}function en(Tt,$e){Tt.container.addOrOverwriteComponent($e)}function rn(Tt){const $e=Tt.name;if(ot.has($e))return Te.debug(`There were multiple attempts to register component ${$e}.`),!1;ot.set($e,Tt);for(const Vt of Et.values())Ct(Vt,Tt);return!0}function ln(Tt,$e){const Vt=Tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Vt&&Vt.triggerHeartbeat(),Tt.container.getProvider($e)}function Hr(Tt,$e,Vt=Ye){ln(Tt,$e).clearInstance(Vt)}function ir(){ot.clear()}const Bn=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Mr{constructor($e,Vt,wt){this._isDeleted=!1,this._options=Object.assign({},$e),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new ge.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this.checkDestroyed(),this._automaticDataCollectionEnabled=$e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($e){this._isDeleted=$e}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}const Mn="9.23.0";function Nr(Tt,$e={}){let Vt=Tt;"object"!=typeof $e&&($e={name:$e});const wt=Object.assign({name:Ye,automaticDataCollectionEnabled:!1},$e),sn=wt.name;if("string"!=typeof sn||!sn)throw Bn.create("bad-app-name",{appName:String(sn)});if(Vt||(Vt=(0,ne.aH)()),!Vt)throw Bn.create("no-options");const gn=Et.get(sn);if(gn){if((0,ne.vZ)(Vt,gn.options)&&(0,ne.vZ)(wt,gn.config))return gn;throw Bn.create("duplicate-app",{appName:sn})}const tr=new ge.H0(sn);for(const me of ot.values())tr.addComponent(me);const Ve=new Mr(Vt,wt,tr);return Et.set(sn,Ve),Ve}function Ue(Tt=Ye){const $e=Et.get(Tt);if(!$e&&Tt===Ye&&(0,ne.aH)())return Nr();if(!$e)throw Bn.create("no-app",{appName:Tt});return $e}function Ze(){return Array.from(Et.values())}function St(Tt){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(Tt){const $e=Tt.name;Et.has($e)&&(Et.delete($e),yield Promise.all(Tt.container.getProviders().map(Vt=>Vt.delete())),Tt.isDeleted=!0)})).apply(this,arguments)}function At(Tt,$e,Vt){var wt;let sn=null!==(wt=nt[Tt])&&void 0!==wt?wt:Tt;Vt&&(sn+=`-${Vt}`);const gn=sn.match(/\s|\//),tr=$e.match(/\s|\//);if(gn||tr){const Ve=[`Unable to register library "${sn}" with version "${$e}":`];return gn&&Ve.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),gn&&tr&&Ve.push("and"),tr&&Ve.push(`version name "${$e}" contains illegal characters (whitespace or "/")`),void Te.warn(Ve.join(" "))}rn(new ge.wA(`${sn}-version`,()=>({library:sn,version:$e}),"VERSION"))}function Qt(Tt,$e){if(null!==Tt&&"function"!=typeof Tt)throw Bn.create("invalid-log-argument");(0,we.Am)(Tt,$e)}function pr(Tt){(0,we.Ub)(Tt)}const Xn="firebase-heartbeat-database",cn=1,bn="firebase-heartbeat-store";let er=null;function cr(){return er||(er=(0,Ne.X3)(Xn,cn,{upgrade:(Tt,$e)=>{0===$e&&Tt.createObjectStore(bn)}}).catch(Tt=>{throw Bn.create("idb-open",{originalErrorMessage:Tt.message})})),er}function Si(){return(Si=(0,d.Z)(function*(Tt){try{return yield(yield cr()).transaction(bn).objectStore(bn).get(qr(Tt))}catch($e){if($e instanceof ne.ZR)Te.warn($e.message);else{const Vt=Bn.create("idb-get",{originalErrorMessage:$e?.message});Te.warn(Vt.message)}}})).apply(this,arguments)}function Ir(Tt,$e){return ti.apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(Tt,$e){try{const wt=(yield cr()).transaction(bn,"readwrite");yield wt.objectStore(bn).put($e,qr(Tt)),yield wt.done}catch(Vt){if(Vt instanceof ne.ZR)Te.warn(Vt.message);else{const wt=Bn.create("idb-set",{originalErrorMessage:Vt?.message});Te.warn(wt.message)}}})).apply(this,arguments)}function qr(Tt){return`${Tt.name}!${Tt.options.appId}`}class Dr{constructor($e){this.container=$e,this._heartbeatsCache=null;const Vt=this.container.getProvider("app").getImmediate();this._storage=new Is(Vt),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var $e=this;return(0,d.Z)(function*(){const wt=$e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sn=ur();if(null===$e._heartbeatsCache&&($e._heartbeatsCache=yield $e._heartbeatsCachePromise),$e._heartbeatsCache.lastSentHeartbeatDate!==sn&&!$e._heartbeatsCache.heartbeats.some(gn=>gn.date===sn))return $e._heartbeatsCache.heartbeats.push({date:sn,agent:wt}),$e._heartbeatsCache.heartbeats=$e._heartbeatsCache.heartbeats.filter(gn=>{const tr=new Date(gn.date).valueOf();return Date.now()-tr<=2592e6}),$e._storage.overwrite($e._heartbeatsCache)})()}getHeartbeatsHeader(){var $e=this;return(0,d.Z)(function*(){if(null===$e._heartbeatsCache&&(yield $e._heartbeatsCachePromise),null===$e._heartbeatsCache||0===$e._heartbeatsCache.heartbeats.length)return"";const Vt=ur(),{heartbeatsToSend:wt,unsentEntries:sn}=function bs(Tt,$e=1024){const Vt=[];let wt=Tt.slice();for(const sn of Tt){const gn=Vt.find(tr=>tr.agent===sn.agent);if(gn){if(gn.dates.push(sn.date),_i(Vt)>$e){gn.dates.pop();break}}else if(Vt.push({agent:sn.agent,dates:[sn.date]}),_i(Vt)>$e){Vt.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:Vt,unsentEntries:wt}}($e._heartbeatsCache.heartbeats),gn=(0,ne.L)(JSON.stringify({version:2,heartbeats:wt}));return $e._heartbeatsCache.lastSentHeartbeatDate=Vt,sn.length>0?($e._heartbeatsCache.heartbeats=sn,yield $e._storage.overwrite($e._heartbeatsCache)):($e._heartbeatsCache.heartbeats=[],$e._storage.overwrite($e._heartbeatsCache)),gn})()}}function ur(){return(new Date).toISOString().substring(0,10)}class Is{constructor($e){this.app=$e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $e=this;return(0,d.Z)(function*(){return(yield $e._canUseIndexedDBPromise)&&(yield function ii(Tt){return Si.apply(this,arguments)}($e.app))||{heartbeats:[]}})()}overwrite($e){var Vt=this;return(0,d.Z)(function*(){var wt;if(yield Vt._canUseIndexedDBPromise){const gn=yield Vt.read();return Ir(Vt.app,{lastSentHeartbeatDate:null!==(wt=$e.lastSentHeartbeatDate)&&void 0!==wt?wt:gn.lastSentHeartbeatDate,heartbeats:$e.heartbeats})}})()}add($e){var Vt=this;return(0,d.Z)(function*(){var wt;if(yield Vt._canUseIndexedDBPromise){const gn=yield Vt.read();return Ir(Vt.app,{lastSentHeartbeatDate:null!==(wt=$e.lastSentHeartbeatDate)&&void 0!==wt?wt:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...$e.heartbeats]})}})()}}function _i(Tt){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Tt})).length}!function vs(Tt){rn(new ge.wA("platform-logger",$e=>new He($e),"PRIVATE")),rn(new ge.wA("heartbeat",$e=>new Dr($e),"PRIVATE")),At(ct,"0.9.13",Tt),At(ct,"0.9.13","esm2017"),At("fire-js","")}("")},4097:(Rn,yt,Y)=>{Y.d(yt,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=Y(7592);(0,d.registerVersion)("firebase","9.23.0","app")},120:(Rn,yt,Y)=>{Y.d(yt,{Z:()=>d.Z});var d=Y(3399);d.Z.registerVersion("firebase","9.23.0","app-compat")},95:(Rn,yt,Y)=>{Y.d(yt,{Fj:()=>st,NI:()=>Hn,u:()=>Os,cw:()=>qn,sg:()=>Fr,u5:()=>To,Cf:()=>gt,JU:()=>Yt,JJ:()=>bn,JL:()=>er,On:()=>na,UX:()=>mo,kI:()=>Ht,_Y:()=>Po});var d=Y(5879),ge=Y(6814),we=Y(2459),ne=Y(5592),Ne=Y(7453),He=Y(4829),Ae=Y(9940),ct=Y(8251),it=Y(7400),Te=Y(2714),Qe=Y(7398);let mt=(()=>{var te;class Z{constructor(ee,Me){this._renderer=ee,this._elementRef=Me,this.onChange=un=>{},this.onTouched=()=>{}}setProperty(ee,Me){this._renderer.setProperty(this._elementRef.nativeElement,ee,Me)}registerOnTouched(ee){this.onTouched=ee}registerOnChange(ee){this.onChange=ee}setDisabledState(ee){this.setProperty("disabled",ee)}}return(te=Z).\u0275fac=function(ee){return new(ee||te)(d.Y36(d.Qsj),d.Y36(d.SBq))},te.\u0275dir=d.lG2({type:te}),Z})(),Ge=(()=>{var te;class Z extends mt{}return(te=Z).\u0275fac=function(){let be;return function(Me){return(be||(be=d.n5z(te)))(Me||te)}}(),te.\u0275dir=d.lG2({type:te,features:[d.qOj]}),Z})();const Yt=new d.OlP("NgValueAccessor"),qt={provide:Yt,useExisting:(0,d.Gpc)(()=>st),multi:!0},wn=new d.OlP("CompositionEventMode");let st=(()=>{var te;class Z extends mt{constructor(ee,Me,un){super(ee,Me),this._compositionMode=un,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Nn(){const te=(0,ge.q)()?(0,ge.q)().getUserAgent():"";return/android (\d+)/.test(te.toLowerCase())}())}writeValue(ee){this.setProperty("value",ee??"")}_handleInput(ee){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ee)}_compositionStart(){this._composing=!0}_compositionEnd(ee){this._composing=!1,this._compositionMode&&this.onChange(ee)}}return(te=Z).\u0275fac=function(ee){return new(ee||te)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(wn,8))},te.\u0275dir=d.lG2({type:te,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(ee,Me){1&ee&&d.NdJ("input",function(ar){return Me._handleInput(ar.target.value)})("blur",function(){return Me.onTouched()})("compositionstart",function(){return Me._compositionStart()})("compositionend",function(ar){return Me._compositionEnd(ar.target.value)})},features:[d._Bn([qt]),d.qOj]}),Z})();function It(te){return null==te||("string"==typeof te||Array.isArray(te))&&0===te.length}function pt(te){return null!=te&&"number"==typeof te.length}const gt=new d.OlP("NgValidators"),Mt=new d.OlP("NgAsyncValidators"),Oe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ht{static min(Z){return function on(te){return Z=>{if(It(Z.value)||It(te))return null;const be=parseFloat(Z.value);return!isNaN(be)&&be<te?{min:{min:te,actual:Z.value}}:null}}(Z)}static max(Z){return function Wn(te){return Z=>{if(It(Z.value)||It(te))return null;const be=parseFloat(Z.value);return!isNaN(be)&&be>te?{max:{max:te,actual:Z.value}}:null}}(Z)}static required(Z){return function jn(te){return It(te.value)?{required:!0}:null}(Z)}static requiredTrue(Z){return function mn(te){return!0===te.value?null:{required:!0}}(Z)}static email(Z){return function Yn(te){return It(te.value)||Oe.test(te.value)?null:{email:!0}}(Z)}static minLength(Z){return function yr(te){return Z=>It(Z.value)||!pt(Z.value)?null:Z.value.length<te?{minlength:{requiredLength:te,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function Ln(te){return Z=>pt(Z.value)&&Z.value.length>te?{maxlength:{requiredLength:te,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function kn(te){if(!te)return Ye;let Z,be;return"string"==typeof te?(be="","^"!==te.charAt(0)&&(be+="^"),be+=te,"$"!==te.charAt(te.length-1)&&(be+="$"),Z=new RegExp(be)):(be=te.toString(),Z=te),ee=>{if(It(ee.value))return null;const Me=ee.value;return Z.test(Me)?null:{pattern:{requiredPattern:be,actualValue:Me}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return ln(Z)}static composeAsync(Z){return ir(Z)}}function Ye(te){return null}function nt(te){return null!=te}function Et(te){return(0,d.QGY)(te)?(0,we.D)(te):te}function ot(te){let Z={};return te.forEach(be=>{Z=null!=be?{...Z,...be}:Z}),0===Object.keys(Z).length?null:Z}function Ct(te,Z){return Z.map(be=>be(te))}function rn(te){return te.map(Z=>function en(te){return!te.validate}(Z)?Z:be=>Z.validate(be))}function ln(te){if(!te)return null;const Z=te.filter(nt);return 0==Z.length?null:function(be){return ot(Ct(be,Z))}}function Hr(te){return null!=te?ln(rn(te)):null}function ir(te){if(!te)return null;const Z=te.filter(nt);return 0==Z.length?null:function(be){return function xe(...te){const Z=(0,Ae.jO)(te),{args:be,keys:ee}=(0,Ne.D)(te),Me=new ne.y(un=>{const{length:ar}=be;if(!ar)return void un.complete();const Cs=new Array(ar);let Ni=ar,ko=ar;for(let Us=0;Us<ar;Us++){let Hs=!1;(0,He.Xf)(be[Us]).subscribe((0,ct.x)(un,Ba=>{Hs||(Hs=!0,ko--),Cs[Us]=Ba},()=>Ni--,void 0,()=>{(!Ni||!Hs)&&(ko||un.next(ee?(0,Te.n)(ee,Cs):Cs),un.complete())}))}});return Z?Me.pipe((0,it.Z)(Z)):Me}(Ct(be,Z).map(Et)).pipe((0,Qe.U)(ot))}}function hr(te){return null!=te?ir(rn(te)):null}function Bn(te,Z){return null===te?[Z]:Array.isArray(te)?[...te,Z]:[te,Z]}function Mr(te){return te._rawValidators}function Mn(te){return te._rawAsyncValidators}function Nr(te){return te?Array.isArray(te)?te:[te]:[]}function Ue(te,Z){return Array.isArray(te)?te.includes(Z):te===Z}function Ze(te,Z){const be=Nr(Z);return Nr(te).forEach(Me=>{Ue(be,Me)||be.push(Me)}),be}function St(te,Z){return Nr(Z).filter(be=>!Ue(te,be))}class Nt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=Hr(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=hr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,be){return!!this.control&&this.control.hasError(Z,be)}getError(Z,be){return this.control?this.control.getError(Z,be):null}}class At extends Nt{get formDirective(){return null}get path(){return null}}class Qt extends Nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pr{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let bn=(()=>{var te;class Z extends pr{constructor(ee){super(ee)}}return(te=Z).\u0275fac=function(ee){return new(ee||te)(d.Y36(Qt,2))},te.\u0275dir=d.lG2({type:te,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(ee,Me){2&ee&&d.ekj("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)},features:[d.qOj]}),Z})(),er=(()=>{var te;class Z extends pr{constructor(ee){super(ee)}}return(te=Z).\u0275fac=function(ee){return new(ee||te)(d.Y36(At,10))},te.\u0275dir=d.lG2({type:te,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(ee,Me){2&ee&&d.ekj("ng-untouched",Me.isUntouched)("ng-touched",Me.isTouched)("ng-pristine",Me.isPristine)("ng-dirty",Me.isDirty)("ng-valid",Me.isValid)("ng-invalid",Me.isInvalid)("ng-pending",Me.isPending)("ng-submitted",Me.isSubmitted)},features:[d.qOj]}),Z})();const wt="VALID",sn="INVALID",gn="PENDING",tr="DISABLED";function Ve(te){return(ve(te)?te.validators:te)||null}function fe(te,Z){return(ve(Z)?Z.asyncValidators:te)||null}function ve(te){return null!=te&&!Array.isArray(te)&&"object"==typeof te}class tn{constructor(Z,be){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(be)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===wt}get invalid(){return this.status===sn}get pending(){return this.status==gn}get disabled(){return this.status===tr}get enabled(){return this.status!==tr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(Ze(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(Ze(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(St(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(St(Z,this._rawAsyncValidators))}hasValidator(Z){return Ue(this._rawValidators,Z)}hasAsyncValidator(Z){return Ue(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){this.touched=!0,this._parent&&!Z.onlySelf&&this._parent.markAsTouched(Z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Z=>Z.markAllAsTouched())}markAsUntouched(Z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(be=>{be.markAsUntouched({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}markAsDirty(Z={}){this.pristine=!1,this._parent&&!Z.onlySelf&&this._parent.markAsDirty(Z)}markAsPristine(Z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(be=>{be.markAsPristine({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}markAsPending(Z={}){this.status=gn,!1!==Z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Z.onlySelf&&this._parent.markAsPending(Z)}disable(Z={}){const be=this._parentMarkedDirty(Z.onlySelf);this.status=tr,this.errors=null,this._forEachChild(ee=>{ee.disable({...Z,onlySelf:!0})}),this._updateValue(),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:be}),this._onDisabledChange.forEach(ee=>ee(!0))}enable(Z={}){const be=this._parentMarkedDirty(Z.onlySelf);this.status=wt,this._forEachChild(ee=>{ee.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:be}),this._onDisabledChange.forEach(ee=>ee(!1))}_updateAncestors(Z){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wt||this.status===gn)&&this._runAsyncValidator(Z.emitEvent)),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity(Z)}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(be=>be._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tr:wt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z){if(this.asyncValidator){this.status=gn,this._hasOwnPendingAsyncValidator=!0;const be=Et(this.asyncValidator(this));this._asyncValidationSubscription=be.subscribe(ee=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ee,{emitEvent:Z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Z,be={}){this.errors=Z,this._updateControlsErrors(!1!==be.emitEvent)}get(Z){let be=Z;return null==be||(Array.isArray(be)||(be=be.split(".")),0===be.length)?null:be.reduce((ee,Me)=>ee&&ee._find(Me),this)}getError(Z,be){const ee=be?this.get(be):this;return ee&&ee.errors?ee.errors[Z]:null}hasError(Z,be){return!!this.getError(Z,be)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Z)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?tr:this.errors?sn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gn)?gn:this._anyControlsHaveStatus(sn)?sn:wt}_anyControlsHaveStatus(Z){return this._anyControls(be=>be.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}_updateTouched(Z={}){this.touched=this._anyControlsTouched(),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){ve(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function me(te){return Array.isArray(te)?Hr(te):te||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function Le(te){return Array.isArray(te)?hr(te):te||null}(this._rawAsyncValidators)}}class qn extends tn{constructor(Z,be,ee){super(Ve(be),fe(ee,be)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(be),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,be){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=be,be.setParent(this),be._registerOnCollectionChange(this._onCollectionChange),be)}addControl(Z,be,ee={}){this.registerControl(Z,be),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}removeControl(Z,be={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:be.emitEvent}),this._onCollectionChange()}setControl(Z,be,ee={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],be&&this.registerControl(Z,be),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,be={}){(function Lt(te,Z,be){te._forEachChild((ee,Me)=>{if(void 0===be[Me])throw new d.vHH(1002,"")})})(this,0,Z),Object.keys(Z).forEach(ee=>{(function ze(te,Z,be){const ee=te.controls;if(!(Z?Object.keys(ee):ee).length)throw new d.vHH(1e3,"");if(!ee[be])throw new d.vHH(1001,"")})(this,!0,ee),this.controls[ee].setValue(Z[ee],{onlySelf:!0,emitEvent:be.emitEvent})}),this.updateValueAndValidity(be)}patchValue(Z,be={}){null!=Z&&(Object.keys(Z).forEach(ee=>{const Me=this.controls[ee];Me&&Me.patchValue(Z[ee],{onlySelf:!0,emitEvent:be.emitEvent})}),this.updateValueAndValidity(be))}reset(Z={},be={}){this._forEachChild((ee,Me)=>{ee.reset(Z[Me],{onlySelf:!0,emitEvent:be.emitEvent})}),this._updatePristine(be),this._updateTouched(be),this.updateValueAndValidity(be)}getRawValue(){return this._reduceChildren({},(Z,be,ee)=>(Z[ee]=be.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(be,ee)=>!!ee._syncPendingControls()||be);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(be=>{const ee=this.controls[be];ee&&Z(ee,be)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[be,ee]of Object.entries(this.controls))if(this.contains(be)&&Z(ee))return!0;return!1}_reduceValue(){return this._reduceChildren({},(be,ee,Me)=>((ee.enabled||this.disabled)&&(be[Me]=ee.value),be))}_reduceChildren(Z,be){let ee=Z;return this._forEachChild((Me,un)=>{ee=be(ee,Me,un)}),ee}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}const ui=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ns}),Ns="always";function $s(te,Z){return[...Z.path,te]}function ks(te,Z,be=Ns){ri(te,Z),Z.valueAccessor.writeValue(te.value),(te.disabled||"always"===be)&&Z.valueAccessor.setDisabledState?.(te.disabled),function Js(te,Z){Z.valueAccessor.registerOnChange(be=>{te._pendingValue=be,te._pendingChange=!0,te._pendingDirty=!0,"change"===te.updateOn&&$o(te,Z)})}(te,Z),function Pi(te,Z){const be=(ee,Me)=>{Z.valueAccessor.writeValue(ee),Me&&Z.viewToModelUpdate(ee)};te.registerOnChange(be),Z._registerOnDestroy(()=>{te._unregisterOnChange(be)})}(te,Z),function Xs(te,Z){Z.valueAccessor.registerOnTouched(()=>{te._pendingTouched=!0,"blur"===te.updateOn&&te._pendingChange&&$o(te,Z),"submit"!==te.updateOn&&te.markAsTouched()})}(te,Z),function zi(te,Z){if(Z.valueAccessor.setDisabledState){const be=ee=>{Z.valueAccessor.setDisabledState(ee)};te.registerOnDisabledChange(be),Z._registerOnDestroy(()=>{te._unregisterOnDisabledChange(be)})}}(te,Z)}function li(te,Z,be=!0){const ee=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(ee),Z.valueAccessor.registerOnTouched(ee)),Wi(te,Z),te&&(Z._invokeOnDestroyCallbacks(),te._registerOnCollectionChange(()=>{}))}function wi(te,Z){te.forEach(be=>{be.registerOnValidatorChange&&be.registerOnValidatorChange(Z)})}function ri(te,Z){const be=Mr(te);null!==Z.validator?te.setValidators(Bn(be,Z.validator)):"function"==typeof be&&te.setValidators([be]);const ee=Mn(te);null!==Z.asyncValidator?te.setAsyncValidators(Bn(ee,Z.asyncValidator)):"function"==typeof ee&&te.setAsyncValidators([ee]);const Me=()=>te.updateValueAndValidity();wi(Z._rawValidators,Me),wi(Z._rawAsyncValidators,Me)}function Wi(te,Z){let be=!1;if(null!==te){if(null!==Z.validator){const Me=Mr(te);if(Array.isArray(Me)&&Me.length>0){const un=Me.filter(ar=>ar!==Z.validator);un.length!==Me.length&&(be=!0,te.setValidators(un))}}if(null!==Z.asyncValidator){const Me=Mn(te);if(Array.isArray(Me)&&Me.length>0){const un=Me.filter(ar=>ar!==Z.asyncValidator);un.length!==Me.length&&(be=!0,te.setAsyncValidators(un))}}}const ee=()=>{};return wi(Z._rawValidators,ee),wi(Z._rawAsyncValidators,ee),be}function $o(te,Z){te._pendingDirty&&te.markAsDirty(),te.setValue(te._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(te._pendingValue),te._pendingChange=!1}function Br(te,Z){if(!te.hasOwnProperty("model"))return!1;const be=te.model;return!!be.isFirstChange()||!Object.is(Z,be.currentValue)}function ss(te,Z){if(!Z)return null;let be,ee,Me;return Array.isArray(Z),Z.forEach(un=>{un.constructor===st?be=un:function Un(te){return Object.getPrototypeOf(te.constructor)===Ge}(un)?ee=un:Me=un}),Me||ee||be||null}function Ft(te,Z){const be=te.indexOf(Z);be>-1&&te.splice(be,1)}function Ut(te){return"object"==typeof te&&null!==te&&2===Object.keys(te).length&&"value"in te&&"disabled"in te}const Hn=class extends tn{constructor(Z=null,be,ee){super(Ve(be),fe(ee,be)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(be),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ve(be)&&(be.nonNullable||be.initialValueIsDefault)&&(this.defaultValue=Ut(Z)?Z.value:Z)}setValue(Z,be={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==be.emitModelToViewChange&&this._onChange.forEach(ee=>ee(this.value,!1!==be.emitViewToModelChange)),this.updateValueAndValidity(be)}patchValue(Z,be={}){this.setValue(Z,be)}reset(Z=this.defaultValue,be={}){this._applyFormState(Z),this.markAsPristine(be),this.markAsUntouched(be),this.setValue(this.value,be),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){Ft(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){Ft(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){Ut(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}},uo={provide:Qt,useExisting:(0,d.Gpc)(()=>na)},Fa=(()=>Promise.resolve())();let na=(()=>{var te;class Z extends Qt{constructor(ee,Me,un,ar,Cs,Ni){super(),this._changeDetectorRef=Cs,this.callSetDisabledState=Ni,this.control=new Hn,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=ee,this._setValidators(Me),this._setAsyncValidators(un),this.valueAccessor=ss(0,ar)}ngOnChanges(ee){if(this._checkForErrors(),!this._registered||"name"in ee){if(this._registered&&(this._checkName(),this.formDirective)){const Me=ee.name.previousValue;this.formDirective.removeControl({name:Me,path:this._getPath(Me)})}this._setUpControl()}"isDisabled"in ee&&this._updateDisabled(ee),Br(ee,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ee){this.viewModel=ee,this.update.emit(ee)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ks(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ee){Fa.then(()=>{this.control.setValue(ee,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ee){const Me=ee.isDisabled.currentValue,un=0!==Me&&(0,d.VuI)(Me);Fa.then(()=>{un&&!this.control.disabled?this.control.disable():!un&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ee){return this._parent?$s(ee,this._parent):[ee]}}return(te=Z).\u0275fac=function(ee){return new(ee||te)(d.Y36(At,9),d.Y36(gt,10),d.Y36(Mt,10),d.Y36(Yt,10),d.Y36(d.sBO,8),d.Y36(ui,8))},te.\u0275dir=d.lG2({type:te,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([uo]),d.qOj,d.TTD]}),Z})(),Po=(()=>{var te;class Z{}return(te=Z).\u0275fac=function(ee){return new(ee||te)},te.\u0275dir=d.lG2({type:te,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Z})(),Pr=(()=>{var te;class Z{}return(te=Z).\u0275fac=function(ee){return new(ee||te)},te.\u0275mod=d.oAB({type:te}),te.\u0275inj=d.cJS({}),Z})();const bi=new d.OlP("NgModelWithFormControlWarning"),pn={provide:At,useExisting:(0,d.Gpc)(()=>Fr)};let Fr=(()=>{var te;class Z extends At{constructor(ee,Me,un){super(),this.callSetDisabledState=un,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(ee),this._setAsyncValidators(Me)}ngOnChanges(ee){this._checkFormPresent(),ee.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ee){const Me=this.form.get(ee.path);return ks(Me,ee,this.callSetDisabledState),Me.updateValueAndValidity({emitEvent:!1}),this.directives.push(ee),Me}getControl(ee){return this.form.get(ee.path)}removeControl(ee){li(ee.control||null,ee,!1),function xi(te,Z){const be=te.indexOf(Z);be>-1&&te.splice(be,1)}(this.directives,ee)}addFormGroup(ee){this._setUpFormContainer(ee)}removeFormGroup(ee){this._cleanUpFormContainer(ee)}getFormGroup(ee){return this.form.get(ee.path)}addFormArray(ee){this._setUpFormContainer(ee)}removeFormArray(ee){this._cleanUpFormContainer(ee)}getFormArray(ee){return this.form.get(ee.path)}updateModel(ee,Me){this.form.get(ee.path).setValue(Me)}onSubmit(ee){return this.submitted=!0,function jr(te,Z){te._syncPendingControls(),Z.forEach(be=>{const ee=be.control;"submit"===ee.updateOn&&ee._pendingChange&&(be.viewToModelUpdate(ee._pendingValue),ee._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(ee),"dialog"===ee?.target?.method}onReset(){this.resetForm()}resetForm(ee=void 0){this.form.reset(ee),this.submitted=!1}_updateDomValue(){this.directives.forEach(ee=>{const Me=ee.control,un=this.form.get(ee.path);Me!==un&&(li(Me||null,ee),(te=>te instanceof Hn)(un)&&(ks(un,ee,this.callSetDisabledState),ee.control=un))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ee){const Me=this.form.get(ee.path);(function Fs(te,Z){ri(te,Z)})(Me,ee),Me.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ee){if(this.form){const Me=this.form.get(ee.path);Me&&function ao(te,Z){return Wi(te,Z)}(Me,ee)&&Me.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ri(this.form,this),this._oldForm&&Wi(this._oldForm,this)}_checkFormPresent(){}}return(te=Z).\u0275fac=function(ee){return new(ee||te)(d.Y36(gt,10),d.Y36(Mt,10),d.Y36(ui,8))},te.\u0275dir=d.lG2({type:te,selectors:[["","formGroup",""]],hostBindings:function(ee,Me){1&ee&&d.NdJ("submit",function(ar){return Me.onSubmit(ar)})("reset",function(){return Me.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([pn]),d.qOj,d.TTD]}),Z})();const qi={provide:Qt,useExisting:(0,d.Gpc)(()=>Os)};let Os=(()=>{var te;class Z extends Qt{set isDisabled(ee){}constructor(ee,Me,un,ar,Cs){super(),this._ngModelWarningConfig=Cs,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=ee,this._setValidators(Me),this._setAsyncValidators(un),this.valueAccessor=ss(0,ar)}ngOnChanges(ee){this._added||this._setUpControl(),Br(ee,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ee){this.viewModel=ee,this.update.emit(ee)}get path(){return $s(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(te=Z)._ngModelWarningSentOnce=!1,te.\u0275fac=function(ee){return new(ee||te)(d.Y36(At,13),d.Y36(gt,10),d.Y36(Mt,10),d.Y36(Yt,10),d.Y36(bi,8))},te.\u0275dir=d.lG2({type:te,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([qi]),d.qOj,d.TTD]}),Z})(),xa=(()=>{var te;class Z{}return(te=Z).\u0275fac=function(ee){return new(ee||te)},te.\u0275mod=d.oAB({type:te}),te.\u0275inj=d.cJS({imports:[Pr]}),Z})(),To=(()=>{var te;class Z{static withConfig(ee){return{ngModule:Z,providers:[{provide:ui,useValue:ee.callSetDisabledState??Ns}]}}}return(te=Z).\u0275fac=function(ee){return new(ee||te)},te.\u0275mod=d.oAB({type:te}),te.\u0275inj=d.cJS({imports:[xa]}),Z})(),mo=(()=>{var te;class Z{static withConfig(ee){return{ngModule:Z,providers:[{provide:bi,useValue:ee.warnOnNgModelWithFormControl??"always"},{provide:ui,useValue:ee.callSetDisabledState??Ns}]}}}return(te=Z).\u0275fac=function(ee){return new(ee||te)},te.\u0275mod=d.oAB({type:te}),te.\u0275inj=d.cJS({imports:[xa]}),Z})()},2614:()=>{const Rn=":";const Mr=function(Ue,...Ze){if(Mr.translate){const Nt=Mr.translate(Ue,Ze);Ue=Nt[0],Ze=Nt[1]}let St=Nr(Ue[0],Ue.raw[0]);for(let Nt=1;Nt<Ue.length;Nt++)St+=Ze[Nt-1]+Nr(Ue[Nt],Ue.raw[Nt]);return St},Mn=":";function Nr(Ue,Ze){return Ze.charAt(0)===Mn?Ue.substring(function nt(Ue,Ze){for(let St=1,Nt=1;St<Ue.length;St++,Nt++)if("\\"===Ze[Nt])Nt++;else if(Ue[St]===Rn)return St;throw new Error(`Unterminated $localize metadata block in "${Ze}".`)}(Ue,Ze)+1):Ue}globalThis.$localize=Mr},6593:(Rn,yt,Y)=>{Y.d(yt,{Dx:()=>Qt,H7:()=>Is,b2:()=>Ue,q6:()=>Bn,se:()=>Oe});var d=Y(5879),ge=Y(6814);class we extends ge.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends we{static makeCurrent(){(0,ge.HT)(new ne)}onAndCancel(fe,Le,ve){return fe.addEventListener(Le,ve),()=>{fe.removeEventListener(Le,ve)}}dispatchEvent(fe,Le){fe.dispatchEvent(Le)}remove(fe){fe.parentNode&&fe.parentNode.removeChild(fe)}createElement(fe,Le){return(Le=Le||this.getDefaultDocument()).createElement(fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(fe){return fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(fe){return fe instanceof DocumentFragment}getGlobalEventTarget(fe,Le){return"window"===Le?window:"document"===Le?fe:"body"===Le?fe.body:null}getBaseHref(fe){const Le=function He(){return Ne=Ne||document.querySelector("base"),Ne?Ne.getAttribute("href"):null}();return null==Le?null:function ct(me){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",me);const fe=Ae.pathname;return"/"===fe.charAt(0)?fe:`/${fe}`}(Le)}resetBaseElement(){Ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(fe){return(0,ge.Mx)(document.cookie,fe)}}let Ae,Ne=null,Te=(()=>{var me;class fe{build(){return new XMLHttpRequest}}return(me=fe).\u0275fac=function(ve){return new(ve||me)},me.\u0275prov=d.Yz7({token:me,factory:me.\u0275fac}),fe})();const xe=new d.OlP("EventManagerPlugins");let Qe=(()=>{var me;class fe{constructor(ve,ze){this._zone=ze,this._eventNameToPlugin=new Map,ve.forEach(Lt=>{Lt.manager=this}),this._plugins=ve.slice().reverse()}addEventListener(ve,ze,Lt){return this._findPluginFor(ze).addEventListener(ve,ze,Lt)}getZone(){return this._zone}_findPluginFor(ve){let ze=this._eventNameToPlugin.get(ve);if(ze)return ze;if(ze=this._plugins.find(tn=>tn.supports(ve)),!ze)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(ve,ze),ze}}return(me=fe).\u0275fac=function(ve){return new(ve||me)(d.LFG(xe),d.LFG(d.R0b))},me.\u0275prov=d.Yz7({token:me,factory:me.\u0275fac}),fe})();class mt{constructor(fe){this._doc=fe}}const Ge="ng-app-id";let Yt=(()=>{var me;class fe{constructor(ve,ze,Lt,tn={}){this.doc=ve,this.appId=ze,this.nonce=Lt,this.platformId=tn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,ge.PM)(tn),this.resetHostNodes()}addStyles(ve){for(const ze of ve)1===this.changeUsageCount(ze,1)&&this.onStyleAdded(ze)}removeStyles(ve){for(const ze of ve)this.changeUsageCount(ze,-1)<=0&&this.onStyleRemoved(ze)}ngOnDestroy(){const ve=this.styleNodesInDOM;ve&&(ve.forEach(ze=>ze.remove()),ve.clear());for(const ze of this.getAllStyles())this.onStyleRemoved(ze);this.resetHostNodes()}addHost(ve){this.hostNodes.add(ve);for(const ze of this.getAllStyles())this.addStyleToHost(ve,ze)}removeHost(ve){this.hostNodes.delete(ve)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ve){for(const ze of this.hostNodes)this.addStyleToHost(ze,ve)}onStyleRemoved(ve){const ze=this.styleRef;ze.get(ve)?.elements?.forEach(Lt=>Lt.remove()),ze.delete(ve)}collectServerRenderedStyles(){const ve=this.doc.head?.querySelectorAll(`style[${Ge}="${this.appId}"]`);if(ve?.length){const ze=new Map;return ve.forEach(Lt=>{null!=Lt.textContent&&ze.set(Lt.textContent,Lt)}),ze}return null}changeUsageCount(ve,ze){const Lt=this.styleRef;if(Lt.has(ve)){const tn=Lt.get(ve);return tn.usage+=ze,tn.usage}return Lt.set(ve,{usage:ze,elements:[]}),ze}getStyleElement(ve,ze){const Lt=this.styleNodesInDOM,tn=Lt?.get(ze);if(tn?.parentNode===ve)return Lt.delete(ze),tn.removeAttribute(Ge),tn;{const qn=this.doc.createElement("style");return this.nonce&&qn.setAttribute("nonce",this.nonce),qn.textContent=ze,this.platformIsServer&&qn.setAttribute(Ge,this.appId),qn}}addStyleToHost(ve,ze){const Lt=this.getStyleElement(ve,ze);ve.appendChild(Lt);const tn=this.styleRef,qn=tn.get(ze)?.elements;qn?qn.push(Lt):tn.set(ze,{elements:[Lt],usage:1})}resetHostNodes(){const ve=this.hostNodes;ve.clear(),ve.add(this.doc.head)}}return(me=fe).\u0275fac=function(ve){return new(ve||me)(d.LFG(ge.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},me.\u0275prov=d.Yz7({token:me,factory:me.\u0275fac}),fe})();const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},an=/%COMP%/g,It=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Mt(me,fe){return fe.map(Le=>Le.replace(an,me))}let Oe=(()=>{var me;class fe{constructor(ve,ze,Lt,tn,qn,Sn,ni,dr=null){this.eventManager=ve,this.sharedStylesHost=ze,this.appId=Lt,this.removeStylesOnCompDestroy=tn,this.doc=qn,this.platformId=Sn,this.ngZone=ni,this.nonce=dr,this.rendererByCompId=new Map,this.platformIsServer=(0,ge.PM)(Sn),this.defaultRenderer=new Ht(ve,qn,ni,this.platformIsServer)}createRenderer(ve,ze){if(!ve||!ze)return this.defaultRenderer;this.platformIsServer&&ze.encapsulation===d.ifc.ShadowDom&&(ze={...ze,encapsulation:d.ifc.Emulated});const Lt=this.getOrCreateRenderer(ve,ze);return Lt instanceof yr?Lt.applyToHost(ve):Lt instanceof Yn&&Lt.applyStyles(),Lt}getOrCreateRenderer(ve,ze){const Lt=this.rendererByCompId;let tn=Lt.get(ze.id);if(!tn){const qn=this.doc,Sn=this.ngZone,ni=this.eventManager,dr=this.sharedStylesHost,Ei=this.removeStylesOnCompDestroy,ui=this.platformIsServer;switch(ze.encapsulation){case d.ifc.Emulated:tn=new yr(ni,dr,ze,this.appId,Ei,qn,Sn,ui);break;case d.ifc.ShadowDom:return new mn(ni,dr,ve,ze,qn,Sn,this.nonce,ui);default:tn=new Yn(ni,dr,ze,Ei,qn,Sn,ui)}Lt.set(ze.id,tn)}return tn}ngOnDestroy(){this.rendererByCompId.clear()}}return(me=fe).\u0275fac=function(ve){return new(ve||me)(d.LFG(Qe),d.LFG(Yt),d.LFG(d.AFp),d.LFG(It),d.LFG(ge.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},me.\u0275prov=d.Yz7({token:me,factory:me.\u0275fac}),fe})();class Ht{constructor(fe,Le,ve,ze){this.eventManager=fe,this.doc=Le,this.ngZone=ve,this.platformIsServer=ze,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(fe,Le){return Le?this.doc.createElementNS(ut[Le]||Le,fe):this.doc.createElement(fe)}createComment(fe){return this.doc.createComment(fe)}createText(fe){return this.doc.createTextNode(fe)}appendChild(fe,Le){(jn(fe)?fe.content:fe).appendChild(Le)}insertBefore(fe,Le,ve){fe&&(jn(fe)?fe.content:fe).insertBefore(Le,ve)}removeChild(fe,Le){fe&&fe.removeChild(Le)}selectRootElement(fe,Le){let ve="string"==typeof fe?this.doc.querySelector(fe):fe;if(!ve)throw new d.vHH(-5104,!1);return Le||(ve.textContent=""),ve}parentNode(fe){return fe.parentNode}nextSibling(fe){return fe.nextSibling}setAttribute(fe,Le,ve,ze){if(ze){Le=ze+":"+Le;const Lt=ut[ze];Lt?fe.setAttributeNS(Lt,Le,ve):fe.setAttribute(Le,ve)}else fe.setAttribute(Le,ve)}removeAttribute(fe,Le,ve){if(ve){const ze=ut[ve];ze?fe.removeAttributeNS(ze,Le):fe.removeAttribute(`${ve}:${Le}`)}else fe.removeAttribute(Le)}addClass(fe,Le){fe.classList.add(Le)}removeClass(fe,Le){fe.classList.remove(Le)}setStyle(fe,Le,ve,ze){ze&(d.JOm.DashCase|d.JOm.Important)?fe.style.setProperty(Le,ve,ze&d.JOm.Important?"important":""):fe.style[Le]=ve}removeStyle(fe,Le,ve){ve&d.JOm.DashCase?fe.style.removeProperty(Le):fe.style[Le]=""}setProperty(fe,Le,ve){fe[Le]=ve}setValue(fe,Le){fe.nodeValue=Le}listen(fe,Le,ve){if("string"==typeof fe&&!(fe=(0,ge.q)().getGlobalEventTarget(this.doc,fe)))throw new Error(`Unsupported event target ${fe} for event ${Le}`);return this.eventManager.addEventListener(fe,Le,this.decoratePreventDefault(ve))}decoratePreventDefault(fe){return Le=>{if("__ngUnwrap__"===Le)return fe;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>fe(Le)):fe(Le))&&Le.preventDefault()}}}function jn(me){return"TEMPLATE"===me.tagName&&void 0!==me.content}class mn extends Ht{constructor(fe,Le,ve,ze,Lt,tn,qn,Sn){super(fe,Lt,tn,Sn),this.sharedStylesHost=Le,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ni=Mt(ze.id,ze.styles);for(const dr of ni){const Ei=document.createElement("style");qn&&Ei.setAttribute("nonce",qn),Ei.textContent=dr,this.shadowRoot.appendChild(Ei)}}nodeOrShadowRoot(fe){return fe===this.hostEl?this.shadowRoot:fe}appendChild(fe,Le){return super.appendChild(this.nodeOrShadowRoot(fe),Le)}insertBefore(fe,Le,ve){return super.insertBefore(this.nodeOrShadowRoot(fe),Le,ve)}removeChild(fe,Le){return super.removeChild(this.nodeOrShadowRoot(fe),Le)}parentNode(fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(fe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Yn extends Ht{constructor(fe,Le,ve,ze,Lt,tn,qn,Sn){super(fe,Lt,tn,qn),this.sharedStylesHost=Le,this.removeStylesOnCompDestroy=ze,this.styles=Sn?Mt(Sn,ve.styles):ve.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yr extends Yn{constructor(fe,Le,ve,ze,Lt,tn,qn,Sn){const ni=ze+"-"+ve.id;super(fe,Le,ve,Lt,tn,qn,Sn,ni),this.contentAttr=function pt(me){return"_ngcontent-%COMP%".replace(an,me)}(ni),this.hostAttr=function gt(me){return"_nghost-%COMP%".replace(an,me)}(ni)}applyToHost(fe){this.applyStyles(),this.setAttribute(fe,this.hostAttr,"")}createElement(fe,Le){const ve=super.createElement(fe,Le);return super.setAttribute(ve,this.contentAttr,""),ve}}let Ln=(()=>{var me;class fe extends mt{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,ze,Lt){return ve.addEventListener(ze,Lt,!1),()=>this.removeEventListener(ve,ze,Lt)}removeEventListener(ve,ze,Lt){return ve.removeEventListener(ze,Lt)}}return(me=fe).\u0275fac=function(ve){return new(ve||me)(d.LFG(ge.K0))},me.\u0275prov=d.Yz7({token:me,factory:me.\u0275fac}),fe})();const kn=["alt","control","meta","shift"],Ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nt={alt:me=>me.altKey,control:me=>me.ctrlKey,meta:me=>me.metaKey,shift:me=>me.shiftKey};let Et=(()=>{var me;class fe extends mt{constructor(ve){super(ve)}supports(ve){return null!=fe.parseEventName(ve)}addEventListener(ve,ze,Lt){const tn=fe.parseEventName(ze),qn=fe.eventCallback(tn.fullKey,Lt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,ge.q)().onAndCancel(ve,tn.domEventName,qn))}static parseEventName(ve){const ze=ve.toLowerCase().split("."),Lt=ze.shift();if(0===ze.length||"keydown"!==Lt&&"keyup"!==Lt)return null;const tn=fe._normalizeKey(ze.pop());let qn="",Sn=ze.indexOf("code");if(Sn>-1&&(ze.splice(Sn,1),qn="code."),kn.forEach(dr=>{const Ei=ze.indexOf(dr);Ei>-1&&(ze.splice(Ei,1),qn+=dr+".")}),qn+=tn,0!=ze.length||0===tn.length)return null;const ni={};return ni.domEventName=Lt,ni.fullKey=qn,ni}static matchEventFullKeyCode(ve,ze){let Lt=Ye[ve.key]||ve.key,tn="";return ze.indexOf("code.")>-1&&(Lt=ve.code,tn="code."),!(null==Lt||!Lt)&&(Lt=Lt.toLowerCase()," "===Lt?Lt="space":"."===Lt&&(Lt="dot"),kn.forEach(qn=>{qn!==Lt&&(0,nt[qn])(ve)&&(tn+=qn+".")}),tn+=Lt,tn===ze)}static eventCallback(ve,ze,Lt){return tn=>{fe.matchEventFullKeyCode(tn,ve)&&Lt.runGuarded(()=>ze(tn))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return(me=fe).\u0275fac=function(ve){return new(ve||me)(d.LFG(ge.K0))},me.\u0275prov=d.Yz7({token:me,factory:me.\u0275fac}),fe})();const Bn=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:ge.bD},{provide:d.g9A,useValue:function ln(){ne.makeCurrent()},multi:!0},{provide:ge.K0,useFactory:function ir(){return(0,d.RDi)(document),document},deps:[]}]),Mr=new d.OlP(""),Mn=[{provide:d.rWj,useClass:class it{addToWindow(fe){d.dqk.getAngularTestability=(ve,ze=!0)=>{const Lt=fe.findTestabilityInTree(ve,ze);if(null==Lt)throw new d.vHH(5103,!1);return Lt},d.dqk.getAllAngularTestabilities=()=>fe.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>fe.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(ve=>{const ze=d.dqk.getAllAngularTestabilities();let Lt=ze.length,tn=!1;const qn=function(Sn){tn=tn||Sn,Lt--,0==Lt&&ve(tn)};ze.forEach(Sn=>{Sn.whenStable(qn)})})}findTestabilityInTree(fe,Le,ve){return null==Le?null:fe.getTestability(Le)??(ve?(0,ge.q)().isShadowRoot(Le)?this.findTestabilityInTree(fe,Le.host,!0):this.findTestabilityInTree(fe,Le.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Nr=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Hr(){return new d.qLn},deps:[]},{provide:xe,useClass:Ln,multi:!0,deps:[ge.K0,d.R0b,d.Lbi]},{provide:xe,useClass:Et,multi:!0,deps:[ge.K0]},Oe,Yt,Qe,{provide:d.FYo,useExisting:Oe},{provide:ge.JF,useClass:Te,deps:[]},[]];let Ue=(()=>{var me;class fe{constructor(ve){}static withServerTransition(ve){return{ngModule:fe,providers:[{provide:d.AFp,useValue:ve.appId}]}}}return(me=fe).\u0275fac=function(ve){return new(ve||me)(d.LFG(Mr,12))},me.\u0275mod=d.oAB({type:me}),me.\u0275inj=d.cJS({providers:[...Nr,...Mn],imports:[ge.ez,d.hGG]}),fe})(),Qt=(()=>{var me;class fe{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return(me=fe).\u0275fac=function(ve){return new(ve||me)(d.LFG(ge.K0))},me.\u0275prov=d.Yz7({token:me,factory:function(ve){let ze=null;return ze=ve?new ve:function At(){return new Qt((0,d.LFG)(ge.K0))}(),ze},providedIn:"root"}),fe})();typeof window<"u"&&window;let Is=(()=>{var me;class fe{}return(me=fe).\u0275fac=function(ve){return new(ve||me)},me.\u0275prov=d.Yz7({token:me,factory:function(ve){let ze=null;return ze=ve?new(ve||me):d.LFG(vs),ze},providedIn:"root"}),fe})(),vs=(()=>{var me;class fe extends Is{constructor(ve){super(),this._doc=ve}sanitize(ve,ze){if(null==ze)return null;switch(ve){case d.q3G.NONE:return ze;case d.q3G.HTML:return(0,d.qzn)(ze,"HTML")?(0,d.z3N)(ze):(0,d.EiD)(this._doc,String(ze)).toString();case d.q3G.STYLE:return(0,d.qzn)(ze,"Style")?(0,d.z3N)(ze):ze;case d.q3G.SCRIPT:if((0,d.qzn)(ze,"Script"))return(0,d.z3N)(ze);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(ze,"URL")?(0,d.z3N)(ze):(0,d.mCW)(String(ze));case d.q3G.RESOURCE_URL:if((0,d.qzn)(ze,"ResourceURL"))return(0,d.z3N)(ze);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(ve){return(0,d.JVY)(ve)}bypassSecurityTrustStyle(ve){return(0,d.L6k)(ve)}bypassSecurityTrustScript(ve){return(0,d.eBb)(ve)}bypassSecurityTrustUrl(ve){return(0,d.LAX)(ve)}bypassSecurityTrustResourceUrl(ve){return(0,d.pB0)(ve)}}return(me=fe).\u0275fac=function(ve){return new(ve||me)(d.LFG(ge.K0))},me.\u0275prov=d.Yz7({token:me,factory:function(ve){let ze=null;return ze=ve?new ve:function _i(me){return new vs(me.get(ge.K0))}(d.LFG(d.zs3)),ze},providedIn:"root"}),fe})()},1826:(Rn,yt,Y)=>{Y.d(yt,{F0:()=>gs,rH:()=>dn,Bz:()=>nl,lC:()=>No});var d=Y(5879),ge=Y(5592),we=Y(4674),Ne=Y(2459),He=Y(2096),Ae=Y(5619),ct=Y(7453),it=Y(2737),Te=Y(7400),xe=Y(9940),Qe=Y(2714),mt=Y(8251),Ge=Y(7103);function Yt(...w){const R=(0,xe.yG)(w),P=(0,xe.jO)(w),{args:M,keys:z}=(0,ct.D)(w);if(0===M.length)return(0,Ne.D)([],R);const ce=new ge.y(function ut(w,R,P=it.y){return M=>{an(R,()=>{const{length:z}=w,ce=new Array(z);let pe=z,Je=z;for(let kt=0;kt<z;kt++)an(R,()=>{const dt=(0,Ne.D)(w[kt],R);let fn=!1;dt.subscribe((0,mt.x)(M,Qn=>{ce[kt]=Qn,fn||(fn=!0,Je--),Je||M.next(P(ce.slice()))},()=>{--pe||M.complete()}))},M)},M)}}(M,R,z?pe=>(0,Qe.n)(z,pe):it.y));return P?ce.pipe((0,Te.Z)(P)):ce}function an(w,R,P){w?(0,Ge.f)(P,w,R):R()}var qt=Y(6973),Nn=Y(5211),wn=Y(4829);function st(w){return new ge.y(R=>{(0,wn.Xf)(w()).subscribe(R)})}var It=Y(8407);function pt(w,R){const P=(0,we.m)(w)?w:()=>w,M=z=>z.error(P());return new ge.y(R?z=>R.schedule(M,0,z):M)}var gt=Y(6232),Mt=Y(7394),Oe=Y(9360);function Ht(){return(0,Oe.e)((w,R)=>{let P=null;w._refCount++;const M=(0,mt.x)(R,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(P=null);const z=w._connection,ce=P;P=null,z&&(!ce||z===ce)&&z.unsubscribe(),R.unsubscribe()});w.subscribe(M),M.closed||(P=w.connect())})}class on extends ge.y{constructor(R,P){super(),this.source=R,this.subjectFactory=P,this._subject=null,this._refCount=0,this._connection=null,(0,Oe.A)(R)&&(this.lift=R.lift)}_subscribe(R){return this.getSubject().subscribe(R)}getSubject(){const R=this._subject;return(!R||R.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:R}=this;this._subject=this._connection=null,R?.unsubscribe()}connect(){let R=this._connection;if(!R){R=this._connection=new Mt.w0;const P=this.getSubject();R.add(this.source.subscribe((0,mt.x)(P,void 0,()=>{this._teardown(),P.complete()},M=>{this._teardown(),P.error(M)},()=>this._teardown()))),R.closed&&(this._connection=null,R=Mt.w0.EMPTY)}return R}refCount(){return Ht()(this)}}var Wn=Y(8645),jn=Y(6814),mn=Y(7398),Yn=Y(4664),yr=Y(8180),Ln=Y(7921),kn=Y(2181),Ye=Y(1631),nt=Y(1374);function Et(w,R){return(0,we.m)(R)?(0,Ye.z)(w,R,1):(0,Ye.z)(w,1)}var ot=Y(9397);function Ct(w){return(0,Oe.e)((R,P)=>{let ce,M=null,z=!1;M=R.subscribe((0,mt.x)(P,void 0,void 0,pe=>{ce=(0,wn.Xf)(w(pe,Ct(w)(R))),M?(M.unsubscribe(),M=null,ce.subscribe(P)):z=!0})),z&&(M.unsubscribe(),M=null,ce.subscribe(P))})}var en=Y(6699),rn=Y(3572);function ln(w){return w<=0?()=>gt.E:(0,Oe.e)((R,P)=>{let M=[];R.subscribe((0,mt.x)(P,z=>{M.push(z),w<M.length&&M.shift()},()=>{for(const z of M)P.next(z);P.complete()},void 0,()=>{M=null}))})}var Hr=Y(3026),hr=Y(975);function Bn(w){return(0,Oe.e)((R,P)=>{try{R.subscribe(P)}finally{P.add(w)}})}var Mr=Y(9773),Mn=Y(7537),Nr=Y(6593);const Ue="primary",Ze=Symbol("RouteTitle");class St{constructor(R){this.params=R||{}}has(R){return Object.prototype.hasOwnProperty.call(this.params,R)}get(R){if(this.has(R)){const P=this.params[R];return Array.isArray(P)?P[0]:P}return null}getAll(R){if(this.has(R)){const P=this.params[R];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function Nt(w){return new St(w)}function At(w,R,P){const M=P.path.split("/");if(M.length>w.length||"full"===P.pathMatch&&(R.hasChildren()||M.length<w.length))return null;const z={};for(let ce=0;ce<M.length;ce++){const pe=M[ce],Je=w[ce];if(pe.startsWith(":"))z[pe.substring(1)]=Je;else if(pe!==Je.path)return null}return{consumed:w.slice(0,M.length),posParams:z}}function pr(w,R){const P=w?Object.keys(w):void 0,M=R?Object.keys(R):void 0;if(!P||!M||P.length!=M.length)return!1;let z;for(let ce=0;ce<P.length;ce++)if(z=P[ce],!Xn(w[z],R[z]))return!1;return!0}function Xn(w,R){if(Array.isArray(w)&&Array.isArray(R)){if(w.length!==R.length)return!1;const P=[...w].sort(),M=[...R].sort();return P.every((z,ce)=>M[ce]===z)}return w===R}function cn(w){return w.length>0?w[w.length-1]:null}function bn(w){return function ne(w){return!!w&&(w instanceof ge.y||(0,we.m)(w.lift)&&(0,we.m)(w.subscribe))}(w)?w:(0,d.QGY)(w)?(0,Ne.D)(Promise.resolve(w)):(0,He.of)(w)}const er={exact:function Ir(w,R,P){if(!_i(w.segments,R.segments)||!Xi(w.segments,R.segments,P)||w.numberOfChildren!==R.numberOfChildren)return!1;for(const M in R.children)if(!w.children[M]||!Ir(w.children[M],R.children[M],P))return!1;return!0},subset:qr},cr={exact:function Si(w,R){return pr(w,R)},subset:function ti(w,R){return Object.keys(R).length<=Object.keys(w).length&&Object.keys(R).every(P=>Xn(w[P],R[P]))},ignored:()=>!0};function ii(w,R,P){return er[P.paths](w.root,R.root,P.matrixParams)&&cr[P.queryParams](w.queryParams,R.queryParams)&&!("exact"===P.fragment&&w.fragment!==R.fragment)}function qr(w,R,P){return Vr(w,R,R.segments,P)}function Vr(w,R,P,M){if(w.segments.length>P.length){const z=w.segments.slice(0,P.length);return!(!_i(z,P)||R.hasChildren()||!Xi(z,P,M))}if(w.segments.length===P.length){if(!_i(w.segments,P)||!Xi(w.segments,P,M))return!1;for(const z in R.children)if(!w.children[z]||!qr(w.children[z],R.children[z],M))return!1;return!0}{const z=P.slice(0,w.segments.length),ce=P.slice(w.segments.length);return!!(_i(w.segments,z)&&Xi(w.segments,z,M)&&w.children[Ue])&&Vr(w.children[Ue],R,ce,M)}}function Xi(w,R,P){return R.every((M,z)=>cr[P](w[z].parameters,M.parameters))}class Dr{constructor(R=new ur([],{}),P={},M=null){this.root=R,this.queryParams=P,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return Vt.serialize(this)}}class ur{constructor(R,P){this.segments=R,this.children=P,this.parent=null,Object.values(P).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wt(this)}}class bs{constructor(R,P){this.path=R,this.parameters=P}get parameterMap(){return this._parameterMap||(this._parameterMap=Nt(this.parameters)),this._parameterMap}toString(){return ve(this)}}function _i(w,R){return w.length===R.length&&w.every((P,M)=>P.path===R[M].path)}let Tt=(()=>{var w;class R{}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return new $e},providedIn:"root"}),R})();class $e{parse(R){const P=new $s(R);return new Dr(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(R){const P=`/${sn(R.root,!0)}`,M=function Lt(w){const R=Object.keys(w).map(P=>{const M=w[P];return Array.isArray(M)?M.map(z=>`${tr(P)}=${tr(z)}`).join("&"):`${tr(P)}=${tr(M)}`}).filter(P=>!!P);return R.length?`?${R.join("&")}`:""}(R.queryParams);return`${P}${M}${"string"==typeof R.fragment?`#${function Ve(w){return encodeURI(w)}(R.fragment)}`:""}`}}const Vt=new $e;function wt(w){return w.segments.map(R=>ve(R)).join("/")}function sn(w,R){if(!w.hasChildren())return wt(w);if(R){const P=w.children[Ue]?sn(w.children[Ue],!1):"",M=[];return Object.entries(w.children).forEach(([z,ce])=>{z!==Ue&&M.push(`${z}:${sn(ce,!1)}`)}),M.length>0?`${P}(${M.join("//")})`:P}{const P=function vs(w,R){let P=[];return Object.entries(w.children).forEach(([M,z])=>{M===Ue&&(P=P.concat(R(z,M)))}),Object.entries(w.children).forEach(([M,z])=>{M!==Ue&&(P=P.concat(R(z,M)))}),P}(w,(M,z)=>z===Ue?[sn(w.children[Ue],!1)]:[`${z}:${sn(M,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Ue]?`${wt(w)}/${P[0]}`:`${wt(w)}/(${P.join("//")})`}}function gn(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tr(w){return gn(w).replace(/%3B/gi,";")}function me(w){return gn(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fe(w){return decodeURIComponent(w)}function Le(w){return fe(w.replace(/\+/g,"%20"))}function ve(w){return`${me(w.path)}${function ze(w){return Object.keys(w).map(R=>`;${me(R)}=${me(w[R])}`).join("")}(w.parameters)}`}const tn=/^[^\/()?;#]+/;function qn(w){const R=w.match(tn);return R?R[0]:""}const Sn=/^[^\/()?;=#]+/,dr=/^[^=?&#]+/,ui=/^[^&#]+/;class $s{constructor(R){this.url=R,this.remaining=R}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ur([],{}):new ur([],this.parseChildren())}parseQueryParams(){const R={};if(this.consumeOptional("?"))do{this.parseQueryParam(R)}while(this.consumeOptional("&"));return R}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const R=[];for(this.peekStartsWith("(")||R.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),R.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(R.length>0||Object.keys(P).length>0)&&(M[Ue]=new ur(R,P)),M}parseSegment(){const R=qn(this.remaining);if(""===R&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(R),new bs(fe(R),this.parseMatrixParams())}parseMatrixParams(){const R={};for(;this.consumeOptional(";");)this.parseParam(R);return R}parseParam(R){const P=function ni(w){const R=w.match(Sn);return R?R[0]:""}(this.remaining);if(!P)return;this.capture(P);let M="";if(this.consumeOptional("=")){const z=qn(this.remaining);z&&(M=z,this.capture(M))}R[fe(P)]=fe(M)}parseQueryParam(R){const P=function Ei(w){const R=w.match(dr);return R?R[0]:""}(this.remaining);if(!P)return;this.capture(P);let M="";if(this.consumeOptional("=")){const pe=function Ns(w){const R=w.match(ui);return R?R[0]:""}(this.remaining);pe&&(M=pe,this.capture(M))}const z=Le(P),ce=Le(M);if(R.hasOwnProperty(z)){let pe=R[z];Array.isArray(pe)||(pe=[pe],R[z]=pe),pe.push(ce)}else R[z]=ce}parseParens(R){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=qn(this.remaining),z=this.remaining[M.length];if("/"!==z&&")"!==z&&";"!==z)throw new d.vHH(4010,!1);let ce;M.indexOf(":")>-1?(ce=M.slice(0,M.indexOf(":")),this.capture(ce),this.capture(":")):R&&(ce=Ue);const pe=this.parseChildren();P[ce]=1===Object.keys(pe).length?pe[Ue]:new ur([],pe),this.consumeOptional("//")}return P}peekStartsWith(R){return this.remaining.startsWith(R)}consumeOptional(R){return!!this.peekStartsWith(R)&&(this.remaining=this.remaining.substring(R.length),!0)}capture(R){if(!this.consumeOptional(R))throw new d.vHH(4011,!1)}}function ks(w){return w.segments.length>0?new ur([],{[Ue]:w}):w}function li(w){const R={};for(const M of Object.keys(w.children)){const ce=li(w.children[M]);if(M===Ue&&0===ce.segments.length&&ce.hasChildren())for(const[pe,Je]of Object.entries(ce.children))R[pe]=Je;else(ce.segments.length>0||ce.hasChildren())&&(R[M]=ce)}return function wi(w){if(1===w.numberOfChildren&&w.children[Ue]){const R=w.children[Ue];return new ur(w.segments.concat(R.segments),R.children)}return w}(new ur(w.segments,R))}function zi(w){return w instanceof Dr}function Wi(w){let R;const z=ks(function P(ce){const pe={};for(const kt of ce.children){const dt=P(kt);pe[kt.outlet]=dt}const Je=new ur(ce.url,pe);return ce===w&&(R=Je),Je}(w.root));return R??z}function Js(w,R,P,M){let z=w;for(;z.parent;)z=z.parent;if(0===R.length)return Pi(z,z,z,P,M);const ce=function Ts(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new ao(!0,0,w);let R=0,P=!1;const M=w.reduce((z,ce,pe)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const Je={};return Object.entries(ce.outlets).forEach(([kt,dt])=>{Je[kt]="string"==typeof dt?dt.split("/"):dt}),[...z,{outlets:Je}]}if(ce.segmentPath)return[...z,ce.segmentPath]}return"string"!=typeof ce?[...z,ce]:0===pe?(ce.split("/").forEach((Je,kt)=>{0==kt&&"."===Je||(0==kt&&""===Je?P=!0:".."===Je?R++:""!=Je&&z.push(Je))}),z):[...z,ce]},[]);return new ao(P,R,M)}(R);if(ce.toRoot())return Pi(z,z,new ur([],{}),P,M);const pe=function fs(w,R,P){if(w.isAbsolute)return new Io(R,!0,0);if(!P)return new Io(R,!1,NaN);if(null===P.parent)return new Io(P,!0,0);const M=Xs(w.commands[0])?0:1;return function Go(w,R,P){let M=w,z=R,ce=P;for(;ce>z;){if(ce-=z,M=M.parent,!M)throw new d.vHH(4005,!1);z=M.segments.length}return new Io(M,!1,z-ce)}(P,P.segments.length-1+M,w.numberOfDoubleDots)}(ce,z,w),Je=pe.processChildren?Un(pe.segmentGroup,pe.index,ce.commands):Br(pe.segmentGroup,pe.index,ce.commands);return Pi(z,pe.segmentGroup,Je,P,M)}function Xs(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function $o(w){return"object"==typeof w&&null!=w&&w.outlets}function Pi(w,R,P,M,z){let pe,ce={};M&&Object.entries(M).forEach(([kt,dt])=>{ce[kt]=Array.isArray(dt)?dt.map(fn=>`${fn}`):`${dt}`}),pe=w===R?P:Fs(w,R,P);const Je=ks(li(pe));return new Dr(Je,ce,z)}function Fs(w,R,P){const M={};return Object.entries(w.children).forEach(([z,ce])=>{M[z]=ce===R?P:Fs(ce,R,P)}),new ur(w.segments,M)}class ao{constructor(R,P,M){if(this.isAbsolute=R,this.numberOfDoubleDots=P,this.commands=M,R&&M.length>0&&Xs(M[0]))throw new d.vHH(4003,!1);const z=M.find($o);if(z&&z!==cn(M))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Io{constructor(R,P,M){this.segmentGroup=R,this.processChildren=P,this.index=M}}function Br(w,R,P){if(w||(w=new ur([],{})),0===w.segments.length&&w.hasChildren())return Un(w,R,P);const M=function jr(w,R,P){let M=0,z=R;const ce={match:!1,pathIndex:0,commandIndex:0};for(;z<w.segments.length;){if(M>=P.length)return ce;const pe=w.segments[z],Je=P[M];if($o(Je))break;const kt=`${Je}`,dt=M<P.length-1?P[M+1]:null;if(z>0&&void 0===kt)break;if(kt&&dt&&"object"==typeof dt&&void 0===dt.outlets){if(!tt(kt,dt,pe))return ce;M+=2}else{if(!tt(kt,{},pe))return ce;M++}z++}return{match:!0,pathIndex:z,commandIndex:M}}(w,R,P),z=P.slice(M.commandIndex);if(M.match&&M.pathIndex<w.segments.length){const ce=new ur(w.segments.slice(0,M.pathIndex),{});return ce.children[Ue]=new ur(w.segments.slice(M.pathIndex),w.children),Un(ce,0,z)}return M.match&&0===z.length?new ur(w.segments,{}):M.match&&!w.hasChildren()?ss(w,R,P):M.match?Un(w,0,z):ss(w,R,P)}function Un(w,R,P){if(0===P.length)return new ur(w.segments,{});{const M=function Mo(w){return $o(w[0])?w[0].outlets:{[Ue]:w}}(P),z={};if(Object.keys(M).some(ce=>ce!==Ue)&&w.children[Ue]&&1===w.numberOfChildren&&0===w.children[Ue].segments.length){const ce=Un(w.children[Ue],R,P);return new ur(w.segments,ce.children)}return Object.entries(M).forEach(([ce,pe])=>{"string"==typeof pe&&(pe=[pe]),null!==pe&&(z[ce]=Br(w.children[ce],R,pe))}),Object.entries(w.children).forEach(([ce,pe])=>{void 0===M[ce]&&(z[ce]=pe)}),new ur(w.segments,z)}}function ss(w,R,P){const M=w.segments.slice(0,R);let z=0;for(;z<P.length;){const ce=P[z];if($o(ce)){const kt=xi(ce.outlets);return new ur(M,kt)}if(0===z&&Xs(P[0])){M.push(new bs(w.segments[R].path,sl(P[0]))),z++;continue}const pe=$o(ce)?ce.outlets[Ue]:`${ce}`,Je=z<P.length-1?P[z+1]:null;pe&&Je&&Xs(Je)?(M.push(new bs(pe,sl(Je))),z+=2):(M.push(new bs(pe,{})),z++)}return new ur(M,{})}function xi(w){const R={};return Object.entries(w).forEach(([P,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(R[P]=ss(new ur([],{}),0,M))}),R}function sl(w){const R={};return Object.entries(w).forEach(([P,M])=>R[P]=`${M}`),R}function tt(w,R,P){return w==P.path&&pr(R,P.parameters)}const qe="imperative";class vt{constructor(R,P){this.id=R,this.url=P}}class Ft extends vt{constructor(R,P,M="imperative",z=null){super(R,P),this.type=0,this.navigationTrigger=M,this.restoredState=z}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ut extends vt{constructor(R,P,M){super(R,P),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hn extends vt{constructor(R,P,M,z){super(R,P),this.reason=M,this.code=z,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class si extends vt{constructor(R,P,M,z){super(R,P),this.reason=M,this.code=z,this.type=16}}class Zr extends vt{constructor(R,P,M,z){super(R,P),this.error=M,this.target=z,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ar extends vt{constructor(R,P,M,z){super(R,P),this.urlAfterRedirects=M,this.state=z,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Za extends vt{constructor(R,P,M,z){super(R,P),this.urlAfterRedirects=M,this.state=z,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gs extends vt{constructor(R,P,M,z,ce){super(R,P),this.urlAfterRedirects=M,this.state=z,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lo extends vt{constructor(R,P,M,z){super(R,P),this.urlAfterRedirects=M,this.state=z,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vi extends vt{constructor(R,P,M,z){super(R,P),this.urlAfterRedirects=M,this.state=z,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class co{constructor(R){this.route=R,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ka{constructor(R){this.route=R,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uo{constructor(R){this.snapshot=R,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fa{constructor(R){this.snapshot=R,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class na{constructor(R){this.snapshot=R,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Po{constructor(R){this.snapshot=R,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ra{constructor(R,P,M){this.routerEvent=R,this.position=P,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Jr{}class es{constructor(R){this.url=R}}class Pr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ls,this.attachRef=null}}let ls=(()=>{var w;class R{constructor(){this.contexts=new Map}onChildOutletCreated(M,z){const ce=this.getOrCreateContext(M);ce.outlet=z,this.contexts.set(M,ce)}onChildOutletDestroyed(M){const z=this.getContext(M);z&&(z.outlet=null,z.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let z=this.getContext(M);return z||(z=new Pr,this.contexts.set(M,z)),z}getContext(M){return this.contexts.get(M)||null}}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),R})();class ra{constructor(R){this._root=R}get root(){return this._root.value}parent(R){const P=this.pathFromRoot(R);return P.length>1?P[P.length-2]:null}children(R){const P=ha(R,this._root);return P?P.children.map(M=>M.value):[]}firstChild(R){const P=ha(R,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(R){const P=Bi(R,this._root);return P.length<2?[]:P[P.length-2].children.map(z=>z.value).filter(z=>z!==R)}pathFromRoot(R){return Bi(R,this._root).map(P=>P.value)}}function ha(w,R){if(w===R.value)return R;for(const P of R.children){const M=ha(w,P);if(M)return M}return null}function Bi(w,R){if(w===R.value)return[R];for(const P of R.children){const M=Bi(w,P);if(M.length)return M.unshift(R),M}return[]}class bi{constructor(R,P){this.value=R,this.children=P}toString(){return`TreeNode(${this.value})`}}function Oi(w){const R={};return w&&w.children.forEach(P=>R[P.value.outlet]=P),R}class yi extends ra{constructor(R,P){super(R),this.snapshot=P,qi(this,R)}toString(){return this.snapshot.toString()}}function pn(w,R){const P=function Fr(w,R){const pe=new Di([],{},{},"",{},Ue,R,null,{});return new ho("",new bi(pe,[]))}(0,R),M=new Ae.X([new bs("",{})]),z=new Ae.X({}),ce=new Ae.X({}),pe=new Ae.X({}),Je=new Ae.X(""),kt=new mi(M,z,pe,Je,ce,Ue,R,P.root);return kt.snapshot=P.root,new yi(new bi(kt,[]),P)}class mi{constructor(R,P,M,z,ce,pe,Je,kt){this.urlSubject=R,this.paramsSubject=P,this.queryParamsSubject=M,this.fragmentSubject=z,this.dataSubject=ce,this.outlet=pe,this.component=Je,this._futureSnapshot=kt,this.title=this.dataSubject?.pipe((0,mn.U)(dt=>dt[Ze]))??(0,He.of)(void 0),this.url=R,this.params=P,this.queryParams=M,this.fragment=z,this.data=ce}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mn.U)(R=>Nt(R)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mn.U)(R=>Nt(R)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tr(w,R="emptyOnly"){const P=w.pathFromRoot;let M=0;if("always"!==R)for(M=P.length-1;M>=1;){const z=P[M],ce=P[M-1];if(z.routeConfig&&""===z.routeConfig.path)M--;else{if(ce.component)break;M--}}return function ia(w){return w.reduce((R,P)=>({params:{...R.params,...P.params},data:{...R.data,...P.data},resolve:{...P.data,...R.resolve,...P.routeConfig?.data,...P._resolvedData}}),{params:{},data:{},resolve:{}})}(P.slice(M))}class Di{get title(){return this.data?.[Ze]}constructor(R,P,M,z,ce,pe,Je,kt,dt){this.url=R,this.params=P,this.queryParams=M,this.fragment=z,this.data=ce,this.outlet=pe,this.component=Je,this.routeConfig=kt,this._resolve=dt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ho extends ra{constructor(R,P){super(P),this.url=R,qi(this,P)}toString(){return Os(this._root)}}function qi(w,R){R.value._routerState=w,R.children.forEach(P=>qi(w,P))}function Os(w){const R=w.children.length>0?` { ${w.children.map(Os).join(", ")} } `:"";return`${w.value}${R}`}function Ho(w){if(w.snapshot){const R=w.snapshot,P=w._futureSnapshot;w.snapshot=P,pr(R.queryParams,P.queryParams)||w.queryParamsSubject.next(P.queryParams),R.fragment!==P.fragment&&w.fragmentSubject.next(P.fragment),pr(R.params,P.params)||w.paramsSubject.next(P.params),function Qt(w,R){if(w.length!==R.length)return!1;for(let P=0;P<w.length;++P)if(!pr(w[P],R[P]))return!1;return!0}(R.url,P.url)||w.urlSubject.next(P.url),pr(R.data,P.data)||w.dataSubject.next(P.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function vr(w,R){const P=pr(w.params,R.params)&&function Is(w,R){return _i(w,R)&&w.every((P,M)=>pr(P.parameters,R[M].parameters))}(w.url,R.url);return P&&!(!w.parent!=!R.parent)&&(!w.parent||vr(w.parent,R.parent))}let No=(()=>{var w;class R{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ue,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(ls),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(fo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(M){if(M.name){const{firstChange:z,previousValue:ce}=M.name;if(z)return;this.isTrackedInParentContexts(ce)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ce)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(M){return this.parentContexts.getContext(M)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const M=this.parentContexts.getContext(this.name);M?.route&&(M.attachRef?this.attach(M.attachRef,M.route):this.activateWith(M.route,M.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const M=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(M.instance),M}attach(M,z){this.activated=M,this._activatedRoute=z,this.location.insert(M.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(M.instance)}deactivate(){if(this.activated){const M=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,z){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=M;const ce=this.location,Je=M.snapshot.component,kt=this.parentContexts.getOrCreateContext(this.name).children,dt=new Ja(M,kt,ce.injector);this.activated=ce.createComponent(Je,{index:ce.length,injector:dt,environmentInjector:z??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275dir=d.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),R})();class Ja{constructor(R,P,M){this.route=R,this.childContexts=P,this.parent=M}get(R,P){return R===mi?this.route:R===ls?this.childContexts:this.parent.get(R,P)}}const fo=new d.OlP("");let Or=(()=>{var w;class R{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(M){this.unsubscribeFromRouteData(M),this.subscribeToRouteData(M)}unsubscribeFromRouteData(M){this.outletDataSubscriptions.get(M)?.unsubscribe(),this.outletDataSubscriptions.delete(M)}subscribeToRouteData(M){const{activatedRoute:z}=M,ce=Yt([z.queryParams,z.params,z.data]).pipe((0,Yn.w)(([pe,Je,kt],dt)=>(kt={...pe,...Je,...kt},0===dt?(0,He.of)(kt):Promise.resolve(kt)))).subscribe(pe=>{if(!M.isActivated||!M.activatedComponentRef||M.activatedRoute!==z||null===z.component)return void this.unsubscribeFromRouteData(M);const Je=(0,d.qFp)(z.component);if(Je)for(const{templateName:kt}of Je.inputs)M.activatedComponentRef.setInput(kt,pe[kt]);else this.unsubscribeFromRouteData(M)});this.outletDataSubscriptions.set(M,ce)}}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),R})();function Ls(w,R,P){if(P&&w.shouldReuseRoute(R.value,P.value.snapshot)){const M=P.value;M._futureSnapshot=R.value;const z=function Es(w,R,P){return R.children.map(M=>{for(const z of P.children)if(w.shouldReuseRoute(M.value,z.value.snapshot))return Ls(w,M,z);return Ls(w,M)})}(w,R,P);return new bi(M,z)}{if(w.shouldAttach(R.value)){const ce=w.retrieve(R.value);if(null!==ce){const pe=ce.route;return pe.value._futureSnapshot=R.value,pe.children=R.children.map(Je=>Ls(w,Je)),pe}}const M=function Ss(w){return new mi(new Ae.X(w.url),new Ae.X(w.params),new Ae.X(w.queryParams),new Ae.X(w.fragment),new Ae.X(w.data),w.outlet,w.component,w)}(R.value),z=R.children.map(ce=>Ls(w,ce));return new bi(M,z)}}const _a="ngNavigationCancelingError";function eo(w,R){const{redirectTo:P,navigationBehaviorOptions:M}=zi(R)?{redirectTo:R,navigationBehaviorOptions:void 0}:R,z=Vs(!1,0,R);return z.url=P,z.navigationBehaviorOptions=M,z}function Vs(w,R,P){const M=new Error("NavigationCancelingError: "+(w||""));return M[_a]=!0,M.cancellationCode=R,P&&(M.url=P),M}function po(w){return w&&w[_a]}let zr=(()=>{var w;class R{}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275cmp=d.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(M,z){1&M&&d._UZ(0,"router-outlet")},dependencies:[No],encapsulation:2}),R})();function as(w){const R=w.children&&w.children.map(as),P=R?{...w,children:R}:{...w};return!P.component&&!P.loadComponent&&(R||P.loadChildren)&&P.outlet&&P.outlet!==Ue&&(P.component=zr),P}function Ii(w){return w.outlet||Ue}function no(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let R=w.parent;R;R=R.parent){const P=R.routeConfig;if(P?._loadedInjector)return P._loadedInjector;if(P?._injector)return P._injector}return null}class Ea{constructor(R,P,M,z,ce){this.routeReuseStrategy=R,this.futureState=P,this.currState=M,this.forwardEvent=z,this.inputBindingEnabled=ce}activate(R){const P=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,M,R),Ho(this.futureState.root),this.activateChildRoutes(P,M,R)}deactivateChildRoutes(R,P,M){const z=Oi(P);R.children.forEach(ce=>{const pe=ce.value.outlet;this.deactivateRoutes(ce,z[pe],M),delete z[pe]}),Object.values(z).forEach(ce=>{this.deactivateRouteAndItsChildren(ce,M)})}deactivateRoutes(R,P,M){const z=R.value,ce=P?P.value:null;if(z===ce)if(z.component){const pe=M.getContext(z.outlet);pe&&this.deactivateChildRoutes(R,P,pe.children)}else this.deactivateChildRoutes(R,P,M);else ce&&this.deactivateRouteAndItsChildren(P,M)}deactivateRouteAndItsChildren(R,P){R.value.component&&this.routeReuseStrategy.shouldDetach(R.value.snapshot)?this.detachAndStoreRouteSubtree(R,P):this.deactivateRouteAndOutlet(R,P)}detachAndStoreRouteSubtree(R,P){const M=P.getContext(R.value.outlet),z=M&&R.value.component?M.children:P,ce=Oi(R);for(const pe of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[pe],z);if(M&&M.outlet){const pe=M.outlet.detach(),Je=M.children.onOutletDeactivated();this.routeReuseStrategy.store(R.value.snapshot,{componentRef:pe,route:R,contexts:Je})}}deactivateRouteAndOutlet(R,P){const M=P.getContext(R.value.outlet),z=M&&R.value.component?M.children:P,ce=Oi(R);for(const pe of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[pe],z);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(R,P,M){const z=Oi(P);R.children.forEach(ce=>{this.activateRoutes(ce,z[ce.value.outlet],M),this.forwardEvent(new Po(ce.value.snapshot))}),R.children.length&&this.forwardEvent(new Fa(R.value.snapshot))}activateRoutes(R,P,M){const z=R.value,ce=P?P.value:null;if(Ho(z),z===ce)if(z.component){const pe=M.getOrCreateContext(z.outlet);this.activateChildRoutes(R,P,pe.children)}else this.activateChildRoutes(R,P,M);else if(z.component){const pe=M.getOrCreateContext(z.outlet);if(this.routeReuseStrategy.shouldAttach(z.snapshot)){const Je=this.routeReuseStrategy.retrieve(z.snapshot);this.routeReuseStrategy.store(z.snapshot,null),pe.children.onOutletReAttached(Je.contexts),pe.attachRef=Je.componentRef,pe.route=Je.route.value,pe.outlet&&pe.outlet.attach(Je.componentRef,Je.route.value),Ho(Je.route.value),this.activateChildRoutes(R,null,pe.children)}else{const Je=no(z.snapshot);pe.attachRef=null,pe.route=z,pe.injector=Je,pe.outlet&&pe.outlet.activateWith(z,pe.injector),this.activateChildRoutes(R,null,pe.children)}}else this.activateChildRoutes(R,null,M)}}class ji{constructor(R){this.path=R,this.route=this.path[this.path.length-1]}}class xa{constructor(R,P){this.component=R,this.route=P}}function sc(w,R,P){const M=w._root;return fa(M,R?R._root:null,P,[M.value])}function Va(w,R){const P=Symbol(),M=R.get(w,P);return M===P?"function"!=typeof w||(0,d.Z0I)(w)?R.get(w):w:M}function fa(w,R,P,M,z={canDeactivateChecks:[],canActivateChecks:[]}){const ce=Oi(R);return w.children.forEach(pe=>{(function Wo(w,R,P,M,z={canDeactivateChecks:[],canActivateChecks:[]}){const ce=w.value,pe=R?R.value:null,Je=P?P.getContext(w.value.outlet):null;if(pe&&ce.routeConfig===pe.routeConfig){const kt=function kl(w,R,P){if("function"==typeof P)return P(w,R);switch(P){case"pathParamsChange":return!_i(w.url,R.url);case"pathParamsOrQueryParamsChange":return!_i(w.url,R.url)||!pr(w.queryParams,R.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vr(w,R)||!pr(w.queryParams,R.queryParams);default:return!vr(w,R)}}(pe,ce,ce.routeConfig.runGuardsAndResolvers);kt?z.canActivateChecks.push(new ji(M)):(ce.data=pe.data,ce._resolvedData=pe._resolvedData),fa(w,R,ce.component?Je?Je.children:null:P,M,z),kt&&Je&&Je.outlet&&Je.outlet.isActivated&&z.canDeactivateChecks.push(new xa(Je.outlet.component,pe))}else pe&&pa(R,Je,z),z.canActivateChecks.push(new ji(M)),fa(w,null,ce.component?Je?Je.children:null:P,M,z)})(pe,ce[pe.value.outlet],P,M.concat([pe.value]),z),delete ce[pe.value.outlet]}),Object.entries(ce).forEach(([pe,Je])=>pa(Je,P.getContext(pe),z)),z}function pa(w,R,P){const M=Oi(w),z=w.value;Object.entries(M).forEach(([ce,pe])=>{pa(pe,z.component?R?R.children.getContext(ce):null:R,P)}),P.canDeactivateChecks.push(new xa(z.component&&R&&R.outlet&&R.outlet.isActivated?R.outlet.component:null,z))}function $i(w){return"function"==typeof w}function ar(w){return w instanceof qt.K||"EmptyError"===w?.name}const Cs=Symbol("INITIAL_VALUE");function Ni(){return(0,Yn.w)(w=>Yt(w.map(R=>R.pipe((0,yr.q)(1),(0,Ln.O)(Cs)))).pipe((0,mn.U)(R=>{for(const P of R)if(!0!==P){if(P===Cs)return Cs;if(!1===P||P instanceof Dr)return P}return!0}),(0,kn.h)(R=>R!==Cs),(0,yr.q)(1)))}function ol(w){return(0,It.z)((0,ot.b)(R=>{if(zi(R))throw eo(0,R)}),(0,mn.U)(R=>!0===R))}class wa{constructor(R){this.segmentGroup=R||null}}class ja{constructor(R){this.urlTree=R}}function Oa(w){return pt(new wa(w))}function al(w){return pt(new ja(w))}class As{constructor(R,P){this.urlSerializer=R,this.urlTree=P}noMatchError(R){return new d.vHH(4002,!1)}lineralizeSegments(R,P){let M=[],z=P.root;for(;;){if(M=M.concat(z.segments),0===z.numberOfChildren)return(0,He.of)(M);if(z.numberOfChildren>1||!z.children[Ue])return pt(new d.vHH(4e3,!1));z=z.children[Ue]}}applyRedirectCommands(R,P,M){return this.applyRedirectCreateUrlTree(P,this.urlSerializer.parse(P),R,M)}applyRedirectCreateUrlTree(R,P,M,z){const ce=this.createSegmentGroup(R,P.root,M,z);return new Dr(ce,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(R,P){const M={};return Object.entries(R).forEach(([z,ce])=>{if("string"==typeof ce&&ce.startsWith(":")){const Je=ce.substring(1);M[z]=P[Je]}else M[z]=ce}),M}createSegmentGroup(R,P,M,z){const ce=this.createSegments(R,P.segments,M,z);let pe={};return Object.entries(P.children).forEach(([Je,kt])=>{pe[Je]=this.createSegmentGroup(R,kt,M,z)}),new ur(ce,pe)}createSegments(R,P,M,z){return P.map(ce=>ce.path.startsWith(":")?this.findPosParam(R,ce,z):this.findOrReturn(ce,M))}findPosParam(R,P,M){const z=M[P.path.substring(1)];if(!z)throw new d.vHH(4001,!1);return z}findOrReturn(R,P){let M=0;for(const z of P){if(z.path===R.path)return P.splice(M),z;M++}return R}}const Il={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function el(w,R,P,M,z){const ce=di(w,R,P);return ce.matched?(M=function _l(w,R){return w.providers&&!w._injector&&(w._injector=(0,d.MMx)(w.providers,R,`Route: ${w.path}`)),w._injector??R}(R,M),function Ua(w,R,P,M){const z=R.canMatch;if(!z||0===z.length)return(0,He.of)(!0);const ce=z.map(pe=>{const Je=Va(pe,w);return bn(function ee(w){return w&&$i(w.canMatch)}(Je)?Je.canMatch(R,P):w.runInContext(()=>Je(R,P)))});return(0,He.of)(ce).pipe(Ni(),ol())}(M,R,P).pipe((0,mn.U)(pe=>!0===pe?ce:{...Il}))):(0,He.of)(ce)}function di(w,R,P){if(""===R.path)return"full"===R.pathMatch&&(w.hasChildren()||P.length>0)?{...Il}:{matched:!0,consumedSegments:[],remainingSegments:P,parameters:{},positionalParamSegments:{}};const z=(R.matcher||At)(P,w,R);if(!z)return{...Il};const ce={};Object.entries(z.posParams??{}).forEach(([Je,kt])=>{ce[Je]=kt.path});const pe=z.consumed.length>0?{...ce,...z.consumed[z.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:z.consumed,remainingSegments:P.slice(z.consumed.length),parameters:pe,positionalParamSegments:z.posParams??{}}}function zs(w,R,P,M){return P.length>0&&function Mi(w,R,P){return P.some(M=>oa(w,R,M)&&Ii(M)!==Ue)}(w,P,M)?{segmentGroup:new ur(R,Fl(M,new ur(P,w.children))),slicedSegments:[]}:0===P.length&&function $a(w,R,P){return P.some(M=>oa(w,R,M))}(w,P,M)?{segmentGroup:new ur(w.segments,qo(w,0,P,M,w.children)),slicedSegments:P}:{segmentGroup:new ur(w.segments,w.children),slicedSegments:P}}function qo(w,R,P,M,z){const ce={};for(const pe of M)if(oa(w,P,pe)&&!z[Ii(pe)]){const Je=new ur([],{});ce[Ii(pe)]=Je}return{...z,...ce}}function Fl(w,R){const P={};P[Ue]=R;for(const M of w)if(""===M.path&&Ii(M)!==Ue){const z=new ur([],{});P[Ii(M)]=z}return P}function oa(w,R,P){return(!(w.hasChildren()||R.length>0)||"full"!==P.pathMatch)&&""===P.path}class Fo{constructor(R,P,M,z,ce,pe,Je){this.injector=R,this.configLoader=P,this.rootComponentType=M,this.config=z,this.urlTree=ce,this.paramsInheritanceStrategy=pe,this.urlSerializer=Je,this.allowRedirects=!0,this.applyRedirects=new As(this.urlSerializer,this.urlTree)}noMatchError(R){return new d.vHH(4002,!1)}recognize(){const R=zs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,R,Ue).pipe(Ct(P=>{if(P instanceof ja)return this.allowRedirects=!1,this.urlTree=P.urlTree,this.match(P.urlTree);throw P instanceof wa?this.noMatchError(P):P}),(0,mn.U)(P=>{const M=new Di([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ue,this.rootComponentType,null,{}),z=new bi(M,P),ce=new ho("",z),pe=function ri(w,R,P=null,M=null){return Js(Wi(w),R,P,M)}(M,[],this.urlTree.queryParams,this.urlTree.fragment);return pe.queryParams=this.urlTree.queryParams,ce.url=this.urlSerializer.serialize(pe),this.inheritParamsAndData(ce._root),{state:ce,tree:pe}}))}match(R){return this.processSegmentGroup(this.injector,this.config,R.root,Ue).pipe(Ct(M=>{throw M instanceof wa?this.noMatchError(M):M}))}inheritParamsAndData(R){const P=R.value,M=Tr(P,this.paramsInheritanceStrategy);P.params=Object.freeze(M.params),P.data=Object.freeze(M.data),R.children.forEach(z=>this.inheritParamsAndData(z))}processSegmentGroup(R,P,M,z){return 0===M.segments.length&&M.hasChildren()?this.processChildren(R,P,M):this.processSegment(R,P,M,M.segments,z,!0)}processChildren(R,P,M){const z=[];for(const ce of Object.keys(M.children))"primary"===ce?z.unshift(ce):z.push(ce);return(0,Ne.D)(z).pipe(Et(ce=>{const pe=M.children[ce],Je=function zo(w,R){const P=w.filter(M=>Ii(M)===R);return P.push(...w.filter(M=>Ii(M)!==R)),P}(P,ce);return this.processSegmentGroup(R,Je,pe,ce)}),(0,en.R)((ce,pe)=>(ce.push(...pe),ce)),(0,rn.d)(null),function ir(w,R){const P=arguments.length>=2;return M=>M.pipe(w?(0,kn.h)((z,ce)=>w(z,ce,M)):it.y,ln(1),P?(0,rn.d)(R):(0,Hr.T)(()=>new qt.K))}(),(0,Ye.z)(ce=>{if(null===ce)return Oa(M);const pe=Ko(ce);return function Ll(w){w.sort((R,P)=>R.value.outlet===Ue?-1:P.value.outlet===Ue?1:R.value.outlet.localeCompare(P.value.outlet))}(pe),(0,He.of)(pe)}))}processSegment(R,P,M,z,ce,pe){return(0,Ne.D)(P).pipe(Et(Je=>this.processSegmentAgainstRoute(Je._injector??R,P,Je,M,z,ce,pe).pipe(Ct(kt=>{if(kt instanceof wa)return(0,He.of)(null);throw kt}))),(0,nt.P)(Je=>!!Je),Ct(Je=>{if(ar(Je))return function aa(w,R,P){return 0===R.length&&!w.children[P]}(M,z,ce)?(0,He.of)([]):Oa(M);throw Je}))}processSegmentAgainstRoute(R,P,M,z,ce,pe,Je){return function Ma(w,R,P,M){return!!(Ii(w)===M||M!==Ue&&oa(R,P,w))&&("**"===w.path||di(R,w,P).matched)}(M,z,ce,pe)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(R,z,M,ce,pe,Je):Je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(R,z,P,M,ce,pe):Oa(z):Oa(z)}expandSegmentAgainstRouteUsingRedirect(R,P,M,z,ce,pe){return"**"===z.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(R,M,z,pe):this.expandRegularSegmentAgainstRouteUsingRedirect(R,P,M,z,ce,pe)}expandWildCardWithParamsAgainstRouteUsingRedirect(R,P,M,z){const ce=this.applyRedirects.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?al(ce):this.applyRedirects.lineralizeSegments(M,ce).pipe((0,Ye.z)(pe=>{const Je=new ur(pe,{});return this.processSegment(R,P,Je,pe,z,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(R,P,M,z,ce,pe){const{matched:Je,consumedSegments:kt,remainingSegments:dt,positionalParamSegments:fn}=di(P,z,ce);if(!Je)return Oa(P);const Qn=this.applyRedirects.applyRedirectCommands(kt,z.redirectTo,fn);return z.redirectTo.startsWith("/")?al(Qn):this.applyRedirects.lineralizeSegments(z,Qn).pipe((0,Ye.z)(Gr=>this.processSegment(R,M,P,Gr.concat(dt),pe,!1)))}matchSegmentAgainstRoute(R,P,M,z,ce,pe){let Je;if("**"===M.path){const kt=z.length>0?cn(z).parameters:{},dt=new Di(z,kt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,io(M),Ii(M),M.component??M._loadedComponent??null,M,Ql(M));Je=(0,He.of)({snapshot:dt,consumedSegments:[],remainingSegments:[]}),P.children={}}else Je=el(P,M,z,R).pipe((0,mn.U)(({matched:kt,consumedSegments:dt,remainingSegments:fn,parameters:Qn})=>kt?{snapshot:new Di(dt,Qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,io(M),Ii(M),M.component??M._loadedComponent??null,M,Ql(M)),consumedSegments:dt,remainingSegments:fn}:null));return Je.pipe((0,Yn.w)(kt=>null===kt?Oa(P):this.getChildConfig(R=M._injector??R,M,z).pipe((0,Yn.w)(({routes:dt})=>{const fn=M._loadedInjector??R,{snapshot:Qn,consumedSegments:Gr,remainingSegments:Er}=kt,{segmentGroup:Kr,slicedSegments:rs}=zs(P,Gr,Er,dt);if(0===rs.length&&Kr.hasChildren())return this.processChildren(fn,dt,Kr).pipe((0,mn.U)(ms=>null===ms?null:[new bi(Qn,ms)]));if(0===dt.length&&0===rs.length)return(0,He.of)([new bi(Qn,[])]);const Tl=Ii(M)===ce;return this.processSegment(fn,dt,Kr,rs,Tl?Ue:ce,!0).pipe((0,mn.U)(ms=>[new bi(Qn,ms)]))}))))}getChildConfig(R,P,M){return P.children?(0,He.of)({routes:P.children,injector:R}):P.loadChildren?void 0!==P._loadedRoutes?(0,He.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):function ga(w,R,P,M){const z=R.canLoad;if(void 0===z||0===z.length)return(0,He.of)(!0);const ce=z.map(pe=>{const Je=Va(pe,w);return bn(function mo(w){return w&&$i(w.canLoad)}(Je)?Je.canLoad(R,P):w.runInContext(()=>Je(R,P)))});return(0,He.of)(ce).pipe(Ni(),ol())}(R,P,M).pipe((0,Ye.z)(z=>z?this.configLoader.loadChildren(R,P).pipe((0,ot.b)(ce=>{P._loadedRoutes=ce.routes,P._loadedInjector=ce.injector})):function bl(w){return pt(Vs(!1,3))}())):(0,He.of)({routes:[],injector:R})}}function ll(w){const R=w.value.routeConfig;return R&&""===R.path}function Ko(w){const R=[],P=new Set;for(const M of w){if(!ll(M)){R.push(M);continue}const z=R.find(ce=>M.value.routeConfig===ce.value.routeConfig);void 0!==z?(z.children.push(...M.children),P.add(z)):R.push(M)}for(const M of P){const z=Ko(M.children);R.push(new bi(M.value,z))}return R.filter(M=>!P.has(M))}function io(w){return w.data||{}}function Ql(w){return w.resolve||{}}function re(w){return"string"==typeof w.title||null===w.title}function he(w){return(0,Yn.w)(R=>{const P=w(R);return P?(0,Ne.D)(P).pipe((0,mn.U)(()=>R)):(0,He.of)(R)})}const _e=new d.OlP("ROUTES");let Ce=(()=>{var w;class R{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(M){if(this.componentLoaders.get(M))return this.componentLoaders.get(M);if(M._loadedComponent)return(0,He.of)(M._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(M);const z=bn(M.loadComponent()).pipe((0,mn.U)(et),(0,ot.b)(pe=>{this.onLoadEndListener&&this.onLoadEndListener(M),M._loadedComponent=pe}),Bn(()=>{this.componentLoaders.delete(M)})),ce=new on(z,()=>new Wn.x).pipe(Ht());return this.componentLoaders.set(M,ce),ce}loadChildren(M,z){if(this.childrenLoaders.get(z))return this.childrenLoaders.get(z);if(z._loadedRoutes)return(0,He.of)({routes:z._loadedRoutes,injector:z._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(z);const pe=this.loadModuleFactoryOrRoutes(z.loadChildren).pipe((0,mn.U)(kt=>{this.onLoadEndListener&&this.onLoadEndListener(z);let dt,fn;return Array.isArray(kt)?fn=kt:(dt=kt.create(M).injector,fn=dt.get(_e,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:fn.map(as),injector:dt}}),Bn(()=>{this.childrenLoaders.delete(z)})),Je=new on(pe,()=>new Wn.x).pipe(Ht());return this.childrenLoaders.set(z,Je),Je}loadModuleFactoryOrRoutes(M){return bn(M()).pipe((0,mn.U)(et),(0,Ye.z)(z=>z instanceof d.YKP||Array.isArray(z)?(0,He.of)(z):(0,Ne.D)(this.compiler.compileModuleAsync(z))))}}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),R})();function et(w){return function Ke(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let xt=(()=>{var w;class R{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Wn.x,this.transitionAbortSubject=new Wn.x,this.configLoader=(0,d.f3M)(Ce),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Tt),this.rootContexts=(0,d.f3M)(ls),this.inputBindingEnabled=null!==(0,d.f3M)(fo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,He.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ce=>this.events.next(new ka(ce)),this.configLoader.onLoadStartListener=ce=>this.events.next(new co(ce))}complete(){this.transitions?.complete()}handleNavigationRequest(M){const z=++this.navigationId;this.transitions?.next({...this.transitions.value,...M,id:z})}setupNavigations(M,z,ce){return this.transitions=new Ae.X({id:0,currentUrlTree:z,currentRawUrl:z,currentBrowserUrl:z,extractedUrl:M.urlHandlingStrategy.extract(z),urlAfterRedirects:M.urlHandlingStrategy.extract(z),rawUrl:z,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qe,restoredState:null,currentSnapshot:ce.snapshot,targetSnapshot:null,currentRouterState:ce,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,kn.h)(pe=>0!==pe.id),(0,mn.U)(pe=>({...pe,extractedUrl:M.urlHandlingStrategy.extract(pe.rawUrl)})),(0,Yn.w)(pe=>{this.currentTransition=pe;let Je=!1,kt=!1;return(0,He.of)(pe).pipe((0,ot.b)(dt=>{this.currentNavigation={id:dt.id,initialUrl:dt.rawUrl,extractedUrl:dt.extractedUrl,trigger:dt.source,extras:dt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Yn.w)(dt=>{const fn=dt.currentBrowserUrl.toString(),Qn=!M.navigated||dt.extractedUrl.toString()!==fn||fn!==dt.currentUrlTree.toString();if(!Qn&&"reload"!==(dt.extras.onSameUrlNavigation??M.onSameUrlNavigation)){const Er="";return this.events.next(new si(dt.id,this.urlSerializer.serialize(dt.rawUrl),Er,0)),dt.resolve(null),gt.E}if(M.urlHandlingStrategy.shouldProcessUrl(dt.rawUrl))return(0,He.of)(dt).pipe((0,Yn.w)(Er=>{const Kr=this.transitions?.getValue();return this.events.next(new Ft(Er.id,this.urlSerializer.serialize(Er.extractedUrl),Er.source,Er.restoredState)),Kr!==this.transitions?.getValue()?gt.E:Promise.resolve(Er)}),function V(w,R,P,M,z,ce){return(0,Ye.z)(pe=>function Yl(w,R,P,M,z,ce,pe="emptyOnly"){return new Fo(w,R,P,M,z,pe,ce).recognize()}(w,R,P,M,pe.extractedUrl,z,ce).pipe((0,mn.U)(({state:Je,tree:kt})=>({...pe,targetSnapshot:Je,urlAfterRedirects:kt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,M.config,this.urlSerializer,M.paramsInheritanceStrategy),(0,ot.b)(Er=>{pe.targetSnapshot=Er.targetSnapshot,pe.urlAfterRedirects=Er.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Er.urlAfterRedirects};const Kr=new Ar(Er.id,this.urlSerializer.serialize(Er.extractedUrl),this.urlSerializer.serialize(Er.urlAfterRedirects),Er.targetSnapshot);this.events.next(Kr)}));if(Qn&&M.urlHandlingStrategy.shouldProcessUrl(dt.currentRawUrl)){const{id:Er,extractedUrl:Kr,source:rs,restoredState:Tl,extras:ms}=dt,la=new Ft(Er,this.urlSerializer.serialize(Kr),rs,Tl);this.events.next(la);const vl=pn(0,this.rootComponentType).snapshot;return this.currentTransition=pe={...dt,targetSnapshot:vl,urlAfterRedirects:Kr,extras:{...ms,skipLocationChange:!1,replaceUrl:!1}},(0,He.of)(pe)}{const Er="";return this.events.next(new si(dt.id,this.urlSerializer.serialize(dt.extractedUrl),Er,1)),dt.resolve(null),gt.E}}),(0,ot.b)(dt=>{const fn=new Za(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot);this.events.next(fn)}),(0,mn.U)(dt=>(this.currentTransition=pe={...dt,guards:sc(dt.targetSnapshot,dt.currentSnapshot,this.rootContexts)},pe)),function ko(w,R){return(0,Ye.z)(P=>{const{targetSnapshot:M,currentSnapshot:z,guards:{canActivateChecks:ce,canDeactivateChecks:pe}}=P;return 0===pe.length&&0===ce.length?(0,He.of)({...P,guardsResult:!0}):function Us(w,R,P,M){return(0,Ne.D)(w).pipe((0,Ye.z)(z=>function cs(w,R,P,M,z){const ce=R&&R.routeConfig?R.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,He.of)(!0);const pe=ce.map(Je=>{const kt=no(R)??z,dt=Va(Je,kt);return bn(function be(w){return w&&$i(w.canDeactivate)}(dt)?dt.canDeactivate(w,R,P,M):kt.runInContext(()=>dt(w,R,P,M))).pipe((0,nt.P)())});return(0,He.of)(pe).pipe(Ni())}(z.component,z.route,P,R,M)),(0,nt.P)(z=>!0!==z,!0))}(pe,M,z,w).pipe((0,Ye.z)(Je=>Je&&function To(w){return"boolean"==typeof w}(Je)?function Hs(w,R,P,M){return(0,Ne.D)(R).pipe(Et(z=>(0,Nn.z)(function ro(w,R){return null!==w&&R&&R(new uo(w)),(0,He.of)(!0)}(z.route.parent,M),function Ba(w,R){return null!==w&&R&&R(new na(w)),(0,He.of)(!0)}(z.route,M),function sa(w,R,P){const M=R[R.length-1],ce=R.slice(0,R.length-1).reverse().map(pe=>function Xa(w){const R=w.routeConfig?w.routeConfig.canActivateChild:null;return R&&0!==R.length?{node:w,guards:R}:null}(pe)).filter(pe=>null!==pe).map(pe=>st(()=>{const Je=pe.guards.map(kt=>{const dt=no(pe.node)??P,fn=Va(kt,dt);return bn(function Z(w){return w&&$i(w.canActivateChild)}(fn)?fn.canActivateChild(M,w):dt.runInContext(()=>fn(M,w))).pipe((0,nt.P)())});return(0,He.of)(Je).pipe(Ni())}));return(0,He.of)(ce).pipe(Ni())}(w,z.path,P),function ts(w,R,P){const M=R.routeConfig?R.routeConfig.canActivate:null;if(!M||0===M.length)return(0,He.of)(!0);const z=M.map(ce=>st(()=>{const pe=no(R)??P,Je=Va(ce,pe);return bn(function te(w){return w&&$i(w.canActivate)}(Je)?Je.canActivate(R,w):pe.runInContext(()=>Je(R,w))).pipe((0,nt.P)())}));return(0,He.of)(z).pipe(Ni())}(w,z.route,P))),(0,nt.P)(z=>!0!==z,!0))}(M,ce,w,R):(0,He.of)(Je)),(0,mn.U)(Je=>({...P,guardsResult:Je})))})}(this.environmentInjector,dt=>this.events.next(dt)),(0,ot.b)(dt=>{if(pe.guardsResult=dt.guardsResult,zi(dt.guardsResult))throw eo(0,dt.guardsResult);const fn=new Gs(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot,!!dt.guardsResult);this.events.next(fn)}),(0,kn.h)(dt=>!!dt.guardsResult||(this.cancelNavigationTransition(dt,"",3),!1)),he(dt=>{if(dt.guards.canActivateChecks.length)return(0,He.of)(dt).pipe((0,ot.b)(fn=>{const Qn=new lo(fn.id,this.urlSerializer.serialize(fn.extractedUrl),this.urlSerializer.serialize(fn.urlAfterRedirects),fn.targetSnapshot);this.events.next(Qn)}),(0,Yn.w)(fn=>{let Qn=!1;return(0,He.of)(fn).pipe(function X(w,R){return(0,Ye.z)(P=>{const{targetSnapshot:M,guards:{canActivateChecks:z}}=P;if(!z.length)return(0,He.of)(P);let ce=0;return(0,Ne.D)(z).pipe(Et(pe=>function Pe(w,R,P,M){const z=w.routeConfig,ce=w._resolve;return void 0!==z?.title&&!re(z)&&(ce[Ze]=z.title),function Q(w,R,P,M){const z=function Se(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===z.length)return(0,He.of)({});const ce={};return(0,Ne.D)(z).pipe((0,Ye.z)(pe=>function $(w,R,P,M){const z=no(R)??M,ce=Va(w,z);return bn(ce.resolve?ce.resolve(R,P):z.runInContext(()=>ce(R,P)))}(w[pe],R,P,M).pipe((0,nt.P)(),(0,ot.b)(Je=>{ce[pe]=Je}))),ln(1),(0,hr.h)(ce),Ct(pe=>ar(pe)?gt.E:pt(pe)))}(ce,w,R,M).pipe((0,mn.U)(pe=>(w._resolvedData=pe,w.data=Tr(w,P).resolve,z&&re(z)&&(w.data[Ze]=z.title),null)))}(pe.route,M,w,R)),(0,ot.b)(()=>ce++),ln(1),(0,Ye.z)(pe=>ce===z.length?(0,He.of)(P):gt.E))})}(M.paramsInheritanceStrategy,this.environmentInjector),(0,ot.b)({next:()=>Qn=!0,complete:()=>{Qn||this.cancelNavigationTransition(fn,"",2)}}))}),(0,ot.b)(fn=>{const Qn=new Vi(fn.id,this.urlSerializer.serialize(fn.extractedUrl),this.urlSerializer.serialize(fn.urlAfterRedirects),fn.targetSnapshot);this.events.next(Qn)}))}),he(dt=>{const fn=Qn=>{const Gr=[];Qn.routeConfig?.loadComponent&&!Qn.routeConfig._loadedComponent&&Gr.push(this.configLoader.loadComponent(Qn.routeConfig).pipe((0,ot.b)(Er=>{Qn.component=Er}),(0,mn.U)(()=>{})));for(const Er of Qn.children)Gr.push(...fn(Er));return Gr};return Yt(fn(dt.targetSnapshot.root)).pipe((0,rn.d)(),(0,yr.q)(1))}),he(()=>this.afterPreactivation()),(0,mn.U)(dt=>{const fn=function ma(w,R,P){const M=Ls(w,R._root,P?P._root:void 0);return new yi(M,R)}(M.routeReuseStrategy,dt.targetSnapshot,dt.currentRouterState);return this.currentTransition=pe={...dt,targetRouterState:fn},pe}),(0,ot.b)(()=>{this.events.next(new Jr)}),((w,R,P,M)=>(0,mn.U)(z=>(new Ea(R,z.targetRouterState,z.currentRouterState,P,M).activate(w),z)))(this.rootContexts,M.routeReuseStrategy,dt=>this.events.next(dt),this.inputBindingEnabled),(0,yr.q)(1),(0,ot.b)({next:dt=>{Je=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ut(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects))),M.titleStrategy?.updateTitle(dt.targetRouterState.snapshot),dt.resolve(!0)},complete:()=>{Je=!0}}),(0,Mr.R)(this.transitionAbortSubject.pipe((0,ot.b)(dt=>{throw dt}))),Bn(()=>{Je||kt||this.cancelNavigationTransition(pe,"",1),this.currentNavigation?.id===pe.id&&(this.currentNavigation=null)}),Ct(dt=>{if(kt=!0,po(dt))this.events.next(new Hn(pe.id,this.urlSerializer.serialize(pe.extractedUrl),dt.message,dt.cancellationCode)),function Cr(w){return po(w)&&zi(w.url)}(dt)?this.events.next(new es(dt.url)):pe.resolve(!1);else{this.events.next(new Zr(pe.id,this.urlSerializer.serialize(pe.extractedUrl),dt,pe.targetSnapshot??void 0));try{pe.resolve(M.errorHandler(dt))}catch(fn){pe.reject(fn)}}return gt.E}))}))}cancelNavigationTransition(M,z,ce){const pe=new Hn(M.id,this.urlSerializer.serialize(M.extractedUrl),z,ce);this.events.next(pe),M.resolve(!1)}}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),R})();function Ot(w){return w!==qe}let In=(()=>{var w;class R{buildTitle(M){let z,ce=M.root;for(;void 0!==ce;)z=this.getResolvedTitleForRoute(ce)??z,ce=ce.children.find(pe=>pe.outlet===Ue);return z}getResolvedTitleForRoute(M){return M.data[Ze]}}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(xn)},providedIn:"root"}),R})(),xn=(()=>{var w;class R extends In{constructor(M){super(),this.title=M}updateTitle(M){const z=this.buildTitle(M);void 0!==z&&this.title.setTitle(z)}}return(w=R).\u0275fac=function(M){return new(M||w)(d.LFG(Nr.Dx))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),R})(),Kn=(()=>{var w;class R{}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(Sr)},providedIn:"root"}),R})();class Vn{shouldDetach(R){return!1}store(R,P){}shouldAttach(R){return!1}retrieve(R){return null}shouldReuseRoute(R,P){return R.routeConfig===P.routeConfig}}let Sr=(()=>{var w;class R extends Vn{}return(w=R).\u0275fac=function(){let P;return function(z){return(P||(P=d.n5z(w)))(z||w)}}(),w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),R})();const $r=new d.OlP("",{providedIn:"root",factory:()=>({})});let ps=(()=>{var w;class R{}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275prov=d.Yz7({token:w,factory:function(){return(0,d.f3M)(Ws)},providedIn:"root"}),R})(),Ws=(()=>{var w;class R{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,z){return M}}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),R})();var Bt=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(Bt||{});function ci(w,R){w.events.pipe((0,kn.h)(P=>P instanceof Ut||P instanceof Hn||P instanceof Zr||P instanceof si),(0,mn.U)(P=>P instanceof Ut||P instanceof si?Bt.COMPLETE:P instanceof Hn&&(0===P.code||1===P.code)?Bt.REDIRECTING:Bt.FAILED),(0,kn.h)(P=>P!==Bt.REDIRECTING),(0,yr.q)(1)).subscribe(()=>{R()})}function ki(w){throw w}function ns(w,R,P){return R.parse("/")}const zn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gs=(()=>{var w;class R{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new Wn.x,this.options=(0,d.f3M)($r,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||ki,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ns,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(ps),this.routeReuseStrategy=(0,d.f3M)(Kn),this.titleStrategy=(0,d.f3M)(In),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(_e,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(xt),this.urlSerializer=(0,d.f3M)(Tt),this.location=(0,d.f3M)(jn.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(fo,{optional:!0}),this.eventsSubscription=new Mt.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Dr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(M=>{this.lastSuccessfulId=M.id,this.currentPageId=this.browserPageId},M=>{this.console.warn(`Unhandled Navigation Error: ${M}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const M=this.navigationTransitions.events.subscribe(z=>{try{const{currentTransition:ce}=this.navigationTransitions;if(null===ce)return void(Pt(z)&&this._events.next(z));if(z instanceof Ft)Ot(ce.source)&&(this.browserUrlTree=ce.extractedUrl);else if(z instanceof si)this.rawUrlTree=ce.rawUrl;else if(z instanceof Ar){if("eager"===this.urlUpdateStrategy){if(!ce.extras.skipLocationChange){const pe=this.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl);this.setBrowserUrl(pe,ce)}this.browserUrlTree=ce.urlAfterRedirects}}else if(z instanceof Jr)this.currentUrlTree=ce.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ce.urlAfterRedirects,ce.rawUrl),this.routerState=ce.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ce.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ce),this.browserUrlTree=ce.urlAfterRedirects);else if(z instanceof Hn)0!==z.code&&1!==z.code&&(this.navigated=!0),(3===z.code||2===z.code)&&this.restoreHistory(ce);else if(z instanceof es){const pe=this.urlHandlingStrategy.merge(z.url,ce.currentRawUrl),Je={skipLocationChange:ce.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ot(ce.source)};this.scheduleNavigation(pe,qe,null,Je,{resolve:ce.resolve,reject:ce.reject,promise:ce.promise})}z instanceof Zr&&this.restoreHistory(ce,!0),z instanceof Ut&&(this.navigated=!0),Pt(z)&&this._events.next(z)}catch(ce){this.navigationTransitions.transitionAbortSubject.next(ce)}});this.eventsSubscription.add(M)}resetRootComponentType(M){this.routerState.root.component=M,this.navigationTransitions.rootComponentType=M}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const M=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qe,M)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(M=>{const z="popstate"===M.type?"popstate":"hashchange";"popstate"===z&&setTimeout(()=>{this.navigateToSyncWithBrowser(M.url,z,M.state)},0)}))}navigateToSyncWithBrowser(M,z,ce){const pe={replaceUrl:!0},Je=ce?.navigationId?ce:null;if(ce){const dt={...ce};delete dt.navigationId,delete dt.\u0275routerPageId,0!==Object.keys(dt).length&&(pe.state=dt)}const kt=this.parseUrl(M);this.scheduleNavigation(kt,z,Je,pe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(M){this.config=M.map(as),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(M,z={}){const{relativeTo:ce,queryParams:pe,fragment:Je,queryParamsHandling:kt,preserveFragment:dt}=z,fn=dt?this.currentUrlTree.fragment:Je;let Gr,Qn=null;switch(kt){case"merge":Qn={...this.currentUrlTree.queryParams,...pe};break;case"preserve":Qn=this.currentUrlTree.queryParams;break;default:Qn=pe||null}null!==Qn&&(Qn=this.removeEmptyProps(Qn));try{Gr=Wi(ce?ce.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof M[0]||!M[0].startsWith("/"))&&(M=[]),Gr=this.currentUrlTree.root}return Js(Gr,M,Qn,fn??null)}navigateByUrl(M,z={skipLocationChange:!1}){const ce=zi(M)?M:this.parseUrl(M),pe=this.urlHandlingStrategy.merge(ce,this.rawUrlTree);return this.scheduleNavigation(pe,qe,null,z)}navigate(M,z={skipLocationChange:!1}){return function yn(w){for(let R=0;R<w.length;R++)if(null==w[R])throw new d.vHH(4008,!1)}(M),this.navigateByUrl(this.createUrlTree(M,z),z)}serializeUrl(M){return this.urlSerializer.serialize(M)}parseUrl(M){let z;try{z=this.urlSerializer.parse(M)}catch(ce){z=this.malformedUriErrorHandler(ce,this.urlSerializer,M)}return z}isActive(M,z){let ce;if(ce=!0===z?{...zn}:!1===z?{...lr}:z,zi(M))return ii(this.currentUrlTree,M,ce);const pe=this.parseUrl(M);return ii(this.currentUrlTree,pe,ce)}removeEmptyProps(M){return Object.keys(M).reduce((z,ce)=>{const pe=M[ce];return null!=pe&&(z[ce]=pe),z},{})}scheduleNavigation(M,z,ce,pe,Je){if(this.disposed)return Promise.resolve(!1);let kt,dt,fn;Je?(kt=Je.resolve,dt=Je.reject,fn=Je.promise):fn=new Promise((Gr,Er)=>{kt=Gr,dt=Er});const Qn=this.pendingTasks.add();return ci(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Qn))}),this.navigationTransitions.handleNavigationRequest({source:z,restoredState:ce,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:M,extras:pe,resolve:kt,reject:dt,promise:fn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),fn.catch(Gr=>Promise.reject(Gr))}setBrowserUrl(M,z){const ce=this.urlSerializer.serialize(M);if(this.location.isCurrentPathEqualTo(ce)||z.extras.replaceUrl){const Je={...z.extras.state,...this.generateNgRouterState(z.id,this.browserPageId)};this.location.replaceState(ce,"",Je)}else{const pe={...z.extras.state,...this.generateNgRouterState(z.id,this.browserPageId+1)};this.location.go(ce,"",pe)}}restoreHistory(M,z=!1){if("computed"===this.canceledNavigationResolution){const pe=this.currentPageId-this.browserPageId;0!==pe?this.location.historyGo(pe):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===pe&&(this.resetState(M),this.browserUrlTree=M.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(z&&this.resetState(M),this.resetUrlToCurrentUrlTree())}resetState(M){this.routerState=M.currentRouterState,this.currentUrlTree=M.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,M.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(M,z){return"computed"===this.canceledNavigationResolution?{navigationId:M,\u0275routerPageId:z}:{navigationId:M}}}return(w=R).\u0275fac=function(M){return new(M||w)},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),R})();function Pt(w){return!(w instanceof Jr||w instanceof es)}let dn=(()=>{var w;class R{constructor(M,z,ce,pe,Je,kt){this.router=M,this.route=z,this.tabIndexAttribute=ce,this.renderer=pe,this.el=Je,this.locationStrategy=kt,this.href=null,this.commands=null,this.onChanges=new Wn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const dt=Je.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===dt||"area"===dt,this.isAnchorElement?this.subscription=M.events.subscribe(fn=>{fn instanceof Ut&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(M){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",M)}ngOnChanges(M){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(M){null!=M?(this.commands=Array.isArray(M)?M:[M],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(M,z,ce,pe,Je){return!!(null===this.urlTree||this.isAnchorElement&&(0!==M||z||ce||pe||Je||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const M=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",M)}applyAttributeValue(M,z){const ce=this.renderer,pe=this.el.nativeElement;null!==z?ce.setAttribute(pe,M,z):ce.removeAttribute(pe,M)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(w=R).\u0275fac=function(M){return new(M||w)(d.Y36(gs),d.Y36(mi),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(jn.S$))},w.\u0275dir=d.lG2({type:w,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(M,z){1&M&&d.NdJ("click",function(pe){return z.onClick(pe.button,pe.ctrlKey,pe.shiftKey,pe.altKey,pe.metaKey)}),2&M&&d.uIk("target",z.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),R})();class Ga{}let Do=(()=>{var w;class R{constructor(M,z,ce,pe,Je){this.router=M,this.injector=ce,this.preloadingStrategy=pe,this.loader=Je}setUpPreloading(){this.subscription=this.router.events.pipe((0,kn.h)(M=>M instanceof Ut),Et(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(M,z){const ce=[];for(const pe of z){pe.providers&&!pe._injector&&(pe._injector=(0,d.MMx)(pe.providers,M,`Route: ${pe.path}`));const Je=pe._injector??M,kt=pe._loadedInjector??Je;(pe.loadChildren&&!pe._loadedRoutes&&void 0===pe.canLoad||pe.loadComponent&&!pe._loadedComponent)&&ce.push(this.preloadConfig(Je,pe)),(pe.children||pe._loadedRoutes)&&ce.push(this.processRoutes(kt,pe.children??pe._loadedRoutes))}return(0,Ne.D)(ce).pipe((0,Mn.J)())}preloadConfig(M,z){return this.preloadingStrategy.preload(z,()=>{let ce;ce=z.loadChildren&&void 0===z.canLoad?this.loader.loadChildren(M,z):(0,He.of)(null);const pe=ce.pipe((0,Ye.z)(Je=>null===Je?(0,He.of)(void 0):(z._loadedRoutes=Je.routes,z._loadedInjector=Je.injector,this.processRoutes(Je.injector??M,Je.routes))));if(z.loadComponent&&!z._loadedComponent){const Je=this.loader.loadComponent(z);return(0,Ne.D)([pe,Je]).pipe((0,Mn.J)())}return pe})}}return(w=R).\u0275fac=function(M){return new(M||w)(d.LFG(gs),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Ga),d.LFG(Ce))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),R})();const Vl=new d.OlP("");let Oc=(()=>{var w;class R{constructor(M,z,ce,pe,Je={}){this.urlSerializer=M,this.transitions=z,this.viewportScroller=ce,this.zone=pe,this.options=Je,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Je.scrollPositionRestoration=Je.scrollPositionRestoration||"disabled",Je.anchorScrolling=Je.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof Ft?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=M.navigationTrigger,this.restoredId=M.restoredState?M.restoredState.navigationId:0):M instanceof Ut?(this.lastId=M.id,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.urlAfterRedirects).fragment)):M instanceof si&&0===M.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof Ra&&(M.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(M.position):M.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(M.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(M,z){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ra(M,"popstate"===this.lastSource?this.store[this.restoredId]:null,z))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(w=R).\u0275fac=function(M){d.$Z()},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac}),R})();function Zl(w,R){return{\u0275kind:w,\u0275providers:R}}function Ki(){const w=(0,d.f3M)(d.zs3);return R=>{const P=w.get(d.z2F);if(R!==P.components[0])return;const M=w.get(gs),z=w.get(mr);1===w.get(yl)&&M.initialNavigation(),w.get(ht,null,d.XFs.Optional)?.setUpPreloading(),w.get(Vl,null,d.XFs.Optional)?.init(),M.resetRootComponentType(P.componentTypes[0]),z.closed||(z.next(),z.complete(),z.unsubscribe())}}const mr=new d.OlP("",{factory:()=>new Wn.x}),yl=new d.OlP("",{providedIn:"root",factory:()=>1}),ht=new d.OlP("");function Ti(w){return Zl(0,[{provide:ht,useExisting:Do},{provide:Ga,useExisting:w}])}const _o=new d.OlP("ROUTER_FORROOT_GUARD"),Pc=[jn.Ye,{provide:Tt,useClass:$e},gs,ls,{provide:mi,useFactory:function oc(w){return w.routerState.root},deps:[gs]},Ce,[]];function vc(){return new d.PXZ("Router",gs)}let nl=(()=>{var w;class R{constructor(M){}static forRoot(M,z){return{ngModule:R,providers:[Pc,[],{provide:_e,multi:!0,useValue:M},{provide:_o,useFactory:vo,deps:[[gs,new d.FiY,new d.tp0]]},{provide:$r,useValue:z||{}},z?.useHash?{provide:jn.S$,useClass:jn.Do}:{provide:jn.S$,useClass:jn.b0},{provide:Vl,useFactory:()=>{const w=(0,d.f3M)(jn.EM),R=(0,d.f3M)(d.R0b),P=(0,d.f3M)($r),M=(0,d.f3M)(xt),z=(0,d.f3M)(Tt);return P.scrollOffset&&w.setOffset(P.scrollOffset),new Oc(z,M,w,R,P)}},z?.preloadingStrategy?Ti(z.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:vc},z?.initialNavigation?hu(z):[],z?.bindToComponentInputs?Zl(8,[Or,{provide:fo,useExisting:Or}]).\u0275providers:[],[{provide:_t,useFactory:Ki},{provide:d.tb,multi:!0,useExisting:_t}]]}}static forChild(M){return{ngModule:R,providers:[{provide:_e,multi:!0,useValue:M}]}}}return(w=R).\u0275fac=function(M){return new(M||w)(d.LFG(_o,8))},w.\u0275mod=d.oAB({type:w}),w.\u0275inj=d.cJS({}),R})();function vo(w){return"guarded"}function hu(w){return["disabled"===w.initialNavigation?Zl(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const R=(0,d.f3M)(gs);return()=>{R.setUpLocationChangeListener()}}},{provide:yl,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Zl(2,[{provide:yl,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:R=>{const P=R.get(jn.V_,Promise.resolve());return()=>P.then(()=>new Promise(M=>{const z=R.get(gs),ce=R.get(mr);ci(z,()=>{M(!0)}),R.get(xt).afterPreactivation=()=>(M(!0),ce.closed?(0,He.of)(void 0):ce),z.initialNavigation()}))}}]).\u0275providers:[]]}const _t=new d.OlP("")},4303:(Rn,yt,Y)=>{Y.d(yt,{Jn:()=>Mn,KN:()=>At,Xd:()=>rn,qX:()=>ln});var d=Y(5861),ge=Y(4537),we=Y(7879),ne=Y(9058),Ne=Y(1878);class He{constructor($e){this.container=$e}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function Ae(Tt){const $e=Tt.getComponent();return"VERSION"===$e?.type}(Vt)){const wt=Vt.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(Vt=>Vt).join(" ")}}const ct="@firebase/app",Te=new we.Yd("@firebase/app"),nt={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,ot=new Map;function Ct(Tt,$e){try{Tt.container.addComponent($e)}catch(Vt){Te.debug(`Component ${$e.name} failed to register with FirebaseApp ${Tt.name}`,Vt)}}function rn(Tt){const $e=Tt.name;if(ot.has($e))return Te.debug(`There were multiple attempts to register component ${$e}.`),!1;ot.set($e,Tt);for(const Vt of Et.values())Ct(Vt,Tt);return!0}function ln(Tt,$e){const Vt=Tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Vt&&Vt.triggerHeartbeat(),Tt.container.getProvider($e)}const Bn=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),Mn="10.4.0";function At(Tt,$e,Vt){var wt;let sn=null!==(wt=nt[Tt])&&void 0!==wt?wt:Tt;Vt&&(sn+=`-${Vt}`);const gn=sn.match(/\s|\//),tr=$e.match(/\s|\//);if(gn||tr){const Ve=[`Unable to register library "${sn}" with version "${$e}":`];return gn&&Ve.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),gn&&tr&&Ve.push("and"),tr&&Ve.push(`version name "${$e}" contains illegal characters (whitespace or "/")`),void Te.warn(Ve.join(" "))}rn(new ge.wA(`${sn}-version`,()=>({library:sn,version:$e}),"VERSION"))}const Xn="firebase-heartbeat-database",cn=1,bn="firebase-heartbeat-store";let er=null;function cr(){return er||(er=(0,Ne.X3)(Xn,cn,{upgrade:(Tt,$e)=>{0===$e&&Tt.createObjectStore(bn)}}).catch(Tt=>{throw Bn.create("idb-open",{originalErrorMessage:Tt.message})})),er}function Si(){return(Si=(0,d.Z)(function*(Tt){try{return yield(yield cr()).transaction(bn).objectStore(bn).get(qr(Tt))}catch($e){if($e instanceof ne.ZR)Te.warn($e.message);else{const Vt=Bn.create("idb-get",{originalErrorMessage:$e?.message});Te.warn(Vt.message)}}})).apply(this,arguments)}function Ir(Tt,$e){return ti.apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(Tt,$e){try{const wt=(yield cr()).transaction(bn,"readwrite");yield wt.objectStore(bn).put($e,qr(Tt)),yield wt.done}catch(Vt){if(Vt instanceof ne.ZR)Te.warn(Vt.message);else{const wt=Bn.create("idb-set",{originalErrorMessage:Vt?.message});Te.warn(wt.message)}}})).apply(this,arguments)}function qr(Tt){return`${Tt.name}!${Tt.options.appId}`}class Dr{constructor($e){this.container=$e,this._heartbeatsCache=null;const Vt=this.container.getProvider("app").getImmediate();this._storage=new Is(Vt),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var $e=this;return(0,d.Z)(function*(){const wt=$e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),sn=ur();if(null===$e._heartbeatsCache&&($e._heartbeatsCache=yield $e._heartbeatsCachePromise),$e._heartbeatsCache.lastSentHeartbeatDate!==sn&&!$e._heartbeatsCache.heartbeats.some(gn=>gn.date===sn))return $e._heartbeatsCache.heartbeats.push({date:sn,agent:wt}),$e._heartbeatsCache.heartbeats=$e._heartbeatsCache.heartbeats.filter(gn=>{const tr=new Date(gn.date).valueOf();return Date.now()-tr<=2592e6}),$e._storage.overwrite($e._heartbeatsCache)})()}getHeartbeatsHeader(){var $e=this;return(0,d.Z)(function*(){if(null===$e._heartbeatsCache&&(yield $e._heartbeatsCachePromise),null===$e._heartbeatsCache||0===$e._heartbeatsCache.heartbeats.length)return"";const Vt=ur(),{heartbeatsToSend:wt,unsentEntries:sn}=function bs(Tt,$e=1024){const Vt=[];let wt=Tt.slice();for(const sn of Tt){const gn=Vt.find(tr=>tr.agent===sn.agent);if(gn){if(gn.dates.push(sn.date),_i(Vt)>$e){gn.dates.pop();break}}else if(Vt.push({agent:sn.agent,dates:[sn.date]}),_i(Vt)>$e){Vt.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:Vt,unsentEntries:wt}}($e._heartbeatsCache.heartbeats),gn=(0,ne.L)(JSON.stringify({version:2,heartbeats:wt}));return $e._heartbeatsCache.lastSentHeartbeatDate=Vt,sn.length>0?($e._heartbeatsCache.heartbeats=sn,yield $e._storage.overwrite($e._heartbeatsCache)):($e._heartbeatsCache.heartbeats=[],$e._storage.overwrite($e._heartbeatsCache)),gn})()}}function ur(){return(new Date).toISOString().substring(0,10)}class Is{constructor($e){this.app=$e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var $e=this;return(0,d.Z)(function*(){return(yield $e._canUseIndexedDBPromise)&&(yield function ii(Tt){return Si.apply(this,arguments)}($e.app))||{heartbeats:[]}})()}overwrite($e){var Vt=this;return(0,d.Z)(function*(){var wt;if(yield Vt._canUseIndexedDBPromise){const gn=yield Vt.read();return Ir(Vt.app,{lastSentHeartbeatDate:null!==(wt=$e.lastSentHeartbeatDate)&&void 0!==wt?wt:gn.lastSentHeartbeatDate,heartbeats:$e.heartbeats})}})()}add($e){var Vt=this;return(0,d.Z)(function*(){var wt;if(yield Vt._canUseIndexedDBPromise){const gn=yield Vt.read();return Ir(Vt.app,{lastSentHeartbeatDate:null!==(wt=$e.lastSentHeartbeatDate)&&void 0!==wt?wt:gn.lastSentHeartbeatDate,heartbeats:[...gn.heartbeats,...$e.heartbeats]})}})()}}function _i(Tt){return(0,ne.L)(JSON.stringify({version:2,heartbeats:Tt})).length}!function vs(Tt){rn(new ge.wA("platform-logger",$e=>new He($e),"PRIVATE")),rn(new ge.wA("heartbeat",$e=>new Dr($e),"PRIVATE")),At(ct,"0.9.19",Tt),At(ct,"0.9.19","esm2017"),At("fire-js","")}("")},4537:(Rn,yt,Y)=>{Y.d(yt,{H0:()=>ct,wA:()=>we,zt:()=>Ne});var d=Y(5861),ge=Y(9058);class we{constructor(Te,xe,Qe){this.name=Te,this.instanceFactory=xe,this.type=Qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Te){return this.instantiationMode=Te,this}setMultipleInstances(Te){return this.multipleInstances=Te,this}setServiceProps(Te){return this.serviceProps=Te,this}setInstanceCreatedCallback(Te){return this.onInstanceCreated=Te,this}}const ne="[DEFAULT]";class Ne{constructor(Te,xe){this.name=Te,this.container=xe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Te){const xe=this.normalizeInstanceIdentifier(Te);if(!this.instancesDeferred.has(xe)){const Qe=new ge.BH;if(this.instancesDeferred.set(xe,Qe),this.isInitialized(xe)||this.shouldAutoInitialize())try{const mt=this.getOrInitializeService({instanceIdentifier:xe});mt&&Qe.resolve(mt)}catch{}}return this.instancesDeferred.get(xe).promise}getImmediate(Te){var xe;const Qe=this.normalizeInstanceIdentifier(Te?.identifier),mt=null!==(xe=Te?.optional)&&void 0!==xe&&xe;if(!this.isInitialized(Qe)&&!this.shouldAutoInitialize()){if(mt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Qe})}catch(Ge){if(mt)return null;throw Ge}}getComponent(){return this.component}setComponent(Te){if(Te.name!==this.name)throw Error(`Mismatching Component ${Te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Te,this.shouldAutoInitialize()){if(function Ae(it){return"EAGER"===it.instantiationMode}(Te))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[xe,Qe]of this.instancesDeferred.entries()){const mt=this.normalizeInstanceIdentifier(xe);try{const Ge=this.getOrInitializeService({instanceIdentifier:mt});Qe.resolve(Ge)}catch{}}}}clearInstance(Te=ne){this.instancesDeferred.delete(Te),this.instancesOptions.delete(Te),this.instances.delete(Te)}delete(){var Te=this;return(0,d.Z)(function*(){const xe=Array.from(Te.instances.values());yield Promise.all([...xe.filter(Qe=>"INTERNAL"in Qe).map(Qe=>Qe.INTERNAL.delete()),...xe.filter(Qe=>"_delete"in Qe).map(Qe=>Qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Te=ne){return this.instances.has(Te)}getOptions(Te=ne){return this.instancesOptions.get(Te)||{}}initialize(Te={}){const{options:xe={}}=Te,Qe=this.normalizeInstanceIdentifier(Te.instanceIdentifier);if(this.isInitialized(Qe))throw Error(`${this.name}(${Qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const mt=this.getOrInitializeService({instanceIdentifier:Qe,options:xe});for(const[Ge,Yt]of this.instancesDeferred.entries())Qe===this.normalizeInstanceIdentifier(Ge)&&Yt.resolve(mt);return mt}onInit(Te,xe){var Qe;const mt=this.normalizeInstanceIdentifier(xe),Ge=null!==(Qe=this.onInitCallbacks.get(mt))&&void 0!==Qe?Qe:new Set;Ge.add(Te),this.onInitCallbacks.set(mt,Ge);const Yt=this.instances.get(mt);return Yt&&Te(Yt,mt),()=>{Ge.delete(Te)}}invokeOnInitCallbacks(Te,xe){const Qe=this.onInitCallbacks.get(xe);if(Qe)for(const mt of Qe)try{mt(Te,xe)}catch{}}getOrInitializeService({instanceIdentifier:Te,options:xe={}}){let Qe=this.instances.get(Te);if(!Qe&&this.component&&(Qe=this.component.instanceFactory(this.container,{instanceIdentifier:(it=Te,it===ne?void 0:it),options:xe}),this.instances.set(Te,Qe),this.instancesOptions.set(Te,xe),this.invokeOnInitCallbacks(Qe,Te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Te,Qe)}catch{}var it;return Qe||null}normalizeInstanceIdentifier(Te=ne){return this.component?this.component.multipleInstances?Te:ne:Te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ct{constructor(Te){this.name=Te,this.providers=new Map}addComponent(Te){const xe=this.getProvider(Te.name);if(xe.isComponentSet())throw new Error(`Component ${Te.name} has already been registered with ${this.name}`);xe.setComponent(Te)}addOrOverwriteComponent(Te){this.getProvider(Te.name).isComponentSet()&&this.providers.delete(Te.name),this.addComponent(Te)}getProvider(Te){if(this.providers.has(Te))return this.providers.get(Te);const xe=new Ne(Te,this);return this.providers.set(Te,xe),xe}getProviders(){return Array.from(this.providers.values())}}},7879:(Rn,yt,Y)=>{Y.d(yt,{Am:()=>it,Ub:()=>ct,Yd:()=>Ae,in:()=>ge});const d=[];var ge=function(Te){return Te[Te.DEBUG=0]="DEBUG",Te[Te.VERBOSE=1]="VERBOSE",Te[Te.INFO=2]="INFO",Te[Te.WARN=3]="WARN",Te[Te.ERROR=4]="ERROR",Te[Te.SILENT=5]="SILENT",Te}(ge||{});const we={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},ne=ge.INFO,Ne={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},He=(Te,xe,...Qe)=>{if(xe<Te.logLevel)return;const mt=(new Date).toISOString(),Ge=Ne[xe];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${xe})`);console[Ge](`[${mt}]  ${Te.name}:`,...Qe)};class Ae{constructor(xe){this.name=xe,this._logLevel=ne,this._logHandler=He,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(xe){if(!(xe in ge))throw new TypeError(`Invalid value "${xe}" assigned to \`logLevel\``);this._logLevel=xe}setLogLevel(xe){this._logLevel="string"==typeof xe?we[xe]:xe}get logHandler(){return this._logHandler}set logHandler(xe){if("function"!=typeof xe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=xe}get userLogHandler(){return this._userLogHandler}set userLogHandler(xe){this._userLogHandler=xe}debug(...xe){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...xe),this._logHandler(this,ge.DEBUG,...xe)}log(...xe){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...xe),this._logHandler(this,ge.VERBOSE,...xe)}info(...xe){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...xe),this._logHandler(this,ge.INFO,...xe)}warn(...xe){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...xe),this._logHandler(this,ge.WARN,...xe)}error(...xe){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...xe),this._logHandler(this,ge.ERROR,...xe)}}function ct(Te){d.forEach(xe=>{xe.setLogLevel(Te)})}function it(Te,xe){for(const Qe of d){let mt=null;xe&&xe.level&&(mt=we[xe.level]),Qe.userLogHandler=null===Te?null:(Ge,Yt,...ut)=>{const an=ut.map(qt=>{if(null==qt)return null;if("string"==typeof qt)return qt;if("number"==typeof qt||"boolean"==typeof qt)return qt.toString();if(qt instanceof Error)return qt.message;try{return JSON.stringify(qt)}catch{return null}}).filter(qt=>qt).join(" ");Yt>=(mt??Ge.logLevel)&&Te({level:ge[Yt].toLowerCase(),message:an,args:ut,type:Ge.name})}}}},5597:(Rn,yt,Y)=>{Y.d(yt,{BN:()=>io,uH:()=>Se});var d=Y(5879);function ge($,re){var he=Object.keys($);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols($);re&&(_e=_e.filter(function(Ce){return Object.getOwnPropertyDescriptor($,Ce).enumerable})),he.push.apply(he,_e)}return he}function we($){for(var re=1;re<arguments.length;re++){var he=null!=arguments[re]?arguments[re]:{};re%2?ge(Object(he),!0).forEach(function(_e){it($,_e,he[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(he)):ge(Object(he)).forEach(function(_e){Object.defineProperty($,_e,Object.getOwnPropertyDescriptor(he,_e))})}return $}function ne($){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(re){return typeof re}:function(re){return re&&"function"==typeof Symbol&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re})($)}function Ae($,re){for(var he=0;he<re.length;he++){var _e=re[he];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty($,_e.key,_e)}}function it($,re,he){return re in $?Object.defineProperty($,re,{value:he,enumerable:!0,configurable:!0,writable:!0}):$[re]=he,$}function Qe($,re){return function Yt($){if(Array.isArray($))return $}($)||function an($,re){var he=null==$?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(null!=he){var et,xt,_e=[],Ce=!0,Ke=!1;try{for(he=he.call($);!(Ce=(et=he.next()).done)&&(_e.push(et.value),!re||_e.length!==re);Ce=!0);}catch(Ot){Ke=!0,xt=Ot}finally{try{!Ce&&null!=he.return&&he.return()}finally{if(Ke)throw xt}}return _e}}($,re)||qt($,re)||function st(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt($){return function Ge($){if(Array.isArray($))return Nn($)}($)||function ut($){if(typeof Symbol<"u"&&null!=$[Symbol.iterator]||null!=$["@@iterator"])return Array.from($)}($)||qt($)||function wn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt($,re){if($){if("string"==typeof $)return Nn($,re);var he=Object.prototype.toString.call($).slice(8,-1);if("Object"===he&&$.constructor&&(he=$.constructor.name),"Map"===he||"Set"===he)return Array.from($);if("Arguments"===he||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return Nn($,re)}}function Nn($,re){(null==re||re>$.length)&&(re=$.length);for(var he=0,_e=new Array(re);he<re;he++)_e[he]=$[he];return _e}var It=function(){},pt={},gt={},Mt=null,Oe={mark:It,measure:It};try{typeof window<"u"&&(pt=window),typeof document<"u"&&(gt=document),typeof MutationObserver<"u"&&(Mt=MutationObserver),typeof performance<"u"&&(Oe=performance)}catch{}var nt,Et,ot,Ct,en,on=(pt.navigator||{}).userAgent,Wn=void 0===on?"":on,jn=pt,mn=gt,Yn=Mt,yr=Oe,kn=!!mn.documentElement&&!!mn.head&&"function"==typeof mn.addEventListener&&"function"==typeof mn.createElement,Ye=~Wn.indexOf("MSIE")||~Wn.indexOf("Trident/"),rn="___FONT_AWESOME___",Hr="fa",ir="svg-inline--fa",hr="data-fa-i2svg",Bn="data-fa-pseudo-element",Mr="data-fa-pseudo-element-pending",Mn="data-prefix",Nr="data-icon",Ue="fontawesome-i2svg",Ze="async",St=["HTML","HEAD","STYLE","SCRIPT"],Nt=function(){try{return!0}catch{return!1}}(),At="classic",Qt="sharp",pr=[At,Qt];function Xn($){return new Proxy($,{get:function(he,_e){return _e in he?he[_e]:he[At]}})}var cn=Xn((it(nt={},At,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),it(nt,Qt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),nt)),bn=Xn((it(Et={},At,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),it(Et,Qt,{solid:"fass",regular:"fasr",light:"fasl"}),Et)),er=Xn((it(ot={},At,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),it(ot,Qt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),ot)),cr=Xn((it(Ct={},At,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),it(Ct,Qt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Ct)),ii=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,Si="fa-layers-text",Ir=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,ti=Xn((it(en={},At,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),it(en,Qt,{900:"fass",400:"fasr",300:"fasl"}),en)),qr=[1,2,3,4,5,6,7,8,9,10],Vr=qr.concat([11,12,13,14,15,16,17,18,19,20]),Xi=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Dr={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ur=new Set;Object.keys(bn[At]).map(ur.add.bind(ur)),Object.keys(bn[Qt]).map(ur.add.bind(ur));var bs=[].concat(pr,mt(ur),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Dr.GROUP,Dr.SWAP_OPACITY,Dr.PRIMARY,Dr.SECONDARY]).concat(qr.map(function($){return"".concat($,"x")})).concat(Vr.map(function($){return"w-".concat($)})),Is=jn.FontAwesomeConfig||{};mn&&"function"==typeof mn.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function($){var re=Qe($,2),_e=re[1],Ce=function vs($){return""===$||"false"!==$&&("true"===$||$)}(function _i($){var re=mn.querySelector("script["+$+"]");if(re)return re.getAttribute($)}(re[0]));null!=Ce&&(Is[_e]=Ce)});var $e={styleDefault:"solid",familyDefault:"classic",cssPrefix:Hr,replacementClass:ir,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Is.familyPrefix&&(Is.cssPrefix=Is.familyPrefix);var Vt=we(we({},$e),Is);Vt.autoReplaceSvg||(Vt.observeMutations=!1);var wt={};Object.keys($e).forEach(function($){Object.defineProperty(wt,$,{enumerable:!0,set:function(he){Vt[$]=he,sn.forEach(function(_e){return _e(wt)})},get:function(){return Vt[$]}})}),Object.defineProperty(wt,"familyPrefix",{enumerable:!0,set:function(re){Vt.cssPrefix=re,sn.forEach(function(he){return he(wt)})},get:function(){return Vt.cssPrefix}}),jn.FontAwesomeConfig=wt;var sn=[],Ve={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},fe="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Le(){for(var $=12,re="";$-- >0;)re+=fe[62*Math.random()|0];return re}function ve($){for(var re=[],he=($||[]).length>>>0;he--;)re[he]=$[he];return re}function ze($){return $.classList?ve($.classList):($.getAttribute("class")||"").split(" ").filter(function(re){return re})}function Lt($){return"".concat($).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qn($){return Object.keys($||{}).reduce(function(re,he){return re+"".concat(he,": ").concat($[he].trim(),";")},"")}function Sn($){return $.size!==Ve.size||$.x!==Ve.x||$.y!==Ve.y||$.rotate!==Ve.rotate||$.flipX||$.flipY}var Ei=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function ui(){var $=Hr,re=ir,he=wt.cssPrefix,_e=wt.replacementClass,Ce=Ei;if(he!==$||_e!==re){var Ke=new RegExp("\\.".concat($,"\\-"),"g"),et=new RegExp("\\--".concat($,"\\-"),"g"),xt=new RegExp("\\.".concat(re),"g");Ce=Ce.replace(Ke,".".concat(he,"-")).replace(et,"--".concat(he,"-")).replace(xt,".".concat(_e))}return Ce}var Ns=!1;function $s(){wt.autoAddCss&&!Ns&&(function me($){if($&&kn){var re=mn.createElement("style");re.setAttribute("type","text/css"),re.innerHTML=$;for(var he=mn.head.childNodes,_e=null,Ce=he.length-1;Ce>-1;Ce--){var Ke=he[Ce],et=(Ke.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(et)>-1&&(_e=Ke)}mn.head.insertBefore(re,_e)}}(ui()),Ns=!0)}var ks={mixout:function(){return{dom:{css:ui,insertCss:$s}}},hooks:function(){return{beforeDOMElementCreation:function(){$s()},beforeI2svg:function(){$s()}}}},li=jn||{};li[rn]||(li[rn]={}),li[rn].styles||(li[rn].styles={}),li[rn].hooks||(li[rn].hooks={}),li[rn].shims||(li[rn].shims=[]);var wi=li[rn],zi=[],Wi=!1;function Xs($){var re=$.tag,he=$.attributes,_e=void 0===he?{}:he,Ce=$.children,Ke=void 0===Ce?[]:Ce;return"string"==typeof $?Lt($):"<".concat(re," ").concat(function tn($){return Object.keys($||{}).reduce(function(re,he){return re+"".concat(he,'="').concat(Lt($[he]),'" ')},"").trim()}(_e),">").concat(Ke.map(Xs).join(""),"</").concat(re,">")}function $o($,re,he){if($&&$[re]&&$[re][he])return{prefix:re,iconName:he,icon:$[re][he]}}kn&&((Wi=(mn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(mn.readyState))||mn.addEventListener("DOMContentLoaded",function $(){mn.removeEventListener("DOMContentLoaded",$),Wi=1,zi.map(function(re){return re()})}));var Fs=function(re,he,_e,Ce){var Ot,In,xn,Ke=Object.keys(re),et=Ke.length,xt=void 0!==Ce?function(re,he){return function(_e,Ce,Ke,et){return re.call(he,_e,Ce,Ke,et)}}(he,Ce):he;for(void 0===_e?(Ot=1,xn=re[Ke[0]]):(Ot=0,xn=_e);Ot<et;Ot++)xn=xt(xn,re[In=Ke[Ot]],In,re);return xn};function Ts($){var re=function ao($){for(var re=[],he=0,_e=$.length;he<_e;){var Ce=$.charCodeAt(he++);if(Ce>=55296&&Ce<=56319&&he<_e){var Ke=$.charCodeAt(he++);56320==(64512&Ke)?re.push(((1023&Ce)<<10)+(1023&Ke)+65536):(re.push(Ce),he--)}else re.push(Ce)}return re}($);return 1===re.length?re[0].toString(16):null}function fs($){return Object.keys($).reduce(function(re,he){var _e=$[he];return _e.icon?re[_e.iconName]=_e.icon:re[he]=_e,re},{})}function Go($,re){var _e=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,Ce=void 0!==_e&&_e,Ke=fs(re);"function"!=typeof wi.hooks.addPack||Ce?wi.styles[$]=we(we({},wi.styles[$]||{}),Ke):wi.hooks.addPack($,fs(re)),"fas"===$&&Go("fa",re)}var Br,Un,jr,ss=wi.styles,xi=wi.shims,sl=(it(Br={},At,Object.values(er[At])),it(Br,Qt,Object.values(er[Qt])),Br),tt=null,qe={},vt={},Ft={},Ut={},Hn={},si=(it(Un={},At,Object.keys(cn[At])),it(Un,Qt,Object.keys(cn[Qt])),Un);var Za=function(){var re=function(Ke){return Fs(ss,function(et,xt,Ot){return et[Ot]=Fs(xt,Ke,{}),et},{})};qe=re(function(Ce,Ke,et){return Ke[3]&&(Ce[Ke[3]]=et),Ke[2]&&Ke[2].filter(function(Ot){return"number"==typeof Ot}).forEach(function(Ot){Ce[Ot.toString(16)]=et}),Ce}),vt=re(function(Ce,Ke,et){return Ce[et]=et,Ke[2]&&Ke[2].filter(function(Ot){return"string"==typeof Ot}).forEach(function(Ot){Ce[Ot]=et}),Ce}),Hn=re(function(Ce,Ke,et){var xt=Ke[2];return Ce[et]=et,xt.forEach(function(Ot){Ce[Ot]=et}),Ce});var he="far"in ss||wt.autoFetchSvg,_e=Fs(xi,function(Ce,Ke){var et=Ke[0],xt=Ke[1],Ot=Ke[2];return"far"===xt&&!he&&(xt="fas"),"string"==typeof et&&(Ce.names[et]={prefix:xt,iconName:Ot}),"number"==typeof et&&(Ce.unicodes[et.toString(16)]={prefix:xt,iconName:Ot}),Ce},{names:{},unicodes:{}});Ft=_e.names,Ut=_e.unicodes,tt=na(wt.styleDefault,{family:wt.familyDefault})};function Gs($,re){return(qe[$]||{})[re]}function Vi($,re){return(Hn[$]||{})[re]}function co($){return Ft[$]||{prefix:null,iconName:null}}function uo(){return tt}(function gn($){sn.push($)})(function($){tt=na($.styleDefault,{family:wt.familyDefault})}),Za();var Fa=function(){return{prefix:null,iconName:null,rest:[]}};function na($){var he=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,_e=void 0===he?At:he;return bn[_e][$]||bn[_e][cn[_e][$]]||($ in wi.styles?$:null)||null}var Po=(it(jr={},At,Object.keys(er[At])),it(jr,Qt,Object.keys(er[Qt])),jr);function Ra($){var re,_e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,Ce=void 0!==_e&&_e,Ke=(it(re={},At,"".concat(wt.cssPrefix,"-").concat(At)),it(re,Qt,"".concat(wt.cssPrefix,"-").concat(Qt)),re),et=null,xt=At;($.includes(Ke[At])||$.some(function(In){return Po[At].includes(In)}))&&(xt=At),($.includes(Ke[Qt])||$.some(function(In){return Po[Qt].includes(In)}))&&(xt=Qt);var Ot=$.reduce(function(In,xn){var Kn=function Ar($,re){var he=re.split("-"),_e=he[0],Ce=he.slice(1).join("-");return _e!==$||""===Ce||function Zr($){return~bs.indexOf($)}(Ce)?null:Ce}(wt.cssPrefix,xn);if(ss[xn]?(xn=sl[xt].includes(xn)?cr[xt][xn]:xn,et=xn,In.prefix=xn):si[xt].indexOf(xn)>-1?(et=xn,In.prefix=na(xn,{family:xt})):Kn?In.iconName=Kn:xn!==wt.replacementClass&&xn!==Ke[At]&&xn!==Ke[Qt]&&In.rest.push(xn),!Ce&&In.prefix&&In.iconName){var Vn="fa"===et?co(In.iconName):{},Sr=Vi(In.prefix,In.iconName);Vn.prefix&&(et=null),In.iconName=Vn.iconName||Sr||In.iconName,In.prefix=Vn.prefix||In.prefix,"far"===In.prefix&&!ss.far&&ss.fas&&!wt.autoFetchSvg&&(In.prefix="fas")}return In},Fa());return($.includes("fa-brands")||$.includes("fab"))&&(Ot.prefix="fab"),($.includes("fa-duotone")||$.includes("fad"))&&(Ot.prefix="fad"),!Ot.prefix&&xt===Qt&&(ss.fass||wt.autoFetchSvg)&&(Ot.prefix="fass",Ot.iconName=Vi(Ot.prefix,Ot.iconName)||Ot.iconName),("fa"===Ot.prefix||"fa"===et)&&(Ot.prefix=uo()||"fas"),Ot}var Jr=function(){function $(){(function He($,re){if(!($ instanceof re))throw new TypeError("Cannot call a class as a function")})(this,$),this.definitions={}}return function ct($,re,he){re&&Ae($.prototype,re),he&&Ae($,he),Object.defineProperty($,"prototype",{writable:!1})}($,[{key:"add",value:function(){for(var he=this,_e=arguments.length,Ce=new Array(_e),Ke=0;Ke<_e;Ke++)Ce[Ke]=arguments[Ke];var et=Ce.reduce(this._pullDefinitions,{});Object.keys(et).forEach(function(xt){he.definitions[xt]=we(we({},he.definitions[xt]||{}),et[xt]),Go(xt,et[xt]);var Ot=er[At][xt];Ot&&Go(Ot,et[xt]),Za()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(he,_e){var Ce=_e.prefix&&_e.iconName&&_e.icon?{0:_e}:_e;return Object.keys(Ce).map(function(Ke){var et=Ce[Ke],xt=et.prefix,Ot=et.iconName,In=et.icon,xn=In[2];he[xt]||(he[xt]={}),xn.length>0&&xn.forEach(function(Kn){"string"==typeof Kn&&(he[xt][Kn]=In)}),he[xt][Ot]=In}),he}}]),$}(),es=[],gi={},Pr={},ls=Object.keys(Pr);function ha($,re){for(var he=arguments.length,_e=new Array(he>2?he-2:0),Ce=2;Ce<he;Ce++)_e[Ce-2]=arguments[Ce];return(gi[$]||[]).forEach(function(et){re=et.apply(null,[re].concat(_e))}),re}function Bi($){for(var re=arguments.length,he=new Array(re>1?re-1:0),_e=1;_e<re;_e++)he[_e-1]=arguments[_e];(gi[$]||[]).forEach(function(Ke){Ke.apply(null,he)})}function bi(){var $=arguments[0],re=Array.prototype.slice.call(arguments,1);return Pr[$]?Pr[$].apply(null,re):void 0}function Oi($){"fa"===$.prefix&&($.prefix="fas");var re=$.iconName,he=$.prefix||uo();if(re)return re=Vi(he,re)||re,$o(yi.definitions,he,re)||$o(wi.styles,he,re)}var yi=new Jr,Fr={i2svg:function(){var re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kn?(Bi("beforeI2svg",re),bi("pseudoElements2svg",re),bi("i2svg",re)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},he=re.autoReplaceSvgRoot;!1===wt.autoReplaceSvg&&(wt.autoReplaceSvg=!0),wt.observeMutations=!0,function Js($){kn&&(Wi?setTimeout($,0):zi.push($))}(function(){ia({autoReplaceSvgRoot:he}),Bi("watch",re)})}},Tr={noAuto:function(){wt.autoReplaceSvg=!1,wt.observeMutations=!1,Bi("noAuto")},config:wt,dom:Fr,parse:{icon:function(re){if(null===re)return null;if("object"===ne(re)&&re.prefix&&re.iconName)return{prefix:re.prefix,iconName:Vi(re.prefix,re.iconName)||re.iconName};if(Array.isArray(re)&&2===re.length){var he=0===re[1].indexOf("fa-")?re[1].slice(3):re[1],_e=na(re[0]);return{prefix:_e,iconName:Vi(_e,he)||he}}if("string"==typeof re&&(re.indexOf("".concat(wt.cssPrefix,"-"))>-1||re.match(ii))){var Ce=Ra(re.split(" "),{skipLookups:!0});return{prefix:Ce.prefix||uo(),iconName:Vi(Ce.prefix,Ce.iconName)||Ce.iconName}}if("string"==typeof re){var Ke=uo();return{prefix:Ke,iconName:Vi(Ke,re)||re}}}},library:yi,findIconDefinition:Oi,toHtml:Xs},ia=function(){var he=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,_e=void 0===he?mn:he;(Object.keys(wi.styles).length>0||wt.autoFetchSvg)&&kn&&wt.autoReplaceSvg&&Tr.dom.i2svg({node:_e})};function Di($,re){return Object.defineProperty($,"abstract",{get:re}),Object.defineProperty($,"html",{get:function(){return $.abstract.map(function(_e){return Xs(_e)})}}),Object.defineProperty($,"node",{get:function(){if(kn){var _e=mn.createElement("div");return _e.innerHTML=$.html,_e.children}}}),$}function Os($){var re=$.icons,he=re.main,_e=re.mask,Ce=$.prefix,Ke=$.iconName,et=$.transform,xt=$.symbol,Ot=$.title,In=$.maskId,xn=$.titleId,Kn=$.extra,Vn=$.watchable,Sr=void 0!==Vn&&Vn,$r=_e.found?_e:he,ps=$r.width,Ws=$r.height,Bt="fak"===Ce,ci=[wt.replacementClass,Ke?"".concat(wt.cssPrefix,"-").concat(Ke):""].filter(function(Pt){return-1===Kn.classes.indexOf(Pt)}).filter(function(Pt){return""!==Pt||!!Pt}).concat(Kn.classes).join(" "),ki={children:[],attributes:we(we({},Kn.attributes),{},{"data-prefix":Ce,"data-icon":Ke,class:ci,role:Kn.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ps," ").concat(Ws)})},ns=Bt&&!~Kn.classes.indexOf("fa-fw")?{width:"".concat(ps/Ws*16*.0625,"em")}:{};Sr&&(ki.attributes[hr]=""),Ot&&(ki.children.push({tag:"title",attributes:{id:ki.attributes["aria-labelledby"]||"title-".concat(xn||Le())},children:[Ot]}),delete ki.attributes.title);var zn=we(we({},ki),{},{prefix:Ce,iconName:Ke,main:he,mask:_e,maskId:In,transform:et,symbol:xt,styles:we(we({},ns),Kn.styles)}),lr=_e.found&&he.found?bi("generateAbstractMask",zn)||{children:[],attributes:{}}:bi("generateAbstractIcon",zn)||{children:[],attributes:{}},yn=lr.attributes;return zn.children=lr.children,zn.attributes=yn,xt?function qi($){var he=$.iconName,_e=$.children,Ce=$.attributes,Ke=$.symbol,et=!0===Ke?"".concat($.prefix,"-").concat(wt.cssPrefix,"-").concat(he):Ke;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:we(we({},Ce),{},{id:et}),children:_e}]}]}(zn):function ho($){var re=$.children,he=$.main,_e=$.mask,Ce=$.attributes,Ke=$.styles,et=$.transform;if(Sn(et)&&he.found&&!_e.found){var In={x:he.width/he.height/2,y:.5};Ce.style=qn(we(we({},Ke),{},{"transform-origin":"".concat(In.x+et.x/16,"em ").concat(In.y+et.y/16,"em")}))}return[{tag:"svg",attributes:Ce,children:re}]}(zn)}function Ho($){var re=$.content,he=$.width,_e=$.height,Ce=$.transform,Ke=$.title,et=$.extra,xt=$.watchable,Ot=void 0!==xt&&xt,In=we(we(we({},et.attributes),Ke?{title:Ke}:{}),{},{class:et.classes.join(" ")});Ot&&(In[hr]="");var xn=we({},et.styles);Sn(Ce)&&(xn.transform=function dr($){var re=$.transform,he=$.width,Ce=$.height,Ke=void 0===Ce?16:Ce,et=$.startCentered,xt=void 0!==et&&et,Ot="";return Ot+=xt&&Ye?"translate(".concat(re.x/16-(void 0===he?16:he)/2,"em, ").concat(re.y/16-Ke/2,"em) "):xt?"translate(calc(-50% + ".concat(re.x/16,"em), calc(-50% + ").concat(re.y/16,"em)) "):"translate(".concat(re.x/16,"em, ").concat(re.y/16,"em) "),(Ot+="scale(".concat(re.size/16*(re.flipX?-1:1),", ").concat(re.size/16*(re.flipY?-1:1),") "))+"rotate(".concat(re.rotate,"deg) ")}({transform:Ce,startCentered:!0,width:he,height:_e}),xn["-webkit-transform"]=xn.transform);var Kn=qn(xn);Kn.length>0&&(In.style=Kn);var Vn=[];return Vn.push({tag:"span",attributes:In,children:[re]}),Ke&&Vn.push({tag:"span",attributes:{class:"sr-only"},children:[Ke]}),Vn}var No=wi.styles;function Ja($){var re=$[0],he=$[1],Ke=Qe($.slice(4),1)[0];return{found:!0,width:re,height:he,icon:Array.isArray(Ke)?{tag:"g",attributes:{class:"".concat(wt.cssPrefix,"-").concat(Dr.GROUP)},children:[{tag:"path",attributes:{class:"".concat(wt.cssPrefix,"-").concat(Dr.SECONDARY),fill:"currentColor",d:Ke[0]}},{tag:"path",attributes:{class:"".concat(wt.cssPrefix,"-").concat(Dr.PRIMARY),fill:"currentColor",d:Ke[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:Ke}}}}var fo={found:!1,width:512,height:512};function ma($,re){var he=re;return"fa"===re&&null!==wt.styleDefault&&(re=uo()),new Promise(function(_e,Ce){if(bi("missingIconAbstract"),"fa"===he){var et=co($)||{};$=et.iconName||$,re=et.prefix||re}if($&&re&&No[re]&&No[re][$])return _e(Ja(No[re][$]));(function Or($,re){!Nt&&!wt.showMissingIcons&&$&&console.error('Icon with name "'.concat($,'" and prefix "').concat(re,'" is missing.'))})($,re),_e(we(we({},fo),{},{icon:wt.showMissingIcons&&$&&bi("missingIconAbstract")||{}}))})}var Ls=function(){},Es=wt.measurePerformance&&yr&&yr.mark&&yr.measure?yr:{mark:Ls,measure:Ls},Ss='FA "6.4.2"',eo=function(re){Es.mark("".concat(Ss," ").concat(re," ends")),Es.measure("".concat(Ss," ").concat(re),"".concat(Ss," ").concat(re," begins"),"".concat(Ss," ").concat(re," ends"))},Vs={begin:function(re){return Es.mark("".concat(Ss," ").concat(re," begins")),function(){return eo(re)}},end:eo},Cr=function(){};function po($){return"string"==typeof($.getAttribute?$.getAttribute(hr):null)}function La($){return mn.createElementNS("http://www.w3.org/2000/svg",$)}function to($){return mn.createElement($)}function Ds($){var he=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,_e=void 0===he?"svg"===$.tag?La:to:he;if("string"==typeof $)return mn.createTextNode($);var Ce=_e($.tag);return Object.keys($.attributes||[]).forEach(function(et){Ce.setAttribute(et,$.attributes[et])}),($.children||[]).forEach(function(et){Ce.appendChild(Ds(et,{ceFn:_e}))}),Ce}var go={replace:function(re){var he=re[0];if(he.parentNode)if(re[1].forEach(function(Ce){he.parentNode.insertBefore(Ds(Ce),he)}),null===he.getAttribute(hr)&&wt.keepOriginalSource){var _e=mn.createComment(function ya($){var re=" ".concat($.outerHTML," ");return"".concat(re,"Font Awesome fontawesome.com ")}(he));he.parentNode.replaceChild(_e,he)}else he.remove()},nest:function(re){var he=re[0],_e=re[1];if(~ze(he).indexOf(wt.replacementClass))return go.replace(re);var Ce=new RegExp("".concat(wt.cssPrefix,"-.*"));if(delete _e[0].attributes.id,_e[0].attributes.class){var Ke=_e[0].attributes.class.split(" ").reduce(function(xt,Ot){return Ot===wt.replacementClass||Ot.match(Ce)?xt.toSvg.push(Ot):xt.toNode.push(Ot),xt},{toNode:[],toSvg:[]});_e[0].attributes.class=Ke.toSvg.join(" "),0===Ke.toNode.length?he.removeAttribute("class"):he.setAttribute("class",Ke.toNode.join(" "))}var et=_e.map(function(xt){return Xs(xt)}).join("\n");he.setAttribute(hr,""),he.innerHTML=et}};function os($){$()}function va($,re){var he="function"==typeof re?re:Cr;if(0===$.length)he();else{var _e=os;wt.mutateApproach===Ze&&(_e=jn.requestAnimationFrame||os),_e(function(){var Ce=function Ui(){return!0===wt.autoReplaceSvg?go.replace:go[wt.autoReplaceSvg]||go.replace}(),Ke=Vs.begin("mutate");$.map(Ce),Ke(),he()})}}var as=!1;function Ii(){as=!0}function zo(){as=!1}var no=null;function Ci($){if(Yn&&wt.observeMutations){var re=$.treeCallback,he=void 0===re?Cr:re,_e=$.nodeCallback,Ce=void 0===_e?Cr:_e,Ke=$.pseudoElementsCallback,et=void 0===Ke?Cr:Ke,xt=$.observeMutationsRoot,Ot=void 0===xt?mn:xt;no=new Yn(function(In){if(!as){var xn=uo();ve(In).forEach(function(Kn){if("childList"===Kn.type&&Kn.addedNodes.length>0&&!po(Kn.addedNodes[0])&&(wt.searchPseudoElements&&et(Kn.target),he(Kn.target)),"attributes"===Kn.type&&Kn.target.parentNode&&wt.searchPseudoElements&&et(Kn.target.parentNode),"attributes"===Kn.type&&po(Kn.target)&&~Xi.indexOf(Kn.attributeName))if("class"===Kn.attributeName&&function zr($){var re=$.getAttribute?$.getAttribute(Mn):null,he=$.getAttribute?$.getAttribute(Nr):null;return re&&he}(Kn.target)){var Vn=Ra(ze(Kn.target)),$r=Vn.iconName;Kn.target.setAttribute(Mn,Vn.prefix||xn),$r&&Kn.target.setAttribute(Nr,$r)}else(function _l($){return $&&$.classList&&$.classList.contains&&$.classList.contains(wt.replacementClass)})(Kn.target)&&Ce(Kn.target)})}}),kn&&no.observe(Ot,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Xa($){var re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},he=function ji($){var re=$.getAttribute("data-prefix"),he=$.getAttribute("data-icon"),_e=void 0!==$.innerText?$.innerText.trim():"",Ce=Ra(ze($));return Ce.prefix||(Ce.prefix=uo()),re&&he&&(Ce.prefix=re,Ce.iconName=he),Ce.iconName&&Ce.prefix||(Ce.prefix&&_e.length>0&&(Ce.iconName=function lo($,re){return(vt[$]||{})[re]}(Ce.prefix,$.innerText)||Gs(Ce.prefix,Ts($.innerText))),!Ce.iconName&&wt.autoFetchSvg&&$.firstChild&&$.firstChild.nodeType===Node.TEXT_NODE&&(Ce.iconName=$.firstChild.data)),Ce}($),_e=he.iconName,Ce=he.prefix,Ke=he.rest,et=function xa($){var re=ve($.attributes).reduce(function(Ce,Ke){return"class"!==Ce.name&&"style"!==Ce.name&&(Ce[Ke.name]=Ke.value),Ce},{}),he=$.getAttribute("title"),_e=$.getAttribute("data-fa-title-id");return wt.autoA11y&&(he?re["aria-labelledby"]="".concat(wt.replacementClass,"-title-").concat(_e||Le()):(re["aria-hidden"]="true",re.focusable="false")),re}($),xt=ha("parseNodeAttributes",{},$),Ot=re.styleParser?function Ea($){var re=$.getAttribute("style"),he=[];return re&&(he=re.split(";").reduce(function(_e,Ce){var Ke=Ce.split(":"),et=Ke[0],xt=Ke.slice(1);return et&&xt.length>0&&(_e[et]=xt.join(":").trim()),_e},{})),he}($):[];return we({iconName:_e,title:$.getAttribute("title"),titleId:$.getAttribute("data-fa-title-id"),prefix:Ce,transform:Ve,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:Ke,styles:Ot,attributes:et}},xt)}var Va=wi.styles;function fa($){var re="nest"===wt.autoReplaceSvg?Xa($,{styleParser:!1}):Xa($);return~re.extra.classes.indexOf(Si)?bi("generateLayersText",$,re):bi("generateSvgReplacementMutation",$,re)}var Wo=new Set;function kl($){var re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!kn)return Promise.resolve();var he=mn.documentElement.classList,_e=function(Kn){return he.add("".concat(Ue,"-").concat(Kn))},Ce=function(Kn){return he.remove("".concat(Ue,"-").concat(Kn))},Ke=wt.autoFetchSvg?Wo:pr.map(function(xn){return"fa-".concat(xn)}).concat(Object.keys(Va));Ke.includes("fa")||Ke.push("fa");var et=[".".concat(Si,":not([").concat(hr,"])")].concat(Ke.map(function(xn){return".".concat(xn,":not([").concat(hr,"])")})).join(", ");if(0===et.length)return Promise.resolve();var xt=[];try{xt=ve($.querySelectorAll(et))}catch{}if(!(xt.length>0))return Promise.resolve();_e("pending"),Ce("complete");var Ot=Vs.begin("onTree"),In=xt.reduce(function(xn,Kn){try{var Vn=fa(Kn);Vn&&xn.push(Vn)}catch(Sr){Nt||"MissingIcon"===Sr.name&&console.error(Sr)}return xn},[]);return new Promise(function(xn,Kn){Promise.all(In).then(function(Vn){va(Vn,function(){_e("active"),_e("complete"),Ce("pending"),"function"==typeof re&&re(),Ot(),xn()})}).catch(function(Vn){Ot(),Kn(Vn)})})}function pa($){var re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;fa($).then(function(he){he&&va([he],re)})}pr.map(function($){Wo.add("fa-".concat($))}),Object.keys(cn[At]).map(Wo.add.bind(Wo)),Object.keys(cn[Qt]).map(Wo.add.bind(Wo)),Wo=mt(Wo);var To=function(re){var he=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=he.transform,Ce=void 0===_e?Ve:_e,Ke=he.symbol,et=void 0!==Ke&&Ke,xt=he.mask,Ot=void 0===xt?null:xt,In=he.maskId,xn=void 0===In?null:In,Kn=he.title,Vn=void 0===Kn?null:Kn,Sr=he.titleId,$r=void 0===Sr?null:Sr,ps=he.classes,Ws=void 0===ps?[]:ps,Bt=he.attributes,ci=void 0===Bt?{}:Bt,ki=he.styles,ns=void 0===ki?{}:ki;if(re){var zn=re.prefix,lr=re.iconName,gs=re.icon;return Di(we({type:"icon"},re),function(){return Bi("beforeDOMElementCreation",{iconDefinition:re,params:he}),wt.autoA11y&&(Vn?ci["aria-labelledby"]="".concat(wt.replacementClass,"-title-").concat($r||Le()):(ci["aria-hidden"]="true",ci.focusable="false")),Os({icons:{main:Ja(gs),mask:Ot?Ja(Ot.icon):{found:!1,width:null,height:null,icon:{}}},prefix:zn,iconName:lr,transform:we(we({},Ve),Ce),symbol:et,title:Vn,maskId:xn,titleId:$r,extra:{attributes:ci,styles:ns,classes:Ws}})})}},mo={mixout:function(){return{icon:($=To,function(re){var he=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=(re||{}).icon?re:Oi(re||{}),Ce=he.mask;return Ce&&(Ce=(Ce||{}).icon?Ce:Oi(Ce||{})),$(_e,we(we({},he),{},{mask:Ce}))})};var $},hooks:function(){return{mutationObserverCallbacks:function(he){return he.treeCallback=kl,he.nodeCallback=pa,he}}},provides:function(re){re.i2svg=function(he){var _e=he.node,Ke=he.callback;return kl(void 0===_e?mn:_e,void 0===Ke?function(){}:Ke)},re.generateSvgReplacementMutation=function(he,_e){var Ce=_e.iconName,Ke=_e.title,et=_e.titleId,xt=_e.prefix,Ot=_e.transform,In=_e.symbol,xn=_e.mask,Kn=_e.maskId,Vn=_e.extra;return new Promise(function(Sr,$r){Promise.all([ma(Ce,xt),xn.iconName?ma(xn.iconName,xn.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(ps){var Ws=Qe(ps,2);Sr([he,Os({icons:{main:Ws[0],mask:Ws[1]},prefix:xt,iconName:Ce,transform:Ot,symbol:In,maskId:Kn,title:Ke,titleId:et,extra:Vn,watchable:!0})])}).catch($r)})},re.generateAbstractIcon=function(he){var In,_e=he.children,Ce=he.attributes,Ke=he.main,et=he.transform,Ot=qn(he.styles);return Ot.length>0&&(Ce.style=Ot),Sn(et)&&(In=bi("generateAbstractTransformGrouping",{main:Ke,transform:et,containerWidth:Ke.width,iconWidth:Ke.width})),_e.push(In||Ke.icon),{children:_e,attributes:Ce}}}},te={mixout:function(){return{layer:function(he){var _e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ce=_e.classes,Ke=void 0===Ce?[]:Ce;return Di({type:"layer"},function(){Bi("beforeDOMElementCreation",{assembler:he,params:_e});var et=[];return he(function(xt){Array.isArray(xt)?xt.map(function(Ot){et=et.concat(Ot.abstract)}):et=et.concat(xt.abstract)}),[{tag:"span",attributes:{class:["".concat(wt.cssPrefix,"-layers")].concat(mt(Ke)).join(" ")},children:et}]})}}}},Z={mixout:function(){return{counter:function(he){var _e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ce=_e.title,Ke=void 0===Ce?null:Ce,et=_e.classes,xt=void 0===et?[]:et,Ot=_e.attributes,In=void 0===Ot?{}:Ot,xn=_e.styles,Kn=void 0===xn?{}:xn;return Di({type:"counter",content:he},function(){return Bi("beforeDOMElementCreation",{content:he,params:_e}),function vr($){var re=$.content,he=$.title,_e=$.extra,Ce=we(we(we({},_e.attributes),he?{title:he}:{}),{},{class:_e.classes.join(" ")}),Ke=qn(_e.styles);Ke.length>0&&(Ce.style=Ke);var et=[];return et.push({tag:"span",attributes:Ce,children:[re]}),he&&et.push({tag:"span",attributes:{class:"sr-only"},children:[he]}),et}({content:he.toString(),title:Ke,extra:{attributes:In,styles:Kn,classes:["".concat(wt.cssPrefix,"-layers-counter")].concat(mt(xt))}})})}}}},be={mixout:function(){return{text:function(he){var _e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ce=_e.transform,Ke=void 0===Ce?Ve:Ce,et=_e.title,xt=void 0===et?null:et,Ot=_e.classes,In=void 0===Ot?[]:Ot,xn=_e.attributes,Kn=void 0===xn?{}:xn,Vn=_e.styles,Sr=void 0===Vn?{}:Vn;return Di({type:"text",content:he},function(){return Bi("beforeDOMElementCreation",{content:he,params:_e}),Ho({content:he,transform:we(we({},Ve),Ke),title:xt,extra:{attributes:Kn,styles:Sr,classes:["".concat(wt.cssPrefix,"-layers-text")].concat(mt(In))}})})}}},provides:function(re){re.generateLayersText=function(he,_e){var Ce=_e.title,Ke=_e.transform,et=_e.extra,xt=null,Ot=null;if(Ye){var In=parseInt(getComputedStyle(he).fontSize,10),xn=he.getBoundingClientRect();xt=xn.width/In,Ot=xn.height/In}return wt.autoA11y&&!Ce&&(et.attributes["aria-hidden"]="true"),Promise.resolve([he,Ho({content:he.innerHTML,width:xt,height:Ot,transform:Ke,title:Ce,extra:et,watchable:!0})])}}},ee=new RegExp('"',"ug"),Me=[1105920,1112319];function ar($,re){var he="".concat(Mr).concat(re.replace(":","-"));return new Promise(function(_e,Ce){if(null!==$.getAttribute(he))return _e();var et=ve($.children).filter(function(gs){return gs.getAttribute(Bn)===re})[0],xt=jn.getComputedStyle($,re),Ot=xt.getPropertyValue("font-family").match(Ir),In=xt.getPropertyValue("font-weight"),xn=xt.getPropertyValue("content");if(et&&!Ot)return $.removeChild(et),_e();if(Ot&&"none"!==xn&&""!==xn){var Kn=xt.getPropertyValue("content"),Vn=~["Sharp"].indexOf(Ot[2])?Qt:At,Sr=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(Ot[2])?bn[Vn][Ot[2].toLowerCase()]:ti[Vn][In],$r=function un($){var re=$.replace(ee,""),he=function Io($,re){var Ce,he=$.length,_e=$.charCodeAt(re);return _e>=55296&&_e<=56319&&he>re+1&&(Ce=$.charCodeAt(re+1))>=56320&&Ce<=57343?1024*(_e-55296)+Ce-56320+65536:_e}(re,0),_e=he>=Me[0]&&he<=Me[1],Ce=2===re.length&&re[0]===re[1];return{value:Ts(Ce?re[0]:re),isSecondary:_e||Ce}}(Kn),ps=$r.value,Ws=$r.isSecondary,Bt=Ot[0].startsWith("FontAwesome"),ci=Gs(Sr,ps),ki=ci;if(Bt){var ns=function ka($){var re=Ut[$],he=Gs("fas",$);return re||(he?{prefix:"fas",iconName:he}:null)||{prefix:null,iconName:null}}(ps);ns.iconName&&ns.prefix&&(ci=ns.iconName,Sr=ns.prefix)}if(!ci||Ws||et&&et.getAttribute(Mn)===Sr&&et.getAttribute(Nr)===ki)_e();else{$.setAttribute(he,ki),et&&$.removeChild(et);var zn=function sc(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ve,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),lr=zn.extra;lr.attributes[Bn]=re,ma(ci,Sr).then(function(gs){var yn=Os(we(we({},zn),{},{icons:{main:gs,mask:Fa()},prefix:Sr,iconName:ki,extra:lr,watchable:!0})),Pt=mn.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===re?$.insertBefore(Pt,$.firstChild):$.appendChild(Pt),Pt.outerHTML=yn.map(function(dn){return Xs(dn)}).join("\n"),$.removeAttribute(he),_e()}).catch(Ce)}}else _e()})}function Cs($){return Promise.all([ar($,"::before"),ar($,"::after")])}function Ni($){return!($.parentNode===document.head||~St.indexOf($.tagName.toUpperCase())||$.getAttribute(Bn)||$.parentNode&&"svg"===$.parentNode.tagName)}function ko($){if(kn)return new Promise(function(re,he){var _e=ve($.querySelectorAll("*")).filter(Ni).map(Cs),Ce=Vs.begin("searchPseudoElements");Ii(),Promise.all(_e).then(function(){Ce(),zo(),re()}).catch(function(){Ce(),zo(),he()})})}var Hs=!1,ro=function(re){return re.toLowerCase().split(" ").reduce(function(_e,Ce){var Ke=Ce.toLowerCase().split("-"),et=Ke[0],xt=Ke.slice(1).join("-");if(et&&"h"===xt)return _e.flipX=!0,_e;if(et&&"v"===xt)return _e.flipY=!0,_e;if(xt=parseFloat(xt),isNaN(xt))return _e;switch(et){case"grow":_e.size=_e.size+xt;break;case"shrink":_e.size=_e.size-xt;break;case"left":_e.x=_e.x-xt;break;case"right":_e.x=_e.x+xt;break;case"up":_e.y=_e.y-xt;break;case"down":_e.y=_e.y+xt;break;case"rotate":_e.rotate=_e.rotate+xt}return _e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},sa={x:0,y:0,width:"100%",height:"100%"};function cs($){return $.attributes&&($.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&($.attributes.fill="black"),$}!function ra($,re){var he=re.mixoutsTo;es=$,gi={},Object.keys(Pr).forEach(function(_e){-1===ls.indexOf(_e)&&delete Pr[_e]}),es.forEach(function(_e){var Ce=_e.mixout?_e.mixout():{};if(Object.keys(Ce).forEach(function(et){"function"==typeof Ce[et]&&(he[et]=Ce[et]),"object"===ne(Ce[et])&&Object.keys(Ce[et]).forEach(function(xt){he[et]||(he[et]={}),he[et][xt]=Ce[et][xt]})}),_e.hooks){var Ke=_e.hooks();Object.keys(Ke).forEach(function(et){gi[et]||(gi[et]=[]),gi[et].push(Ke[et])})}_e.provides&&_e.provides(Pr)})}([ks,mo,te,Z,be,{hooks:function(){return{mutationObserverCallbacks:function(he){return he.pseudoElementsCallback=ko,he}}},provides:function(re){re.pseudoElements2svg=function(he){var _e=he.node;wt.searchPseudoElements&&ko(void 0===_e?mn:_e)}}},{mixout:function(){return{dom:{unwatch:function(){Ii(),Hs=!0}}}},hooks:function(){return{bootstrap:function(){Ci(ha("mutationObserverCallbacks",{}))},noAuto:function(){!function Bs(){no&&no.disconnect()}()},watch:function(he){var _e=he.observeMutationsRoot;Hs?zo():Ci(ha("mutationObserverCallbacks",{observeMutationsRoot:_e}))}}}},{mixout:function(){return{parse:{transform:function(he){return ro(he)}}}},hooks:function(){return{parseNodeAttributes:function(he,_e){var Ce=_e.getAttribute("data-fa-transform");return Ce&&(he.transform=ro(Ce)),he}}},provides:function(re){re.generateAbstractTransformGrouping=function(he){var _e=he.main,Ce=he.transform,et=he.iconWidth,xt={transform:"translate(".concat(he.containerWidth/2," 256)")},Ot="translate(".concat(32*Ce.x,", ").concat(32*Ce.y,") "),In="scale(".concat(Ce.size/16*(Ce.flipX?-1:1),", ").concat(Ce.size/16*(Ce.flipY?-1:1),") "),xn="rotate(".concat(Ce.rotate," 0 0)"),Sr={outer:xt,inner:{transform:"".concat(Ot," ").concat(In," ").concat(xn)},path:{transform:"translate(".concat(et/2*-1," -256)")}};return{tag:"g",attributes:we({},Sr.outer),children:[{tag:"g",attributes:we({},Sr.inner),children:[{tag:_e.icon.tag,children:_e.icon.children,attributes:we(we({},_e.icon.attributes),Sr.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(he,_e){var Ce=_e.getAttribute("data-fa-mask"),Ke=Ce?Ra(Ce.split(" ").map(function(et){return et.trim()})):Fa();return Ke.prefix||(Ke.prefix=uo()),he.mask=Ke,he.maskId=_e.getAttribute("data-fa-mask-id"),he}}},provides:function(re){re.generateAbstractMask=function(he){var $,_e=he.children,Ce=he.attributes,Ke=he.main,et=he.mask,xt=he.maskId,xn=Ke.icon,Vn=et.icon,Sr=function ni($){var re=$.transform,_e=$.iconWidth,Ce={transform:"translate(".concat($.containerWidth/2," 256)")},Ke="translate(".concat(32*re.x,", ").concat(32*re.y,") "),et="scale(".concat(re.size/16*(re.flipX?-1:1),", ").concat(re.size/16*(re.flipY?-1:1),") "),xt="rotate(".concat(re.rotate," 0 0)");return{outer:Ce,inner:{transform:"".concat(Ke," ").concat(et," ").concat(xt)},path:{transform:"translate(".concat(_e/2*-1," -256)")}}}({transform:he.transform,containerWidth:et.width,iconWidth:Ke.width}),$r={tag:"rect",attributes:we(we({},sa),{},{fill:"white"})},ps=xn.children?{children:xn.children.map(cs)}:{},Ws={tag:"g",attributes:we({},Sr.inner),children:[cs(we({tag:xn.tag,attributes:we(we({},xn.attributes),Sr.path)},ps))]},Bt={tag:"g",attributes:we({},Sr.outer),children:[Ws]},ci="mask-".concat(xt||Le()),ki="clip-".concat(xt||Le()),ns={tag:"mask",attributes:we(we({},sa),{},{id:ci,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[$r,Bt]},zn={tag:"defs",children:[{tag:"clipPath",attributes:{id:ki},children:($=Vn,"g"===$.tag?$.children:[$])},ns]};return _e.push(zn,{tag:"rect",attributes:we({fill:"currentColor","clip-path":"url(#".concat(ki,")"),mask:"url(#".concat(ci,")")},sa)}),{children:_e,attributes:Ce}}}},{provides:function(re){var he=!1;jn.matchMedia&&(he=jn.matchMedia("(prefers-reduced-motion: reduce)").matches),re.missingIconAbstract=function(){var _e=[],Ce={fill:"currentColor"},Ke={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};_e.push({tag:"path",attributes:we(we({},Ce),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var et=we(we({},Ke),{},{attributeName:"opacity"}),xt={tag:"circle",attributes:we(we({},Ce),{},{cx:"256",cy:"364",r:"28"}),children:[]};return he||xt.children.push({tag:"animate",attributes:we(we({},Ke),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:we(we({},et),{},{values:"1;0;1;1;0;1;"})}),_e.push(xt),_e.push({tag:"path",attributes:we(we({},Ce),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:he?[]:[{tag:"animate",attributes:we(we({},et),{},{values:"1;0;0;0;0;1;"})}]}),he||_e.push({tag:"path",attributes:we(we({},Ce),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:we(we({},et),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:_e}}}},{hooks:function(){return{parseNodeAttributes:function(he,_e){var Ce=_e.getAttribute("data-fa-symbol");return he.symbol=null!==Ce&&(""===Ce||Ce),he}}}}],{mixoutsTo:Tr});var As=Tr.parse,di=Tr.icon,Mi=Y(6593);const $a=["*"],aa=$=>{const re={[`fa-${$.animation}`]:null!=$.animation&&!$.animation.startsWith("spin"),"fa-spin":"spin"===$.animation||"spin-reverse"===$.animation,"fa-spin-pulse":"spin-pulse"===$.animation||"spin-pulse-reverse"===$.animation,"fa-spin-reverse":"spin-reverse"===$.animation||"spin-pulse-reverse"===$.animation,"fa-pulse":"spin-pulse"===$.animation||"spin-pulse-reverse"===$.animation,"fa-fw":$.fixedWidth,"fa-border":$.border,"fa-inverse":$.inverse,"fa-layers-counter":$.counter,"fa-flip-horizontal":"horizontal"===$.flip||"both"===$.flip,"fa-flip-vertical":"vertical"===$.flip||"both"===$.flip,[`fa-${$.size}`]:null!==$.size,[`fa-rotate-${$.rotate}`]:null!==$.rotate,[`fa-pull-${$.pull}`]:null!==$.pull,[`fa-stack-${$.stackItemSize}`]:null!=$.stackItemSize};return Object.keys(re).map(he=>re[he]?he:null).filter(he=>he)};let Ll=(()=>{var $;class re{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return($=re).\u0275fac=function(_e){return new(_e||$)},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),re})(),ll=(()=>{var $;class re{constructor(){this.definitions={}}addIcons(..._e){for(const Ce of _e){Ce.prefix in this.definitions||(this.definitions[Ce.prefix]={}),this.definitions[Ce.prefix][Ce.iconName]=Ce;for(const Ke of Ce.icon[2])"string"==typeof Ke&&(this.definitions[Ce.prefix][Ke]=Ce)}}addIconPacks(..._e){for(const Ce of _e){const Ke=Object.keys(Ce).map(et=>Ce[et]);this.addIcons(...Ke)}}getIconDefinition(_e,Ce){return _e in this.definitions&&Ce in this.definitions[_e]?this.definitions[_e][Ce]:null}}return($=re).\u0275fac=function(_e){return new(_e||$)},$.\u0275prov=d.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),re})(),Ko=(()=>{var $;class re{constructor(){this.stackItemSize="1x"}ngOnChanges(_e){if("size"in _e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return($=re).\u0275fac=function(_e){return new(_e||$)},$.\u0275dir=d.lG2({type:$,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[d.TTD]}),re})(),Pa=(()=>{var $;class re{constructor(_e,Ce){this.renderer=_e,this.elementRef=Ce}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(_e){"size"in _e&&(null!=_e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${_e.size.currentValue}`),null!=_e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${_e.size.previousValue}`))}}return($=re).\u0275fac=function(_e){return new(_e||$)(d.Y36(d.Qsj),d.Y36(d.SBq))},$.\u0275cmp=d.Xpm({type:$,selectors:[["fa-stack"]],inputs:{size:"size"},features:[d.TTD],ngContentSelectors:$a,decls:1,vars:0,template:function(_e,Ce){1&_e&&(d.F$t(),d.Hsn(0))},encapsulation:2}),re})(),io=(()=>{var $;class re{set spin(_e){this.animation=_e?"spin":void 0}set pulse(_e){this.animation=_e?"spin-pulse":void 0}constructor(_e,Ce,Ke,et,xt){this.sanitizer=_e,this.config=Ce,this.iconLibrary=Ke,this.stackItem=et,this.classes=[],null!=xt&&null==et&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(_e){if(null!=this.icon||null!=this.config.fallbackIcon){if(_e){const Ke=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=Ke){const et=this.buildParams();this.renderIcon(Ke,et)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(_e){const Ce=(($,re)=>($=>void 0!==$.prefix&&void 0!==$.iconName)($)?$:"string"==typeof $?{prefix:re,iconName:$}:{prefix:$[0],iconName:$[1]})(_e,this.config.defaultPrefix);return"icon"in Ce?Ce:this.iconLibrary.getIconDefinition(Ce.prefix,Ce.iconName)??(($=>{throw new Error(`Could not find icon with iconName=${$.iconName} and prefix=${$.prefix} in the icon library.`)})(Ce),null)}buildParams(){const _e={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},Ce="string"==typeof this.transform?As.transform(this.transform):this.transform;return{title:this.title,transform:Ce,classes:[...aa(_e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(_e,Ce){const Ke=di(_e,Ce);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(Ke.html.join("\n"))}}return($=re).\u0275fac=function(_e){return new(_e||$)(d.Y36(Mi.H7),d.Y36(Ll),d.Y36(ll),d.Y36(Ko,8),d.Y36(Pa,8))},$.\u0275cmp=d.Xpm({type:$,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(_e,Ce){2&_e&&(d.Ikx("innerHTML",Ce.renderedIconHTML,d.oJD),d.uIk("title",Ce.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[d.TTD],decls:0,vars:0,template:function(_e,Ce){},encapsulation:2}),re})(),Se=(()=>{var $;class re{}return($=re).\u0275fac=function(_e){return new(_e||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({}),re})()},6675:(Rn,yt,Y)=>{Y.d(yt,{_D:()=>yl,lQ:()=>ue,jt:()=>Tc,TH:()=>fl,Vi:()=>Cu,iD:()=>Au,IJ:()=>$_});var d=Y(5879),ge=Y(5592),we=Y(6232),ne=Y(2096),Ne=Y(8645),He=Y(4829),Ae=Y(1631),ct=Y(4266),it=Y(4674),Te=Y(7400);const xe=["addListener","removeListener"],Qe=["addEventListener","removeEventListener"],mt=["on","off"];function Ge(m,D,S,f){if((0,it.m)(S)&&(f=S,S=void 0),f)return Ge(m,D,S).pipe((0,Te.Z)(f));const[T,G]=function qt(m){return(0,it.m)(m.addEventListener)&&(0,it.m)(m.removeEventListener)}(m)?Qe.map(le=>Be=>m[le](D,Be,S)):function ut(m){return(0,it.m)(m.addListener)&&(0,it.m)(m.removeListener)}(m)?xe.map(Yt(m,D)):function an(m){return(0,it.m)(m.on)&&(0,it.m)(m.off)}(m)?mt.map(Yt(m,D)):[];if(!T&&(0,ct.z)(m))return(0,Ae.z)(le=>Ge(le,D,S))((0,He.Xf)(m));if(!T)throw new TypeError("Invalid event target");return new ge.y(le=>{const Be=(...rt)=>le.next(1<rt.length?rt:rt[0]);return T(Be),()=>G(Be)})}function Yt(m,D){return S=>f=>m[S](D,f)}var Nn=Y(6321),wn=Y(671);function It(m=0,D,S=Nn.P){let f=-1;return null!=D&&((0,wn.K)(D)?S=D:f=D),new ge.y(T=>{let G=function st(m){return m instanceof Date&&!isNaN(m)}(m)?+m-S.now():m;G<0&&(G=0);let le=0;return S.schedule(function(){T.closed||(T.next(le++),0<=f?this.schedule(void 0,f):T.complete())},G)})}const{isArray:pt}=Array;function gt(m){return 1===m.length&&pt(m[0])?m[0]:m}var Mt=Y(8251);function Oe(...m){return 1===(m=gt(m)).length?(0,He.Xf)(m[0]):new ge.y(function Ht(m){return D=>{let S=[];for(let f=0;S&&!D.closed&&f<m.length;f++)S.push((0,He.Xf)(m[f]).subscribe((0,Mt.x)(D,T=>{if(S){for(let G=0;G<S.length;G++)G!==f&&S[G].unsubscribe();S=null}D.next(T)})))}}(m))}Y(3019);var Wn=Y(9940);function jn(...m){const D=(0,Wn.jO)(m),S=gt(m);return S.length?new ge.y(f=>{let T=S.map(()=>[]),G=S.map(()=>!1);f.add(()=>{T=G=null});for(let le=0;!f.closed&&le<S.length;le++)(0,He.Xf)(S[le]).subscribe((0,Mt.x)(f,Be=>{if(T[le].push(Be),T.every(rt=>rt.length)){const rt=T.map(Rt=>Rt.shift());f.next(D?D(...rt):rt),T.some((Rt,Kt)=>!Rt.length&&G[Kt])&&f.complete()}},()=>{G[le]=!0,!T[le].length&&f.complete()}));return()=>{T=G=null}}):we.E}var mn=Y(5211),yr=Y(9773),Ln=Y(2181),kn=Y(8180),Ye=Y(9397),nt=Y(7398),Et=Y(2460),ot=Y(9360),Ct=Y(2420),rn=Y(975);function ln(m,D){return D?S=>(0,mn.z)(D.pipe((0,kn.q)(1),function en(){return(0,ot.e)((m,D)=>{m.subscribe((0,Mt.x)(D,Ct.Z))})}()),S.pipe(ln(m))):(0,Ae.z)((S,f)=>(0,He.Xf)(m(S,f)).pipe((0,kn.q)(1),(0,rn.h)(S)))}var ir=Y(4664);Y(7921),Y(3997);var Mn=Y(6814),Ue=(Y(95),{left:"right",right:"left",bottom:"top",top:"bottom"});function Ze(m){return m.replace(/left|right|bottom|top/g,function(D){return Ue[D]})}function St(m){return m.split("-")[0]}var Nt={start:"end",end:"start"};function At(m){return m.replace(/start|end/g,function(D){return Nt[D]})}var Qt="top",pr="bottom",Xn="right",cn="left",bn="auto",er=[Qt,pr,Xn,cn],cr="start",ii="end",Ir="viewport",ti="popper",Vr=er.reduce(function(m,D){return m.concat([D+"-"+cr,D+"-"+ii])},[]),Xi=[].concat(er,[bn]).reduce(function(m,D){return m.concat([D,D+"-"+cr,D+"-"+ii])},[]),wt=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function sn(m){if(null==m)return window;if("[object Window]"!==m.toString()){var D=m.ownerDocument;return D&&D.defaultView||window}return m}function gn(m){return m instanceof sn(m).Element||m instanceof Element}function tr(m){return m instanceof sn(m).HTMLElement||m instanceof HTMLElement}function Ve(m){return!(typeof ShadowRoot>"u")&&(m instanceof sn(m).ShadowRoot||m instanceof ShadowRoot)}function me(m){return((gn(m)?m.ownerDocument:m.document)||window.document).documentElement}var fe=Math.max,Le=Math.min,ve=Math.round;function ze(){var m=navigator.userAgentData;return null!=m&&m.brands&&Array.isArray(m.brands)?m.brands.map(function(D){return D.brand+"/"+D.version}).join(" "):navigator.userAgent}function Lt(){return!/^((?!chrome|android).)*safari/i.test(ze())}function tn(m,D,S){void 0===D&&(D=!1),void 0===S&&(S=!1);var f=m.getBoundingClientRect(),T=1,G=1;D&&tr(m)&&(T=m.offsetWidth>0&&ve(f.width)/m.offsetWidth||1,G=m.offsetHeight>0&&ve(f.height)/m.offsetHeight||1);var Be=(gn(m)?sn(m):window).visualViewport,rt=!Lt()&&S,Rt=(f.left+(rt&&Be?Be.offsetLeft:0))/T,Kt=(f.top+(rt&&Be?Be.offsetTop:0))/G,Dn=f.width/T,or=f.height/G;return{width:Dn,height:or,top:Kt,right:Rt+Dn,bottom:Kt+or,left:Rt,x:Rt,y:Kt}}function qn(m){var D=sn(m);return{scrollLeft:D.pageXOffset,scrollTop:D.pageYOffset}}function Sn(m){return tn(me(m)).left+qn(m).scrollLeft}function dr(m){return sn(m).getComputedStyle(m)}function ui(m){return m?(m.nodeName||"").toLowerCase():null}function Ns(m){return"html"===ui(m)?m:m.assignedSlot||m.parentNode||(Ve(m)?m.host:null)||me(m)}function $s(m){var D=dr(m);return/auto|scroll|overlay|hidden/.test(D.overflow+D.overflowY+D.overflowX)}function ks(m){return["html","body","#document"].indexOf(ui(m))>=0?m.ownerDocument.body:tr(m)&&$s(m)?m:ks(Ns(m))}function li(m,D){var S;void 0===D&&(D=[]);var f=ks(m),T=f===(null==(S=m.ownerDocument)?void 0:S.body),G=sn(f),le=T?[G].concat(G.visualViewport||[],$s(f)?f:[]):f,Be=D.concat(le);return T?Be:Be.concat(li(Ns(le)))}function wi(m){return["table","td","th"].indexOf(ui(m))>=0}function zi(m){return tr(m)&&"fixed"!==dr(m).position?m.offsetParent:null}function Wi(m){for(var D=sn(m),S=zi(m);S&&wi(S)&&"static"===dr(S).position;)S=zi(S);return S&&("html"===ui(S)||"body"===ui(S)&&"static"===dr(S).position)?D:S||function ri(m){var D=/firefox/i.test(ze());if(/Trident/i.test(ze())&&tr(m)&&"fixed"===dr(m).position)return null;var T=Ns(m);for(Ve(T)&&(T=T.host);tr(T)&&["html","body"].indexOf(ui(T))<0;){var G=dr(T);if("none"!==G.transform||"none"!==G.perspective||"paint"===G.contain||-1!==["transform","perspective"].indexOf(G.willChange)||D&&"filter"===G.willChange||D&&G.filter&&"none"!==G.filter)return T;T=T.parentNode}return null}(m)||D}function Js(m,D){var S=D.getRootNode&&D.getRootNode();if(m.contains(D))return!0;if(S&&Ve(S)){var f=D;do{if(f&&m.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function Xs(m){return Object.assign({},m,{left:m.x,top:m.y,right:m.x+m.width,bottom:m.y+m.height})}function Pi(m,D,S){return D===Ir?Xs(function ni(m,D){var S=sn(m),f=me(m),T=S.visualViewport,G=f.clientWidth,le=f.clientHeight,Be=0,rt=0;if(T){G=T.width,le=T.height;var Rt=Lt();(Rt||!Rt&&"fixed"===D)&&(Be=T.offsetLeft,rt=T.offsetTop)}return{width:G,height:le,x:Be+Sn(m),y:rt}}(m,S)):gn(D)?function $o(m,D){var S=tn(m,!1,"fixed"===D);return S.top=S.top+m.clientTop,S.left=S.left+m.clientLeft,S.bottom=S.top+m.clientHeight,S.right=S.left+m.clientWidth,S.width=m.clientWidth,S.height=m.clientHeight,S.x=S.left,S.y=S.top,S}(D,S):Xs(function Ei(m){var D,S=me(m),f=qn(m),T=null==(D=m.ownerDocument)?void 0:D.body,G=fe(S.scrollWidth,S.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),le=fe(S.scrollHeight,S.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),Be=-f.scrollLeft+Sn(m),rt=-f.scrollTop;return"rtl"===dr(T||S).direction&&(Be+=fe(S.clientWidth,T?T.clientWidth:0)-G),{width:G,height:le,x:Be,y:rt}}(me(m)))}function Ts(m){return m.split("-")[1]}function Io(m){return["top","bottom"].indexOf(m)>=0?"x":"y"}function fs(m){var rt,D=m.reference,S=m.element,f=m.placement,T=f?St(f):null,G=f?Ts(f):null,le=D.x+D.width/2-S.width/2,Be=D.y+D.height/2-S.height/2;switch(T){case Qt:rt={x:le,y:D.y-S.height};break;case pr:rt={x:le,y:D.y+D.height};break;case Xn:rt={x:D.x+D.width,y:Be};break;case cn:rt={x:D.x-S.width,y:Be};break;default:rt={x:D.x,y:D.y}}var Rt=T?Io(T):null;if(null!=Rt){var Kt="y"===Rt?"height":"width";switch(G){case cr:rt[Rt]=rt[Rt]-(D[Kt]/2-S[Kt]/2);break;case ii:rt[Rt]=rt[Rt]+(D[Kt]/2-S[Kt]/2)}}return rt}function Mo(m){return Object.assign({},{top:0,right:0,bottom:0,left:0},m)}function Br(m,D){return D.reduce(function(S,f){return S[f]=m,S},{})}function Un(m,D){void 0===D&&(D={});var f=D.placement,T=void 0===f?m.placement:f,G=D.strategy,le=void 0===G?m.strategy:G,Be=D.boundary,rt=void 0===Be?"clippingParents":Be,Rt=D.rootBoundary,Kt=void 0===Rt?Ir:Rt,Dn=D.elementContext,or=void 0===Dn?ti:Dn,Tn=D.altBoundary,vi=void 0!==Tn&&Tn,ai=D.padding,Yr=void 0===ai?0:ai,us=Mo("number"!=typeof Yr?Yr:Br(Yr,er)),Sa=m.rects.popper,hs=m.elements[vi?or===ti?"reference":ti:or],Ji=function ao(m,D,S,f){var T="clippingParents"===D?function Fs(m){var D=li(Ns(m)),f=["absolute","fixed"].indexOf(dr(m).position)>=0&&tr(m)?Wi(m):m;return gn(f)?D.filter(function(T){return gn(T)&&Js(T,f)&&"body"!==ui(T)}):[]}(m):[].concat(D),G=[].concat(T,[S]),Be=G.reduce(function(rt,Rt){var Kt=Pi(m,Rt,f);return rt.top=fe(Kt.top,rt.top),rt.right=Le(Kt.right,rt.right),rt.bottom=Le(Kt.bottom,rt.bottom),rt.left=fe(Kt.left,rt.left),rt},Pi(m,G[0],f));return Be.width=Be.right-Be.left,Be.height=Be.bottom-Be.top,Be.x=Be.left,Be.y=Be.top,Be}(gn(hs)?hs:hs.contextElement||me(m.elements.popper),rt,Kt,le),xs=tn(m.elements.reference),wo=fs({reference:xs,element:Sa,strategy:"absolute",placement:T}),ua=Xs(Object.assign({},Sa,wo)),Gl=or===ti?ua:xs,Ol={top:Ji.top-Gl.top+us.top,bottom:Gl.bottom-Ji.bottom+us.bottom,left:Ji.left-Gl.left+us.left,right:Gl.right-Ji.right+us.right},qa=m.modifiersData.offset;if(or===ti&&qa){var tc=qa[T];Object.keys(Ol).forEach(function(hc){var Qd=[Xn,pr].indexOf(hc)>=0?1:-1,Ad=[Qt,pr].indexOf(hc)>=0?"y":"x";Ol[hc]+=tc[Ad]*Qd})}return Ol}const sl={name:"flip",enabled:!0,phase:"main",fn:function xi(m){var D=m.state,S=m.options,f=m.name;if(!D.modifiersData[f]._skip){for(var T=S.mainAxis,G=void 0===T||T,le=S.altAxis,Be=void 0===le||le,rt=S.fallbackPlacements,Rt=S.padding,Kt=S.boundary,Dn=S.rootBoundary,or=S.altBoundary,Tn=S.flipVariations,vi=void 0===Tn||Tn,ai=S.allowedAutoPlacements,Yr=D.options.placement,us=St(Yr),Sa=rt||(us!==Yr&&vi?function ss(m){if(St(m)===bn)return[];var D=Ze(m);return[At(m),D,At(D)]}(Yr):[Ze(Yr)]),hs=[Yr].concat(Sa).reduce(function(eu,Ml){return eu.concat(St(Ml)===bn?function jr(m,D){void 0===D&&(D={});var T=D.boundary,G=D.rootBoundary,le=D.padding,Be=D.flipVariations,rt=D.allowedAutoPlacements,Rt=void 0===rt?Xi:rt,Kt=Ts(D.placement),Dn=Kt?Be?Vr:Vr.filter(function(vi){return Ts(vi)===Kt}):er,or=Dn.filter(function(vi){return Rt.indexOf(vi)>=0});0===or.length&&(or=Dn);var Tn=or.reduce(function(vi,ai){return vi[ai]=Un(m,{placement:ai,boundary:T,rootBoundary:G,padding:le})[St(ai)],vi},{});return Object.keys(Tn).sort(function(vi,ai){return Tn[vi]-Tn[ai]})}(D,{placement:Ml,boundary:Kt,rootBoundary:Dn,padding:Rt,flipVariations:vi,allowedAutoPlacements:ai}):Ml)},[]),Ji=D.rects.reference,xs=D.rects.popper,wo=new Map,ua=!0,Gl=hs[0],Ol=0;Ol<hs.length;Ol++){var qa=hs[Ol],tc=St(qa),hc=Ts(qa)===cr,Qd=[Qt,pr].indexOf(tc)>=0,Ad=Qd?"width":"height",Vc=Un(D,{placement:qa,boundary:Kt,rootBoundary:Dn,altBoundary:or,padding:Rt}),xu=Qd?hc?Xn:cn:hc?pr:Qt;Ji[Ad]>xs[Ad]&&(xu=Ze(xu));var Eh=Ze(xu),Zd=[];if(G&&Zd.push(Vc[tc]<=0),Be&&Zd.push(Vc[xu]<=0,Vc[Eh]<=0),Zd.every(function(eu){return eu})){Gl=qa,ua=!1;break}wo.set(qa,Zd)}if(ua)for(var Hh=function(Ml){var tu=hs.find(function(zh){var Rd=wo.get(zh);if(Rd)return Rd.slice(0,Ml).every(function(Hl){return Hl})});if(tu)return Gl=tu,"break"},Af=vi?3:1;Af>0&&"break"!==Hh(Af);Af--);D.placement!==Gl&&(D.modifiersData[f]._skip=!0,D.placement=Gl,D.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function qe(m,D,S){return fe(m,Le(D,S))}function Ft(m){var D=tn(m),S=m.offsetWidth,f=m.offsetHeight;return Math.abs(D.width-S)<=1&&(S=D.width),Math.abs(D.height-f)<=1&&(f=D.height),{x:m.offsetLeft,y:m.offsetTop,width:S,height:f}}const Hn={name:"preventOverflow",enabled:!0,phase:"main",fn:function Ut(m){var D=m.state,S=m.options,f=m.name,T=S.mainAxis,G=void 0===T||T,le=S.altAxis,Be=void 0!==le&&le,or=S.tether,Tn=void 0===or||or,vi=S.tetherOffset,ai=void 0===vi?0:vi,Yr=Un(D,{boundary:S.boundary,rootBoundary:S.rootBoundary,padding:S.padding,altBoundary:S.altBoundary}),us=St(D.placement),ds=Ts(D.placement),Sa=!ds,hs=Io(us),Ji=function tt(m){return"x"===m?"y":"x"}(hs),xs=D.modifiersData.popperOffsets,wo=D.rects.reference,ua=D.rects.popper,Gl="function"==typeof ai?ai(Object.assign({},D.rects,{placement:D.placement})):ai,Ol="number"==typeof Gl?{mainAxis:Gl,altAxis:Gl}:Object.assign({mainAxis:0,altAxis:0},Gl),qa=D.modifiersData.offset?D.modifiersData.offset[D.placement]:null,tc={x:0,y:0};if(xs){if(G){var hc,Qd="y"===hs?Qt:cn,Ad="y"===hs?pr:Xn,Vc="y"===hs?"height":"width",xu=xs[hs],Eh=xu+Yr[Qd],Zd=xu-Yr[Ad],Gh=Tn?-ua[Vc]/2:0,Hh=ds===cr?wo[Vc]:ua[Vc],Af=ds===cr?-ua[Vc]:-wo[Vc],Rf=D.elements.arrow,eu=Tn&&Rf?Ft(Rf):{width:0,height:0},Ml=D.modifiersData["arrow#persistent"]?D.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},tu=Ml[Qd],zh=Ml[Ad],Rd=qe(0,wo[Vc],eu[Vc]),Hl=Sa?wo[Vc]/2-Gh-Rd-tu-Ol.mainAxis:Hh-Rd-tu-Ol.mainAxis,B0=Sa?-wo[Vc]/2+Gh+Rd+zh+Ol.mainAxis:Af+Rd+zh+Ol.mainAxis,xf=D.elements.arrow&&Wi(D.elements.arrow),tm=xf?"y"===hs?xf.clientTop||0:xf.clientLeft||0:0,Of=null!=(hc=qa?.[hs])?hc:0,Mf=xu+B0-Of,G_=qe(Tn?Le(Eh,xu+Hl-Of-tm):Eh,xu,Tn?fe(Zd,Mf):Zd);xs[hs]=G_,tc[hs]=G_-xu}if(Be){var xd,Jd=xs[Ji],Uu="y"===Ji?"height":"width",Lp=Jd+Yr["x"===hs?Qt:cn],Pf=Jd-Yr["x"===hs?pr:Xn],Nf=-1!==[Qt,cn].indexOf(us),Vp=null!=(xd=qa?.[Ji])?xd:0,nm=Nf?Lp:Jd-wo[Uu]-ua[Uu]-Vp+Ol.altAxis,Xd=Nf?Jd+wo[Uu]+ua[Uu]-Vp-Ol.altAxis:Pf,qh=Tn&&Nf?function vt(m,D,S){var f=qe(m,D,S);return f>S?S:f}(nm,Jd,Xd):qe(Tn?nm:Lp,Jd,Tn?Xd:Pf);xs[Ji]=qh,tc[Ji]=qh-Jd}D.modifiersData[f]=tc}},requiresIfExists:["offset"]},Za={name:"arrow",enabled:!0,phase:"main",fn:function Zr(m){var D,S=m.state,f=m.name,T=m.options,G=S.elements.arrow,le=S.modifiersData.popperOffsets,Be=St(S.placement),rt=Io(Be),Kt=[cn,Xn].indexOf(Be)>=0?"height":"width";if(G&&le){var Dn=function(D,S){return Mo("number"!=typeof(D="function"==typeof D?D(Object.assign({},S.rects,{placement:S.placement})):D)?D:Br(D,er))}(T.padding,S),or=Ft(G),Tn="y"===rt?Qt:cn,vi="y"===rt?pr:Xn,ai=S.rects.reference[Kt]+S.rects.reference[rt]-le[rt]-S.rects.popper[Kt],Yr=le[rt]-S.rects.reference[rt],us=Wi(G),ds=us?"y"===rt?us.clientHeight||0:us.clientWidth||0:0,xs=ds/2-or[Kt]/2+(ai/2-Yr/2),wo=qe(Dn[Tn],xs,ds-or[Kt]-Dn[vi]);S.modifiersData[f]=((D={})[rt]=wo,D.centerOffset=wo-xs,D)}},effect:function Ar(m){var D=m.state,f=m.options.element,T=void 0===f?"[data-popper-arrow]":f;null!=T&&("string"==typeof T&&!(T=D.elements.popper.querySelector(T))||Js(D.elements.popper,T)&&(D.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function co(m,D,S){void 0===S&&(S=!1);var f=tr(D),T=tr(D)&&function Vi(m){var D=m.getBoundingClientRect(),S=ve(D.width)/m.offsetWidth||1,f=ve(D.height)/m.offsetHeight||1;return 1!==S||1!==f}(D),G=me(D),le=tn(m,T,S),Be={scrollLeft:0,scrollTop:0},rt={x:0,y:0};return(f||!f&&!S)&&(("body"!==ui(D)||$s(G))&&(Be=function lo(m){return m!==sn(m)&&tr(m)?function Gs(m){return{scrollLeft:m.scrollLeft,scrollTop:m.scrollTop}}(m):qn(m)}(D)),tr(D)?((rt=tn(D,!0)).x+=D.clientLeft,rt.y+=D.clientTop):G&&(rt.x=Sn(G))),{x:le.left+Be.scrollLeft-rt.x,y:le.top+Be.scrollTop-rt.y,width:le.width,height:le.height}}function ka(m){var D=new Map,S=new Set,f=[];function T(G){S.add(G.name),[].concat(G.requires||[],G.requiresIfExists||[]).forEach(function(Be){if(!S.has(Be)){var rt=D.get(Be);rt&&T(rt)}}),f.push(G)}return m.forEach(function(G){D.set(G.name,G)}),m.forEach(function(G){S.has(G.name)||T(G)}),f}function Fa(m){var D;return function(){return D||(D=new Promise(function(S){Promise.resolve().then(function(){D=void 0,S(m())})})),D}}var Po={placement:"bottom",modifiers:[],strategy:"absolute"};function Ra(){for(var m=arguments.length,D=new Array(m),S=0;S<m;S++)D[S]=arguments[S];return!D.some(function(f){return!(f&&"function"==typeof f.getBoundingClientRect)})}function Jr(m){void 0===m&&(m={});var S=m.defaultModifiers,f=void 0===S?[]:S,T=m.defaultOptions,G=void 0===T?Po:T;return function(Be,rt,Rt){void 0===Rt&&(Rt=G);var Kt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Po,G),modifiersData:{},elements:{reference:Be,popper:rt},attributes:{},styles:{}},Dn=[],or=!1,Tn={state:Kt,setOptions:function(us){var ds="function"==typeof us?us(Kt.options):us;ai(),Kt.options=Object.assign({},G,Kt.options,ds),Kt.scrollParents={reference:gn(Be)?li(Be):Be.contextElement?li(Be.contextElement):[],popper:li(rt)};var Sa=function uo(m){var D=ka(m);return wt.reduce(function(S,f){return S.concat(D.filter(function(T){return T.phase===f}))},[])}(function na(m){var D=m.reduce(function(S,f){var T=S[f.name];return S[f.name]=T?Object.assign({},T,f,{options:Object.assign({},T.options,f.options),data:Object.assign({},T.data,f.data)}):f,S},{});return Object.keys(D).map(function(S){return D[S]})}([].concat(f,Kt.options.modifiers)));return Kt.orderedModifiers=Sa.filter(function(hs){return hs.enabled}),function vi(){Kt.orderedModifiers.forEach(function(Yr){var ds=Yr.options,hs=Yr.effect;if("function"==typeof hs){var Ji=hs({state:Kt,name:Yr.name,instance:Tn,options:void 0===ds?{}:ds});Dn.push(Ji||function(){})}})}(),Tn.update()},forceUpdate:function(){if(!or){var us=Kt.elements,ds=us.reference,Sa=us.popper;if(Ra(ds,Sa)){Kt.rects={reference:co(ds,Wi(Sa),"fixed"===Kt.options.strategy),popper:Ft(Sa)},Kt.reset=!1,Kt.placement=Kt.options.placement,Kt.orderedModifiers.forEach(function(Ol){return Kt.modifiersData[Ol.name]=Object.assign({},Ol.data)});for(var hs=0;hs<Kt.orderedModifiers.length;hs++)if(!0!==Kt.reset){var Ji=Kt.orderedModifiers[hs],xs=Ji.fn,wo=Ji.options;"function"==typeof xs&&(Kt=xs({state:Kt,options:void 0===wo?{}:wo,name:Ji.name,instance:Tn})||Kt)}else Kt.reset=!1,hs=-1}}},update:Fa(function(){return new Promise(function(Yr){Tn.forceUpdate(),Yr(Kt)})}),destroy:function(){ai(),or=!0}};if(!Ra(Be,rt))return Tn;function ai(){Dn.forEach(function(Yr){return Yr()}),Dn=[]}return Tn.setOptions(Rt).then(function(Yr){!or&&Rt.onFirstUpdate&&Rt.onFirstUpdate(Yr)}),Tn}}var gi={passive:!0},Bi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Oi(m){var D,S=m.popper,f=m.popperRect,T=m.placement,G=m.variation,le=m.offsets,Be=m.position,rt=m.gpuAcceleration,Rt=m.adaptive,Kt=m.roundOffsets,Dn=m.isFixed,or=le.x,Tn=void 0===or?0:or,vi=le.y,ai=void 0===vi?0:vi,Yr="function"==typeof Kt?Kt({x:Tn,y:ai}):{x:Tn,y:ai};Tn=Yr.x,ai=Yr.y;var us=le.hasOwnProperty("x"),ds=le.hasOwnProperty("y"),Sa=cn,hs=Qt,Ji=window;if(Rt){var xs=Wi(S),wo="clientHeight",ua="clientWidth";xs===sn(S)&&"static"!==dr(xs=me(S)).position&&"absolute"===Be&&(wo="scrollHeight",ua="scrollWidth"),(T===Qt||(T===cn||T===Xn)&&G===ii)&&(hs=pr,ai-=(Dn&&xs===Ji&&Ji.visualViewport?Ji.visualViewport.height:xs[wo])-f.height,ai*=rt?1:-1),T!==cn&&(T!==Qt&&T!==pr||G!==ii)||(Sa=Xn,Tn-=(Dn&&xs===Ji&&Ji.visualViewport?Ji.visualViewport.width:xs[ua])-f.width,Tn*=rt?1:-1)}var hc,qa=Object.assign({position:Be},Rt&&Bi),tc=!0===Kt?function bi(m,D){var f=m.y,T=D.devicePixelRatio||1;return{x:ve(m.x*T)/T||0,y:ve(f*T)/T||0}}({x:Tn,y:ai},sn(S)):{x:Tn,y:ai};return Tn=tc.x,ai=tc.y,Object.assign({},qa,rt?((hc={})[hs]=ds?"0":"",hc[Sa]=us?"0":"",hc.transform=(Ji.devicePixelRatio||1)<=1?"translate("+Tn+"px, "+ai+"px)":"translate3d("+Tn+"px, "+ai+"px, 0)",hc):((D={})[hs]=ds?ai+"px":"",D[Sa]=us?Tn+"px":"",D.transform="",D))}var Di=Jr({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Pr(m){var D=m.state,S=m.instance,f=m.options,T=f.scroll,G=void 0===T||T,le=f.resize,Be=void 0===le||le,rt=sn(D.elements.popper),Rt=[].concat(D.scrollParents.reference,D.scrollParents.popper);return G&&Rt.forEach(function(Kt){Kt.addEventListener("scroll",S.update,gi)}),Be&&rt.addEventListener("resize",S.update,gi),function(){G&&Rt.forEach(function(Kt){Kt.removeEventListener("scroll",S.update,gi)}),Be&&rt.removeEventListener("resize",S.update,gi)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function ra(m){var D=m.state;D.modifiersData[m.name]=fs({reference:D.rects.reference,element:D.rects.popper,strategy:"absolute",placement:D.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function yi(m){var D=m.state,S=m.options,f=S.gpuAcceleration,T=void 0===f||f,G=S.adaptive,le=void 0===G||G,Be=S.roundOffsets,rt=void 0===Be||Be,Rt={placement:St(D.placement),variation:Ts(D.placement),popper:D.elements.popper,popperRect:D.rects.popper,gpuAcceleration:T,isFixed:"fixed"===D.options.strategy};null!=D.modifiersData.popperOffsets&&(D.styles.popper=Object.assign({},D.styles.popper,Oi(Object.assign({},Rt,{offsets:D.modifiersData.popperOffsets,position:D.options.strategy,adaptive:le,roundOffsets:rt})))),null!=D.modifiersData.arrow&&(D.styles.arrow=Object.assign({},D.styles.arrow,Oi(Object.assign({},Rt,{offsets:D.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:rt})))),D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-placement":D.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Fr(m){var D=m.state;Object.keys(D.elements).forEach(function(S){var f=D.styles[S]||{},T=D.attributes[S]||{},G=D.elements[S];!tr(G)||!ui(G)||(Object.assign(G.style,f),Object.keys(T).forEach(function(le){var Be=T[le];!1===Be?G.removeAttribute(le):G.setAttribute(le,!0===Be?"":Be)}))})},effect:function mi(m){var D=m.state,S={popper:{position:D.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(D.elements.popper.style,S.popper),D.styles=S,D.elements.arrow&&Object.assign(D.elements.arrow.style,S.arrow),function(){Object.keys(D.elements).forEach(function(f){var T=D.elements[f],G=D.attributes[f]||{},Be=Object.keys(D.styles.hasOwnProperty(f)?D.styles[f]:S[f]).reduce(function(rt,Rt){return rt[Rt]="",rt},{});!tr(T)||!ui(T)||(Object.assign(T.style,Be),Object.keys(G).forEach(function(rt){T.removeAttribute(rt)}))})}},requires:["computeStyles"]}]});const Os={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function qi(m){var D=m.state,f=m.name,T=m.options.offset,G=void 0===T?[0,0]:T,le=Xi.reduce(function(Kt,Dn){return Kt[Dn]=function ho(m,D,S){var f=St(m),T=[cn,Qt].indexOf(f)>=0?-1:1,G="function"==typeof S?S(Object.assign({},D,{placement:m})):S,le=G[0],Be=G[1];return le=le||0,Be=(Be||0)*T,[cn,Xn].indexOf(f)>=0?{x:Be,y:le}:{x:le,y:Be}}(Dn,D.rects,G),Kt},{}),Be=le[D.placement],Rt=Be.y;null!=D.modifiersData.popperOffsets&&(D.modifiersData.popperOffsets.x+=Be.x,D.modifiersData.popperOffsets.y+=Rt),D.modifiersData[f]=le}},Es=["*"],mo=["dialog"];function Kn(m){return"string"==typeof m}function $r(m){return null!=m}function ns(m){return(m||document.body).getBoundingClientRect()}function gs(m=document){const D=m?.activeElement;return D?D.shadowRoot?gs(D.shadowRoot):D:null}const Pt={animation:!0,transitionTimerDelayMs:5},dn=()=>{},{transitionTimerDelayMs:So}=Pt,tl=new Map,Ga=(m,D,S,f)=>{let T=f.context||{};const G=tl.get(D);if(G)switch(f.runningTransition){case"continue":return we.E;case"stop":m.run(()=>G.transition$.complete()),T=Object.assign(G.context,T),tl.delete(D)}const le=S(D,f.animation,T)||dn;if(!f.animation||"none"===window.getComputedStyle(D).transitionProperty)return m.run(()=>le()),(0,ne.of)(void 0).pipe(function zn(m){return D=>new ge.y(S=>D.subscribe({next:le=>m.run(()=>S.next(le)),error:le=>m.run(()=>S.error(le)),complete:()=>m.run(()=>S.complete())}))}(m));const Be=new Ne.x,rt=new Ne.x,Rt=Be.pipe(function Yn(...m){return D=>(0,mn.z)(D,(0,ne.of)(...m))}(!0));tl.set(D,{transition$:Be,complete:()=>{rt.next(),rt.complete()},context:T});const Kt=function yn(m){const{transitionDelay:D,transitionDuration:S}=window.getComputedStyle(m);return 1e3*(parseFloat(D)+parseFloat(S))}(D);return m.runOutsideAngular(()=>{const Dn=Ge(D,"transitionend").pipe((0,yr.R)(Rt),(0,Ln.h)(({target:Tn})=>Tn===D));Oe(It(Kt+So).pipe((0,yr.R)(Rt)),Dn,rt).pipe((0,yr.R)(Rt)).subscribe(()=>{tl.delete(D),m.run(()=>{le(),Be.next(),Be.complete()})})}),Be.asObservable()},Do=(m,D,S)=>{let{direction:f,maxSize:T,dimension:G}=S;const{classList:le}=m;function Be(){le.add("collapse"),"show"===f?le.add("show"):le.remove("show")}if(D)return T||(T=function md(m,D){if(typeof navigator>"u")return"0px";const{classList:S}=m,f=S.contains("show");f||S.add("show"),m.style[D]="";const T=m.getBoundingClientRect()[D]+"px";return f||S.remove("show"),T}(m,G),S.maxSize=T,m.style[G]="show"!==f?T:"0px",le.remove("collapse"),le.remove("collapsing"),le.remove("show"),ns(m),le.add("collapsing")),m.style[G]="show"===f?T:"0px",()=>{Be(),le.remove("collapsing"),m.style[G]=""};Be()};let Vl=(()=>{var m;class D{constructor(){this.animation=Pt.animation}}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),mr=(()=>{var m;class D{constructor(f){this._ngbConfig=f,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(f){this._animation=f}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(Vl))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),yl=(()=>{var m;class D{set collapsed(f){this._isCollapsed!==f&&(this._isCollapsed=f,this._afterInit&&this._runTransitionWithEvents(f,this.animation))}constructor(f,T,G){this._element=f,this._zone=G,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new d.vpe,this.shown=new d.vpe,this.hidden=new d.vpe,this.animation=T.animation,this.horizontal=T.horizontal}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(f=this._isCollapsed){this.collapsed=!f,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(f,T){return Ga(this._zone,this._element.nativeElement,Do,{animation:T,runningTransition:"stop",context:{direction:f?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(f,T){this._runTransition(f,T).subscribe(()=>{f?this.hidden.emit():this.shown.emit()})}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36(d.SBq),d.Y36(mr),d.Y36(d.R0b))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(f,T){2&f&&d.ekj("collapse-horizontal",T.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),D})(),zc=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),nl=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),W=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),ue=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})();var An=function(m){return m[m.Tab=9]="Tab",m[m.Enter=13]="Enter",m[m.Escape=27]="Escape",m[m.Space=32]="Space",m[m.PageUp=33]="PageUp",m[m.PageDown=34]="PageDown",m[m.End=35]="End",m[m.Home=36]="Home",m[m.ArrowLeft=37]="ArrowLeft",m[m.ArrowUp=38]="ArrowUp",m[m.ArrowRight=39]="ArrowRight",m[m.ArrowDown=40]="ArrowDown",m}(An||{});const Eo=(m,D)=>!!D&&D.some(S=>S.contains(m)),Ju=(m,D)=>!D||null!=function ki(m,D){return!D||typeof m.closest>"u"?null:m.closest(D)}(m,D),Co=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Ai(m,D,S,f,T,G,le,Be){S&&m.runOutsideAngular((m=>Co?()=>setTimeout(()=>m(),100):m)(()=>{const Rt=Ge(D,"keydown").pipe((0,yr.R)(T),(0,Ln.h)(or=>or.which===An.Escape),(0,Ye.b)(or=>or.preventDefault())),Kt=Ge(D,"mousedown").pipe((0,nt.U)(or=>{const Tn=or.target;return 2!==or.button&&!Eo(Tn,le)&&("inside"===S?Eo(Tn,G)&&Ju(Tn,Be):"outside"===S?!Eo(Tn,G):Ju(Tn,Be)||!Eo(Tn,G))}),(0,yr.R)(T)),Dn=Ge(D,"mouseup").pipe((0,Et.M)(Kt),(0,Ln.h)(([or,Tn])=>Tn),function Hr(m,D=Nn.z){const S=It(m,D);return ln(()=>S)}(0),(0,yr.R)(T));Oe([Rt.pipe((0,nt.U)(or=>0)),Dn.pipe((0,nt.U)(or=>1))]).subscribe(or=>m.run(()=>f(or)))}))}const ul=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ys(m){const D=Array.from(m.querySelectorAll(ul)).filter(S=>-1!==S.tabIndex);return[D[0],D[D.length-1]]}let wc=(()=>{var m;class D{constructor(f){this._element=f.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(Mn.K0))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})();const il=/\s+/,Yo=/  +/gi,_h={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Qo=/^left/,Nu=/^right/,Zo=/^start/,Bo=/^end/;function bc({placement:m,baseClass:D},S){let f=Array.isArray(m)?m:m.split(il),G=f.findIndex(Rt=>"auto"===Rt);G>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Rt){null==f.find(Kt=>-1!==Kt.search("^"+Rt))&&f.splice(G++,1,Rt)});const le=f.map(Rt=>function Bd(m,D){const[S,f]=_h[m];return D&&f||S}(Rt,S.isRTL()));return{placement:le.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!D,phase:"write",fn({state:Rt}){const Kt=new RegExp(D+"(-[a-z]+)*","gi"),Dn=Rt.elements.popper,or=Rt.placement;let Tn=Dn.className;Tn=Tn.replace(Kt,""),Tn+=` ${function Ao(m,D){let[S,f]=D.split("-");const T=S.replace(Qo,"start").replace(Nu,"end");let G=[T];if(f){let le=f;("left"===S||"right"===S)&&(le=le.replace(Zo,"top").replace(Bo,"bottom")),G.push(`${T}-${le}`)}return m&&(G=G.map(le=>`${m}-${le}`)),G.join(" ")}(D,or)}`,Tn=Tn.trim().replace(Yo," "),Dn.className=Tn}},sl,Hn,Za,{enabled:!0,name:"flip",options:{fallbackPlacements:le}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function qc(m){return m}new Date(1882,10,12),new Date(2174,10,25);let xr=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),Ri=(()=>{var m;class D{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=f=>f}}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),fl=(()=>{var m;class D{set disabled(f){this._disabled=""===f||!0===f,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}constructor(f,T){this.elementRef=f,this._renderer=T,this._disabled=!1}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36(d.SBq),d.Y36(d.Qsj))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(f,T){2&f&&(d.Ikx("tabIndex",T.disabled?-1:0),d.ekj("disabled",T.disabled))},inputs:{disabled:"disabled"},standalone:!0}),D})(),Cu=(()=>{var m;class D{constructor(f,T){this.dropdown=f,this.placement="bottom",this.isOpen=!1,this.nativeElement=T.nativeElement}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36((0,d.Gpc)(()=>Tc)),d.Y36(d.SBq))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(f,T,G){if(1&f&&d.Suo(G,fl,4),2&f){let le;d.iGM(le=d.CRH())&&(T.menuItems=le)}},hostVars:4,hostBindings:function(f,T){1&f&&d.NdJ("keydown.ArrowUp",function(le){return T.dropdown.onKeyDown(le)})("keydown.ArrowDown",function(le){return T.dropdown.onKeyDown(le)})("keydown.Home",function(le){return T.dropdown.onKeyDown(le)})("keydown.End",function(le){return T.dropdown.onKeyDown(le)})("keydown.Enter",function(le){return T.dropdown.onKeyDown(le)})("keydown.Space",function(le){return T.dropdown.onKeyDown(le)})("keydown.Tab",function(le){return T.dropdown.onKeyDown(le)})("keydown.Shift.Tab",function(le){return T.dropdown.onKeyDown(le)}),2&f&&d.ekj("dropdown-menu",!0)("show",T.dropdown.isOpen())},standalone:!0}),D})(),Jc=(()=>{var m;class D{constructor(f,T){this.dropdown=f,this.nativeElement=T.nativeElement}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36((0,d.Gpc)(()=>Tc)),d.Y36(d.SBq))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(f,T){2&f&&d.uIk("aria-expanded",T.dropdown.isOpen())},standalone:!0}),D})(),Au=(()=>{var m;class D extends Jc{constructor(f,T){super(f,T)}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36((0,d.Gpc)(()=>Tc)),d.Y36(d.SBq))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(f,T){1&f&&d.NdJ("click",function(){return T.dropdown.toggle()})("keydown.ArrowUp",function(le){return T.dropdown.onKeyDown(le)})("keydown.ArrowDown",function(le){return T.dropdown.onKeyDown(le)})("keydown.Home",function(le){return T.dropdown.onKeyDown(le)})("keydown.End",function(le){return T.dropdown.onKeyDown(le)})("keydown.Tab",function(le){return T.dropdown.onKeyDown(le)})("keydown.Shift.Tab",function(le){return T.dropdown.onKeyDown(le)}),2&f&&d.uIk("aria-expanded",T.dropdown.isOpen())},standalone:!0,features:[d._Bn([{provide:Jc,useExisting:(0,d.Gpc)(()=>m)}]),d.qOj]}),D})(),Tc=(()=>{var m;class D{constructor(f,T,G,le,Be,rt){this._changeDetector=f,this._document=G,this._ngZone=le,this._elementRef=Be,this._renderer=rt,this._destroyCloseHandlers$=new Ne.x,this._bodyContainer=null,this._open=!1,this.openChange=new d.vpe,this.placement=T.placement,this.popperOptions=T.popperOptions,this.container=T.container,this.autoClose=T.autoClose,this._positioning=function Cl(){const m=(0,d.f3M)(wc);let D=null;return{createPopper(S){if(!D){let T=(S.updatePopperOptions||qc)(bc(S,m));D=Di(S.hostElement,S.targetElement,T)}},update(){D&&D.update()},setOptions(S){if(D){let T=(S.updatePopperOptions||qc)(bc(S,m));D.setOptions(T)}},destroy(){D&&(D.destroy(),D=null)}}}()}ngOnInit(){this.display||(this.display=this._elementRef.nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,kn.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(f){if(f.container&&this._open&&this._applyContainer(this.container),f.placement&&!f.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),f.dropdownClass){const{currentValue:T,previousValue:G}=f.dropdownClass;this._applyCustomDropdownClass(T,G)}f.autoClose&&this._open&&(this.autoClose=f.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:f=>this.popperOptions(function Jo(m){return D=>(D.modifiers.push(Os,{name:"offset",options:{offset:()=>m}}),D)}([0,2])(f))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Ai(this._ngZone,this._document,this.autoClose,f=>{this.close(),0===f&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(f){const T=f.which,G=this._getMenuElements();let le=-1,Be=null;const rt=this._isEventFromToggle(f);if(!rt&&G.length&&G.forEach((Rt,Kt)=>{Rt.contains(f.target)&&(Be=Rt),Rt===gs(this._document)&&(le=Kt)}),T!==An.Space&&T!==An.Enter){if(T!==An.Tab){if(rt||Be){if(this.open(),G.length){switch(T){case An.ArrowDown:le=Math.min(le+1,G.length-1);break;case An.ArrowUp:if(this._isDropup()&&-1===le){le=G.length-1;break}le=Math.max(le-1,0);break;case An.Home:le=0;break;case An.End:le=G.length-1}G[le].focus()}f.preventDefault()}}else if(f.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===f.target)return void("body"!==this.container||f.shiftKey?f.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const Rt=this._menu.nativeElement.querySelectorAll(ul);f.shiftKey&&f.target===Rt[0]?(this._anchor.nativeElement.focus(),f.preventDefault()):!f.shiftKey&&f.target===Rt[Rt.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Ge(f.target,"focusout").pipe((0,kn.q)(1)).subscribe(({relatedTarget:Rt})=>{this._elementRef.nativeElement.contains(Rt)||this.close()})}}else Be&&(!0===this.autoClose||"inside"===this.autoClose)&&Ge(Be,"click").pipe((0,kn.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(f){return this._anchor.nativeElement.contains(f.target)}_getMenuElements(){const f=this._menu;return null==f?[]:f.menuItems.filter(T=>!T.disabled).map(T=>T.elementRef.nativeElement)}_positionMenu(){const f=this._menu;this.isOpen()&&f&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(f){return Array.isArray(f)?f[0]:f.split(" ")[0]}_resetContainer(){const f=this._renderer;this._menu&&f.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(f.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(f=null){if(this._resetContainer(),"body"===f){const T=this._renderer,G=this._menu.nativeElement,le=this._bodyContainer=this._bodyContainer||T.createElement("div");T.setStyle(le,"position","absolute"),T.setStyle(G,"position","static"),T.setStyle(le,"z-index","1055"),T.appendChild(le,G),T.appendChild(this._document.body,le)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(f,T){const G="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;G&&(T&&this._renderer.removeClass(G,T),f&&this._renderer.addClass(G,f))}_applyPlacementClasses(f){const T=this._menu;if(T){f||(f=this._getFirstPlacement(this.placement));const G=this._renderer,le=this._elementRef.nativeElement;G.removeClass(le,"dropup"),G.removeClass(le,"dropdown");const{nativeElement:Be}=T;"static"===this.display?(T.placement=null,G.setAttribute(Be,"data-bs-popper","static")):(T.placement=f,G.removeAttribute(Be,"data-bs-popper"));const rt=-1!==f.search("^top")?"dropup":"dropdown";G.addClass(le,rt);const Rt=this._bodyContainer;Rt&&(G.removeClass(Rt,"dropup"),G.removeClass(Rt,"dropdown"),G.addClass(Rt,rt))}}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36(d.sBO),d.Y36(Ri),d.Y36(Mn.K0),d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(d.Qsj))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdown",""]],contentQueries:function(f,T,G){if(1&f&&(d.Suo(G,Cu,5),d.Suo(G,Jc,5)),2&f){let le;d.iGM(le=d.CRH())&&(T._menu=le.first),d.iGM(le=d.CRH())&&(T._anchor=le.first)}},hostVars:2,hostBindings:function(f,T){2&f&&d.ekj("show",T.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[d.TTD]}),D})(),ec=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})();class Rl{constructor(D,S,f){this.nodes=D,this.viewRef=S,this.componentRef=f}}let xl=(()=>{var m;class D{constructor(f,T){this._el=f,this._zone=T}ngOnInit(){this._zone.onStable.asObservable().pipe((0,kn.q)(1)).subscribe(()=>{Ga(this._zone,this._el.nativeElement,(f,T)=>{T&&ns(f),f.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ga(this._zone,this._el.nativeElement,({classList:f})=>f.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36(d.SBq),d.Y36(d.R0b))},m.\u0275cmp=d.Xpm({type:m,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(f,T){2&f&&(d.Tol("modal-backdrop"+(T.backdropClass?" "+T.backdropClass:"")),d.ekj("show",!T.animation)("fade",T.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[d.jDz],decls:0,vars:0,template:function(f,T){},encapsulation:2}),D})();class yh{update(D){}close(D){}dismiss(D){}}const od=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],$d=["animation","backdropClass"];class Xc{_applyWindowOptions(D,S){od.forEach(f=>{$r(S[f])&&(D[f]=S[f])})}_applyBackdropOptions(D,S){$d.forEach(f=>{$r(S[f])&&(D[f]=S[f])})}update(D){this._applyWindowOptions(this._windowCmptRef.instance,D),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,D)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,yr.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,yr.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(D,S,f,T){this._windowCmptRef=D,this._contentRef=S,this._backdropCmptRef=f,this._beforeDismiss=T,this._closed=new Ne.x,this._dismissed=new Ne.x,this._hidden=new Ne.x,D.instance.dismissEvent.subscribe(G=>{this.dismiss(G)}),this.result=new Promise((G,le)=>{this._resolve=G,this._reject=le}),this.result.then(null,()=>{})}close(D){this._windowCmptRef&&(this._closed.next(D),this._resolve(D),this._removeModalElements())}_dismiss(D){this._dismissed.next(D),this._reject(D),this._removeModalElements()}dismiss(D){if(this._windowCmptRef)if(this._beforeDismiss){const S=this._beforeDismiss();!function ps(m){return m&&m.then}(S)?!1!==S&&this._dismiss(D):S.then(f=>{!1!==f&&this._dismiss(D)},()=>{})}else this._dismiss(D)}_removeModalElements(){const D=this._windowCmptRef.instance.hide(),S=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,ne.of)(void 0);D.subscribe(()=>{const{nativeElement:f}=this._windowCmptRef.location;f.parentNode.removeChild(f),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),S.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:f}=this._backdropCmptRef.location;f.parentNode.removeChild(f),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),jn(D,S).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var vd=function(m){return m[m.BACKDROP_CLICK=0]="BACKDROP_CLICK",m[m.ESC=1]="ESC",m}(vd||{});let Gd=(()=>{var m;class D{constructor(f,T,G){this._document=f,this._elRef=T,this._zone=G,this._closed$=new Ne.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new d.vpe,this.shown=new Ne.x,this.hidden=new Ne.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Kn(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(f){this.dismissEvent.emit(f)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,kn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:f}=this._elRef,T={animation:this.animation,runningTransition:"stop"},Be=jn(Ga(this._zone,f,()=>f.classList.remove("show"),T),Ga(this._zone,this._dialogEl.nativeElement,()=>{},T));return Be.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Be}_show(){const f={animation:this.animation,runningTransition:"continue"};jn(Ga(this._zone,this._elRef.nativeElement,(le,Be)=>{Be&&ns(le),le.classList.add("show")},f),Ga(this._zone,this._dialogEl.nativeElement,()=>{},f)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:f}=this._elRef;this._zone.runOutsideAngular(()=>{Ge(f,"keydown").pipe((0,yr.R)(this._closed$),(0,Ln.h)(G=>G.which===An.Escape)).subscribe(G=>{this.keyboard?requestAnimationFrame(()=>{G.defaultPrevented||this._zone.run(()=>this.dismiss(vd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let T=!1;Ge(this._dialogEl.nativeElement,"mousedown").pipe((0,yr.R)(this._closed$),(0,Ye.b)(()=>T=!1),(0,ir.w)(()=>Ge(f,"mouseup").pipe((0,yr.R)(this._closed$),(0,kn.q)(1))),(0,Ln.h)(({target:G})=>f===G)).subscribe(()=>{T=!0}),Ge(f,"click").pipe((0,yr.R)(this._closed$)).subscribe(({target:G})=>{f===G&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!T&&this._zone.run(()=>this.dismiss(vd.BACKDROP_CLICK))),T=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:f}=this._elRef;if(!f.contains(document.activeElement)){const T=f.querySelector("[ngbAutofocus]"),G=Ys(f)[0];(T||G||f).focus()}}_restoreFocus(){const f=this._document.body,T=this._elWithFocus;let G;G=T&&T.focus&&f.contains(T)?T:f,this._zone.runOutsideAngular(()=>{setTimeout(()=>G.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ga(this._zone,this._elRef.nativeElement,({classList:f})=>(f.add("modal-static"),()=>f.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36(Mn.K0),d.Y36(d.SBq),d.Y36(d.R0b))},m.\u0275cmp=d.Xpm({type:m,selectors:[["ngb-modal-window"]],viewQuery:function(f,T){if(1&f&&d.Gf(mo,7),2&f){let G;d.iGM(G=d.CRH())&&(T._dialogEl=G.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(f,T){2&f&&(d.uIk("aria-modal",!0)("aria-labelledby",T.ariaLabelledBy)("aria-describedby",T.ariaDescribedBy),d.Tol("modal d-block"+(T.windowClass?" "+T.windowClass:"")),d.ekj("fade",T.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[d.jDz],ngContentSelectors:Es,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(f,T){1&f&&(d.F$t(),d.TgZ(0,"div",0,1)(2,"div",2),d.Hsn(3),d.qZA()()),2&f&&d.Tol("modal-dialog"+(T.size?" modal-"+T.size:"")+(T.centered?" modal-dialog-centered":"")+T.fullscreenClass+(T.scrollable?" modal-dialog-scrollable":"")+(T.modalDialogClass?" "+T.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),D})(),Wg=(()=>{var m;class D{constructor(f){this._document=f}hide(){const f=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),T=this._document.body,G=T.style,{overflow:le,paddingRight:Be}=G;if(f>0){const rt=parseFloat(window.getComputedStyle(T).paddingRight);G.paddingRight=`${rt+f}px`}return G.overflow="hidden",()=>{f>0&&(G.paddingRight=Be),G.overflow=le}}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(Mn.K0))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),Tp=(()=>{var m;class D{constructor(f,T,G,le,Be,rt,Rt){this._applicationRef=f,this._injector=T,this._environmentInjector=G,this._document=le,this._scrollBar=Be,this._rendererFactory=rt,this._ngZone=Rt,this._activeWindowCmptHasChanged=new Ne.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new d.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Kt=this._windowCmpts[this._windowCmpts.length-1];((m,D,S,f=!1)=>{m.runOutsideAngular(()=>{const T=Ge(D,"focusin").pipe((0,yr.R)(S),(0,nt.U)(G=>G.target));Ge(D,"keydown").pipe((0,yr.R)(S),(0,Ln.h)(G=>G.which===An.Tab),(0,Et.M)(T)).subscribe(([G,le])=>{const[Be,rt]=Ys(D);(le===Be||le===D)&&G.shiftKey&&(rt.focus(),G.preventDefault()),le===rt&&!G.shiftKey&&(Be.focus(),G.preventDefault())}),f&&Ge(D,"click").pipe((0,yr.R)(S),(0,Et.M)(T),(0,nt.U)(G=>G[1])).subscribe(G=>G.focus())})})(this._ngZone,Kt.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Kt.location.nativeElement)}})}_restoreScrollBar(){const f=this._scrollBarRestoreFn;f&&(this._scrollBarRestoreFn=null,f())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(f,T,G){const le=G.container instanceof HTMLElement?G.container:$r(G.container)?this._document.querySelector(G.container):this._document.body,Be=this._rendererFactory.createRenderer(null,null);if(!le)throw new Error(`The specified modal container "${G.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const rt=new yh,Rt=(f=G.injector||f).get(d.lqb,null)||this._environmentInjector,Kt=this._getContentRef(f,Rt,T,rt,G);let Dn=!1!==G.backdrop?this._attachBackdrop(le):void 0,or=this._attachWindowComponent(le,Kt.nodes),Tn=new Xc(or,Kt,Dn,G.beforeDismiss);return this._registerModalRef(Tn),this._registerWindowCmpt(or),Tn.hidden.pipe((0,kn.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Be.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),rt.close=vi=>{Tn.close(vi)},rt.dismiss=vi=>{Tn.dismiss(vi)},rt.update=vi=>{Tn.update(vi)},Tn.update(G),1===this._modalRefs.length&&Be.addClass(this._document.body,"modal-open"),Dn&&Dn.instance&&Dn.changeDetectorRef.detectChanges(),or.changeDetectorRef.detectChanges(),Tn}get activeInstances(){return this._activeInstances}dismissAll(f){this._modalRefs.forEach(T=>T.dismiss(f))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(f){let T=(0,d.LMc)(xl,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(T.hostView),f.appendChild(T.location.nativeElement),T}_attachWindowComponent(f,T){let G=(0,d.LMc)(Gd,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:T});return this._applicationRef.attachView(G.hostView),f.appendChild(G.location.nativeElement),G}_getContentRef(f,T,G,le,Be){return G?G instanceof d.Rgc?this._createFromTemplateRef(G,le):Kn(G)?this._createFromString(G):this._createFromComponent(f,T,G,le,Be):new Rl([])}_createFromTemplateRef(f,T){const le=f.createEmbeddedView({$implicit:T,close(Be){T.close(Be)},dismiss(Be){T.dismiss(Be)}});return this._applicationRef.attachView(le),new Rl([le.rootNodes],le)}_createFromString(f){const T=this._document.createTextNode(`${f}`);return new Rl([[T]])}_createFromComponent(f,T,G,le,Be){const rt=d.zs3.create({providers:[{provide:yh,useValue:le}],parent:f}),Rt=(0,d.LMc)(G,{environmentInjector:T,elementInjector:rt}),Kt=Rt.location.nativeElement;return Be.scrollable&&Kt.classList.add("component-host-scrollable"),this._applicationRef.attachView(Rt.hostView),new Rl([[Kt]],Rt.hostView,Rt)}_setAriaHidden(f){const T=f.parentElement;T&&f!==this._document.body&&(Array.from(T.children).forEach(G=>{G!==f&&"SCRIPT"!==G.nodeName&&(this._ariaHiddenValues.set(G,G.getAttribute("aria-hidden")),G.setAttribute("aria-hidden","true"))}),this._setAriaHidden(T))}_revertAriaHidden(){this._ariaHiddenValues.forEach((f,T)=>{f?T.setAttribute("aria-hidden",f):T.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(f){const T=()=>{const G=this._modalRefs.indexOf(f);G>-1&&(this._modalRefs.splice(G,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(f),this._activeInstances.emit(this._modalRefs),f.result.then(T,T)}_registerWindowCmpt(f){this._windowCmpts.push(f),this._activeWindowCmptHasChanged.next(),f.onDestroy(()=>{const T=this._windowCmpts.indexOf(f);T>-1&&(this._windowCmpts.splice(T,1),this._activeWindowCmptHasChanged.next())})}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(d.z2F),d.LFG(d.zs3),d.LFG(d.lqb),d.LFG(Mn.K0),d.LFG(Wg),d.LFG(d.FYo),d.LFG(d.R0b))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),Zi=(()=>{var m;class D{constructor(f){this._ngbConfig=f,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(f){this._animation=f}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(Vl))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),Sp=(()=>{var m;class D{constructor(f,T,G){this._injector=f,this._modalStack=T,this._config=G}open(f,T={}){const G={...this._config,animation:this._config.animation,...T};return this._modalStack.open(this._injector,f,G)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(f){this._modalStack.dismissAll(f)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(d.zs3),d.LFG(Tp),d.LFG(Zi))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),yf=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({providers:[Sp]}),D})(),wd=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),cd=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),L=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),De=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),Jt=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),N_=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),pl=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),If=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),Jg=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})();new d.OlP("live announcer delay",{providedIn:"root",factory:function k0(){return 100}});let em=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),Df=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})();const Cf=[zc,nl,W,ue,xr,ec,yf,wd,Df,cd,L,De,Jt,N_,pl,If,Jg,em];let $_=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[Cf,zc,nl,W,ue,xr,ec,yf,wd,Df,cd,L,De,Jt,N_,pl,If,Jg,em]}),D})()},1878:(Rn,yt,Y)=>{Y.d(yt,{X3:()=>wn});var d=Y(5861);const ge=(Oe,Ht)=>Ht.some(on=>Oe instanceof on);let we,ne;const Ae=new WeakMap,ct=new WeakMap,it=new WeakMap,Te=new WeakMap,xe=new WeakMap;let Ge={get(Oe,Ht,on){if(Oe instanceof IDBTransaction){if("done"===Ht)return ct.get(Oe);if("objectStoreNames"===Ht)return Oe.objectStoreNames||it.get(Oe);if("store"===Ht)return on.objectStoreNames[1]?void 0:on.objectStore(on.objectStoreNames[0])}return qt(Oe[Ht])},set:(Oe,Ht,on)=>(Oe[Ht]=on,!0),has:(Oe,Ht)=>Oe instanceof IDBTransaction&&("done"===Ht||"store"===Ht)||Ht in Oe};function an(Oe){return"function"==typeof Oe?function ut(Oe){return Oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Oe)?function(...Ht){return Oe.apply(Nn(this),Ht),qt(Ae.get(this))}:function(...Ht){return qt(Oe.apply(Nn(this),Ht))}:function(Ht,...on){const Wn=Oe.call(Nn(this),Ht,...on);return it.set(Wn,Ht.sort?Ht.sort():[Ht]),qt(Wn)}}(Oe):(Oe instanceof IDBTransaction&&function mt(Oe){if(ct.has(Oe))return;const Ht=new Promise((on,Wn)=>{const jn=()=>{Oe.removeEventListener("complete",mn),Oe.removeEventListener("error",Yn),Oe.removeEventListener("abort",Yn)},mn=()=>{on(),jn()},Yn=()=>{Wn(Oe.error||new DOMException("AbortError","AbortError")),jn()};Oe.addEventListener("complete",mn),Oe.addEventListener("error",Yn),Oe.addEventListener("abort",Yn)});ct.set(Oe,Ht)}(Oe),ge(Oe,function Ne(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Oe,Ge):Oe)}function qt(Oe){if(Oe instanceof IDBRequest)return function Qe(Oe){const Ht=new Promise((on,Wn)=>{const jn=()=>{Oe.removeEventListener("success",mn),Oe.removeEventListener("error",Yn)},mn=()=>{on(qt(Oe.result)),jn()},Yn=()=>{Wn(Oe.error),jn()};Oe.addEventListener("success",mn),Oe.addEventListener("error",Yn)});return Ht.then(on=>{on instanceof IDBCursor&&Ae.set(on,Oe)}).catch(()=>{}),xe.set(Ht,Oe),Ht}(Oe);if(Te.has(Oe))return Te.get(Oe);const Ht=an(Oe);return Ht!==Oe&&(Te.set(Oe,Ht),xe.set(Ht,Oe)),Ht}const Nn=Oe=>xe.get(Oe);function wn(Oe,Ht,{blocked:on,upgrade:Wn,blocking:jn,terminated:mn}={}){const Yn=indexedDB.open(Oe,Ht),yr=qt(Yn);return Wn&&Yn.addEventListener("upgradeneeded",Ln=>{Wn(qt(Yn.result),Ln.oldVersion,Ln.newVersion,qt(Yn.transaction),Ln)}),on&&Yn.addEventListener("blocked",Ln=>on(Ln.oldVersion,Ln.newVersion,Ln)),yr.then(Ln=>{mn&&Ln.addEventListener("close",()=>mn()),jn&&Ln.addEventListener("versionchange",kn=>jn(kn.oldVersion,kn.newVersion,kn))}).catch(()=>{}),yr}const It=["get","getKey","getAll","getAllKeys","count"],pt=["put","add","delete","clear"],gt=new Map;function Mt(Oe,Ht){if(!(Oe instanceof IDBDatabase)||Ht in Oe||"string"!=typeof Ht)return;if(gt.get(Ht))return gt.get(Ht);const on=Ht.replace(/FromIndex$/,""),Wn=Ht!==on,jn=pt.includes(on);if(!(on in(Wn?IDBIndex:IDBObjectStore).prototype)||!jn&&!It.includes(on))return;const mn=function(){var Yn=(0,d.Z)(function*(yr,...Ln){const kn=this.transaction(yr,jn?"readwrite":"readonly");let Ye=kn.store;return Wn&&(Ye=Ye.index(Ln.shift())),(yield Promise.all([Ye[on](...Ln),jn&&kn.done]))[0]});return function(Ln){return Yn.apply(this,arguments)}}();return gt.set(Ht,mn),mn}!function Yt(Oe){Ge=Oe(Ge)}(Oe=>({...Oe,get:(Ht,on,Wn)=>Mt(Ht,on)||Oe.get(Ht,on,Wn),has:(Ht,on)=>!!Mt(Ht,on)||Oe.has(Ht,on)}))},5861:(Rn,yt,Y)=>{function d(we,ne,Ne,He,Ae,ct,it){try{var Te=we[ct](it),xe=Te.value}catch(Qe){return void Ne(Qe)}Te.done?ne(xe):Promise.resolve(xe).then(He,Ae)}function ge(we){return function(){var ne=this,Ne=arguments;return new Promise(function(He,Ae){var ct=we.apply(ne,Ne);function it(xe){d(ct,He,Ae,it,Te,"next",xe)}function Te(xe){d(ct,He,Ae,it,Te,"throw",xe)}it(void 0)})}}Y.d(yt,{Z:()=>ge})},7582:(Rn,yt,Y)=>{function ne(Ye,nt){var Et={};for(var ot in Ye)Object.prototype.hasOwnProperty.call(Ye,ot)&&nt.indexOf(ot)<0&&(Et[ot]=Ye[ot]);if(null!=Ye&&"function"==typeof Object.getOwnPropertySymbols){var Ct=0;for(ot=Object.getOwnPropertySymbols(Ye);Ct<ot.length;Ct++)nt.indexOf(ot[Ct])<0&&Object.prototype.propertyIsEnumerable.call(Ye,ot[Ct])&&(Et[ot[Ct]]=Ye[ot[Ct]])}return Et}function Qe(Ye,nt,Et,ot){return new(Et||(Et=Promise))(function(en,rn){function ln(hr){try{ir(ot.next(hr))}catch(Bn){rn(Bn)}}function Hr(hr){try{ir(ot.throw(hr))}catch(Bn){rn(Bn)}}function ir(hr){hr.done?en(hr.value):function Ct(en){return en instanceof Et?en:new Et(function(rn){rn(en)})}(hr.value).then(ln,Hr)}ir((ot=ot.apply(Ye,nt||[])).next())})}function st(Ye){return this instanceof st?(this.v=Ye,this):new st(Ye)}function It(Ye,nt,Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ct,ot=Et.apply(Ye,nt||[]),en=[];return Ct={},rn("next"),rn("throw"),rn("return"),Ct[Symbol.asyncIterator]=function(){return this},Ct;function rn(Mr){ot[Mr]&&(Ct[Mr]=function(Mn){return new Promise(function(Nr,Ue){en.push([Mr,Mn,Nr,Ue])>1||ln(Mr,Mn)})})}function ln(Mr,Mn){try{!function Hr(Mr){Mr.value instanceof st?Promise.resolve(Mr.value.v).then(ir,hr):Bn(en[0][2],Mr)}(ot[Mr](Mn))}catch(Nr){Bn(en[0][3],Nr)}}function ir(Mr){ln("next",Mr)}function hr(Mr){ln("throw",Mr)}function Bn(Mr,Mn){Mr(Mn),en.shift(),en.length&&ln(en[0][0],en[0][1])}}function gt(Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,nt=Ye[Symbol.asyncIterator];return nt?nt.call(Ye):(Ye=function ut(Ye){var nt="function"==typeof Symbol&&Symbol.iterator,Et=nt&&Ye[nt],ot=0;if(Et)return Et.call(Ye);if(Ye&&"number"==typeof Ye.length)return{next:function(){return Ye&&ot>=Ye.length&&(Ye=void 0),{value:Ye&&Ye[ot++],done:!Ye}}};throw new TypeError(nt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ye),Et={},ot("next"),ot("throw"),ot("return"),Et[Symbol.asyncIterator]=function(){return this},Et);function ot(en){Et[en]=Ye[en]&&function(rn){return new Promise(function(ln,Hr){!function Ct(en,rn,ln,Hr){Promise.resolve(Hr).then(function(ir){en({value:ir,done:ln})},rn)}(ln,Hr,(rn=Ye[en](rn)).done,rn.value)})}}}Y.d(yt,{FC:()=>It,KL:()=>gt,_T:()=>ne,mG:()=>Qe,qq:()=>st}),"function"==typeof SuppressedError&&SuppressedError}},Rn=>{var yt=d=>Rn(Rn.s=d);yt(2614),yt(5980)}]);