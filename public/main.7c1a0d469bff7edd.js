"use strict";(self.webpackChunksala_juegos_llemos=self.webpackChunksala_juegos_llemos||[]).push([[179],{2194:(bn,gt,W)=>{W.d(gt,{nm:()=>Zs});var d=W(2793),Pe=(W(5879),W(8726),W(4097),W(5861)),Ve=W(4303),be=W(4537),lt=W(9058),We=W(7879);const _e=new Map,Oe={activated:!1,tokenObservers:[]},Ze={initialized:!1,enabled:!1};function bt(Ge){return _e.get(Ge)||Object.assign({},Oe)}function jt(){return Ze}const st="https://content-firebaseappcheck.googleapis.com/v1",On="exchangeDebugToken",vn={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Tt{constructor(ze,ut,Vt,Xt,qn){if(this.operation=ze,this.retryPolicy=ut,this.getWaitDuration=Vt,this.lowerBound=Xt,this.upperBound=qn,this.pending=null,this.nextErrorWaitInterval=Xt,Xt>qn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ze){var ut=this;return(0,Pe.Z)(function*(){ut.stop();try{ut.pending=new lt.BH,yield function ot(Ge){return new Promise(ze=>{setTimeout(ze,Ge)})}(ut.getNextRun(ze)),ut.pending.resolve(),yield ut.pending.promise,ut.pending=new lt.BH,yield ut.operation(),ut.pending.resolve(),yield ut.pending.promise,ut.process(!0).catch(()=>{})}catch(Vt){ut.retryPolicy(Vt)?ut.process(!1).catch(()=>{}):ut.stop()}})()}getNextRun(ze){if(ze)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ut=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ut}}}const Dt=new lt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nt(Ge){if(!bt(Ge).activated)throw Dt.create("use-before-activation",{appName:Ge.name})}function Bn(Ge,ze){return mn.apply(this,arguments)}function mn(){return(mn=(0,Pe.Z)(function*({url:Ge,body:ze},ut){const Vt={"Content-Type":"application/json"},Xt=ut.getImmediate({optional:!0});if(Xt){const As=yield Xt.getHeartbeatsHeader();As&&(Vt["X-Firebase-Client"]=As)}const qn={method:"POST",body:JSON.stringify(ze),headers:Vt};let Ur,Or;try{Ur=yield fetch(Ge,qn)}catch(As){throw Dt.create("fetch-network-error",{originalErrorMessage:As?.message})}if(200!==Ur.status)throw Dt.create("fetch-status-error",{httpStatus:Ur.status});try{Or=yield Ur.json()}catch(As){throw Dt.create("fetch-parse-error",{originalErrorMessage:As?.message})}const Dr=Or.ttl.match(/^([\d.]+)(s)$/);if(!Dr||!Dr[2]||isNaN(Number(Dr[1])))throw Dt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Or.ttl}`});const na=1e3*Number(Dr[1]),us=Date.now();return{token:Or.token,expireTimeMillis:us+na,issuedAtTimeMillis:us}})).apply(this,arguments)}function dr(Ge,ze){const{projectId:ut,appId:Vt,apiKey:Xt}=Ge.options;return{url:`${st}/projects/${ut}/apps/${Vt}:${On}?key=${Xt}`,body:{debug_token:ze}}}const ar="firebase-app-check-database",Je=1,dt="firebase-app-check-store";let $e=null;function Un(){return(Un=(0,Pe.Z)(function*(Ge,ze){const Vt=(yield function ft(){return $e||($e=new Promise((Ge,ze)=>{try{const ut=indexedDB.open(ar,Je);ut.onsuccess=Vt=>{Ge(Vt.target.result)},ut.onerror=Vt=>{var Xt;ze(Dt.create("storage-open",{originalErrorMessage:null===(Xt=Vt.target.error)||void 0===Xt?void 0:Xt.message}))},ut.onupgradeneeded=Vt=>{0===Vt.oldVersion&&Vt.target.result.createObjectStore(dt,{keyPath:"compositeKey"})}}catch(ut){ze(Dt.create("storage-open",{originalErrorMessage:ut?.message}))}}),$e)}()).transaction(dt,"readwrite"),qn=Vt.objectStore(dt).put({compositeKey:Ge,value:ze});return new Promise((Ur,Or)=>{qn.onsuccess=Dr=>{Ur()},Vt.onerror=Dr=>{var na;Or(Dt.create("storage-set",{originalErrorMessage:null===(na=Dr.target.error)||void 0===na?void 0:na.message}))}})})).apply(this,arguments)}const wn=new We.Yd("@firebase/app-check");function mt(Ge,ze){return(0,lt.hl)()?function Gt(Ge,ze){return function Fn(Ge,ze){return Un.apply(this,arguments)}(function zr(Ge){return`${Ge.options.appId}-${Ge.name}`}(Ge),ze)}(Ge,ze).catch(ut=>{wn.warn(`Failed to write token to IndexedDB. Error: ${ut}`)}):Promise.resolve()}function Ht(){return jt().enabled}function or(){return ln.apply(this,arguments)}function ln(){return(ln=(0,Pe.Z)(function*(){const Ge=jt();if(Ge.enabled&&Ge.token)return Ge.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rn={error:"UNKNOWN_ERROR"};function kn(Ge){return lt.US.encodeString(JSON.stringify(Ge),!1)}function nr(Ge){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,Pe.Z)(function*(Ge,ze=!1){const ut=Ge.app;Nt(ut);const Vt=bt(ut);let qn,Xt=Vt.token;if(Xt&&!Wr(Xt)&&(Vt.token=void 0,Xt=void 0),!Xt){const Dr=yield Vt.cachedTokenPromise;Dr&&(Wr(Dr)?Xt=Dr:yield mt(ut,void 0))}if(!ze&&Xt&&Wr(Xt))return{token:Xt.token};let Or,Ur=!1;if(Ht()){Vt.exchangeTokenPromise||(Vt.exchangeTokenPromise=Bn(dr(ut,yield or()),Ge.heartbeatServiceProvider).finally(()=>{Vt.exchangeTokenPromise=void 0}),Ur=!0);const Dr=yield Vt.exchangeTokenPromise;return yield mt(ut,Dr),Vt.token=Dr,{token:Dr.token}}try{Vt.exchangeTokenPromise||(Vt.exchangeTokenPromise=Vt.provider.getToken().finally(()=>{Vt.exchangeTokenPromise=void 0}),Ur=!0),Xt=yield bt(ut).exchangeTokenPromise}catch(Dr){"appCheck/throttled"===Dr.code?wn.warn(Dr.message):wn.error(Dr),qn=Dr}return Xt?qn?Or=Wr(Xt)?{token:Xt.token,internalError:qn}:xr(qn):(Or={token:Xt.token},Vt.token=Xt,yield mt(ut,Xt)):Or=xr(qn),Ur&&function ur(Ge,ze){const ut=bt(Ge).tokenObservers;for(const Vt of ut)try{"EXTERNAL"===Vt.type&&null!=ze.error?Vt.error(ze.error):Vt.next(ze)}catch{}}(ut,Or),Or})).apply(this,arguments)}function qr(Ge){return cr.apply(this,arguments)}function cr(){return(cr=(0,Pe.Z)(function*(Ge){const ze=Ge.app;Nt(ze);const{provider:ut}=bt(ze);if(Ht()){const Vt=yield or(),{token:Xt}=yield Bn(dr(ze,Vt),Ge.heartbeatServiceProvider);return{token:Xt}}{const{token:Vt}=yield ut.getToken();return{token:Vt}}})).apply(this,arguments)}function Cr(Ge,ze){const ut=bt(Ge),Vt=ut.tokenObservers.filter(Xt=>Xt.next!==ze);0===Vt.length&&ut.tokenRefresher&&ut.tokenRefresher.isRunning()&&ut.tokenRefresher.stop(),ut.tokenObservers=Vt}function Tr(Ge){const{app:ze}=Ge,ut=bt(ze);let Vt=ut.tokenRefresher;Vt||(Vt=function Vi(Ge){const{app:ze}=Ge;return new Tt((0,Pe.Z)(function*(){let Vt;if(Vt=bt(ze).token?yield nr(Ge,!0):yield nr(Ge),Vt.error)throw Vt.error;if(Vt.internalError)throw Vt.internalError}),()=>!0,()=>{const ut=bt(ze);if(ut.token){let Vt=ut.token.issuedAtTimeMillis+.5*(ut.token.expireTimeMillis-ut.token.issuedAtTimeMillis)+3e5;return Vt=Math.min(Vt,ut.token.expireTimeMillis-3e5),Math.max(0,Vt-Date.now())}return 0},vn.RETRIAL_MIN_WAIT,vn.RETRIAL_MAX_WAIT)}(Ge),ut.tokenRefresher=Vt),!Vt.isRunning()&&ut.isTokenAutoRefreshEnabled&&Vt.start()}function Wr(Ge){return Ge.expireTimeMillis-Date.now()>0}function xr(Ge){return{token:kn(rn),error:Ge}}class Ai{constructor(ze,ut){this.app=ze,this.heartbeatServiceProvider=ut}_delete(){const{tokenObservers:ze}=bt(this.app);for(const ut of ze)Cr(this.app,ut.next);return Promise.resolve()}}const Hi="app-check-internal";!function _r(){(0,Ve.Xd)(new be.wA("app-check",Ge=>function fi(Ge,ze){return new Ai(Ge,ze)}(Ge.getProvider("app").getImmediate(),Ge.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ge,ze,ut)=>{Ge.getProvider(Hi).initialize()})),(0,Ve.Xd)(new be.wA(Hi,Ge=>function ui(Ge){return{getToken:ze=>nr(Ge,ze),getLimitedUseToken:()=>qr(Ge),addTokenListener:ze=>function Vr(Ge,ze,ut,Vt){const{app:Xt}=Ge,qn=bt(Xt);if(qn.tokenObservers=[...qn.tokenObservers,{next:ut,error:Vt,type:ze}],qn.token&&Wr(qn.token)){const Or=qn.token;Promise.resolve().then(()=>{ut({token:Or.token}),Tr(Ge)}).catch(()=>{})}qn.cachedTokenPromise.then(()=>Tr(Ge))}(Ge,"INTERNAL",ze),removeTokenListener:ze=>Cr(Ge.app,ze)}}(Ge.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ve.KN)("@firebase/app-check","0.8.0")}();class Zs{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},8726:(bn,gt,W)=>{W.d(gt,{Ot:()=>we,ZF:()=>tn,hX:()=>bt,z6:()=>Pe});var d=W(4097),oe=W(5879),fe=W(2793);class we{constructor(Tt){return Tt}}class Pe{constructor(){return(0,d.C6)()}}const lt=new oe.OlP("angularfire2._apps"),We={provide:we,useFactory:function be(He){return He&&1===He.length?He[0]:new we((0,d.Mq)())},deps:[[new oe.FiY,lt]]},_e={provide:Pe,deps:[[new oe.FiY,lt]]};function Oe(He){return(Tt,ot)=>{const at=Tt.runOutsideAngular(()=>He(ot));return new we(at)}}let Ze=(()=>{class He{constructor(ot){(0,d.KN)("angularfire",fe.q4.full,"core"),(0,d.KN)("angularfire",fe.q4.full,"app"),(0,d.KN)("angular",oe.q4F.full,ot.toString())}}return He.\u0275fac=function(ot){return new(ot||He)(oe.LFG(oe.Lbi))},He.\u0275mod=oe.oAB({type:He}),He.\u0275inj=oe.cJS({providers:[We,_e]}),He})();function bt(He,...Tt){return{ngModule:Ze,providers:[{provide:lt,useFactory:Oe(He),multi:!0,deps:[oe.R0b,oe.zs3,fe.HU,...Tt]}]}}const tn=(0,fe.u3)(d.ZF,!0)},7923:(bn,gt,W)=>{W.d(gt,{dh:()=>bt,v0:()=>dr,AR:()=>He});var d=W(2793),oe=W(5879),fe=W(8726),we=W(4097),Pe=W(2194),Ve=W(6710);W(9058),W(7592),W(7879),W(4537);class Ze{constructor(Fe){return Fe}}class bt{constructor(){return(0,d.vb)("auth")}}const jt=new oe.OlP("angularfire2.auth-instances");function tn(yt){return(Fe,St)=>{const ht=Fe.runOutsideAngular(()=>yt(St));return new Ze(ht)}}const Lt={provide:bt,deps:[[new oe.FiY,jt]]},On={provide:Ze,useFactory:function st(yt,Fe){const St=(0,d.JM)("auth",yt,Fe);return St&&new Ze(St)},deps:[[new oe.FiY,jt],fe.Ot]};let vn=(()=>{class yt{constructor(){(0,we.KN)("angularfire",d.q4.full,"auth")}}return yt.\u0275fac=function(St){return new(St||yt)},yt.\u0275mod=oe.oAB({type:yt}),yt.\u0275inj=oe.cJS({providers:[On,Lt]}),yt})();function He(yt,...Fe){return{ngModule:vn,providers:[{provide:jt,useFactory:tn(yt),multi:!0,deps:[oe.R0b,oe.zs3,d.HU,fe.z6,[new oe.FiY,Pe.nm],...Fe]}]}}const dr=(0,d.u3)(Ve.o,!0)},6304:(bn,gt,W)=>{W.d(gt,{Dh:()=>lt,GT:()=>Ve,cc:()=>Be,hO:()=>bt,on:()=>_e,pX:()=>Pe,xv:()=>We});var d=W(5879),oe=W(120),fe=W(2793);bn=W.hmd(bn);const we=["ngOnDestroy"],Pe=(Lt,On,vn,He={})=>new Proxy(Lt,{get:(Tt,ot)=>vn.runOutsideAngular(()=>{var at;if(Lt[ot])return!(null===(at=He?.spy)||void 0===at)&&at.get&&He.spy.get(ot,Lt[ot]),Lt[ot];if(we.indexOf(ot)>-1)return()=>{};const Dt=On.toPromise().then(Re=>{const Nt=Re&&Re[ot];return"function"==typeof Nt?Nt.bind(Re):Nt&&Nt.then?Nt.then(Jt=>vn.run(()=>Jt)):vn.run(()=>Nt)});return new Proxy(()=>{},{get:(Re,Nt)=>Dt[Nt],apply:(Re,Nt,Jt)=>Dt.then(Mn=>{var Bn;const mn=Mn&&Mn(...Jt);return!(null===(Bn=He?.spy)||void 0===Bn)&&Bn.apply&&He.spy.apply(ot,Jt,mn),mn})})})}),Ve=(Lt,On)=>{On.forEach(vn=>{Object.getOwnPropertyNames(vn.prototype||vn).forEach(He=>{Object.defineProperty(Lt.prototype,He,Object.getOwnPropertyDescriptor(vn.prototype||vn,He))})})};class be{constructor(On){return On}}const lt=new d.OlP("angularfire2.app.options"),We=new d.OlP("angularfire2.app.name");function _e(Lt,On,vn){const Tt="object"==typeof vn&&vn||{};Tt.name=Tt.name||"string"==typeof vn&&vn||"[DEFAULT]";const at=oe.Z.apps.filter(Dt=>Dt&&Dt.name===Tt.name)[0]||On.runOutsideAngular(()=>oe.Z.initializeApp(Lt,Tt));try{JSON.stringify(Lt)!==JSON.stringify(at.options)&&Oe("error",`${at.name} Firebase App already initialized with different options${bn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(at)}const Oe=(Lt,...On)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Lt](...On)},Ze={provide:be,useFactory:_e,deps:[lt,d.R0b,[new d.FiY,We]]};let bt=(()=>{class Lt{constructor(vn){oe.Z.registerVersion("angularfire",fe.q4.full,"core"),oe.Z.registerVersion("angularfire",fe.q4.full,"app-compat"),oe.Z.registerVersion("angular",d.q4F.full,vn.toString())}static initializeApp(vn,He){return{ngModule:Lt,providers:[{provide:lt,useValue:vn},{provide:We,useValue:He}]}}}return Lt.\u0275fac=function(vn){return new(vn||Lt)(d.LFG(d.Lbi))},Lt.\u0275mod=d.oAB({type:Lt}),Lt.\u0275inj=d.cJS({providers:[Ze]}),Lt})();function Be(Lt,On,vn,He,Tt){const[,ot,at]=globalThis.\u0275AngularfireInstanceCache.find(Dt=>Dt[0]===Lt)||[];if(ot)return function jt(Lt,On){try{return Lt.toString()===On.toString()}catch{return Lt===On}}(Tt,at)||(tn("error",`${On} was already initialized on the ${vn} Firebase App with different settings.${st?" You may need to reload as Firebase is not HMR aware.":""}`),tn("warn",{is:Tt,was:at})),ot;{const Dt=He();return globalThis.\u0275AngularfireInstanceCache.push([Lt,Dt,Tt]),Dt}}const st=!!bn.hot,tn=(Lt,...On)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Lt](...On)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},938:(bn,gt,W)=>{W.d(gt,{gg:()=>QD,ET:()=>Lk,hJ:()=>Vk,BS:()=>Fk,oe:()=>Bk,JU:()=>Uk,PL:()=>jk,ad:()=>$k,Cm:()=>kk,pl:()=>Gk,r7:()=>Hk});var Be,d=W(2793),oe=W(5879),fe=W(7923),we=W(8726),Pe=W(4097),Ve=W(2194),be=W(5861),lt=W(4303),We=W(4537),_e=W(7879),Oe=W(9058),Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bt={},jt=jt||{},st=Ze||self;function tn(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Lt(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vn="closure_uid_"+(1e9*Math.random()>>>0),He=0;function Tt(n,e,t){return n.call.apply(n.bind,arguments)}function ot(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function at(n,e,t){return(at=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tt:ot).apply(null,arguments)}function Dt(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Re(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,a){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[s].apply(r,c)}}function Nt(){this.s=this.s,this.o=this.o}Nt.prototype.s=!1,Nt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function On(n){Object.prototype.hasOwnProperty.call(n,vn)&&n[vn]||(n[vn]=++He)}(this)},Nt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mn=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Bn(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mn(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(tn(r)){const s=n.length||0,a=r.length||0;n.length=s+a;for(let c=0;c<a;c++)n[s+c]=r[c]}else n.push(r)}}function zn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}zn.prototype.h=function(){this.defaultPrevented=!0};var Jn=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{st.addEventListener("test",()=>{},e),st.removeEventListener("test",()=>{},e)}catch{}return n}();function dr(n){return/^[\s\xa0]*$/.test(n)}function ar(){var n=st.navigator;return n&&(n=n.userAgent)?n:""}function Je(n){return-1!=ar().indexOf(n)}function dt(n){return dt[" "](n),n}dt[" "]=function(){};var Un,n,$e=Je("Opera"),ft=Je("Trident")||Je("MSIE"),xt=Je("Edge"),Gt=xt||ft,Ut=Je("Gecko")&&!(-1!=ar().toLowerCase().indexOf("webkit")&&!Je("Edge"))&&!(Je("Trident")||Je("MSIE"))&&!Je("Edge"),Hn=-1!=ar().toLowerCase().indexOf("webkit")&&!Je("Edge");function Fn(){var n=st.document;return n?n.documentMode:void 0}e:{var An="",fr=(n=ar(),Ut?/rv:([^\);]+)(\)|;)/.exec(n):xt?/Edge\/([\d\.]+)/.exec(n):ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Hn?/WebKit\/(\S+)/.exec(n):$e?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fr&&(An=fr?fr[1]:""),ft){var zr=Fn();if(null!=zr&&zr>parseFloat(An)){Un=String(zr);break e}}Un=An}var ke=st.document&&ft&&(Fn()||parseInt(Un,10))||void 0;function mt(n,e){if(zn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ut){e:{try{dt(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Rt[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&mt.$.h.call(this)}}Re(mt,zn);var Rt={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function or(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++Ht,this.fa=this.ia=!1}function ln(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Wt(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kn(n){const e={};for(const t in n)e[t]=n[t];return e}const nr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lr(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let a=0;a<nr.length;a++)t=nr[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function qr(n){this.src=n,this.g={},this.h=0}function cr(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],s=Mn(r,e);(a=0<=s)&&Array.prototype.splice.call(r,s,1),a&&(ln(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Vr(n,e,t,r){for(var s=0;s<n.length;++s){var a=n[s];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return s}return-1}qr.prototype.add=function(n,e,t,r,s){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Vr(n,e,r,s);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new or(e,this.src,a,!!r,s)).ia=t,n.push(e)),e};var Cr="closure_lm_"+(1e6*Math.random()|0),Tr={};function Vi(n,e,t,r,s){if(r&&r.once)return xr(n,e,t,r,s);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Vi(n,e[a],t,r,s);return null}return t=ht(t),n&&n[wt]?n.O(e,t,Lt(r)?!!r.capture:!!r,s):ur(n,e,t,!1,r,s)}function ur(n,e,t,r,s,a){if(!e)throw Error("Invalid event type");var c=Lt(s)?!!s.capture:!!s,g=Fe(n);if(g||(n[Cr]=g=new qr(n)),(t=g.add(e,t,r,c,a)).proxy)return t;if(r=function Wr(){const e=yt;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Jn||(s=c),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(ui(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xr(n,e,t,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)xr(n,e[a],t,r,s);return null}return t=ht(t),n&&n[wt]?n.P(e,t,Lt(r)?!!r.capture:!!r,s):ur(n,e,t,!0,r,s)}function Ai(n,e,t,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)Ai(n,e[a],t,r,s);else r=Lt(r)?!!r.capture:!!r,t=ht(t),n&&n[wt]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Vr(a=n.g[e],t,r,s))&&(ln(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Fe(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Vr(e,t,r,s)),(t=-1<n?e[n]:null)&&fi(t))}function fi(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[wt])cr(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ui(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Fe(e))?(cr(t,n),0==t.h&&(t.src=null,e[Cr]=null)):ln(n)}}}function ui(n){return n in Tr?Tr[n]:Tr[n]="on"+n}function yt(n,e){if(n.fa)n=!0;else{e=new mt(e,this);var t=n.listener,r=n.la||n.src;n.ia&&fi(n),n=t.call(r,e)}return n}function Fe(n){return(n=n[Cr])instanceof qr?n:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function ht(n){return"function"==typeof n?n:(n[St]||(n[St]=function(e){return n.handleEvent(e)}),n[St])}function an(){Nt.call(this),this.i=new qr(this),this.S=this,this.J=null}function Yt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new zn(e,n);else if(e instanceof zn)e.target=e.target||n;else{var s=e;Lr(e=new zn(r,n),s)}if(s=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];s=er(c,r,!0,e)&&s}if(s=er(c=e.g=n,r,!0,e)&&s,s=er(c,r,!1,e)&&s,t)for(a=0;a<t.length;a++)s=er(c=e.g=t[a],r,!1,e)&&s}function er(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var g=c.listener,v=c.la||c.src;c.ia&&cr(n.i,c),s=!1!==g.call(v,r)&&s}}return s&&!r.defaultPrevented}Re(an,Nt),an.prototype[wt]=!0,an.prototype.removeEventListener=function(n,e,t,r){Ai(this,n,e,t,r)},an.prototype.N=function(){if(an.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ln(t[r]);delete n.g[e],n.h--}}this.J=null},an.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},an.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Me=st.JSON.stringify;function se(){var n=kr;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var de=new class ue{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Le,n=>n.reset());class Le{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ot(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function qt(n){st.setTimeout(()=>{throw n},0)}let xn,hn=!1,kr=new class Ce{constructor(){this.h=this.g=null}add(e,t){const r=de.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},mr=()=>{const n=st.Promise.resolve(void 0);xn=()=>{n.then(Br)}};var Br=()=>{for(var n;n=se();){try{n.h.call(n.g)}catch(t){qt(t)}var e=de;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}hn=!1};function Ei(n,e){an.call(this),this.h=n||1,this.g=e||st,this.j=at(this.qb,this),this.l=Date.now()}function Ci(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Ji(n,e,t){if("function"==typeof n)t&&(n=at(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=at(n.handleEvent,n)}return 2147483647<Number(e)?-1:st.setTimeout(n,e||0)}function Xi(n){n.g=Ji(()=>{n.g=null,n.i&&(n.i=!1,Xi(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Re(Ei,an),(Be=Ei.prototype).ga=!1,Be.T=null,Be.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yt(this,"tick"),this.ga&&(Ci(this),this.start()))}},Be.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Be.N=function(){Ei.$.N.call(this),Ci(this),delete this.g};class Jr extends Nt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xi(this)}N(){super.N(),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(n){Nt.call(this),this.h=n,this.g={}}Re(Kr,Nt);var Hi=[];function _r(n,e,t,r){Array.isArray(t)||(t&&(Hi[0]=t.toString()),t=Hi);for(var s=0;s<t.length;s++){var a=Vi(e,t[s],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Bi(n){Wt(n.g,function(e,t){this.g.hasOwnProperty(t)&&fi(e)},n),n.g={}}function es(){this.g=!0}function oi(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ks(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<s.length;c++)s[c]=""}}}return Me(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Kr.prototype.N=function(){Kr.$.N.call(this),Bi(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},es.prototype.Ea=function(){this.g=!1},es.prototype.info=function(){};var Ds={},js=null;function xi(){return js=js||new an}function lo(n){zn.call(this,Ds.Ta,n)}function Xs(n){const e=xi();Yt(e,new lo(e))}function gs(n,e){zn.call(this,Ds.STAT_EVENT,n),this.stat=e}function Rr(n){const e=xi();Yt(e,new gs(e,n))}function $s(n,e){zn.call(this,Ds.Ua,n),this.size=e}function Ss(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return st.setTimeout(function(){n()},e)}Ds.Ta="serverreachability",Re(lo,zn),Ds.STAT_EVENT="statevent",Re(gs,zn),Ds.Ua="timingevent",Re($s,zn);var _a={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Qa={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ge(){}function ut(){}Ge.prototype.h=null;var Ur,Vt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Xt(){zn.call(this,"d")}function qn(){zn.call(this,"c")}function Or(){}function Dr(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Kr(this),this.P=us,this.V=new Ei(n=Gt?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new na}function na(){this.i=null,this.g="",this.h=!1}Re(Xt,zn),Re(qn,zn),Re(Or,Ge),Or.prototype.g=function(){return new XMLHttpRequest},Or.prototype.i=function(){return{}},Ur=new Or;var us=45e3,As={},pi={};function Po(n,e,t){n.L=1,n.v=ho(jr(e)),n.s=t,n.S=!0,ya(n,null)}function ya(n,e){n.G=Date.now(),eo(n),n.A=jr(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),ji(t.i,"t",r),n.C=0,t=n.l.J,n.h=new na,n.g=ba(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Jr(at(n.Pa,n,n.g),n.O)),_r(n.U,n.g,"readystatechange",n.nb),e=n.I?kn(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Xs(),function Zs(n,e,t,r,s,a){n.info(function(){if(n.g)if(a)for(var c="",g=a.split("&"),v=0;v<g.length;v++){var S=g[v].split("=");if(1<S.length){var F=S[0];S=S[1];var K=F.split("_");c=2<=K.length&&"type"==K[1]?c+(F+"=")+S+"&":c+(F+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function co(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ra(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=No(n,t),s==pi){4==e&&(n.o=4,Rr(14),r=!1),oi(n.j,n.m,null,"[Incomplete Response]");break}if(s==As){n.o=4,Rr(15),oi(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}oi(n.j,n.m,s,null),Cs(n,s)}co(n)&&s!=pi&&s!=As&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Rr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ha(e),e.M=!0,Rr(11))):(oi(n.j,n.m,t,"[Invalid Chunked Response]"),di(n),wi(n))}function No(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?pi:(t=Number(e.substring(t,r)),isNaN(t)?As:(r+=1)+t>e.length?pi:(e=e.slice(r,r+t),n.C=r+t,e))}function eo(n){n.Y=Date.now()+n.P,ia(n,n.P)}function ia(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ss(at(n.lb,n),e)}function Mr(n){n.B&&(st.clearTimeout(n.B),n.B=null)}function wi(n){0==n.l.H||n.J||Ra(n.l,n)}function di(n){Mr(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Ci(n.V),Bi(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Cs(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||va(t.i,n)))if(!n.K&&va(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ao(t),Qn(t)}qi(t),Rr(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ss(at(t.ib,t),6e3));if(1>=Fr(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else qo(t,11)}else if((n.K||t.g==n)&&Ao(t),!dr(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let S=s[e];if(t.V=S[0],S=S[1],2==t.H)if("c"==S[0]){t.K=S[1],t.pa=S[2];const F=S[3];null!=F&&(t.ra=F,t.l.info("VER="+t.ra));const K=S[4];null!=K&&(t.Ga=K,t.l.info("SVER="+t.Ga));const he=S[5];null!=he&&"number"==typeof he&&0<he&&(t.L=r=1.5*he,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Ae=n.g;if(Ae){const ct=Ae.g?Ae.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ct){var a=r.i;a.g||-1==ct.indexOf("spdy")&&-1==ct.indexOf("quic")&&-1==ct.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(da(a,a.h),a.h=null))}if(r.F){const At=Ae.g?Ae.g.getResponseHeader("X-HTTP-Session-Id"):null;At&&(r.Da=At,rr(r.I,r.F,At))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=dl(r,r.J?r.pa:null,r.Y),c.K){Ea(r.i,c);var g=c,v=r.L;v&&g.setTimeout(v),g.B&&(Mr(g),eo(g)),r.g=c}else io(r);0<t.j.length&&hs(t)}else"stop"!=S[0]&&"close"!=S[0]||qo(t,7);else 3==t.H&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?qo(t,7):Zt(t):"noop"!=S[0]&&t.h&&t.h.Aa(S),t.A=0)}Xs()}catch{}}function Ho(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(tn(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function uo(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(tn(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ms(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(tn(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,a=0;a<s;a++)e.call(void 0,r[a],t&&t[a],n)}(Be=Dr.prototype).setTimeout=function(n){this.P=n},Be.nb=function(n){n=n.target;const e=this.M;e&&3==zs(n)?e.l():this.Pa(n)},Be.Pa=function(n){try{if(n==this.g)e:{const F=zs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>F)&&(3!=F||Gt||this.g&&(this.h.h||this.g.ja()||po(this.g)))){this.J||4!=F||7==e||Xs(),Mr(this);var t=this.g.da();this.ca=t;t:if(co(this)){var r=po(this.g);n="";var s=r.length,a=4==zs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){di(this),wi(this);var c="";break t}this.h.i=new st.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function Js(n,e,t,r,s,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,F,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dr(g)){var S=g;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Rr(12),di(this),wi(this);break e}oi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cs(this,t)}this.S?(ra(this,F,c),Gt&&this.i&&3==F&&(_r(this.U,this.V,"tick",this.mb),this.V.start())):(oi(this.j,this.m,c,null),Cs(this,c)),4==F&&di(this),this.i&&!this.J&&(4==F?Ra(this.l,this):(this.i=!1,eo(this)))}else(function J(n){const e={};n=(n.g&&2<=zs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(dr(n[r]))continue;var t=Ot(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[s]||[];e[s]=a,a.push(t)}!function rn(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Rr(12)):(this.o=0,Rr(13)),di(this),wi(this)}}}catch{}},Be.mb=function(){if(this.g){var n=zs(this.g),e=this.g.ja();this.C<e.length&&(Mr(this),ra(this,n,e),this.i&&4!=n&&eo(this))}},Be.cancel=function(){this.J=!0,di(this)},Be.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Gi(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xs(),Rr(17)),di(this),this.o=2,wi(this)):ia(this,this.Y-n)};var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ui(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ui){this.h=n.h,_n(this,n.j),this.s=n.s,this.g=n.g,pr(this,n.m),this.l=n.l;var e=n.i,t=new to;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),gi(this,t),this.o=n.o}else n&&(e=String(n).match(ts))?(this.h=!1,_n(this,e[1]||"",!0),this.s=mi(e[2]||""),this.g=mi(e[3]||"",!0),pr(this,e[4]),this.l=mi(e[5]||"",!0),gi(this,e[6]||"",!0),this.o=mi(e[7]||"")):(this.h=!1,this.i=new to(null,this.h))}function jr(n){return new Ui(n)}function _n(n,e,t){n.j=t?mi(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function pr(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gi(n,e,t){e instanceof to?(n.i=e,function cl(n,e){e&&!n.j&&(ai(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(Do(this,r),ji(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=_s(e,Gs)),n.i=new to(e,n.h))}function rr(n,e,t){n.i.set(e,t)}function ho(n){return rr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function mi(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _s(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Ii),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ii(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ui.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_s(e,xs,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_s(e,xs,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(_s(t,"/"==t.charAt(0)?sr:To,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_s(t,zo)),n.join("")};var xs=/[#\/\?@]/g,To=/[#\?:]/g,sr=/[#\?]/g,Gs=/[#\?@]/g,zo=/#/g;function to(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ai(n){n.g||(n.g=new Map,n.h=0,n.i&&function ki(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var a=n[t].substring(0,r);s=n[t].substring(r+1)}else a=n[t];e(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Do(n,e){ai(n),e=zi(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Rs(n,e){return ai(n),e=zi(n,e),n.g.has(e)}function ji(n,e,t){Do(n,e),0<t.length&&(n.i=null,n.g.set(zi(n,e),Bn(t)),n.h+=t.length)}function zi(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Fs(n){this.l=n||no,n=st.PerformanceNavigationTiming?0<(n=st.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(st.g&&st.g.Ka&&st.g.Ka()&&st.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Be=to.prototype).add=function(n,e){ai(this),this.i=null,n=zi(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Be.forEach=function(n,e){ai(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Be.ta=function(){ai(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let a=0;a<s.length;a++)t.push(e[r])}return t},Be.Z=function(n){ai(this);let e=[];if("string"==typeof n)Rs(this,n)&&(e=e.concat(this.g.get(zi(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Be.set=function(n,e){return ai(this),this.i=null,Rs(this,n=zi(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Be.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Be.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var s=a;""!==c[r]&&(s+="="+encodeURIComponent(String(c[r]))),n.push(s)}}return this.i=n.join("&")};var no=10;function Hs(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Fr(n){return n.h?1:n.g?n.g.size:0}function va(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function da(n,e){n.g?n.g.add(e):n.h=e}function Ea(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ys(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Bn(n.i)}Fs.prototype.cancel=function(){if(this.i=ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var ns=class{stringify(n){return st.JSON.stringify(n,void 0)}parse(n){return st.JSON.parse(n,void 0)}};function sa(){this.g=new ns}function fo(n,e,t){const r=t||"";try{Ho(n,function(s,a){let c=s;Lt(s)&&(c=Me(s)),e.push(r+a+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function wa(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Fi(n){this.l=n.ec||null,this.j=n.ob||!1}function $i(n,e){an.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=rs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Re(Fi,Ge),Fi.prototype.g=function(){return new $i(this.l,this.j)},Fi.prototype.i=function(n){return function(){return n}}({}),Re($i,an);var rs=0;function ro(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Qr(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ds(n)}function ds(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Be=$i.prototype).open=function(n,e){if(this.readyState!=rs)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ds(this)},Be.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||st).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Be.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qr(this)),this.readyState=rs},Be.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ds(this)),this.g&&(this.readyState=3,ds(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof st.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ro(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Be.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Qr(this):ds(this),3==this.readyState&&ro(this)}},Be.Za=function(n){this.g&&(this.response=this.responseText=n,Qr(this))},Be.Ya=function(n){this.g&&(this.response=n,Qr(this))},Be.ka=function(){this.g&&Qr(this)},Be.setRequestHeader=function(n,e){this.v.append(n,e)},Be.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Be.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($i.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ko=st.JSON.parse;function _i(n){an.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ja,this.L=this.M=!1}Re(_i,an);var ja="",$a=/^https?$/i,Ca=["POST","PUT"];function Wo(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Os(n),Ga(n)}function Os(n){n.F||(n.F=!0,Yt(n,"complete"),Yt(n,"error"))}function ul(n){if(n.h&&typeof jt<"u"&&(!n.C[1]||4!=zs(n)||2!=n.da()))if(n.v&&4==zs(n))Ji(n.La,0,n);else if(Yt(n,"readystatechange"),4==zs(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var s=String(n.I).match(ts)[1]||null;!s&&st.self&&st.self.location&&(s=st.self.location.protocol.slice(0,-1)),r=!$a.test(s?s.toLowerCase():"")}t=r}if(t)Yt(n,"complete"),Yt(n,"success");else{n.m=6;try{var a=2<zs(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",Os(n)}}finally{Ga(n)}}}function Ga(n,e){if(n.g){hi(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Yt(n,"ready");try{t.onreadystatechange=r}catch{}}}function hi(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(st.clearTimeout(n.A),n.A=null)}function zs(n){return n.g?n.g.readyState:0}function po(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ja:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function z(n){let e="";return Wt(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function pe(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=z(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):rr(n,e,t))}function Q(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function De(n){this.Ga=0,this.j=[],this.l=new es,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Q("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Q("baseRetryDelayMs",5e3,n),this.hb=Q("retryDelaySeedMs",1e4,n),this.eb=Q("forwardChannelMaxRetries",2,n),this.xa=Q("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Fs(n&&n.concurrentRequestLimit),this.Ja=new sa,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Zt(n){if(is(n),3==n.H){var e=n.W++,t=jr(n.I);if(rr(t,"SID",n.K),rr(t,"RID",e),rr(t,"TYPE","terminate"),Ms(n,t),(e=new Dr(n,n.l,e)).L=2,e.v=ho(jr(t)),t=!1,st.navigator&&st.navigator.sendBeacon)try{t=st.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&st.Image&&((new Image).src=e.v,t=!0),t||(e.g=ba(e.l,null),e.g.ha(e.v)),e.G=Date.now(),eo(e)}Fo(n)}function Qn(n){n.g&&(ha(n),n.g.cancel(),n.g=null)}function is(n){Qn(n),n.u&&(st.clearTimeout(n.u),n.u=null),Ao(n),n.i.cancel(),n.m&&("number"==typeof n.m&&st.clearTimeout(n.m),n.m=null)}function hs(n){if(!Hs(n.i)&&!n.m){n.m=!0;var e=n.Na;xn||mr(),hn||(xn(),hn=!0),kr.add(e,n),n.C=0}}function Es(n,e){var t;t=e?e.m:n.W++;const r=jr(n.I);rr(r,"SID",n.K),rr(r,"RID",t),rr(r,"AID",n.V),Ms(n,r),n.o&&n.s&&pe(r,n.o,n.s),t=new Dr(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=xa(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),da(n.i,t),Po(t,r,e)}function Ms(n,e){n.na&&Wt(n.na,function(t,r){rr(e,r,t)}),n.h&&Ho({},function(t,r){rr(e,r,t)})}function xa(n,e,t){t=Math.min(n.j.length,t);var r=n.h?at(n.h.Va,n.h,n):null;e:{var s=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=s[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let g=!0;for(let v=0;v<t;v++){let S=s[v].g;const F=s[v].map;if(S-=a,0>S)a=Math.max(0,s[v].g-100),g=!1;else try{fo(F,c,"req"+S+"_")}catch{r&&r(F)}}if(g){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function io(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;xn||mr(),hn||(xn(),hn=!0),kr.add(e,n),n.A=0}}function qi(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ss(at(n.Ma,n),Ja(n,n.A)),n.A++,0))}function ha(n){null!=n.B&&(st.clearTimeout(n.B),n.B=null)}function ws(n){n.g=new Dr(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=jr(n.wa);rr(e,"RID","rpc"),rr(e,"SID",n.K),rr(e,"AID",n.V),rr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&rr(e,"TO",n.qa),rr(e,"TYPE","xmlhttp"),Ms(n,e),n.o&&n.s&&pe(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=ho(jr(e)),t.s=null,t.S=!0,ya(t,n)}function Ao(n){null!=n.v&&(st.clearTimeout(n.v),n.v=null)}function Ra(n,e){var t=null;if(n.g==e){Ao(n),ha(n),n.g=null;var r=2}else{if(!va(n.i,e))return;t=e.F,Ea(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;Yt(r=xi(),new $s(r,t)),hs(n)}else io(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function vs(n,e){return!(Fr(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ss(at(n.Na,n,e),Ja(n,n.C)),n.C++,0)))}(n,e)||2==r&&qi(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:qo(n,5);break;case 4:qo(n,10);break;case 3:qo(n,6);break;default:qo(n,2)}}function Ja(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function qo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=at(n.pb,n);t||(t=new Ui("//www.google.com/images/cleardot.gif"),st.location&&"http"==st.location.protocol||_n(t,"https"),ho(t)),function Wi(n,e){const t=new es;if(st.Image){const r=new Image;r.onload=Dt(wa,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Dt(wa,t,r,"TestLoadImage: error",!1,e),r.onabort=Dt(wa,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Dt(wa,t,r,"TestLoadImage: timeout",!1,e),st.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Rr(2);n.H=0,n.h&&n.h.za(e),Fo(n),is(n)}function Fo(n){if(n.H=0,n.ma=[],n.h){const e=ys(n.i);(0!=e.length||0!=n.j.length)&&(mn(n.ma,e),mn(n.ma,n.j),n.i.i.length=0,Bn(n.j),n.j.length=0),n.h.ya()}}function dl(n,e,t){var r=t instanceof Ui?jr(t):new Ui(t);if(""!=r.g)e&&(r.g=e+"."+r.g),pr(r,r.m);else{var s=st.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var a=new Ui(null);r&&_n(a,r),e&&(a.g=e),s&&pr(a,s),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&rr(r,t,e),rr(r,"VER",n.ra),Ms(n,r),r}function ba(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _i(t&&n.Ha&&!n.va?new Fi({ob:!0}):n.va)).Oa(n.J),e}function Ki(){}function Nl(){if(ft&&!(10<=Number(ke)))throw Error("Environmental error: no available transport.")}function Ls(n,e){an.call(this),this.g=new De(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!dr(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dr(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Yo(this)}function ql(n){Xt.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ko(){qn.call(this),this.status=1}function Yo(n){this.g=n}function Lo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hl(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((s=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^a&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^s^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(s^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(s^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((s=a+((c=s+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+a&4294967295}function li(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var a=0|n[s];r&&a==e||(t[s]=a,r=!1)}this.g=t}(Be=_i.prototype).Oa=function(n){this.M=n},Be.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ur.g(),this.C=function ze(n){return n.h||(n.h=n.i())}(this.u?this.u:Ur),this.g.onreadystatechange=at(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void Wo(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),s=st.FormData&&n instanceof st.FormData,!(0<=Mn(Ca,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hi(this),0<this.B&&((this.L=function Za(n){return ft&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.ua,this)):this.A=Ji(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Wo(this,a)}},Be.ua=function(){typeof jt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))},Be.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yt(this,"complete"),Yt(this,"abort"),Ga(this))},Be.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ga(this,!0)),_i.$.N.call(this)},Be.La=function(){this.s||(this.G||this.v||this.l?ul(this):this.kb())},Be.kb=function(){ul(this)},Be.isActive=function(){return!!this.g},Be.da=function(){try{return 2<zs(this)?this.g.status:-1}catch{return-1}},Be.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Be.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ko(e)}},Be.Ia=function(){return this.m},Be.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Be=De.prototype).ra=8,Be.H=1,Be.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Dr(this,this.l,n);let a=this.s;if(this.U&&(a?(a=kn(a),Lr(a,this.U)):a=this.U),null!==this.o||this.O||(s.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xa(this,s,e),rr(t=jr(this.I),"RID",n),rr(t,"CVER",22),this.F&&rr(t,"X-HTTP-Session-Id",this.F),Ms(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(z(a)))+"&"+e:this.o&&pe(t,this.o,a)),da(this.i,s),this.bb&&rr(t,"TYPE","init"),this.P?(rr(t,"$req",e),rr(t,"SID","null"),s.aa=!0,Po(s,t,null)):Po(s,t,e),this.H=2}}else 3==this.H&&(n?Es(this,n):0==this.j.length||Hs(this.i)||Es(this))},Be.Ma=function(){if(this.u=null,ws(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ss(at(this.jb,this),n)}},Be.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Rr(10),Qn(this),ws(this))},Be.ib=function(){null!=this.v&&(this.v=null,Qn(this),qi(this),Rr(19))},Be.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Rr(2)):(this.l.info("Failed to ping google.com"),Rr(1))},Be.isActive=function(){return!!this.h&&this.h.isActive(this)},(Be=Ki.prototype).Ba=function(){},Be.Aa=function(){},Be.za=function(){},Be.ya=function(){},Be.isActive=function(){return!0},Be.Va=function(){},Nl.prototype.g=function(n,e){return new Ls(n,e)},Re(Ls,an),Ls.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Rr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=dl(n,null,n.Y),hs(n)},Ls.prototype.close=function(){Zt(this.g)},Ls.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Me(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&hs(e)},Ls.prototype.N=function(){this.g.h=null,delete this.j,Zt(this.g),delete this.g,Ls.$.N.call(this)},Re(ql,Xt),Re(Ko,qn),Re(Yo,Ki),Yo.prototype.Ba=function(){Yt(this.g,"a")},Yo.prototype.Aa=function(n){Yt(this.g,new ql(n))},Yo.prototype.za=function(n){Yt(this.g,new Ko)},Yo.prototype.ya=function(){Yt(this.g,"b")},Re(Lo,function Qo(){this.blockSize=-1}),Lo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Lo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,a=0;a<e;){if(0==s)for(;a<=t;)hl(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[s++]=n.charCodeAt(a++),s==this.blockSize){hl(this,r),s=0;break}}else for(;a<e;)if(r[s++]=n[a++],s==this.blockSize){hl(this,r),s=0;break}}this.h=s,this.i+=e},Lo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Ia={};function fl(n){return-128<=n&&128>n?function tt(n,e){var t=Ia;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new li([0|e],0>e?-1:0)}):new li([0|n],0>n?-1:0)}function go(n){if(isNaN(n)||!isFinite(n))return Zo;if(0>n)return Ps(go(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Kl;return new li(e,0)}var Kl=4294967296,Zo=fl(0),pl=fl(1),Xa=fl(16777216);function Co(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function xo(n){return-1==n.h}function Ps(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new li(t,~n.h).add(pl)}function gl(n,e){return n.add(Ps(e))}function O(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Y(n,e){this.g=n,this.h=e}function Te(n,e){if(Co(e))throw Error("division by zero");if(Co(n))return new Y(Zo,Zo);if(xo(n))return e=Te(Ps(n),e),new Y(Ps(e.g),Ps(e.h));if(xo(e))return e=Te(n,Ps(e)),new Y(Ps(e.g),e.h);if(30<n.g.length){if(xo(n)||xo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=pl,r=e;0>=r.X(n);)t=H(t),r=H(r);var s=me(t,1),a=me(r,1);for(r=me(r,2),t=me(t,2);!Co(r);){var c=a.add(r);0>=c.X(n)&&(s=s.add(t),a=c),r=me(r,1),t=me(t,1)}return e=gl(n,s.R(e)),new Y(s,e)}for(s=Zo;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=go(t)).R(e);xo(c)||0<c.X(n);)c=(a=go(t-=r)).R(e);Co(a)&&(a=pl),s=s.add(a),n=gl(n,c)}return new Y(s,n)}function H(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new li(t,n.h)}function me(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],a=0;a<r;a++)s[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new li(s,n.h)}(Be=li.prototype).ea=function(){if(xo(this))return-Ps(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Kl+r)*e,e*=Kl}return n},Be.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Co(this))return"0";if(xo(this))return"-"+Ps(this).toString(n);for(var e=go(Math.pow(n,6)),t=this,r="";;){var s=Te(t,e).g,a=((0<(t=gl(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Co(t=s))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Be.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Be.X=function(n){return xo(n=gl(this,n))?-1:Co(n)?0:1},Be.abs=function(){return xo(this)?Ps(this):this},Be.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var a=r+(65535&this.D(s))+(65535&n.D(s)),c=(a>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=c>>>16,t[s]=(c&=65535)<<16|(a&=65535)}return new li(t,-2147483648&t[t.length-1]?-1:0)},Be.R=function(n){if(Co(this)||Co(n))return Zo;if(xo(this))return xo(n)?Ps(this).R(Ps(n)):Ps(Ps(this).R(n));if(xo(n))return Ps(this.R(Ps(n)));if(0>this.X(Xa)&&0>n.X(Xa))return go(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var a=this.D(r)>>>16,c=65535&this.D(r),g=n.D(s)>>>16,v=65535&n.D(s);t[2*r+2*s]+=c*v,O(t,2*r+2*s),t[2*r+2*s+1]+=a*v,O(t,2*r+2*s+1),t[2*r+2*s+1]+=c*g,O(t,2*r+2*s+1),t[2*r+2*s+2]+=a*g,O(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new li(t,0)},Be.gb=function(n){return Te(this,n).h},Be.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new li(t,this.h&n.h)},Be.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new li(t,this.h|n.h)},Be.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new li(t,this.h^n.h)},Nl.prototype.createWebChannel=Nl.prototype.g,Ls.prototype.send=Ls.prototype.u,Ls.prototype.open=Ls.prototype.m,Ls.prototype.close=Ls.prototype.close,_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,Qa.COMPLETE="complete",ut.EventType=Vt,Vt.OPEN="a",Vt.CLOSE="b",Vt.ERROR="c",Vt.MESSAGE="d",an.prototype.listen=an.prototype.O,_i.prototype.listenOnce=_i.prototype.P,_i.prototype.getLastError=_i.prototype.Sa,_i.prototype.getLastErrorCode=_i.prototype.Ia,_i.prototype.getStatus=_i.prototype.da,_i.prototype.getResponseJson=_i.prototype.Wa,_i.prototype.getResponseText=_i.prototype.ja,_i.prototype.send=_i.prototype.ha,_i.prototype.setWithCredentials=_i.prototype.Oa,Lo.prototype.digest=Lo.prototype.l,Lo.prototype.reset=Lo.prototype.reset,Lo.prototype.update=Lo.prototype.j,li.prototype.add=li.prototype.add,li.prototype.multiply=li.prototype.R,li.prototype.modulo=li.prototype.gb,li.prototype.compare=li.prototype.X,li.prototype.toNumber=li.prototype.ea,li.prototype.toString=li.prototype.toString,li.prototype.getBits=li.prototype.D,li.fromNumber=go,li.fromString=function Oa(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ps(Oa(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=go(Math.pow(e,8)),r=Zo,s=0;s<n.length;s+=8){var a=Math.min(8,n.length-s),c=parseInt(n.substring(s,s+a),e);8>a?(a=go(Math.pow(e,a)),r=r.R(a).add(go(c))):r=(r=r.R(t)).add(go(c))}return r};var L=bt.createWebChannelTransport=function(){return new Nl},Z=bt.getStatEventTarget=function(){return xi()},re=bt.ErrorCode=_a,ce=bt.EventType=Qa,ye=bt.Event=Ds,U=bt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},D=(bt.FetchXmlHttpFactory=Fi,bt.WebChannel=ut),R=bt.XhrIo=_i,q=bt.Md5=Lo,ie=bt.Integer=li;const ve="@firebase/firestore";class Se{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Se.UNAUTHENTICATED=new Se(null),Se.GOOGLE_CREDENTIALS=new Se("google-credentials-uid"),Se.FIRST_PARTY=new Se("first-party-uid"),Se.MOCK_USER=new Se("mock-user");let Ue="10.4.0";const et=new _e.Yd("@firebase/firestore");function sn(){return et.logLevel}function it(n,...e){if(et.logLevel<=_e.in.DEBUG){const t=e.map($n);et.debug(`Firestore (${Ue}): ${n}`,...t)}}function Dn(n,...e){if(et.logLevel<=_e.in.ERROR){const t=e.map($n);et.error(`Firestore (${Ue}): ${n}`,...t)}}function En(n,...e){if(et.logLevel<=_e.in.WARN){const t=e.map($n);et.warn(`Firestore (${Ue}): ${n}`,...t)}}function $n(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function en(n="Unexpected state"){const e=`FIRESTORE (${Ue}) INTERNAL ASSERTION FAILED: `+n;throw Dn(e),new Error(e)}function In(n,e){n||en()}function $t(n,e){return n}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kt extends Oe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ns{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Se.UNAUTHENTICATED))}shutdown(){}}class kl{constructor(e){this.t=e,this.currentUser=Se.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const a=S=>this.i!==s?(s=this.i,t(S)):Promise.resolve();let c=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yi,e.enqueueRetryable(()=>a(this.currentUser))};const g=()=>{const S=c;e.enqueueRetryable((0,be.Z)(function*(){yield S.promise,yield a(r.currentUser)}))},v=S=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(S=>v(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?v(S):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(In("string"==typeof r.accessToken),new Ns(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return In(null===e||"string"==typeof e),new Se(e)}}class Ws{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Se.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ma{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Ws(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Se.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Er{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=a=>{null!=a.error&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,it("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(In("string"==typeof t.token),this.R=t.token,new Jo(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ir(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class tr{static V(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=ir(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[a]%62))}return r}}function Qt(n,e){return n<e?-1:n>e?1:0}function Zr(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class Xr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Kt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Kt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Kt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Kt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xr.fromMillis(Date.now())}static fromDate(e){return Xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Xr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new Xr(0,0))}static max(){return new Nn(new Xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vo{constructor(e,t,r){void 0===t?t=0:t>e.length&&en(),void 0===r?r=e.length-t:r>e.length-t&&en(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Vo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),c=t.get(s);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class lr extends Vo{construct(e,t,r){return new lr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Kt(pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new lr(t)}static emptyPath(){return new lr([])}}const Ic=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bs extends Vo{construct(e,t,r){return new bs(e,t,r)}static isValidIdentifier(e){return Ic.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bs(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(0===r.length)throw new Kt(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new Kt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[s+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Kt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,s+=2}else"`"===g?(c=!c,s++):"."!==g||c?(r+=g,s++):(a(),s++)}if(a(),c)throw new Kt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bs(t)}static emptyPath(){return new bs([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(lr.fromString(e))}static fromName(e){return new Ye(lr.fromString(e).popFirst(5))}static empty(){return new Ye(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===lr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return lr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new lr(e.slice()))}}function fu(n){return new Ha(n.readTime,n.key,-1)}class Ha{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ha(Nn.min(),Ye.empty(),-1)}static max(){return new Ha(Nn.max(),Ye.empty(),-1)}}function Cu(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ye.comparator(n.documentKey,e.documentKey),0!==t?t:Qt(n.largestBatchId,e.largestBatchId))}const Tc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ro{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qs(n){return Yl.apply(this,arguments)}function Yl(){return Yl=(0,be.Z)(function*(n){if(n.code!==pt.FAILED_PRECONDITION||n.message!==Tc)throw n;it("LocalStore","Unexpectedly lost primary lease")}),Yl.apply(this,arguments)}class Et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Et((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Et?t:Et.resolve(t)}catch(t){return Et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Et.reject(t)}static resolve(e){return new Et((t,r)=>{t(e)})}static reject(e){return new Et((t,r)=>{r(e)})}static waitFor(e){return new Et((t,r)=>{let s=0,a=0,c=!1;e.forEach(g=>{++s,g.next(()=>{++a,c&&a===s&&t()},v=>r(v))}),c=!0,a===s&&t()})}static or(e){let t=Et.resolve(!1);for(const r of e)t=t.next(s=>s?Et.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Et((r,s)=>{const a=e.length,c=new Array(a);let g=0;for(let v=0;v<a;v++){const S=v;t(e[S]).next(F=>{c[S]=F,++g,g===a&&r(c)},F=>s(F))}})}static doWhile(e,t){return new Et((r,s)=>{const a=()=>{!0===e()?t().next(()=>{a()},s):r()};a()})}}function Dc(n){return"IndexedDbTransactionError"===n.name}let P=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.oe(s),this._e=s=>r.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}return n.ae=-1,n})();function G(n){return null==n}function le(n){return 0===n&&1/n==-1/0}function Yu(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function dc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class Vs{constructor(e,t){this.comparator=e,this.root=t||oo.EMPTY}insert(e,t){return new Vs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,oo.BLACK,null,null))}remove(e){return new Vs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oo{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??oo.RED,this.left=s??oo.EMPTY,this.right=a??oo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new oo(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===a?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return oo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return oo.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const e=this.left.check();if(e!==this.right.check())throw en();return e+(this.isRed()?0:1)}}oo.EMPTY=null,oo.RED=!0,oo.BLACK=!1,oo.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(e,t,r,s,a){return this}insert(e,t,r){return new oo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class os{constructor(e){this.comparator=e,this.data=new Vs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zc(this.data.getIterator())}getIteratorFrom(e){return new zc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof os)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(s,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new os(this.comparator);return t.data=e,t}}class zc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xo{constructor(e){this.fields=e,e.sort(bs.comparator)}static empty(){return new Xo([])}unionWith(e){let t=new os(bs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zr(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Fh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Oo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Fh("Invalid base64 string: "+a):a}}(e);return new Oo(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Oo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Oo.EMPTY_BYTE_STRING=new Oo("");const Vh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uo(n){if(In(!!n),"string"==typeof n){let e=0;const t=Vh.exec(n);if(In(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ks(n.seconds),nanos:Ks(n.nanos)}}function Ks(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Na(n){return"string"==typeof n?Oo.fromBase64String(n):Oo.fromUint8Array(n)}function xc(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Rc(n){const e=n.mapValue.fields.__previous_value__;return xc(e)?Rc(e):e}function Vl(n){const e=Uo(n.mapValue.fields.__local_write_time__.timestampValue);return new Xr(e.seconds,e.nanos)}class Wc{constructor(e,t,r,s,a,c,g,v,S){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=S}}class Bl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const el={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function tl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xc(n)?4:Bh(n)?9007199254740991:10:en()}function ka(n,e){if(n===e)return!0;const t=tl(n);if(t!==tl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vl(n).isEqual(Vl(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Uo(s.timestampValue),g=Uo(a.timestampValue);return c.seconds===g.seconds&&c.nanos===g.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,Na(n.bytesValue).isEqual(Na(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Ks(s.geoPointValue.latitude)===Ks(a.geoPointValue.latitude)&&Ks(s.geoPointValue.longitude)===Ks(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ks(s.integerValue)===Ks(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=Ks(s.doubleValue),g=Ks(a.doubleValue);return c===g?le(c)===le(g):isNaN(c)&&isNaN(g)}return!1}(n,e);case 9:return Zr(n.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:return function(s,a){const c=s.mapValue.fields||{},g=a.mapValue.fields||{};if(Yu(c)!==Yu(g))return!1;for(const v in c)if(c.hasOwnProperty(v)&&(void 0===g[v]||!ka(c[v],g[v])))return!1;return!0}(n,e);default:return en()}var a}function Qu(n,e){return void 0!==(n.values||[]).find(t=>ka(t,e))}function hc(n,e){if(n===e)return 0;const t=tl(n),r=tl(e);if(t!==r)return Qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const g=Ks(a.integerValue||a.doubleValue),v=Ks(c.integerValue||c.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(n,e);case 3:return mu(n.timestampValue,e.timestampValue);case 4:return mu(Vl(n),Vl(e));case 5:return Qt(n.stringValue,e.stringValue);case 6:return function(a,c){const g=Na(a),v=Na(c);return g.compareTo(v)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const g=a.split("/"),v=c.split("/");for(let S=0;S<g.length&&S<v.length;S++){const F=Qt(g[S],v[S]);if(0!==F)return F}return Qt(g.length,v.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const g=Qt(Ks(a.latitude),Ks(c.latitude));return 0!==g?g:Qt(Ks(a.longitude),Ks(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const g=a.values||[],v=c.values||[];for(let S=0;S<g.length&&S<v.length;++S){const F=hc(g[S],v[S]);if(F)return F}return Qt(g.length,v.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===el.mapValue&&c===el.mapValue)return 0;if(a===el.mapValue)return 1;if(c===el.mapValue)return-1;const g=a.fields||{},v=Object.keys(g),S=c.fields||{},F=Object.keys(S);v.sort(),F.sort();for(let K=0;K<v.length&&K<F.length;++K){const he=Qt(v[K],F[K]);if(0!==he)return he;const Ae=hc(g[v[K]],S[F[K]]);if(0!==Ae)return Ae}return Qt(v.length,F.length)}(n.mapValue,e.mapValue);default:throw en()}}function mu(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qt(n,e);const t=Uo(n),r=Uo(e),s=Qt(t.seconds,r.seconds);return 0!==s?s:Qt(t.nanos,r.nanos)}function Kc(n){return Td(n)}function Td(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Uo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Na(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Td(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const c of r)a?a=!1:s+=",",s+=`${c}:${Td(t.fields[c])}`;return s+"}"}(n.mapValue):en()}function Qd(n){return!!n&&"integerValue"in n}function Mo(n){return!!n&&"arrayValue"in n}function Yc(n){return!!n&&"nullValue"in n}function Zd(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ul(n){return!!n&&"mapValue"in n}function Dd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return dc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Bh(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class M{constructor(e){this.value=e}static empty(){return new M({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ul(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dd(t)}setAll(e){let t=bs.emptyPath(),r={},s=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,r,s),r={},s=[],t=g.popLast()}c?r[g.lastSegment()]=Dd(c):s.push(g.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Ul(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ka(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Ul(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){dc(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new M(Dd(this.value))}}class ee{constructor(e,t,r,s,a,c,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=c,this.documentState=g}static newInvalidDocument(e){return new ee(e,0,Nn.min(),Nn.min(),Nn.min(),M.empty(),0)}static newFoundDocument(e,t,r,s){return new ee(e,1,t,Nn.min(),r,s,0)}static newNoDocument(e,t){return new ee(e,2,t,Nn.min(),Nn.min(),M.empty(),0)}static newUnknownDocument(e,t){return new ee(e,3,t,Nn.min(),Nn.min(),M.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=M.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=M.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ee&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ee(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ie{constructor(e,t){this.position=e,this.inclusive=t}}function Ke(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],c=n.position[s];if(r=a.field.isKeyField()?Ye.comparator(Ye.fromName(c.referenceValue),t.key):hc(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function rt(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ka(n.position[t],e.position[t]))return!1;return!0}class It{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ln(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Rn{}class fn extends Rn{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Qc(e,t,r):"array-contains"===t?new yu(e,r):"in"===t?new Sd(e,r):"not-in"===t?new Uh(e,r):"array-contains-any"===t?new jh(e,r):new fn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new wg(e,r):new pc(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hc(t,this.value)):null!==t&&tl(this.value)===tl(t)&&this.matchesComparison(hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Kn extends Rn{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Kn(e,t)}matches(e){return yr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(t=>t.isInequality());return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function yr(n){return"and"===n.op}function la(n){return function as(n){for(const e of n.filters)if(e instanceof Kn)return!1;return!0}(n)&&yr(n)}function Mc(n){if(n instanceof fn)return n.field.canonicalString()+n.op.toString()+Kc(n.value);if(la(n))return n.filters.map(e=>Mc(e)).join(",");{const e=n.filters.map(t=>Mc(t)).join(",");return`${n.op}(${e})`}}function Tl(n,e){return n instanceof fn?(r=n,(s=e)instanceof fn&&r.op===s.op&&r.field.isEqual(s.field)&&ka(r.value,s.value)):n instanceof Kn?function(r,s){return s instanceof Kn&&r.op===s.op&&r.filters.length===s.filters.length&&r.filters.reduce((a,c,g)=>a&&Tl(c,s.filters[g]),!0)}(n,e):void en();var r,s}function _o(n){return n instanceof fn?`${(t=n).field.canonicalString()} ${t.op} ${Kc(t.value)}`:n instanceof Kn?function(t){return t.op.toString()+" {"+t.getFilters().map(_o).join(" ,")+"}"}(n):"Filter";var t}class Qc extends fn{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class wg extends fn{constructor(e,t){super(e,"in",t),this.keys=jl(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pc extends fn{constructor(e,t){super(e,"not-in",t),this.keys=jl(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jl(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class yu extends fn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mo(t)&&Qu(t.arrayValue,this.value)}}class Sd extends fn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qu(this.value.arrayValue,t)}}class Uh extends fn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qu(this.value.arrayValue,t)}}class jh extends fn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mo(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qu(this.value.arrayValue,r))}}class pa{constructor(e,t=null,r=[],s=[],a=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=c,this.endAt=g,this.he=null}}function Ju(n,e=null,t=[],r=[],s=null,a=null,c=null){return new pa(n,e,t,r,s,a,c)}function gc(n){const e=$t(n);if(null===e.he){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Mc(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),G(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kc(r)).join(",")),e.he=t}return e.he}function $h(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Ln(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Tl(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rt(n.startAt,e.startAt)&&rt(n.endAt,e.endAt)}function Ad(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class _{constructor(e,t=null,r=[],s=[],a=null,c="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=c,this.startAt=g,this.endAt=v,this.Pe=null,this.Ie=null,this.de=null}}function k(n){return new _(n)}function ne(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Tn(n){const e=$t(n);if(null===e.Pe){e.Pe=[];const t=function nt(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function ge(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.Pe.push(new It(t)),e.Pe.push(new It(bs.keyField(),"asc"));else{let s=!1;for(const a of e.explicitOrderBy)e.Pe.push(a),a.field.isKeyField()&&(s=!0);if(!s){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new It(bs.keyField(),a))}}}return e.Pe}function Sn(n){const e=$t(n);return e.Ie||(e.Ie=function vr(n,e){if("F"===n.limitType)return Ju(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>new It(s.field,"desc"===s.dir?"asc":"desc"));const t=n.endAt?new Ie(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ie(n.startAt.position,n.startAt.inclusive):null;return Ju(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Tn(n))),e.Ie}function ga(n,e,t){return new _(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sl(n,e){return $h(Sn(n),Sn(e))&&n.limitType===e.limitType}function vu(n){return`${gc(Sn(n))}|lt:${n.limitType}`}function Zc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>_o(s)).join(", ")}]`),G(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Kc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Kc(s)).join(",")),`Target(${r})`}(Sn(n))}; limitType=${n.limitType})`}function Pc(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Tn(r))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((r=n).startAt&&!function(c,g,v){const S=Ke(c,g,v);return c.inclusive?S<=0:S<0}(r.startAt,Tn(r),s)||r.endAt&&!function(c,g,v){const S=Ke(c,g,v);return c.inclusive?S>=0:S>0}(r.endAt,Tn(r),s)));var r,s}function mc(n){return(e,t)=>{let r=!1;for(const s of Tn(n)){const a=Jf(s,e,t);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Jf(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(a,c,g){const v=c.data.field(a),S=g.data.field(a);return null!==v&&null!==S?hc(v,S):en()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return en()}}class Nc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,a]of r)if(this.equalsFn(s,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){dc(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return function Yd(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const Xc=new Vs(Ye.comparator);function nl(){return Xc}const Xf=new Vs(Ye.comparator);function Xu(...n){let e=Xf;for(const t of n)e=e.insert(t.key,t);return e}function Jd(n){let e=Xf;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function kc(){return ed()}function Hh(){return ed()}function ed(){return new Nc(n=>n.toString(),(n,e)=>n.isEqual(e))}new Vs(Ye.comparator);const h_=new os(Ye.comparator);function vi(...n){let e=h_;for(const t of n)e=e.add(t);return e}const f_=new os(Qt);class Tg{constructor(){this._=void 0}}function I0(n,e,t){return n instanceof Eu?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&xc(a)&&(a=Rc(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Mu?T0(n,e):n instanceof Xd?m_(n,e):function(s,a){const c=function Wh(n,e){return n instanceof Pu?Qd(r=e)||(a=r)&&"doubleValue"in a?e:{integerValue:0}:null;var r,a}(s,a),g=Cd(c)+Cd(s.Te);return Qd(c)&&Qd(s.Te)?function g_(n){return{integerValue:""+n}}(g):function Ig(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:le(e)?"-0":e}}(s.serializer,g)}(n,e)}function Dg(n,e,t){return n instanceof Mu?T0(n,e):n instanceof Xd?m_(n,e):t}class Eu extends Tg{}class Mu extends Tg{constructor(e){super(),this.elements=e}}function T0(n,e){const t=__(e);for(const r of n.elements)t.some(s=>ka(s,r))||t.push(r);return{arrayValue:{values:t}}}class Xd extends Tg{constructor(e){super(),this.elements=e}}function m_(n,e){let t=__(e);for(const r of n.elements)t=t.filter(s=>!ka(s,r));return{arrayValue:{values:t}}}class Pu extends Tg{constructor(e,t){super(),this.serializer=e,this.Te=t}}function Cd(n){return Ks(n.integerValue||n.doubleValue)}function __(n){return Mo(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class yo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yo}static exists(e){return new yo(void 0,e)}static updateTime(e){return new yo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class xd{}function nh(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Rd(n.key,yo.none()):new ih(n.key,n.data,yo.none());{const t=n.data,r=M.empty();let s=new os(bs.comparator);for(let a of e.fields)if(!s.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),s=s.add(a)}return new Fc(n.key,r,new Xo(s.toArray()),yo.none())}}function Kh(n,e,t){n instanceof ih?function(s,a,c){const g=s.value.clone(),v=E_(s.fieldTransforms,a,c.transformResults);g.setAll(v),a.convertToFoundDocument(c.version,g).setHasCommittedMutations()}(n,e,t):n instanceof Fc?function(s,a,c){if(!th(s.precondition,a))return void a.convertToUnknownDocument(c.version);const g=E_(s.fieldTransforms,a,c.transformResults),v=a.data;v.setAll(v_(s)),v.setAll(g),a.convertToFoundDocument(c.version,v).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function rh(n,e,t,r){return n instanceof ih?function(a,c,g,v){if(!th(a.precondition,c))return g;const S=a.value.clone(),F=w_(a.fieldTransforms,v,c);return S.setAll(F),c.convertToFoundDocument(c.version,S).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fc?function(a,c,g,v){if(!th(a.precondition,c))return g;const S=w_(a.fieldTransforms,v,c),F=c.data;return F.setAll(v_(a)),F.setAll(S),c.convertToFoundDocument(c.version,F).setHasLocalMutations(),null===g?null:g.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(K=>K.field))}(n,e,t,r):(g=t,th(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):g);var c,g}function D0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===s||r&&s&&Zr(r,s,(a,c)=>function Sg(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(r=n.transform)instanceof Mu&&s instanceof Mu||r instanceof Xd&&s instanceof Xd?Zr(r.elements,s.elements,ka):r instanceof Pu&&s instanceof Pu?ka(r.Te,s.Te):r instanceof Eu&&s instanceof Eu);var r,s}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,s}class ih extends xd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Fc extends xd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function v_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function E_(n,e,t){const r=new Map;In(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],c=a.transform,g=e.data.field(a.field);r.set(a.field,Dg(c,g,t[s]))}return r}function w_(n,e,t){const r=new Map;for(const s of n){const a=s.transform,c=t.data.field(s.field);r.set(s.field,I0(a,c,e))}return r}class Rd extends xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ag{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Kh(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=rh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=rh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Hh();return this.mutations.forEach(s=>{const a=e.get(s.key),c=a.overlayedDocument;let g=this.applyToLocalView(c,a.mutatedFields);g=t.has(s.key)?null:g;const v=nh(c,g);null!==v&&r.set(s.key,v),c.isValidDocument()||c.convertToNoDocument(Nn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vi())}isEqual(e){return this.batchId===e.batchId&&Zr(this.mutations,e.mutations,(t,r)=>D0(t,r))&&Zr(this.baseMutations,e.baseMutations,(t,r)=>D0(t,r))}}class tp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class b_{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yi,Ti;function T_(n){if(void 0===n)return Dn("GRPC error has no .code"),pt.UNKNOWN;switch(n){case Yi.OK:return pt.OK;case Yi.CANCELLED:return pt.CANCELLED;case Yi.UNKNOWN:return pt.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return pt.INTERNAL;case Yi.UNAVAILABLE:return pt.UNAVAILABLE;case Yi.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Yi.NOT_FOUND:return pt.NOT_FOUND;case Yi.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Yi.ABORTED:return pt.ABORTED;case Yi.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Yi.DATA_LOSS:return pt.DATA_LOSS;default:return en()}}(Ti=Yi||(Yi={}))[Ti.OK=0]="OK",Ti[Ti.CANCELLED=1]="CANCELLED",Ti[Ti.UNKNOWN=2]="UNKNOWN",Ti[Ti.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ti[Ti.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ti[Ti.NOT_FOUND=5]="NOT_FOUND",Ti[Ti.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ti[Ti.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ti[Ti.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ti[Ti.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ti[Ti.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ti[Ti.ABORTED=10]="ABORTED",Ti[Ti.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ti[Ti.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ti[Ti.INTERNAL=13]="INTERNAL",Ti[Ti.UNAVAILABLE=14]="UNAVAILABLE",Ti[Ti.DATA_LOSS=15]="DATA_LOSS";const Bb=new ie([4294967295,4294967295],0);function np(n){const e=function D_(){return new TextEncoder}().encode(n),t=new q;return t.update(e),new Uint8Array(t.digest())}function S_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ie([t,r],0),new ie([s,a],0)]}class rp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ip(`Invalid padding: ${t}`);if(r<0)throw new ip(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ip(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new ip(`Invalid padding when bitmap length is 0: ${t}`);this.Ae=8*e.length-t,this.Re=ie.fromNumber(this.Ae)}Ve(e,t,r){let s=e.add(t.multiply(ie.fromNumber(r)));return 1===s.compare(Bb)&&(s=new ie([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const t=np(e),[r,s]=S_(t);for(let a=0;a<this.hashCount;a++){const c=this.Ve(r,s,a);if(!this.me(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new rp(a,s,t);return r.forEach(g=>c.insert(g)),c}insert(e){if(0===this.Ae)return;const t=np(e),[r,s]=S_(t);for(let a=0;a<this.hashCount;a++){const c=this.Ve(r,s,a);this.fe(c)}}fe(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ip extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sp{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,sh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sp(Nn.min(),s,new Vs(Qt),nl(),vi())}}class sh{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new sh(r,t,vi(),vi(),vi())}}class Qh{constructor(e,t,r,s){this.ge=e,this.removedTargetIds=t,this.key=r,this.pe=s}}class A0{constructor(e,t){this.targetId=e,this.ye=t}}class Zh{constructor(e,t,r=Oo.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class C0{constructor(){this.we=0,this.Se=A_(),this.be=Oo.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=vi(),t=vi(),r=vi();return this.Se.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:en()}}),new sh(this.be,this.De,e,t,r)}Oe(){this.Ce=!1,this.Se=A_()}Ne(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class Ub{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=nl(),this.Ue=op(),this.We=new Vs(Qt)}Ge(e){for(const t of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(t,e.pe):this.je(t,e.key,e.pe);for(const t of e.removedTargetIds)this.je(t,e.key,e.pe)}He(e){this.forEachTarget(e,t=>{const r=this.Je(t);switch(e.state){case 0:this.Ye(t)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(t);break;case 3:this.Ye(t)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(t)&&(this.Ze(t),r.Me(e.resumeToken));break;default:en()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((r,s)=>{this.Ye(s)&&t(s)})}Xe(e){const t=e.targetId,r=e.ye.count,s=this.et(t);if(s){const a=s.target;if(Ad(a))if(0===r){const c=new Ye(a.path);this.je(t,c,ee.newNoDocument(c,Nn.min()))}else In(1===r);else{const c=this.tt(t);if(c!==r){const g=this.nt(e),v=g?this.rt(g,e,c):1;0!==v&&(this.Ze(t),this.We=this.We.insert(t,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(e){const t=e.ye.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let c,g;try{c=Na(r).toUint8Array()}catch(v){if(v instanceof Fh)return En("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new rp(c,s,a)}catch(v){return En(v instanceof ip?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return 0===g.Ae?null:g}rt(e,t,r){return t.ye.count===r-this.ot(e,t.targetId)?0:2}ot(e,t){const r=this.Qe.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const c=this.Qe.st(),g=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(g)||(this.je(t,a,null),s++)}),s}_t(e){const t=new Map;this.Ke.forEach((a,c)=>{const g=this.et(c);if(g){if(a.current&&Ad(g.target)){const v=new Ye(g.target.path);null!==this.$e.get(v)||this.ut(c,v)||this.je(c,v,ee.newNoDocument(v,e))}a.Fe&&(t.set(c,a.xe()),a.Oe())}});let r=vi();this.Ue.forEach((a,c)=>{let g=!0;c.forEachWhile(v=>{const S=this.et(v);return!S||"TargetPurposeLimboResolution"===S.purpose||(g=!1,!1)}),g&&(r=r.add(a))}),this.$e.forEach((a,c)=>c.setReadTime(e));const s=new sp(e,t,this.We,this.$e,r);return this.$e=nl(),this.Ue=op(),this.We=new Vs(Qt),s}ze(e,t){if(!this.Ye(e))return;const r=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,r),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}je(e,t,r){if(!this.Ye(e))return;const s=this.Je(e);this.ut(e,t)?s.Ne(t,1):s.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),r&&(this.$e=this.$e.insert(t,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let t=this.Ke.get(e);return t||(t=new C0,this.Ke.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new os(Qt),this.Ue=this.Ue.insert(e,t)),t}Ye(e){const t=null!==this.et(e);return t||it("WatchChangeAggregator","Detected inactive target",e),t}et(e){const t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new C0),this.Qe.getRemoteKeysForTarget(e).forEach(t=>{this.je(e,t,null)})}ut(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}function op(){return new Vs(Ye.comparator)}function A_(){return new Vs(Ye.comparator)}const x0={asc:"ASCENDING",desc:"DESCENDING"},Jh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cg={and:"AND",or:"OR"};class C_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ap(n,e){return n.useProto3Json||G(e)?e:{value:e}}function Da(n){return In(!!n),Nn.fromTimestamp(function(t){const r=Uo(t);return new Xr(r.seconds,r.nanos)}(n))}function R0(n){const e=lr.fromString(n);return In(dp(e)),e}function wu(n,e){const t=R0(e);if(t.get(1)!==n.databaseId.projectId)throw new Kt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Kt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(O0(t))}function Xh(n,e){return function lp(n,e){return(r=n,new lr(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}(n.databaseId,e)}function nd(n){return new lr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function O0(n){return In(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Gb(n,e){return{documents:[Xh(n,e.path)]}}function oh(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Xh(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Xh(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(v){if(0!==v.length)return O_(Kn.create(v,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(v){if(0!==v.length)return v.map(S=>{return{field:bu((K=S).field),direction:F0(K.dir)};var K})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=ap(n,e.limit);return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(v=e.startAt).inclusive,values:v.position}),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),t;var v}function N0(n){let e=function xg(n){const e=R0(n);return 4===e.length?lr.emptyPath():O0(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){In(1===r);const F=t.from[0];F.allDescendants?s=F.collectionId:e=e.child(F.collectionId)}let a=[];t.where&&(a=function(K){const he=R_(K);return he instanceof Kn&&la(he)?he.getFilters():[he]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(he=>{return new It(Iu((ct=he).field),function(Mt){switch(Mt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ct.direction));var ct}));let g=null;t.limit&&(g=function(K){let he;return he="object"==typeof K?K.value:K,G(he)?null:he}(t.limit));let v=null;var K;t.startAt&&(v=new Ie((K=t.startAt).values||[],!!K.before));let S=null;return t.endAt&&(S=function(K){return new Ie(K.values||[],!K.before)}(t.endAt)),function I(n,e,t,r,s,a,c,g){return new _(n,e,t,r,s,a,c,g)}(e,s,c,a,g,"F",v,S)}function R_(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Iu(t.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Iu(t.unaryFilter.field);return fn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Iu(t.unaryFilter.field);return fn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Iu(t.unaryFilter.field);return fn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(n):void 0!==n.fieldFilter?fn.create(Iu((t=n).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Kn.create(t.compositeFilter.filters.map(r=>R_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return en()}}(t.compositeFilter.op))}(n):en();var t}function F0(n){return x0[n]}function up(n){return Jh[n]}function L0(n){return Cg[n]}function bu(n){return{fieldPath:n.canonicalString()}}function Iu(n){return bs.fromServerFormat(n.fieldPath)}function O_(n){return n instanceof fn?function(t){if("=="===t.op){if(Zd(t.value))return{unaryFilter:{field:bu(t.field),op:"IS_NAN"}};if(Yc(t.value))return{unaryFilter:{field:bu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Zd(t.value))return{unaryFilter:{field:bu(t.field),op:"IS_NOT_NAN"}};if(Yc(t.value))return{unaryFilter:{field:bu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bu(t.field),op:up(t.op),value:t.value}}}(n):n instanceof Kn?function(t){const r=t.getFilters().map(s=>O_(s));return 1===r.length?r[0]:{compositeFilter:{op:L0(t.op),filters:r}}}(n):en()}function dp(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Nu{constructor(e,t,r,s,a=Nn.min(),c=Nn.min(),g=Oo.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Nu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mg{constructor(e){this.ht=e}}function V(n){const e=N0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ga(e,e.limit,"L"):e}class Pr{constructor(){}dt(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(Ks(e.integerValue));else if("doubleValue"in e){const r=Ks(e.doubleValue);isNaN(r)?this.At(t,13):(this.At(t,15),le(r)?t.Rt(0):t.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt(`${r.seconds||""}`),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(Na(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(t,45),t.Rt(r.latitude||0),t.Rt(r.longitude||0)}else"mapValue"in e?Bh(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):en()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const r=e.fields||{};this.At(t,55);for(const s of Object.keys(r))this.ft(s,t),this.Tt(r[s],t)}bt(e,t){const r=e.values||[];this.At(t,50);for(const s of r)this.Tt(s,t)}wt(e,t){this.At(t,37),Ye.fromName(e).path.forEach(r=>{this.At(t,60),this.Dt(r,t)})}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}Pr.Ct=new Pr;class nf{constructor(){this.an=new Lu}addToCollectionParentIndex(e,t){return this.an.add(t),Et.resolve()}getCollectionParents(e,t){return Et.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return Et.resolve()}deleteFieldIndex(e,t){return Et.resolve()}deleteAllFieldIndexes(e){return Et.resolve()}createTargetIndexes(e,t){return Et.resolve()}getDocumentsMatchingTarget(e,t){return Et.resolve(null)}getIndexType(e,t){return Et.resolve(0)}getFieldIndexes(e,t){return Et.resolve([])}getNextCollectionGroupToUpdate(e){return Et.resolve(null)}getMinOffset(e,t){return Et.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,t){return Et.resolve(Ha.min())}updateCollectionGroup(e,t,r){return Et.resolve()}updateIndexEntries(e,t){return Et.resolve()}}class Lu{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new os(lr.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new os(lr.comparator)).toArray()}}new Uint8Array(0);class ta{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ta(e,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ta.DEFAULT_COLLECTION_PERCENTILE=10,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ta.DEFAULT=new ta(41943040,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ta.DISABLED=new ta(-1,0,0);class Vu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new Vu(0)}static Ln(){return new Vu(-1)}}class F_{constructor(){this.changes=new Nc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ee.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Et.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pp{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&rh(r.mutation,s,Xo.empty(),Xr.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,vi()).next(()=>r))}getLocalViewOfDocuments(e,t,r=vi()){const s=kc();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let c=Xu();return a.forEach((g,v)=>{c=c.insert(g,v.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=kc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,vi()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((c,g)=>{t.set(c,g)})})}computeViews(e,t,r,s){let a=nl();const c=ed(),g=ed();return t.forEach((v,S)=>{const F=r.get(S.key);s.has(S.key)&&(void 0===F||F.mutation instanceof Fc)?a=a.insert(S.key,S):void 0!==F?(c.set(S.key,F.mutation.getFieldMask()),rh(F.mutation,S,F.mutation.getFieldMask(),Xr.now())):c.set(S.key,Xo.empty())}),this.recalculateAndSaveOverlays(e,a).next(v=>(v.forEach((S,F)=>c.set(S,F)),t.forEach((S,F)=>{var K;return g.set(S,new gR(F,null!==(K=c.get(S))&&void 0!==K?K:null))}),g))}recalculateAndSaveOverlays(e,t){const r=ed();let s=new Vs((c,g)=>c-g),a=vi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const g of c)g.keys().forEach(v=>{const S=t.get(v);if(null===S)return;let F=r.get(v)||Xo.empty();F=g.applyToLocalView(S,F),r.set(v,F);const K=(s.get(g.batchId)||vi()).add(v);s=s.insert(g.batchId,K)})}).next(()=>{const c=[],g=s.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),S=v.key,F=v.value,K=Hh();F.forEach(he=>{if(!a.has(he)){const Ae=nh(t.get(he),r.get(he));null!==Ae&&K.set(he,Ae),a=a.add(he)}}),c.push(this.documentOverlayCache.saveOverlays(e,S,K))}return Et.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return Ye.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Pt(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s);var c}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const c=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Et.resolve(kc());let g=-1,v=a;return c.next(S=>Et.forEach(S,(F,K)=>(g<K.largestBatchId&&(g=K.largestBatchId),a.get(F)?Et.resolve():this.remoteDocumentCache.getEntry(e,F).next(he=>{v=v.insert(F,he)}))).next(()=>this.populateOverlays(e,S,a)).next(()=>this.computeViews(e,v,S,vi())).next(F=>({batchId:g,changes:Jd(F)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ye(t)).next(r=>{let s=Xu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let c=Xu();return this.indexManager.getCollectionParents(e,a).next(g=>Et.forEach(g,v=>{const S=(K=t,he=v.child(a),new _(he,null,K.explicitOrderBy.slice(),K.filters.slice(),K.limit,K.limitType,K.startAt,K.endAt));var K,he;return this.getDocumentsMatchingCollectionQuery(e,S,r,s).next(F=>{F.forEach((K,he)=>{c=c.insert(K,he)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(c=>{a.forEach((v,S)=>{const F=S.getKey();null===c.get(F)&&(c=c.insert(F,ee.newInvalidDocument(F)))});let g=Xu();return c.forEach((v,S)=>{const F=a.get(v);void 0!==F&&rh(F.mutation,S,Xo.empty(),Xr.now()),Pc(t,S)&&(g=g.insert(v,S))}),g})}}class Bs{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return Et.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,{id:(s=t).id,version:s.version,createTime:Da(s.createTime)}),Et.resolve();var s}getNamedQuery(e,t){return Et.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,{name:(s=t).name,query:V(s.bundledQuery),readTime:Da(s.readTime)}),Et.resolve();var s}}class Vg{constructor(){this.overlays=new Vs(Ye.comparator),this.Pr=new Map}getOverlay(e,t){return Et.resolve(this.overlays.get(t))}getOverlays(e,t){const r=kc();return Et.forEach(t,s=>this.getOverlay(e,s).next(a=>{null!==a&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.It(e,t,a)}),Et.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Pr.get(r);return void 0!==s&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Pr.delete(r)),Et.resolve()}getOverlaysForCollection(e,t,r){const s=kc(),a=t.length+1,c=new Ye(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const v=g.getNext().value,S=v.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===a&&v.largestBatchId>r&&s.set(v.getKey(),v)}return Et.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Vs((S,F)=>S-F);const c=this.overlays.getIterator();for(;c.hasNext();){const S=c.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let F=a.get(S.largestBatchId);null===F&&(F=kc(),a=a.insert(S.largestBatchId,F)),F.set(S.getKey(),S)}}const g=kc(),v=a.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((S,F)=>g.set(S,F)),!(g.size()>=s)););return Et.resolve(g)}It(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const c=this.Pr.get(s.largestBatchId).delete(r.key);this.Pr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new tp(t,r));let a=this.Pr.get(t);void 0===a&&(a=vi(),this.Pr.set(t,a)),this.Pr.set(t,a.add(r.key))}}class L_{constructor(){this.Ir=new os(il.dr),this.Tr=new os(il.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){const r=new il(e,t);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Rr(new il(e,t))}Vr(e,t){e.forEach(r=>this.removeReference(r,t))}mr(e){const t=new Ye(new lr([])),r=new il(t,e),s=new il(t,e+1),a=[];return this.Tr.forEachInRange([r,s],c=>{this.Rr(c),a.push(c.key)}),a}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const t=new Ye(new lr([])),r=new il(t,e),s=new il(t,e+1);let a=vi();return this.Tr.forEachInRange([r,s],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new il(e,0),r=this.Ir.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class il{constructor(e,t){this.key=e,this.yr=t}static dr(e,t){return Ye.comparator(e.key,t.key)||Qt(e.yr,t.yr)}static Er(e,t){return Qt(e.yr,t.yr)||Ye.comparator(e.key,t.key)}}class j0{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new os(il.dr)}checkEmpty(e){return Et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const a=this.wr;this.wr++;const c=new Ag(a,t,r,s);this.mutationQueue.push(c);for(const g of s)this.Sr=this.Sr.add(new il(g.key,a)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Et.resolve(c)}lookupMutationBatch(e,t){return Et.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Dr(t+1),a=s<0?0:s;return Et.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new il(t,0),s=new il(t,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,s],c=>{const g=this.br(c.yr);a.push(g)}),Et.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new os(Qt);return t.forEach(s=>{const a=new il(s,0),c=new il(s,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([a,c],g=>{r=r.add(g.yr)})}),Et.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ye.isDocumentKey(a)||(a=a.child(""));const c=new il(new Ye(a),0);let g=new os(Qt);return this.Sr.forEachWhile(v=>{const S=v.key.path;return!!r.isPrefixOf(S)&&(S.length===s&&(g=g.add(v.yr)),!0)},c),Et.resolve(this.Cr(g))}Cr(e){const t=[];return e.forEach(r=>{const s=this.br(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){In(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Sr;return Et.forEach(t.mutations,s=>{const a=new il(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,t){const r=new il(t,0),s=this.Sr.firstAfterOrEqual(r);return Et.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return Et.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Wb{constructor(e){this.Fr=e,this.docs=new Vs(Ye.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,c=this.Fr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Et.resolve(r?r.document.mutableCopy():ee.newInvalidDocument(t))}getEntries(e,t){let r=nl();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():ee.newInvalidDocument(s))}),Et.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=nl();const c=t.path,g=new Ye(c.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:S,value:{document:F}}=v.getNext();if(!c.isPrefixOf(S.path))break;S.path.length>c.length+1||Cu(fu(F),r)<=0||(s.has(F.key)||Pc(t,F))&&(a=a.insert(F.key,F.mutableCopy()))}return Et.resolve(a)}getAllFromCollectionGroup(e,t,r,s){en()}Mr(e,t){return Et.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eS(this)}getSize(e){return Et.resolve(this.size)}}class eS extends F_{constructor(e){super(),this.ur=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.ur.addEntry(e,s)):this.ur.removeEntry(r)}),Et.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}}class qb{constructor(e){this.persistence=e,this.Or=new Nc(t=>gc(t),$h),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.Nr=0,this.Br=new L_,this.targetCount=0,this.Lr=Vu.Bn()}forEachTarget(e,t){return this.Or.forEach((r,s)=>t(s)),Et.resolve()}getLastRemoteSnapshotVersion(e){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Et.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Nr&&(this.Nr=t),Et.resolve()}Qn(e){this.Or.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new Vu(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,Et.resolve()}updateTargetData(e,t){return this.Qn(t),Et.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,Et.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Or.forEach((c,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Or.delete(c),a.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),Et.waitFor(a).next(()=>s)}getTargetCount(e){return Et.resolve(this.targetCount)}getTargetData(e,t){const r=this.Or.get(t)||null;return Et.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Ar(t,r),Et.resolve()}removeMatchingKeys(e,t,r){this.Br.Vr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(c=>{a.push(s.markPotentiallyOrphaned(e,c))}),Et.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.mr(t),Et.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.pr(t);return Et.resolve(r)}containsKey(e,t){return Et.resolve(this.Br.containsKey(t))}}class V_{constructor(e,t){this.kr={},this.overlays={},this.qr=new P(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new qb(this),this.indexManager=new nf,this.remoteDocumentCache=new Wb(r=>this.referenceDelegate.$r(r)),this.serializer=new Mg(t),this.Ur=new Bs(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vg,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.kr[e.toKey()];return r||(r=new j0(t,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,t,r){it("MemoryPersistence","Starting transaction:",e);const s=new B_(this.qr.next());return this.referenceDelegate.Wr(),r(s).next(a=>this.referenceDelegate.Gr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}zr(e,t){return Et.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,t)))}}class B_ extends Ro{constructor(e){super(),this.currentSequenceNumber=e}}class $0{constructor(e){this.persistence=e,this.jr=new L_,this.Hr=null}static Jr(e){return new $0(e)}get Yr(){if(this.Hr)return this.Hr;throw en()}addReference(e,t,r){return this.jr.addReference(r,t),this.Yr.delete(r.toString()),Et.resolve()}removeReference(e,t,r){return this.jr.removeReference(r,t),this.Yr.add(r.toString()),Et.resolve()}markPotentiallyOrphaned(e,t){return this.Yr.add(t.toString()),Et.resolve()}removeTarget(e,t){this.jr.mr(t.targetId).forEach(s=>this.Yr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.Yr.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Wr(){this.Hr=new Set}Gr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.Yr,r=>{const s=Ye.fromPath(r);return this.Zr(e,s).next(a=>{a||t.removeEntry(s,Nn.min())})}).next(()=>(this.Hr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zr(e,t).next(r=>{r?this.Yr.delete(t.toString()):this.Yr.add(t.toString())})}$r(e){return 0}Zr(e,t){return Et.or([()=>Et.resolve(this.jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zr(e,t)])}}class mp{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Qi=r,this.Ki=s}static $i(e,t){let r=vi(),s=vi();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new mp(e,t.fromCache,r,s)}}class nS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class H_{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Hi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Ji(e,t,s,r).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new nS;return this.Yi(e,t,c).next(g=>{if(a.result=g,this.Wi)return this.Zi(e,t,c,g.size)})}).next(()=>a.result)}Zi(e,t,r,s){return r.documentReadCount<this.Gi?(sn()<=_e.in.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Zc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),Et.resolve()):(sn()<=_e.in.DEBUG&&it("QueryEngine","Query:",Zc(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.zi*s?(sn()<=_e.in.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Zc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(t))):Et.resolve())}Hi(e,t){if(ne(t))return Et.resolve(null);let r=Sn(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=ga(t,null,"F"),r=Sn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=vi(...a);return this.ji.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(v=>{const S=this.Xi(t,g);return this.es(t,S,c,v.readTime)?this.Hi(e,ga(t,null,"F")):this.ts(e,S,t,v)}))})))}Ji(e,t,r,s){return ne(t)||s.isEqual(Nn.min())?Et.resolve(null):this.ji.getDocuments(e,r).next(a=>{const c=this.Xi(t,a);return this.es(t,c,r,s)?Et.resolve(null):(sn()<=_e.in.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zc(t)),this.ts(e,c,t,function hu(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Nn.fromTimestamp(1e9===r?new Xr(t+1,0):new Xr(t,r));return new Ha(s,Ye.empty(),e)}(s,-1)).next(g=>g))})}Xi(e,t){let r=new os(mc(e));return t.forEach((s,a)=>{Pc(e,a)&&(r=r.add(a))}),r}es(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Yi(e,t,r){return sn()<=_e.in.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Zc(t)),this.ji.getDocumentsMatchingQuery(e,t,Ha.min(),r)}ts(e,t,r,s){return this.ji.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class z_{constructor(e,t,r,s){this.persistence=e,this.ns=t,this.serializer=s,this.rs=new Vs(Qt),this.ss=new Nc(a=>gc(a),$h),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pp(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.rs))}}function Ug(n,e){return jg.apply(this,arguments)}function jg(){return jg=(0,be.Z)(function*(n,e){const t=$t(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.us(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],g=[];let v=vi();for(const S of s){c.push(S.batchId);for(const F of S.mutations)v=v.add(F.key)}for(const S of a){g.push(S.batchId);for(const F of S.mutations)v=v.add(F.key)}return t.localDocuments.getDocuments(r,v).next(S=>({cs:S,removedBatchIds:c,addedBatchIds:g}))})})}),jg.apply(this,arguments)}function Kb(n){const e=$t(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Kr.getLastRemoteSnapshotVersion(t))}function yp(n,e,t){return $g.apply(this,arguments)}function $g(){return $g=(0,be.Z)(function*(n,e,t){const r=$t(n),s=r.rs.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Dc(c))throw c;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.rs=r.rs.remove(e),r.ss.delete(s.target)}),$g.apply(this,arguments)}function Gg(n,e,t){const r=$t(n);let s=Nn.min(),a=vi();return r.persistence.runTransaction("Execute query","readwrite",c=>function(v,S,F){const K=$t(v),he=K.ss.get(F);return void 0!==he?Et.resolve(K.rs.get(he)):K.Kr.getTargetData(S,F)}(r,c,Sn(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(c,g.targetId).next(v=>{a=v})}).next(()=>r.ns.getDocumentsMatchingQuery(c,e,t?s:Nn.min(),t?a:vi())).next(g=>(function W_(n,e,t){let r=n.os.get(e)||Nn.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.os.set(e,r)}(r,function Jc(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,Ps:a})))}class Hg{constructor(){this.activeTargetIds=function p_(){return f_}()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wp{constructor(){this.ro=new Hg,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,t,r){this.io[e]=t}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new Hg,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class K_{so(e){}shutdown(){}}class hf{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bp=null;function Wg(){return null===bp?bp=268435456+Math.round(2147483648*Math.random()):bp++,"0x"+bp.toString(16)}const Y_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _R{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const Cl="WebChannelConnection";class qg extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${s}/databases/${a}`,this.wo="(default)"===this.databaseId.database?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get So(){return!1}bo(t,r,s,a,c){const g=Wg(),v=this.Do(t,r);it("RestConnection",`Sending RPC '${t}' ${g}:`,v,s);const S={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(S,a,c),this.vo(t,v,S,s).then(F=>(it("RestConnection",`Received RPC '${t}' ${g}: `,F),F),F=>{throw En("RestConnection",`RPC '${t}' ${g} failed with error: `,F,"url: ",v,"request:",s),F})}Fo(t,r,s,a,c,g){return this.bo(t,r,s,a,c)}Co(t,r,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ue,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,c)=>t[c]=a),s&&s.headers.forEach((a,c)=>t[c]=a)}Do(t,r){return`${this.po}/v1/${r}:${Y_[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const a=Wg();return new Promise((c,g)=>{const v=new R;v.setWithCredentials(!0),v.listenOnce(ce.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case re.NO_ERROR:const F=v.getResponseJson();it(Cl,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(F)),c(F);break;case re.TIMEOUT:it(Cl,`RPC '${e}' ${a} timed out`),g(new Kt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case re.HTTP_ERROR:const K=v.getStatus();if(it(Cl,`RPC '${e}' ${a} failed with status:`,K,"response text:",v.getResponseText()),K>0){let he=v.getResponseJson();Array.isArray(he)&&(he=he[0]);const Ae=he?.error;if(Ae&&Ae.status&&Ae.message){const ct=function(Mt){const Cn=Mt.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Cn)>=0?Cn:pt.UNKNOWN}(Ae.status);g(new Kt(ct,Ae.message))}else g(new Kt(pt.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new Kt(pt.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{it(Cl,`RPC '${e}' ${a} completed.`)}});const S=JSON.stringify(s);it(Cl,`RPC '${e}' ${a} sending request:`,s),v.send(t,"POST",S,r,15)})}Mo(e,t,r){const s=Wg(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=L(),g=Z(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},S=this.longPollingOptions.timeoutSeconds;void 0!==S&&(v.longPollingTimeout=Math.round(1e3*S)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Co(v.initMessageHeaders,t,r),v.encodeInitMessageHeaders=!0;const F=a.join("");it(Cl,`Creating RPC '${e}' stream ${s}: ${F}`,v);const K=c.createWebChannel(F,v);let he=!1,Ae=!1;const ct=new _R({ho:Mt=>{Ae?it(Cl,`Not sending because RPC '${e}' stream ${s} is closed:`,Mt):(he||(it(Cl,`Opening RPC '${e}' stream ${s} transport.`),K.open(),he=!0),it(Cl,`RPC '${e}' stream ${s} sending:`,Mt),K.send(Mt))},Po:()=>K.close()}),At=(Mt,Cn,Gn)=>{Mt.listen(Cn,Pn=>{try{Gn(Pn)}catch(Gr){setTimeout(()=>{throw Gr},0)}})};return At(K,D.EventType.OPEN,()=>{Ae||it(Cl,`RPC '${e}' stream ${s} transport opened.`)}),At(K,D.EventType.CLOSE,()=>{Ae||(Ae=!0,it(Cl,`RPC '${e}' stream ${s} transport closed`),ct.mo())}),At(K,D.EventType.ERROR,Mt=>{Ae||(Ae=!0,En(Cl,`RPC '${e}' stream ${s} transport errored:`,Mt),ct.mo(new Kt(pt.UNAVAILABLE,"The operation could not be completed")))}),At(K,D.EventType.MESSAGE,Mt=>{var Cn;if(!Ae){const Gn=Mt.data[0];In(!!Gn);const Gr=Gn.error||(null===(Cn=Gn[0])||void 0===Cn?void 0:Cn.error);if(Gr){it(Cl,`RPC '${e}' stream ${s} received error:`,Gr);const si=Gr.status;let Hr=function(ZD){const nP=Yi[ZD];if(void 0!==nP)return T_(nP)}(si),Us=Gr.message;void 0===Hr&&(Hr=pt.INTERNAL,Us="Unknown error status: "+si+" with message "+Gr.message),Ae=!0,ct.mo(new Kt(Hr,Us)),K.close()}else it(Cl,`RPC '${e}' stream ${s} received:`,Gn),ct.fo(Gn)}}),At(g,ye.STAT_EVENT,Mt=>{Mt.stat===U.PROXY?it(Cl,`RPC '${e}' stream ${s} detected buffering proxy`):Mt.stat===U.NOPROXY&&it(Cl,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ct.Vo()},0),ct}}function Kg(){return typeof document<"u"?document:null}function Yg(n){return new C_(n,!0)}class W0{constructor(e,t,r=1e3,s=1.5,a=6e4){this._i=e,this.timerId=t,this.xo=r,this.Oo=s,this.No=a,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const t=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),s=Math.max(0,t-r);s>0&&it("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,s,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class q0{constructor(e,t,r,s,a,c,g,v){this._i=e,this.Uo=r,this.Wo=s,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new W0(e,t)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var e=this;return(0,be.Z)(function*(){e.Jo()&&(yield e.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}t_(){var e=this;return(0,be.Z)(function*(){if(e.Yo())return e.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.r_(),r.i_(),r.Ho.cancel(),r.Go++,4!==e?r.Ho.reset():t&&t.code===pt.RESOURCE_EXHAUSTED?(Dn(t.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),r.Ho.qo()):t&&t.code===pt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.s_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(t)})()}s_(){}auth(){this.state=1;const e=this.o_(this.Go),t=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Go===t&&this.__(r,s)},r=>{e(()=>{const s=new Kt(pt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(s)})})}__(e,t){const r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(s=>{r(()=>this.a_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Zo(){var e=this;this.state=5,this.Ho.Qo((0,be.Z)(function*(){e.state=0,e.start()}))}a_(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return t=>{this._i.enqueueAndForget(()=>this.Go===e?t():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jb extends q0{constructor(e,t,r,s,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=a}u_(e,t){return this.connection.Mo("Listen",e,t)}onMessage(e){this.Ho.reset();const t=function rd(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(S=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===S?1:"REMOVE"===S?2:"CURRENT"===S?3:"RESET"===S?4:en(),s=e.targetChange.targetIds||[],a=function(S,F){return S.useProto3Json?(In(void 0===F||"string"==typeof F),Oo.fromBase64String(F||"")):(In(void 0===F||F instanceof Uint8Array),Oo.fromUint8Array(F||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(S){const F=void 0===S.code?pt.UNKNOWN:T_(S.code);return new Kt(F,S.message||"")}(c);t=new Zh(r,s,a,g||null)}else if("documentChange"in e){const r=e.documentChange,s=wu(n,r.document.name),a=Da(r.document.updateTime),c=r.document.createTime?Da(r.document.createTime):Nn.min(),g=new M({mapValue:{fields:r.document.fields}}),v=ee.newFoundDocument(s,a,c,g);t=new Qh(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,s=wu(n,r.document),a=r.readTime?Da(r.readTime):Nn.min(),c=ee.newNoDocument(s,a);t=new Qh([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,s=wu(n,r.document);t=new Qh([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return en();{const r=e.filter,{count:s=0,unchangedNames:a}=r,c=new b_(s,a);t=new A0(r.targetId,c)}}var S;return t}(this.serializer,e),r=function(a){if(!("targetChange"in a))return Nn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Nn.min():c.readTime?Da(c.readTime):Nn.min()}(e);return this.listener.c_(t,r)}l_(e){const t={};t.database=nd(this.serializer),t.addTarget=function(a,c){let g;const v=c.target;if(g=Ad(v)?{documents:Gb(a,v)}:{query:oh(a,v)},g.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){g.resumeToken=function x_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}(a,c.resumeToken);const S=ap(a,c.expectedCount);null!==S&&(g.expectedCount=S)}else if(c.snapshotVersion.compareTo(Nn.min())>0){g.readTime=function td(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(a,c.snapshotVersion.toTimestamp());const S=ap(a,c.expectedCount);null!==S&&(g.expectedCount=S)}return g}(this.serializer,e);const r=function k0(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.n_(t)}h_(e){const t={};t.database=nd(this.serializer),t.removeTarget=e,this.n_(t)}}class cS extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.R_=!1}V_(){if(this.R_)throw new Kt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.bo(e,t,r,s,a)).catch(s=>{throw"FirebaseError"===s.name?(s.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Kt(pt.UNKNOWN,s.toString())})}Fo(e,t,r,s){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Fo(e,t,r,a,c,s)).catch(a=>{throw"FirebaseError"===a.name?(a.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Kt(pt.UNKNOWN,a.toString())})}terminate(){this.R_=!0}}class Q_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Dn(t),this.p_=!1):it("OnlineStateTracker",t)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class Y0{constructor(e,t,r,s,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=a,this.x_.so(g=>{r.enqueueAndForget((0,be.Z)(function*(){var v;ju(c)&&(it("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,be.Z)(function*(F){const K=$t(F);K.F_.add(4),yield ph(K),K.O_.set("Unknown"),K.F_.delete(4),yield Qg(K)}),function S(F){return v.apply(this,arguments)})(c))}))}),this.O_=new Q_(r,s)}}function Qg(n){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,be.Z)(function*(n){if(ju(n))for(const e of n.M_)yield e(!0)}),Z_.apply(this,arguments)}function ph(n){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,be.Z)(function*(n){for(const e of n.M_)yield e(!1)}),Ip.apply(this,arguments)}function J_(n,e){const t=$t(n);t.v_.has(e.targetId)||(t.v_.set(e.targetId,e),J0(t)?Xb(t):tu(t).Yo()&&Q0(t,e))}function Tp(n,e){const t=$t(n),r=tu(t);t.v_.delete(e),r.Yo()&&Z0(t,e),0===t.v_.size&&(r.Yo()?r.e_():ju(t)&&t.O_.set("Unknown"))}function Q0(n,e){if(n.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tu(n).l_(e)}function Z0(n,e){n.N_.Le(e),tu(n).h_(e)}function Xb(n){n.N_=new Ub({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.v_.get(e)||null,st:()=>n.datastore.serializer.databaseId}),tu(n).start(),n.O_.y_()}function J0(n){return ju(n)&&!tu(n).Jo()&&n.v_.size>0}function ju(n){return 0===$t(n).F_.size}function e1(n){n.N_=void 0}function Dp(n){return ff.apply(this,arguments)}function ff(){return ff=(0,be.Z)(function*(n){n.v_.forEach((e,t)=>{Q0(n,e)})}),ff.apply(this,arguments)}function uS(n,e){return X_.apply(this,arguments)}function X_(){return X_=(0,be.Z)(function*(n,e){e1(n),J0(n)?(n.O_.b_(e),Xb(n)):n.O_.set("Unknown")}),X_.apply(this,arguments)}function dS(n,e,t){return X0.apply(this,arguments)}function X0(){return X0=(0,be.Z)(function*(n,e,t){if(n.O_.set("Online"),e instanceof Zh&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(a,c){const g=c.cause;for(const v of c.targetIds)a.v_.has(v)&&(yield a.remoteSyncer.rejectListen(v,g),a.v_.delete(v),a.N_.removeTarget(v))}),function s(a,c){return r.apply(this,arguments)})(n,e)}catch(r){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ey(n,r)}else if(e instanceof Qh?n.N_.Ge(e):e instanceof A0?n.N_.Xe(e):n.N_.He(e),!t.isEqual(Nn.min()))try{const r=yield Kb(n.localStore);t.compareTo(r)>=0&&(yield function(a,c){const g=a.N_._t(c);return g.targetChanges.forEach((v,S)=>{if(v.resumeToken.approximateByteSize()>0){const F=a.v_.get(S);F&&a.v_.set(S,F.withResumeToken(v.resumeToken,c))}}),g.targetMismatches.forEach((v,S)=>{const F=a.v_.get(v);if(!F)return;a.v_.set(v,F.withResumeToken(Oo.EMPTY_BYTE_STRING,F.snapshotVersion)),Z0(a,v);const K=new Nu(F.target,v,S,F.sequenceNumber);Q0(a,K)}),a.remoteSyncer.applyRemoteEvent(g)}(n,t))}catch(r){it("RemoteStore","Failed to raise snapshot:",r),yield ey(n,r)}var r}),X0.apply(this,arguments)}function ey(n,e,t){return ty.apply(this,arguments)}function ty(){return ty=(0,be.Z)(function*(n,e,t){if(!Dc(e))throw e;n.F_.add(1),yield ph(n),n.O_.set("Offline"),t||(t=()=>Kb(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){it("RemoteStore","Retrying IndexedDB access"),yield t(),n.F_.delete(1),yield Qg(n)}))}),ty.apply(this,arguments)}function Tu(n,e){return ry.apply(this,arguments)}function ry(){return ry=(0,be.Z)(function*(n,e){const t=$t(n);t.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const r=ju(t);t.F_.add(3),yield ph(t),r&&t.O_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.F_.delete(3),yield Qg(t)}),ry.apply(this,arguments)}function Zg(){return Zg=(0,be.Z)(function*(n,e){const t=$t(n);e?(t.F_.delete(2),yield Qg(t)):e||(t.F_.add(2),yield ph(t),t.O_.set("Unknown"))}),Zg.apply(this,arguments)}function tu(n){return n.B_||(n.B_=function(t,r,s){const a=$t(t);return a.V_(),new Jb(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Io:Dp.bind(null,n),Eo:uS.bind(null,n),c_:dS.bind(null,n)}),n.M_.push(function(){var e=(0,be.Z)(function*(t){t?(n.B_.Xo(),J0(n)?Xb(n):n.O_.set("Unknown")):(yield n.B_.stop(),e1(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}class iE{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const c=Date.now()+r,g=new iE(e,t,c,s,a);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Kt(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(n,e){if(Dn("AsyncQueue",`${e}: ${n}`),Dc(n))return new Kt(pt.UNAVAILABLE,`${e}: ${n}`);throw n}class Sp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Xu(),this.sortedSet=new Vs(this.comparator)}static emptySet(e){return new Sp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Sp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class iy{constructor(){this.k_=new Vs(Ye.comparator)}track(e){const t=e.doc.key,r=this.k_.get(t);r?0!==e.type&&3===r.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==r.type?this.k_=this.k_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.k_=this.k_.remove(t):1===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):en():this.k_=this.k_.insert(t,e)}q_(){const e=[];return this.k_.inorderTraversal((t,r)=>{e.push(r)}),e}}class yc{constructor(e,t,r,s,a,c,g,v,S){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=S}static fromInitialDocuments(e,t,r,s,a){const c=[];return t.forEach(g=>{c.push({type:0,doc:g})}),new yc(e,t,Sp.emptySet(t),c,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class d1{constructor(){this.Q_=void 0,this.listeners=[]}}class fS{constructor(){this.queries=new Nc(e=>vu(e),Sl),this.onlineState="Unknown",this.K_=new Set}}function qa(){return qa=(0,be.Z)(function*(n,e){const t=$t(n),r=e.query;let s=!1,a=t.queries.get(r);if(a||(s=!0,a=new d1),s)try{a.Q_=yield t.onListen(r)}catch(c){const g=Jg(c,`Initialization of query '${Zc(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,a),a.listeners.push(e),e.U_(t.onlineState),a.Q_&&e.W_(a.Q_)&&em(t)}),qa.apply(this,arguments)}function Xg(){return Xg=(0,be.Z)(function*(n,e){const t=$t(n),r=e.query;let s=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),s=0===a.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),Xg.apply(this,arguments)}function pS(n,e){const t=$t(n);let r=!1;for(const s of e){const c=t.queries.get(s.query);if(c){for(const g of c.listeners)g.W_(s)&&(r=!0);c.Q_=s}}r&&em(t)}function gS(n,e,t){const r=$t(n),s=r.queries.get(e);if(s)for(const a of s.listeners)a.onError(t);r.queries.delete(e)}function em(n){n.K_.forEach(e=>{e.next()})}class sy{constructor(e,t,r){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){return!e.fromCache||(!this.options.Z_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class m1{constructor(e){this.key=e}}class _1{constructor(e){this.key=e}}class y1{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=vi(),this.mutatedKeys=vi(),this.ua=mc(e),this.ca=new Sp(this.ua)}get la(){return this.oa}ha(e,t){const r=t?t.Pa:new iy,s=t?t.ca:this.ca;let a=t?t.mutatedKeys:this.mutatedKeys,c=s,g=!1;const v="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,S="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((F,K)=>{const he=s.get(F),Ae=Pc(this.query,K)?K:null,ct=!!he&&this.mutatedKeys.has(he.key),At=!!Ae&&(Ae.hasLocalMutations||this.mutatedKeys.has(Ae.key)&&Ae.hasCommittedMutations);let Mt=!1;he&&Ae?he.data.isEqual(Ae.data)?ct!==At&&(r.track({type:3,doc:Ae}),Mt=!0):this.Ia(he,Ae)||(r.track({type:2,doc:Ae}),Mt=!0,(v&&this.ua(Ae,v)>0||S&&this.ua(Ae,S)<0)&&(g=!0)):!he&&Ae?(r.track({type:0,doc:Ae}),Mt=!0):he&&!Ae&&(r.track({type:1,doc:he}),Mt=!0,(v||S)&&(g=!0)),Mt&&(Ae?(c=c.add(Ae),a=At?a.add(F):a.delete(F)):(c=c.delete(F),a=a.delete(F)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const F="F"===this.query.limitType?c.last():c.first();c=c.delete(F.key),a=a.delete(F.key),r.track({type:1,doc:F})}return{ca:c,Pa:r,es:g,mutatedKeys:a}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const a=e.Pa.q_();a.sort((S,F)=>function(he,Ae){const ct=At=>{switch(At){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return ct(he)-ct(Ae)}(S.type,F.type)||this.ua(S.doc,F.doc)),this.da(r);const c=t?this.Ta():[],g=0===this.aa.size&&this.current?1:0,v=g!==this._a;return this._a=g,0!==a.length||v?{snapshot:new yc(this.query,e.ca,s,a,e.mutatedKeys,0===g,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:c}:{Ea:c}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new iy,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(t=>this.oa=this.oa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.oa=this.oa.delete(t)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=vi(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const t=[];return e.forEach(r=>{this.aa.has(r)||t.push(new _1(r))}),this.aa.forEach(r=>{e.has(r)||t.push(new m1(r))}),t}Ra(e){this.oa=e.Ps,this.aa=vi();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return yc.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class v1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ap{constructor(e){this.key=e,this.ma=!1}}class Pd{constructor(e,t,r,s,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.fa={},this.ga=new Nc(g=>vu(g),Sl),this.pa=new Map,this.ya=new Set,this.wa=new Vs(Ye.comparator),this.Sa=new Map,this.ba=new L_,this.Da={},this.Ca=new Map,this.va=Vu.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function Cp(n,e){return aE.apply(this,arguments)}function aE(){return aE=(0,be.Z)(function*(n,e){const t=function _E(n){const e=$t(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=S1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mS.bind(null,e),e.fa.c_=pS.bind(null,e.eventManager),e.fa.xa=gS.bind(null,e.eventManager),e}(n);let r,s;const a=t.ga.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),s=a.view.Va();else{const c=yield function _p(n,e){const t=$t(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Kr.getTargetData(r,e).next(a=>a?(s=a,Et.resolve(s)):t.Kr.allocateTargetId(r).next(c=>(s=new Nu(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Kr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.rs.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.rs=t.rs.insert(r.targetId,r),t.ss.set(e,r.targetId)),r})}(t.localStore,Sn(e)),g=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=yield function lE(n,e,t,r,s){return oy.apply(this,arguments)}(t,e,r,"current"===g,c.resumeToken),t.isPrimaryClient&&J_(t.remoteStore,c)}return s}),aE.apply(this,arguments)}function oy(){return oy=(0,be.Z)(function*(n,e,t,r,s){n.Ma=(K,he,Ae)=>{return(ct=(0,be.Z)(function*(Mt,Cn,Gn,Pn){let Gr=Cn.view.ha(Gn);Gr.es&&(Gr=yield Gg(Mt.localStore,Cn.query,!1).then(({documents:Us})=>Cn.view.ha(Us,Gr)));const si=Pn&&Pn.targetChanges.get(Cn.targetId),Hr=Cn.view.applyChanges(Gr,Mt.isPrimaryClient,si);return I1(Mt,Cn.targetId,Hr.Ea),Hr.snapshot}),function At(Mt,Cn,Gn,Pn){return ct.apply(this,arguments)})(n,K,he,Ae);var ct};const a=yield Gg(n.localStore,e,!0),c=new y1(e,a.Ps),g=c.ha(a.documents),v=sh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),S=c.applyChanges(g,n.isPrimaryClient,v);I1(n,t,S.Ea);const F=new v1(e,t,c);return n.ga.set(e,F),n.pa.has(t)?n.pa.get(t).push(e):n.pa.set(t,[e]),S.snapshot}),oy.apply(this,arguments)}function E1(n,e){return tm.apply(this,arguments)}function tm(){return tm=(0,be.Z)(function*(n,e){const t=$t(n),r=t.ga.get(e),s=t.pa.get(r.targetId);if(s.length>1)return t.pa.set(r.targetId,s.filter(a=>!Sl(a,e))),void t.ga.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Tp(t.remoteStore,r.targetId),rm(t,r.targetId)}).catch(qs))):(rm(t,r.targetId),yield yp(t.localStore,r.targetId,!0))}),tm.apply(this,arguments)}function cE(n,e){return ay.apply(this,arguments)}function ay(){return ay=(0,be.Z)(function*(n,e){const t=$t(n);try{const r=yield function Yb(n,e){const t=$t(n),r=e.snapshotVersion;let s=t.rs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t._s.newChangeBuffer({trackRemovals:!0});s=t.rs;const g=[];e.targetChanges.forEach((F,K)=>{const he=s.get(K);if(!he)return;g.push(t.Kr.removeMatchingKeys(a,F.removedDocuments,K).next(()=>t.Kr.addMatchingKeys(a,F.addedDocuments,K)));let Ae=he.withSequenceNumber(a.currentSequenceNumber);var At,Mt,Cn;null!==e.targetMismatches.get(K)?Ae=Ae.withResumeToken(Oo.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):F.resumeToken.approximateByteSize()>0&&(Ae=Ae.withResumeToken(F.resumeToken,r)),s=s.insert(K,Ae),Mt=Ae,Cn=F,(0===(At=he).resumeToken.approximateByteSize()||Mt.snapshotVersion.toMicroseconds()-At.snapshotVersion.toMicroseconds()>=3e8||Cn.addedDocuments.size+Cn.modifiedDocuments.size+Cn.removedDocuments.size>0)&&g.push(t.Kr.updateTargetData(a,Ae))});let v=nl(),S=vi();if(e.documentUpdates.forEach(F=>{e.resolvedLimboDocuments.has(F)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(a,F))}),g.push(function uf(n,e,t){let r=vi(),s=vi();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=nl();return t.forEach((g,v)=>{const S=a.get(g);v.isFoundDocument()!==S.isFoundDocument()&&(s=s.add(g)),v.isNoDocument()&&v.version.isEqual(Nn.min())?(e.removeEntry(g,v.readTime),c=c.insert(g,v)):!S.isValidDocument()||v.version.compareTo(S.version)>0||0===v.version.compareTo(S.version)&&S.hasPendingWrites?(e.addEntry(v),c=c.insert(g,v)):it("LocalStore","Ignoring outdated watch update for ",g,". Current version:",S.version," Watch version:",v.version)}),{ls:c,hs:s}})}(a,c,e.documentUpdates).next(F=>{v=F.ls,S=F.hs})),!r.isEqual(Nn.min())){const F=t.Kr.getLastRemoteSnapshotVersion(a).next(K=>t.Kr.setTargetsMetadata(a,a.currentSequenceNumber,r));g.push(F)}return Et.waitFor(g).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,v,S)).next(()=>v)}).then(a=>(t.rs=s,a))}(t.localStore,e);e.targetChanges.forEach((s,a)=>{const c=t.Sa.get(a);c&&(In(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.ma=!0:s.modifiedDocuments.size>0?In(c.ma):s.removedDocuments.size>0&&(In(c.ma),c.ma=!1))}),yield Nd(t,r,e)}catch(r){yield qs(r)}}),ay.apply(this,arguments)}function w1(n,e,t){const r=$t(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ga.forEach((a,c)=>{const g=c.view.U_(e);g.snapshot&&s.push(g.snapshot)}),function(c,g){const v=$t(c);v.onlineState=g;let S=!1;v.queries.forEach((F,K)=>{for(const he of K.listeners)he.U_(g)&&(S=!0)}),S&&em(v)}(r.eventManager,e),s.length&&r.fa.c_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mS(n,e,t){return uE.apply(this,arguments)}function uE(){return uE=(0,be.Z)(function*(n,e,t){const r=$t(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Sa.get(e),a=s&&s.key;if(a){let c=new Vs(Ye.comparator);c=c.insert(a,ee.newNoDocument(a,Nn.min()));const g=vi().add(a),v=new sp(Nn.min(),new Map,new Vs(Qt),c,g);yield cE(r,v),r.wa=r.wa.remove(a),r.Sa.delete(e),dy(r)}else yield yp(r.localStore,e,!1).then(()=>rm(r,e,t)).catch(qs)}),uE.apply(this,arguments)}function rm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.pa.get(e))n.ga.delete(r),t&&n.fa.xa(r,t);n.pa.delete(e),n.isPrimaryClient&&n.ba.mr(e).forEach(r=>{n.ba.containsKey(r)||im(n,r)})}function im(n,e){n.ya.delete(e.path.canonicalString());const t=n.wa.get(e);null!==t&&(Tp(n.remoteStore,t),n.wa=n.wa.remove(e),n.Sa.delete(t),dy(n))}function I1(n,e,t){for(const r of t)r instanceof m1?(n.ba.addReference(r.key,e),T1(n,r)):r instanceof _1?(it("SyncEngine","Document no longer in limbo: "+r.key),n.ba.removeReference(r.key,e),n.ba.containsKey(r.key)||im(n,r.key)):en()}function T1(n,e){const t=e.key,r=t.path.canonicalString();n.wa.get(t)||n.ya.has(r)||(it("SyncEngine","New document in limbo: "+t),n.ya.add(r),dy(n))}function dy(n){for(;n.ya.size>0&&n.wa.size<n.maxConcurrentLimboResolutions;){const e=n.ya.values().next().value;n.ya.delete(e);const t=new Ye(lr.fromString(e)),r=n.va.next();n.Sa.set(r,new Ap(t)),n.wa=n.wa.insert(t,r),J_(n.remoteStore,new Nu(Sn(k(t.path)),r,"TargetPurposeLimboResolution",P.ae))}}function Nd(n,e,t){return hy.apply(this,arguments)}function hy(){return hy=(0,be.Z)(function*(n,e,t){const r=$t(n),s=[],a=[],c=[];var g;r.ga.isEmpty()||(r.ga.forEach((g,v)=>{c.push(r.Ma(v,e,t).then(S=>{if((S||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,S?.fromCache?"not-current":"current"),S){s.push(S);const F=mp.$i(v.targetId,S);a.push(F)}}))}),yield Promise.all(c),r.fa.c_(s),yield(g=(0,be.Z)(function*(S,F){const K=$t(S);try{yield K.persistence.runTransaction("notifyLocalViewChanges","readwrite",he=>Et.forEach(F,Ae=>Et.forEach(Ae.Qi,ct=>K.persistence.referenceDelegate.addReference(he,Ae.targetId,ct)).next(()=>Et.forEach(Ae.Ki,ct=>K.persistence.referenceDelegate.removeReference(he,Ae.targetId,ct)))))}catch(he){if(!Dc(he))throw he;it("LocalStore","Failed to update sequence numbers: "+he)}for(const he of F){const Ae=he.targetId;if(!he.fromCache){const ct=K.rs.get(Ae),Mt=ct.withLastLimboFreeSnapshotVersion(ct.snapshotVersion);K.rs=K.rs.insert(Ae,Mt)}}}),function v(S,F){return g.apply(this,arguments)})(r.localStore,a))}),hy.apply(this,arguments)}function D1(n,e){return ii.apply(this,arguments)}function ii(){return ii=(0,be.Z)(function*(n,e){const t=$t(n);if(!t.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const r=yield Ug(t.localStore,e);t.currentUser=e,(a=t).Ca.forEach(g=>{g.forEach(v=>{v.reject(new Kt(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ca.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Nd(t,r.cs)}var a}),ii.apply(this,arguments)}function S1(n,e){const t=$t(n),r=t.Sa.get(e);if(r&&r.ma)return vi().add(r.key);{let s=vi();const a=t.pa.get(e);if(!a)return s;for(const c of a){const g=t.ga.get(c);s=s.unionWith(g.view.la)}return s}}class my{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.serializer=Yg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Uu(n,e,t,r){return new z_(n,e,t,r)}(this.persistence,new H_,e.initialUser,this.serializer)}createPersistence(e){return new V_($0.Jr,this.serializer)}createSharedClientState(e){return new wp}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gf{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>w1(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=D1.bind(null,r.syncEngine),yield function u1(n,e){return Zg.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fS}createDatastore(e){const t=Yg(e.databaseInfo.databaseId),r=new qg(e.databaseInfo);return new cS(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,s=this.datastore,a=e.asyncQueue,c=t=>w1(this.syncEngine,t,0),g=hf.C()?new hf:new K_,new Y0(r,s,a,c,g);var r,s,a,c,g}createSyncEngine(e,t){return function(s,a,c,g,v,S,F){const K=new Pd(s,a,c,g,v,S);return F&&(K.Fa=!0),K}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(r){const s=$t(r);it("RemoteStore","RemoteStore shutting down."),s.F_.add(5),yield ph(s),s.x_.shutdown(),s.O_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class _y{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Dn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wR{constructor(e,t,r,s){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Se.UNAUTHENTICATED,this.clientId=tr.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,be.Z)(function*(g){it("FirestoreClient","Received user=",g.uid),yield a.authCredentialListener(g),a.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(it("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Kt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Jg(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function Rp(n,e){return yy.apply(this,arguments)}function yy(){return yy=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,be.Z)(function*(a){r.isEqual(a)||(yield Ug(e.localStore,a),r=a)});return function(a){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),yy.apply(this,arguments)}function vE(n,e){return EE.apply(this,arguments)}function EE(){return EE=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function vy(n){return wE.apply(this,arguments)}(n);it("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>Tu(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>Tu(e.remoteStore,a)),n._onlineComponents=e}),EE.apply(this,arguments)}function wE(){return wE=(0,be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){it("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Rp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function M1(n){return"FirebaseError"===n.name?n.code===pt.FAILED_PRECONDITION||n.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;En("Error using user provided cache. Falling back to memory cache: "+t),yield Rp(n,new my)}}else it("FirestoreClient","Using default OfflineComponentProvider"),yield Rp(n,new my);return n._offlineComponents}),wE.apply(this,arguments)}function am(){return am=(0,be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(it("FirestoreClient","Using user provided OnlineComponentProvider"),yield vE(n,n._uninitializedComponentsProvider._online)):(it("FirestoreClient","Using default OnlineComponentProvider"),yield vE(n,new gf))),n._onlineComponents}),am.apply(this,arguments)}function vc(n){return lm.apply(this,arguments)}function lm(){return lm=(0,be.Z)(function*(n){const e=yield function Ey(n){return am.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=Cp.bind(null,e.syncEngine),t.onUnlisten=E1.bind(null,e.syncEngine),t}),lm.apply(this,arguments)}function wy(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const od=new Map;function Qi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Kt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function um(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":en()}(n);throw new Kt(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Mp{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Kt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Kt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function DS(n,e,t,r){if(!0===e&&!0===r)throw new Kt(pt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=wy(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Kt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Kt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Kt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Kt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Kt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mp(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new fa;switch(r.type){case"firstParty":return new Ma(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Kt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=od.get(t);r&&(it("ComponentProvider","Removing Datastore"),od.delete(t),r.terminate())}(this),Promise.resolve()}}class Xl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xl(this.firestore,e,this._query)}}class La{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new La(this.firestore,e,this._key)}}class $u extends Xl{constructor(e,t,r){super(e,t,k(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new La(this.firestore,null,new Ye(e))}withConverter(e){return new $u(this.firestore,e,this._path)}}class hm{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new W0(this,"async_queue_retry"),this.ou=()=>{const t=Kg();t&&it("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Ho.$o()};const e=Kg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const t=Kg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const t=new yi;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return(0,be.Z)(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(t){if(!Dc(t))throw t;it("AsyncQueue","Operation failed with retryable error: "+t)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const t=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,Dn("INTERNAL UNHANDLED ERROR: ",function(c){let g=c.message||"";return c.stack&&(g=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),g}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=t,t}enqueueAfterDelay(e,t,r){this._u(),this.su.indexOf(e)>-1&&(t=0);const s=iE.createAndSchedule(this,e,t,r,a=>this.cu(a));return this.tu.push(s),s}_u(){this.nu&&en()}verifyOperationInProgress(){}lu(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Za,yield t}while(t!==e.Za)})()}hu(e){for(const t of this.tu)if(t.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const t=this.tu.indexOf(e);this.tu.splice(t,1)}}function AE(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const s=t;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class jo extends Pp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new hm,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||H1(this),this._firestoreClient.terminate()}}function H1(n){var e,t,r;const s=n._freezeSettings(),a=(v=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Wc(n._databaseId,v,n._persistenceKey,(F=s).host,F.ssl,F.experimentalForceLongPolling,F.experimentalAutoDetectLongPolling,wy(F.experimentalLongPollingOptions),F.useFetchStreams));var v,F;n._firestoreClient=new wR(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=s.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}class mf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mf(Oo.fromBase64String(e))}catch(t){throw new Kt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mf(Oo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Np{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Kt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Kt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Kt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const kp=new RegExp("[~\\*/\\[\\]]");function Vd(n,e,t,r,s){const a=r&&!r.isEmpty(),c=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(a||c)&&(v+=" (found",a&&(v+=` in field ${r}`),c&&(v+=` in document ${s}`),v+=")"),new Kt(pt.INVALID_ARGUMENT,g+n+v)}class Eh{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new La(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Y1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ym("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Y1 extends Eh{data(){return super.data()}}function ym(n,e){return"string"==typeof e?function Ld(n,e,t){if(e.search(kp)>=0)throw Vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Np(...e.split("."))._internalPath}catch{throw Vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof Np?e._internalPath:e._delegate._internalPath}class LS{convertValue(e,t="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ks(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw en()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return dc(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new Dy(Ks(e.latitude),Ks(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Rc(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const t=Uo(e);return new Xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=lr.fromString(e);In(dp(r));const s=new Bl(r.get(1),r.get(3)),a=new Ye(r.popFirst(5));return s.isEqual(t)||Dn(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class cd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Em extends Eh{constructor(e,t,r,s,a,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ym("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Oy extends Em{data(e={}){return super.data(e)}}class Bp{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new cd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Oy(this._firestore,this._userDataWriter,r.key,r,new cd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Kt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new Oy(s._firestore,s._userDataWriter,g.doc.key,g.doc,new cd(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>a||3!==g.type).map(g=>{const v=new Oy(s._firestore,s._userDataWriter,g.doc.key,g.doc,new cd(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let S=-1,F=-1;return 0!==g.type&&(S=c.indexOf(g.doc.key),c=c.delete(g.doc.key)),1!==g.type&&(c=c.add(g.doc),F=c.indexOf(g.doc.key)),{type:LE(g.type),doc:v,oldIndex:S,newIndex:F}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function LE(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}class wh extends LS{constructor(e){super(),this.firestore=e}convertBytes(e){return new mf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new La(this.firestore,null,t)}}!function(e,t=!0){Ue=lt.Jn,(0,lt.Xd)(new We.wA("firestore",(r,{instanceIdentifier:s,options:a})=>{const c=r.getProvider("app").getImmediate(),g=new jo(new kl(r.getProvider("auth-internal")),new Er(r.getProvider("app-check-internal")),function(S,F){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new Kt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(S.options.projectId,F)}(c,s),c);return a=Object.assign({useFetchStreams:t},a),g._setSettings(a),g},"PUBLIC").setMultipleInstances(!0)),(0,lt.KN)(ve,"4.2.0",e),(0,lt.KN)(ve,"4.2.0","esm2017")}();var oA=W(5592),ky=W(7398),dd=function(){return dd=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},dd.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var aA={includeMetadataChanges:!1};function bm(n,e){return void 0===e&&(e=aA),new oA.y(function(t){var r=function VE(n,...e){var t,r,s;n=(0,Oe.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||AE(e[c])||(a=e[c],c++);const g={includeMetadataChanges:a.includeMetadataChanges};if(AE(e[c])){const K=e[c];e[c]=null===(t=K.next)||void 0===t?void 0:t.bind(K),e[c+1]=null===(r=K.error)||void 0===r?void 0:r.bind(K),e[c+2]=null===(s=K.complete)||void 0===s?void 0:s.bind(K)}let v,S,F;if(n instanceof La)S=Qi(n.firestore,jo),F=k(n._key.path),v={next:K=>{e[c]&&e[c](function Up(n,e,t){const r=t.docs.get(e._key),s=new wh(n);return new Em(n,s,e._key,r,new cd(t.hasPendingWrites,t.fromCache),e.converter)}(S,n,K))},error:e[c+1],complete:e[c+2]};else{const K=Qi(n,Xl);S=Qi(K.firestore,jo),F=K._query;const he=new wh(S);v={next:Ae=>{e[c]&&e[c](new Bp(S,he,K,Ae))},error:e[c+1],complete:e[c+2]},function PE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Kt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(he,Ae,ct,At){const Mt=new _y(At),Cn=new sy(Ae,Mt,ct);return he.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function h1(n,e){return qa.apply(this,arguments)}(yield vc(he),Cn)})),()=>{Mt.La(),he.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function sE(n,e){return Xg.apply(this,arguments)}(yield vc(he),Cn)}))}}(function Va(n){return n._firestoreClient||H1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(S),F,g,v)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function cA(n,e){return void 0===e&&(e={}),function mI(n){return bm(n,{includeMetadataChanges:!0}).pipe((0,ky.U)(function(e){return e.docs}))}(n).pipe((0,ky.U)(function(t){return t.map(function(r){return function cI(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?dd(dd({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}var Xn,jp=W(7592),_I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hd={},Tm=Tm||{},$r=_I||self;function Fy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function $p(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var iu="closure_uid_"+(1e9*Math.random()>>>0),Gu=0;function yI(n,e,t){return n.call.apply(n.bind,arguments)}function vI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function tc(n,e,t){return(tc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yI:vI).apply(null,arguments)}function Ly(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function xl(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,a){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[s].apply(r,c)}}function Ih(){this.s=this.s,this.o=this.o}Ih.prototype.s=!1,Ih.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function fd(n){Object.prototype.hasOwnProperty.call(n,iu)&&n[iu]||(n[iu]=++Gu)}(this)},Ih.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Gp=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function QE(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ZE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Fy(r)){const s=n.length||0,a=r.length||0;n.length=s+a;for(let c=0;c<a;c++)n[s+c]=r[c]}else n.push(r)}}function nc(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}nc.prototype.h=function(){this.defaultPrevented=!0};var hA=function(){if(!$r.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$r.addEventListener("test",()=>{},e),$r.removeEventListener("test",()=>{},e)}catch{}return n}();function Hp(n){return/^[\s\xa0]*$/.test(n)}function Dm(){var n=$r.navigator;return n&&(n=n.userAgent)?n:""}function su(n){return-1!=Dm().indexOf(n)}function JE(n){return JE[" "](n),n}JE[" "]=function(){};var Uy,wI=su("Opera"),bf=su("Trident")||su("MSIE"),bI=su("Edge"),XE=bI||bf,Vy=su("Gecko")&&!(-1!=Dm().toLowerCase().indexOf("webkit")&&!su("Edge"))&&!(su("Trident")||su("MSIE"))&&!su("Edge"),By=-1!=Dm().toLowerCase().indexOf("webkit")&&!su("Edge");function ew(){var n=$r.document;return n?n.documentMode:void 0}e:{var jy="",$y=function(){var n=Dm();return Vy?/rv:([^\);]+)(\)|;)/.exec(n):bI?/Edge\/([\d\.]+)/.exec(n):bf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):By?/WebKit\/(\S+)/.exec(n):wI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if($y&&(jy=$y?$y[1]:""),bf){var Gy=ew();if(null!=Gy&&Gy>parseFloat(jy)){Uy=String(Gy);break e}}Uy=jy}var II=$r.document&&bf&&(ew()||parseInt(Uy,10))||void 0;function Sm(n,e){if(nc.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Vy){e:{try{JE(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sm.$.h.call(this)}}xl(Sm,nc);var fA={2:"touch",3:"pen",4:"mouse"};Sm.prototype.h=function(){Sm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Am="closure_listenable_"+(1e6*Math.random()|0),pA=0;function gA(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++pA,this.fa=this.ia=!1}function zy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function nw(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function TI(n){const e={};for(const t in n)e[t]=n[t];return e}const DI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SI(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let a=0;a<DI.length;a++)t=DI[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Wy(n){this.src=n,this.g={},this.h=0}function rw(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],s=Gp(r,e);(a=0<=s)&&Array.prototype.splice.call(r,s,1),a&&(zy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function iw(n,e,t,r){for(var s=0;s<n.length;++s){var a=n[s];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return s}return-1}Wy.prototype.add=function(n,e,t,r,s){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=iw(n,e,r,s);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new gA(e,this.src,a,!!r,s)).ia=t,n.push(e)),e};var sw="closure_lm_"+(1e6*Math.random()|0),ow={};function AI(n,e,t,r,s){if(r&&r.once)return aw(n,e,t,r,s);if(Array.isArray(e)){for(var a=0;a<e.length;a++)AI(n,e[a],t,r,s);return null}return t=Qy(t),n&&n[Am]?n.O(e,t,$p(r)?!!r.capture:!!r,s):CI(n,e,t,!1,r,s)}function CI(n,e,t,r,s,a){if(!e)throw Error("Invalid event type");var c=$p(s)?!!s.capture:!!s,g=Ky(n);if(g||(n[sw]=g=new Wy(n)),(t=g.add(e,t,r,c,a)).proxy)return t;if(r=function xI(){const e=RI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hA||(s=c),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(cw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function aw(n,e,t,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)aw(n,e[a],t,r,s);return null}return t=Qy(t),n&&n[Am]?n.P(e,t,$p(r)?!!r.capture:!!r,s):CI(n,e,t,!0,r,s)}function lw(n,e,t,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)lw(n,e[a],t,r,s);else r=$p(r)?!!r.capture:!!r,t=Qy(t),n&&n[Am]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=iw(a=n.g[e],t,r,s))&&(zy(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Ky(n))&&(e=n.g[e.toString()],n=-1,e&&(n=iw(e,t,r,s)),(t=-1<n?e[n]:null)&&qy(t))}function qy(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Am])rw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(cw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ky(e))?(rw(t,n),0==t.h&&(t.src=null,e[sw]=null)):zy(n)}}}function cw(n){return n in ow?ow[n]:ow[n]="on"+n}function RI(n,e){if(n.fa)n=!0;else{e=new Sm(e,this);var t=n.listener,r=n.la||n.src;n.ia&&qy(n),n=t.call(r,e)}return n}function Ky(n){return(n=n[sw])instanceof Wy?n:null}var Yy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qy(n){return"function"==typeof n?n:(n[Yy]||(n[Yy]=function(e){return n.handleEvent(e)}),n[Yy])}function Ka(){Ih.call(this),this.i=new Wy(this),this.S=this,this.J=null}function Rl(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new nc(e,n);else if(e instanceof nc)e.target=e.target||n;else{var s=e;SI(e=new nc(r,n),s)}if(s=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];s=pd(c,r,!0,e)&&s}if(s=pd(c=e.g=n,r,!0,e)&&s,s=pd(c,r,!1,e)&&s,t)for(a=0;a<t.length;a++)s=pd(c=e.g=t[a],r,!1,e)&&s}function pd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var g=c.listener,v=c.la||c.src;c.ia&&rw(n.i,c),s=!1!==g.call(v,r)&&s}}return s&&!r.defaultPrevented}xl(Ka,Ih),Ka.prototype[Am]=!0,Ka.prototype.removeEventListener=function(n,e,t,r){lw(this,n,e,t,r)},Ka.prototype.N=function(){if(Ka.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)zy(t[r]);delete n.g[e],n.h--}}this.J=null},Ka.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ka.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var uw=$r.JSON.stringify;function zp(){var n=dw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Zy=new class _A{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new QR,n=>n.reset());class QR{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function OI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function MI(n){$r.setTimeout(()=>{throw n},0)}let Jy,gd=!1,dw=new class YR{constructor(){this.h=this.g=null}add(e,t){const r=Zy.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},PI=()=>{const n=$r.Promise.resolve(void 0);Jy=()=>{n.then(yA)}};var yA=()=>{for(var n;n=zp();){try{n.h.call(n.g)}catch(t){MI(t)}var e=Zy;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gd=!1};function Bd(n,e){Ka.call(this),this.h=n||1,this.g=e||$r,this.j=tc(this.qb,this),this.l=Date.now()}function hw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Wp(n,e,t){if("function"==typeof n)t&&(n=tc(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=tc(n.handleEvent,n)}return 2147483647<Number(e)?-1:$r.setTimeout(n,e||0)}function Cm(n){n.g=Wp(()=>{n.g=null,n.i&&(n.i=!1,Cm(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xl(Bd,Ka),(Xn=Bd.prototype).ga=!1,Xn.T=null,Xn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rl(this,"tick"),this.ga&&(hw(this),this.start()))}},Xn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Xn.N=function(){Bd.$.N.call(this),hw(this),delete this.g};class Vc extends Ih{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cm(this)}N(){super.N(),this.g&&($r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xy(n){Ih.call(this),this.h=n,this.g={}}xl(Xy,Ih);var fw=[];function pw(n,e,t,r){Array.isArray(t)||(t&&(fw[0]=t.toString()),t=fw);for(var s=0;s<t.length;s++){var a=AI(e,t[s],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function NI(n){nw(n.g,function(e,t){this.g.hasOwnProperty(t)&&qy(e)},n),n.g={}}function xm(){this.g=!0}function If(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function EA(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<s.length;c++)s[c]=""}}}return uw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Xy.prototype.N=function(){Xy.$.N.call(this),NI(this)},Xy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xm.prototype.Ea=function(){this.g=!1},xm.prototype.info=function(){};var Tf={},qp=null;function ev(){return qp=qp||new Ka}function LI(n){nc.call(this,Tf.Ta,n)}function Rm(n){const e=ev();Rl(e,new LI(e))}function Om(n,e){nc.call(this,Tf.STAT_EVENT,n),this.stat=e}function rc(n){const e=ev();Rl(e,new Om(e,n))}function gw(n,e){nc.call(this,Tf.Ua,n),this.size=e}function Kp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $r.setTimeout(function(){n()},e)}Tf.Ta="serverreachability",xl(LI,nc),Tf.STAT_EVENT="statevent",xl(Om,nc),Tf.Ua="timingevent",xl(gw,nc);var tv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Df(){}function BI(){}Df.prototype.h=null;var iv,Mm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function nv(){nc.call(this,"d")}function rv(){nc.call(this,"c")}function sv(){}function Qp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Xy(this),this.P=wA,this.V=new Bd(n=XE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new UI}function UI(){this.i=null,this.g="",this.h=!1}xl(nv,nc),xl(rv,nc),xl(sv,Df),sv.prototype.g=function(){return new XMLHttpRequest},sv.prototype.i=function(){return{}},iv=new sv;var wA=45e3,jI={},mw={};function $I(n,e,t){n.L=1,n.v=av(ou(e)),n.s=t,n.S=!0,bA(n,null)}function bA(n,e){n.G=Date.now(),Nm(n),n.A=ou(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),YI(t.i,"t",r),n.C=0,t=n.l.J,n.h=new UI,n.g=uT(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Vc(tc(n.Pa,n,n.g),n.O)),pw(n.U,n.g,"readystatechange",n.nb),e=n.I?TI(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Rm(),function kI(n,e,t,r,s,a){n.info(function(){if(n.g)if(a)for(var c="",g=a.split("&"),v=0;v<g.length;v++){var S=g[v].split("=");if(1<S.length){var F=S[0];S=S[1];var K=F.split("_");c=2<=K.length&&"type"==K[1]?c+(F+"=")+S+"&":c+(F+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function _w(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Pm(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=IA(n,t),s==mw){4==e&&(n.o=4,rc(14),r=!1),If(n.j,n.m,null,"[Incomplete Response]");break}if(s==jI){n.o=4,rc(15),If(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}If(n.j,n.m,s,null),vw(n,s)}_w(n)&&s!=mw&&s!=jI&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,rc(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),oT(e),e.M=!0,rc(11))):(If(n.j,n.m,t,"[Invalid Chunked Response]"),Sf(n),km(n))}function IA(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?mw:(t=Number(e.substring(t,r)),isNaN(t)?jI:(r+=1)+t>e.length?mw:(e=e.slice(r,r+t),n.C=r+t,e))}function Nm(n){n.Y=Date.now()+n.P,yw(n,n.P)}function yw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kp(tc(n.lb,n),e)}function Th(n){n.B&&($r.clearTimeout(n.B),n.B=null)}function km(n){0==n.l.H||n.J||lT(n.l,n)}function Sf(n){Th(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,hw(n.V),NI(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function vw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||lv(t.i,n)))if(!n.K&&lv(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;bv(t),vv(t)}Rw(t),rc(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Kp(tc(t.ib,t),6e3));if(1>=JI(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Dh(t,11)}else if((n.K||t.g==n)&&bv(t),!Hp(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let S=s[e];if(t.V=S[0],S=S[1],2==t.H)if("c"==S[0]){t.K=S[1],t.pa=S[2];const F=S[3];null!=F&&(t.ra=F,t.l.info("VER="+t.ra));const K=S[4];null!=K&&(t.Ga=K,t.l.info("SVER="+t.Ga));const he=S[5];null!=he&&"number"==typeof he&&0<he&&(t.L=r=1.5*he,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Ae=n.g;if(Ae){const ct=Ae.g?Ae.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ct){var a=r.i;a.g||-1==ct.indexOf("spdy")&&-1==ct.indexOf("quic")&&-1==ct.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(cv(a,a.h),a.h=null))}if(r.F){const At=Ae.g?Ae.g.getResponseHeader("X-HTTP-Session-Id"):null;At&&(r.Da=At,$o(r.I,r.F,At))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=cT(r,r.J?r.pa:null,r.Y),c.K){Iw(r.i,c);var g=c,v=r.L;v&&g.setTimeout(v),g.B&&(Th(g),Nm(g)),r.g=c}else sT(r);0<t.j.length&&Ev(t)}else"stop"!=S[0]&&"close"!=S[0]||Dh(t,7);else 3==t.H&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Dh(t,7):yv(t):"noop"!=S[0]&&t.h&&t.h.Aa(S),t.A=0)}Rm()}catch{}}function GI(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Fy(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ZR(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Fy(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TA(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Fy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,a=0;a<s;a++)e.call(void 0,r[a],t&&t[a],n)}(Xn=Qp.prototype).setTimeout=function(n){this.P=n},Xn.nb=function(n){n=n.target;const e=this.M;e&&3==Hu(n)?e.l():this.Pa(n)},Xn.Pa=function(n){try{if(n==this.g)e:{const F=Hu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>F)&&(3!=F||XE||this.g&&(this.h.h||this.g.ja()||nT(this.g)))){this.J||4!=F||7==e||Rm(),Th(this);var t=this.g.da();this.ca=t;t:if(_w(this)){var r=nT(this.g);n="";var s=r.length,a=4==Hu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Sf(this),km(this);var c="";break t}this.h.i=new $r.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function FI(n,e,t,r,s,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,F,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,v=this.g;if((g=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hp(g)){var S=g;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,rc(12),Sf(this),km(this);break e}If(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vw(this,t)}this.S?(Pm(this,F,c),XE&&this.i&&3==F&&(pw(this.U,this.V,"tick",this.mb),this.V.start())):(If(this.j,this.m,c,null),vw(this,c)),4==F&&Sf(this),this.i&&!this.J&&(4==F?lT(this.l,this):(this.i=!1,Nm(this)))}else(function rT(n){const e={};n=(n.g&&2<=Hu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Hp(n[r]))continue;var t=OI(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[s]||[];e[s]=a,a.push(t)}!function mA(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,rc(12)):(this.o=0,rc(13)),Sf(this),km(this)}}}catch{}},Xn.mb=function(){if(this.g){var n=Hu(this.g),e=this.g.ja();this.C<e.length&&(Th(this),Pm(this,n,e),this.i&&4!=n&&Nm(this))}},Xn.cancel=function(){this.J=!0,Sf(this)},Xn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vA(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Rm(),rc(17)),Sf(this),this.o=2,km(this)):yw(this,this.Y-n)};var Ew=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Af(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Af){this.h=n.h,ov(this,n.j),this.s=n.s,this.g=n.g,Fm(this,n.m),this.l=n.l;var e=n.i,t=new Vm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),HI(this,t),this.o=n.o}else n&&(e=String(n).match(Ew))?(this.h=!1,ov(this,e[1]||"",!0),this.s=Zp(e[2]||""),this.g=Zp(e[3]||"",!0),Fm(this,e[4]),this.l=Zp(e[5]||"",!0),HI(this,e[6]||"",!0),this.o=Zp(e[7]||"")):(this.h=!1,this.i=new Vm(null,this.h))}function ou(n){return new Af(n)}function ov(n,e,t){n.j=t?Zp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fm(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HI(n,e,t){e instanceof Vm?(n.i=e,function CA(n,e){e&&!n.j&&(md(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(KI(this,r),YI(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Lm(e,SA)),n.i=new Vm(e,n.h))}function $o(n,e,t){n.i.set(e,t)}function av(n){return $o(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Zp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Lm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ww),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ww(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Af.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Lm(e,zI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Lm(e,zI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Lm(t,"/"==t.charAt(0)?qI:WI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Lm(t,AA)),n.join("")};var zI=/[#\/\?@]/g,WI=/[#\?:]/g,qI=/[#\?]/g,SA=/[#\?@]/g,AA=/#/g;function Vm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function md(n){n.g||(n.g=new Map,n.h=0,n.i&&function DA(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var a=n[t].substring(0,r);s=n[t].substring(r+1)}else a=n[t];e(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function KI(n,e){md(n),e=Jp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function bw(n,e){return md(n),e=Jp(n,e),n.g.has(e)}function YI(n,e,t){KI(n,e),0<t.length&&(n.i=null,n.g.set(Jp(n,e),QE(t)),n.h+=t.length)}function Jp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function QI(n){this.l=n||RA,n=$r.PerformanceNavigationTiming?0<(n=$r.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($r.g&&$r.g.Ka&&$r.g.Ka()&&$r.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Xn=Vm.prototype).add=function(n,e){md(this),this.i=null,n=Jp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Xn.forEach=function(n,e){md(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Xn.ta=function(){md(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let a=0;a<s.length;a++)t.push(e[r])}return t},Xn.Z=function(n){md(this);let e=[];if("string"==typeof n)bw(this,n)&&(e=e.concat(this.g.get(Jp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Xn.set=function(n,e){return md(this),this.i=null,bw(this,n=Jp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Xn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Xn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var s=a;""!==c[r]&&(s+="="+encodeURIComponent(String(c[r]))),n.push(s)}}return this.i=n.join("&")};var RA=10;function ZI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function JI(n){return n.h?1:n.g?n.g.size:0}function lv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cv(n,e){n.g?n.g.add(e):n.h=e}function Iw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function XI(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return QE(n.i)}QI.prototype.cancel=function(){if(this.i=XI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var eT=class{stringify(n){return $r.JSON.stringify(n,void 0)}parse(n){return $r.JSON.parse(n,void 0)}};function OA(){this.g=new eT}function MA(n,e,t){const r=t||"";try{GI(n,function(s,a){let c=s;$p(s)&&(c=uw(s)),e.push(r+a+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function uv(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Cf(n){this.l=n.fc||null,this.j=n.ob||!1}function Xp(n,e){Ka.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=dv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xl(Cf,Df),Cf.prototype.g=function(){return new Xp(this.l,this.j)},Cf.prototype.i=function(n){return function(){return n}}({}),xl(Xp,Ka);var dv=0;function hv(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Bm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Um(n)}function Um(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Xn=Xp.prototype).open=function(n,e){if(this.readyState!=dv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Um(this)},Xn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||$r).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Xn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bm(this)),this.readyState=dv},Xn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Um(this)),this.g&&(this.readyState=3,Um(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof $r.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hv(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Xn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Bm(this):Um(this),3==this.readyState&&hv(this)}},Xn.Za=function(n){this.g&&(this.response=this.responseText=n,Bm(this))},Xn.Ya=function(n){this.g&&(this.response=n,Bm(this))},Xn.ka=function(){this.g&&Bm(this)},Xn.setRequestHeader=function(n,e){this.v.append(n,e)},Xn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Xn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Xp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Tw=$r.JSON.parse;function Sa(n){Ka.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Dw,this.L=this.M=!1}xl(Sa,Ka);var Dw="",xf=/^https?$/i,tT=["POST","PUT"];function kA(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fv(n),gv(n)}function fv(n){n.F||(n.F=!0,Rl(n,"complete"),Rl(n,"error"))}function pv(n){if(n.h&&typeof Tm<"u"&&(!n.C[1]||4!=Hu(n)||2!=n.da()))if(n.v&&4==Hu(n))Wp(n.La,0,n);else if(Rl(n,"readystatechange"),4==Hu(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var s=String(n.I).match(Ew)[1]||null;!s&&$r.self&&$r.self.location&&(s=$r.self.location.protocol.slice(0,-1)),r=!xf.test(s?s.toLowerCase():"")}t=r}if(t)Rl(n,"complete"),Rl(n,"success");else{n.m=6;try{var a=2<Hu(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",fv(n)}}finally{gv(n)}}}function gv(n,e){if(n.g){Sw(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Rl(n,"ready");try{t.onreadystatechange=r}catch{}}}function Sw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&($r.clearTimeout(n.A),n.A=null)}function Hu(n){return n.g?n.g.readyState:0}function nT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Dw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function mv(n){let e="";return nw(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function _v(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=mv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):$o(n,e,t))}function eg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Aw(n){this.Ga=0,this.j=[],this.l=new xm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=eg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=eg("baseRetryDelayMs",5e3,n),this.hb=eg("retryDelaySeedMs",1e4,n),this.eb=eg("forwardChannelMaxRetries",2,n),this.xa=eg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new QI(n&&n.concurrentRequestLimit),this.Ja=new OA,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yv(n){if(iT(n),3==n.H){var e=n.W++,t=ou(n.I);if($o(t,"SID",n.K),$o(t,"RID",e),$o(t,"TYPE","terminate"),wv(n,t),(e=new Qp(n,n.l,e)).L=2,e.v=av(ou(t)),t=!1,$r.navigator&&$r.navigator.sendBeacon)try{t=$r.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&$r.Image&&((new Image).src=e.v,t=!0),t||(e.g=uT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Nm(e)}Mw(n)}function vv(n){n.g&&(oT(n),n.g.cancel(),n.g=null)}function iT(n){vv(n),n.u&&($r.clearTimeout(n.u),n.u=null),bv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$r.clearTimeout(n.m),n.m=null)}function Ev(n){if(!ZI(n.i)&&!n.m){n.m=!0;var e=n.Na;Jy||PI(),gd||(Jy(),gd=!0),dw.add(e,n),n.C=0}}function Cw(n,e){var t;t=e?e.m:n.W++;const r=ou(n.I);$o(r,"SID",n.K),$o(r,"RID",t),$o(r,"AID",n.V),wv(n,r),n.o&&n.s&&_v(r,n.o,n.s),t=new Qp(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=xw(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),cv(n.i,t),$I(t,r,e)}function wv(n,e){n.na&&nw(n.na,function(t,r){$o(e,r,t)}),n.h&&GI({},function(t,r){$o(e,r,t)})}function xw(n,e,t){t=Math.min(n.j.length,t);var r=n.h?tc(n.h.Va,n.h,n):null;e:{var s=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=s[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let g=!0;for(let v=0;v<t;v++){let S=s[v].g;const F=s[v].map;if(S-=a,0>S)a=Math.max(0,s[v].g-100),g=!1;else try{MA(F,c,"req"+S+"_")}catch{r&&r(F)}}if(g){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function sT(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Jy||PI(),gd||(Jy(),gd=!0),dw.add(e,n),n.A=0}}function Rw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Kp(tc(n.Ma,n),Ow(n,n.A)),n.A++,0))}function oT(n){null!=n.B&&($r.clearTimeout(n.B),n.B=null)}function aT(n){n.g=new Qp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ou(n.wa);$o(e,"RID","rpc"),$o(e,"SID",n.K),$o(e,"AID",n.V),$o(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&$o(e,"TO",n.qa),$o(e,"TYPE","xmlhttp"),wv(n,e),n.o&&n.s&&_v(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=av(ou(e)),t.s=null,t.S=!0,bA(t,n)}function bv(n){null!=n.v&&($r.clearTimeout(n.v),n.v=null)}function lT(n,e){var t=null;if(n.g==e){bv(n),oT(n),n.g=null;var r=2}else{if(!lv(n.i,e))return;t=e.F,Iw(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;Rl(r=ev(),new gw(r,t)),Ev(n)}else sT(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function FA(n,e){return!(JI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Kp(tc(n.Na,n,e),Ow(n,n.C)),n.C++,0)))}(n,e)||2==r&&Rw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Dh(n,5);break;case 4:Dh(n,10);break;case 3:Dh(n,6);break;default:Dh(n,2)}}function Ow(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Dh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=tc(n.pb,n);t||(t=new Af("//www.google.com/images/cleardot.gif"),$r.location&&"http"==$r.location.protocol||ov(t,"https"),av(t)),function PA(n,e){const t=new xm;if($r.Image){const r=new Image;r.onload=Ly(uv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ly(uv,t,r,"TestLoadImage: error",!1,e),r.onabort=Ly(uv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ly(uv,t,r,"TestLoadImage: timeout",!1,e),$r.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else rc(2);n.H=0,n.h&&n.h.za(e),Mw(n),iT(n)}function Mw(n){if(n.H=0,n.ma=[],n.h){const e=XI(n.i);(0!=e.length||0!=n.j.length)&&(ZE(n.ma,e),ZE(n.ma,n.j),n.i.i.length=0,QE(n.j),n.j.length=0),n.h.ya()}}function cT(n,e,t){var r=t instanceof Af?ou(t):new Af(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Fm(r,r.m);else{var s=$r.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var a=new Af(null);r&&ov(a,r),e&&(a.g=e),s&&Fm(a,s),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&$o(r,t,e),$o(r,"VER",n.ra),wv(n,r),r}function uT(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Sa(t&&n.Ha&&!n.va?new Cf({ob:!0}):n.va)).Oa(n.J),e}function dT(){}function Iv(){if(bf&&!(10<=Number(II)))throw Error("Environmental error: no available transport.")}function au(n,e){Ka.call(this),this.g=new Aw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Hp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Rf(this)}function hT(n){nv.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function tg(){rv.call(this),this.status=1}function Rf(n){this.g=n}function Du(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Tv(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((s=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^a&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^s^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(s^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(s^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((s=a+((c=s+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+a&4294967295}function Qs(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var a=0|n[s];r&&a==e||(t[s]=a,r=!1)}this.g=t}(Xn=Sa.prototype).Oa=function(n){this.M=n},Xn.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():iv.g(),this.C=function VI(n){return n.h||(n.h=n.i())}(this.u?this.u:iv),this.g.onreadystatechange=tc(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void kA(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),s=$r.FormData&&n instanceof $r.FormData,!(0<=Gp(tT,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Sw(this),0<this.B&&((this.L=function NA(n){return bf&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tc(this.ua,this)):this.A=Wp(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){kA(this,a)}},Xn.ua=function(){typeof Tm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rl(this,"timeout"),this.abort(8))},Xn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Rl(this,"complete"),Rl(this,"abort"),gv(this))},Xn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gv(this,!0)),Sa.$.N.call(this)},Xn.La=function(){this.s||(this.G||this.v||this.l?pv(this):this.kb())},Xn.kb=function(){pv(this)},Xn.isActive=function(){return!!this.g},Xn.da=function(){try{return 2<Hu(this)?this.g.status:-1}catch{return-1}},Xn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Xn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Tw(e)}},Xn.Ia=function(){return this.m},Xn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Xn=Aw.prototype).ra=8,Xn.H=1,Xn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Qp(this,this.l,n);let a=this.s;if(this.U&&(a?(a=TI(a),SI(a,this.U)):a=this.U),null!==this.o||this.O||(s.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xw(this,s,e),$o(t=ou(this.I),"RID",n),$o(t,"CVER",22),this.F&&$o(t,"X-HTTP-Session-Id",this.F),wv(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(mv(a)))+"&"+e:this.o&&_v(t,this.o,a)),cv(this.i,s),this.bb&&$o(t,"TYPE","init"),this.P?($o(t,"$req",e),$o(t,"SID","null"),s.aa=!0,$I(s,t,null)):$I(s,t,e),this.H=2}}else 3==this.H&&(n?Cw(this,n):0==this.j.length||ZI(this.i)||Cw(this))},Xn.Ma=function(){if(this.u=null,aT(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Kp(tc(this.jb,this),n)}},Xn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rc(10),vv(this),aT(this))},Xn.ib=function(){null!=this.v&&(this.v=null,vv(this),Rw(this),rc(19))},Xn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),rc(2)):(this.l.info("Failed to ping google.com"),rc(1))},Xn.isActive=function(){return!!this.h&&this.h.isActive(this)},(Xn=dT.prototype).Ba=function(){},Xn.Aa=function(){},Xn.za=function(){},Xn.ya=function(){},Xn.isActive=function(){return!0},Xn.Va=function(){},Iv.prototype.g=function(n,e){return new au(n,e)},xl(au,Ka),au.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;rc(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=cT(n,null,n.Y),Ev(n)},au.prototype.close=function(){yv(this.g)},au.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=uw(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Ev(e)},au.prototype.N=function(){this.g.h=null,delete this.j,yv(this.g),delete this.g,au.$.N.call(this)},xl(hT,nv),xl(tg,rv),xl(Rf,dT),Rf.prototype.Ba=function(){Rl(this.g,"a")},Rf.prototype.Aa=function(n){Rl(this.g,new hT(n))},Rf.prototype.za=function(n){Rl(this.g,new tg)},Rf.prototype.ya=function(){Rl(this.g,"b")},xl(Du,function fT(){this.blockSize=-1}),Du.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Du.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,a=0;a<e;){if(0==s)for(;a<=t;)Tv(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[s++]=n.charCodeAt(a++),s==this.blockSize){Tv(this,r),s=0;break}}else for(;a<e;)if(r[s++]=n[a++],s==this.blockSize){Tv(this,r),s=0;break}}this.h=s,this.i+=e},Du.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var LA={};function Pw(n){return-128<=n&&128>n?function EI(n,e){var t=LA;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Qs([0|e],0>e?-1:0)}):new Qs([0|n],0>n?-1:0)}function Ud(n){if(isNaN(n)||!isFinite(n))return ng;if(0>n)return Gl(Ud(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Nw;return new Qs(e,0)}var Nw=4294967296,ng=Pw(0),kw=Pw(1),pT=Pw(16777216);function jd(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ic(n){return-1==n.h}function Gl(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Qs(t,~n.h).add(kw)}function rg(n,e){return n.add(Gl(e))}function Dv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Sv(n,e){this.g=n,this.h=e}function Av(n,e){if(jd(e))throw Error("division by zero");if(jd(n))return new Sv(ng,ng);if(ic(n))return e=Av(Gl(n),e),new Sv(Gl(e.g),Gl(e.h));if(ic(e))return e=Av(n,Gl(e)),new Sv(Gl(e.g),e.h);if(30<n.g.length){if(ic(n)||ic(e))throw Error("slowDivide_ only works with positive integers.");for(var t=kw,r=e;0>=r.X(n);)t=BA(t),r=BA(r);var s=_d(t,1),a=_d(r,1);for(r=_d(r,2),t=_d(t,2);!jd(r);){var c=a.add(r);0>=c.X(n)&&(s=s.add(t),a=c),r=_d(r,1),t=_d(t,1)}return e=rg(n,s.R(e)),new Sv(s,e)}for(s=ng;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=Ud(t)).R(e);ic(c)||0<c.X(n);)c=(a=Ud(t-=r)).R(e);jd(a)&&(a=kw),s=s.add(a),n=rg(n,c)}return new Sv(s,n)}function BA(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Qs(t,n.h)}function _d(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],a=0;a<r;a++)s[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Qs(s,n.h)}(Xn=Qs.prototype).ea=function(){if(ic(this))return-Gl(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Nw+r)*e,e*=Nw}return n},Xn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(jd(this))return"0";if(ic(this))return"-"+Gl(this).toString(n);for(var e=Ud(Math.pow(n,6)),t=this,r="";;){var s=Av(t,e).g,a=((0<(t=rg(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(jd(t=s))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Xn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Xn.X=function(n){return ic(n=rg(this,n))?-1:jd(n)?0:1},Xn.abs=function(){return ic(this)?Gl(this):this},Xn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var a=r+(65535&this.D(s))+(65535&n.D(s)),c=(a>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=c>>>16,t[s]=(c&=65535)<<16|(a&=65535)}return new Qs(t,-2147483648&t[t.length-1]?-1:0)},Xn.R=function(n){if(jd(this)||jd(n))return ng;if(ic(this))return ic(n)?Gl(this).R(Gl(n)):Gl(Gl(this).R(n));if(ic(n))return Gl(this.R(Gl(n)));if(0>this.X(pT)&&0>n.X(pT))return Ud(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var a=this.D(r)>>>16,c=65535&this.D(r),g=n.D(s)>>>16,v=65535&n.D(s);t[2*r+2*s]+=c*v,Dv(t,2*r+2*s),t[2*r+2*s+1]+=a*v,Dv(t,2*r+2*s+1),t[2*r+2*s+1]+=c*g,Dv(t,2*r+2*s+1),t[2*r+2*s+2]+=a*g,Dv(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Qs(t,0)},Xn.gb=function(n){return Av(this,n).h},Xn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Qs(t,this.h&n.h)},Xn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Qs(t,this.h|n.h)},Xn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Qs(t,this.h^n.h)},Iv.prototype.createWebChannel=Iv.prototype.g,au.prototype.send=au.prototype.u,au.prototype.open=au.prototype.m,au.prototype.close=au.prototype.close,tv.NO_ERROR=0,tv.TIMEOUT=8,tv.HTTP_ERROR=6,Yp.COMPLETE="complete",BI.EventType=Mm,Mm.OPEN="a",Mm.CLOSE="b",Mm.ERROR="c",Mm.MESSAGE="d",Ka.prototype.listen=Ka.prototype.O,Sa.prototype.listenOnce=Sa.prototype.P,Sa.prototype.getLastError=Sa.prototype.Sa,Sa.prototype.getLastErrorCode=Sa.prototype.Ia,Sa.prototype.getStatus=Sa.prototype.da,Sa.prototype.getResponseJson=Sa.prototype.Wa,Sa.prototype.getResponseText=Sa.prototype.ja,Sa.prototype.send=Sa.prototype.ha,Sa.prototype.setWithCredentials=Sa.prototype.Oa,Du.prototype.digest=Du.prototype.l,Du.prototype.reset=Du.prototype.reset,Du.prototype.update=Du.prototype.j,Qs.prototype.add=Qs.prototype.add,Qs.prototype.multiply=Qs.prototype.R,Qs.prototype.modulo=Qs.prototype.gb,Qs.prototype.compare=Qs.prototype.X,Qs.prototype.toNumber=Qs.prototype.ea,Qs.prototype.toString=Qs.prototype.toString,Qs.prototype.getBits=Qs.prototype.D,Qs.fromNumber=Ud,Qs.fromString=function VA(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Gl(VA(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ud(Math.pow(e,8)),r=ng,s=0;s<n.length;s+=8){var a=Math.min(8,n.length-s),c=parseInt(n.substring(s,s+a),e);8>a?(a=Ud(Math.pow(e,a)),r=r.R(a).add(Ud(c))):r=(r=r.R(t)).add(Ud(c))}return r};var UA=hd.createWebChannelTransport=function(){return new Iv},jA=hd.getStatEventTarget=function(){return ev()},Fw=hd.ErrorCode=tv,Cv=hd.EventType=Yp,gT=hd.Event=Tf,mT=hd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_T=hd.FetchXmlHttpFactory=Cf,Of=hd.WebChannel=BI,$A=hd.XhrIo=Sa,GA=hd.Md5=Du,Mf=hd.Integer=Qs;const yT="@firebase/firestore";class Ol{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ol.UNAUTHENTICATED=new Ol(null),Ol.GOOGLE_CREDENTIALS=new Ol("google-credentials-uid"),Ol.FIRST_PARTY=new Ol("first-party-uid"),Ol.MOCK_USER=new Ol("mock-user");let Pf="9.23.0";const zu=new _e.Yd("@firebase/firestore");function Lw(){return zu.logLevel}function yn(n,...e){if(zu.logLevel<=_e.in.DEBUG){const t=e.map(xv);zu.debug(`Firestore (${Pf}): ${n}`,...t)}}function Aa(n,...e){if(zu.logLevel<=_e.in.ERROR){const t=e.map(xv);zu.error(`Firestore (${Pf}): ${n}`,...t)}}function lu(n,...e){if(zu.logLevel<=_e.in.WARN){const t=e.map(xv);zu.warn(`Firestore (${Pf}): ${n}`,...t)}}function xv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function hr(n="Unexpected state"){const e=`FIRESTORE (${Pf}) INTERNAL ASSERTION FAILED: `+n;throw Aa(e),new Error(e)}function Ir(n,e){n||hr()}function Zn(n,e){return n}const Bt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class un extends Oe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ba{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ol.UNAUTHENTICATED))}shutdown(){}}class Uw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zA{constructor(e){this.t=e,this.currentUser=Ol.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const a=S=>this.i!==s?(s=this.i,t(S)):Promise.resolve();let c=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ba,e.enqueueRetryable(()=>a(this.currentUser))};const g=()=>{const S=c;e.enqueueRetryable((0,be.Z)(function*(){yield S.promise,yield a(r.currentUser)}))},v=S=>{yn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(S=>v(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?v(S):(yn("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ba)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(yn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ir("string"==typeof r.accessToken),new Vw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ir(null===e||"string"==typeof e),new Ol(e)}}class WA{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ol.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qA{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new WA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ol.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ET{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&yn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,yn("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{yn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?s(a):yn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ir("string"==typeof t.token),this.T=t.token,new vT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class jw{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=bT(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[a]%62))}return r}}function ti(n,e){return n<e?-1:n>e?1:0}function Nf(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class ca{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new un(Bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new un(Bt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new un(Bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new un(Bt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ca.fromMillis(Date.now())}static fromDate(e){return ca.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ca(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ti(this.nanoseconds,e.nanoseconds):ti(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Sr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Sr(e)}static min(){return new Sr(new ca(0,0))}static max(){return new Sr(new ca(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jm{constructor(e,t,r){void 0===t?t=0:t>e.length&&hr(),void 0===r?r=e.length-t:r>e.length-t&&hr(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===jm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jm?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),c=t.get(s);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ls extends jm{construct(e,t,r){return new ls(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new un(Bt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new ls(t)}static emptyPath(){return new ls([])}}const TT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cs extends jm{construct(e,t,r){return new cs(e,t,r)}static isValidIdentifier(e){return TT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cs(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(0===r.length)throw new un(Bt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new un(Bt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[s+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new un(Bt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,s+=2}else"`"===g?(c=!c,s++):"."!==g||c?(r+=g,s++):(a(),s++)}if(a(),c)throw new un(Bt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cs(t)}static emptyPath(){return new cs([])}}class jn{constructor(e){this.path=e}static fromPath(e){return new jn(ls.fromString(e))}static fromName(e){return new jn(ls.fromString(e).popFirst(5))}static empty(){return new jn(ls.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ls.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ls.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new jn(new ls(e.slice()))}}function YA(n){return new Hl(n.readTime,n.key,-1)}class Hl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hl(Sr.min(),jn.empty(),-1)}static max(){return new Hl(Sr.max(),jn.empty(),-1)}}function Hw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=jn.comparator(n.documentKey,e.documentKey),0!==t?t:ti(n.largestBatchId,e.largestBatchId))}const Mv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function $d(n){return zw.apply(this,arguments)}function zw(){return zw=(0,be.Z)(function*(n){if(n.code!==Bt.FAILED_PRECONDITION||n.message!==Mv)throw n;yn("LocalStore","Unexpectedly lost primary lease")}),zw.apply(this,arguments)}class Ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ct((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ct?t:Ct.resolve(t)}catch(t){return Ct.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ct.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ct.reject(t)}static resolve(e){return new Ct((t,r)=>{t(e)})}static reject(e){return new Ct((t,r)=>{r(e)})}static waitFor(e){return new Ct((t,r)=>{let s=0,a=0,c=!1;e.forEach(g=>{++s,g.next(()=>{++a,c&&a===s&&t()},v=>r(v))}),c=!0,a===s&&t()})}static or(e){let t=Ct.resolve(!1);for(const r of e)t=t.next(s=>s?Ct.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Ct((r,s)=>{const a=e.length,c=new Array(a);let g=0;for(let v=0;v<a;v++){const S=v;t(e[S]).next(F=>{c[S]=F,++g,g===a&&r(c)},F=>s(F))}})}static doWhile(e,t){return new Ct((r,s)=>{const a=()=>{!0===e()?t().next(()=>{a()},s):r()};a()})}}function Wu(n){return"IndexedDbTransactionError"===n.name}let uu=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function ag(n){return null==n}function kf(n){return 0===n&&1/n==-1/0}function aC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ff(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Qw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class wo{constructor(e,t){this.comparator=e,this.root=t||Wl.EMPTY}insert(e,t){return new wo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wl.BLACK,null,null))}remove(e){return new wo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zm(this.root,e,this.comparator,!1)}getReverseIterator(){return new zm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zm(this.root,e,this.comparator,!0)}}class zm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wl{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Wl.RED,this.left=s??Wl.EMPTY,this.right=a??Wl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Wl(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===a?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Wl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Wl.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hr();const e=this.left.check();if(e!==this.right.check())throw hr();return e+(this.isRed()?0:1)}}Wl.EMPTY=null,Wl.RED=!0,Wl.BLACK=!1,Wl.EMPTY=new class{constructor(){this.size=0}get key(){throw hr()}get value(){throw hr()}get color(){throw hr()}get left(){throw hr()}get right(){throw hr()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Wl(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bo{constructor(e){this.comparator=e,this.data=new wo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new VT(this.data.getIterator())}getIteratorFrom(e){return new VT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(s,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bo(this.comparator);return t.data=e,t}}class VT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class du{constructor(e){this.fields=e,e.sort(cs.comparator)}static empty(){return new du([])}unionWith(e){let t=new bo(cs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new du(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ol{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BT("Invalid base64 string: "+s):s}}(e);return new ol(t)}static fromUint8Array(e){const t=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new ol(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ti(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ol.EMPTY_BYTE_STRING=new ol("");const cC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sh(n){if(Ir(!!n),"string"==typeof n){let e=0;const t=cC.exec(n);if(Ir(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ua(n.seconds),nanos:Ua(n.nanos)}}function Ua(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gd(n){return"string"==typeof n?ol.fromBase64String(n):ol.fromUint8Array(n)}function Ah(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Lf(n){const e=n.mapValue.fields.__previous_value__;return Ah(e)?Lf(e):e}function qm(n){const e=Sh(n.mapValue.fields.__local_write_time__.timestampValue);return new ca(e.seconds,e.nanos)}class uC{constructor(e,t,r,s,a,c,g,v,S){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=S}}class Vf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vf&&e.projectId===this.projectId&&e.database===this.database}}const Ch={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ah(n)?4:eb(n)?9007199254740991:10:hr()}function Su(n,e){if(n===e)return!0;const t=xh(n);if(t!==xh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qm(n).isEqual(qm(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=Sh(r.timestampValue),c=Sh(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Gd(n.bytesValue).isEqual(Gd(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Ua(r.geoPointValue.latitude)===Ua(s.geoPointValue.latitude)&&Ua(r.geoPointValue.longitude)===Ua(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ua(r.integerValue)===Ua(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Ua(r.doubleValue),c=Ua(s.doubleValue);return a===c?kf(a)===kf(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Nf(n.arrayValue.values||[],e.arrayValue.values||[],Su);case 10:return function(r,s){const a=r.mapValue.fields||{},c=s.mapValue.fields||{};if(aC(a)!==aC(c))return!1;for(const g in a)if(a.hasOwnProperty(g)&&(void 0===c[g]||!Su(a[g],c[g])))return!1;return!0}(n,e);default:return hr()}var s}function Km(n,e){return void 0!==(n.values||[]).find(t=>Su(t,e))}function Rh(n,e){if(n===e)return 0;const t=xh(n),r=xh(e);if(t!==r)return ti(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ti(n.booleanValue,e.booleanValue);case 2:return function(s,a){const c=Ua(s.integerValue||s.doubleValue),g=Ua(a.integerValue||a.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(n,e);case 3:return UT(n.timestampValue,e.timestampValue);case 4:return UT(qm(n),qm(e));case 5:return ti(n.stringValue,e.stringValue);case 6:return function(s,a){const c=Gd(s),g=Gd(a);return c.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),g=a.split("/");for(let v=0;v<c.length&&v<g.length;v++){const S=ti(c[v],g[v]);if(0!==S)return S}return ti(c.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const c=ti(Ua(s.latitude),Ua(a.latitude));return 0!==c?c:ti(Ua(s.longitude),Ua(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,a){const c=s.values||[],g=a.values||[];for(let v=0;v<c.length&&v<g.length;++v){const S=Rh(c[v],g[v]);if(S)return S}return ti(c.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===Ch.mapValue&&a===Ch.mapValue)return 0;if(s===Ch.mapValue)return 1;if(a===Ch.mapValue)return-1;const c=s.fields||{},g=Object.keys(c),v=a.fields||{},S=Object.keys(v);g.sort(),S.sort();for(let F=0;F<g.length&&F<S.length;++F){const K=ti(g[F],S[F]);if(0!==K)return K;const he=Rh(c[g[F]],v[S[F]]);if(0!==he)return he}return ti(g.length,S.length)}(n.mapValue,e.mapValue);default:throw hr()}}function UT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ti(n,e);const t=Sh(n),r=Sh(e),s=ti(t.seconds,r.seconds);return 0!==s?s:ti(t.nanos,r.nanos)}function lg(n){return Zw(n)}function Zw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Sh(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gd(n.bytesValue).toBase64():"referenceValue"in n?jn.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",a=!0;for(const c of r.values||[])a?a=!1:s+=",",s+=Zw(c);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const g of s)c?c=!1:a+=",",a+=`${g}:${Zw(r.fields[g])}`;return a+"}"}(n.mapValue):hr();var e}function Jw(n){return!!n&&"integerValue"in n}function Ym(n){return!!n&&"arrayValue"in n}function Xw(n){return!!n&&"nullValue"in n}function Fv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lv(n){return!!n&&"mapValue"in n}function Qm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ff(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Qm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Qm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ml{constructor(e){this.value=e}static empty(){return new Ml({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Lv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qm(t)}setAll(e){let t=cs.emptyPath(),r={},s=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const v=this.getFieldsMap(t);this.applyChanges(v,r,s),r={},s=[],t=g.popLast()}c?r[g.lastSegment()]=Qm(c):s.push(g.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Lv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Su(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Lv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ff(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Ml(Qm(this.value))}}function $T(n){const e=[];return Ff(n.fields,(t,r)=>{const s=new cs([t]);if(Lv(r)){const a=$T(r.mapValue).fields;if(0===a.length)e.push(s);else for(const c of a)e.push(s.child(c))}else e.push(s)}),new du(e)}class Go{constructor(e,t,r,s,a,c,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=c,this.documentState=g}static newInvalidDocument(e){return new Go(e,0,Sr.min(),Sr.min(),Sr.min(),Ml.empty(),0)}static newFoundDocument(e,t,r,s){return new Go(e,1,t,Sr.min(),r,s,0)}static newNoDocument(e,t){return new Go(e,2,t,Sr.min(),Sr.min(),Ml.empty(),0)}static newUnknownDocument(e,t){return new Go(e,3,t,Sr.min(),Sr.min(),Ml.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Sr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ml.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ml.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Sr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Go&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Go(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Oh{constructor(e,t){this.position=e,this.inclusive=t}}function Vv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],c=n.position[s];if(r=a.field.isKeyField()?jn.comparator(jn.fromName(c.referenceValue),t.key):Rh(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Hd(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Su(n.position[t],e.position[t]))return!1;return!0}class Uf{constructor(e,t="asc"){this.field=e,this.dir=t}}function nb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Bv{}class Zi extends Bv{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new hC(e,t,r):"array-contains"===t?new zT(e,r):"in"===t?new lb(e,r):"not-in"===t?new fC(e,r):"array-contains-any"===t?new WT(e,r):new Zi(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new HT(e,r):new sO(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rh(t,this.value)):null!==t&&xh(this.value)===xh(t)&&this.matchesComparison(Rh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Io extends Bv{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Io(e,t)}matches(e){return jf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function jf(n){return"and"===n.op}function ib(n){return function GT(n){for(const e of n.filters)if(e instanceof Io)return!1;return!0}(n)&&jf(n)}function sb(n){if(n instanceof Zi)return n.field.canonicalString()+n.op.toString()+lg(n.value);if(ib(n))return n.filters.map(e=>sb(e)).join(",");{const e=n.filters.map(t=>sb(t)).join(",");return`${n.op}(${e})`}}function ob(n,e){return n instanceof Zi?(t=n,(r=e)instanceof Zi&&t.op===r.op&&t.field.isEqual(r.field)&&Su(t.value,r.value)):n instanceof Io?function(t,r){return r instanceof Io&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,a,c)=>s&&ob(a,r.filters[c]),!0)}(n,e):void hr();var t,r}function ab(n){return n instanceof Zi?`${(e=n).field.canonicalString()} ${e.op} ${lg(e.value)}`:n instanceof Io?function(e){return e.op.toString()+" {"+e.getFilters().map(ab).join(" ,")+"}"}(n):"Filter";var e}class hC extends Zi{constructor(e,t,r){super(e,t,r),this.key=jn.fromName(r.referenceValue)}matches(e){const t=jn.comparator(e.key,this.key);return this.matchesComparison(t)}}class HT extends Zi{constructor(e,t){super(e,"in",t),this.keys=Uv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sO extends Zi{constructor(e,t){super(e,"not-in",t),this.keys=Uv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Uv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>jn.fromName(r.referenceValue))}class zT extends Zi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ym(t)&&Km(t.arrayValue,this.value)}}class lb extends Zi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Km(this.value.arrayValue,t)}}class fC extends Zi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Km(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Km(this.value.arrayValue,t)}}class WT extends Zi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ym(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Km(this.value.arrayValue,r))}}class qT{constructor(e,t=null,r=[],s=[],a=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=c,this.endAt=g,this.dt=null}}function Mh(n,e=null,t=[],r=[],s=null,a=null,c=null){return new qT(n,e,t,r,s,a,c)}function vd(n){const e=Zn(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),ag(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lg(r)).join(",")),e.dt=t}return e.dt}function cg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ob(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Hd(n.startAt,e.startAt)&&Hd(n.endAt,e.endAt)}function Zm(n){return jn.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ed{constructor(e,t=null,r=[],s=[],a=null,c="F",g=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=c,this.startAt=g,this.endAt=v,this.wt=null,this._t=null}}function ug(n){return new Ed(n)}function gC(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function $f(n){const e=Zn(n);if(null===e.wt){e.wt=[];const t=function cb(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function QT(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Uf(t)),e.wt.push(new Uf(cs.keyField(),"asc"));else{let s=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(s=!0);if(!s){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Uf(cs.keyField(),a))}}}return e.wt}function wc(n){const e=Zn(n);if(!e._t)if("F"===e.limitType)e._t=Mh(e.path,e.collectionGroup,$f(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of $f(e))t.push(new Uf(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Oh(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Oh(e.startAt.position,e.startAt.inclusive):null;e._t=Mh(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function db(n,e,t){return new Ed(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gv(n,e){return cg(wc(n),wc(e))&&n.limitType===e.limitType}function mC(n){return`${vd(wc(n))}|lt:${n.limitType}`}function ZT(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>ab(r)).join(", ")}]`),ag(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lg(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lg(r)).join(",")),`Target(${t})`}(wc(n))}; limitType=${n.limitType})`}function Hv(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):jn.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of $f(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,a,c){const g=Vv(s,a,c);return s.inclusive?g<=0:g<0}(t.startAt,$f(t),r)||t.endAt&&!function(s,a,c){const g=Vv(s,a,c);return s.inclusive?g>=0:g>0}(t.endAt,$f(t),r)));var t,r}function Jm(n){return(e,t)=>{let r=!1;for(const s of $f(n)){const a=_C(s,e,t);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function _C(n,e,t){const r=n.field.isKeyField()?jn.comparator(e.key,t.key):function(s,a,c){const g=a.data.field(s),v=c.data.field(s);return null!==g&&null!==v?Rh(g,v):hr()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return hr()}}class zd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,a]of r)if(this.equalsFn(s,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ff(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return Qw(this.inner)}size(){return this.innerSize}}const XT=new wo(jn.comparator);function Ya(){return XT}const hb=new wo(jn.comparator);function Gf(...n){let e=hb;for(const t of n)e=e.insert(t.key,t);return e}function zv(n){let e=hb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wd(){return Hf()}function Wv(){return Hf()}function Hf(){return new zd(n=>n.toString(),(n,e)=>n.isEqual(e))}const qv=new wo(jn.comparator),oO=new bo(jn.comparator);function Si(...n){let e=oO;for(const t of n)e=e.add(t);return e}const aO=new bo(ti);function eD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kf(e)?"-0":e}}function tD(n){return{integerValue:""+n}}function nD(n,e){return function ZA(n){return"number"==typeof n&&Number.isInteger(n)&&!kf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?tD(e):eD(n,e)}class Yv{constructor(){this._=void 0}}function rD(n,e,t){return n instanceof dg?function(r,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ah(s)&&(s=Lf(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):n instanceof zf?pb(n,e):n instanceof Wd?yC(n,e):function(r,s){const a=fb(r,s),c=Qv(a)+Qv(r.gt);return Jw(a)&&Jw(r.gt)?tD(c):eD(r.serializer,c)}(n,e)}function iD(n,e,t){return n instanceof zf?pb(n,e):n instanceof Wd?yC(n,e):t}function fb(n,e){return n instanceof Wf?Jw(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class dg extends Yv{}class zf extends Yv{constructor(e){super(),this.elements=e}}function pb(n,e){const t=sD(e);for(const r of n.elements)t.some(s=>Su(s,r))||t.push(r);return{arrayValue:{values:t}}}class Wd extends Yv{constructor(e){super(),this.elements=e}}function yC(n,e){let t=sD(e);for(const r of n.elements)t=t.filter(s=>!Su(s,r));return{arrayValue:{values:t}}}class Wf extends Yv{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Qv(n){return Ua(n.integerValue||n.doubleValue)}function sD(n){return Ym(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cO{constructor(e,t){this.version=e,this.transformResults=t}}class ua{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ua}static exists(e){return new ua(void 0,e)}static updateTime(e){return new ua(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Jv{}function oD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Kf(n.key,ua.none()):new qf(n.key,n.data,ua.none());{const t=n.data,r=Ml.empty();let s=new bo(cs.comparator);for(let a of e.fields)if(!s.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),s=s.add(a)}return new Ph(n.key,r,new du(s.toArray()),ua.none())}}function aD(n,e,t){n instanceof qf?function(r,s,a){const c=r.value.clone(),g=Xv(r.fieldTransforms,s,a.transformResults);c.setAll(g),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ph?function(r,s,a){if(!Zv(r.precondition,s))return void s.convertToUnknownDocument(a.version);const c=Xv(r.fieldTransforms,s,a.transformResults),g=s.data;g.setAll(lD(r)),g.setAll(c),s.convertToFoundDocument(a.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function hg(n,e,t,r){return n instanceof qf?function(s,a,c,g){if(!Zv(s.precondition,a))return c;const v=s.value.clone(),S=mb(s.fieldTransforms,g,a);return v.setAll(S),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ph?function(s,a,c,g){if(!Zv(s.precondition,a))return c;const v=mb(s.fieldTransforms,g,a),S=a.data;return S.setAll(lD(s)),S.setAll(v),a.convertToFoundDocument(a.version,S).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(F=>F.field))}(n,e,t,r):(c=t,Zv(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function vC(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=fb(r.transform,s||null);null!=a&&(null===t&&(t=Ml.empty()),t.set(r.field,a))}return t||null}function gb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Nf(t,r,(s,a)=>function lO(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof zf&&r instanceof zf||t instanceof Wd&&r instanceof Wd?Nf(t.elements,r.elements,Su):t instanceof Wf&&r instanceof Wf?Su(t.gt,r.gt):t instanceof dg&&r instanceof dg);var t,r}(s,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class qf extends Jv{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ph extends Jv{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function lD(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Xv(n,e,t){const r=new Map;Ir(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],c=a.transform,g=e.data.field(a.field);r.set(a.field,iD(c,g,t[s]))}return r}function mb(n,e,t){const r=new Map;for(const s of n){const a=s.transform,c=t.data.field(s.field);r.set(s.field,rD(a,c,e))}return r}class Kf extends Jv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _b extends Jv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fg{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&aD(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Wv();return this.mutations.forEach(s=>{const a=e.get(s.key),c=a.overlayedDocument;let g=this.applyToLocalView(c,a.mutatedFields);g=t.has(s.key)?null:g;const v=oD(c,g);null!==v&&r.set(s.key,v),c.isValidDocument()||c.convertToNoDocument(Sr.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Si())}isEqual(e){return this.batchId===e.batchId&&Nf(this.mutations,e.mutations,(t,r)=>gb(t,r))&&Nf(this.baseMutations,e.baseMutations,(t,r)=>gb(t,r))}}class yb{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ir(e.mutations.length===r.length);let s=qv;const a=e.mutations;for(let c=0;c<a.length;c++)s=s.insert(a[c].key,r[c].version);return new yb(e,t,r,s)}}class vb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uD{constructor(e,t){this.count=e,this.unchangedNames=t}}var al,ps;function dD(n){if(void 0===n)return Aa("GRPC error has no .code"),Bt.UNKNOWN;switch(n){case al.OK:return Bt.OK;case al.CANCELLED:return Bt.CANCELLED;case al.UNKNOWN:return Bt.UNKNOWN;case al.DEADLINE_EXCEEDED:return Bt.DEADLINE_EXCEEDED;case al.RESOURCE_EXHAUSTED:return Bt.RESOURCE_EXHAUSTED;case al.INTERNAL:return Bt.INTERNAL;case al.UNAVAILABLE:return Bt.UNAVAILABLE;case al.UNAUTHENTICATED:return Bt.UNAUTHENTICATED;case al.INVALID_ARGUMENT:return Bt.INVALID_ARGUMENT;case al.NOT_FOUND:return Bt.NOT_FOUND;case al.ALREADY_EXISTS:return Bt.ALREADY_EXISTS;case al.PERMISSION_DENIED:return Bt.PERMISSION_DENIED;case al.FAILED_PRECONDITION:return Bt.FAILED_PRECONDITION;case al.ABORTED:return Bt.ABORTED;case al.OUT_OF_RANGE:return Bt.OUT_OF_RANGE;case al.UNIMPLEMENTED:return Bt.UNIMPLEMENTED;case al.DATA_LOSS:return Bt.DATA_LOSS;default:return hr()}}(ps=al||(al={}))[ps.OK=0]="OK",ps[ps.CANCELLED=1]="CANCELLED",ps[ps.UNKNOWN=2]="UNKNOWN",ps[ps.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ps[ps.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ps[ps.NOT_FOUND=5]="NOT_FOUND",ps[ps.ALREADY_EXISTS=6]="ALREADY_EXISTS",ps[ps.PERMISSION_DENIED=7]="PERMISSION_DENIED",ps[ps.UNAUTHENTICATED=16]="UNAUTHENTICATED",ps[ps.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ps[ps.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ps[ps.ABORTED=10]="ABORTED",ps[ps.OUT_OF_RANGE=11]="OUT_OF_RANGE",ps[ps.UNIMPLEMENTED=12]="UNIMPLEMENTED",ps[ps.INTERNAL=13]="INTERNAL",ps[ps.UNAVAILABLE=14]="UNAVAILABLE",ps[ps.DATA_LOSS=15]="DATA_LOSS";class hD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Eb}static getOrCreateInstance(){return null===Eb&&(Eb=new hD),Eb}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Eb=null;const wC=new Mf([4294967295,4294967295],0);function bC(n){const e=function fD(){return new TextEncoder}().encode(n),t=new GA;return t.update(e),new Uint8Array(t.digest())}function IC(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Mf([t,r],0),new Mf([s,a],0)]}class pD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new e0(`Invalid padding: ${t}`);if(r<0)throw new e0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new e0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new e0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Mf.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(Mf.fromNumber(r)));return 1===s.compare(wC)&&(s=new Mf([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=bC(e),[r,s]=IC(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,s,a);if(!this.At(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new pD(a,s,t);return r.forEach(g=>c.insert(g)),c}insert(e){if(0===this.It)return;const t=bC(e),[r,s]=IC(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,s,a);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class e0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class t0{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,e_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new t0(Sr.min(),s,new wo(ti),Ya(),Si())}}class e_{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new e_(r,t,Si(),Si(),Si())}}class wb{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class TC{constructor(e,t){this.targetId=e,this.Vt=t}}class DC{constructor(e,t,r=ol.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class SC{constructor(){this.St=0,this.Dt=CC(),this.Ct=ol.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Si(),t=Si(),r=Si();return this.Dt.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:hr()}}),new e_(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=CC()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class AC{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ya(),this.zt=gD(),this.Wt=new wo(ti)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:hr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,a=this.se(r);if(a){const c=a.target;if(Zm(c))if(0===s){const g=new jn(c.path);this.Yt(r,g,Go.newNoDocument(g,Sr.min()))}else Ir(1===s);else{const g=this.ie(r);if(g!==s){const v=this.re(e,g);0!==v&&(this.ee(r),this.Wt=this.Wt.insert(r,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=hD.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(S,F,K){var he,Ae,ct,At,Mt,Cn;const Gn={localCacheCount:F,existenceFilterCount:K.count},Pn=K.unchangedNames;return Pn&&(Gn.bloomFilter={applied:0===S,hashCount:null!==(he=Pn?.hashCount)&&void 0!==he?he:0,bitmapLength:null!==(At=null===(ct=null===(Ae=Pn?.bits)||void 0===Ae?void 0:Ae.bitmap)||void 0===ct?void 0:ct.length)&&void 0!==At?At:0,padding:null!==(Cn=null===(Mt=Pn?.bits)||void 0===Mt?void 0:Mt.padding)&&void 0!==Cn?Cn:0}),Gn}(v,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:g=0}=r;let v,S;try{v=Gd(a).toUint8Array()}catch(F){if(F instanceof BT)return lu("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw F}try{S=new pD(v,c,g)}catch(F){return lu(F instanceof e0?"BloomFilter error: ":"Applying bloom filter failed: ",F),1}return 0===S.It?1:s!==t-this.oe(e.targetId,S)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(a=>{const c=this.Gt.ue(),g=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;t.vt(g)||(this.Yt(e,a,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((a,c)=>{const g=this.se(c);if(g){if(a.current&&Zm(g.target)){const v=new jn(g.target.path);null!==this.jt.get(v)||this.ae(c,v)||this.Yt(c,v,Go.newNoDocument(v,e))}a.Mt&&(t.set(c,a.Ot()),a.Ft())}});let r=Si();this.zt.forEach((a,c)=>{let g=!0;c.forEachWhile(v=>{const S=this.se(v);return!S||"TargetPurposeLimboResolution"===S.purpose||(g=!1,!1)}),g&&(r=r.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const s=new t0(e,t,this.Wt,this.jt,r);return this.jt=Ya(),this.zt=gD(),this.Wt=new wo(ti),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new SC,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new bo(ti),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||yn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new SC),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function gD(){return new wo(jn.comparator)}function CC(){return new wo(jn.comparator)}const i={asc:"ASCENDING",desc:"DESCENDING"},o={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l={and:"AND",or:"OR"};class u{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function h(n,e){return n.useProto3Json||ag(e)?e:{value:e}}function m(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function C(n,e){return m(n,e.toTimestamp())}function B(n){return Ir(!!n),Sr.fromTimestamp(function(e){const t=Sh(e);return new ca(t.seconds,t.nanos)}(n))}function X(n,e){return(t=n,new ls(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ae(n){const e=ls.fromString(n);return Ir(hO(e)),e}function xe(n,e){return X(n.databaseId,e.path)}function Qe(n,e){const t=ae(e);if(t.get(1)!==n.databaseId.projectId)throw new un(Bt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new un(Bt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new jn(Yn(t))}function _t(n,e){return X(n.databaseId,e)}function gn(n){return new ls(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yn(n){return Ir(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ar(n,e,t){return{name:xe(n,e),fields:t.value.mapValue.fields}}function Yf(n,e){return{documents:[_t(n,e.path)]}}function t_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=_t(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=_t(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(v){if(0!==v.length)return dO(Io.create(v,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(v){if(0!==v.length)return v.map(S=>{return{field:pg((F=S).field),direction:aP(F.dir)};var F})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=h(n,e.limit);var g,v;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function mD(n){let e=function zt(n){const e=ae(n);return 4===e.length?ls.emptyPath():Yn(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ir(1===r);const F=t.from[0];F.allDescendants?s=F.collectionId:e=e.child(F.collectionId)}let a=[];t.where&&(a=function(F){const K=uO(F);return K instanceof Io&&ib(K)?K.getFilters():[K]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(F=>{return new Uf(n0((K=F).field),function(he){switch(he){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(K.direction));var K}));let g=null;t.limit&&(g=function(F){let K;return K="object"==typeof F?F.value:F,ag(K)?null:K}(t.limit));let v=null;var F;t.startAt&&(v=new Oh((F=t.startAt).values||[],!!F.before));let S=null;return t.endAt&&(S=function(F){return new Oh(F.values||[],!F.before)}(t.endAt)),function YT(n,e,t,r,s,a,c,g){return new Ed(n,e,t,r,s,a,c,g)}(e,s,c,a,g,"F",v,S)}function uO(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=n0(e.unaryFilter.field);return Zi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=n0(e.unaryFilter.field);return Zi.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=n0(e.unaryFilter.field);return Zi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=n0(e.unaryFilter.field);return Zi.create(a,"!=",{nullValue:"NULL_VALUE"});default:return hr()}}(n):void 0!==n.fieldFilter?Zi.create(n0((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hr()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Io.create(e.compositeFilter.filters.map(t=>uO(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return hr()}}(e.compositeFilter.op))}(n):hr();var e}function aP(n){return i[n]}function lP(n){return o[n]}function cP(n){return l[n]}function pg(n){return{fieldPath:n.canonicalString()}}function n0(n){return cs.fromServerFormat(n.fieldPath)}function dO(n){return n instanceof Zi?function(e){if("=="===e.op){if(Fv(e.value))return{unaryFilter:{field:pg(e.field),op:"IS_NAN"}};if(Xw(e.value))return{unaryFilter:{field:pg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fv(e.value))return{unaryFilter:{field:pg(e.field),op:"IS_NOT_NAN"}};if(Xw(e.value))return{unaryFilter:{field:pg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pg(e.field),op:lP(e.op),value:e.value}}}(n):n instanceof Io?function(e){const t=e.getFilters().map(r=>dO(r));return 1===t.length?t[0]:{compositeFilter:{op:cP(e.op),filters:t}}}(n):hr()}function uP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Qf{constructor(e,t,r,s,a=Sr.min(),c=Sr.min(),g=ol.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Qf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fO{constructor(e){this.fe=e}}function RC(n){const e=mD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?db(e,e.limit,"L"):e}class s_{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ua(e.integerValue));else if("doubleValue"in e){const r=Ua(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),kf(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Gd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?eb(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):hr()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),jn.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}s_.Ve=new s_;class vP{constructor(){this.rn=new FC}addToCollectionParentIndex(e,t){return this.rn.add(t),Ct.resolve()}getCollectionParents(e,t){return Ct.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Ct.resolve()}deleteFieldIndex(e,t){return Ct.resolve()}getDocumentsMatchingTarget(e,t){return Ct.resolve(null)}getIndexType(e,t){return Ct.resolve(0)}getFieldIndexes(e,t){return Ct.resolve([])}getNextCollectionGroupToUpdate(e){return Ct.resolve(null)}getMinOffset(e,t){return Ct.resolve(Hl.min())}getMinOffsetFromCollectionGroup(e,t){return Ct.resolve(Hl.min())}updateCollectionGroup(e,t,r){return Ct.resolve()}updateIndexEntries(e,t){return Ct.resolve()}}class FC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new bo(ls.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bo(ls.comparator)).toArray()}}new Uint8Array(0);class Bc{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Bc(e,Bc.DEFAULT_COLLECTION_PERCENTILE,Bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Bc.DEFAULT_COLLECTION_PERCENTILE=10,Bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bc.DEFAULT=new Bc(41943040,Bc.DEFAULT_COLLECTION_PERCENTILE,Bc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bc.DISABLED=new Bc(-1,0,0);class a_{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new a_(0)}static Mn(){return new a_(-1)}}class DP{constructor(){this.changes=new zd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Go.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ct.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class BO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&hg(r.mutation,s,du.empty(),ca.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Si()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Si()){const s=wd();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let c=Gf();return a.forEach((g,v)=>{c=c.insert(g,v.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=wd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Si()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((c,g)=>{t.set(c,g)})})}computeViews(e,t,r,s){let a=Ya();const c=Hf(),g=Hf();return t.forEach((v,S)=>{const F=r.get(S.key);s.has(S.key)&&(void 0===F||F.mutation instanceof Ph)?a=a.insert(S.key,S):void 0!==F?(c.set(S.key,F.mutation.getFieldMask()),hg(F.mutation,S,F.mutation.getFieldMask(),ca.now())):c.set(S.key,du.empty())}),this.recalculateAndSaveOverlays(e,a).next(v=>(v.forEach((S,F)=>c.set(S,F)),t.forEach((S,F)=>{var K;return g.set(S,new CP(F,null!==(K=c.get(S))&&void 0!==K?K:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Hf();let s=new wo((c,g)=>c-g),a=Si();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const g of c)g.keys().forEach(v=>{const S=t.get(v);if(null===S)return;let F=r.get(v)||du.empty();F=g.applyToLocalView(S,F),r.set(v,F);const K=(s.get(g.batchId)||Si()).add(v);s=s.insert(g.batchId,K)})}).next(()=>{const c=[],g=s.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),S=v.key,F=v.value,K=Wv();F.forEach(he=>{if(!a.has(he)){const Ae=oD(t.get(he),r.get(he));null!==Ae&&K.set(he,Ae),a=a.add(he)}}),c.push(this.documentOverlayCache.saveOverlays(e,S,K))}return Ct.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return jn.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function $v(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const c=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Ct.resolve(wd());let g=-1,v=a;return c.next(S=>Ct.forEach(S,(F,K)=>(g<K.largestBatchId&&(g=K.largestBatchId),a.get(F)?Ct.resolve():this.remoteDocumentCache.getEntry(e,F).next(he=>{v=v.insert(F,he)}))).next(()=>this.populateOverlays(e,S,a)).next(()=>this.computeViews(e,v,S,Si())).next(F=>({batchId:g,changes:zv(F)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new jn(t)).next(r=>{let s=Gf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let a=Gf();return this.indexManager.getCollectionParents(e,s).next(c=>Ct.forEach(c,g=>{const v=(S=t,F=g.child(s),new Ed(F,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,F;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(S=>{S.forEach((F,K)=>{a=a.insert(F,K)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(a=>{s.forEach((g,v)=>{const S=v.getKey();null===a.get(S)&&(a=a.insert(S,Go.newInvalidDocument(S)))});let c=Gf();return a.forEach((g,v)=>{const S=s.get(g);void 0!==S&&hg(S.mutation,v,du.empty(),ca.now()),Hv(t,v)&&(c=c.insert(g,v))}),c})}}class xP{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Ct.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:B(r.createTime)}),Ct.resolve()}getNamedQuery(e,t){return Ct.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:RC(r.bundledQuery),readTime:B(r.readTime)}),Ct.resolve();var r}}class RP{constructor(){this.overlays=new wo(jn.comparator),this.ls=new Map}getOverlay(e,t){return Ct.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wd();return Ct.forEach(t,s=>this.getOverlay(e,s).next(a=>{null!==a&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.we(e,t,a)}),Ct.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),Ct.resolve()}getOverlaysForCollection(e,t,r){const s=wd(),a=t.length+1,c=new jn(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const v=g.getNext().value,S=v.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===a&&v.largestBatchId>r&&s.set(v.getKey(),v)}return Ct.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new wo((S,F)=>S-F);const c=this.overlays.getIterator();for(;c.hasNext();){const S=c.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let F=a.get(S.largestBatchId);null===F&&(F=wd(),a=a.insert(S.largestBatchId,F)),F.set(S.getKey(),S)}}const g=wd(),v=a.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((S,F)=>g.set(S,F)),!(g.size()>=s)););return Ct.resolve(g)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const c=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new vb(t,r));let a=this.ls.get(t);void 0===a&&(a=Si(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class LC{constructor(){this.fs=new bo(ac.ds),this.ws=new bo(ac._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new ac(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new ac(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new jn(new ls([])),r=new ac(t,e),s=new ac(t,e+1),a=[];return this.ws.forEachInRange([r,s],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new jn(new ls([])),r=new ac(t,e),s=new ac(t,e+1);let a=Si();return this.ws.forEachInRange([r,s],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new ac(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ac{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return jn.comparator(e.key,t.key)||ti(e.As,t.As)}static _s(e,t){return ti(e.As,t.As)||jn.comparator(e.key,t.key)}}class OP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new bo(ac.ds)}checkEmpty(e){return Ct.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const a=this.vs;this.vs++;const c=new fg(a,t,r,s);this.mutationQueue.push(c);for(const g of s)this.Rs=this.Rs.add(new ac(g.key,a)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Ct.resolve(c)}lookupMutationBatch(e,t){return Ct.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),a=s<0?0:s;return Ct.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ct.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ac(t,0),s=new ac(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,s],c=>{const g=this.Ps(c.As);a.push(g)}),Ct.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new bo(ti);return t.forEach(s=>{const a=new ac(s,0),c=new ac(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],g=>{r=r.add(g.As)})}),Ct.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;jn.isDocumentKey(a)||(a=a.child(""));const c=new ac(new jn(a),0);let g=new bo(ti);return this.Rs.forEachWhile(v=>{const S=v.key.path;return!!r.isPrefixOf(S)&&(S.length===s&&(g=g.add(v.As)),!0)},c),Ct.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Ir(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Ct.forEach(t.mutations,s=>{const a=new ac(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new ac(t,0),s=this.Rs.firstAfterOrEqual(r);return Ct.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return Ct.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class MP{constructor(e){this.Ds=e,this.docs=new wo(jn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ct.resolve(r?r.document.mutableCopy():Go.newInvalidDocument(t))}getEntries(e,t){let r=Ya();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Go.newInvalidDocument(s))}),Ct.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Ya();const c=t.path,g=new jn(c.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:S,value:{document:F}}=v.getNext();if(!c.isPrefixOf(S.path))break;S.path.length>c.length+1||Hw(YA(F),r)<=0||(s.has(F.key)||Hv(t,F))&&(a=a.insert(F.key,F.mutableCopy()))}return Ct.resolve(a)}getAllFromCollectionGroup(e,t,r,s){hr()}Cs(e,t){return Ct.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new PP(this)}getSize(e){return Ct.resolve(this.size)}}class PP extends DP{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),Ct.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class NP{constructor(e){this.persistence=e,this.xs=new zd(t=>vd(t),cg),this.lastRemoteSnapshotVersion=Sr.min(),this.highestTargetId=0,this.Ns=0,this.ks=new LC,this.targetCount=0,this.Ms=a_.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),Ct.resolve()}getLastRemoteSnapshotVersion(e){return Ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ct.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Ct.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),Ct.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new a_(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Ct.resolve()}updateTargetData(e,t){return this.Fn(t),Ct.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ct.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.xs.forEach((c,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),Ct.waitFor(a).next(()=>s)}getTargetCount(e){return Ct.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return Ct.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),Ct.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(c=>{a.push(s.markPotentiallyOrphaned(e,c))}),Ct.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Ct.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return Ct.resolve(r)}containsKey(e,t){return Ct.resolve(this.ks.containsKey(t))}}class VC{constructor(e,t){this.$s={},this.overlays={},this.Os=new uu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new NP(this),this.indexManager=new vP,this.remoteDocumentCache=new MP(r=>this.referenceDelegate.Ls(r)),this.serializer=new fO(t),this.qs=new xP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new OP(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){yn("MemoryPersistence","Starting transaction:",e);const s=new kP(this.Os.next());return this.referenceDelegate.Us(),r(s).next(a=>this.referenceDelegate.Ks(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Gs(e,t){return Ct.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class kP extends QA{constructor(e){super(),this.currentSequenceNumber=e}}class DD{constructor(e){this.persistence=e,this.Qs=new LC,this.js=null}static zs(e){return new DD(e)}get Ws(){if(this.js)return this.js;throw hr()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),Ct.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),Ct.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Ct.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ct.forEach(this.Ws,r=>{const s=jn.fromPath(r);return this.Hs(e,s).next(a=>{a||t.removeEntry(s,Sr.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Ct.or([()=>Ct.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class $C{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=Si(),s=Si();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new $C(e,t.fromCache,r,s)}}class jO{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(a=>a||this.Gi(e,t,s,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(gC(t))return Ct.resolve(null);let r=wc(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=db(t,null,"F"),r=wc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Si(...a);return this.Ui.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(v=>{const S=this.ji(t,g);return this.zi(t,S,c,v.readTime)?this.Ki(e,db(t,null,"F")):this.Wi(e,S,t,v)}))})))}Gi(e,t,r,s){return gC(t)||s.isEqual(Sr.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const c=this.ji(t,a);return this.zi(t,c,r,s)?this.Qi(e,t):(Lw()<=_e.in.DEBUG&&yn("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ZT(t)),this.Wi(e,c,t,function KA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Sr.fromTimestamp(1e9===r?new ca(t+1,0):new ca(t,r));return new Hl(s,jn.empty(),e)}(s,-1)))})}ji(e,t){let r=new bo(Jm(e));return t.forEach((s,a)=>{Hv(e,a)&&(r=r.add(a))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Qi(e,t){return Lw()<=_e.in.DEBUG&&yn("QueryEngine","Using full collection scan to execute query:",ZT(t)),this.Ui.getDocumentsMatchingQuery(e,t,Hl.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class LP{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new wo(ti),this.Yi=new zd(a=>vd(a),cg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function GO(n,e){return GC.apply(this,arguments)}function GC(){return GC=(0,be.Z)(function*(n,e){const t=Zn(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],g=[];let v=Si();for(const S of s){c.push(S.batchId);for(const F of S.mutations)v=v.add(F.key)}for(const S of a){g.push(S.batchId);for(const F of S.mutations)v=v.add(F.key)}return t.localDocuments.getDocuments(r,v).next(S=>({er:S,removedBatchIds:c,addedBatchIds:g}))})})}),GC.apply(this,arguments)}function HO(n){const e=Zn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function UP(n,e){const t=Zn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a0(n,e,t){return HC.apply(this,arguments)}function HC(){return HC=(0,be.Z)(function*(n,e,t){const r=Zn(n),s=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Wu(c))throw c;yn("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),HC.apply(this,arguments)}function CD(n,e,t){const r=Zn(n);let s=Sr.min(),a=Si();return r.persistence.runTransaction("Execute query","readonly",c=>function(g,v,S){const F=Zn(g),K=F.Yi.get(S);return void 0!==K?Ct.resolve(F.Ji.get(K)):F.Bs.getTargetData(v,S)}(r,c,wc(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,g.targetId).next(v=>{a=v})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?s:Sr.min(),t?a:Si())).next(g=>(function KO(n,e,t){let r=n.Xi.get(e)||Sr.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}(r,function JT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,ir:a})))}class YC{constructor(){this.activeTargetIds=function Kv(){return aO}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZO{constructor(){this.Hr=new YC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new YC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GP{Yr(e){}shutdown(){}}class JO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){yn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){yn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let OD=null;function ZC(){return null===OD?OD=268435456+Math.round(2147483648*Math.random()):OD++,"0x"+OD.toString(16)}const HP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zP{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Uc="WebChannelConnection";class WP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,a){const c=ZC(),g=this.To(e,t);yn("RestConnection",`Sending RPC '${e}' ${c}:`,g,r);const v={};return this.Eo(v,s,a),this.Ao(e,g,v,r).then(S=>(yn("RestConnection",`Received RPC '${e}' ${c}: `,S),S),S=>{throw lu("RestConnection",`RPC '${e}' ${c} failed with error: `,S,"url: ",g,"request:",r),S})}vo(e,t,r,s,a,c){return this.Io(e,t,r,s,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}To(e,t){return`${this.mo}/v1/${t}:${HP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const a=ZC();return new Promise((c,g)=>{const v=new $A;v.setWithCredentials(!0),v.listenOnce(Cv.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Fw.NO_ERROR:const F=v.getResponseJson();yn(Uc,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(F)),c(F);break;case Fw.TIMEOUT:yn(Uc,`RPC '${e}' ${a} timed out`),g(new un(Bt.DEADLINE_EXCEEDED,"Request time out"));break;case Fw.HTTP_ERROR:const K=v.getStatus();if(yn(Uc,`RPC '${e}' ${a} failed with status:`,K,"response text:",v.getResponseText()),K>0){let he=v.getResponseJson();Array.isArray(he)&&(he=he[0]);const Ae=he?.error;if(Ae&&Ae.status&&Ae.message){const ct=function(At){const Mt=At.toLowerCase().replace(/_/g,"-");return Object.values(Bt).indexOf(Mt)>=0?Mt:Bt.UNKNOWN}(Ae.status);g(new un(ct,Ae.message))}else g(new un(Bt.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new un(Bt.UNAVAILABLE,"Connection failed."));break;default:hr()}}finally{yn(Uc,`RPC '${e}' ${a} completed.`)}});const S=JSON.stringify(s);yn(Uc,`RPC '${e}' ${a} sending request:`,s),v.send(t,"POST",S,r,15)})}Ro(e,t,r){const s=ZC(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=UA(),g=jA(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},S=this.longPollingOptions.timeoutSeconds;void 0!==S&&(v.longPollingTimeout=Math.round(1e3*S)),this.useFetchStreams&&(v.xmlHttpFactory=new _T({})),this.Eo(v.initMessageHeaders,t,r),v.encodeInitMessageHeaders=!0;const F=a.join("");yn(Uc,`Creating RPC '${e}' stream ${s}: ${F}`,v);const K=c.createWebChannel(F,v);let he=!1,Ae=!1;const ct=new zP({ro:Mt=>{Ae?yn(Uc,`Not sending because RPC '${e}' stream ${s} is closed:`,Mt):(he||(yn(Uc,`Opening RPC '${e}' stream ${s} transport.`),K.open(),he=!0),yn(Uc,`RPC '${e}' stream ${s} sending:`,Mt),K.send(Mt))},oo:()=>K.close()}),At=(Mt,Cn,Gn)=>{Mt.listen(Cn,Pn=>{try{Gn(Pn)}catch(Gr){setTimeout(()=>{throw Gr},0)}})};return At(K,Of.EventType.OPEN,()=>{Ae||yn(Uc,`RPC '${e}' stream ${s} transport opened.`)}),At(K,Of.EventType.CLOSE,()=>{Ae||(Ae=!0,yn(Uc,`RPC '${e}' stream ${s} transport closed`),ct.wo())}),At(K,Of.EventType.ERROR,Mt=>{Ae||(Ae=!0,lu(Uc,`RPC '${e}' stream ${s} transport errored:`,Mt),ct.wo(new un(Bt.UNAVAILABLE,"The operation could not be completed")))}),At(K,Of.EventType.MESSAGE,Mt=>{var Cn;if(!Ae){const Gn=Mt.data[0];Ir(!!Gn);const Gr=Gn.error||(null===(Cn=Gn[0])||void 0===Cn?void 0:Cn.error);if(Gr){yn(Uc,`RPC '${e}' stream ${s} received error:`,Gr);const si=Gr.status;let Hr=function(lc){const ZD=al[lc];if(void 0!==ZD)return dD(ZD)}(si),Us=Gr.message;void 0===Hr&&(Hr=Bt.INTERNAL,Us="Unknown error status: "+si+" with message "+Gr.message),Ae=!0,ct.wo(new un(Hr,Us)),K.close()}else yn(Uc,`RPC '${e}' stream ${s} received:`,Gn),ct._o(Gn)}}),At(g,gT.STAT_EVENT,Mt=>{Mt.stat===mT.PROXY?yn(Uc,`RPC '${e}' stream ${s} detected buffering proxy`):Mt.stat===mT.NOPROXY&&yn(Uc,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ct.fo()},0),ct}}function MD(){return typeof document<"u"?document:null}function Rb(n){return new u(n,!0)}class JC{constructor(e,t,r=1e3,s=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&yn("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class eM{constructor(e,t,r,s,a,c,g,v){this.ii=e,this.$o=r,this.Oo=s,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new JC(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,be.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,be.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===Bt.RESOURCE_EXHAUSTED?(Aa(t.toString()),Aa("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===Bt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new un(Bt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,be.Z)(function*(){e.state=0,e.start()}))}tu(e){return yn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(yn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qP extends eM{constructor(e,t,r,s,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Ni(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:hr(),s=e.targetChange.targetIds||[],a=function(v,S){return v.useProto3Json?(Ir(void 0===S||"string"==typeof S),ol.fromBase64String(S||"")):(Ir(void 0===S||S instanceof Uint8Array),ol.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(v){const S=void 0===v.code?Bt.UNKNOWN:dD(v.code);return new un(S,v.message||"")}(c);t=new DC(r,s,a,g||null)}else if("documentChange"in e){const r=e.documentChange,s=Qe(n,r.document.name),a=B(r.document.updateTime),c=r.document.createTime?B(r.document.createTime):Sr.min(),g=new Ml({mapValue:{fields:r.document.fields}}),v=Go.newFoundDocument(s,a,c,g);t=new wb(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,s=Qe(n,r.document),a=r.readTime?B(r.readTime):Sr.min(),c=Go.newNoDocument(s,a);t=new wb([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,s=Qe(n,r.document);t=new wb([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return hr();{const r=e.filter,{count:s=0,unchangedNames:a}=r,c=new uD(s,a);t=new TC(r.targetId,c)}}var v;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Sr.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Sr.min():a.readTime?B(a.readTime):Sr.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=gn(this.serializer),t.addTarget=function(s,a){let c;const g=a.target;if(c=Zm(g)?{documents:Yf(s,g)}:{query:t_(s,g)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=T(s,a.resumeToken);const v=h(s,a.expectedCount);null!==v&&(c.expectedCount=v)}else if(a.snapshotVersion.compareTo(Sr.min())>0){c.readTime=m(s,a.snapshotVersion.toTimestamp());const v=h(s,a.expectedCount);null!==v&&(c.expectedCount=v)}return c}(this.serializer,e);const r=function xC(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hr()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=gn(this.serializer),t.removeTarget=e,this.Wo(t)}}class KP extends eM{constructor(e,t,r,s,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ir(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function qd(n,e){return n&&n.length>0?(Ir(void 0!==e),n.map(t=>function(r,s){let a=B(r.updateTime?r.updateTime:s);return a.isEqual(Sr.min())&&(a=B(s)),new cO(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=B(e.commitTime);return this.listener.cu(r,t)}return Ir(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=gn(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Is(n,e){let t;if(e instanceof qf)t={update:Ar(n,e.key,e.value)};else if(e instanceof Kf)t={delete:xe(n,e.key)};else if(e instanceof Ph)t={update:Ar(n,e.key,e.data),updateMask:uP(e.fieldMask)};else{if(!(e instanceof _b))return hr();t={verify:xe(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const c=a.transform;if(c instanceof dg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof zf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Wd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Wf)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw hr()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:C(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:hr()),t;var s}(this.serializer,r))};this.Wo(t)}}class YP extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new un(Bt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Io(e,t,r,s,a)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new un(Bt.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,t,r,a,c,s)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Bt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new un(Bt.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class ZP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Aa(t),this.mu=!1):yn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class JP{constructor(e,t,r,s,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(g=>{r.enqueueAndForget((0,be.Z)(function*(){var v;yg(c)&&(yn("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,be.Z)(function*(S){const F=Zn(S);F.vu.add(4),yield l0(F),F.bu.set("Unknown"),F.vu.delete(4),yield Ob(F)}),function(S){return v.apply(this,arguments)})(c))}))}),this.bu=new ZP(r,s)}}function Ob(n){return ex.apply(this,arguments)}function ex(){return ex=(0,be.Z)(function*(n){if(yg(n))for(const e of n.Ru)yield e(!0)}),ex.apply(this,arguments)}function l0(n){return tx.apply(this,arguments)}function tx(){return tx=(0,be.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),tx.apply(this,arguments)}function PD(n,e){const t=Zn(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),ix(t)?rx(t):u0(t).Ko()&&nx(t,e))}function Mb(n,e){const t=Zn(n),r=u0(t);t.Au.delete(e),r.Ko()&&tM(t,e),0===t.Au.size&&(r.Ko()?r.jo():yg(t)&&t.bu.set("Unknown"))}function nx(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Sr.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}u0(n).su(e)}function tM(n,e){n.Vu.qt(e),u0(n).iu(e)}function rx(n){n.Vu=new AC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),u0(n).start(),n.bu.gu()}function ix(n){return yg(n)&&!u0(n).Uo()&&n.Au.size>0}function yg(n){return 0===Zn(n).vu.size}function nM(n){n.Vu=void 0}function XP(n){return sx.apply(this,arguments)}function sx(){return sx=(0,be.Z)(function*(n){n.Au.forEach((e,t)=>{nx(n,e)})}),sx.apply(this,arguments)}function eN(n,e){return ox.apply(this,arguments)}function ox(){return ox=(0,be.Z)(function*(n,e){nM(n),ix(n)?(n.bu.Iu(e),rx(n)):n.bu.set("Unknown")}),ox.apply(this,arguments)}function tN(n,e,t){return ax.apply(this,arguments)}function ax(){return ax=(0,be.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof DC&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(s,a){const c=a.cause;for(const g of a.targetIds)s.Au.has(g)&&(yield s.remoteSyncer.rejectListen(g,c),s.Au.delete(g),s.Vu.removeTarget(g))}),function(s,a){return r.apply(this,arguments)})(n,e)}catch(r){yn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ND(n,r)}else if(e instanceof wb?n.Vu.Ht(e):e instanceof TC?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Sr.min()))try{const r=yield HO(n.localStore);t.compareTo(r)>=0&&(yield function(s,a){const c=s.Vu.ce(a);return c.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const S=s.Au.get(v);S&&s.Au.set(v,S.withResumeToken(g.resumeToken,a))}}),c.targetMismatches.forEach((g,v)=>{const S=s.Au.get(g);if(!S)return;s.Au.set(g,S.withResumeToken(ol.EMPTY_BYTE_STRING,S.snapshotVersion)),tM(s,g);const F=new Qf(S.target,g,v,S.sequenceNumber);nx(s,F)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){yn("RemoteStore","Failed to raise snapshot:",r),yield ND(n,r)}var r}),ax.apply(this,arguments)}function ND(n,e,t){return lx.apply(this,arguments)}function lx(){return lx=(0,be.Z)(function*(n,e,t){if(!Wu(e))throw e;n.vu.add(1),yield l0(n),n.bu.set("Offline"),t||(t=()=>HO(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){yn("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Ob(n)}))}),lx.apply(this,arguments)}function rM(n,e){return e().catch(t=>ND(n,t,e))}function c0(n){return cx.apply(this,arguments)}function cx(){return cx=(0,be.Z)(function*(n){const e=Zn(n),t=vg(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;nN(e);)try{const s=yield UP(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,rN(e,s)}catch(s){yield ND(e,s)}iM(e)&&sM(e)}),cx.apply(this,arguments)}function nN(n){return yg(n)&&n.Eu.length<10}function rN(n,e){n.Eu.push(e);const t=vg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function iM(n){return yg(n)&&!vg(n).Uo()&&n.Eu.length>0}function sM(n){vg(n).start()}function iN(n){return ux.apply(this,arguments)}function ux(){return ux=(0,be.Z)(function*(n){vg(n).hu()}),ux.apply(this,arguments)}function sN(n){return dx.apply(this,arguments)}function dx(){return dx=(0,be.Z)(function*(n){const e=vg(n);for(const t of n.Eu)e.uu(t.mutations)}),dx.apply(this,arguments)}function oN(n,e,t){return hx.apply(this,arguments)}function hx(){return hx=(0,be.Z)(function*(n,e,t){const r=n.Eu.shift(),s=yb.from(r,e,t);yield rM(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield c0(n)}),hx.apply(this,arguments)}function aN(n,e){return fx.apply(this,arguments)}function fx(){return fx=(0,be.Z)(function*(n,e){var t;e&&vg(n).ou&&(yield(t=(0,be.Z)(function*(r,s){if(function EC(n){switch(n){default:return hr();case Bt.CANCELLED:case Bt.UNKNOWN:case Bt.DEADLINE_EXCEEDED:case Bt.RESOURCE_EXHAUSTED:case Bt.INTERNAL:case Bt.UNAVAILABLE:case Bt.UNAUTHENTICATED:return!1;case Bt.INVALID_ARGUMENT:case Bt.NOT_FOUND:case Bt.ALREADY_EXISTS:case Bt.PERMISSION_DENIED:case Bt.FAILED_PRECONDITION:case Bt.ABORTED:case Bt.OUT_OF_RANGE:case Bt.UNIMPLEMENTED:case Bt.DATA_LOSS:return!0}}(a=s.code)&&a!==Bt.ABORTED){const c=r.Eu.shift();vg(r).Qo(),yield rM(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,s)),yield c0(r)}var a}),function(r,s){return t.apply(this,arguments)})(n,e)),iM(n)&&sM(n)}),fx.apply(this,arguments)}function oM(n,e){return px.apply(this,arguments)}function px(){return px=(0,be.Z)(function*(n,e){const t=Zn(n);t.asyncQueue.verifyOperationInProgress(),yn("RemoteStore","RemoteStore received new credentials");const r=yg(t);t.vu.add(3),yield l0(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Ob(t)}),px.apply(this,arguments)}function mx(){return mx=(0,be.Z)(function*(n,e){const t=Zn(n);e?(t.vu.delete(2),yield Ob(t)):e||(t.vu.add(2),yield l0(t),t.bu.set("Unknown"))}),mx.apply(this,arguments)}function u0(n){return n.Su||(n.Su=function(e,t,r){const s=Zn(e);return s.fu(),new qP(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:XP.bind(null,n),ao:eN.bind(null,n),nu:tN.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Su.Qo(),ix(n)?rx(n):n.bu.set("Unknown")):(yield n.Su.stop(),nM(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function vg(n){return n.Du||(n.Du=function(e,t,r){const s=Zn(e);return s.fu(),new KP(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:iN.bind(null,n),ao:aN.bind(null,n),au:sN.bind(null,n),cu:oN.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Du.Qo(),yield c0(n)):(yield n.Du.stop(),n.Eu.length>0&&(yn("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class _x{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,s,a){const c=Date.now()+r,g=new _x(e,t,c,s,a);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new un(Bt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function d0(n,e){if(Aa("AsyncQueue",`${e}: ${n}`),Wu(n))return new un(Bt.UNAVAILABLE,`${e}: ${n}`);throw n}class h0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||jn.comparator(t.key,r.key):(t,r)=>jn.comparator(t.key,r.key),this.keyedMap=Gf(),this.sortedSet=new wo(this.comparator)}static emptySet(e){return new h0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof h0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new h0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aM{constructor(){this.Cu=new wo(jn.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):hr():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class f0{constructor(e,t,r,s,a,c,g,v,S){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=S}static fromInitialDocuments(e,t,r,s,a){const c=[];return t.forEach(g=>{c.push({type:0,doc:g})}),new f0(e,t,h0.emptySet(t),c,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class lN{constructor(){this.Nu=void 0,this.listeners=[]}}class cN{constructor(){this.queries=new zd(e=>mC(e),Gv),this.onlineState="Unknown",this.ku=new Set}}function vx(){return vx=(0,be.Z)(function*(n,e){const t=Zn(n),r=e.query;let s=!1,a=t.queries.get(r);if(a||(s=!0,a=new lN),s)try{a.Nu=yield t.onListen(r)}catch(c){const g=d0(c,`Initialization of query '${ZT(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&bx(t)}),vx.apply(this,arguments)}function wx(){return wx=(0,be.Z)(function*(n,e){const t=Zn(n),r=e.query;let s=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),s=0===a.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),wx.apply(this,arguments)}function uN(n,e){const t=Zn(n);let r=!1;for(const s of e){const c=t.queries.get(s.query);if(c){for(const g of c.listeners)g.$u(s)&&(r=!0);c.Nu=s}}r&&bx(t)}function dN(n,e,t){const r=Zn(n),s=r.queries.get(e);if(s)for(const a of s.listeners)a.onError(t);r.queries.delete(e)}function bx(n){n.ku.forEach(e=>{e.next()})}class Ix{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new f0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=f0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class uM{constructor(e){this.key=e}}class dM{constructor(e){this.key=e}}class hM{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Si(),this.mutatedKeys=Si(),this.tc=Jm(e),this.ec=new h0(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new aM,s=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,c=s,g=!1;const v="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,S="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((F,K)=>{const he=s.get(F),Ae=Hv(this.query,K)?K:null,ct=!!he&&this.mutatedKeys.has(he.key),At=!!Ae&&(Ae.hasLocalMutations||this.mutatedKeys.has(Ae.key)&&Ae.hasCommittedMutations);let Mt=!1;he&&Ae?he.data.isEqual(Ae.data)?ct!==At&&(r.track({type:3,doc:Ae}),Mt=!0):this.rc(he,Ae)||(r.track({type:2,doc:Ae}),Mt=!0,(v&&this.tc(Ae,v)>0||S&&this.tc(Ae,S)<0)&&(g=!0)):!he&&Ae?(r.track({type:0,doc:Ae}),Mt=!0):he&&!Ae&&(r.track({type:1,doc:he}),Mt=!0,(v||S)&&(g=!0)),Mt&&(Ae?(c=c.add(Ae),a=At?a.add(F):a.delete(F)):(c=c.delete(F),a=a.delete(F)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const F="F"===this.query.limitType?c.last():c.first();c=c.delete(F.key),a=a.delete(F.key),r.track({type:1,doc:F})}return{ec:c,ic:r,zi:g,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((S,F)=>function(K,he){const Ae=ct=>{switch(ct){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hr()}};return Ae(K)-Ae(he)}(S.type,F.type)||this.tc(S.doc,F.doc)),this.oc(r);const c=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,v=g!==this.Xu;return this.Xu=g,0!==a.length||v?{snapshot:new f0(this.query,e.ec,s,a,e.mutatedKeys,0===g,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new aM,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Si(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new dM(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new uM(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Si();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return f0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gN{constructor(e){this.key=e,this.fc=!1}}class mN{constructor(e,t,r,s,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new zd(g=>mC(g),Gv),this._c=new Map,this.mc=new Set,this.gc=new wo(jn.comparator),this.yc=new Map,this.Ic=new LC,this.Tc={},this.Ec=new Map,this.Ac=a_.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function _N(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,be.Z)(function*(n,e){const t=function qx(n){const e=Zn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EN.bind(null,e),e.dc.nu=uN.bind(null,e.eventManager),e.dc.Pc=dN.bind(null,e.eventManager),e}(n);let r,s;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),s=a.view.lc();else{const c=yield function o0(n,e){const t=Zn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(a=>a?(s=a,Ct.resolve(s)):t.Bs.allocateTargetId(r).next(c=>(s=new Qf(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,wc(e)),g=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=yield function Dx(n,e,t,r,s){return Sx.apply(this,arguments)}(t,e,r,"current"===g,c.resumeToken),t.isPrimaryClient&&PD(t.remoteStore,c)}return s}),Tx.apply(this,arguments)}function Sx(){return Sx=(0,be.Z)(function*(n,e,t,r,s){n.Rc=(K,he,Ae)=>{return(ct=(0,be.Z)(function*(At,Mt,Cn,Gn){let Pn=Mt.view.sc(Cn);Pn.zi&&(Pn=yield CD(At.localStore,Mt.query,!1).then(({documents:Hr})=>Mt.view.sc(Hr,Pn)));const Gr=Gn&&Gn.targetChanges.get(Mt.targetId),si=Mt.view.applyChanges(Pn,At.isPrimaryClient,Gr);return Fx(At,Mt.targetId,si.cc),si.snapshot}),function(At,Mt,Cn,Gn){return ct.apply(this,arguments)})(n,K,he,Ae);var ct};const a=yield CD(n.localStore,e,!0),c=new hM(e,a.ir),g=c.sc(a.documents),v=e_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),S=c.applyChanges(g,n.isPrimaryClient,v);Fx(n,t,S.cc);const F=new pN(e,t,c);return n.wc.set(e,F),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),S.snapshot}),Sx.apply(this,arguments)}function yN(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,be.Z)(function*(n,e){const t=Zn(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(a=>!Gv(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield a0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Mb(t.remoteStore,r.targetId),p0(t,r.targetId)}).catch($d))):(p0(t,r.targetId),yield a0(t.localStore,r.targetId,!0))}),Ax.apply(this,arguments)}function Cx(){return Cx=(0,be.Z)(function*(n,e,t){const r=function Kx(n){const e=Zn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bN.bind(null,e),e}(n);try{const s=yield function(a,c){const g=Zn(a),v=ca.now(),S=c.reduce((he,Ae)=>he.add(Ae.key),Si());let F,K;return g.persistence.runTransaction("Locally write mutations","readwrite",he=>{let Ae=Ya(),ct=Si();return g.Zi.getEntries(he,S).next(At=>{Ae=At,Ae.forEach((Mt,Cn)=>{Cn.isValidDocument()||(ct=ct.add(Mt))})}).next(()=>g.localDocuments.getOverlayedDocuments(he,Ae)).next(At=>{F=At;const Mt=[];for(const Cn of c){const Gn=vC(Cn,F.get(Cn.key).overlayedDocument);null!=Gn&&Mt.push(new Ph(Cn.key,Gn,$T(Gn.value.mapValue),ua.exists(!0)))}return g.mutationQueue.addMutationBatch(he,v,Mt,c)}).next(At=>{K=At;const Mt=At.applyToLocalDocumentSet(F,ct);return g.documentOverlayCache.saveOverlays(he,At.batchId,Mt)})}).then(()=>({batchId:K.batchId,changes:zv(F)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,c,g){let v=a.Tc[a.currentUser.toKey()];v||(v=new wo(ti)),v=v.insert(c,g),a.Tc[a.currentUser.toKey()]=v}(r,s.batchId,t),yield Zf(r,s.changes),yield c0(r.remoteStore)}catch(s){const a=d0(s,"Failed to persist write");t.reject(a)}}),Cx.apply(this,arguments)}function fM(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,be.Z)(function*(n,e){const t=Zn(n);try{const r=yield function BP(n,e){const t=Zn(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const g=[];e.targetChanges.forEach((F,K)=>{const he=s.get(K);if(!he)return;g.push(t.Bs.removeMatchingKeys(a,F.removedDocuments,K).next(()=>t.Bs.addMatchingKeys(a,F.addedDocuments,K)));let Ae=he.withSequenceNumber(a.currentSequenceNumber);var ct,At,Mt;null!==e.targetMismatches.get(K)?Ae=Ae.withResumeToken(ol.EMPTY_BYTE_STRING,Sr.min()).withLastLimboFreeSnapshotVersion(Sr.min()):F.resumeToken.approximateByteSize()>0&&(Ae=Ae.withResumeToken(F.resumeToken,r)),s=s.insert(K,Ae),At=Ae,Mt=F,(0===(ct=he).resumeToken.approximateByteSize()||At.snapshotVersion.toMicroseconds()-ct.snapshotVersion.toMicroseconds()>=3e8||Mt.addedDocuments.size+Mt.modifiedDocuments.size+Mt.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(a,Ae))});let v=Ya(),S=Si();if(e.documentUpdates.forEach(F=>{e.resolvedLimboDocuments.has(F)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(a,F))}),g.push(function zO(n,e,t){let r=Si(),s=Si();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=Ya();return t.forEach((g,v)=>{const S=a.get(g);v.isFoundDocument()!==S.isFoundDocument()&&(s=s.add(g)),v.isNoDocument()&&v.version.isEqual(Sr.min())?(e.removeEntry(g,v.readTime),c=c.insert(g,v)):!S.isValidDocument()||v.version.compareTo(S.version)>0||0===v.version.compareTo(S.version)&&S.hasPendingWrites?(e.addEntry(v),c=c.insert(g,v)):yn("LocalStore","Ignoring outdated watch update for ",g,". Current version:",S.version," Watch version:",v.version)}),{nr:c,sr:s}})}(a,c,e.documentUpdates).next(F=>{v=F.nr,S=F.sr})),!r.isEqual(Sr.min())){const F=t.Bs.getLastRemoteSnapshotVersion(a).next(K=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));g.push(F)}return Ct.waitFor(g).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,v,S)).next(()=>v)}).then(a=>(t.Ji=s,a))}(t.localStore,e);e.targetChanges.forEach((s,a)=>{const c=t.yc.get(a);c&&(Ir(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.fc=!0:s.modifiedDocuments.size>0?Ir(c.fc):s.removedDocuments.size>0&&(Ir(c.fc),c.fc=!1))}),yield Zf(t,r,e)}catch(r){yield $d(r)}}),xx.apply(this,arguments)}function pM(n,e,t){const r=Zn(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((a,c)=>{const g=c.view.Mu(e);g.snapshot&&s.push(g.snapshot)}),function(a,c){const g=Zn(a);g.onlineState=c;let v=!1;g.queries.forEach((S,F)=>{for(const K of F.listeners)K.Mu(c)&&(v=!0)}),v&&bx(g)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EN(n,e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,be.Z)(function*(n,e,t){const r=Zn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),a=s&&s.key;if(a){let c=new wo(jn.comparator);c=c.insert(a,Go.newNoDocument(a,Sr.min()));const g=Si().add(a),v=new t0(Sr.min(),new Map,new wo(ti),c,g);yield fM(r,v),r.gc=r.gc.remove(a),r.yc.delete(e),Lx(r)}else yield a0(r.localStore,e,!1).then(()=>p0(r,e,t)).catch($d)}),Rx.apply(this,arguments)}function wN(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,be.Z)(function*(n,e){const t=Zn(n),r=e.batch.batchId;try{const s=yield function VP(n,e){const t=Zn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,g,v,S){const F=v.batch,K=F.keys();let he=Ct.resolve();return K.forEach(Ae=>{he=he.next(()=>S.getEntry(g,Ae)).next(ct=>{const At=v.docVersions.get(Ae);Ir(null!==At),ct.version.compareTo(At)<0&&(F.applyToRemoteDocument(ct,v),ct.isValidDocument()&&(ct.setReadTime(v.commitVersion),S.addEntry(ct)))})}),he.next(()=>c.mutationQueue.removeMutationBatch(g,F))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let g=Si();for(let v=0;v<c.mutationResults.length;++v)c.mutationResults[v].transformResults.length>0&&(g=g.add(c.batch.mutations[v].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);kx(t,r,null),Nx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Zf(t,s)}catch(s){yield $d(s)}}),Ox.apply(this,arguments)}function bN(n,e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,be.Z)(function*(n,e,t){const r=Zn(n);try{const s=yield function(a,c){const g=Zn(a);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return g.mutationQueue.lookupMutationBatch(v,c).next(F=>(Ir(null!==F),S=F.keys(),g.mutationQueue.removeMutationBatch(v,F))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,S,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S)).next(()=>g.localDocuments.getDocuments(v,S))})}(r.localStore,e);kx(r,e,t),Nx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Zf(r,s)}catch(s){yield $d(s)}}),Mx.apply(this,arguments)}function Nx(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function kx(n,e,t){const r=Zn(n);let s=r.Tc[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function p0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||gM(n,r)})}function gM(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Mb(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Lx(n))}function Fx(n,e,t){for(const r of t)r instanceof uM?(n.Ic.addReference(r.key,e),TN(n,r)):r instanceof dM?(yn("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||gM(n,r.key)):hr()}function TN(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(yn("SyncEngine","New document in limbo: "+t),n.mc.add(r),Lx(n))}function Lx(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new jn(ls.fromString(e)),r=n.Ac.next();n.yc.set(r,new gN(t)),n.gc=n.gc.insert(t,r),PD(n.remoteStore,new Qf(wc(ug(t.path)),r,"TargetPurposeLimboResolution",uu.ct))}}function Zf(n,e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,be.Z)(function*(n,e,t){const r=Zn(n),s=[],a=[],c=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,v)=>{c.push(r.Rc(v,e,t).then(S=>{if((S||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,S?.fromCache?"not-current":"current"),S){s.push(S);const F=$C.Li(v.targetId,S);a.push(F)}}))}),yield Promise.all(c),r.dc.nu(s),yield(g=(0,be.Z)(function*(v,S){const F=Zn(v);try{yield F.persistence.runTransaction("notifyLocalViewChanges","readwrite",K=>Ct.forEach(S,he=>Ct.forEach(he.Fi,Ae=>F.persistence.referenceDelegate.addReference(K,he.targetId,Ae)).next(()=>Ct.forEach(he.Bi,Ae=>F.persistence.referenceDelegate.removeReference(K,he.targetId,Ae)))))}catch(K){if(!Wu(K))throw K;yn("LocalStore","Failed to update sequence numbers: "+K)}for(const K of S){const he=K.targetId;if(!K.fromCache){const Ae=F.Ji.get(he),At=Ae.withLastLimboFreeSnapshotVersion(Ae.snapshotVersion);F.Ji=F.Ji.insert(he,At)}}}),function(v,S){return g.apply(this,arguments)})(r.localStore,a))}),Vx.apply(this,arguments)}function DN(n,e){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,be.Z)(function*(n,e){const t=Zn(n);if(!t.currentUser.isEqual(e)){yn("SyncEngine","User change. New user:",e.toKey());const r=yield GO(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(c=>{c.forEach(g=>{g.reject(new un(Bt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Zf(t,r.er)}var s}),Bx.apply(this,arguments)}function SN(n,e){const t=Zn(n),r=t.yc.get(e);if(r&&r.fc)return Si().add(r.key);{let s=Si();const a=t._c.get(e);if(!a)return s;for(const c of a){const g=t.wc.get(c);s=s.unionWith(g.view.nc)}return s}}class kD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.serializer=Rb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function $O(n,e,t,r){return new LP(n,e,t,r)}(this.persistence,new jO,e.initialUser,this.serializer)}createPersistence(e){return new VC(DD.zs,this.serializer)}createSharedClientState(e){return new ZO}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class g0{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>pM(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=DN.bind(null,r.syncEngine),yield function gx(n,e){return mx.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cN}createDatastore(e){const t=Rb(e.databaseInfo.databaseId),r=new WP(e.databaseInfo);return new YP(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,a=g=>pM(this.syncEngine,g,0),c=JO.D()?new JO:new GP,new JP(t,r,s,a,c);var t,r,s,a,c}createSyncEngine(e,t){return function(r,s,a,c,g,v,S){const F=new mN(r,s,a,c,g,v);return S&&(F.vc=!0),F}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=Zn(t);yn("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield l0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class FD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Aa("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BN{constructor(e,t,r,s){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Ol.UNAUTHENTICATED,this.clientId=jw.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,be.Z)(function*(g){yn("FirestoreClient","Received user=",g.uid),yield a.authCredentialListener(g),a.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(yn("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new un(Bt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=d0(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function LD(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),yn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,be.Z)(function*(a){r.isEqual(a)||(yield GO(e.localStore,a),r=a)});return function(a){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Yx.apply(this,arguments)}function Qx(n,e){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function Jx(n){return Xx.apply(this,arguments)}(n);yn("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>oM(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>oM(e.remoteStore,a)),n._onlineComponents=e}),Zx.apply(this,arguments)}function Xx(){return Xx=(0,be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){yn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield LD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function wM(n){return"FirebaseError"===n.name?n.code===Bt.FAILED_PRECONDITION||n.code===Bt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;lu("Error using user provided cache. Falling back to memory cache: "+t),yield LD(n,new kD)}}else yn("FirestoreClient","Using default OfflineComponentProvider"),yield LD(n,new kD);return n._offlineComponents}),Xx.apply(this,arguments)}function VD(n){return eR.apply(this,arguments)}function eR(){return eR=(0,be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(yn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qx(n,n._uninitializedComponentsProvider._online)):(yn("FirestoreClient","Using default OnlineComponentProvider"),yield Qx(n,new g0))),n._onlineComponents}),eR.apply(this,arguments)}function nR(){return nR=(0,be.Z)(function*(n){const e=yield VD(n),t=e.eventManager;return t.onListen=_N.bind(null,e.syncEngine),t.onUnlisten=yN.bind(null,e.syncEngine),t}),nR.apply(this,arguments)}function SM(n,e,t={}){const r=new Ba;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(s,a,c,g,v){const S=new FD({next:K=>{a.enqueueAndForget(()=>function Ex(n,e){return wx.apply(this,arguments)}(s,F)),K.fromCache&&"server"===g.source?v.reject(new un(Bt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(K)},error:K=>v.reject(K)}),F=new Ix(c,S,{includeMetadataChanges:!0,Ku:!0});return function yx(n,e){return vx.apply(this,arguments)}(s,F)}(yield function m0(n){return nR.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function AM(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const CM=new Map;function rR(n,e,t){if(!t)throw new un(Bt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xM(n){if(!jn.isDocumentKey(n))throw new un(Bt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RM(n){if(jn.isDocumentKey(n))throw new un(Bt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function UD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":hr()}function Ts(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new un(Bt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=UD(n);throw new un(Bt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class MM{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new un(Bt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new un(Bt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function KN(n,e,t,r){if(!0===e&&!0===r)throw new un(Bt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=AM(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new un(Bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new un(Bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new un(Bt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pb{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new un(Bt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new un(Bt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Bw;switch(t.type){case"firstParty":return new qA(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new un(Bt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=CM.get(e);t&&(yn("ComponentProvider","Removing Datastore"),CM.delete(e),t.terminate())}(this),Promise.resolve()}}class ll{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ll(this.firestore,e,this._key)}}class bc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bc(this.firestore,e,this._query)}}class Nh extends bc{constructor(e,t,r){super(e,t,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ll(this.firestore,null,new jn(e))}withConverter(e){return new Nh(this.firestore,e,this._path)}}function QN(n,e,...t){if(n=(0,Oe.m9)(n),rR("collection","path",e),n instanceof Pb){const r=ls.fromString(e,...t);return RM(r),new Nh(n,null,r)}{if(!(n instanceof ll||n instanceof Nh))throw new un(Bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ls.fromString(e,...t));return RM(r),new Nh(n.firestore,null,r)}}function PM(n,e,...t){if(n=(0,Oe.m9)(n),1===arguments.length&&(e=jw.A()),rR("doc","path",e),n instanceof Pb){const r=ls.fromString(e,...t);return xM(r),new ll(n,null,new jn(r))}{if(!(n instanceof ll||n instanceof Nh))throw new un(Bt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ls.fromString(e,...t));return xM(r),new ll(n.firestore,n instanceof Nh?n.converter:null,new jn(r))}}class ZN{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new JC(this,"async_queue_retry"),this.Xc=()=>{const t=MD();t&&yn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=MD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=MD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ba;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,be.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Wu(t))throw t;yn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Aa("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=_x.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(s),s}Zc(){this.Wc&&hr()}verifyOperationInProgress(){}sa(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class ma extends Pb{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ZN,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kM(this),this._firestoreClient.terminate()}}function XN(n,e){const t="object"==typeof n?n:(0,jp.getApp)(),r="string"==typeof n?n:e||"(default)",s=(0,jp._getProvider)(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=(0,Oe.P0)("firestore");a&&function YN(n,e,t,r={}){var s;const a=(n=Ts(n,Pb))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==c&&lu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),r.mockUserToken){let g,v;if("string"==typeof r.mockUserToken)g=r.mockUserToken,v=Ol.MOCK_USER;else{g=(0,Oe.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new un(Bt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ol(S)}n._authCredentials=new Uw(new Vw(g,v))}}(s,...a)}return s}function Pl(n){return n._firestoreClient||kM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function kM(n){var e,t,r;const s=n._freezeSettings(),a=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uC(n._databaseId,g,n._persistenceKey,(S=s).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,AM(S.experimentalLongPollingOptions),S.useFetchStreams));var g,S;n._firestoreClient=new BN(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class c_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new c_(ol.fromBase64String(e))}catch(t){throw new un(Bt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new c_(ol.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _0{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new un(Bt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sR{constructor(e){this._methodName=e}}class oR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new un(Bt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new un(Bt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ti(this._lat,e._lat)||ti(this._long,e._long)}}const tk=/^__.*__$/;class nk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ph(e,this.data,this.fieldMask,t,this.fieldTransforms):new qf(e,this.data,t,this.fieldTransforms)}}class VM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ph(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hr()}}class jD{constructor(e,t,r,s,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new jD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return GD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(BM(this.ca)&&tk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class rk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rb(e)}ya(e,t,r,s=!1){return new jD({ca:e,methodName:t,ga:r,path:cs.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function y0(n){const e=n._freezeSettings(),t=Rb(n._databaseId);return new rk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aR(n,e,t,r,s,a={}){const c=n.ya(a.merge||a.mergeFields?2:0,e,t,s);cR("Data must be an object, but it was:",c,r);const g=HM(r,c);let v,S;if(a.merge)v=new du(c.fieldMask),S=c.fieldTransforms;else if(a.mergeFields){const F=[];for(const K of a.mergeFields){const he=Fb(e,K,t);if(!c.contains(he))throw new un(Bt.INVALID_ARGUMENT,`Field '${he}' is specified in your field mask but missing from your input data.`);WM(F,he)||F.push(he)}v=new du(F),S=c.fieldTransforms.filter(K=>v.covers(K.field))}else v=null,S=c.fieldTransforms;return new nk(new Ml(g),v,S)}class kb extends sR{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kb}}function u_(n,e){if(zM(n=(0,Oe.m9)(n)))return cR("Unsupported field value:",e,n),HM(n,e);if(n instanceof sR)return function(t,r){if(!BM(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let a=0;for(const c of t){let g=u_(c,r.wa(a));null==g&&(g={nullValue:"NULL_VALUE"}),s.push(g),a++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Oe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return nD(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=ca.fromDate(t);return{timestampValue:m(r.serializer,s)}}if(t instanceof ca){const s=new ca(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:m(r.serializer,s)}}if(t instanceof oR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof c_)return{bytesValue:T(r.serializer,t._byteString)};if(t instanceof ll){const s=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(s))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:X(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${UD(t)}`)}(n,e)}function HM(n,e){const t={};return Qw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ff(n,(r,s)=>{const a=u_(s,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function zM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ca||n instanceof oR||n instanceof c_||n instanceof ll||n instanceof sR)}function cR(n,e,t){if(!zM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=UD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Fb(n,e,t){if((e=(0,Oe.m9)(e))instanceof _0)return e._internalPath;if("string"==typeof e)return $D(n,e);throw GD("Field path arguments must be of type string or ",n,!1,void 0,t)}const ak=new RegExp("[~\\*/\\[\\]]");function $D(n,e,t){if(e.search(ak)>=0)throw GD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _0(...e.split("."))._internalPath}catch{throw GD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function GD(n,e,t,r,s){const a=r&&!r.isEmpty(),c=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(a||c)&&(v+=" (found",a&&(v+=` in field ${r}`),c&&(v+=` in document ${s}`),v+=")"),new un(Bt.INVALID_ARGUMENT,g+n+v)}function WM(n,e){return n.some(t=>t.isEqual(e))}class uR{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ll(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(HD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lk extends uR{data(){return super.data()}}function HD(n,e){return"string"==typeof e?$D(n,e):e instanceof _0?e._internalPath:e._delegate._internalPath}class uk{convertValue(e,t="none"){switch(xh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ua(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ff(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new oR(Ua(e.latitude),Ua(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Lf(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qm(e));default:return null}}convertTimestamp(e){const t=Sh(e);return new ca(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ls.fromString(e);Ir(hO(r));const s=new Vf(r.get(1),r.get(3)),a=new jn(r.popFirst(5));return s.isEqual(t)||Aa(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function hR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class d_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E0 extends uR{constructor(e,t,r,s,a,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new KD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(HD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class KD extends E0{data(e={}){return super.data(e)}}class w0{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new d_(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new KD(this._firestore,this._userDataWriter,r.key,r,new d_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new un(Bt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new KD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new d_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const g=new KD(r._firestore,r._userDataWriter,c.doc.key,c.doc,new d_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,S=-1;return 0!==c.type&&(v=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),S=a.indexOf(c.doc.key)),{type:hk(c.type),doc:g,oldIndex:v,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hr()}}class Eg extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new c_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ll(this.firestore,null,t)}}function fk(n){n=Ts(n,bc);const e=Ts(n.firestore,ma),t=Pl(e),r=new Eg(e);return function qM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new un(Bt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),SM(t,n._query).then(s=>new w0(e,r,n,s))}function pk(n,e,t){n=Ts(n,ll);const r=Ts(n.firestore,ma),s=hR(n.converter,e,t);return Vb(r,[aR(y0(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,ua.none())])}function gk(n,e,t,...r){n=Ts(n,ll);const s=Ts(n.firestore,ma),a=y0(s);let c;return c="string"==typeof(e=(0,Oe.m9)(e))||e instanceof _0?function $M(n,e,t,r,s,a){const c=n.ya(1,e,t),g=[Fb(e,r,t)],v=[s];if(a.length%2!=0)throw new un(Bt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let he=0;he<a.length;he+=2)g.push(Fb(e,a[he])),v.push(a[he+1]);const S=[],F=Ml.empty();for(let he=g.length-1;he>=0;--he)if(!WM(S,g[he])){const Ae=g[he];let ct=v[he];ct=(0,Oe.m9)(ct);const At=c.da(Ae);if(ct instanceof kb)S.push(Ae);else{const Mt=u_(ct,At);null!=Mt&&(S.push(Ae),F.set(Ae,Mt))}}const K=new du(S);return new VM(F,K,c.fieldTransforms)}(a,"updateDoc",n._key,e,t,r):function jM(n,e,t,r){const s=n.ya(1,e,t);cR("Data must be an object, but it was:",s,r);const a=[],c=Ml.empty();Ff(r,(v,S)=>{const F=$D(e,v,t);S=(0,Oe.m9)(S);const K=s.da(F);if(S instanceof kb)a.push(F);else{const he=u_(S,K);null!=he&&(a.push(F),c.set(F,he))}});const g=new du(a);return new VM(c,g,s.fieldTransforms)}(a,"updateDoc",n._key,e),Vb(s,[c.toMutation(n._key,ua.exists(!0))])}function mk(n){return Vb(Ts(n.firestore,ma),[new Kf(n._key,ua.none())])}function _k(n,e){const t=Ts(n.firestore,ma),r=PM(n),s=hR(n.converter,e);return Vb(t,[aR(y0(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,ua.exists(!1))]).then(()=>r)}function Vb(n,e){return function(t,r){const s=new Ba;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function vN(n,e,t){return Cx.apply(this,arguments)}(yield function tR(n){return VD(n).then(e=>e.syncEngine)}(t),r,s)})),s.promise}(Pl(n),e)}!function(n,e=!0){Pf=jp.SDK_VERSION,(0,jp._registerComponent)(new We.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const a=t.getProvider("app").getImmediate(),c=new ma(new zA(t.getProvider("auth-internal")),new ET(t.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new un(Bt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vf(g.options.projectId,v)}(a,r),a);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),(0,jp.registerVersion)(yT,"3.13.0",n),(0,jp.registerVersion)(yT,"3.13.0","esm2017")}();class QD{constructor(e){return e}}const tP="firestore",pR=new oe.OlP("angularfire2.firestore-instances");function Ok(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new QD(r)}}const Mk={provide:class xk{constructor(){return(0,d.vb)(tP)}},deps:[[new oe.FiY,pR]]},Pk={provide:QD,useFactory:function Rk(n,e){const t=(0,d.JM)(tP,n,e);return t&&new QD(t)},deps:[[new oe.FiY,pR],we.Ot]};let Nk=(()=>{class n{constructor(){(0,Pe.KN)("angularfire",d.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=oe.oAB({type:n}),n.\u0275inj=oe.cJS({providers:[Pk,Mk]}),n})();function kk(n,...e){return{ngModule:Nk,providers:[{provide:pR,useFactory:Ok(n),multi:!0,deps:[oe.R0b,oe.zs3,d.HU,we.z6,[new oe.FiY,fe.dh],[new oe.FiY,Ve.nm],...e]}]}}const Fk=(0,d.u3)(cA,!0),Lk=(0,d.u3)(_k,!0),Vk=(0,d.u3)(QN,!0),Bk=(0,d.u3)(mk,!0),Uk=(0,d.u3)(PM,!0),jk=(0,d.u3)(fk,!0),$k=(0,d.u3)(XN,!0),Gk=(0,d.u3)(pk,!0),Hk=(0,d.u3)(gk,!0)},2793:(bn,gt,W)=>{W.d(gt,{q4:()=>Rc,iC:()=>Zu,HU:()=>Mo,vb:()=>Td,JM:()=>Kc,u3:()=>Oc});var d=W(5879),oe=W(4097),fe=W(5861),we=W(4303),Pe=W(9058),Ve=W(4537),be=W(7879);const lt=(M,$)=>$.some(ee=>M instanceof ee);let We,_e;const bt=new WeakMap,Be=new WeakMap,jt=new WeakMap,st=new WeakMap,tn=new WeakMap;let vn={get(M,$,ee){if(M instanceof IDBTransaction){if("done"===$)return Be.get(M);if("objectStoreNames"===$)return M.objectStoreNames||jt.get(M);if("store"===$)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return at(M[$])},set:(M,$,ee)=>(M[$]=ee,!0),has:(M,$)=>M instanceof IDBTransaction&&("done"===$||"store"===$)||$ in M};function ot(M){return"function"==typeof M?function Tt(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...$){return M.apply(Dt(this),$),at(bt.get(this))}:function(...$){return at(M.apply(Dt(this),$))}:function($,...ee){const Ie=M.call(Dt(this),$,...ee);return jt.set(Ie,$.sort?$.sort():[$]),at(Ie)}}(M):(M instanceof IDBTransaction&&function On(M){if(Be.has(M))return;const $=new Promise((ee,Ie)=>{const Ke=()=>{M.removeEventListener("complete",rt),M.removeEventListener("error",It),M.removeEventListener("abort",It)},rt=()=>{ee(),Ke()},It=()=>{Ie(M.error||new DOMException("AbortError","AbortError")),Ke()};M.addEventListener("complete",rt),M.addEventListener("error",It),M.addEventListener("abort",It)});Be.set(M,$)}(M),lt(M,function Oe(){return We||(We=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,vn):M)}function at(M){if(M instanceof IDBRequest)return function Lt(M){const $=new Promise((ee,Ie)=>{const Ke=()=>{M.removeEventListener("success",rt),M.removeEventListener("error",It)},rt=()=>{ee(at(M.result)),Ke()},It=()=>{Ie(M.error),Ke()};M.addEventListener("success",rt),M.addEventListener("error",It)});return $.then(ee=>{ee instanceof IDBCursor&&bt.set(ee,M)}).catch(()=>{}),tn.set($,M),$}(M);if(st.has(M))return st.get(M);const $=ot(M);return $!==M&&(st.set(M,$),tn.set($,M)),$}const Dt=M=>tn.get(M),Jt=["get","getKey","getAll","getAllKeys","count"],Mn=["put","add","delete","clear"],Bn=new Map;function mn(M,$){if(!(M instanceof IDBDatabase)||$ in M||"string"!=typeof $)return;if(Bn.get($))return Bn.get($);const ee=$.replace(/FromIndex$/,""),Ie=$!==ee,Ke=Mn.includes(ee);if(!(ee in(Ie?IDBIndex:IDBObjectStore).prototype)||!Ke&&!Jt.includes(ee))return;const rt=function(){var It=(0,fe.Z)(function*(Ln,...Rn){const fn=this.transaction(Ln,Ke?"readwrite":"readonly");let Kn=fn.store;return Ie&&(Kn=Kn.index(Rn.shift())),(yield Promise.all([Kn[ee](...Rn),Ke&&fn.done]))[0]});return function(Rn){return It.apply(this,arguments)}}();return Bn.set($,rt),rt}!function He(M){vn=M(vn)}(M=>({...M,get:($,ee,Ie)=>mn($,ee)||M.get($,ee,Ie),has:($,ee)=>!!mn($,ee)||M.has($,ee)}));const zn="@firebase/installations",Jn="0.6.4",dr=1e4,ar=`w:${Jn}`,Je="FIS_v2",dt="https://firebaseinstallations.googleapis.com/v1",tt=36e5,Gt=new Pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ut(M){return M instanceof Pe.ZR&&M.code.includes("request-failed")}function Hn({projectId:M}){return`${dt}/projects/${M}/installations`}function Fn(M){return{token:M.token,requestStatus:2,expiresIn:ke(M.expiresIn),creationTime:Date.now()}}function Un(M,$){return An.apply(this,arguments)}function An(){return(An=(0,fe.Z)(function*(M,$){const Ie=(yield $.json()).error;return Gt.create("request-failed",{requestName:M,serverCode:Ie.code,serverMessage:Ie.message,serverStatus:Ie.status})})).apply(this,arguments)}function fr({apiKey:M}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M})}function wn(M){return qe.apply(this,arguments)}function qe(){return(qe=(0,fe.Z)(function*(M){const $=yield M();return $.status>=500&&$.status<600?M():$})).apply(this,arguments)}function ke(M){return Number(M.replace("s","000"))}function wt(){return(wt=(0,fe.Z)(function*({appConfig:M,heartbeatServiceProvider:$},{fid:ee}){const Ie=Hn(M),Ke=fr(M),rt=$.getImmediate({optional:!0});if(rt){const fn=yield rt.getHeartbeatsHeader();fn&&Ke.append("x-firebase-client",fn)}const Ln={method:"POST",headers:Ke,body:JSON.stringify({fid:ee,authVersion:Je,appId:M.appId,sdkVersion:ar})},Rn=yield wn(()=>fetch(Ie,Ln));if(Rn.ok){const fn=yield Rn.json();return{fid:fn.fid||ee,registrationStatus:2,refreshToken:fn.refreshToken,authToken:Fn(fn.authToken)}}throw yield Un("Create Installation",Rn)})).apply(this,arguments)}function Ht(M){return new Promise($=>{setTimeout($,M)})}const ln=/^[cdef][\w-]{21}$/,Wt="";function rn(){try{const M=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(M),M[0]=112+M[0]%16;const ee=function kn(M){return function or(M){return btoa(String.fromCharCode(...M)).replace(/\+/g,"-").replace(/\//g,"_")}(M).substr(0,22)}(M);return ln.test(ee)?ee:Wt}catch{return Wt}}function nr(M){return`${M.appName}!${M.appId}`}const Lr=new Map;function qr(M,$){const ee=nr(M);Cr(ee,$),function Tr(M,$){const ee=function ur(){return!Vi&&"BroadcastChannel"in self&&(Vi=new BroadcastChannel("[Firebase] FID Change"),Vi.onmessage=M=>{Cr(M.data.key,M.data.fid)}),Vi}();ee&&ee.postMessage({key:M,fid:$}),function Wr(){0===Lr.size&&Vi&&(Vi.close(),Vi=null)}()}(ee,$)}function Cr(M,$){const ee=Lr.get(M);if(ee)for(const Ie of ee)Ie($)}let Vi=null;const xr="firebase-installations-database",Ai=1,fi="firebase-installations-store";let ui=null;function yt(){return ui||(ui=function Re(M,$,{blocked:ee,upgrade:Ie,blocking:Ke,terminated:rt}={}){const It=indexedDB.open(M,$),Ln=at(It);return Ie&&It.addEventListener("upgradeneeded",Rn=>{Ie(at(It.result),Rn.oldVersion,Rn.newVersion,at(It.transaction))}),ee&&It.addEventListener("blocked",()=>ee()),Ln.then(Rn=>{rt&&Rn.addEventListener("close",()=>rt()),Ke&&Rn.addEventListener("versionchange",()=>Ke())}).catch(()=>{}),Ln}(xr,Ai,{upgrade:(M,$)=>{0===$&&M.createObjectStore(fi)}})),ui}function Fe(M,$){return St.apply(this,arguments)}function St(){return(St=(0,fe.Z)(function*(M,$){const ee=nr(M),Ke=(yield yt()).transaction(fi,"readwrite"),rt=Ke.objectStore(fi),It=yield rt.get(ee);return yield rt.put($,ee),yield Ke.done,(!It||It.fid!==$.fid)&&qr(M,$.fid),$})).apply(this,arguments)}function ht(M){return an.apply(this,arguments)}function an(){return(an=(0,fe.Z)(function*(M){const $=nr(M),Ie=(yield yt()).transaction(fi,"readwrite");yield Ie.objectStore(fi).delete($),yield Ie.done})).apply(this,arguments)}function Yt(M,$){return er.apply(this,arguments)}function er(){return(er=(0,fe.Z)(function*(M,$){const ee=nr(M),Ke=(yield yt()).transaction(fi,"readwrite"),rt=Ke.objectStore(fi),It=yield rt.get(ee),Ln=$(It);return void 0===Ln?yield rt.delete(ee):yield rt.put(Ln,ee),yield Ke.done,Ln&&(!It||It.fid!==Ln.fid)&&qr(M,Ln.fid),Ln})).apply(this,arguments)}function Me(M){return ue.apply(this,arguments)}function ue(){return ue=(0,fe.Z)(function*(M){let $;const ee=yield Yt(M.appConfig,Ie=>{const Ke=function se(M){return hn(M||{fid:rn(),registrationStatus:0})}(Ie),rt=function Ce(M,$){if(0===$.registrationStatus){if(!navigator.onLine)return{installationEntry:$,registrationPromise:Promise.reject(Gt.create("app-offline"))};const ee={fid:$.fid,registrationStatus:1,registrationTime:Date.now()},Ie=function de(M,$){return Le.apply(this,arguments)}(M,ee);return{installationEntry:ee,registrationPromise:Ie}}return 1===$.registrationStatus?{installationEntry:$,registrationPromise:Ot(M)}:{installationEntry:$}}(M,Ke);return $=rt.registrationPromise,rt.installationEntry});return ee.fid===Wt?{installationEntry:yield $}:{installationEntry:ee,registrationPromise:$}}),ue.apply(this,arguments)}function Le(){return Le=(0,fe.Z)(function*(M,$){try{const ee=yield function Rt(M,$){return wt.apply(this,arguments)}(M,$);return Fe(M.appConfig,ee)}catch(ee){throw Ut(ee)&&409===ee.customData.serverCode?yield ht(M.appConfig):yield Fe(M.appConfig,{fid:$.fid,registrationStatus:0}),ee}}),Le.apply(this,arguments)}function Ot(M){return qt.apply(this,arguments)}function qt(){return(qt=(0,fe.Z)(function*(M){let $=yield xn(M.appConfig);for(;1===$.registrationStatus;)yield Ht(100),$=yield xn(M.appConfig);if(0===$.registrationStatus){const{installationEntry:ee,registrationPromise:Ie}=yield Me(M);return Ie||ee}return $})).apply(this,arguments)}function xn(M){return Yt(M,$=>{if(!$)throw Gt.create("installation-not-found");return hn($)})}function hn(M){return function kr(M){return 1===M.registrationStatus&&M.registrationTime+dr<Date.now()}(M)?{fid:M.fid,registrationStatus:0}:M}function Br(){return(Br=(0,fe.Z)(function*({appConfig:M,heartbeatServiceProvider:$},ee){const Ie=function Ei(M,{fid:$}){return`${Hn(M)}/${$}/authTokens:generate`}(M,ee),Ke=function zr(M,{refreshToken:$}){const ee=fr(M);return ee.append("Authorization",function mt(M){return`${Je} ${M}`}($)),ee}(M,ee),rt=$.getImmediate({optional:!0});if(rt){const fn=yield rt.getHeartbeatsHeader();fn&&Ke.append("x-firebase-client",fn)}const Ln={method:"POST",headers:Ke,body:JSON.stringify({installation:{sdkVersion:ar,appId:M.appId}})},Rn=yield wn(()=>fetch(Ie,Ln));if(Rn.ok)return Fn(yield Rn.json());throw yield Un("Generate Auth Token",Rn)})).apply(this,arguments)}function Ci(M){return Ji.apply(this,arguments)}function Ji(){return Ji=(0,fe.Z)(function*(M,$=!1){let ee;const Ie=yield Yt(M.appConfig,rt=>{if(!Bi(rt))throw Gt.create("not-registered");const It=rt.authToken;if(!$&&function es(M){return 2===M.requestStatus&&!function Zs(M){const $=Date.now();return $<M.creationTime||M.creationTime+M.expiresIn<$+tt}(M)}(It))return rt;if(1===It.requestStatus)return ee=function Xi(M,$){return Jr.apply(this,arguments)}(M,$),rt;{if(!navigator.onLine)throw Gt.create("app-offline");const Ln=function Js(M){const $={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},M),{authToken:$})}(rt);return ee=function Hi(M,$){return _r.apply(this,arguments)}(M,Ln),Ln}});return ee?yield ee:Ie.authToken}),Ji.apply(this,arguments)}function Jr(){return(Jr=(0,fe.Z)(function*(M,$){let ee=yield Kr(M.appConfig);for(;1===ee.authToken.requestStatus;)yield Ht(100),ee=yield Kr(M.appConfig);const Ie=ee.authToken;return 0===Ie.requestStatus?Ci(M,$):Ie})).apply(this,arguments)}function Kr(M){return Yt(M,$=>{if(!Bi($))throw Gt.create("not-registered");return function oi(M){return 1===M.requestStatus&&M.requestTime+dr<Date.now()}($.authToken)?Object.assign(Object.assign({},$),{authToken:{requestStatus:0}}):$})}function _r(){return _r=(0,fe.Z)(function*(M,$){try{const ee=yield function mr(M,$){return Br.apply(this,arguments)}(M,$),Ie=Object.assign(Object.assign({},$),{authToken:ee});return yield Fe(M.appConfig,Ie),ee}catch(ee){if(!Ut(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const Ie=Object.assign(Object.assign({},$),{authToken:{requestStatus:0}});yield Fe(M.appConfig,Ie)}else yield ht(M.appConfig);throw ee}}),_r.apply(this,arguments)}function Bi(M){return void 0!==M&&2===M.registrationStatus}function ks(){return(ks=(0,fe.Z)(function*(M){const $=M,{installationEntry:ee,registrationPromise:Ie}=yield Me($);return Ie?Ie.catch(console.error):Ci($).catch(console.error),ee.fid})).apply(this,arguments)}function js(){return js=(0,fe.Z)(function*(M,$=!1){const ee=M;return yield function xi(M){return lo.apply(this,arguments)}(ee),(yield Ci(ee,$)).token}),js.apply(this,arguments)}function lo(){return(lo=(0,fe.Z)(function*(M){const{registrationPromise:$}=yield Me(M);$&&(yield $)})).apply(this,arguments)}function ze(M){return Gt.create("missing-app-config-values",{valueName:M})}const ut="installations",Xt=M=>{const $=M.getProvider("app").getImmediate(),ee=function Ge(M){if(!M||!M.options)throw ze("App Configuration");if(!M.name)throw ze("App Name");const $=["projectId","apiKey","appId"];for(const ee of $)if(!M.options[ee])throw ze(ee);return{appName:M.name,projectId:M.options.projectId,apiKey:M.options.apiKey,appId:M.options.appId}}($);return{app:$,appConfig:ee,heartbeatServiceProvider:(0,we.qX)($,"heartbeat"),_delete:()=>Promise.resolve()}},qn=M=>{const $=M.getProvider("app").getImmediate(),ee=(0,we.qX)($,ut).getImmediate();return{getId:()=>function Gi(M){return ks.apply(this,arguments)}(ee),getToken:Ke=>function Ds(M){return js.apply(this,arguments)}(ee,Ke)}};(function Ur(){(0,we.Xd)(new Ve.wA(ut,Xt,"PUBLIC")),(0,we.Xd)(new Ve.wA("installations-internal",qn,"PRIVATE"))})(),(0,we.KN)(zn,Jn),(0,we.KN)(zn,Jn,"esm2017");const Or="@firebase/remote-config",pi=new Pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pr{constructor($,ee,Ie,Ke){this.client=$,this.storage=ee,this.storageCache=Ie,this.logger=Ke}isCachedDataFresh($,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ie=Date.now()-ee,Ke=Ie<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${Ke}.`),Ke}fetch($){var ee=this;return(0,fe.Z)(function*(){const[Ie,Ke]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(Ke&&ee.isCachedDataFresh($.cacheMaxAgeMillis,Ie))return Ke;$.eTag=Ke&&Ke.eTag;const rt=yield ee.client.fetch($),It=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===rt.status&&It.push(ee.storage.setLastSuccessfulFetchResponse(rt)),yield Promise.all(It),rt})()}}function gi(M=navigator){return M.languages&&M.languages[0]||M.language}class rr{constructor($,ee,Ie,Ke,rt,It){this.firebaseInstallations=$,this.sdkVersion=ee,this.namespace=Ie,this.projectId=Ke,this.apiKey=rt,this.appId=It}fetch($){var ee=this;return(0,fe.Z)(function*(){const[Ie,Ke]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),It=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,Ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},Rn={sdk_version:ee.sdkVersion,app_instance_id:Ie,app_instance_id_token:Ke,app_id:ee.appId,language_code:gi()},fn={method:"POST",headers:Ln,body:JSON.stringify(Rn)},Kn=fetch(It,fn),yr=new Promise((Dl,_o)=>{$.signal.addEventListener(()=>{const Qc=new Error("The operation was aborted.");Qc.name="AbortError",_o(Qc)})});let aa;try{yield Promise.race([Kn,yr]),aa=yield Kn}catch(Dl){let _o="fetch-client-network";throw"AbortError"===Dl?.name&&(_o="fetch-timeout"),pi.create(_o,{originalErrorMessage:Dl?.message})}let la=aa.status;const as=aa.headers.get("ETag")||void 0;let Mc,Tl;if(200===aa.status){let Dl;try{Dl=yield aa.json()}catch(_o){throw pi.create("fetch-client-parse",{originalErrorMessage:_o?.message})}Mc=Dl.entries,Tl=Dl.state}if("INSTANCE_STATE_UNSPECIFIED"===Tl?la=500:"NO_CHANGE"===Tl?la=304:("NO_TEMPLATE"===Tl||"EMPTY_CONFIG"===Tl)&&(Mc={}),304!==la&&200!==la)throw pi.create("fetch-status",{httpStatus:la});return{status:la,eTag:as,config:Mc}})()}}class _s{constructor($,ee){this.client=$,this.storage=ee}fetch($){var ee=this;return(0,fe.Z)(function*(){const Ie=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch($,Ie)})()}attemptFetch($,{throttleEndTimeMillis:ee,backoffCount:Ie}){var Ke=this;return(0,fe.Z)(function*(){yield function ho(M,$){return new Promise((ee,Ie)=>{const Ke=Math.max($-Date.now(),0),rt=setTimeout(ee,Ke);M.addEventListener(()=>{clearTimeout(rt),Ie(pi.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,ee);try{const rt=yield Ke.client.fetch($);return yield Ke.storage.deleteThrottleMetadata(),rt}catch(rt){if(!function mi(M){if(!(M instanceof Pe.ZR&&M.customData))return!1;const $=Number(M.customData.httpStatus);return 429===$||500===$||503===$||504===$}(rt))throw rt;const It={throttleEndTimeMillis:Date.now()+(0,Pe.$s)(Ie),backoffCount:Ie+1};return yield Ke.storage.setThrottleMetadata(It),Ke.attemptFetch($,It)}})()}}class To{constructor($,ee,Ie,Ke,rt){this.app=$,this._client=ee,this._storageCache=Ie,this._storage=Ke,this._logger=rt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sr(M,$){const ee=M.target.error||void 0;return pi.create($,{originalErrorMessage:ee&&ee?.message})}const Gs="app_namespace_store";class Do{constructor($,ee,Ie,Ke=function ai(){return new Promise((M,$)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=Ie=>{$(sr(Ie,"storage-open"))},ee.onsuccess=Ie=>{M(Ie.target.result)},ee.onupgradeneeded=Ie=>{0===Ie.oldVersion&&Ie.target.result.createObjectStore(Gs,{keyPath:"compositeKey"})}}catch(ee){$(pi.create("storage-open",{originalErrorMessage:ee?.message}))}})}()){this.appId=$,this.appName=ee,this.namespace=Ie,this.openDbPromise=Ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var ee=this;return(0,fe.Z)(function*(){const Ie=yield ee.openDbPromise;return new Promise((Ke,rt)=>{const Ln=Ie.transaction([Gs],"readonly").objectStore(Gs),Rn=ee.createCompositeKey($);try{const fn=Ln.get(Rn);fn.onerror=Kn=>{rt(sr(Kn,"storage-get"))},fn.onsuccess=Kn=>{const yr=Kn.target.result;Ke(yr?yr.value:void 0)}}catch(fn){rt(pi.create("storage-get",{originalErrorMessage:fn?.message}))}})})()}set($,ee){var Ie=this;return(0,fe.Z)(function*(){const Ke=yield Ie.openDbPromise;return new Promise((rt,It)=>{const Rn=Ke.transaction([Gs],"readwrite").objectStore(Gs),fn=Ie.createCompositeKey($);try{const Kn=Rn.put({compositeKey:fn,value:ee});Kn.onerror=yr=>{It(sr(yr,"storage-set"))},Kn.onsuccess=()=>{rt()}}catch(Kn){It(pi.create("storage-set",{originalErrorMessage:Kn?.message}))}})})()}delete($){var ee=this;return(0,fe.Z)(function*(){const Ie=yield ee.openDbPromise;return new Promise((Ke,rt)=>{const Ln=Ie.transaction([Gs],"readwrite").objectStore(Gs),Rn=ee.createCompositeKey($);try{const fn=Ln.delete(Rn);fn.onerror=Kn=>{rt(sr(Kn,"storage-delete"))},fn.onsuccess=()=>{Ke()}}catch(fn){rt(pi.create("storage-delete",{originalErrorMessage:fn?.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class Rs{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,fe.Z)(function*(){const ee=$.storage.getLastFetchStatus(),Ie=$.storage.getLastSuccessfulFetchTimestampMillis(),Ke=$.storage.getActiveConfig(),rt=yield ee;rt&&($.lastFetchStatus=rt);const It=yield Ie;It&&($.lastSuccessfulFetchTimestampMillis=It);const Ln=yield Ke;Ln&&($.activeConfig=Ln)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function So(){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,fe.Z)(function*(){if(!(0,Pe.hl)())return!1;try{return yield(0,Pe.eu)()}catch{return!1}})).apply(this,arguments)}!function ji(){(0,we.Xd)(new Ve.wA("remote-config",function M($,{instanceIdentifier:ee}){const Ie=$.getProvider("app").getImmediate(),Ke=$.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw pi.create("registration-window");if(!(0,Pe.hl)())throw pi.create("indexed-db-unavailable");const{projectId:rt,apiKey:It,appId:Ln}=Ie.options;if(!rt)throw pi.create("registration-project-id");if(!It)throw pi.create("registration-api-key");if(!Ln)throw pi.create("registration-app-id");const Rn=new Do(Ln,Ie.name,ee=ee||"firebase"),fn=new Rs(Rn),Kn=new be.Yd(Or);Kn.logLevel=be.in.ERROR;const yr=new rr(Ke,we.Jn,ee,rt,It,Ln),aa=new _s(yr,Rn),la=new pr(aa,Rn,fn,Kn),as=new To(Ie,la,fn,Rn,Kn);return function di(M){const $=(0,Pe.m9)(M);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(as),as},"PUBLIC").setMultipleInstances(!0)),(0,we.KN)(Or,"0.4.4"),(0,we.KN)(Or,"0.4.4","esm2017")}();const no=(M,$)=>$.some(ee=>M instanceof ee);let Hs,Fr;const Ea=new WeakMap,ys=new WeakMap,ns=new WeakMap,sa=new WeakMap,fo=new WeakMap;let Fi={get(M,$,ee){if(M instanceof IDBTransaction){if("done"===$)return ys.get(M);if("objectStoreNames"===$)return M.objectStoreNames||ns.get(M);if("store"===$)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Qr(M[$])},set:(M,$,ee)=>(M[$]=ee,!0),has:(M,$)=>M instanceof IDBTransaction&&("done"===$||"store"===$)||$ in M};function ro(M){return"function"==typeof M?function rs(M){return M!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function da(){return Fr||(Fr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(M)?function(...$){return M.apply(ds(this),$),Qr(Ea.get(this))}:function(...$){return Qr(M.apply(ds(this),$))}:function($,...ee){const Ie=M.call(ds(this),$,...ee);return ns.set(Ie,$.sort?$.sort():[$]),Qr(Ie)}}(M):(M instanceof IDBTransaction&&function wa(M){if(ys.has(M))return;const $=new Promise((ee,Ie)=>{const Ke=()=>{M.removeEventListener("complete",rt),M.removeEventListener("error",It),M.removeEventListener("abort",It)},rt=()=>{ee(),Ke()},It=()=>{Ie(M.error||new DOMException("AbortError","AbortError")),Ke()};M.addEventListener("complete",rt),M.addEventListener("error",It),M.addEventListener("abort",It)});ys.set(M,$)}(M),no(M,function va(){return Hs||(Hs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(M,Fi):M)}function Qr(M){if(M instanceof IDBRequest)return function Wi(M){const $=new Promise((ee,Ie)=>{const Ke=()=>{M.removeEventListener("success",rt),M.removeEventListener("error",It)},rt=()=>{ee(Qr(M.result)),Ke()},It=()=>{Ie(M.error),Ke()};M.addEventListener("success",rt),M.addEventListener("error",It)});return $.then(ee=>{ee instanceof IDBCursor&&Ea.set(ee,M)}).catch(()=>{}),fo.set($,M),$}(M);if(sa.has(M))return sa.get(M);const $=ro(M);return $!==M&&(sa.set(M,$),fo.set($,M)),$}const ds=M=>fo.get(M);function ko(M,$,{blocked:ee,upgrade:Ie,blocking:Ke,terminated:rt}={}){const It=indexedDB.open(M,$),Ln=Qr(It);return Ie&&It.addEventListener("upgradeneeded",Rn=>{Ie(Qr(It.result),Rn.oldVersion,Rn.newVersion,Qr(It.transaction))}),ee&&It.addEventListener("blocked",()=>ee()),Ln.then(Rn=>{rt&&Rn.addEventListener("close",()=>rt()),Ke&&Rn.addEventListener("versionchange",()=>Ke())}).catch(()=>{}),Ln}function _i(M,{blocked:$}={}){const ee=indexedDB.deleteDatabase(M);return $&&ee.addEventListener("blocked",()=>$()),Qr(ee).then(()=>{})}const ja=["get","getKey","getAll","getAllKeys","count"],$a=["put","add","delete","clear"],Ca=new Map;function Za(M,$){if(!(M instanceof IDBDatabase)||$ in M||"string"!=typeof $)return;if(Ca.get($))return Ca.get($);const ee=$.replace(/FromIndex$/,""),Ie=$!==ee,Ke=$a.includes(ee);if(!(ee in(Ie?IDBIndex:IDBObjectStore).prototype)||!Ke&&!ja.includes(ee))return;const rt=function(){var It=(0,fe.Z)(function*(Ln,...Rn){const fn=this.transaction(Ln,Ke?"readwrite":"readonly");let Kn=fn.store;return Ie&&(Kn=Kn.index(Rn.shift())),(yield Promise.all([Kn[ee](...Rn),Ke&&fn.done]))[0]});return function(Rn){return It.apply(this,arguments)}}();return Ca.set($,rt),rt}!function $i(M){Fi=M(Fi)}(M=>({...M,get:($,ee,Ie)=>Za($,ee)||M.get($,ee,Ie),has:($,ee)=>!!Za($,ee)||M.has($,ee)}));const Wo="/firebase-messaging-sw.js",Os="/firebase-cloud-messaging-push-scope",ul="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ga="https://fcmregistrations.googleapis.com/v1",hi="google.c.a.c_id",zs="google.c.a.c_l",po="google.c.a.ts";var pe=function(M){return M.PUSH_RECEIVED="push-received",M.NOTIFICATION_CLICKED="notification-clicked",M}(pe||{});function Q(M){const $=new Uint8Array(M);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function De(M){const ee=(M+"=".repeat((4-M.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ie=atob(ee),Ke=new Uint8Array(Ie.length);for(let rt=0;rt<Ie.length;++rt)Ke[rt]=Ie.charCodeAt(rt);return Ke}const Zt="fcm_token_details_db",Qn=5,is="fcm_token_object_Store";function vs(){return vs=(0,fe.Z)(function*(M){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(rt=>rt.name).includes(Zt))return null;let $=null;return(yield ko(Zt,Qn,{upgrade:(Ie=(0,fe.Z)(function*(Ke,rt,It,Ln){var Rn;if(rt<2||!Ke.objectStoreNames.contains(is))return;const fn=Ln.objectStore(is),Kn=yield fn.index("fcmSenderId").get(M);if(yield fn.clear(),Kn)if(2===rt){const yr=Kn;if(!yr.auth||!yr.p256dh||!yr.endpoint)return;$={token:yr.fcmToken,createTime:null!==(Rn=yr.createTime)&&void 0!==Rn?Rn:Date.now(),subscriptionOptions:{auth:yr.auth,p256dh:yr.p256dh,endpoint:yr.endpoint,swScope:yr.swScope,vapidKey:"string"==typeof yr.vapidKey?yr.vapidKey:Q(yr.vapidKey)}}}else if(3===rt){const yr=Kn;$={token:yr.fcmToken,createTime:yr.createTime,subscriptionOptions:{auth:Q(yr.auth),p256dh:Q(yr.p256dh),endpoint:yr.endpoint,swScope:yr.swScope,vapidKey:Q(yr.vapidKey)}}}else if(4===rt){const yr=Kn;$={token:yr.fcmToken,createTime:yr.createTime,subscriptionOptions:{auth:Q(yr.auth),p256dh:Q(yr.p256dh),endpoint:yr.endpoint,swScope:yr.swScope,vapidKey:Q(yr.vapidKey)}}}}),function(rt,It,Ln,Rn){return Ie.apply(this,arguments)})})).close(),yield _i(Zt),yield _i("fcm_vapid_details_db"),yield _i("undefined"),function Es(M){if(!M||!M.subscriptionOptions)return!1;const{subscriptionOptions:$}=M;return"number"==typeof M.createTime&&M.createTime>0&&"string"==typeof M.token&&M.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}($)?$:null;var Ie}),vs.apply(this,arguments)}const Ms="firebase-messaging-database",xa=1,io="firebase-messaging-store";let qi=null;function ha(){return qi||(qi=ko(Ms,xa,{upgrade:(M,$)=>{0===$&&M.createObjectStore(io)}})),qi}function ws(M){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,fe.Z)(function*(M){const $=dl(M),Ie=yield(yield ha()).transaction(io).objectStore(io).get($);if(Ie)return Ie;{const Ke=yield function hs(M){return vs.apply(this,arguments)}(M.appConfig.senderId);if(Ke)return yield Ra(M,Ke),Ke}}),Ao.apply(this,arguments)}function Ra(M,$){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,fe.Z)(function*(M,$){const ee=dl(M),Ke=(yield ha()).transaction(io,"readwrite");return yield Ke.objectStore(io).put($,ee),yield Ke.done,$})).apply(this,arguments)}function Fo(){return(Fo=(0,fe.Z)(function*(M){const $=dl(M),Ie=(yield ha()).transaction(io,"readwrite");yield Ie.objectStore(io).delete($),yield Ie.done})).apply(this,arguments)}function dl({appConfig:M}){return M.appId}const Ki=new Pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nl(M,$){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,fe.Z)(function*(M,$){const ee=yield hl(M),Ie=Ia($),Ke={method:"POST",headers:ee,body:JSON.stringify(Ie)};let rt;try{rt=yield(yield fetch(Lo(M.appConfig),Ke)).json()}catch(It){throw Ki.create("token-subscribe-failed",{errorInfo:It?.toString()})}if(rt.error)throw Ki.create("token-subscribe-failed",{errorInfo:rt.error.message});if(!rt.token)throw Ki.create("token-subscribe-no-token");return rt.token})).apply(this,arguments)}function Ko(){return(Ko=(0,fe.Z)(function*(M,$){const ee=yield hl(M),Ie=Ia($.subscriptionOptions),Ke={method:"PATCH",headers:ee,body:JSON.stringify(Ie)};let rt;try{rt=yield(yield fetch(`${Lo(M.appConfig)}/${$.token}`,Ke)).json()}catch(It){throw Ki.create("token-update-failed",{errorInfo:It?.toString()})}if(rt.error)throw Ki.create("token-update-failed",{errorInfo:rt.error.message});if(!rt.token)throw Ki.create("token-update-no-token");return rt.token})).apply(this,arguments)}function Yo(M,$){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,fe.Z)(function*(M,$){const Ie={method:"DELETE",headers:yield hl(M)};try{const rt=yield(yield fetch(`${Lo(M.appConfig)}/${$}`,Ie)).json();if(rt.error)throw Ki.create("token-unsubscribe-failed",{errorInfo:rt.error.message})}catch(Ke){throw Ki.create("token-unsubscribe-failed",{errorInfo:Ke?.toString()})}})).apply(this,arguments)}function Lo({projectId:M}){return`${Ga}/projects/${M}/registrations`}function hl(M){return li.apply(this,arguments)}function li(){return(li=(0,fe.Z)(function*({appConfig:M,installations:$}){const ee=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":M.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function Ia({p256dh:M,auth:$,endpoint:ee,vapidKey:Ie}){const Ke={web:{endpoint:ee,auth:$,p256dh:M}};return Ie!==ul&&(Ke.web.applicationPubKey=Ie),Ke}const fl=6048e5;function Oa(){return Oa=(0,fe.Z)(function*(M){const $=yield function Ps(M,$){return gl.apply(this,arguments)}(M.swRegistration,M.vapidKey),ee={vapidKey:M.vapidKey,swScope:M.swRegistration.scope,endpoint:$.endpoint,auth:Q($.getKey("auth")),p256dh:Q($.getKey("p256dh"))},Ie=yield ws(M.firebaseDependencies);if(Ie){if(function O(M,$){return $.vapidKey===M.vapidKey&&$.endpoint===M.endpoint&&$.auth===M.auth&&$.p256dh===M.p256dh}(Ie.subscriptionOptions,ee))return Date.now()>=Ie.createTime+fl?function pl(M,$){return Xa.apply(this,arguments)}(M,{token:Ie.token,createTime:Date.now(),subscriptionOptions:ee}):Ie.token;try{yield Yo(M.firebaseDependencies,Ie.token)}catch(Ke){console.warn(Ke)}return Co(M.firebaseDependencies,ee)}return Co(M.firebaseDependencies,ee)}),Oa.apply(this,arguments)}function Zo(){return Zo=(0,fe.Z)(function*(M){const $=yield ws(M.firebaseDependencies);$&&(yield Yo(M.firebaseDependencies,$.token),yield function qo(M){return Fo.apply(this,arguments)}(M.firebaseDependencies));const ee=yield M.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()}),Zo.apply(this,arguments)}function Xa(){return Xa=(0,fe.Z)(function*(M,$){try{const ee=yield function ql(M,$){return Ko.apply(this,arguments)}(M.firebaseDependencies,$),Ie=Object.assign(Object.assign({},$),{token:ee,createTime:Date.now()});return yield Ra(M.firebaseDependencies,Ie),ee}catch(ee){throw yield function Kl(M){return Zo.apply(this,arguments)}(M),ee}}),Xa.apply(this,arguments)}function Co(M,$){return xo.apply(this,arguments)}function xo(){return(xo=(0,fe.Z)(function*(M,$){const Ie={token:yield Nl(M,$),createTime:Date.now(),subscriptionOptions:$};return yield Ra(M,Ie),Ie.token})).apply(this,arguments)}function gl(){return(gl=(0,fe.Z)(function*(M,$){return(yield M.pushManager.getSubscription())||M.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:De($)})})).apply(this,arguments)}function Y(M){const $={from:M.from,collapseKey:M.collapse_key,messageId:M.fcmMessageId};return function Te(M,$){if(!$.notification)return;M.notification={};const ee=$.notification.title;ee&&(M.notification.title=ee);const Ie=$.notification.body;Ie&&(M.notification.body=Ie);const Ke=$.notification.image;Ke&&(M.notification.image=Ke);const rt=$.notification.icon;rt&&(M.notification.icon=rt)}($,M),function H(M,$){$.data&&(M.data=$.data)}($,M),function me(M,$){var ee,Ie,Ke,rt,It;if(!($.fcmOptions||null!==(ee=$.notification)&&void 0!==ee&&ee.click_action))return;M.fcmOptions={};const Ln=null!==(Ke=null===(Ie=$.fcmOptions)||void 0===Ie?void 0:Ie.link)&&void 0!==Ke?Ke:null===(rt=$.notification)||void 0===rt?void 0:rt.click_action;Ln&&(M.fcmOptions.link=Ln);const Rn=null===(It=$.fcmOptions)||void 0===It?void 0:It.analytics_label;Rn&&(M.fcmOptions.analyticsLabel=Rn)}($,M),$}function Z(M,$){const ee=[];for(let Ie=0;Ie<M.length;Ie++)ee.push(M.charAt(Ie)),Ie<$.length&&ee.push($.charAt(Ie));return ee.join("")}function ce(M){return Ki.create("missing-app-config-values",{valueName:M})}Z("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Z("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ye{constructor($,ee,Ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ke=function re(M){if(!M||!M.options)throw ce("App Configuration Object");if(!M.name)throw ce("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=M;for(const Ie of $)if(!ee[Ie])throw ce(Ie);return{appName:M.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:Ke,installations:ee,analyticsProvider:Ie}}_delete(){return Promise.resolve()}}function y(){return(y=(0,fe.Z)(function*(M){try{M.swRegistration=yield navigator.serviceWorker.register(Wo,{scope:Os}),M.swRegistration.update().catch(()=>{})}catch($){throw Ki.create("failed-service-worker-registration",{browserErrorMessage:$?.message})}})).apply(this,arguments)}function R(){return(R=(0,fe.Z)(function*(M,$){if(!$&&!M.swRegistration&&(yield function U(M){return y.apply(this,arguments)}(M)),$||!M.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw Ki.create("invalid-sw-registration");M.swRegistration=$}})).apply(this,arguments)}function ie(){return(ie=(0,fe.Z)(function*(M,$){$?M.vapidKey=$:M.vapidKey||(M.vapidKey=ul)})).apply(this,arguments)}function Se(){return Se=(0,fe.Z)(function*(M,$){if(!navigator)throw Ki.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ki.create("permission-blocked");return yield function q(M,$){return ie.apply(this,arguments)}(M,$?.vapidKey),yield function D(M,$){return R.apply(this,arguments)}(M,$?.serviceWorkerRegistration),function go(M){return Oa.apply(this,arguments)}(M)}),Se.apply(this,arguments)}function et(){return(et=(0,fe.Z)(function*(M,$,ee){const Ie=function sn(M){switch(M){case pe.NOTIFICATION_CLICKED:return"notification_open";case pe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}($);(yield M.firebaseDependencies.analyticsProvider.get()).logEvent(Ie,{message_id:ee[hi],message_name:ee[zs],message_time:ee[po],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function it(){return it=(0,fe.Z)(function*(M,$){const ee=$.data;if(!ee.isFirebaseMessaging)return;M.onMessageHandler&&ee.messageType===pe.PUSH_RECEIVED&&("function"==typeof M.onMessageHandler?M.onMessageHandler(Y(ee)):M.onMessageHandler.next(Y(ee)));const Ie=ee.data;(function L(M){return"object"==typeof M&&!!M&&hi in M})(Ie)&&"1"===Ie["google.c.a.e"]&&(yield function Ue(M,$,ee){return et.apply(this,arguments)}(M,ee.messageType,Ie))}),it.apply(this,arguments)}const Dn="@firebase/messaging",$n=M=>{const $=new ye(M.getProvider("app").getImmediate(),M.getProvider("installations-internal").getImmediate(),M.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function cn(M,$){return it.apply(this,arguments)}($,ee)),$},en=M=>{const $=M.getProvider("messaging").getImmediate();return{getToken:Ie=>function ve(M,$){return Se.apply(this,arguments)}($,Ie)}};function Ri(){return $t.apply(this,arguments)}function $t(){return($t=(0,fe.Z)(function*(){try{yield(0,Pe.eu)()}catch{return!1}return typeof window<"u"&&(0,Pe.hl)()&&(0,Pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function In(){(0,we.Xd)(new Ve.wA("messaging",$n,"PUBLIC")),(0,we.Xd)(new Ve.wA("messaging-internal",en,"PRIVATE")),(0,we.KN)(Dn,"0.12.4"),(0,we.KN)(Dn,"0.12.4","esm2017")}();const Ma="analytics",Jo="firebase_id",Er="origin",jc=6e4,ir="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tr="https://www.googletagmanager.com/gtag/js",Qt=new be.Yd("@firebase/analytics"),ri=new Pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Xr(M){if(!M.startsWith(tr)){const $=ri.create("invalid-gtag-resource",{gtagURL:M});return Qt.warn($.message),""}return M}function Nn(M){return Promise.all(M.map($=>$.catch(ee=>ee)))}function Ye(){return(Ye=(0,fe.Z)(function*(M,$,ee,Ie,Ke,rt){const It=Ie[Ke];try{if(It)yield $[It];else{const Rn=(yield Nn(ee)).find(fn=>fn.measurementId===Ke);Rn&&(yield $[Rn.appId])}}catch(Ln){Qt.error(Ln)}M("config",Ke,rt)})).apply(this,arguments)}function so(){return(so=(0,fe.Z)(function*(M,$,ee,Ie,Ke){try{let rt=[];if(Ke&&Ke.send_to){let It=Ke.send_to;Array.isArray(It)||(It=[It]);const Ln=yield Nn(ee);for(const Rn of It){const fn=Ln.find(yr=>yr.measurementId===Rn),Kn=fn&&$[fn.appId];if(!Kn){rt=[];break}rt.push(Kn)}}0===rt.length&&(rt=Object.values($)),yield Promise.all(rt),M("event",Ie,Ke||{})}catch(rt){Qt.error(rt)}})).apply(this,arguments)}const Au=30,fu=new class hu{constructor($={},ee=1e3){this.throttleMetadata=$,this.intervalMillis=ee}getThrottleMetadata($){return this.throttleMetadata[$]}setThrottleMetadata($,ee){this.throttleMetadata[$]=ee}deleteThrottleMetadata($){delete this.throttleMetadata[$]}};function Ha(M){return new Headers({Accept:"application/json","x-goog-api-key":M})}function Tc(){return(Tc=(0,fe.Z)(function*(M){var $;const{appId:ee,apiKey:Ie}=M,Ke={method:"GET",headers:Ha(Ie)},rt=ir.replace("{app-id}",ee),It=yield fetch(rt,Ke);if(200!==It.status&&304!==It.status){let Ln="";try{const Rn=yield It.json();null!==($=Rn.error)&&void 0!==$&&$.message&&(Ln=Rn.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:It.status,responseMessage:Ln})}return It.json()})).apply(this,arguments)}function qs(){return(qs=(0,fe.Z)(function*(M,$=fu,ee){const{appId:Ie,apiKey:Ke,measurementId:rt}=M.options;if(!Ie)throw ri.create("no-app-id");if(!Ke){if(rt)return{measurementId:rt,appId:Ie};throw ri.create("no-api-key")}const It=$.getThrottleMetadata(Ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ln=new Kd;return setTimeout((0,fe.Z)(function*(){Ln.abort()}),void 0!==ee?ee:jc),Yl({appId:Ie,apiKey:Ke,measurementId:rt},It,Ln,$)})).apply(this,arguments)}function Yl(M,$,ee){return Et.apply(this,arguments)}function Et(){return Et=(0,fe.Z)(function*(M,{throttleEndTimeMillis:$,backoffCount:ee},Ie,Ke=fu){var rt;const{appId:It,measurementId:Ln}=M;try{yield function Ta(M,$){return new Promise((ee,Ie)=>{const Ke=Math.max($-Date.now(),0),rt=setTimeout(ee,Ke);M.addEventListener(()=>{clearTimeout(rt),Ie(ri.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}(Ie,$)}catch(Rn){if(Ln)return Qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ln} provided in the "measurementId" field in the local Firebase config. [${Rn?.message}]`),{appId:It,measurementId:Ln};throw Rn}try{const Rn=yield function Cu(M){return Tc.apply(this,arguments)}(M);return Ke.deleteThrottleMetadata(It),Rn}catch(Rn){const fn=Rn;if(!function ml(M){if(!(M instanceof Pe.ZR&&M.customData))return!1;const $=Number(M.customData.httpStatus);return 429===$||500===$||503===$||504===$}(fn)){if(Ke.deleteThrottleMetadata(It),Ln)return Qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ln} provided in the "measurementId" field in the local Firebase config. [${fn?.message}]`),{appId:It,measurementId:Ln};throw Rn}const Kn=503===Number(null===(rt=fn?.customData)||void 0===rt?void 0:rt.httpStatus)?(0,Pe.$s)(ee,Ke.intervalMillis,Au):(0,Pe.$s)(ee,Ke.intervalMillis),yr={throttleEndTimeMillis:Date.now()+Kn,backoffCount:ee+1};return Ke.setThrottleMetadata(It,yr),Qt.debug(`Calling attemptFetch again in ${Kn} millis`),Yl(M,yr,Ie,Ke)}}),Et.apply(this,arguments)}class Kd{constructor(){this.listeners=[]}addEventListener($){this.listeners.push($)}abort(){this.listeners.forEach($=>$())}}let $c,nn;function pu(){return(pu=(0,fe.Z)(function*(M,$,ee,Ie,Ke){if(Ke&&Ke.global)M("event",ee,Ie);else{const rt=yield $;M("event",ee,Object.assign(Object.assign({},Ie),{send_to:rt}))}})).apply(this,arguments)}function Oi(){return(Oi=(0,fe.Z)(function*(){if(!(0,Pe.hl)())return Qt.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Pe.eu)()}catch(M){return Qt.warn(ri.create("indexeddb-unavailable",{errorInfo:M?.toString()}).message),!1}return!0})).apply(this,arguments)}function mo(){return mo=(0,fe.Z)(function*(M,$,ee,Ie,Ke,rt,It){var Ln;const Rn=function Ro(M){return qs.apply(this,arguments)}(M);Rn.then(la=>{ee[la.measurementId]=la.appId,M.options.measurementId&&la.measurementId!==M.options.measurementId&&Qt.warn(`The measurement ID in the local Firebase config (${M.options.measurementId}) does not match the measurement ID fetched from the server (${la.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(la=>Qt.error(la)),$.push(Rn);const fn=function gr(){return Oi.apply(this,arguments)}().then(la=>{if(la)return Ie.getId()}),[Kn,yr]=yield Promise.all([Rn,fn]);(function Fl(M){const $=window.document.getElementsByTagName("script");for(const ee of Object.values($))if(ee.src&&ee.src.includes(tr)&&ee.src.includes(M))return ee;return null})(rt)||function lr(M,$){const ee=function Vo(M,$){let ee;return window.trustedTypes&&(ee=window.trustedTypes.createPolicy(M,$)),ee}("firebase-js-sdk-policy",{createScriptURL:Xr}),Ie=document.createElement("script"),Ke=`${tr}?l=${M}&id=${$}`;Ie.src=ee?ee?.createScriptURL(Ke):Ke,Ie.async=!0,document.head.appendChild(Ie)}(rt,Kn.measurementId),nn&&(Ke("consent","default",nn),function Ft(M){nn=M}(void 0)),Ke("js",new Date);const aa=null!==(Ln=It?.config)&&void 0!==Ln?Ln:{};return aa[Er]="firebase",aa.update=!0,null!=yr&&(aa[Jo]=yr),Ke("config",Kn.measurementId,aa),$c&&(Ke("set",$c),function Wn(M){$c=M}(void 0)),Kn.measurementId}),mo.apply(this,arguments)}class yl{constructor($){this.app=$}_delete(){return delete za[this.app.options.appId],Promise.resolve()}}let za={},vl=[];const xu={};let uc,wl,cc="dataLayer",Ll=!1;function Id(M,$,ee){!function gu(){const M=[];if((0,Pe.ru)()&&M.push("This is a browser extension environment."),(0,Pe.zI)()||M.push("Cookies are not available."),M.length>0){const $=M.map((Ie,Ke)=>`(${Ke+1}) ${Ie}`).join(" "),ee=ri.create("invalid-analytics-context",{errorInfo:$});Qt.warn(ee.message)}}();const Ie=M.options.appId;if(!Ie)throw ri.create("no-app-id");if(!M.options.apiKey){if(!M.options.measurementId)throw ri.create("no-api-key");Qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${M.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=za[Ie])throw ri.create("already-exists",{id:Ie});if(!Ll){!function Ic(M){let $=[];Array.isArray(window[M])?$=window[M]:window[M]=$}(cc);const{wrappedGtag:rt,gtagCore:It}=function fs(M,$,ee,Ie,Ke){let rt=function(...It){window[Ie].push(arguments)};return window[Ke]&&"function"==typeof window[Ke]&&(rt=window[Ke]),window[Ke]=function Pa(M,$,ee,Ie){function rt(){return rt=(0,fe.Z)(function*(It,...Ln){try{if("event"===It){const[Rn,fn]=Ln;yield function Nr(M,$,ee,Ie,Ke){return so.apply(this,arguments)}(M,$,ee,Rn,fn)}else if("config"===It){const[Rn,fn]=Ln;yield function bs(M,$,ee,Ie,Ke,rt){return Ye.apply(this,arguments)}(M,$,ee,Ie,Rn,fn)}else if("consent"===It){const[Rn]=Ln;M("consent","update",Rn)}else if("get"===It){const[Rn,fn,Kn]=Ln;M("get",Rn,fn,Kn)}else if("set"===It){const[Rn]=Ln;M("set",Rn)}else M(It,...Ln)}catch(Rn){Qt.error(Rn)}}),rt.apply(this,arguments)}return function Ke(It){return rt.apply(this,arguments)}}(rt,M,$,ee),{gtagCore:rt,wrappedGtag:window[Ke]}}(za,vl,xu,cc,"gtag");wl=rt,uc=It,Ll=!0}return za[Ie]=function wr(M,$,ee,Ie,Ke,rt,It){return mo.apply(this,arguments)}(M,vl,xu,$,uc,cc,ee),new yl(M)}function Ku(){return bl.apply(this,arguments)}function bl(){return(bl=(0,fe.Z)(function*(){if((0,Pe.ru)()||!(0,Pe.zI)()||!(0,Pe.hl)())return!1;try{return yield(0,Pe.eu)()}catch{return!1}})).apply(this,arguments)}const Ac="@firebase/analytics";!function os(){(0,we.Xd)(new Ve.wA(Ma,($,{options:ee})=>Id($.getProvider("app").getImmediate(),$.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,we.Xd)(new Ve.wA("analytics-internal",function M($){try{const ee=$.getProvider(Ma).getImmediate();return{logEvent:(Ie,Ke,rt)=>function Yd(M,$,ee,Ie){M=(0,Pe.m9)(M),function Dc(M,$,ee,Ie,Ke){return pu.apply(this,arguments)}(wl,za[M.app.options.appId],$,ee,Ie).catch(Ke=>Qt.error(Ke))}(ee,Ie,Ke,rt)}}catch(ee){throw ri.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,we.KN)(Ac,"0.10.0"),(0,we.KN)(Ac,"0.10.0","esm2017")}();var zc=W(1954),Xo=W(2631);const Lh=new class Fh extends Xo.v{}(class Cc extends zc.o{constructor($,ee){super($,ee),this.scheduler=$,this.work=ee}schedule($,ee=0){return ee>0?super.schedule($,ee):(this.delay=ee,this.state=$,this.scheduler.flush(this),this)}execute($,ee){return ee>0||this.closed?super.execute($,ee):this._execute($,ee)}requestAsyncId($,ee,Ie=0){return null!=Ie&&Ie>0||null==Ie&&this.delay>0?super.requestAsyncId($,ee,Ie):($.flush(this),0)}});var Vh=W(6321),Uo=W(5592),Ks=W(9397),Na=W(5137),xc=W(3093);const Rc=new d.GfV("7.6.1"),Vl="__angularfire_symbol__analyticsIsSupportedValue",Wc="__angularfire_symbol__analyticsIsSupported",Bl="__angularfire_symbol__remoteConfigIsSupportedValue",el="__angularfire_symbol__remoteConfigIsSupported",qc="__angularfire_symbol__messagingIsSupportedValue",tl="__angularfire_symbol__messagingIsSupported";function Kc(M,$,ee){if($){if(1===$.length)return $[0];const rt=$.filter(It=>It.app===ee);if(1===rt.length)return rt[0]}return ee.container.getProvider(M).getImmediate({optional:!0})}globalThis[Wc]||(globalThis[Wc]=Ku().then(M=>globalThis[Vl]=M).catch(()=>globalThis[Vl]=!1)),globalThis[tl]||(globalThis[tl]=Ri().then(M=>globalThis[qc]=M).catch(()=>globalThis[qc]=!1)),globalThis[el]||(globalThis[el]=So().then(M=>globalThis[Bl]=M).catch(()=>globalThis[Bl]=!1));const Td=(M,$)=>{const ee=$?[$]:(0,oe.C6)(),Ie=[];return ee.forEach(Ke=>{Ke.container.getProvider(M).instances.forEach(It=>{Ie.includes(It)||Ie.push(It)})}),Ie};function fc(){}class Il{constructor($,ee=Lh){this.zone=$,this.delegate=ee}now(){return this.delegate.now()}schedule($,ee,Ie){const Ke=this.zone;return this.delegate.schedule(function(It){Ke.runGuarded(()=>{$.apply(this,[It])})},ee,Ie)}}class Qd{constructor($){this.zone=$,this.task=null}call($,ee){const Ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fc,{},fc,fc)),ee.pipe((0,Ks.b)({next:Ie,complete:Ie,error:Ie})).subscribe($).add(Ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mo=(()=>{class M{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new Il(Zone.current)),this.insideAngular=ee.run(()=>new Il(Zone.current,Vh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return M.\u0275fac=function(ee){return new(ee||M)(d.LFG(d.R0b))},M.\u0275prov=d.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function Yc(){const M=globalThis.\u0275AngularFireScheduler;if(!M)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return M}function Ul(M){return Yc().ngZone.run(()=>M())}function Zu(M){return Yc(),function Ou(M){return function(ee){return(ee=ee.lift(new Qd(M.ngZone))).pipe((0,Na.R)(M.outsideAngular),(0,xc.Q)(M.insideAngular))}}(Yc())(M)}const _u=(M,$)=>function(){const Ie=arguments;return $&&setTimeout(()=>{"scheduled"===$.state&&$.invoke()},10),Ul(()=>M.apply(void 0,Ie))},Oc=(M,$)=>function(){let ee;const Ie=arguments;for(let rt=0;rt<arguments.length;rt++)"function"==typeof Ie[rt]&&($&&(ee||(ee=Ul(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fc,{},fc,fc)))),Ie[rt]=_u(Ie[rt],ee));const Ke=function Zd(M){return Yc().ngZone.runOutsideAngular(()=>M())}(()=>M.apply(this,Ie));if(!$){if(Ke instanceof Uo.y){const rt=Yc();return Ke.pipe((0,Na.R)(rt.outsideAngular),(0,xc.Q)(rt.insideAngular))}return Ul(()=>Ke)}return Ke instanceof Uo.y?Ke.pipe(Zu):Ke instanceof Promise?Ul(()=>new Promise((rt,It)=>Ke.then(Ln=>Ul(()=>rt(Ln)),Ln=>Ul(()=>It(Ln))))):"function"==typeof Ke&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),Ke.apply(this,arguments)}:Ul(()=>Ke)}},6710:(bn,gt,W)=>{W.d(gt,{$:()=>Wo,A:()=>Oe,D:()=>Be,I:()=>Qa,J:()=>Xt,L:()=>_n,N:()=>Yt,P:()=>wr,Q:()=>Do,R:()=>A,U:()=>cl,V:()=>So,W:()=>Fs,X:()=>zi,Y:()=>va,Z:()=>da,_:()=>fo,a:()=>yi,a0:()=>ul,a1:()=>hi,a2:()=>z,a3:()=>is,a4:()=>vs,a5:()=>Ms,a6:()=>io,a7:()=>ha,a8:()=>Ao,a9:()=>Ja,aA:()=>Re,aB:()=>Wc,aC:()=>ht,aD:()=>er,aE:()=>Ks,aF:()=>dc,aG:()=>Yu,aH:()=>Rr,aL:()=>Li,aO:()=>Hs,aa:()=>qo,ab:()=>dl,ac:()=>ba,ad:()=>ql,ae:()=>Yo,af:()=>Lo,ai:()=>fl,aj:()=>Oa,ak:()=>Kl,an:()=>rs,ao:()=>Te,aq:()=>ie,ar:()=>Dn,as:()=>Jt,at:()=>hn,au:()=>Ot,av:()=>He,aw:()=>yr,ax:()=>tl,ay:()=>kr,az:()=>Tt,b:()=>pt,c:()=>wl,d:()=>Id,e:()=>bd,f:()=>Ac,g:()=>Fh,h:()=>zc,i:()=>oa,j:()=>Vh,k:()=>Tl,l:()=>le,m:()=>Qc,o:()=>bg,p:()=>lt,r:()=>Xe,s:()=>P,u:()=>gr});var d=W(5861),oe=W(9058),fe=W(7592),we=W(7582),Pe=W(7879),Ve=W(4537);const lt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Be=function Ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},jt=function bt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new oe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Lt=new Pe.Yd("@firebase/auth");function vn(x,..._){Lt.logLevel<=Pe.in.ERROR&&Lt.error(`Auth (${fe.SDK_VERSION}): ${x}`,..._)}function He(x,..._){throw Dt(x,..._)}function Tt(x,..._){return Dt(x,..._)}function ot(x,_,I){const k=Object.assign(Object.assign({},jt()),{[_]:I});return new oe.LL("auth","Firebase",k).create(_,{appName:x.name})}function at(x,_,I){if(!(_ instanceof I))throw I.name!==_.constructor.name&&He(x,"argument-error"),ot(x,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(x,..._){if("string"!=typeof x){const I=_[0],k=[..._.slice(1)];return k[0]&&(k[0].appName=x.name),x._errorFactory.create(I,...k)}return st.create(x,..._)}function Re(x,_,...I){if(!x)throw Dt(_,...I)}function Nt(x){const _="INTERNAL ASSERTION FAILED: "+x;throw vn(_),new Error(_)}function Jt(x,_){x||Nt(_)}function Mn(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function Bn(){return"http:"===mn()||"https:"===mn()}function mn(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class dr{constructor(_,I){this.shortDelay=_,this.longDelay=I,Jt(I>_,"Short delay should be less than long delay!"),this.isMobile=(0,oe.uI)()||(0,oe.b$)()}get(){return function zn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bn()||(0,oe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ar(x,_){Jt(x.emulator,"Emulator should always be set here");const{url:I}=x.emulator;return _?`${I}${_.startsWith("/")?_.slice(1):_}`:I}class Je{static initialize(_,I,k){this.fetchImpl=_,I&&(this.headersImpl=I),k&&(this.responseImpl=k)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},tt=new dr(3e4,6e4);function $e(x,_){return x.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:x.tenantId}):_}function ft(x,_,I,k){return xt.apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(x,_,I,k,ne={}){return Gt(x,ne,(0,d.Z)(function*(){let ge={},nt={};k&&("GET"===_?nt=k:ge={body:JSON.stringify(k)});const Pt=(0,oe.xO)(Object.assign({key:x.config.apiKey},nt)).slice(1),Tn=yield x._getAdditionalHeaders();return Tn["Content-Type"]="application/json",x.languageCode&&(Tn["X-Firebase-Locale"]=x.languageCode),Je.fetch()(Un(x,x.config.apiHost,I,Pt),Object.assign({method:_,headers:Tn,referrerPolicy:"no-referrer"},ge))}))})).apply(this,arguments)}function Gt(x,_,I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,d.Z)(function*(x,_,I){x._canInitEmulator=!1;const k=Object.assign(Object.assign({},dt),_);try{const ne=new An(x),ge=yield Promise.race([I(),ne.promise]);ne.clearNetworkTimeout();const nt=yield ge.json();if("needConfirmation"in nt)throw fr(x,"account-exists-with-different-credential",nt);if(ge.ok&&!("errorMessage"in nt))return nt;{const Pt=ge.ok?nt.errorMessage:nt.error.message,[Tn,Sn]=Pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Tn)throw fr(x,"credential-already-in-use",nt);if("EMAIL_EXISTS"===Tn)throw fr(x,"email-already-in-use",nt);if("USER_DISABLED"===Tn)throw fr(x,"user-disabled",nt);const vr=k[Tn]||Tn.toLowerCase().replace(/[_\s]+/g,"-");if(Sn)throw ot(x,vr,Sn);He(x,vr)}}catch(ne){if(ne instanceof oe.ZR)throw ne;He(x,"network-request-failed",{message:String(ne)})}})).apply(this,arguments)}function Hn(x,_,I,k){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.Z)(function*(x,_,I,k,ne={}){const ge=yield ft(x,_,I,k,ne);return"mfaPendingCredential"in ge&&He(x,"multi-factor-auth-required",{_serverResponse:ge}),ge})).apply(this,arguments)}function Un(x,_,I,k){const ne=`${_}${I}?${k}`;return x.config.emulator?ar(x.config,ne):`${x.config.apiScheme}://${ne}`}class An{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((I,k)=>{this.timer=setTimeout(()=>k(Tt(this.auth,"network-request-failed")),tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fr(x,_,I){const k={appName:x.name};I.email&&(k.email=I.email),I.phoneNumber&&(k.phoneNumber=I.phoneNumber);const ne=Tt(x,_,k);return ne.customData._tokenResponse=I,ne}function wn(){return(wn=(0,d.Z)(function*(x,_){return ft(x,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function ke(){return(ke=(0,d.Z)(function*(x,_){return ft(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Rt(){return(Rt=(0,d.Z)(function*(x,_){return ft(x,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function wt(x){if(x)try{const _=new Date(Number(x));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function ln(){return(ln=(0,d.Z)(function*(x,_=!1){const I=(0,oe.m9)(x),k=yield I.getIdToken(_),ne=rn(k);Re(ne&&ne.exp&&ne.auth_time&&ne.iat,I.auth,"internal-error");const ge="object"==typeof ne.firebase?ne.firebase:void 0,nt=ge?.sign_in_provider;return{claims:ne,token:k,authTime:wt(Wt(ne.auth_time)),issuedAtTime:wt(Wt(ne.iat)),expirationTime:wt(Wt(ne.exp)),signInProvider:nt||null,signInSecondFactor:ge?.sign_in_second_factor||null}})).apply(this,arguments)}function Wt(x){return 1e3*Number(x)}function rn(x){const[_,I,k]=x.split(".");if(void 0===_||void 0===I||void 0===k)return vn("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,oe.tV)(I);return ne?JSON.parse(ne):(vn("Failed to decode base64 JWT payload"),null)}catch(ne){return vn("Caught error parsing JWT payload as JSON",ne?.toString()),null}}function nr(x,_){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(x,_,I=!1){if(I)return _;try{return yield _}catch(k){throw k instanceof oe.ZR&&function qr({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}(k)&&x.auth.currentUser===x&&(yield x.auth.signOut()),k}})).apply(this,arguments)}class cr{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var I;if(_){const k=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),k}{this.errorBackoff=3e4;const ne=(null!==(I=this.user.stsTokenManager.expirationTime)&&void 0!==I?I:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(_=!1){var I=this;if(!this.isRunning)return;const k=this.getInterval(_);this.timerId=setTimeout((0,d.Z)(function*(){yield I.iteration()}),k)}iteration(){var _=this;return(0,d.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(I){return void("auth/network-request-failed"===I?.code&&_.schedule(!0))}_.schedule()})()}}class Vr{constructor(_,I){this.createdAt=_,this.lastLoginAt=I,this._initializeTime()}_initializeTime(){this.lastSignInTime=wt(this.lastLoginAt),this.creationTime=wt(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Cr(x){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,d.Z)(function*(x){var _;const I=x.auth,k=yield x.getIdToken(),ne=yield nr(x,function mt(x,_){return Rt.apply(this,arguments)}(I,{idToken:k}));Re(ne?.users.length,I,"internal-error");const ge=ne.users[0];x._notifyReloadListener(ge);const nt=null!==(_=ge.providerUserInfo)&&void 0!==_&&_.length?function xr(x){return x.map(_=>{var{providerId:I}=_,k=(0,we._T)(_,["providerId"]);return{providerId:I,uid:k.rawId||"",displayName:k.displayName||null,email:k.email||null,phoneNumber:k.phoneNumber||null,photoURL:k.photoUrl||null}})}(ge.providerUserInfo):[],Pt=function Wr(x,_){return[...x.filter(k=>!_.some(ne=>ne.providerId===k.providerId)),..._]}(x.providerData,nt),vr=!!x.isAnonymous&&!(x.email&&ge.passwordHash||Pt?.length),ci={uid:ge.localId,displayName:ge.displayName||null,photoURL:ge.photoUrl||null,email:ge.email||null,emailVerified:ge.emailVerified||!1,phoneNumber:ge.phoneNumber||null,tenantId:ge.tenantId||null,providerData:Pt,metadata:new Vr(ge.createdAt,ge.lastLoginAt),isAnonymous:vr};Object.assign(x,ci)}),Tr.apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(x){const _=(0,oe.m9)(x);yield Cr(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function fi(){return(fi=(0,d.Z)(function*(x,_){const I=yield Gt(x,{},(0,d.Z)(function*(){const k=(0,oe.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:ne,apiKey:ge}=x.config,nt=Un(x,ne,"/v1/token",`key=${ge}`),Pt=yield x._getAdditionalHeaders();return Pt["Content-Type"]="application/x-www-form-urlencoded",Je.fetch()(nt,{method:"POST",headers:Pt,body:k})}));return{accessToken:I.access_token,expiresIn:I.expires_in,refreshToken:I.refresh_token}})).apply(this,arguments)}class ui{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Re(_.idToken,"internal-error"),Re(typeof _.idToken<"u","internal-error"),Re(typeof _.refreshToken<"u","internal-error");const I="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function kn(x){const _=rn(x);return Re(_,"internal-error"),Re(typeof _.exp<"u","internal-error"),Re(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,I)}getToken(_,I=!1){var k=this;return(0,d.Z)(function*(){return Re(!k.accessToken||k.refreshToken,_,"user-token-expired"),I||!k.accessToken||k.isExpired?k.refreshToken?(yield k.refresh(_,k.refreshToken),k.accessToken):null:k.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,I){var k=this;return(0,d.Z)(function*(){const{accessToken:ne,refreshToken:ge,expiresIn:nt}=yield function Ai(x,_){return fi.apply(this,arguments)}(_,I);k.updateTokensAndExpiration(ne,ge,Number(nt))})()}updateTokensAndExpiration(_,I,k){this.refreshToken=I||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*k}static fromJSON(_,I){const{refreshToken:k,accessToken:ne,expirationTime:ge}=I,nt=new ui;return k&&(Re("string"==typeof k,"internal-error",{appName:_}),nt.refreshToken=k),ne&&(Re("string"==typeof ne,"internal-error",{appName:_}),nt.accessToken=ne),ge&&(Re("number"==typeof ge,"internal-error",{appName:_}),nt.expirationTime=ge),nt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ui,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function yt(x,_){Re("string"==typeof x||typeof x>"u","internal-error",{appName:_})}class Fe{constructor(_){var{uid:I,auth:k,stsTokenManager:ne}=_,ge=(0,we._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=I,this.auth=k,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=ge.displayName||null,this.email=ge.email||null,this.emailVerified=ge.emailVerified||!1,this.phoneNumber=ge.phoneNumber||null,this.photoURL=ge.photoURL||null,this.isAnonymous=ge.isAnonymous||!1,this.tenantId=ge.tenantId||null,this.providerData=ge.providerData?[...ge.providerData]:[],this.metadata=new Vr(ge.createdAt||void 0,ge.lastLoginAt||void 0)}getIdToken(_){var I=this;return(0,d.Z)(function*(){const k=yield nr(I,I.stsTokenManager.getToken(I.auth,_));return Re(k,I.auth,"internal-error"),I.accessToken!==k&&(I.accessToken=k,yield I.auth._persistUserIfCurrent(I),I.auth._notifyListenersIfCurrent(I)),k})()}getIdTokenResult(_){return function or(x){return ln.apply(this,arguments)}(this,_)}reload(){return function Vi(x){return ur.apply(this,arguments)}(this)}_assign(_){this!==_&&(Re(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(I=>Object.assign({},I)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const I=new Fe(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return I.metadata._copy(this.metadata),I}_onReload(_){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,I=!1){var k=this;return(0,d.Z)(function*(){let ne=!1;_.idToken&&_.idToken!==k.stsTokenManager.accessToken&&(k.stsTokenManager.updateFromServerResponse(_),ne=!0),I&&(yield Cr(k)),yield k.auth._persistUserIfCurrent(k),ne&&k.auth._notifyListenersIfCurrent(k)})()}delete(){var _=this;return(0,d.Z)(function*(){const I=yield _.getIdToken();return yield nr(_,function zr(x,_){return wn.apply(this,arguments)}(_.auth,{idToken:I})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,I){var k,ne,ge,nt,Pt,Tn,Sn,vr;const ci=null!==(k=I.displayName)&&void 0!==k?k:void 0,ga=null!==(ne=I.email)&&void 0!==ne?ne:void 0,Sl=null!==(ge=I.phoneNumber)&&void 0!==ge?ge:void 0,vu=null!==(nt=I.photoURL)&&void 0!==nt?nt:void 0,Zc=null!==(Pt=I.tenantId)&&void 0!==Pt?Pt:void 0,Pc=null!==(Tn=I._redirectEventId)&&void 0!==Tn?Tn:void 0,Jc=null!==(Sn=I.createdAt)&&void 0!==Sn?Sn:void 0,mc=null!==(vr=I.lastLoginAt)&&void 0!==vr?vr:void 0,{uid:Jf,emailVerified:Nc,isAnonymous:Xc,providerData:nl,stsTokenManager:Xf}=I;Re(Jf&&Xf,_,"internal-error");const Xu=ui.fromJSON(this.name,Xf);Re("string"==typeof Jf,_,"internal-error"),yt(ci,_.name),yt(ga,_.name),Re("boolean"==typeof Nc,_,"internal-error"),Re("boolean"==typeof Xc,_,"internal-error"),yt(Sl,_.name),yt(vu,_.name),yt(Zc,_.name),yt(Pc,_.name),yt(Jc,_.name),yt(mc,_.name);const Jd=new Fe({uid:Jf,auth:_,email:ga,emailVerified:Nc,displayName:ci,isAnonymous:Xc,photoURL:vu,phoneNumber:Sl,tenantId:Zc,stsTokenManager:Xu,createdAt:Jc,lastLoginAt:mc});return nl&&Array.isArray(nl)&&(Jd.providerData=nl.map(kc=>Object.assign({},kc))),Pc&&(Jd._redirectEventId=Pc),Jd}static _fromIdTokenResponse(_,I,k=!1){return(0,d.Z)(function*(){const ne=new ui;ne.updateFromServerResponse(I);const ge=new Fe({uid:I.localId,auth:_,stsTokenManager:ne,isAnonymous:k});return yield Cr(ge),ge})()}}const St=new Map;function ht(x){Jt(x instanceof Function,"Expected a class definition");let _=St.get(x);return _?(Jt(_ instanceof x,"Instance stored in cache mismatched with class"),_):(_=new x,St.set(x,_),_)}const Yt=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(I,k){var ne=this;return(0,d.Z)(function*(){ne.storage[I]=k})()}_get(I){var k=this;return(0,d.Z)(function*(){const ne=k.storage[I];return void 0===ne?null:ne})()}_remove(I){var k=this;return(0,d.Z)(function*(){delete k.storage[I]})()}_addListener(I,k){}_removeListener(I,k){}}return x.type="NONE",x})();function er(x,_,I){return`firebase:${x}:${_}:${I}`}class Me{constructor(_,I,k){this.persistence=_,this.auth=I,this.userKey=k;const{config:ne,name:ge}=this.auth;this.fullUserKey=er(this.userKey,ne.apiKey,ge),this.fullPersistenceKey=er("persistence",ne.apiKey,ge),this.boundEventHandler=I._onStorageEvent.bind(I),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,d.Z)(function*(){const I=yield _.persistence._get(_.fullUserKey);return I?Fe._fromJSON(_.auth,I):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var I=this;return(0,d.Z)(function*(){if(I.persistence===_)return;const k=yield I.getCurrentUser();return yield I.removeCurrentUser(),I.persistence=_,k?I.setCurrentUser(k):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,I,k="authUser"){return(0,d.Z)(function*(){if(!I.length)return new Me(ht(Yt),_,k);const ne=(yield Promise.all(I.map(function(){var Sn=(0,d.Z)(function*(vr){if(yield vr._isAvailable())return vr});return function(vr){return Sn.apply(this,arguments)}}()))).filter(Sn=>Sn);let ge=ne[0]||ht(Yt);const nt=er(k,_.config.apiKey,_.name);let Pt=null;for(const Sn of I)try{const vr=yield Sn._get(nt);if(vr){const ci=Fe._fromJSON(_,vr);Sn!==ge&&(Pt=ci),ge=Sn;break}}catch{}const Tn=ne.filter(Sn=>Sn._shouldAllowMigration);return ge._shouldAllowMigration&&Tn.length?(ge=Tn[0],Pt&&(yield ge._set(nt,Pt.toJSON())),yield Promise.all(I.map(function(){var Sn=(0,d.Z)(function*(vr){if(vr!==ge)try{yield vr._remove(nt)}catch{}});return function(vr){return Sn.apply(this,arguments)}}())),new Me(ge,_,k)):new Me(ge,_,k)})()}}function ue(x){const _=x.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Le(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(se(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(qt(_))return"Blackberry";if(xn(_))return"Webos";if(Ce(_))return"Safari";if((_.includes("chrome/")||de(_))&&!_.includes("edge/"))return"Chrome";if(Ot(_))return"Android";{const k=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===k?.length)return k[1]}return"Other"}function se(x=(0,oe.z$)()){return/firefox\//i.test(x)}function Ce(x=(0,oe.z$)()){const _=x.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function de(x=(0,oe.z$)()){return/crios\//i.test(x)}function Le(x=(0,oe.z$)()){return/iemobile/i.test(x)}function Ot(x=(0,oe.z$)()){return/android/i.test(x)}function qt(x=(0,oe.z$)()){return/blackberry/i.test(x)}function xn(x=(0,oe.z$)()){return/webos/i.test(x)}function hn(x=(0,oe.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function kr(x=(0,oe.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}function Ei(x=(0,oe.z$)()){return hn(x)||Ot(x)||xn(x)||qt(x)||/windows phone/i.test(x)||Le(x)}function Ji(x,_=[]){let I;switch(x){case"Browser":I=ue((0,oe.z$)());break;case"Worker":I=`${ue((0,oe.z$)())}-${x}`;break;default:I=x}const k=_.length?_.join(","):"FirebaseCore-web";return`${I}/JsCore/${fe.SDK_VERSION}/${k}`}function Jr(){return(Jr=(0,d.Z)(function*(x){return(yield ft(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kr(x,_){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,d.Z)(function*(x,_){return ft(x,"GET","/v2/recaptchaConfig",$e(x,_))})).apply(this,arguments)}function _r(x){return void 0!==x&&void 0!==x.getResponse}function Bi(x){return void 0!==x&&void 0!==x.enterprise}class es{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(I=>"EMAIL_PASSWORD_PROVIDER"===I.provider&&"OFF"!==I.enforcementState)}}function Js(x){return new Promise((_,I)=>{const k=document.createElement("script");k.setAttribute("src",x),k.onload=_,k.onerror=ne=>{const ge=Tt("internal-error");ge.customData=ne,I(ge)},k.type="text/javascript",k.charset="UTF-8",function Zs(){var x,_;return null!==(_=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==_?_:document}().appendChild(k)})}function oi(x){return`__${x}${Math.floor(1e6*Math.random())}`}class js{constructor(_){this.type="recaptcha-enterprise",this.auth=Rr(_)}verify(_="verify",I=!1){var k=this;return(0,d.Z)(function*(){function ge(){return ge=(0,d.Z)(function*(Pt){if(!I){if(null==Pt.tenantId&&null!=Pt._agentRecaptchaConfig)return Pt._agentRecaptchaConfig.siteKey;if(null!=Pt.tenantId&&void 0!==Pt._tenantRecaptchaConfigs[Pt.tenantId])return Pt._tenantRecaptchaConfigs[Pt.tenantId].siteKey}return new Promise(function(){var Tn=(0,d.Z)(function*(Sn,vr){Kr(Pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ci=>{if(void 0!==ci.recaptchaKey){const ga=new es(ci);return null==Pt.tenantId?Pt._agentRecaptchaConfig=ga:Pt._tenantRecaptchaConfigs[Pt.tenantId]=ga,Sn(ga.siteKey)}vr(new Error("recaptcha Enterprise site key undefined"))}).catch(ci=>{vr(ci)})});return function(Sn,vr){return Tn.apply(this,arguments)}}())}),ge.apply(this,arguments)}function nt(Pt,Tn,Sn){const vr=window.grecaptcha;Bi(vr)?vr.enterprise.ready(()=>{vr.enterprise.execute(Pt,{action:_}).then(ci=>{Tn(ci)}).catch(()=>{Tn("NO_RECAPTCHA")})}):Sn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pt,Tn)=>{(function ne(Pt){return ge.apply(this,arguments)})(k.auth).then(Sn=>{if(!I&&Bi(window.grecaptcha))nt(Sn,Pt,Tn);else{if(typeof window>"u")return void Tn(new Error("RecaptchaVerifier is only supported in browser"));Js("https://www.google.com/recaptcha/enterprise.js?render="+Sn).then(()=>{nt(Sn,Pt,Tn)}).catch(vr=>{Tn(vr)})}}).catch(Sn=>{Tn(Sn)})})})()}}function xi(x,_,I){return lo.apply(this,arguments)}function lo(){return(lo=(0,d.Z)(function*(x,_,I,k=!1){const ne=new js(x);let ge;try{ge=yield ne.verify(I)}catch{ge=yield ne.verify(I,!0)}const nt=Object.assign({},_);return Object.assign(nt,k?{captchaResp:ge}:{captchaResponse:ge}),Object.assign(nt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(nt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),nt})).apply(this,arguments)}class Xs{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,I){const k=ge=>new Promise((nt,Pt)=>{try{nt(_(ge))}catch(Tn){Pt(Tn)}});k.onAbort=I,this.queue.push(k);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(_){var I=this;return(0,d.Z)(function*(){if(I.auth.currentUser===_)return;const k=[];try{for(const ne of I.queue)yield ne(_),ne.onAbort&&k.push(ne.onAbort)}catch(ne){k.reverse();for(const ge of k)try{ge()}catch{}throw I.auth._errorFactory.create("login-blocked",{originalMessage:ne?.message})}})()}}class gs{constructor(_,I,k,ne){this.app=_,this.heartbeatServiceProvider=I,this.appCheckServiceProvider=k,this.config=ne,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $s(this),this.idTokenSubscription=new $s(this),this.beforeStateQueue=new Xs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=ne.sdkClientVersion}_initializeWithPersistence(_,I){var k=this;return I&&(this._popupRedirectResolver=ht(I)),this._initializationPromise=this.queue((0,d.Z)(function*(){var ne,ge;if(!k._deleted&&(k.persistenceManager=yield Me.create(k,_),!k._deleted)){if(null!==(ne=k._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield k._popupRedirectResolver._initialize(k)}catch{}yield k.initializeCurrentUser(I),k.lastNotifiedUid=(null===(ge=k.currentUser)||void 0===ge?void 0:ge.uid)||null,!k._deleted&&(k._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,d.Z)(function*(){if(_._deleted)return;const I=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||I){if(_.currentUser&&I&&_.currentUser.uid===I.uid)return _._currentUser._assign(I),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(I,!0)}})()}initializeCurrentUser(_){var I=this;return(0,d.Z)(function*(){var k;const ne=yield I.assertedPersistence.getCurrentUser();let ge=ne,nt=!1;if(_&&I.config.authDomain){yield I.getOrInitRedirectPersistenceManager();const Pt=null===(k=I.redirectUser)||void 0===k?void 0:k._redirectEventId,Tn=ge?._redirectEventId,Sn=yield I.tryRedirectSignIn(_);(!Pt||Pt===Tn)&&Sn?.user&&(ge=Sn.user,nt=!0)}if(!ge)return I.directlySetCurrentUser(null);if(!ge._redirectEventId){if(nt)try{yield I.beforeStateQueue.runMiddleware(ge)}catch(Pt){ge=ne,I._popupRedirectResolver._overrideRedirectResult(I,()=>Promise.reject(Pt))}return ge?I.reloadAndSetCurrentUserOrClear(ge):I.directlySetCurrentUser(null)}return Re(I._popupRedirectResolver,I,"argument-error"),yield I.getOrInitRedirectPersistenceManager(),I.redirectUser&&I.redirectUser._redirectEventId===ge._redirectEventId?I.directlySetCurrentUser(ge):I.reloadAndSetCurrentUserOrClear(ge)})()}tryRedirectSignIn(_){var I=this;return(0,d.Z)(function*(){let k=null;try{k=yield I._popupRedirectResolver._completeRedirectFn(I,_,!0)}catch{yield I._setRedirectUser(null)}return k})()}reloadAndSetCurrentUserOrClear(_){var I=this;return(0,d.Z)(function*(){try{yield Cr(_)}catch(k){if("auth/network-request-failed"!==k?.code)return I.directlySetCurrentUser(null)}return I.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Jn(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var _=this;return(0,d.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var I=this;return(0,d.Z)(function*(){const k=_?(0,oe.m9)(_):null;return k&&Re(k.auth.config.apiKey===I.config.apiKey,I,"invalid-user-token"),I._updateCurrentUser(k&&k._clone(I))})()}_updateCurrentUser(_,I=!1){var k=this;return(0,d.Z)(function*(){if(!k._deleted)return _&&Re(k.tenantId===_.tenantId,k,"tenant-id-mismatch"),I||(yield k.beforeStateQueue.runMiddleware(_)),k.queue((0,d.Z)(function*(){yield k.directlySetCurrentUser(_),k.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,d.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var I=this;return this.queue((0,d.Z)(function*(){yield I.assertedPersistence.setPersistence(ht(_))}))}initializeRecaptchaConfig(){var _=this;return(0,d.Z)(function*(){const I=yield Kr(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),k=new es(I);null==_.tenantId?_._agentRecaptchaConfig=k:_._tenantRecaptchaConfigs[_.tenantId]=k,k.emailPasswordEnabled&&new js(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new oe.LL("auth","Firebase",_())}onAuthStateChanged(_,I,k){return this.registerStateListener(this.authStateSubscription,_,I,k)}beforeAuthStateChanged(_,I){return this.beforeStateQueue.pushCallback(_,I)}onIdTokenChanged(_,I,k){return this.registerStateListener(this.idTokenSubscription,_,I,k)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,I){var k=this;return(0,d.Z)(function*(){const ne=yield k.getOrInitRedirectPersistenceManager(I);return null===_?ne.removeCurrentUser():ne.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var I=this;return(0,d.Z)(function*(){if(!I.redirectPersistenceManager){const k=_&&ht(_)||I._popupRedirectResolver;Re(k,I,"argument-error"),I.redirectPersistenceManager=yield Me.create(I,[ht(k._redirectPersistence)],"redirectUser"),I.redirectUser=yield I.redirectPersistenceManager.getCurrentUser()}return I.redirectPersistenceManager})()}_redirectUserForId(_){var I=this;return(0,d.Z)(function*(){var k,ne;return I._isInitialized&&(yield I.queue((0,d.Z)(function*(){}))),(null===(k=I._currentUser)||void 0===k?void 0:k._redirectEventId)===_?I._currentUser:(null===(ne=I.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===_?I.redirectUser:null})()}_persistUserIfCurrent(_){var I=this;return(0,d.Z)(function*(){if(_===I.currentUser)return I.queue((0,d.Z)(function*(){return I.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,I;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const k=null!==(I=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==I?I:null;this.lastNotifiedUid!==k&&(this.lastNotifiedUid=k,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,I,k,ne){if(this._deleted)return()=>{};const ge="function"==typeof I?I:I.next.bind(I),nt=this._isInitialized?Promise.resolve():this._initializationPromise;return Re(nt,this,"internal-error"),nt.then(()=>ge(this.currentUser)),"function"==typeof I?_.addObserver(I,k,ne):_.addObserver(I)}directlySetCurrentUser(_){var I=this;return(0,d.Z)(function*(){I.currentUser&&I.currentUser!==_&&I._currentUser._stopProactiveRefresh(),_&&I.isProactiveRefreshEnabled&&_._startProactiveRefresh(),I.currentUser=_,_?yield I.assertedPersistence.setCurrentUser(_):yield I.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Ji(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,d.Z)(function*(){var I;const k={"X-Client-Version":_.clientVersion};_.app.options.appId&&(k["X-Firebase-gmpid"]=_.app.options.appId);const ne=yield null===(I=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getHeartbeatsHeader();ne&&(k["X-Firebase-Client"]=ne);const ge=yield _._getAppCheckToken();return ge&&(k["X-Firebase-AppCheck"]=ge),k})()}_getAppCheckToken(){var _=this;return(0,d.Z)(function*(){var I;const k=yield null===(I=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===I?void 0:I.getToken();return k?.error&&function On(x,..._){Lt.logLevel<=Pe.in.WARN&&Lt.warn(`Auth (${fe.SDK_VERSION}): ${x}`,..._)}(`Error while retrieving App Check token: ${k.error}`),k?.token})()}}function Rr(x){return(0,oe.m9)(x)}class $s{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,oe.ne)(I=>this.observer=I)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qa(x,_,I){const k=Rr(x);Re(k._canInitEmulator,k,"emulator-config-failed"),Re(/^https?:\/\//.test(_),k,"invalid-emulator-scheme");const ne=!!I?.disableWarnings,ge=Ge(_),{host:nt,port:Pt}=function ze(x){const _=Ge(x),I=/(\/\/)?([^?#/]+)/.exec(x.substr(_.length));if(!I)return{host:"",port:null};const k=I[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(k);if(ne){const ge=ne[1];return{host:ge,port:ut(k.substr(ge.length+1))}}{const[ge,nt]=k.split(":");return{host:ge,port:ut(nt)}}}(_);k.config.emulator={url:`${ge}//${nt}${null===Pt?"":`:${Pt}`}/`},k.settings.appVerificationDisabledForTesting=!0,k.emulatorConfig=Object.freeze({host:nt,port:Pt,protocol:ge.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function Vt(){function x(){const _=document.createElement("p"),I=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",I.position="fixed",I.width="100%",I.backgroundColor="#ffffff",I.border=".1em solid #000000",I.color="#b50000",I.bottom="0px",I.left="0px",I.margin="0px",I.zIndex="10000",I.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}function Ge(x){const _=x.indexOf(":");return _<0?"":x.substr(0,_+1)}function ut(x){if(!x)return null;const _=Number(x);return isNaN(_)?null:_}class Xt{constructor(_,I){this.providerId=_,this.signInMethod=I}toJSON(){return Nt("not implemented")}_getIdTokenResponse(_){return Nt("not implemented")}_linkToIdToken(_,I){return Nt("not implemented")}_getReauthenticationResolver(_){return Nt("not implemented")}}function qn(x,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,d.Z)(function*(x,_){return ft(x,"POST","/v1/accounts:resetPassword",$e(x,_))})).apply(this,arguments)}function Or(x,_){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(x,_){return ft(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(x,_){return ft(x,"POST","/v1/accounts:update",$e(x,_))})).apply(this,arguments)}function As(x,_){return pi.apply(this,arguments)}function pi(){return(pi=(0,d.Z)(function*(x,_){return Hn(x,"POST","/v1/accounts:signInWithPassword",$e(x,_))})).apply(this,arguments)}function Po(x,_){return ya.apply(this,arguments)}function ya(){return(ya=(0,d.Z)(function*(x,_){return ft(x,"POST","/v1/accounts:sendOobCode",$e(x,_))})).apply(this,arguments)}function ra(){return(ra=(0,d.Z)(function*(x,_){return Po(x,_)})).apply(this,arguments)}function No(x,_){return eo.apply(this,arguments)}function eo(){return(eo=(0,d.Z)(function*(x,_){return Po(x,_)})).apply(this,arguments)}function ia(x,_){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,d.Z)(function*(x,_){return Po(x,_)})).apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(x,_){return Po(x,_)})).apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(x,_){return Hn(x,"POST","/v1/accounts:signInWithEmailLink",$e(x,_))})).apply(this,arguments)}function Ho(){return(Ho=(0,d.Z)(function*(x,_){return Hn(x,"POST","/v1/accounts:signInWithEmailLink",$e(x,_))})).apply(this,arguments)}class ts extends Xt{constructor(_,I,k,ne=null){super("password",k),this._email=_,this._password=I,this._tenantId=ne}static _fromEmailAndPassword(_,I){return new ts(_,I,"password")}static _fromEmailAndCode(_,I,k=null){return new ts(_,I,"emailLink",k)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_;if(I?.email&&I?.password){if("password"===I.signInMethod)return this._fromEmailAndPassword(I.email,I.password);if("emailLink"===I.signInMethod)return this._fromEmailAndCode(I.email,I.password,I.tenantId)}return null}_getIdTokenResponse(_){var I=this;return(0,d.Z)(function*(){var k;switch(I.signInMethod){case"password":const ne={returnSecureToken:!0,email:I._email,password:I._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(k=_._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const ge=yield xi(_,ne,"signInWithPassword");return As(_,ge)}return As(_,ne).catch(function(){var ge=(0,d.Z)(function*(nt){if("auth/missing-recaptcha-token"===nt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pt=yield xi(_,ne,"signInWithPassword");return As(_,Pt)}return Promise.reject(nt)});return function(nt){return ge.apply(this,arguments)}}());case"emailLink":return function Cs(x,_){return ms.apply(this,arguments)}(_,{email:I._email,oobCode:I._password});default:He(_,"internal-error")}})()}_linkToIdToken(_,I){var k=this;return(0,d.Z)(function*(){switch(k.signInMethod){case"password":return Or(_,{idToken:I,returnSecureToken:!0,email:k._email,password:k._password});case"emailLink":return function uo(x,_){return Ho.apply(this,arguments)}(_,{idToken:I,email:k._email,oobCode:k._password});default:He(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function ki(x,_){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,d.Z)(function*(x,_){return Hn(x,"POST","/v1/accounts:signInWithIdp",$e(x,_))})).apply(this,arguments)}class _n extends Xt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const I=new _n(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(I.idToken=_.idToken),_.accessToken&&(I.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(I.nonce=_.nonce),_.pendingToken&&(I.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(I.accessToken=_.oauthToken,I.secret=_.oauthTokenSecret):He("argument-error"),I}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:k,signInMethod:ne}=I,ge=(0,we._T)(I,["providerId","signInMethod"]);if(!k||!ne)return null;const nt=new _n(k,ne);return nt.idToken=ge.idToken||void 0,nt.accessToken=ge.accessToken||void 0,nt.secret=ge.secret,nt.nonce=ge.nonce,nt.pendingToken=ge.pendingToken||null,nt}_getIdTokenResponse(_){return ki(_,this.buildRequest())}_linkToIdToken(_,I){const k=this.buildRequest();return k.idToken=I,ki(_,k)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,ki(_,I)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const I={};this.idToken&&(I.id_token=this.idToken),this.accessToken&&(I.access_token=this.accessToken),this.secret&&(I.oauth_token_secret=this.secret),I.providerId=this.providerId,this.nonce&&!this.pendingToken&&(I.nonce=this.nonce),_.postBody=(0,oe.xO)(I)}return _}}function gi(){return(gi=(0,d.Z)(function*(x,_){return ft(x,"POST","/v1/accounts:sendVerificationCode",$e(x,_))})).apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(x,_){return Hn(x,"POST","/v1/accounts:signInWithPhoneNumber",$e(x,_))})).apply(this,arguments)}function _s(){return(_s=(0,d.Z)(function*(x,_){const I=yield Hn(x,"POST","/v1/accounts:signInWithPhoneNumber",$e(x,_));if(I.temporaryProof)throw fr(x,"account-exists-with-different-credential",I);return I})).apply(this,arguments)}const Ii={USER_NOT_FOUND:"user-not-found"};function To(){return(To=(0,d.Z)(function*(x,_){return Hn(x,"POST","/v1/accounts:signInWithPhoneNumber",$e(x,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Ii)})).apply(this,arguments)}class sr extends Xt{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,I){return new sr({verificationId:_,verificationCode:I})}static _fromTokenResponse(_,I){return new sr({phoneNumber:_,temporaryProof:I})}_getIdTokenResponse(_){return function rr(x,_){return ho.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,I){return function mi(x,_){return _s.apply(this,arguments)}(_,Object.assign({idToken:I},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function xs(x,_){return To.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:I,verificationId:k,verificationCode:ne}=this.params;return _&&I?{temporaryProof:_,phoneNumber:I}:{sessionInfo:k,code:ne}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:I,verificationCode:k,phoneNumber:ne,temporaryProof:ge}=_;return k||I||ne||ge?new sr({verificationId:I,verificationCode:k,phoneNumber:ne,temporaryProof:ge}):null}}class to{constructor(_){var I,k,ne,ge,nt,Pt;const Tn=(0,oe.zd)((0,oe.pd)(_)),Sn=null!==(I=Tn.apiKey)&&void 0!==I?I:null,vr=null!==(k=Tn.oobCode)&&void 0!==k?k:null,ci=function Gs(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=Tn.mode)&&void 0!==ne?ne:null);Re(Sn&&vr&&ci,"argument-error"),this.apiKey=Sn,this.operation=ci,this.code=vr,this.continueUrl=null!==(ge=Tn.continueUrl)&&void 0!==ge?ge:null,this.languageCode=null!==(nt=Tn.languageCode)&&void 0!==nt?nt:null,this.tenantId=null!==(Pt=Tn.tenantId)&&void 0!==Pt?Pt:null}static parseLink(_){const I=function zo(x){const _=(0,oe.zd)((0,oe.pd)(x)).link,I=_?(0,oe.zd)((0,oe.pd)(_)).deep_link_id:null,k=(0,oe.zd)((0,oe.pd)(x)).deep_link_id;return(k?(0,oe.zd)((0,oe.pd)(k)).link:null)||k||I||_||x}(_);try{return new to(I)}catch{return null}}}let Do=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(I,k){return ts._fromEmailAndPassword(I,k)}static credentialWithLink(I,k){const ne=to.parseLink(k);return Re(ne,"argument-error"),ts._fromEmailAndCode(I,ne.code,ne.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class Rs{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class ji extends Rs{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class zi extends ji{static credentialFromJSON(_){const I="string"==typeof _?JSON.parse(_):_;return Re("providerId"in I&&"signInMethod"in I,"argument-error"),_n._fromParams(I)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Re(_.idToken||_.accessToken,"argument-error"),_n._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return zi.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return zi.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:I,oauthAccessToken:k,oauthTokenSecret:ne,pendingToken:ge,nonce:nt,providerId:Pt}=_;if(!k&&!ne&&!I&&!ge||!Pt)return null;try{return new zi(Pt)._credential({idToken:I,accessToken:k,nonce:nt,pendingToken:ge})}catch{return null}}}let cl=(()=>{class x extends ji{constructor(){super("facebook.com")}static credential(I){return _n._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return x.credential(I.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),So=(()=>{class x extends ji{constructor(){super("google.com"),this.addScope("profile")}static credential(I,k){return _n._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:I,accessToken:k})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthIdToken:k,oauthAccessToken:ne}=I;if(!k&&!ne)return null;try{return x.credential(k,ne)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),Fs=(()=>{class x extends ji{constructor(){super("github.com")}static credential(I){return _n._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:I})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I||!("oauthAccessToken"in I)||!I.oauthAccessToken)return null;try{return x.credential(I.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class Hs extends Xt{constructor(_,I){super(_,_),this.pendingToken=I}_getIdTokenResponse(_){return ki(_,this.buildRequest())}_linkToIdToken(_,I){const k=this.buildRequest();return k.idToken=I,ki(_,k)}_getReauthenticationResolver(_){const I=this.buildRequest();return I.autoCreate=!1,ki(_,I)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const I="string"==typeof _?JSON.parse(_):_,{providerId:k,signInMethod:ne,pendingToken:ge}=I;return k&&ne&&ge&&k===ne?new Hs(k,ge):null}static _create(_,I){return new Hs(_,I)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class va extends Rs{constructor(_){Re(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return va.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return va.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const I=Hs.fromJSON(_);return Re(I,"argument-error"),I}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:I,providerId:k}=_;if(!I||!k)return null;try{return Hs._create(k,I)}catch{return null}}}let da=(()=>{class x extends ji{constructor(){super("twitter.com")}static credential(I,k){return _n._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:I,oauthTokenSecret:k})}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{oauthAccessToken:k,oauthTokenSecret:ne}=I;if(!k||!ne)return null;try{return x.credential(k,ne)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function Ea(x,_){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(x,_){return Hn(x,"POST","/v1/accounts:signUp",$e(x,_))})).apply(this,arguments)}class ns{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,I,k,ne=!1){return(0,d.Z)(function*(){const ge=yield Fe._fromIdTokenResponse(_,k,ne),nt=sa(k);return new ns({user:ge,providerId:nt,_tokenResponse:k,operationType:I})})()}static _forOperation(_,I,k){return(0,d.Z)(function*(){yield _._updateTokensIfNecessary(k,!0);const ne=sa(k);return new ns({user:_,providerId:ne,_tokenResponse:k,operationType:I})})()}}function sa(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function fo(x){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,d.Z)(function*(x){var _;const I=Rr(x);if(yield I._initializationPromise,null!==(_=I.currentUser)&&void 0!==_&&_.isAnonymous)return new ns({user:I.currentUser,providerId:null,operationType:"signIn"});const k=yield Ea(I,{returnSecureToken:!0}),ne=yield ns._fromIdTokenResponse(I,"signIn",k,!0);return yield I._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class wa extends oe.ZR{constructor(_,I,k,ne){var ge;super(I.code,I.message),this.operationType=k,this.user=ne,Object.setPrototypeOf(this,wa.prototype),this.customData={appName:_.name,tenantId:null!==(ge=_.tenantId)&&void 0!==ge?ge:void 0,_serverResponse:I.customData._serverResponse,operationType:k}}static _fromErrorAndOperation(_,I,k,ne){return new wa(_,I,k,ne)}}function Fi(x,_,I,k){return("reauthenticate"===_?I._getReauthenticationResolver(x):I._getIdTokenResponse(x)).catch(ge=>{throw"auth/multi-factor-auth-required"===ge.code?wa._fromErrorAndOperation(x,ge,_,k):ge})}function $i(x){return new Set(x.map(({providerId:_})=>_).filter(_=>!!_))}function rs(x,_){return ro.apply(this,arguments)}function ro(){return ro=(0,d.Z)(function*(x,_){const I=(0,oe.m9)(x);yield ko(!0,I,_);const{providerUserInfo:k}=yield function qe(x,_){return ke.apply(this,arguments)}(I.auth,{idToken:yield I.getIdToken(),deleteProvider:[_]}),ne=$i(k||[]);return I.providerData=I.providerData.filter(ge=>ne.has(ge.providerId)),ne.has("phone")||(I.phoneNumber=null),yield I.auth._persistUserIfCurrent(I),I}),ro.apply(this,arguments)}function Qr(x,_){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(x,_,I=!1){const k=yield nr(x,_._linkToIdToken(x.auth,yield x.getIdToken()),I);return ns._forOperation(x,"link",k)})).apply(this,arguments)}function ko(x,_,I){return _i.apply(this,arguments)}function _i(){return(_i=(0,d.Z)(function*(x,_,I){yield Cr(_);const ne=!1===x?"provider-already-linked":"no-such-provider";Re($i(_.providerData).has(I)===x,_.auth,ne)})).apply(this,arguments)}function ja(x,_){return $a.apply(this,arguments)}function $a(){return($a=(0,d.Z)(function*(x,_,I=!1){const{auth:k}=x,ne="reauthenticate";try{const ge=yield nr(x,Fi(k,ne,_,x),I);Re(ge.idToken,k,"internal-error");const nt=rn(ge.idToken);Re(nt,k,"internal-error");const{sub:Pt}=nt;return Re(x.uid===Pt,k,"user-mismatch"),ns._forOperation(x,ne,ge)}catch(ge){throw"auth/user-not-found"===ge?.code&&He(k,"user-mismatch"),ge}})).apply(this,arguments)}function Ca(x,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,d.Z)(function*(x,_,I=!1){const k="signIn",ne=yield Fi(x,k,_),ge=yield ns._fromIdTokenResponse(x,k,ne);return I||(yield x._updateCurrentUser(ge.user)),ge})).apply(this,arguments)}function Wo(x,_){return Os.apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(x,_){return Ca(Rr(x),_)})).apply(this,arguments)}function ul(x,_){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,d.Z)(function*(x,_){const I=(0,oe.m9)(x);return yield ko(!1,I,_.providerId),Qr(I,_)})).apply(this,arguments)}function hi(x,_){return zs.apply(this,arguments)}function zs(){return(zs=(0,d.Z)(function*(x,_){return ja((0,oe.m9)(x),_)})).apply(this,arguments)}function J(){return(J=(0,d.Z)(function*(x,_){return Hn(x,"POST","/v1/accounts:signInWithCustomToken",$e(x,_))})).apply(this,arguments)}function z(x,_){return pe.apply(this,arguments)}function pe(){return pe=(0,d.Z)(function*(x,_){const I=Rr(x),k=yield function po(x,_){return J.apply(this,arguments)}(I,{token:_,returnSecureToken:!0}),ne=yield ns._fromIdTokenResponse(I,"signIn",k);return yield I._updateCurrentUser(ne.user),ne}),pe.apply(this,arguments)}class Q{constructor(_,I){this.factorId=_,this.uid=I.mfaEnrollmentId,this.enrollmentTime=new Date(I.enrolledAt).toUTCString(),this.displayName=I.displayName}static _fromServerResponse(_,I){return"phoneInfo"in I?De._fromServerResponse(_,I):"totpInfo"in I?Zt._fromServerResponse(_,I):He(_,"internal-error")}}class De extends Q{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,I){return new De(I)}}class Zt extends Q{constructor(_){super("totp",_)}static _fromServerResponse(_,I){return new Zt(I)}}function Qn(x,_,I){var k;Re((null===(k=I.url)||void 0===k?void 0:k.length)>0,x,"invalid-continue-uri"),Re(typeof I.dynamicLinkDomain>"u"||I.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),_.continueUrl=I.url,_.dynamicLinkDomain=I.dynamicLinkDomain,_.canHandleCodeInApp=I.handleCodeInApp,I.iOS&&(Re(I.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),_.iOSBundleId=I.iOS.bundleId),I.android&&(Re(I.android.packageName.length>0,x,"missing-android-pkg-name"),_.androidInstallApp=I.android.installApp,_.androidMinimumVersionCode=I.android.minimumVersion,_.androidPackageName=I.android.packageName)}function is(x,_,I){return hs.apply(this,arguments)}function hs(){return hs=(0,d.Z)(function*(x,_,I){var k;const ne=Rr(x),ge={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(k=ne._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const nt=yield xi(ne,ge,"getOobCode",!0);I&&Qn(ne,nt,I),yield No(ne,nt)}else I&&Qn(ne,ge,I),yield No(ne,ge).catch(function(){var nt=(0,d.Z)(function*(Pt){if("auth/missing-recaptcha-token"!==Pt.code)return Promise.reject(Pt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Tn=yield xi(ne,ge,"getOobCode",!0);I&&Qn(ne,Tn,I),yield No(ne,Tn)}});return function(Pt){return nt.apply(this,arguments)}}())}),hs.apply(this,arguments)}function vs(x,_,I){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(x,_,I){yield qn((0,oe.m9)(x),{oobCode:_,newPassword:I})})).apply(this,arguments)}function Ms(x,_){return xa.apply(this,arguments)}function xa(){return xa=(0,d.Z)(function*(x,_){yield function na(x,_){return us.apply(this,arguments)}((0,oe.m9)(x),{oobCode:_})}),xa.apply(this,arguments)}function io(x,_){return qi.apply(this,arguments)}function qi(){return(qi=(0,d.Z)(function*(x,_){const I=(0,oe.m9)(x),k=yield qn(I,{oobCode:_}),ne=k.requestType;switch(Re(ne,I,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(k.newEmail,I,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(k.mfaInfo,I,"internal-error");default:Re(k.email,I,"internal-error")}let ge=null;return k.mfaInfo&&(ge=Q._fromServerResponse(Rr(I),k.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.newEmail:k.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===k.requestType?k.email:k.newEmail)||null,multiFactorInfo:ge},operation:ne}})).apply(this,arguments)}function ha(x,_){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(x,_){const{data:I}=yield io((0,oe.m9)(x),_);return I.email})).apply(this,arguments)}function Ao(x,_,I){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,d.Z)(function*(x,_,I){var k;const ne=Rr(x),ge={returnSecureToken:!0,email:_,password:I,clientType:"CLIENT_TYPE_WEB"};let nt;if(null!==(k=ne._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const Sn=yield xi(ne,ge,"signUpPassword");nt=Ea(ne,Sn)}else nt=Ea(ne,ge).catch(function(){var Sn=(0,d.Z)(function*(vr){if("auth/missing-recaptcha-token"===vr.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ci=yield xi(ne,ge,"signUpPassword");return Ea(ne,ci)}return Promise.reject(vr)});return function(vr){return Sn.apply(this,arguments)}}());const Pt=yield nt.catch(Sn=>Promise.reject(Sn)),Tn=yield ns._fromIdTokenResponse(ne,"signIn",Pt);return yield ne._updateCurrentUser(Tn.user),Tn}),Ra.apply(this,arguments)}function Ja(x,_,I){return Wo((0,oe.m9)(x),Do.credential(_,I))}function qo(x,_,I){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,d.Z)(function*(x,_,I){var k;const ne=Rr(x),ge={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function nt(Pt,Tn){Re(Tn.handleCodeInApp,ne,"argument-error"),Tn&&Qn(ne,Pt,Tn)}if(null!==(k=ne._getRecaptchaConfig())&&void 0!==k&&k.emailPasswordEnabled){const Pt=yield xi(ne,ge,"getOobCode",!0);nt(Pt,I),yield ia(ne,Pt)}else nt(ge,I),yield ia(ne,ge).catch(function(){var Pt=(0,d.Z)(function*(Tn){if("auth/missing-recaptcha-token"!==Tn.code)return Promise.reject(Tn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Sn=yield xi(ne,ge,"getOobCode",!0);nt(Sn,I),yield ia(ne,Sn)}});return function(Tn){return Pt.apply(this,arguments)}}())}),Fo.apply(this,arguments)}function dl(x,_){const I=to.parseLink(_);return"EMAIL_SIGNIN"===I?.operation}function ba(x,_,I){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,d.Z)(function*(x,_,I){const k=(0,oe.m9)(x),ne=Do.credentialWithLink(_,I||Mn());return Re(ne._tenantId===(k.tenantId||null),k,"tenant-id-mismatch"),Wo(k,ne)})).apply(this,arguments)}function Ls(){return(Ls=(0,d.Z)(function*(x,_){return ft(x,"POST","/v1/accounts:createAuthUri",$e(x,_))})).apply(this,arguments)}function ql(x,_){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,d.Z)(function*(x,_){const k={identifier:_,continueUri:Bn()?Mn():"http://localhost"},{signinMethods:ne}=yield function Nl(x,_){return Ls.apply(this,arguments)}((0,oe.m9)(x),k);return ne||[]}),Ko.apply(this,arguments)}function Yo(x,_){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,d.Z)(function*(x,_){const I=(0,oe.m9)(x),ne={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};_&&Qn(I.auth,ne,_);const{email:ge}=yield function co(x,_){return ra.apply(this,arguments)}(I.auth,ne);ge!==x.email&&(yield x.reload())}),Qo.apply(this,arguments)}function Lo(x,_,I){return hl.apply(this,arguments)}function hl(){return hl=(0,d.Z)(function*(x,_,I){const k=(0,oe.m9)(x),ge={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:_};I&&Qn(k.auth,ge,I);const{email:nt}=yield function wi(x,_){return di.apply(this,arguments)}(k.auth,ge);nt!==x.email&&(yield x.reload())}),hl.apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(x,_){return ft(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function fl(x,_){return go.apply(this,arguments)}function go(){return go=(0,d.Z)(function*(x,{displayName:_,photoURL:I}){if(void 0===_&&void 0===I)return;const k=(0,oe.m9)(x),ge={idToken:yield k.getIdToken(),displayName:_,photoUrl:I,returnSecureToken:!0},nt=yield nr(k,function li(x,_){return Ia.apply(this,arguments)}(k.auth,ge));k.displayName=nt.displayName||null,k.photoURL=nt.photoUrl||null;const Pt=k.providerData.find(({providerId:Tn})=>"password"===Tn);Pt&&(Pt.displayName=k.displayName,Pt.photoURL=k.photoURL),yield k._updateTokensIfNecessary(nt)}),go.apply(this,arguments)}function Oa(x,_){return Zo((0,oe.m9)(x),_,null)}function Kl(x,_){return Zo((0,oe.m9)(x),null,_)}function Zo(x,_,I){return pl.apply(this,arguments)}function pl(){return(pl=(0,d.Z)(function*(x,_,I){const{auth:k}=x,ge={idToken:yield x.getIdToken(),returnSecureToken:!0};_&&(ge.email=_),I&&(ge.password=I);const nt=yield nr(x,Or(k,ge));yield x._updateTokensIfNecessary(nt,!0)})).apply(this,arguments)}class Co{constructor(_,I,k={}){this.isNewUser=_,this.providerId=I,this.profile=k}}class xo extends Co{constructor(_,I,k,ne){super(_,I,k),this.username=ne}}class Ps extends Co{constructor(_,I){super(_,"facebook.com",I)}}class gl extends xo{constructor(_,I){super(_,"github.com",I,"string"==typeof I?.login?I?.login:null)}}class O extends Co{constructor(_,I){super(_,"google.com",I)}}class Y extends xo{constructor(_,I,k){super(_,"twitter.com",I,k)}}function Te(x){const{user:_,_tokenResponse:I}=x;return _.isAnonymous&&!I?{providerId:null,isNewUser:!1,profile:null}:function Xa(x){var _,I;if(!x)return null;const{providerId:k}=x,ne=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},ge=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!k&&x?.idToken){const nt=null===(I=null===(_=rn(x.idToken))||void 0===_?void 0:_.firebase)||void 0===I?void 0:I.sign_in_provider;if(nt)return new Co(ge,"anonymous"!==nt&&"custom"!==nt?nt:null)}if(!k)return null;switch(k){case"facebook.com":return new Ps(ge,ne);case"github.com":return new gl(ge,ne);case"google.com":return new O(ge,ne);case"twitter.com":return new Y(ge,ne,x.screenName||null);case"custom":case"anonymous":return new Co(ge,null);default:return new Co(ge,k,ne)}}(I)}class R{constructor(_,I,k){this.type=_,this.credential=I,this.auth=k}static _fromIdtoken(_,I){return new R("enroll",_,I)}static _fromMfaPendingCredential(_){return new R("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var I,k;if(_?.multiFactorSession){if(null!==(I=_.multiFactorSession)&&void 0!==I&&I.pendingCredential)return R._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(k=_.multiFactorSession)&&void 0!==k&&k.idToken)return R._fromIdtoken(_.multiFactorSession.idToken)}return null}}class q{constructor(_,I,k){this.session=_,this.hints=I,this.signInResolver=k}static _fromError(_,I){const k=Rr(_),ne=I.customData._serverResponse,ge=(ne.mfaInfo||[]).map(Pt=>Q._fromServerResponse(k,Pt));Re(ne.mfaPendingCredential,k,"internal-error");const nt=R._fromMfaPendingCredential(ne.mfaPendingCredential);return new q(nt,ge,function(){var Pt=(0,d.Z)(function*(Tn){const Sn=yield Tn._process(k,nt);delete ne.mfaInfo,delete ne.mfaPendingCredential;const vr=Object.assign(Object.assign({},ne),{idToken:Sn.idToken,refreshToken:Sn.refreshToken});switch(I.operationType){case"signIn":const ci=yield ns._fromIdTokenResponse(k,I.operationType,vr);return yield k._updateCurrentUser(ci.user),ci;case"reauthenticate":return Re(I.user,k,"internal-error"),ns._forOperation(I.user,I.operationType,vr);default:He(k,"internal-error")}});return function(Tn){return Pt.apply(this,arguments)}}())}resolveSignIn(_){var I=this;return(0,d.Z)(function*(){return I.signInResolver(_)})()}}function ie(x,_){var I;const k=(0,oe.m9)(x),ne=_;return Re(_.customData.operationType,k,"argument-error"),Re(null===(I=ne.customData._serverResponse)||void 0===I?void 0:I.mfaPendingCredential,k,"argument-error"),q._fromError(k,ne)}class cn{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(I=>{I.mfaInfo&&(this.enrolledFactors=I.mfaInfo.map(k=>Q._fromServerResponse(_.auth,k)))})}static _fromUser(_){return new cn(_)}getSession(){var _=this;return(0,d.Z)(function*(){return R._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,I){var k=this;return(0,d.Z)(function*(){const ne=_,ge=yield k.getSession(),nt=yield nr(k.user,ne._process(k.user.auth,ge,I));return yield k.user._updateTokensIfNecessary(nt),k.user.reload()})()}unenroll(_){var I=this;return(0,d.Z)(function*(){const k="string"==typeof _?_:_.uid,ne=yield I.user.getIdToken();try{const ge=yield nr(I.user,function sn(x,_){return ft(x,"POST","/v2/accounts/mfaEnrollment:withdraw",$e(x,_))}(I.user.auth,{idToken:ne,mfaEnrollmentId:k}));I.enrolledFactors=I.enrolledFactors.filter(({uid:nt})=>nt!==k),yield I.user._updateTokensIfNecessary(ge),yield I.user.reload()}catch(ge){throw ge}})()}}const it=new WeakMap;function Dn(x){const _=(0,oe.m9)(x);return it.has(_)||it.set(_,cn._fromUser(_)),it.get(_)}const En="__sak";class $n{constructor(_,I){this.storageRetriever=_,this.type=I}_isAvailable(){try{return this.storage?(this.storage.setItem(En,"1"),this.storage.removeItem(En),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,I){return this.storage.setItem(_,JSON.stringify(I)),Promise.resolve()}_get(_){const I=this.storage.getItem(_);return Promise.resolve(I?JSON.parse(I):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const pt=(()=>{class x extends $n{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(I,k)=>this.onStorageEvent(I,k),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function en(){const x=(0,oe.z$)();return Ce(x)||hn(x)}()&&function Ci(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ei(),this._shouldAllowMigration=!0}forAllChangedKeys(I){for(const k of Object.keys(this.listeners)){const ne=this.storage.getItem(k),ge=this.localCache[k];ne!==ge&&I(k,ge,ne)}}onStorageEvent(I,k=!1){if(!I.key)return void this.forAllChangedKeys((Pt,Tn,Sn)=>{this.notifyListeners(Pt,Sn)});const ne=I.key;if(k?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pt=this.storage.getItem(ne);if(I.newValue!==Pt)null!==I.newValue?this.storage.setItem(ne,I.newValue):this.storage.removeItem(ne);else if(this.localCache[ne]===I.newValue&&!k)return}const ge=()=>{const Pt=this.storage.getItem(ne);!k&&this.localCache[ne]===Pt||this.notifyListeners(ne,Pt)},nt=this.storage.getItem(ne);!function Br(){return(0,oe.w1)()&&10===document.documentMode}()||nt===I.newValue||I.newValue===I.oldValue?ge():setTimeout(ge,10)}notifyListeners(I,k){this.localCache[I]=k;const ne=this.listeners[I];if(ne)for(const ge of Array.from(ne))ge(k&&JSON.parse(k))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((I,k,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:I,oldValue:k,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(I,k){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[I]||(this.listeners[I]=new Set,this.localCache[I]=this.storage.getItem(I)),this.listeners[I].add(k)}_removeListener(I,k){this.listeners[I]&&(this.listeners[I].delete(k),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(I,k){var ne=()=>super._set,ge=this;return(0,d.Z)(function*(){yield ne().call(ge,I,k),ge.localCache[I]=JSON.stringify(k)})()}_get(I){var k=()=>super._get,ne=this;return(0,d.Z)(function*(){const ge=yield k().call(ne,I);return ne.localCache[I]=JSON.stringify(ge),ge})()}_remove(I){var k=()=>super._remove,ne=this;return(0,d.Z)(function*(){yield k().call(ne,I),delete ne.localCache[I]})()}}return x.type="LOCAL",x})(),yi=(()=>{class x extends $n{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(I,k){}_removeListener(I,k){}}return x.type="SESSION",x})();let fa=(()=>{class x{constructor(I){this.eventTarget=I,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(I){const k=this.receivers.find(ge=>ge.isListeningto(I));if(k)return k;const ne=new x(I);return this.receivers.push(ne),ne}isListeningto(I){return this.eventTarget===I}handleEvent(I){var k=this;return(0,d.Z)(function*(){const ne=I,{eventId:ge,eventType:nt,data:Pt}=ne.data,Tn=k.handlersMap[nt];if(!Tn?.size)return;ne.ports[0].postMessage({status:"ack",eventId:ge,eventType:nt});const Sn=Array.from(Tn).map(function(){var ci=(0,d.Z)(function*(ga){return ga(ne.origin,Pt)});return function(ga){return ci.apply(this,arguments)}}()),vr=yield function Ns(x){return Promise.all(x.map(function(){var _=(0,d.Z)(function*(I){try{return{fulfilled:!0,value:yield I}}catch(k){return{fulfilled:!1,reason:k}}});return function(I){return _.apply(this,arguments)}}()))}(Sn);ne.ports[0].postMessage({status:"done",eventId:ge,eventType:nt,response:vr})})()}_subscribe(I,k){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[I]||(this.handlersMap[I]=new Set),this.handlersMap[I].add(k)}_unsubscribe(I,k){this.handlersMap[I]&&k&&this.handlersMap[I].delete(k),(!k||0===this.handlersMap[I].size)&&delete this.handlersMap[I],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function Li(x="",_=10){let I="";for(let k=0;k<_;k++)I+=Math.floor(10*Math.random());return x+I}class kl{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,I,k=50){var ne=this;return(0,d.Z)(function*(){const ge=typeof MessageChannel<"u"?new MessageChannel:null;if(!ge)throw new Error("connection_unavailable");let nt,Pt;return new Promise((Tn,Sn)=>{const vr=Li("",20);ge.port1.start();const ci=setTimeout(()=>{Sn(new Error("unsupported_event"))},k);Pt={messageChannel:ge,onMessage(ga){const Sl=ga;if(Sl.data.eventId===vr)switch(Sl.data.status){case"ack":clearTimeout(ci),nt=setTimeout(()=>{Sn(new Error("timeout"))},3e3);break;case"done":clearTimeout(nt),Tn(Sl.data.response);break;default:clearTimeout(ci),clearTimeout(nt),Sn(new Error("invalid_response"))}}},ne.handlers.add(Pt),ge.port1.addEventListener("message",Pt.onMessage),ne.target.postMessage({eventType:_,eventId:vr,data:I},[ge.port2])}).finally(()=>{Pt&&ne.removeMessageHandler(Pt)})})()}}function Ws(){return window}function Jo(){return typeof Ws().WorkerGlobalScope<"u"&&"function"==typeof Ws().importScripts}function jc(){return(jc=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qt="firebaseLocalStorageDb",ri="firebaseLocalStorage",Xr="fbase_key";class Nn{constructor(_){this.request=_}toPromise(){return new Promise((_,I)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{I(this.request.error)})})}}function Vo(x,_){return x.transaction([ri],_?"readwrite":"readonly").objectStore(ri)}function Ic(){const x=indexedDB.open(Qt,1);return new Promise((_,I)=>{x.addEventListener("error",()=>{I(x.error)}),x.addEventListener("upgradeneeded",()=>{const k=x.result;try{k.createObjectStore(ri,{keyPath:Xr})}catch(ne){I(ne)}}),x.addEventListener("success",(0,d.Z)(function*(){const k=x.result;k.objectStoreNames.contains(ri)?_(k):(k.close(),yield function lr(){const x=indexedDB.deleteDatabase(Qt);return new Nn(x).toPromise()}(),_(yield Ic()))}))})}function bs(x,_,I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,d.Z)(function*(x,_,I){const k=Vo(x,!0).put({[Xr]:_,value:I});return new Nn(k).toPromise()})).apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(x,_){const I=Vo(x,!1).get(_),k=yield new Nn(I).toPromise();return void 0===k?null:k.value})).apply(this,arguments)}function Pa(x,_){const I=Vo(x,!0).delete(_);return new Nn(I).toPromise()}const oa=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var I=this;return(0,d.Z)(function*(){return I.db||(I.db=yield Ic()),I.db})()}_withRetries(I){var k=this;return(0,d.Z)(function*(){let ne=0;for(;;)try{const ge=yield k._openDb();return yield I(ge)}catch(ge){if(ne++>3)throw ge;k.db&&(k.db.close(),k.db=void 0)}})()}initializeServiceWorkerMessaging(){var I=this;return(0,d.Z)(function*(){return Jo()?I.initializeReceiver():I.initializeSender()})()}initializeReceiver(){var I=this;return(0,d.Z)(function*(){I.receiver=fa._getInstance(function tr(){return Jo()?self:null}()),I.receiver._subscribe("keyChanged",function(){var k=(0,d.Z)(function*(ne,ge){return{keyProcessed:(yield I._poll()).includes(ge.key)}});return function(ne,ge){return k.apply(this,arguments)}}()),I.receiver._subscribe("ping",function(){var k=(0,d.Z)(function*(ne,ge){return["keyChanged"]});return function(ne,ge){return k.apply(this,arguments)}}())})()}initializeSender(){var I=this;return(0,d.Z)(function*(){var k,ne;if(I.activeServiceWorker=yield function Er(){return jc.apply(this,arguments)}(),!I.activeServiceWorker)return;I.sender=new kl(I.activeServiceWorker);const ge=yield I.sender._send("ping",{},800);ge&&null!==(k=ge[0])&&void 0!==k&&k.fulfilled&&null!==(ne=ge[0])&&void 0!==ne&&ne.value.includes("keyChanged")&&(I.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(I){var k=this;return(0,d.Z)(function*(){if(k.sender&&k.activeServiceWorker&&function ir(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===k.activeServiceWorker)try{yield k.sender._send("keyChanged",{key:I},k.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const I=yield Ic();return yield bs(I,En,"1"),yield Pa(I,En),!0}catch{}return!1})()}_withPendingWrite(I){var k=this;return(0,d.Z)(function*(){k.pendingWrites++;try{yield I()}finally{k.pendingWrites--}})()}_set(I,k){var ne=this;return(0,d.Z)(function*(){return ne._withPendingWrite((0,d.Z)(function*(){return yield ne._withRetries(ge=>bs(ge,I,k)),ne.localCache[I]=k,ne.notifyServiceWorker(I)}))})()}_get(I){var k=this;return(0,d.Z)(function*(){const ne=yield k._withRetries(ge=>function Nr(x,_){return so.apply(this,arguments)}(ge,I));return k.localCache[I]=ne,ne})()}_remove(I){var k=this;return(0,d.Z)(function*(){return k._withPendingWrite((0,d.Z)(function*(){return yield k._withRetries(ne=>Pa(ne,I)),delete k.localCache[I],k.notifyServiceWorker(I)}))})()}_poll(){var I=this;return(0,d.Z)(function*(){const k=yield I._withRetries(nt=>{const Pt=Vo(nt,!1).getAll();return new Nn(Pt).toPromise()});if(!k)return[];if(0!==I.pendingWrites)return[];const ne=[],ge=new Set;for(const{fbase_key:nt,value:Pt}of k)ge.add(nt),JSON.stringify(I.localCache[nt])!==JSON.stringify(Pt)&&(I.notifyListeners(nt,Pt),ne.push(nt));for(const nt of Object.keys(I.localCache))I.localCache[nt]&&!ge.has(nt)&&(I.notifyListeners(nt,null),ne.push(nt));return ne})()}notifyListeners(I,k){this.localCache[I]=k;const ne=this.listeners[I];if(ne)for(const ge of Array.from(ne))ge(k)}startPolling(){var I=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return I._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(I,k){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[I]||(this.listeners[I]=new Set,this._get(I)),this.listeners[I].add(k)}_removeListener(I,k){this.listeners[I]&&(this.listeners[I].delete(k),0===this.listeners[I].size&&delete this.listeners[I]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})(),Ro=1e12;class qs{constructor(_){this.auth=_,this.counter=Ro,this._widgets=new Map}render(_,I){const k=this.counter;return this._widgets.set(k,new Yl(_,this.auth.name,I||{})),this.counter++,k}reset(_){var I;const k=_||Ro;null===(I=this._widgets.get(k))||void 0===I||I.delete(),this._widgets.delete(k)}getResponse(_){var I;return(null===(I=this._widgets.get(_||Ro))||void 0===I?void 0:I.getResponse())||""}execute(_){var I=this;return(0,d.Z)(function*(){var k;return null===(k=I._widgets.get(_||Ro))||void 0===k||k.execute(),""})()}}class Yl{constructor(_,I,k){this.params=k,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof _?document.getElementById(_):_;Re(ne,"argument-error",{appName:I}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Et(x){const _=[],I="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<x;k++)_.push(I.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":I}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,I)try{I()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ta=oi("rcb"),ml=new dr(3e4,6e4);class $c{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=Ws().grecaptcha)||void 0===_||!_.render)}load(_,I=""){return Re(function Dc(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(I),_,"argument-error"),this.shouldResolveImmediately(I)&&_r(Ws().grecaptcha)?Promise.resolve(Ws().grecaptcha):new Promise((k,ne)=>{const ge=Ws().setTimeout(()=>{ne(Tt(_,"network-request-failed"))},ml.get());Ws()[Ta]=()=>{Ws().clearTimeout(ge),delete Ws()[Ta];const Pt=Ws().grecaptcha;if(!Pt||!_r(Pt))return void ne(Tt(_,"internal-error"));const Tn=Pt.render;Pt.render=(Sn,vr)=>{const ci=Tn(Sn,vr);return this.counter++,ci},this.hostLanguage=I,k(Pt)},Js(`https://www.google.com/recaptcha/api.js??${(0,oe.xO)({onload:Ta,render:"explicit",hl:I})}`).catch(()=>{clearTimeout(ge),ne(Tt(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var I;return!(null===(I=Ws().grecaptcha)||void 0===I||!I.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class pu{load(_){return(0,d.Z)(function*(){return new qs(_)})()}clearedOneInstance(){}}const _l="recaptcha",Sc={theme:"light",type:"image"};class A{constructor(_,I=Object.assign({},Sc),k){this.parameters=I,this.type=_l,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rr(k),this.isInvisible="invisible"===this.parameters.size,Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof _?document.getElementById(_):_;Re(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pu:new $c,this.validateStartingState()}verify(){var _=this;return(0,d.Z)(function*(){_.assertNotDestroyed();const I=yield _.render(),k=_.getAssertedRecaptcha();return k.getResponse(I)||new Promise(ge=>{const nt=Pt=>{Pt&&(_.tokenChangeListeners.delete(nt),ge(Pt))};_.tokenChangeListeners.add(nt),_.isInvisible&&k.execute(I)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return I=>{if(this.tokenChangeListeners.forEach(k=>k(I)),"function"==typeof _)_(I);else if("string"==typeof _){const k=Ws()[_];"function"==typeof k&&k(I)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,d.Z)(function*(){if(yield _.init(),!_.widgetId){let I=_.container;if(!_.isInvisible){const k=document.createElement("div");I.appendChild(k),I=k}_.widgetId=_.getAssertedRecaptcha().render(I,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,d.Z)(function*(){Re(Bn()&&!Jo(),_.auth,"internal-error"),yield function N(){let x=null;return new Promise(_=>{"complete"!==document.readyState?(x=()=>_(),window.addEventListener("load",x)):_()}).catch(_=>{throw x&&window.removeEventListener("load",x),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const I=yield function Xi(x){return Jr.apply(this,arguments)}(_.auth);Re(I,_.auth,"internal-error"),_.parameters.sitekey=I})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class j{constructor(_,I){this.verificationId=_,this.onConfirmation=I}confirm(_){const I=sr._fromVerification(this.verificationId,_);return this.onConfirmation(I)}}function P(x,_,I){return G.apply(this,arguments)}function G(){return(G=(0,d.Z)(function*(x,_,I){const k=Rr(x),ne=yield Ft(k,_,(0,oe.m9)(I));return new j(ne,ge=>Wo(k,ge))})).apply(this,arguments)}function le(x,_,I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,d.Z)(function*(x,_,I){const k=(0,oe.m9)(x);yield ko(!1,k,"phone");const ne=yield Ft(k.auth,_,(0,oe.m9)(I));return new j(ne,ge=>ul(k,ge))})).apply(this,arguments)}function Xe(x,_,I){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(x,_,I){const k=(0,oe.m9)(x),ne=yield Ft(k.auth,_,(0,oe.m9)(I));return new j(ne,ge=>hi(k,ge))})).apply(this,arguments)}function Ft(x,_,I){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,d.Z)(function*(x,_,I){var k;const ne=yield I.verify();try{let ge;if(Re("string"==typeof ne,x,"argument-error"),Re(I.type===_l,x,"argument-error"),ge="string"==typeof _?{phoneNumber:_}:_,"session"in ge){const nt=ge.session;if("phoneNumber"in ge)return Re("enroll"===nt.type,x,"internal-error"),(yield function ve(x,_){return ft(x,"POST","/v2/accounts/mfaEnrollment:start",$e(x,_))}(x,{idToken:nt.credential,phoneEnrollmentInfo:{phoneNumber:ge.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{Re("signin"===nt.type,x,"internal-error");const Pt=(null===(k=ge.multiFactorHint)||void 0===k?void 0:k.uid)||ge.multiFactorUid;return Re(Pt,x,"missing-multi-factor-info"),(yield function hu(x,_){return ft(x,"POST","/v2/accounts/mfaSignIn:start",$e(x,_))}(x,{mfaPendingCredential:nt.credential,mfaEnrollmentId:Pt,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:nt}=yield function pr(x,_){return gi.apply(this,arguments)}(x,{phoneNumber:ge.phoneNumber,recaptchaToken:ne});return nt}}finally{I._reset()}}),Wn.apply(this,arguments)}function gr(x,_){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(x,_){yield Qr((0,oe.m9)(x),_)})).apply(this,arguments)}let wr=(()=>{class x{constructor(I){this.providerId=x.PROVIDER_ID,this.auth=Rr(I)}verifyPhoneNumber(I,k){return Ft(this.auth,I,(0,oe.m9)(k))}static credential(I,k){return sr._fromVerification(I,k)}static credentialFromResult(I){return x.credentialFromTaggedObject(I)}static credentialFromError(I){return x.credentialFromTaggedObject(I.customData||{})}static credentialFromTaggedObject({_tokenResponse:I}){if(!I)return null;const{phoneNumber:k,temporaryProof:ne}=I;return k&&ne?sr._fromTokenResponse(k,ne):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function mo(x,_){return _?ht(_):(Re(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class yl extends Xt{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return ki(_,this._buildIdpRequest())}_linkToIdToken(_,I){return ki(_,this._buildIdpRequest(I))}_getReauthenticationResolver(_){return ki(_,this._buildIdpRequest())}_buildIdpRequest(_){const I={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(I.idToken=_),I}}function za(x){return Ca(x.auth,new yl(x),x.bypassAuthState)}function vl(x){const{auth:_,user:I}=x;return Re(I,_,"internal-error"),ja(I,new yl(x),x.bypassAuthState)}function xu(x){return cc.apply(this,arguments)}function cc(){return(cc=(0,d.Z)(function*(x){const{auth:_,user:I}=x;return Re(I,_,"internal-error"),Qr(I,new yl(x),x.bypassAuthState)})).apply(this,arguments)}class El{constructor(_,I,k,ne,ge=!1){this.auth=_,this.resolver=k,this.user=ne,this.bypassAuthState=ge,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(I)?I:[I]}execute(){var _=this;return new Promise(function(){var I=(0,d.Z)(function*(k,ne){_.pendingPromise={resolve:k,reject:ne};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(ge){_.reject(ge)}});return function(k,ne){return I.apply(this,arguments)}}())}onAuthEvent(_){var I=this;return(0,d.Z)(function*(){const{urlResponse:k,sessionId:ne,postBody:ge,tenantId:nt,error:Pt,type:Tn}=_;if(Pt)return void I.reject(Pt);const Sn={auth:I.auth,requestUri:k,sessionId:ne,tenantId:nt||void 0,postBody:ge||void 0,user:I.user,bypassAuthState:I.bypassAuthState};try{I.resolve(yield I.getIdpTask(Tn)(Sn))}catch(vr){I.reject(vr)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return za;case"linkViaPopup":case"linkViaRedirect":return xu;case"reauthViaPopup":case"reauthViaRedirect":return vl;default:He(this.auth,"internal-error")}}resolve(_){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uc=new dr(2e3,1e4);function wl(x,_,I){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,d.Z)(function*(x,_,I){const k=Rr(x);at(x,_,Rs);const ne=mo(k,I);return new qu(k,"signInViaPopup",_,ne).executeNotNull()})).apply(this,arguments)}function bd(x,_,I){return gu.apply(this,arguments)}function gu(){return(gu=(0,d.Z)(function*(x,_,I){const k=(0,oe.m9)(x);at(k.auth,_,Rs);const ne=mo(k.auth,I);return new qu(k.auth,"reauthViaPopup",_,ne,k).executeNotNull()})).apply(this,arguments)}function Id(x,_,I){return ss.apply(this,arguments)}function ss(){return(ss=(0,d.Z)(function*(x,_,I){const k=(0,oe.m9)(x);at(k.auth,_,Rs);const ne=mo(k.auth,I);return new qu(k.auth,"linkViaPopup",_,ne,k).executeNotNull()})).apply(this,arguments)}let qu=(()=>{class x extends El{constructor(I,k,ne,ge,nt){super(I,k,ge,nt),this.provider=ne,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var I=this;return(0,d.Z)(function*(){const k=yield I.execute();return Re(k,I.auth,"internal-error"),k})()}onExecution(){var I=this;return(0,d.Z)(function*(){Jt(1===I.filter.length,"Popup operations only handle one event");const k=Li();I.authWindow=yield I.resolver._openPopup(I.auth,I.provider,I.filter[0],k),I.authWindow.associatedEvent=k,I.resolver._originValidation(I.auth).catch(ne=>{I.reject(ne)}),I.resolver._isIframeWebStorageSupported(I.auth,ne=>{ne||I.reject(Tt(I.auth,"web-storage-unsupported"))}),I.pollUserCancellation()})()}get eventId(){var I;return(null===(I=this.authWindow)||void 0===I?void 0:I.associatedEvent)||null}cancel(){this.reject(Tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const I=()=>{var k,ne;this.pollId=null!==(ne=null===(k=this.authWindow)||void 0===k?void 0:k.window)&&void 0!==ne&&ne.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(I,uc.get())};I()}}return x.currentPopupAction=null,x})();const Ku="pendingRedirect",bl=new Map;class Gc extends El{constructor(_,I,k=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],I,void 0,k),this.eventId=null}execute(){var _=()=>super.execute,I=this;return(0,d.Z)(function*(){let k=bl.get(I.auth._key());if(!k){try{const ge=(yield function kh(x,_){return Ru.apply(this,arguments)}(I.resolver,I.auth))?yield _().call(I):null;k=()=>Promise.resolve(ge)}catch(ne){k=()=>Promise.reject(ne)}bl.set(I.auth._key(),k)}return I.bypassAuthState||bl.set(I.auth._key(),()=>Promise.resolve(null)),k()})()}onAuthEvent(_){var I=()=>super.onAuthEvent,k=this;return(0,d.Z)(function*(){if("signInViaRedirect"===_.type)return I().call(k,_);if("unknown"!==_.type){if(_.eventId){const ne=yield k.auth._redirectUserForId(_.eventId);if(ne)return k.user=ne,I().call(k,_);k.resolve(null)}}else k.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Ru(){return(Ru=(0,d.Z)(function*(x,_){const I=Vs(_),k=Yd(x);if(!(yield k._isAvailable()))return!1;const ne="true"===(yield k._get(I));return yield k._remove(I),ne})).apply(this,arguments)}function Hc(x,_){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,d.Z)(function*(x,_){return Yd(x)._set(Vs(_),"true")})).apply(this,arguments)}function Yu(){bl.clear()}function dc(x,_){bl.set(x._key(),_)}function Yd(x){return ht(x._redirectPersistence)}function Vs(x){return er(Ku,x.config.apiKey,x.name)}function Ac(x,_,I){return function oo(x,_,I){return os.apply(this,arguments)}(x,_,I)}function os(){return(os=(0,d.Z)(function*(x,_,I){const k=Rr(x);at(x,_,Rs),yield k._initializationPromise;const ne=mo(k,I);return yield Hc(ne,k),ne._openRedirect(k,_,"signInViaRedirect")})).apply(this,arguments)}function zc(x,_,I){return function Cc(x,_,I){return Xo.apply(this,arguments)}(x,_,I)}function Xo(){return(Xo=(0,d.Z)(function*(x,_,I){const k=(0,oe.m9)(x);at(k.auth,_,Rs),yield k.auth._initializationPromise;const ne=mo(k.auth,I);yield Hc(ne,k.auth);const ge=yield xc(k);return ne._openRedirect(k.auth,_,"reauthViaRedirect",ge)})).apply(this,arguments)}function Fh(x,_,I){return function Lh(x,_,I){return Oo.apply(this,arguments)}(x,_,I)}function Oo(){return(Oo=(0,d.Z)(function*(x,_,I){const k=(0,oe.m9)(x);at(k.auth,_,Rs),yield k.auth._initializationPromise;const ne=mo(k.auth,I);yield ko(!1,k,_.providerId),yield Hc(ne,k.auth);const ge=yield xc(k);return ne._openRedirect(k.auth,_,"linkViaRedirect",ge)})).apply(this,arguments)}function Vh(x,_){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,d.Z)(function*(x,_){return yield Rr(x)._initializationPromise,Ks(x,_,!1)})).apply(this,arguments)}function Ks(x,_){return Na.apply(this,arguments)}function Na(){return(Na=(0,d.Z)(function*(x,_,I=!1){const k=Rr(x),ne=mo(k,_),nt=yield new Gc(k,ne,I).execute();return nt&&!I&&(delete nt.user._redirectEventId,yield k._persistUserIfCurrent(nt.user),yield k._setRedirectUser(null,_)),nt})).apply(this,arguments)}function xc(x){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,d.Z)(function*(x){const _=Li(`${x.uid}:::`);return x._redirectEventId=_,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),_})).apply(this,arguments)}class Wc{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let I=!1;return this.consumers.forEach(k=>{this.isEventForConsumer(_,k)&&(I=!0,this.sendToConsumer(_,k),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function qc(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return el(x);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,I||(this.queuedRedirectEvent=_,I=!0)),I}sendToConsumer(_,I){var k;if(_.error&&!el(_)){const ne=(null===(k=_.error.code)||void 0===k?void 0:k.split("auth/")[1])||"internal-error";I.onError(Tt(this.auth,ne))}else I.onAuthEvent(_)}isEventForConsumer(_,I){const k=null===I.eventId||!!_.eventId&&_.eventId===I.eventId;return I.filter.includes(_.type)&&k}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bl(_))}saveEventToCache(_){this.cachedEventUids.add(Bl(_)),this.lastProcessedEventTime=Date.now()}}function Bl(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(_=>_).join("-")}function el({type:x,error:_}){return"unknown"===x&&"auth/no-auth-event"===_?.code}function tl(x){return ka.apply(this,arguments)}function ka(){return(ka=(0,d.Z)(function*(x,_={}){return ft(x,"GET","/v1/projects",_)})).apply(this,arguments)}const Qu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hc=/^https?/;function Kc(){return(Kc=(0,d.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:_}=yield tl(x);for(const I of _)try{if(Td(I))return}catch{}He(x,"unauthorized-domain")})).apply(this,arguments)}function Td(x){const _=Mn(),{protocol:I,hostname:k}=new URL(_);if(x.startsWith("chrome-extension://")){const nt=new URL(x);return""===nt.hostname&&""===k?"chrome-extension:"===I&&x.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===I&&nt.hostname===k}if(!hc.test(I))return!1;if(Qu.test(x))return k===x;const ne=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(k)}const fc=new dr(3e4,6e4);function Il(){const x=Ws().___jsl;if(x?.H)for(const _ of Object.keys(x.H))if(x.H[_].r=x.H[_].r||[],x.H[_].L=x.H[_].L||[],x.H[_].r=[...x.H[_].L],x.CP)for(let I=0;I<x.CP.length;I++)x.CP[I]=null}let Mo=null;const Zd=new dr(5e3,15e3),Ul="__/auth/iframe",Dd="emulator/auth/iframe",Bh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ou(x){const _=x.config;Re(_.authDomain,x,"auth-domain-config-required");const I=_.emulator?ar(_,Dd):`https://${x.config.authDomain}/${Ul}`,k={apiKey:_.apiKey,appName:x.name,v:fe.SDK_VERSION},ne=Zu.get(x.config.apiHost);ne&&(k.eid=ne);const ge=x._getFrameworks();return ge.length&&(k.fw=ge.join(",")),`${I}?${(0,oe.xO)(k).slice(1)}`}function Oc(){return Oc=(0,d.Z)(function*(x){const _=yield function Yc(x){return Mo=Mo||function Qd(x){return new Promise((_,I)=>{var k,ne,ge;function nt(){Il(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Il(),I(Tt(x,"network-request-failed"))},timeout:fc.get()})}if(null!==(ne=null===(k=Ws().gapi)||void 0===k?void 0:k.iframes)&&void 0!==ne&&ne.Iframe)_(gapi.iframes.getContext());else{if(null===(ge=Ws().gapi)||void 0===ge||!ge.load){const Pt=oi("iframefcb");return Ws()[Pt]=()=>{gapi.load?nt():I(Tt(x,"network-request-failed"))},Js(`https://apis.google.com/js/api.js?onload=${Pt}`).catch(Tn=>I(Tn))}nt()}}).catch(_=>{throw Mo=null,_})}(x),Mo}(x),I=Ws().gapi;return Re(I,x,"internal-error"),_.open({where:document.body,url:Ou(x),messageHandlersFilter:I.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bh,dontclear:!0},k=>new Promise(function(){var ne=(0,d.Z)(function*(ge,nt){yield k.restyle({setHideOnLeave:!1});const Pt=Tt(x,"network-request-failed"),Tn=Ws().setTimeout(()=>{nt(Pt)},Zd.get());function Sn(){Ws().clearTimeout(Tn),ge(k)}k.ping(Sn).then(Sn,()=>{nt(Pt)})});return function(ge,nt){return ne.apply(this,arguments)}}()))}),Oc.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rt{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Rn="__/auth/handler",fn="emulator/auth/handler",Kn=encodeURIComponent("fac");function yr(x,_,I,k,ne,ge){return aa.apply(this,arguments)}function aa(){return(aa=(0,d.Z)(function*(x,_,I,k,ne,ge){Re(x.config.authDomain,x,"auth-domain-config-required"),Re(x.config.apiKey,x,"invalid-api-key");const nt={apiKey:x.config.apiKey,appName:x.name,authType:I,redirectUrl:k,v:fe.SDK_VERSION,eventId:ne};if(_ instanceof Rs){_.setDefaultLanguage(x.languageCode),nt.providerId=_.providerId||"",(0,oe.xb)(_.getCustomParameters())||(nt.customParameters=JSON.stringify(_.getCustomParameters()));for(const[vr,ci]of Object.entries(ge||{}))nt[vr]=ci}if(_ instanceof ji){const vr=_.getScopes().filter(ci=>""!==ci);vr.length>0&&(nt.scopes=vr.join(","))}x.tenantId&&(nt.tid=x.tenantId);const Pt=nt;for(const vr of Object.keys(Pt))void 0===Pt[vr]&&delete Pt[vr];const Tn=yield x._getAppCheckToken(),Sn=Tn?`#${Kn}=${encodeURIComponent(Tn)}`:"";return`${function la({config:x}){return x.emulator?ar(x,fn):`https://${x.authDomain}/${Rn}`}(x)}?${(0,oe.xO)(Pt).slice(1)}${Sn}`})).apply(this,arguments)}const as="webStorageSupport",Tl=class Mc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yi,this._completeRedirectFn=Ks,this._overrideRedirectResult=dc}_openPopup(_,I,k,ne){var ge=this;return(0,d.Z)(function*(){var nt;Jt(null===(nt=ge.eventManagers[_._key()])||void 0===nt?void 0:nt.manager,"_initialize() not called before _openPopup()");const Pt=yield yr(_,I,k,Mn(),ne);return function It(x,_,I,k=500,ne=600){const ge=Math.max((window.screen.availHeight-ne)/2,0).toString(),nt=Math.max((window.screen.availWidth-k)/2,0).toString();let Pt="";const Tn=Object.assign(Object.assign({},M),{width:k.toString(),height:ne.toString(),top:ge,left:nt}),Sn=(0,oe.z$)().toLowerCase();I&&(Pt=de(Sn)?"_blank":I),se(Sn)&&(_=_||"http://localhost",Tn.scrollbars="yes");const vr=Object.entries(Tn).reduce((ga,[Sl,vu])=>`${ga}${Sl}=${vu},`,"");if(function mr(x=(0,oe.z$)()){var _;return hn(x)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Sn)&&"_self"!==Pt)return function Ln(x,_){const I=document.createElement("a");I.href=x,I.target=_;const k=document.createEvent("MouseEvent");k.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),I.dispatchEvent(k)}(_||"",Pt),new rt(null);const ci=window.open(_||"",Pt,vr);Re(ci,x,"popup-blocked");try{ci.focus()}catch{}return new rt(ci)}(_,Pt,Li())})()}_openRedirect(_,I,k,ne){var ge=this;return(0,d.Z)(function*(){return yield ge._originValidation(_),function Ma(x){Ws().location.href=x}(yield yr(_,I,k,Mn(),ne)),new Promise(()=>{})})()}_initialize(_){const I=_._key();if(this.eventManagers[I]){const{manager:ne,promise:ge}=this.eventManagers[I];return ne?Promise.resolve(ne):(Jt(ge,"If manager is not set, promise should be"),ge)}const k=this.initAndGetManager(_);return this.eventManagers[I]={promise:k},k.catch(()=>{delete this.eventManagers[I]}),k}initAndGetManager(_){var I=this;return(0,d.Z)(function*(){const k=yield function _u(x){return Oc.apply(this,arguments)}(_),ne=new Wc(_);return k.register("authEvent",ge=>(Re(ge?.authEvent,_,"invalid-auth-event"),{status:ne.onEvent(ge.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),I.eventManagers[_._key()]={manager:ne},I.iframes[_._key()]=k,ne})()}_isIframeWebStorageSupported(_,I){this.iframes[_._key()].send(as,{type:as},ne=>{var ge;const nt=null===(ge=ne?.[0])||void 0===ge?void 0:ge[as];void 0!==nt&&I(!!nt),He(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const I=_._key();return this.originValidationPromises[I]||(this.originValidationPromises[I]=function mu(x){return Kc.apply(this,arguments)}(_)),this.originValidationPromises[I]}get _shouldInitProactively(){return Ei()||Ce()||hn()}};class Dl{constructor(_){this.factorId=_}_process(_,I,k){switch(I.type){case"enroll":return this._finalizeEnroll(_,I.credential,k);case"signin":return this._finalizeSignIn(_,I.credential);default:return Nt("unexpected MultiFactorSessionType")}}}class _o extends Dl{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new _o(_)}_finalizeEnroll(_,I,k){return function Se(x,_){return ft(x,"POST","/v2/accounts/mfaEnrollment:finalize",$e(x,_))}(_,{idToken:I,displayName:k,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,I){return function fu(x,_){return ft(x,"POST","/v2/accounts/mfaSignIn:finalize",$e(x,_))}(_,{mfaPendingCredential:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qc=(()=>{class x{constructor(){}static assertion(I){return _o._fromCredential(I)}}return x.FACTOR_ID="phone",x})();var Sd="@firebase/auth";class jh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var I=this;return(0,d.Z)(function*(){return I.assertAuthConfigured(),yield I.auth._initializationPromise,I.auth.currentUser?{accessToken:yield I.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const I=this.auth.onIdTokenChanged(k=>{_(k?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,I),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const I=this.internalListeners.get(_);I&&(this.internalListeners.delete(_),I(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $h=(0,oe.Pz)("authIdTokenMaxAge")||300;let Ad=null;const Gh=x=>function(){var _=(0,d.Z)(function*(I){const k=I&&(yield I.getIdTokenResult()),ne=k&&((new Date).getTime()-Date.parse(k.issuedAtTime))/1e3;if(ne&&ne>$h)return;const ge=k?.token;Ad!==ge&&(Ad=ge,yield fetch(x,{method:ge?"POST":"DELETE",headers:ge?{Authorization:`Bearer ${ge}`}:{}}))});return function(I){return _.apply(this,arguments)}}();function bg(x=(0,fe.getApp)()){const _=(0,fe._getProvider)(x,"auth");if(_.isInitialized())return _.getImmediate();const I=function Ss(x,_){const I=(0,fe._getProvider)(x,"auth");if(I.isInitialized()){const ne=I.getImmediate(),ge=I.getOptions();if((0,oe.vZ)(ge,_??{}))return ne;He(ne,"already-initialized")}return I.initialize({options:_})}(x,{popupRedirectResolver:Tl,persistence:[oa,pt,yi]}),k=(0,oe.Pz)("authTokenSyncURL");if(k){const ge=Gh(k);(function Z(x,_,I){(0,oe.m9)(x).beforeAuthStateChanged(_,I)})(I,ge,()=>ge(I.currentUser)),function L(x,_,I,k){(0,oe.m9)(x).onIdTokenChanged(_,I,k)}(I,nt=>ge(nt))}const ne=(0,oe.q4)("auth");return ne&&Qa(I,`http://${ne}`),I}!function Ju(x){(0,fe._registerComponent)(new Ve.wA("auth",(_,{options:I})=>{const k=_.getProvider("app").getImmediate(),ne=_.getProvider("heartbeat"),ge=_.getProvider("app-check-internal"),{apiKey:nt,authDomain:Pt}=k.options;Re(nt&&!nt.includes(":"),"invalid-api-key",{appName:k.name});const Tn={apiKey:nt,authDomain:Pt,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ji(x)},Sn=new gs(k,ne,ge,Tn);return function _a(x,_){const I=_?.persistence||[],k=(Array.isArray(I)?I:[I]).map(ht);_?.errorMap&&x._updateErrorMap(_.errorMap),x._initializeWithPersistence(k,_?.popupRedirectResolver)}(Sn,I),Sn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,I,k)=>{_.getProvider("auth-internal").initialize()})),(0,fe._registerComponent)(new Ve.wA("auth-internal",_=>{const I=Rr(_.getProvider("auth").getImmediate());return new jh(I)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)(Sd,"0.23.2",function pa(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,fe.registerVersion)(Sd,"0.23.2","esm2017")}("Browser")},9058:(bn,gt,W)=>{W.d(gt,{$s:()=>ht,BH:()=>ot,L:()=>We,LL:()=>xt,P0:()=>vn,Pz:()=>Tt,Sg:()=>at,UG:()=>Nt,US:()=>Ve,ZB:()=>Ze,ZR:()=>ft,aH:()=>He,b$:()=>Bn,eu:()=>dt,hl:()=>Je,jU:()=>Jt,m9:()=>er,ne:()=>nr,pd:()=>rn,q4:()=>On,r3:()=>qe,ru:()=>Mn,tV:()=>_e,uI:()=>Re,vZ:()=>wt,w1:()=>zn,xO:()=>ln,xb:()=>mt,z$:()=>Dt,zI:()=>tt,zd:()=>Wt});const we=function(Me){const ue=[];let se=0;for(let Ce=0;Ce<Me.length;Ce++){let de=Me.charCodeAt(Ce);de<128?ue[se++]=de:de<2048?(ue[se++]=de>>6|192,ue[se++]=63&de|128):55296==(64512&de)&&Ce+1<Me.length&&56320==(64512&Me.charCodeAt(Ce+1))?(de=65536+((1023&de)<<10)+(1023&Me.charCodeAt(++Ce)),ue[se++]=de>>18|240,ue[se++]=de>>12&63|128,ue[se++]=de>>6&63|128,ue[se++]=63&de|128):(ue[se++]=de>>12|224,ue[se++]=de>>6&63|128,ue[se++]=63&de|128)}return ue},Ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,ue){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const se=ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let de=0;de<Me.length;de+=3){const Le=Me[de],Ot=de+1<Me.length,qt=Ot?Me[de+1]:0,xn=de+2<Me.length,hn=xn?Me[de+2]:0;let Br=(15&qt)<<2|hn>>6,Ei=63&hn;xn||(Ei=64,Ot||(Br=64)),Ce.push(se[Le>>2],se[(3&Le)<<4|qt>>4],se[Br],se[Ei])}return Ce.join("")},encodeString(Me,ue){return this.HAS_NATIVE_SUPPORT&&!ue?btoa(Me):this.encodeByteArray(we(Me),ue)},decodeString(Me,ue){return this.HAS_NATIVE_SUPPORT&&!ue?atob(Me):function(Me){const ue=[];let se=0,Ce=0;for(;se<Me.length;){const de=Me[se++];if(de<128)ue[Ce++]=String.fromCharCode(de);else if(de>191&&de<224){const Le=Me[se++];ue[Ce++]=String.fromCharCode((31&de)<<6|63&Le)}else if(de>239&&de<365){const xn=((7&de)<<18|(63&Me[se++])<<12|(63&Me[se++])<<6|63&Me[se++])-65536;ue[Ce++]=String.fromCharCode(55296+(xn>>10)),ue[Ce++]=String.fromCharCode(56320+(1023&xn))}else{const Le=Me[se++],Ot=Me[se++];ue[Ce++]=String.fromCharCode((15&de)<<12|(63&Le)<<6|63&Ot)}}return ue.join("")}(this.decodeStringToByteArray(Me,ue))},decodeStringToByteArray(Me,ue){this.init_();const se=ue?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let de=0;de<Me.length;){const Le=se[Me.charAt(de++)],qt=de<Me.length?se[Me.charAt(de)]:0;++de;const hn=de<Me.length?se[Me.charAt(de)]:64;++de;const mr=de<Me.length?se[Me.charAt(de)]:64;if(++de,null==Le||null==qt||null==hn||null==mr)throw new be;Ce.push(Le<<2|qt>>4),64!==hn&&(Ce.push(qt<<4&240|hn>>2),64!==mr&&Ce.push(hn<<6&192|mr))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const We=function(Me){return function(Me){const ue=we(Me);return Ve.encodeByteArray(ue,!0)}(Me).replace(/\./g,"")},_e=function(Me){try{return Ve.decodeString(Me,!0)}catch(ue){console.error("base64Decode failed: ",ue)}return null};function Ze(Me,ue){if(!(ue instanceof Object))return ue;switch(ue.constructor){case Date:return new Date(ue.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return ue}for(const se in ue)!ue.hasOwnProperty(se)||!bt(se)||(Me[se]=Ze(Me[se],ue[se]));return Me}function bt(Me){return"__proto__"!==Me}const Lt=()=>{try{return function Be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Me=process.env.__FIREBASE_DEFAULTS__;return Me?JSON.parse(Me):void 0})()||(()=>{if(typeof document>"u")return;let Me;try{Me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ue=Me&&_e(Me[1]);return ue&&JSON.parse(ue)})()}catch(Me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Me}`)}},On=Me=>{var ue,se;return null===(se=null===(ue=Lt())||void 0===ue?void 0:ue.emulatorHosts)||void 0===se?void 0:se[Me]},vn=Me=>{const ue=On(Me);if(!ue)return;const se=ue.lastIndexOf(":");if(se<=0||se+1===ue.length)throw new Error(`Invalid host ${ue} with no separate hostname and port!`);const Ce=parseInt(ue.substring(se+1),10);return"["===ue[0]?[ue.substring(1,se-1),Ce]:[ue.substring(0,se),Ce]},He=()=>{var Me;return null===(Me=Lt())||void 0===Me?void 0:Me.config},Tt=Me=>{var ue;return null===(ue=Lt())||void 0===ue?void 0:ue[`_${Me}`]};class ot{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ue,se)=>{this.resolve=ue,this.reject=se})}wrapCallback(ue){return(se,Ce)=>{se?this.reject(se):this.resolve(Ce),"function"==typeof ue&&(this.promise.catch(()=>{}),1===ue.length?ue(se):ue(se,Ce))}}}function at(Me,ue){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=ue||"demo-project",de=Me.iat||0,Le=Me.sub||Me.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ot=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:de,exp:de+3600,auth_time:de,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[We(JSON.stringify({alg:"none",type:"JWT"})),We(JSON.stringify(Ot)),""].join(".")}function Dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function Nt(){var Me;const ue=null===(Me=Lt())||void 0===Me?void 0:Me.forceEnvironment;if("node"===ue)return!0;if("browser"===ue)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Jt(){return"object"==typeof self&&self.self===self}function Mn(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function Bn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function zn(){const Me=Dt();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function Je(){try{return"object"==typeof indexedDB}catch{return!1}}function dt(){return new Promise((Me,ue)=>{try{let se=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(Ce);de.onsuccess=()=>{de.result.close(),se||self.indexedDB.deleteDatabase(Ce),Me(!0)},de.onupgradeneeded=()=>{se=!1},de.onerror=()=>{var Le;ue((null===(Le=de.error)||void 0===Le?void 0:Le.message)||"")}}catch(se){ue(se)}})}function tt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ft extends Error{constructor(ue,se,Ce){super(se),this.code=ue,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(ue,se,Ce){this.service=ue,this.serviceName=se,this.errors=Ce}create(ue,...se){const Ce=se[0]||{},de=`${this.service}/${ue}`,Le=this.errors[ue],Ot=Le?function Gt(Me,ue){return Me.replace(Ut,(se,Ce)=>{const de=ue[Ce];return null!=de?String(de):`<${Ce}?>`})}(Le,Ce):"Error";return new ft(de,`${this.serviceName}: ${Ot} (${de}).`,Ce)}}const Ut=/\{\$([^}]+)}/g;function qe(Me,ue){return Object.prototype.hasOwnProperty.call(Me,ue)}function mt(Me){for(const ue in Me)if(Object.prototype.hasOwnProperty.call(Me,ue))return!1;return!0}function wt(Me,ue){if(Me===ue)return!0;const se=Object.keys(Me),Ce=Object.keys(ue);for(const de of se){if(!Ce.includes(de))return!1;const Le=Me[de],Ot=ue[de];if(Ht(Le)&&Ht(Ot)){if(!wt(Le,Ot))return!1}else if(Le!==Ot)return!1}for(const de of Ce)if(!se.includes(de))return!1;return!0}function Ht(Me){return null!==Me&&"object"==typeof Me}function ln(Me){const ue=[];for(const[se,Ce]of Object.entries(Me))Array.isArray(Ce)?Ce.forEach(de=>{ue.push(encodeURIComponent(se)+"="+encodeURIComponent(de))}):ue.push(encodeURIComponent(se)+"="+encodeURIComponent(Ce));return ue.length?"&"+ue.join("&"):""}function Wt(Me){const ue={};return Me.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[de,Le]=Ce.split("=");ue[decodeURIComponent(de)]=decodeURIComponent(Le)}}),ue}function rn(Me){const ue=Me.indexOf("?");if(!ue)return"";const se=Me.indexOf("#",ue);return Me.substring(ue,se>0?se:void 0)}function nr(Me,ue){const se=new Lr(Me,ue);return se.subscribe.bind(se)}class Lr{constructor(ue,se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(()=>{ue(this)}).catch(Ce=>{this.error(Ce)})}next(ue){this.forEachObserver(se=>{se.next(ue)})}error(ue){this.forEachObserver(se=>{se.error(ue)}),this.close(ue)}complete(){this.forEachObserver(ue=>{ue.complete()}),this.close()}subscribe(ue,se,Ce){let de;if(void 0===ue&&void 0===se&&void 0===Ce)throw new Error("Missing Observer.");de=function cr(Me,ue){if("object"!=typeof Me||null===Me)return!1;for(const se of ue)if(se in Me&&"function"==typeof Me[se])return!0;return!1}(ue,["next","error","complete"])?ue:{next:ue,error:se,complete:Ce},void 0===de.next&&(de.next=Vr),void 0===de.error&&(de.error=Vr),void 0===de.complete&&(de.complete=Vr);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch{}}),this.observers.push(de),Le}unsubscribeOne(ue){void 0===this.observers||void 0===this.observers[ue]||(delete this.observers[ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ue){if(!this.finalized)for(let se=0;se<this.observers.length;se++)this.sendOne(se,ue)}sendOne(ue,se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ue])try{se(this.observers[ue])}catch(Ce){typeof console<"u"&&console.error&&console.error(Ce)}})}close(ue){this.finalized||(this.finalized=!0,void 0!==ue&&(this.finalError=ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vr(){}const ui=1e3,yt=2,Fe=144e5,St=.5;function ht(Me,ue=ui,se=yt){const Ce=ue*Math.pow(se,Me),de=Math.round(St*Ce*(Math.random()-.5)*2);return Math.min(Fe,Ce+de)}function er(Me){return Me&&Me._delegate?Me._delegate:Me}},8976:(bn,gt,W)=>{W.d(gt,{b:()=>d});class d{constructor(fe,we,Pe){this.mail=fe,this.password=we,this.nombre=Pe,this.fechaAcceso=Date.now(),this.id=""}}},3015:(bn,gt,W)=>{W.d(gt,{T:()=>dt});var d=W(5861),oe=W(5879),fe=W(8645),we=W(2096),Pe=W(5592),Ve=W(2459),be=W(3019),lt=W(3093),We=W(4664),_e=W(7398),Oe=W(4552);class Ze extends fe.x{constructor($e=1/0,ft=1/0,xt=Oe.l){super(),this._bufferSize=$e,this._windowTime=ft,this._timestampProvider=xt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ft===1/0,this._bufferSize=Math.max(1,$e),this._windowTime=Math.max(1,ft)}next($e){const{isStopped:ft,_buffer:xt,_infiniteTimeWindow:Gt,_timestampProvider:Ut,_windowTime:Hn}=this;ft||(xt.push($e),!Gt&&xt.push(Ut.now()+Hn)),this._trimBuffer(),super.next($e)}_subscribe($e){this._throwIfClosed(),this._trimBuffer();const ft=this._innerSubscribe($e),{_infiniteTimeWindow:xt,_buffer:Gt}=this,Ut=Gt.slice();for(let Hn=0;Hn<Ut.length&&!$e.closed;Hn+=xt?1:2)$e.next(Ut[Hn]);return this._checkFinalizedStatuses($e),ft}_trimBuffer(){const{_bufferSize:$e,_timestampProvider:ft,_buffer:xt,_infiniteTimeWindow:Gt}=this,Ut=(Gt?1:2)*$e;if($e<1/0&&Ut<xt.length&&xt.splice(0,xt.length-Ut),!Gt){const Hn=ft.now();let Fn=0;for(let Un=1;Un<xt.length&&xt[Un]<=Hn;Un+=2)Fn=Un;Fn&&xt.splice(0,Fn+1)}}}var bt=W(3020);function Be(tt,$e,ft){let xt,Gt=!1;return tt&&"object"==typeof tt?({bufferSize:xt=1/0,windowTime:$e=1/0,refCount:Gt=!1,scheduler:ft}=tt):xt=tt??1/0,(0,bt.B)({connector:()=>new Ze(xt,$e,ft),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Gt})}var jt=W(1374),st=W(4674);function tn(tt,$e){return(0,st.m)($e)?(0,We.w)(()=>tt,$e):(0,We.w)(()=>tt)}var Lt=W(5137),On=W(2181),vn=W(2793),He=W(6304),Tt=W(6814),ot=W(2194);W(120);const Re=new oe.OlP("angularfire2.auth.use-emulator"),Nt=new oe.OlP("angularfire2.auth.settings"),Jt=new oe.OlP("angularfire2.auth.tenant-id"),Mn=new oe.OlP("angularfire2.auth.langugage-code"),Bn=new oe.OlP("angularfire2.auth.use-device-language"),mn=new oe.OlP("angularfire.auth.persistence");let Jn=(()=>{class tt{constructor(ft,xt,Gt,Ut,Hn,Fn,Un,An,fr,zr,wn,qe){const ke=new fe.x,mt=(0,we.of)(void 0).pipe((0,lt.Q)(Hn.outsideAngular),(0,We.w)(()=>Ut.runOutsideAngular(()=>W.e(661).then(W.bind(W,8661)))),(0,_e.U)(()=>(0,He.on)(ft,Ut,xt)),(0,_e.U)(Rt=>((tt,$e,ft,xt,Gt,Ut,Hn,Fn)=>(0,He.cc)(`${tt.name}.auth`,"AngularFireAuth",tt.name,()=>{const Un=$e.runOutsideAngular(()=>tt.auth());if(ft&&Un.useEmulator(...ft),xt&&(Un.tenantId=xt),Un.languageCode=Gt,Ut&&Un.useDeviceLanguage(),Hn)for(const[An,fr]of Object.entries(Hn))Un.settings[An]=fr;return Fn&&Un.setPersistence(Fn),Un},[ft,xt,Gt,Ut,Hn,Fn]))(Rt,Ut,Fn,An,fr,zr,Un,wn)),Be({bufferSize:1,refCount:!1}));if((0,Tt.PM)(Gt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,we.of)(null);else{mt.pipe((0,jt.P)()).subscribe();const wt=mt.pipe((0,We.w)(ln=>ln.getRedirectResult().then(Wt=>Wt,()=>null)),vn.iC,Be({bufferSize:1,refCount:!1})),Ht=mt.pipe((0,We.w)(ln=>new Pe.y(Wt=>({unsubscribe:Ut.runOutsideAngular(()=>ln.onAuthStateChanged(rn=>Wt.next(rn),rn=>Wt.error(rn),()=>Wt.complete()))})))),or=mt.pipe((0,We.w)(ln=>new Pe.y(Wt=>({unsubscribe:Ut.runOutsideAngular(()=>ln.onIdTokenChanged(rn=>Wt.next(rn),rn=>Wt.error(rn),()=>Wt.complete()))}))));this.authState=wt.pipe(tn(Ht),(0,Lt.R)(Hn.outsideAngular),(0,lt.Q)(Hn.insideAngular)),this.user=wt.pipe(tn(or),(0,Lt.R)(Hn.outsideAngular),(0,lt.Q)(Hn.insideAngular)),this.idToken=this.user.pipe((0,We.w)(ln=>ln?(0,Ve.D)(ln.getIdToken()):(0,we.of)(null))),this.idTokenResult=this.user.pipe((0,We.w)(ln=>ln?(0,Ve.D)(ln.getIdTokenResult()):(0,we.of)(null))),this.credential=(0,be.T)(wt,ke,this.authState.pipe((0,On.h)(ln=>!ln))).pipe((0,_e.U)(ln=>ln?.user?ln:null),(0,Lt.R)(Hn.outsideAngular),(0,lt.Q)(Hn.insideAngular))}return(0,He.pX)(this,mt,Ut,{spy:{apply:(Rt,wt,Ht)=>{(Rt.startsWith("signIn")||Rt.startsWith("createUser"))&&Ht.then(or=>ke.next(or))}}})}}return tt.\u0275fac=function(ft){return new(ft||tt)(oe.LFG(He.Dh),oe.LFG(He.xv,8),oe.LFG(oe.Lbi),oe.LFG(oe.R0b),oe.LFG(vn.HU),oe.LFG(Re,8),oe.LFG(Nt,8),oe.LFG(Jt,8),oe.LFG(Mn,8),oe.LFG(Bn,8),oe.LFG(mn,8),oe.LFG(ot.nm,8))},tt.\u0275prov=oe.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"any"}),tt})();var ar=W(969),Je=W(2759);let dt=(()=>{var tt;class $e{constructor(xt,Gt,Ut){this.auth=xt,this.router=Gt,this.userService=Ut,this.auth.onAuthStateChanged(Hn=>{Hn?(this.UserData=Hn,localStorage.setItem("user",JSON.stringify(this.UserData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}guardar(xt,Gt){var Ut=this;return(0,d.Z)(function*(){return(yield Ut.auth.createUserWithEmailAndPassword(xt,Gt)).user?.uid})()}login(xt,Gt){return this.auth.signInWithEmailAndPassword(xt,Gt).then(Ut=>{this.UserData=Ut.user,this.userService.updateLoginState(this.UserData.uid),this.router.navigateByUrl("")}).catch(Ut=>{window.alert(Ut.message)})}logout(){return this.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigateByUrl("login")})}isLoggedIn(){const xt=localStorage.getItem("user");return null!==JSON.parse(xt)}}return(tt=$e).\u0275fac=function(xt){return new(xt||tt)(oe.LFG(Jn),oe.LFG(ar.F0),oe.LFG(Je.J))},tt.\u0275prov=oe.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"root"}),$e})()},833:(bn,gt,W)=>{W.d(gt,{_:()=>we});var d=W(5619),oe=W(5879),fe=W(969);let we=(()=>{var Pe;class Ve{updateOverlayState(lt){this.showOverlay.next(lt)}constructor(lt){this.router=lt,this.showOverlay=new d.X(!1),this.currentOverlayState=this.showOverlay.asObservable(),lt.events.subscribe(We=>{this.navigationInterceptor(We)})}navigationInterceptor(lt){}}return(Pe=Ve).\u0275fac=function(lt){return new(lt||Pe)(oe.LFG(fe.F0))},Pe.\u0275prov=oe.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Ve})()},2759:(bn,gt,W)=>{W.d(gt,{J:()=>Ve});var d=W(5861),oe=W(8976),fe=W(938),we=W(5619),Pe=W(5879);let Ve=(()=>{var be;class lt{constructor(_e){this.firestore=_e,this.loginState=new we.X(""),this.currentLoginState=this.loginState.asObservable(),this.usuariosRef=(0,fe.hJ)(this.firestore,"usuarios")}updateLoginState(_e){this.loginState.next(_e)}addUsuario(_e){return(0,fe.ET)(this.usuariosRef,_e)}setUsuario(_e,Oe){var Ze=this;return(0,d.Z)(function*(){const bt=(0,fe.JU)(Ze.usuariosRef,Oe);return _e.id=Oe,(0,fe.pl)(bt,{..._e})})()}getUsuarios(){return(0,fe.BS)(this.usuariosRef,{idField:"id"})}traerSubscripcion(){return this.getUsuarios().subscribe(_e=>{console.log(_e)})}getUsuario(_e){var Oe=this;return(0,d.Z)(function*(){var Ze=new Document;return(yield(0,fe.PL)(Oe.usuariosRef)).forEach(Be=>{Be.id==_e&&(Ze=Be.data())}),new oe.b(Ze.mail,Ze.password,Ze.nombre)})()}updUsuario(_e){const Oe=(0,fe.JU)(this.firestore,`usuarios/${_e.mail}`);return(0,fe.r7)(Oe,{..._e})}delUsuario(_e){const Oe=(0,fe.JU)(this.firestore,`usuarios/${_e}`);return(0,fe.oe)(Oe)}}return(be=lt).\u0275fac=function(_e){return new(_e||be)(Pe.LFG(fe.gg))},be.\u0275prov=Pe.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),lt})()},1665:(bn,gt,W)=>{var d=W(6593),oe=W(969),fe=W(3015),we=W(5879);const Ve=[{path:"",canActivate:[(U,y)=>!!(0,we.f3M)(fe.T).isLoggedIn()||(0,we.f3M)(oe.F0).navigateByUrl("login")],loadChildren:()=>W.e(599).then(W.bind(W,6599)).then(U=>U.HomeModule)},{path:"login",loadChildren:()=>W.e(629).then(W.bind(W,2629)).then(U=>U.LoginModule)},{path:"registro",loadChildren:()=>Promise.all([W.e(519),W.e(121)]).then(W.bind(W,5121)).then(U=>U.RegistroModule)},{path:"**",loadChildren:()=>W.e(694).then(W.bind(W,694)).then(U=>U.ErrorModule)}];let be=(()=>{var U;class y{}return(U=y).\u0275fac=function(R){return new(R||U)},U.\u0275mod=we.oAB({type:U}),U.\u0275inj=we.cJS({imports:[oe.Bz.forRoot(Ve),oe.Bz]}),y})();var lt=W(833),We=W(6814);function _e(U,y){1&U&&(we.TgZ(0,"div",5)(1,"div",6),we._UZ(2,"div",7)(3,"div",8),we.qZA()())}let Oe=(()=>{var U;class y{constructor(R){this.interceptor=R,this.title="sala-juegos-llemos",this.showOverlay=!1,R.currentOverlayState.subscribe(q=>this.showOverlay=q)}}return(U=y).\u0275fac=function(R){return new(R||U)(we.Y36(lt._))},U.\u0275cmp=we.Xpm({type:U,selectors:[["app-root"]],decls:7,vars:1,consts:[["class","my-overlay",4,"ngIf"],[1,"text-center","bg-dark"],[1,"cover-container","p-3","pt-0","mx-auto"],[1,"border-top","border-secondary","text-center","w-100"],[1,"text-light","font-monospace"],[1,"my-overlay"],[1,"spinner"],[1,"cube1"],[1,"cube2"]],template:function(R,q){1&R&&(we.YNc(0,_e,4,0,"div",0),we.TgZ(1,"main",1)(2,"div",2),we._UZ(3,"router-outlet"),we.qZA()(),we.TgZ(4,"footer",3)(5,"span",4),we._uU(6,"LEMOS LAUTARO LUCAS - 2023"),we.qZA()()),2&R&&we.Q6J("ngIf",q.showOverlay)},dependencies:[We.O5,oe.lC],styles:[".btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:hover, .btn-secondary[_ngcontent-%COMP%]:focus{color:#333;text-shadow:none}main[_ngcontent-%COMP%]{min-height:calc(100vh - 71px)}footer[_ngcontent-%COMP%]{line-height:20px;padding:10px 20px;margin-top:30px}.cover-container[_ngcontent-%COMP%]{max-width:50em}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ffffff80;border-bottom:.25rem solid transparent}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{border-bottom-color:#ffffff40}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] + .nav-link[_ngcontent-%COMP%]{margin-left:1rem}.nav-masthead[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}.my-overlay[_ngcontent-%COMP%]{left:0!important;top:0!important;z-index:10000!important;width:100%!important;height:100%!important;position:fixed!important;background-color:rgba(var(--bs-dark-rgb),1)!important;cursor:pointer!important;visibility:visible!important;transition:visibility 0s,opacity .4s linear!important;display:flex;align-items:center;justify-content:center;cursor:wait!important}.spinner[_ngcontent-%COMP%]{margin:100px auto;width:40px;height:40px;position:relative}.cube1[_ngcontent-%COMP%], .cube2[_ngcontent-%COMP%]{background-color:#979797;width:15px;height:15px;position:absolute;top:0;left:0;animation:_ngcontent-%COMP%_sk-cubemove 1.8s infinite ease-in-out}.cube2[_ngcontent-%COMP%]{animation-delay:-.9s}@keyframes _ngcontent-%COMP%_sk-cubemove{25%{transform:translate(42px) rotate(-90deg) scale(.5);-webkit-transform:translateX(42px) rotate(-90deg) scale(.5)}50%{transform:translate(42px) translateY(42px) rotate(-179deg);-webkit-transform:translateX(42px) translateY(42px) rotate(-179deg)}50.1%{transform:translate(42px) translateY(42px) rotate(-180deg);-webkit-transform:translateX(42px) translateY(42px) rotate(-180deg)}75%{transform:translate(0) translateY(42px) rotate(-270deg) scale(.5);-webkit-transform:translateX(0px) translateY(42px) rotate(-270deg) scale(.5)}to{transform:rotate(-360deg);-webkit-transform:rotate(-360deg)}}"]}),y})();var Ze=W(6697),bt=W(5597);class Be{}class jt{}const st="*";function vn(U,y=null){return{type:2,steps:U,options:y}}function He(U){return{type:6,styles:U,offset:null}}class Bn{constructor(y=0,D=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=y+D}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(y=>y()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(y){this._position=this.totalTime?y*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(y){const D="start"==y?this._onStartFns:this._onDoneFns;D.forEach(R=>R()),D.length=0}}class mn{constructor(y){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=y;let D=0,R=0,q=0;const ie=this.players.length;0==ie?queueMicrotask(()=>this._onFinish()):this.players.forEach(ve=>{ve.onDone(()=>{++D==ie&&this._onFinish()}),ve.onDestroy(()=>{++R==ie&&this._onDestroy()}),ve.onStart(()=>{++q==ie&&this._onStart()})}),this.totalTime=this.players.reduce((ve,Se)=>Math.max(ve,Se.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this.players.forEach(y=>y.init())}onStart(y){this._onStartFns.push(y)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(y=>y()),this._onStartFns=[])}onDone(y){this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(y=>y.play())}pause(){this.players.forEach(y=>y.pause())}restart(){this.players.forEach(y=>y.restart())}finish(){this._onFinish(),this.players.forEach(y=>y.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(y=>y.destroy()),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}reset(){this.players.forEach(y=>y.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(y){const D=y*this.totalTime;this.players.forEach(R=>{const q=R.totalTime?Math.min(1,D/R.totalTime):1;R.setPosition(q)})}getPosition(){const y=this.players.reduce((D,R)=>null===D||R.totalTime>D.totalTime?R:D,null);return null!=y?y.getPosition():0}beforeDestroy(){this.players.forEach(y=>{y.beforeDestroy&&y.beforeDestroy()})}triggerCallback(y){const D="start"==y?this._onStartFns:this._onDoneFns;D.forEach(R=>R()),D.length=0}}function dr(U){return new we.vHH(3e3,!1)}function Wr(U){switch(U.length){case 0:return new Bn;case 1:return U[0];default:return new mn(U)}}function xr(U,y,D=new Map,R=new Map){const q=[],ie=[];let ve=-1,Se=null;if(y.forEach(Ue=>{const et=Ue.get("offset"),sn=et==ve,cn=sn&&Se||new Map;Ue.forEach((it,Dn)=>{let En=Dn,$n=it;if("offset"!==Dn)switch(En=U.normalizePropertyName(En,q),$n){case"!":$n=D.get(Dn);break;case st:$n=R.get(Dn);break;default:$n=U.normalizeStyleValue(Dn,En,$n,q)}cn.set(En,$n)}),sn||ie.push(cn),Se=cn,ve=et}),q.length)throw function ln(U){return new we.vHH(3502,!1)}();return ie}function Ai(U,y,D,R){switch(y){case"start":U.onStart(()=>R(D&&fi(D,"start",U)));break;case"done":U.onDone(()=>R(D&&fi(D,"done",U)));break;case"destroy":U.onDestroy(()=>R(D&&fi(D,"destroy",U)))}}function fi(U,y,D){const ie=ui(U.element,U.triggerName,U.fromState,U.toState,y||U.phaseName,D.totalTime??U.totalTime,!!D.disabled),ve=U._data;return null!=ve&&(ie._data=ve),ie}function ui(U,y,D,R,q="",ie=0,ve){return{element:U,triggerName:y,fromState:D,toState:R,phaseName:q,totalTime:ie,disabled:!!ve}}function yt(U,y,D){let R=U.get(y);return R||U.set(y,R=D),R}function Fe(U){const y=U.indexOf(":");return[U.substring(1,y),U.slice(y+1)]}const St=(()=>typeof document>"u"?null:document.documentElement)();function ht(U){const y=U.parentNode||U.host||null;return y===St?null:y}let Yt=null,er=!1;function Ce(U,y){for(;y;){if(y===U)return!0;y=ht(y)}return!1}function de(U,y,D){if(D)return Array.from(U.querySelectorAll(y));const R=U.querySelector(y);return R?[R]:[]}let Ot=(()=>{var U;class y{validateStyleProperty(R){return function Me(U){Yt||(Yt=function se(){return typeof document<"u"?document.body:null}()||{},er=!!Yt.style&&"WebkitAppearance"in Yt.style);let y=!0;return Yt.style&&!function an(U){return"ebkit"==U.substring(1,6)}(U)&&(y=U in Yt.style,!y&&er&&(y="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in Yt.style)),y}(R)}matchesElement(R,q){return!1}containsElement(R,q){return Ce(R,q)}getParentElement(R){return ht(R)}query(R,q,ie){return de(R,q,ie)}computeStyle(R,q,ie){return ie||""}animate(R,q,ie,ve,Se,Ue=[],et){return new Bn(ie,ve)}}return(U=y).\u0275fac=function(R){return new(R||U)},U.\u0275prov=we.Yz7({token:U,factory:U.\u0275fac}),y})(),qt=(()=>{class y{}return y.NOOP=new Ot,y})();const xn=1e3,mr="ng-enter",Br="ng-leave",Ei="ng-trigger",Ci=".ng-trigger",Ji="ng-animating",Xi=".ng-animating";function Jr(U){if("number"==typeof U)return U;const y=U.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:Kr(parseFloat(y[1]),y[2])}function Kr(U,y){return"s"===y?U*xn:U}function Hi(U,y,D){return U.hasOwnProperty("duration")?U:function _r(U,y,D){let q,ie=0,ve="";if("string"==typeof U){const Se=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Se)return y.push(dr()),{duration:0,delay:0,easing:""};q=Kr(parseFloat(Se[1]),Se[2]);const Ue=Se[3];null!=Ue&&(ie=Kr(parseFloat(Ue),Se[4]));const et=Se[5];et&&(ve=et)}else q=U;if(!D){let Se=!1,Ue=y.length;q<0&&(y.push(function ar(){return new we.vHH(3100,!1)}()),Se=!0),ie<0&&(y.push(function Je(){return new we.vHH(3101,!1)}()),Se=!0),Se&&y.splice(Ue,0,dr())}return{duration:q,delay:ie,easing:ve}}(U,y,D)}function Bi(U,y={}){return Object.keys(U).forEach(D=>{y[D]=U[D]}),y}function es(U){const y=new Map;return Object.keys(U).forEach(D=>{y.set(D,U[D])}),y}function oi(U,y=new Map,D){if(D)for(let[R,q]of D)y.set(R,q);for(let[R,q]of U)y.set(R,q);return y}function Gi(U,y,D){y.forEach((R,q)=>{const ie=$s(q);D&&!D.has(q)&&D.set(q,U.style[ie]),U.style[ie]=R})}function ks(U,y){y.forEach((D,R)=>{const q=$s(R);U.style[q]=""})}function Ds(U){return Array.isArray(U)?1==U.length?U[0]:vn(U):U}const xi=new RegExp("{{\\s*(.+?)\\s*}}","g");function lo(U){let y=[];if("string"==typeof U){let D;for(;D=xi.exec(U);)y.push(D[1]);xi.lastIndex=0}return y}function Xs(U,y,D){const R=U.toString(),q=R.replace(xi,(ie,ve)=>{let Se=y[ve];return null==Se&&(D.push(function tt(U){return new we.vHH(3003,!1)}()),Se=""),Se.toString()});return q==R?U:q}function gs(U){const y=[];let D=U.next();for(;!D.done;)y.push(D.value),D=U.next();return y}const Rr=/-+([a-z0-9])/g;function $s(U){return U.replace(Rr,(...y)=>y[1].toUpperCase())}function Ge(U,y,D){switch(y.type){case 7:return U.visitTrigger(y,D);case 0:return U.visitState(y,D);case 1:return U.visitTransition(y,D);case 2:return U.visitSequence(y,D);case 3:return U.visitGroup(y,D);case 4:return U.visitAnimate(y,D);case 5:return U.visitKeyframes(y,D);case 6:return U.visitStyle(y,D);case 8:return U.visitReference(y,D);case 9:return U.visitAnimateChild(y,D);case 10:return U.visitAnimateRef(y,D);case 11:return U.visitQuery(y,D);case 12:return U.visitStagger(y,D);default:throw function $e(U){return new we.vHH(3004,!1)}()}}function ze(U,y){return window.getComputedStyle(U)[y]}const Dr="*";function na(U,y){const D=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(R=>function us(U,y,D){if(":"==U[0]){const Ue=function As(U,y){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(D,R)=>parseFloat(R)>parseFloat(D);case":decrement":return(D,R)=>parseFloat(R)<parseFloat(D);default:return y.push(function Rt(U){return new we.vHH(3016,!1)}()),"* => *"}}(U,D);if("function"==typeof Ue)return void y.push(Ue);U=Ue}const R=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return D.push(function mt(U){return new we.vHH(3015,!1)}()),y;const q=R[1],ie=R[2],ve=R[3];y.push(ya(q,ve));"<"==ie[0]&&!(q==Dr&&ve==Dr)&&y.push(ya(ve,q))}(R,D,y)):D.push(U),D}const pi=new Set(["true","1"]),Po=new Set(["false","0"]);function ya(U,y){const D=pi.has(U)||Po.has(U),R=pi.has(y)||Po.has(y);return(q,ie)=>{let ve=U==Dr||U==q,Se=y==Dr||y==ie;return!ve&&D&&"boolean"==typeof q&&(ve=q?pi.has(U):Po.has(U)),!Se&&R&&"boolean"==typeof ie&&(Se=ie?pi.has(y):Po.has(y)),ve&&Se}}const ra=new RegExp("s*:selfs*,?","g");function No(U,y,D,R){return new ia(U).build(y,D,R)}class ia{constructor(y){this._driver=y}build(y,D,R){const q=new di(D);return this._resetContextStyleTimingState(q),Ge(this,Ds(y),q)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,D){let R=D.queryCount=0,q=D.depCount=0;const ie=[],ve=[];return"@"==y.name.charAt(0)&&D.errors.push(function xt(){return new we.vHH(3006,!1)}()),y.definitions.forEach(Se=>{if(this._resetContextStyleTimingState(D),0==Se.type){const Ue=Se,et=Ue.name;et.toString().split(/\s*,\s*/).forEach(sn=>{Ue.name=sn,ie.push(this.visitState(Ue,D))}),Ue.name=et}else if(1==Se.type){const Ue=this.visitTransition(Se,D);R+=Ue.queryCount,q+=Ue.depCount,ve.push(Ue)}else D.errors.push(function Gt(){return new we.vHH(3007,!1)}())}),{type:7,name:y.name,states:ie,transitions:ve,queryCount:R,depCount:q,options:null}}visitState(y,D){const R=this.visitStyle(y.styles,D),q=y.options&&y.options.params||null;if(R.containsDynamicStyles){const ie=new Set,ve=q||{};R.styles.forEach(Se=>{Se instanceof Map&&Se.forEach(Ue=>{lo(Ue).forEach(et=>{ve.hasOwnProperty(et)||ie.add(et)})})}),ie.size&&(gs(ie.values()),D.errors.push(function Ut(U,y){return new we.vHH(3008,!1)}()))}return{type:0,name:y.name,style:R,options:q?{params:q}:null}}visitTransition(y,D){D.queryCount=0,D.depCount=0;const R=Ge(this,Ds(y.animation),D);return{type:1,matchers:na(y.expr,D.errors),animation:R,queryCount:D.queryCount,depCount:D.depCount,options:uo(y.options)}}visitSequence(y,D){return{type:2,steps:y.steps.map(R=>Ge(this,R,D)),options:uo(y.options)}}visitGroup(y,D){const R=D.currentTime;let q=0;const ie=y.steps.map(ve=>{D.currentTime=R;const Se=Ge(this,ve,D);return q=Math.max(q,D.currentTime),Se});return D.currentTime=q,{type:3,steps:ie,options:uo(y.options)}}visitAnimate(y,D){const R=function ms(U,y){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return Ho(Hi(U,y).duration,0,"");const D=U;if(D.split(/\s+/).some(ie=>"{"==ie.charAt(0)&&"{"==ie.charAt(1))){const ie=Ho(0,0,"");return ie.dynamic=!0,ie.strValue=D,ie}const q=Hi(D,y);return Ho(q.duration,q.delay,q.easing)}(y.timings,D.errors);D.currentAnimateTimings=R;let q,ie=y.styles?y.styles:He({});if(5==ie.type)q=this.visitKeyframes(ie,D);else{let ve=y.styles,Se=!1;if(!ve){Se=!0;const et={};R.easing&&(et.easing=R.easing),ve=He(et)}D.currentTime+=R.duration+R.delay;const Ue=this.visitStyle(ve,D);Ue.isEmptyStep=Se,q=Ue}return D.currentAnimateTimings=null,{type:4,timings:R,style:q,options:null}}visitStyle(y,D){const R=this._makeStyleAst(y,D);return this._validateStyleAst(R,D),R}_makeStyleAst(y,D){const R=[],q=Array.isArray(y.styles)?y.styles:[y.styles];for(let Se of q)"string"==typeof Se?Se===st?R.push(Se):D.errors.push(new we.vHH(3002,!1)):R.push(es(Se));let ie=!1,ve=null;return R.forEach(Se=>{if(Se instanceof Map&&(Se.has("easing")&&(ve=Se.get("easing"),Se.delete("easing")),!ie))for(let Ue of Se.values())if(Ue.toString().indexOf("{{")>=0){ie=!0;break}}),{type:6,styles:R,easing:ve,offset:y.offset,containsDynamicStyles:ie,options:null}}_validateStyleAst(y,D){const R=D.currentAnimateTimings;let q=D.currentTime,ie=D.currentTime;R&&ie>0&&(ie-=R.duration+R.delay),y.styles.forEach(ve=>{"string"!=typeof ve&&ve.forEach((Se,Ue)=>{const et=D.collectedStyles.get(D.currentQuerySelector),sn=et.get(Ue);let cn=!0;sn&&(ie!=q&&ie>=sn.startTime&&q<=sn.endTime&&(D.errors.push(function Un(U,y,D,R,q){return new we.vHH(3010,!1)}()),cn=!1),ie=sn.startTime),cn&&et.set(Ue,{startTime:ie,endTime:q}),D.options&&function js(U,y,D){const R=y.params||{},q=lo(U);q.length&&q.forEach(ie=>{R.hasOwnProperty(ie)||D.push(function dt(U){return new we.vHH(3001,!1)}())})}(Se,D.options,D.errors)})})}visitKeyframes(y,D){const R={type:5,styles:[],options:null};if(!D.currentAnimateTimings)return D.errors.push(function An(){return new we.vHH(3011,!1)}()),R;let ie=0;const ve=[];let Se=!1,Ue=!1,et=0;const sn=y.steps.map(In=>{const Ri=this._makeStyleAst(In,D);let $t=null!=Ri.offset?Ri.offset:function Cs(U){if("string"==typeof U)return null;let y=null;if(Array.isArray(U))U.forEach(D=>{if(D instanceof Map&&D.has("offset")){const R=D;y=parseFloat(R.get("offset")),R.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const D=U;y=parseFloat(D.get("offset")),D.delete("offset")}return y}(Ri.styles),pt=0;return null!=$t&&(ie++,pt=Ri.offset=$t),Ue=Ue||pt<0||pt>1,Se=Se||pt<et,et=pt,ve.push(pt),Ri});Ue&&D.errors.push(function fr(){return new we.vHH(3012,!1)}()),Se&&D.errors.push(function zr(){return new we.vHH(3200,!1)}());const cn=y.steps.length;let it=0;ie>0&&ie<cn?D.errors.push(function wn(){return new we.vHH(3202,!1)}()):0==ie&&(it=1/(cn-1));const Dn=cn-1,En=D.currentTime,$n=D.currentAnimateTimings,en=$n.duration;return sn.forEach((In,Ri)=>{const $t=it>0?Ri==Dn?1:it*Ri:ve[Ri],pt=$t*en;D.currentTime=En+$n.delay+pt,$n.duration=pt,this._validateStyleAst(In,D),In.offset=$t,R.styles.push(In)}),R}visitReference(y,D){return{type:8,animation:Ge(this,Ds(y.animation),D),options:uo(y.options)}}visitAnimateChild(y,D){return D.depCount++,{type:9,options:uo(y.options)}}visitAnimateRef(y,D){return{type:10,animation:this.visitReference(y.animation,D),options:uo(y.options)}}visitQuery(y,D){const R=D.currentQuerySelector,q=y.options||{};D.queryCount++,D.currentQuery=y;const[ie,ve]=function Mr(U){const y=!!U.split(/\s*,\s*/).find(D=>":self"==D);return y&&(U=U.replace(ra,"")),U=U.replace(/@\*/g,Ci).replace(/@\w+/g,D=>Ci+"-"+D.slice(1)).replace(/:animating/g,Xi),[U,y]}(y.selector);D.currentQuerySelector=R.length?R+" "+ie:ie,yt(D.collectedStyles,D.currentQuerySelector,new Map);const Se=Ge(this,Ds(y.animation),D);return D.currentQuery=null,D.currentQuerySelector=R,{type:11,selector:ie,limit:q.limit||0,optional:!!q.optional,includeSelf:ve,animation:Se,originalSelector:y.selector,options:uo(y.options)}}visitStagger(y,D){D.currentQuery||D.errors.push(function qe(){return new we.vHH(3013,!1)}());const R="full"===y.timings?{duration:0,delay:0,easing:"full"}:Hi(y.timings,D.errors,!0);return{type:12,animation:Ge(this,Ds(y.animation),D),timings:R,options:null}}}class di{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function uo(U){return U?(U=Bi(U)).params&&(U.params=function wi(U){return U?Bi(U):null}(U.params)):U={},U}function Ho(U,y,D){return{duration:U,delay:y,easing:D}}function ts(U,y,D,R,q,ie,ve=null,Se=!1){return{type:1,element:U,keyframes:y,preStyleProps:D,postStyleProps:R,duration:q,delay:ie,totalTime:q+ie,easing:ve,subTimeline:Se}}class ki{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,D){let R=this._map.get(y);R||this._map.set(y,R=[]),R.push(...D)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const _n=new RegExp(":enter","g"),gi=new RegExp(":leave","g");function rr(U,y,D,R,q,ie=new Map,ve=new Map,Se,Ue,et=[]){return(new ho).buildKeyframes(U,y,D,R,q,ie,ve,Se,Ue,et)}class ho{buildKeyframes(y,D,R,q,ie,ve,Se,Ue,et,sn=[]){et=et||new ki;const cn=new _s(y,D,et,q,ie,sn,[]);cn.options=Ue;const it=Ue.delay?Jr(Ue.delay):0;cn.currentTimeline.delayNextStep(it),cn.currentTimeline.setStyles([ve],null,cn.errors,Ue),Ge(this,R,cn);const Dn=cn.timelines.filter(En=>En.containsAnimation());if(Dn.length&&Se.size){let En;for(let $n=Dn.length-1;$n>=0;$n--){const en=Dn[$n];if(en.element===D){En=en;break}}En&&!En.allowOnlyTimelineStyles()&&En.setStyles([Se],null,cn.errors,Ue)}return Dn.length?Dn.map(En=>En.buildKeyframes()):[ts(D,[],[],[],0,it,"",!1)]}visitTrigger(y,D){}visitState(y,D){}visitTransition(y,D){}visitAnimateChild(y,D){const R=D.subInstructions.get(D.element);if(R){const q=D.createSubContext(y.options),ie=D.currentTimeline.currentTime,ve=this._visitSubInstructions(R,q,q.options);ie!=ve&&D.transformIntoNewTimeline(ve)}D.previousNode=y}visitAnimateRef(y,D){const R=D.createSubContext(y.options);R.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],D,R),this.visitReference(y.animation,R),D.transformIntoNewTimeline(R.currentTimeline.currentTime),D.previousNode=y}_applyAnimationRefDelays(y,D,R){for(const q of y){const ie=q?.delay;if(ie){const ve="number"==typeof ie?ie:Jr(Xs(ie,q?.params??{},D.errors));R.delayNextStep(ve)}}}_visitSubInstructions(y,D,R){let ie=D.currentTimeline.currentTime;const ve=null!=R.duration?Jr(R.duration):null,Se=null!=R.delay?Jr(R.delay):null;return 0!==ve&&y.forEach(Ue=>{const et=D.appendInstructionToTimeline(Ue,ve,Se);ie=Math.max(ie,et.duration+et.delay)}),ie}visitReference(y,D){D.updateOptions(y.options,!0),Ge(this,y.animation,D),D.previousNode=y}visitSequence(y,D){const R=D.subContextCount;let q=D;const ie=y.options;if(ie&&(ie.params||ie.delay)&&(q=D.createSubContext(ie),q.transformIntoNewTimeline(),null!=ie.delay)){6==q.previousNode.type&&(q.currentTimeline.snapshotCurrentStyles(),q.previousNode=mi);const ve=Jr(ie.delay);q.delayNextStep(ve)}y.steps.length&&(y.steps.forEach(ve=>Ge(this,ve,q)),q.currentTimeline.applyStylesToKeyframe(),q.subContextCount>R&&q.transformIntoNewTimeline()),D.previousNode=y}visitGroup(y,D){const R=[];let q=D.currentTimeline.currentTime;const ie=y.options&&y.options.delay?Jr(y.options.delay):0;y.steps.forEach(ve=>{const Se=D.createSubContext(y.options);ie&&Se.delayNextStep(ie),Ge(this,ve,Se),q=Math.max(q,Se.currentTimeline.currentTime),R.push(Se.currentTimeline)}),R.forEach(ve=>D.currentTimeline.mergeTimelineCollectedStyles(ve)),D.transformIntoNewTimeline(q),D.previousNode=y}_visitTiming(y,D){if(y.dynamic){const R=y.strValue;return Hi(D.params?Xs(R,D.params,D.errors):R,D.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,D){const R=D.currentAnimateTimings=this._visitTiming(y.timings,D),q=D.currentTimeline;R.delay&&(D.incrementTime(R.delay),q.snapshotCurrentStyles());const ie=y.style;5==ie.type?this.visitKeyframes(ie,D):(D.incrementTime(R.duration),this.visitStyle(ie,D),q.applyStylesToKeyframe()),D.currentAnimateTimings=null,D.previousNode=y}visitStyle(y,D){const R=D.currentTimeline,q=D.currentAnimateTimings;!q&&R.hasCurrentStyleProperties()&&R.forwardFrame();const ie=q&&q.easing||y.easing;y.isEmptyStep?R.applyEmptyStep(ie):R.setStyles(y.styles,ie,D.errors,D.options),D.previousNode=y}visitKeyframes(y,D){const R=D.currentAnimateTimings,q=D.currentTimeline.duration,ie=R.duration,Se=D.createSubContext().currentTimeline;Se.easing=R.easing,y.styles.forEach(Ue=>{Se.forwardTime((Ue.offset||0)*ie),Se.setStyles(Ue.styles,Ue.easing,D.errors,D.options),Se.applyStylesToKeyframe()}),D.currentTimeline.mergeTimelineCollectedStyles(Se),D.transformIntoNewTimeline(q+ie),D.previousNode=y}visitQuery(y,D){const R=D.currentTimeline.currentTime,q=y.options||{},ie=q.delay?Jr(q.delay):0;ie&&(6===D.previousNode.type||0==R&&D.currentTimeline.hasCurrentStyleProperties())&&(D.currentTimeline.snapshotCurrentStyles(),D.previousNode=mi);let ve=R;const Se=D.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!q.optional,D.errors);D.currentQueryTotal=Se.length;let Ue=null;Se.forEach((et,sn)=>{D.currentQueryIndex=sn;const cn=D.createSubContext(y.options,et);ie&&cn.delayNextStep(ie),et===D.element&&(Ue=cn.currentTimeline),Ge(this,y.animation,cn),cn.currentTimeline.applyStylesToKeyframe(),ve=Math.max(ve,cn.currentTimeline.currentTime)}),D.currentQueryIndex=0,D.currentQueryTotal=0,D.transformIntoNewTimeline(ve),Ue&&(D.currentTimeline.mergeTimelineCollectedStyles(Ue),D.currentTimeline.snapshotCurrentStyles()),D.previousNode=y}visitStagger(y,D){const R=D.parentContext,q=D.currentTimeline,ie=y.timings,ve=Math.abs(ie.duration),Se=ve*(D.currentQueryTotal-1);let Ue=ve*D.currentQueryIndex;switch(ie.duration<0?"reverse":ie.easing){case"reverse":Ue=Se-Ue;break;case"full":Ue=R.currentStaggerTime}const sn=D.currentTimeline;Ue&&sn.delayNextStep(Ue);const cn=sn.currentTime;Ge(this,y.animation,D),D.previousNode=y,R.currentStaggerTime=q.currentTime-cn+(q.startTime-R.currentTimeline.startTime)}}const mi={};class _s{constructor(y,D,R,q,ie,ve,Se,Ue){this._driver=y,this.element=D,this.subInstructions=R,this._enterClassName=q,this._leaveClassName=ie,this.errors=ve,this.timelines=Se,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ue||new Ii(this._driver,D,0),Se.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,D){if(!y)return;const R=y;let q=this.options;null!=R.duration&&(q.duration=Jr(R.duration)),null!=R.delay&&(q.delay=Jr(R.delay));const ie=R.params;if(ie){let ve=q.params;ve||(ve=this.options.params={}),Object.keys(ie).forEach(Se=>{(!D||!ve.hasOwnProperty(Se))&&(ve[Se]=Xs(ie[Se],ve,this.errors))})}}_copyOptions(){const y={};if(this.options){const D=this.options.params;if(D){const R=y.params={};Object.keys(D).forEach(q=>{R[q]=D[q]})}}return y}createSubContext(y=null,D,R){const q=D||this.element,ie=new _s(this._driver,q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(q,R||0));return ie.previousNode=this.previousNode,ie.currentAnimateTimings=this.currentAnimateTimings,ie.options=this._copyOptions(),ie.updateOptions(y),ie.currentQueryIndex=this.currentQueryIndex,ie.currentQueryTotal=this.currentQueryTotal,ie.parentContext=this,this.subContextCount++,ie}transformIntoNewTimeline(y){return this.previousNode=mi,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,D,R){const q={duration:D??y.duration,delay:this.currentTimeline.currentTime+(R??0)+y.delay,easing:""},ie=new xs(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,q,y.stretchStartingKeyframe);return this.timelines.push(ie),q}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,D,R,q,ie,ve){let Se=[];if(q&&Se.push(this.element),y.length>0){y=(y=y.replace(_n,"."+this._enterClassName)).replace(gi,"."+this._leaveClassName);let et=this._driver.query(this.element,y,1!=R);0!==R&&(et=R<0?et.slice(et.length+R,et.length):et.slice(0,R)),Se.push(...et)}return!ie&&0==Se.length&&ve.push(function ke(U){return new we.vHH(3014,!1)}()),Se}}class Ii{constructor(y,D,R,q){this._driver=y,this.element=D,this.startTime=R,this._elementTimelineStylesLookup=q,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(D),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(D,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const D=1===this._keyframes.size&&this._pendingStyles.size;this.duration||D?(this.forwardTime(this.currentTime+y),D&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,D){return this.applyStylesToKeyframe(),new Ii(this._driver,y,D||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,D){this._localTimelineStyles.set(y,D),this._globalTimelineStyles.set(y,D),this._styleSummary.set(y,{time:this.currentTime,value:D})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[D,R]of this._globalTimelineStyles)this._backFill.set(D,R||st),this._currentKeyframe.set(D,st);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,D,R,q){D&&this._previousKeyframe.set("easing",D);const ie=q&&q.params||{},ve=function sr(U,y){const D=new Map;let R;return U.forEach(q=>{if("*"===q){R=R||y.keys();for(let ie of R)D.set(ie,st)}else oi(q,D)}),D}(y,this._globalTimelineStyles);for(let[Se,Ue]of ve){const et=Xs(Ue,ie,R);this._pendingStyles.set(Se,et),this._localTimelineStyles.has(Se)||this._backFill.set(Se,this._globalTimelineStyles.get(Se)??st),this._updateStyle(Se,et)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,D)=>{this._currentKeyframe.set(D,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,D)=>{this._currentKeyframe.has(D)||this._currentKeyframe.set(D,y)}))}snapshotCurrentStyles(){for(let[y,D]of this._localTimelineStyles)this._pendingStyles.set(y,D),this._updateStyle(y,D)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let D in this._currentKeyframe)y.push(D);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((D,R)=>{const q=this._styleSummary.get(R);(!q||D.time>q.time)&&this._updateStyle(R,D.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,D=new Set,R=1===this._keyframes.size&&0===this.duration;let q=[];this._keyframes.forEach((Se,Ue)=>{const et=oi(Se,new Map,this._backFill);et.forEach((sn,cn)=>{"!"===sn?y.add(cn):sn===st&&D.add(cn)}),R||et.set("offset",Ue/this.duration),q.push(et)});const ie=y.size?gs(y.values()):[],ve=D.size?gs(D.values()):[];if(R){const Se=q[0],Ue=new Map(Se);Se.set("offset",0),Ue.set("offset",1),q=[Se,Ue]}return ts(this.element,q,ie,ve,this.duration,this.startTime,this.easing,!1)}}class xs extends Ii{constructor(y,D,R,q,ie,ve,Se=!1){super(y,D,ve.delay),this.keyframes=R,this.preStyleProps=q,this.postStyleProps=ie,this._stretchStartingKeyframe=Se,this.timings={duration:ve.duration,delay:ve.delay,easing:ve.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:D,duration:R,easing:q}=this.timings;if(this._stretchStartingKeyframe&&D){const ie=[],ve=R+D,Se=D/ve,Ue=oi(y[0]);Ue.set("offset",0),ie.push(Ue);const et=oi(y[0]);et.set("offset",To(Se)),ie.push(et);const sn=y.length-1;for(let cn=1;cn<=sn;cn++){let it=oi(y[cn]);const Dn=it.get("offset");it.set("offset",To((D+Dn*R)/ve)),ie.push(it)}R=ve,D=0,q="",y=ie}return ts(this.element,y,this.preStyleProps,this.postStyleProps,R,D,q,!0)}}function To(U,y=3){const D=Math.pow(10,y-1);return Math.round(U*D)/D}class zo{}const ai=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Do extends zo{normalizePropertyName(y,D){return $s(y)}normalizeStyleValue(y,D,R,q){let ie="";const ve=R.toString().trim();if(ai.has(D)&&0!==R&&"0"!==R)if("number"==typeof R)ie="px";else{const Se=R.match(/^[+-]?[\d\.]+([a-z]*)$/);Se&&0==Se[1].length&&q.push(function ft(U,y){return new we.vHH(3005,!1)}())}return ve+ie}}function Rs(U,y,D,R,q,ie,ve,Se,Ue,et,sn,cn,it){return{type:0,element:U,triggerName:y,isRemovalTransition:q,fromState:D,fromStyles:ie,toState:R,toStyles:ve,timelines:Se,queriedElements:Ue,preStyleProps:et,postStyleProps:sn,totalTime:cn,errors:it}}const ji={};class zi{constructor(y,D,R){this._triggerName=y,this.ast=D,this._stateStyles=R}match(y,D,R,q){return function So(U,y,D,R,q){return U.some(ie=>ie(y,D,R,q))}(this.ast.matchers,y,D,R,q)}buildStyles(y,D,R){let q=this._stateStyles.get("*");return void 0!==y&&(q=this._stateStyles.get(y?.toString())||q),q?q.buildStyles(D,R):new Map}build(y,D,R,q,ie,ve,Se,Ue,et,sn){const cn=[],it=this.ast.options&&this.ast.options.params||ji,En=this.buildStyles(R,Se&&Se.params||ji,cn),$n=Ue&&Ue.params||ji,en=this.buildStyles(q,$n,cn),In=new Set,Ri=new Map,$t=new Map,pt="void"===q,Kt={params:Fs($n,it),delay:this.ast.options?.delay},yi=sn?[]:rr(y,D,this.ast.animation,ie,ve,En,en,Kt,et,cn);let Ns=0;if(yi.forEach(Li=>{Ns=Math.max(Li.duration+Li.delay,Ns)}),cn.length)return Rs(D,this._triggerName,R,q,pt,En,en,[],[],Ri,$t,Ns,cn);yi.forEach(Li=>{const kl=Li.element,Ws=yt(Ri,kl,new Set);Li.preStyleProps.forEach(Jo=>Ws.add(Jo));const Ma=yt($t,kl,new Set);Li.postStyleProps.forEach(Jo=>Ma.add(Jo)),kl!==D&&In.add(kl)});const fa=gs(In.values());return Rs(D,this._triggerName,R,q,pt,En,en,yi,fa,Ri,$t,Ns)}}function Fs(U,y){const D=Bi(y);for(const R in U)U.hasOwnProperty(R)&&null!=U[R]&&(D[R]=U[R]);return D}class no{constructor(y,D,R){this.styles=y,this.defaultParams=D,this.normalizer=R}buildStyles(y,D){const R=new Map,q=Bi(this.defaultParams);return Object.keys(y).forEach(ie=>{const ve=y[ie];null!==ve&&(q[ie]=ve)}),this.styles.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((ve,Se)=>{ve&&(ve=Xs(ve,q,D));const Ue=this.normalizer.normalizePropertyName(Se,D);ve=this.normalizer.normalizeStyleValue(Se,Ue,ve,D),R.set(Se,ve)})}),R}}class Fr{constructor(y,D,R){this.name=y,this.ast=D,this._normalizer=R,this.transitionFactories=[],this.states=new Map,D.states.forEach(q=>{this.states.set(q.name,new no(q.style,q.options&&q.options.params||{},R))}),da(this.states,"true","1"),da(this.states,"false","0"),D.transitions.forEach(q=>{this.transitionFactories.push(new zi(y,q,this.states))}),this.fallbackTransition=function va(U,y,D){return new zi(U,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ve,Se)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,D,R,q){return this.transitionFactories.find(ve=>ve.match(y,D,R,q))||null}matchStyles(y,D,R){return this.fallbackTransition.buildStyles(y,D,R)}}function da(U,y,D){U.has(y)?U.has(D)||U.set(D,U.get(y)):U.has(D)&&U.set(y,U.get(D))}const Ea=new ki;class ys{constructor(y,D,R){this.bodyNode=y,this._driver=D,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,D){const R=[],ie=No(this._driver,D,R,[]);if(R.length)throw function Wt(U){return new we.vHH(3503,!1)}();this._animations.set(y,ie)}_buildPlayer(y,D,R){const q=y.element,ie=xr(this._normalizer,y.keyframes,D,R);return this._driver.animate(q,ie,y.duration,y.delay,y.easing,[],!0)}create(y,D,R={}){const q=[],ie=this._animations.get(y);let ve;const Se=new Map;if(ie?(ve=rr(this._driver,D,ie,mr,Br,new Map,new Map,R,Ea,q),ve.forEach(sn=>{const cn=yt(Se,sn.element,new Map);sn.postStyleProps.forEach(it=>cn.set(it,null))})):(q.push(function rn(){return new we.vHH(3300,!1)}()),ve=[]),q.length)throw function kn(U){return new we.vHH(3504,!1)}();Se.forEach((sn,cn)=>{sn.forEach((it,Dn)=>{sn.set(Dn,this._driver.computeStyle(cn,Dn,st))})});const et=Wr(ve.map(sn=>{const cn=Se.get(sn.element);return this._buildPlayer(sn,new Map,cn)}));return this._playersById.set(y,et),et.onDestroy(()=>this.destroy(y)),this.players.push(et),et}destroy(y){const D=this._getPlayer(y);D.destroy(),this._playersById.delete(y);const R=this.players.indexOf(D);R>=0&&this.players.splice(R,1)}_getPlayer(y){const D=this._playersById.get(y);if(!D)throw function nr(U){return new we.vHH(3301,!1)}();return D}listen(y,D,R,q){const ie=ui(D,"","","");return Ai(this._getPlayer(y),R,ie,q),()=>{}}command(y,D,R,q){if("register"==R)return void this.register(y,q[0]);if("create"==R)return void this.create(y,D,q[0]||{});const ie=this._getPlayer(y);switch(R){case"play":ie.play();break;case"pause":ie.pause();break;case"reset":ie.reset();break;case"restart":ie.restart();break;case"finish":ie.finish();break;case"init":ie.init();break;case"setPosition":ie.setPosition(parseFloat(q[0]));break;case"destroy":this.destroy(y)}}}const ns="ng-animate-queued",fo="ng-animate-disabled",$i=[],rs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ro={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qr="__ng_removed";class ds{get params(){return this.options.params}constructor(y,D=""){this.namespaceId=D;const R=y&&y.hasOwnProperty("value");if(this.value=function Wo(U){return U??null}(R?y.value:y),R){const ie=Bi(y);delete ie.value,this.options=ie}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const D=y.params;if(D){const R=this.options.params;Object.keys(D).forEach(q=>{null==R[q]&&(R[q]=D[q])})}}}const ko="void",_i=new ds(ko);class ja{constructor(y,D,R){this.id=y,this.hostElement=D,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,po(D,this._hostClassName)}listen(y,D,R,q){if(!this._triggers.has(D))throw function Lr(U,y){return new we.vHH(3302,!1)}();if(null==R||0==R.length)throw function qr(U){return new we.vHH(3303,!1)}();if(!function ul(U){return"start"==U||"done"==U}(R))throw function cr(U,y){return new we.vHH(3400,!1)}();const ie=yt(this._elementListeners,y,[]),ve={name:D,phase:R,callback:q};ie.push(ve);const Se=yt(this._engine.statesByElement,y,new Map);return Se.has(D)||(po(y,Ei),po(y,Ei+"-"+D),Se.set(D,_i)),()=>{this._engine.afterFlush(()=>{const Ue=ie.indexOf(ve);Ue>=0&&ie.splice(Ue,1),this._triggers.has(D)||Se.delete(D)})}}register(y,D){return!this._triggers.has(y)&&(this._triggers.set(y,D),!0)}_getTrigger(y){const D=this._triggers.get(y);if(!D)throw function Vr(U){return new we.vHH(3401,!1)}();return D}trigger(y,D,R,q=!0){const ie=this._getTrigger(D),ve=new Ca(this.id,D,y);let Se=this._engine.statesByElement.get(y);Se||(po(y,Ei),po(y,Ei+"-"+D),this._engine.statesByElement.set(y,Se=new Map));let Ue=Se.get(D);const et=new ds(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&Ue&&et.absorbOptions(Ue.options),Se.set(D,et),Ue||(Ue=_i),et.value!==ko&&Ue.value===et.value){if(!function De(U,y){const D=Object.keys(U),R=Object.keys(y);if(D.length!=R.length)return!1;for(let q=0;q<D.length;q++){const ie=D[q];if(!y.hasOwnProperty(ie)||U[ie]!==y[ie])return!1}return!0}(Ue.params,et.params)){const $n=[],en=ie.matchStyles(Ue.value,Ue.params,$n),In=ie.matchStyles(et.value,et.params,$n);$n.length?this._engine.reportError($n):this._engine.afterFlush(()=>{ks(y,en),Gi(y,In)})}return}const it=yt(this._engine.playersByElement,y,[]);it.forEach($n=>{$n.namespaceId==this.id&&$n.triggerName==D&&$n.queued&&$n.destroy()});let Dn=ie.matchTransition(Ue.value,et.value,y,et.params),En=!1;if(!Dn){if(!q)return;Dn=ie.fallbackTransition,En=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:D,transition:Dn,fromState:Ue,toState:et,player:ve,isFallbackTransition:En}),En||(po(y,ns),ve.onStart(()=>{J(y,ns)})),ve.onDone(()=>{let $n=this.players.indexOf(ve);$n>=0&&this.players.splice($n,1);const en=this._engine.playersByElement.get(y);if(en){let In=en.indexOf(ve);In>=0&&en.splice(In,1)}}),this.players.push(ve),it.push(ve),ve}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(D=>D.delete(y)),this._elementListeners.forEach((D,R)=>{this._elementListeners.set(R,D.filter(q=>q.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const D=this._engine.playersByElement.get(y);D&&(D.forEach(R=>R.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,D){const R=this._engine.driver.query(y,Ci,!0);R.forEach(q=>{if(q[Qr])return;const ie=this._engine.fetchNamespacesByElement(q);ie.size?ie.forEach(ve=>ve.triggerLeaveAnimation(q,D,!1,!0)):this.clearElementCache(q)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(q=>this.clearElementCache(q)))}triggerLeaveAnimation(y,D,R,q){const ie=this._engine.statesByElement.get(y),ve=new Map;if(ie){const Se=[];if(ie.forEach((Ue,et)=>{if(ve.set(et,Ue.value),this._triggers.has(et)){const sn=this.trigger(y,et,ko,q);sn&&Se.push(sn)}}),Se.length)return this._engine.markElementAsRemoved(this.id,y,!0,D,ve),R&&Wr(Se).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const D=this._elementListeners.get(y),R=this._engine.statesByElement.get(y);if(D&&R){const q=new Set;D.forEach(ie=>{const ve=ie.name;if(q.has(ve))return;q.add(ve);const Ue=this._triggers.get(ve).fallbackTransition,et=R.get(ve)||_i,sn=new ds(ko),cn=new Ca(this.id,ve,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:ve,transition:Ue,fromState:et,toState:sn,player:cn,isFallbackTransition:!0})})}}removeNode(y,D){const R=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,D),this.triggerLeaveAnimation(y,D,!0))return;let q=!1;if(R.totalAnimations){const ie=R.players.length?R.playersByQueriedElement.get(y):[];if(ie&&ie.length)q=!0;else{let ve=y;for(;ve=ve.parentNode;)if(R.statesByElement.get(ve)){q=!0;break}}}if(this.prepareLeaveAnimationListeners(y),q)R.markElementAsRemoved(this.id,y,!1,D);else{const ie=y[Qr];(!ie||ie===rs)&&(R.afterFlush(()=>this.clearElementCache(y)),R.destroyInnerAnimations(y),R._onRemovalComplete(y,D))}}insertNode(y,D){po(y,this._hostClassName)}drainQueuedTransitions(y){const D=[];return this._queue.forEach(R=>{const q=R.player;if(q.destroyed)return;const ie=R.element,ve=this._elementListeners.get(ie);ve&&ve.forEach(Se=>{if(Se.name==R.triggerName){const Ue=ui(ie,R.triggerName,R.fromState.value,R.toState.value);Ue._data=y,Ai(R.player,Se.phase,Ue,Se.callback)}}),q.markedForDestroy?this._engine.afterFlush(()=>{q.destroy()}):D.push(R)}),this._queue=[],D.sort((R,q)=>{const ie=R.transition.ast.depCount,ve=q.transition.ast.depCount;return 0==ie||0==ve?ie-ve:this._engine.driver.containsElement(R.element,q.element)?1:-1})}destroy(y){this.players.forEach(D=>D.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class $a{_onRemovalComplete(y,D){this.onRemovalComplete(y,D)}constructor(y,D,R){this.bodyNode=y,this.driver=D,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(q,ie)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(D=>{D.players.forEach(R=>{R.queued&&y.push(R)})}),y}createNamespace(y,D){const R=new ja(y,D,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,D)?this._balanceNamespaceList(R,D):(this.newHostElements.set(D,R),this.collectEnterElement(D)),this._namespaceLookup[y]=R}_balanceNamespaceList(y,D){const R=this._namespaceList,q=this.namespacesByHostElement;if(R.length-1>=0){let ve=!1,Se=this.driver.getParentElement(D);for(;Se;){const Ue=q.get(Se);if(Ue){const et=R.indexOf(Ue);R.splice(et+1,0,y),ve=!0;break}Se=this.driver.getParentElement(Se)}ve||R.unshift(y)}else R.push(y);return q.set(D,y),y}register(y,D){let R=this._namespaceLookup[y];return R||(R=this.createNamespace(y,D)),R}registerTrigger(y,D,R){let q=this._namespaceLookup[y];q&&q.register(D,R)&&this.totalAnimations++}destroy(y,D){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const R=this._fetchNamespace(y);this.namespacesByHostElement.delete(R.hostElement);const q=this._namespaceList.indexOf(R);q>=0&&this._namespaceList.splice(q,1),R.destroy(D),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const D=new Set,R=this.statesByElement.get(y);if(R)for(let q of R.values())if(q.namespaceId){const ie=this._fetchNamespace(q.namespaceId);ie&&D.add(ie)}return D}trigger(y,D,R,q){if(Os(D)){const ie=this._fetchNamespace(y);if(ie)return ie.trigger(D,R,q),!0}return!1}insertNode(y,D,R,q){if(!Os(D))return;const ie=D[Qr];if(ie&&ie.setForRemoval){ie.setForRemoval=!1,ie.setForMove=!0;const ve=this.collectedLeaveElements.indexOf(D);ve>=0&&this.collectedLeaveElements.splice(ve,1)}if(y){const ve=this._fetchNamespace(y);ve&&ve.insertNode(D,R)}q&&this.collectEnterElement(D)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,D){D?this.disabledNodes.has(y)||(this.disabledNodes.add(y),po(y,fo)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),J(y,fo))}removeNode(y,D,R){if(Os(D)){const q=y?this._fetchNamespace(y):null;q?q.removeNode(D,R):this.markElementAsRemoved(y,D,!1,R);const ie=this.namespacesByHostElement.get(D);ie&&ie.id!==y&&ie.removeNode(D,R)}else this._onRemovalComplete(D,R)}markElementAsRemoved(y,D,R,q,ie){this.collectedLeaveElements.push(D),D[Qr]={namespaceId:y,setForRemoval:q,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:ie}}listen(y,D,R,q,ie){return Os(D)?this._fetchNamespace(y).listen(D,R,q,ie):()=>{}}_buildInstruction(y,D,R,q,ie){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,R,q,y.fromState.options,y.toState.options,D,ie)}destroyInnerAnimations(y){let D=this.driver.query(y,Ci,!0);D.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(D=this.driver.query(y,Xi,!0),D.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(y){const D=this.playersByElement.get(y);D&&D.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(y){const D=this.playersByQueriedElement.get(y);D&&D.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return Wr(this.players).onDone(()=>y());y()})}processLeaveNode(y){const D=y[Qr];if(D&&D.setForRemoval){if(y[Qr]=rs,D.namespaceId){this.destroyInnerAnimations(y);const R=this._fetchNamespace(D.namespaceId);R&&R.clearElementCache(y)}this._onRemovalComplete(y,D.setForRemoval)}y.classList?.contains(fo)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(y=-1){let D=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,q)=>this._balanceNamespaceList(R,q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)po(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{D=this._flushAnimations(R,y)}finally{for(let q=0;q<R.length;q++)R[q]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],D.length?Wr(D).onDone(()=>{R.forEach(q=>q())}):R.forEach(q=>q())}}reportError(y){throw function Cr(U){return new we.vHH(3402,!1)}()}_flushAnimations(y,D){const R=new ki,q=[],ie=new Map,ve=[],Se=new Map,Ue=new Map,et=new Map,sn=new Set;this.disabledNodes.forEach(ir=>{sn.add(ir);const tr=this.driver.query(ir,".ng-animate-queued",!0);for(let Qt=0;Qt<tr.length;Qt++)sn.add(tr[Qt])});const cn=this.bodyNode,it=Array.from(this.statesByElement.keys()),Dn=zs(it,this.collectedEnterElements),En=new Map;let $n=0;Dn.forEach((ir,tr)=>{const Qt=mr+$n++;En.set(tr,Qt),ir.forEach(Zr=>po(Zr,Qt))});const en=[],In=new Set,Ri=new Set;for(let ir=0;ir<this.collectedLeaveElements.length;ir++){const tr=this.collectedLeaveElements[ir],Qt=tr[Qr];Qt&&Qt.setForRemoval&&(en.push(tr),In.add(tr),Qt.hasAnimation?this.driver.query(tr,".ng-star-inserted",!0).forEach(Zr=>In.add(Zr)):Ri.add(tr))}const $t=new Map,pt=zs(it,Array.from(In));pt.forEach((ir,tr)=>{const Qt=Br+$n++;$t.set(tr,Qt),ir.forEach(Zr=>po(Zr,Qt))}),y.push(()=>{Dn.forEach((ir,tr)=>{const Qt=En.get(tr);ir.forEach(Zr=>J(Zr,Qt))}),pt.forEach((ir,tr)=>{const Qt=$t.get(tr);ir.forEach(Zr=>J(Zr,Qt))}),en.forEach(ir=>{this.processLeaveNode(ir)})});const Kt=[],yi=[];for(let ir=this._namespaceList.length-1;ir>=0;ir--)this._namespaceList[ir].drainQueuedTransitions(D).forEach(Qt=>{const Zr=Qt.player,ri=Qt.element;if(Kt.push(Zr),this.collectedEnterElements.length){const Ye=ri[Qr];if(Ye&&Ye.setForMove){if(Ye.previousTriggersValues&&Ye.previousTriggersValues.has(Qt.triggerName)){const Nr=Ye.previousTriggersValues.get(Qt.triggerName),so=this.statesByElement.get(Qt.element);if(so&&so.has(Qt.triggerName)){const Pa=so.get(Qt.triggerName);Pa.value=Nr,so.set(Qt.triggerName,Pa)}}return void Zr.destroy()}}const Xr=!cn||!this.driver.containsElement(cn,ri),Nn=$t.get(ri),Vo=En.get(ri),lr=this._buildInstruction(Qt,R,Vo,Nn,Xr);if(lr.errors&&lr.errors.length)return void yi.push(lr);if(Xr)return Zr.onStart(()=>ks(ri,lr.fromStyles)),Zr.onDestroy(()=>Gi(ri,lr.toStyles)),void q.push(Zr);if(Qt.isFallbackTransition)return Zr.onStart(()=>ks(ri,lr.fromStyles)),Zr.onDestroy(()=>Gi(ri,lr.toStyles)),void q.push(Zr);const Ic=[];lr.timelines.forEach(Ye=>{Ye.stretchStartingKeyframe=!0,this.disabledNodes.has(Ye.element)||Ic.push(Ye)}),lr.timelines=Ic,R.append(ri,lr.timelines),ve.push({instruction:lr,player:Zr,element:ri}),lr.queriedElements.forEach(Ye=>yt(Se,Ye,[]).push(Zr)),lr.preStyleProps.forEach((Ye,Nr)=>{if(Ye.size){let so=Ue.get(Nr);so||Ue.set(Nr,so=new Set),Ye.forEach((Pa,fs)=>so.add(fs))}}),lr.postStyleProps.forEach((Ye,Nr)=>{let so=et.get(Nr);so||et.set(Nr,so=new Set),Ye.forEach((Pa,fs)=>so.add(fs))})});if(yi.length){const ir=[];yi.forEach(tr=>{ir.push(function Vi(U,y){return new we.vHH(3505,!1)}())}),Kt.forEach(tr=>tr.destroy()),this.reportError(ir)}const Ns=new Map,fa=new Map;ve.forEach(ir=>{const tr=ir.element;R.has(tr)&&(fa.set(tr,tr),this._beforeAnimationBuild(ir.player.namespaceId,ir.instruction,Ns))}),q.forEach(ir=>{const tr=ir.element;this._getPreviousPlayers(tr,!1,ir.namespaceId,ir.triggerName,null).forEach(Zr=>{yt(Ns,tr,[]).push(Zr),Zr.destroy()})});const Li=en.filter(ir=>Zt(ir,Ue,et)),kl=new Map;hi(kl,this.driver,Ri,et,st).forEach(ir=>{Zt(ir,Ue,et)&&Li.push(ir)});const Ma=new Map;Dn.forEach((ir,tr)=>{hi(Ma,this.driver,new Set(ir),Ue,"!")}),Li.forEach(ir=>{const tr=kl.get(ir),Qt=Ma.get(ir);kl.set(ir,new Map([...tr?.entries()??[],...Qt?.entries()??[]]))});const Jo=[],Er=[],jc={};ve.forEach(ir=>{const{element:tr,player:Qt,instruction:Zr}=ir;if(R.has(tr)){if(sn.has(tr))return Qt.onDestroy(()=>Gi(tr,Zr.toStyles)),Qt.disabled=!0,Qt.overrideTotalTime(Zr.totalTime),void q.push(Qt);let ri=jc;if(fa.size>1){let Nn=tr;const Vo=[];for(;Nn=Nn.parentNode;){const lr=fa.get(Nn);if(lr){ri=lr;break}Vo.push(Nn)}Vo.forEach(lr=>fa.set(lr,ri))}const Xr=this._buildAnimation(Qt.namespaceId,Zr,Ns,ie,Ma,kl);if(Qt.setRealPlayer(Xr),ri===jc)Jo.push(Qt);else{const Nn=this.playersByElement.get(ri);Nn&&Nn.length&&(Qt.parentPlayer=Wr(Nn)),q.push(Qt)}}else ks(tr,Zr.fromStyles),Qt.onDestroy(()=>Gi(tr,Zr.toStyles)),Er.push(Qt),sn.has(tr)&&q.push(Qt)}),Er.forEach(ir=>{const tr=ie.get(ir.element);if(tr&&tr.length){const Qt=Wr(tr);ir.setRealPlayer(Qt)}}),q.forEach(ir=>{ir.parentPlayer?ir.syncPlayerEvents(ir.parentPlayer):ir.destroy()});for(let ir=0;ir<en.length;ir++){const tr=en[ir],Qt=tr[Qr];if(J(tr,Br),Qt&&Qt.hasAnimation)continue;let Zr=[];if(Se.size){let Xr=Se.get(tr);Xr&&Xr.length&&Zr.push(...Xr);let Nn=this.driver.query(tr,Xi,!0);for(let Vo=0;Vo<Nn.length;Vo++){let lr=Se.get(Nn[Vo]);lr&&lr.length&&Zr.push(...lr)}}const ri=Zr.filter(Xr=>!Xr.destroyed);ri.length?z(this,tr,ri):this.processLeaveNode(tr)}return en.length=0,Jo.forEach(ir=>{this.players.push(ir),ir.onDone(()=>{ir.destroy();const tr=this.players.indexOf(ir);this.players.splice(tr,1)}),ir.play()}),Jo}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,D,R,q,ie){let ve=[];if(D){const Se=this.playersByQueriedElement.get(y);Se&&(ve=Se)}else{const Se=this.playersByElement.get(y);if(Se){const Ue=!ie||ie==ko;Se.forEach(et=>{et.queued||!Ue&&et.triggerName!=q||ve.push(et)})}}return(R||q)&&(ve=ve.filter(Se=>!(R&&R!=Se.namespaceId||q&&q!=Se.triggerName))),ve}_beforeAnimationBuild(y,D,R){const ie=D.element,ve=D.isRemovalTransition?void 0:y,Se=D.isRemovalTransition?void 0:D.triggerName;for(const Ue of D.timelines){const et=Ue.element,sn=et!==ie,cn=yt(R,et,[]);this._getPreviousPlayers(et,sn,ve,Se,D.toState).forEach(Dn=>{const En=Dn.getRealPlayer();En.beforeDestroy&&En.beforeDestroy(),Dn.destroy(),cn.push(Dn)})}ks(ie,D.fromStyles)}_buildAnimation(y,D,R,q,ie,ve){const Se=D.triggerName,Ue=D.element,et=[],sn=new Set,cn=new Set,it=D.timelines.map(En=>{const $n=En.element;sn.add($n);const en=$n[Qr];if(en&&en.removedBeforeQueried)return new Bn(En.duration,En.delay);const In=$n!==Ue,Ri=function pe(U){const y=[];return Q(U,y),y}((R.get($n)||$i).map(Ns=>Ns.getRealPlayer())).filter(Ns=>!!Ns.element&&Ns.element===$n),$t=ie.get($n),pt=ve.get($n),Kt=xr(this._normalizer,En.keyframes,$t,pt),yi=this._buildPlayer(En,Kt,Ri);if(En.subTimeline&&q&&cn.add($n),In){const Ns=new Ca(y,Se,$n);Ns.setRealPlayer(yi),et.push(Ns)}return yi});et.forEach(En=>{yt(this.playersByQueriedElement,En.element,[]).push(En),En.onDone(()=>function Za(U,y,D){let R=U.get(y);if(R){if(R.length){const q=R.indexOf(D);R.splice(q,1)}0==R.length&&U.delete(y)}return R}(this.playersByQueriedElement,En.element,En))}),sn.forEach(En=>po(En,Ji));const Dn=Wr(it);return Dn.onDestroy(()=>{sn.forEach(En=>J(En,Ji)),Gi(Ue,D.toStyles)}),cn.forEach(En=>{yt(q,En,[]).push(Dn)}),Dn}_buildPlayer(y,D,R){return D.length>0?this.driver.animate(y.element,D,y.duration,y.delay,y.easing,R):new Bn(y.duration,y.delay)}}class Ca{constructor(y,D,R){this.namespaceId=y,this.triggerName=D,this.element=R,this._player=new Bn,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((D,R)=>{D.forEach(q=>Ai(y,R,void 0,q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const D=this._player;D.triggerCallback&&y.onStart(()=>D.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,D){yt(this._queuedCallbacks,y,[]).push(D)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const D=this._player;D.triggerCallback&&D.triggerCallback(y)}}function Os(U){return U&&1===U.nodeType}function Ga(U,y){const D=U.style.display;return U.style.display=y??"none",D}function hi(U,y,D,R,q){const ie=[];D.forEach(Ue=>ie.push(Ga(Ue)));const ve=[];R.forEach((Ue,et)=>{const sn=new Map;Ue.forEach(cn=>{const it=y.computeStyle(et,cn,q);sn.set(cn,it),(!it||0==it.length)&&(et[Qr]=ro,ve.push(et))}),U.set(et,sn)});let Se=0;return D.forEach(Ue=>Ga(Ue,ie[Se++])),ve}function zs(U,y){const D=new Map;if(U.forEach(Se=>D.set(Se,[])),0==y.length)return D;const q=new Set(y),ie=new Map;function ve(Se){if(!Se)return 1;let Ue=ie.get(Se);if(Ue)return Ue;const et=Se.parentNode;return Ue=D.has(et)?et:q.has(et)?1:ve(et),ie.set(Se,Ue),Ue}return y.forEach(Se=>{const Ue=ve(Se);1!==Ue&&D.get(Ue).push(Se)}),D}function po(U,y){U.classList?.add(y)}function J(U,y){U.classList?.remove(y)}function z(U,y,D){Wr(D).onDone(()=>U.processLeaveNode(y))}function Q(U,y){for(let D=0;D<U.length;D++){const R=U[D];R instanceof mn?Q(R.players,y):y.push(R)}}function Zt(U,y,D){const R=D.get(U);if(!R)return!1;let q=y.get(U);return q?R.forEach(ie=>q.add(ie)):y.set(U,R),D.delete(U),!0}class Qn{constructor(y,D,R){this.bodyNode=y,this._driver=D,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(q,ie)=>{},this._transitionEngine=new $a(y,D,R),this._timelineEngine=new ys(y,D,R),this._transitionEngine.onRemovalComplete=(q,ie)=>this.onRemovalComplete(q,ie)}registerTrigger(y,D,R,q,ie){const ve=y+"-"+q;let Se=this._triggerCache[ve];if(!Se){const Ue=[],sn=No(this._driver,ie,Ue,[]);if(Ue.length)throw function or(U,y){return new we.vHH(3404,!1)}();Se=function Hs(U,y,D){return new Fr(U,y,D)}(q,sn,this._normalizer),this._triggerCache[ve]=Se}this._transitionEngine.registerTrigger(D,q,Se)}register(y,D){this._transitionEngine.register(y,D)}destroy(y,D){this._transitionEngine.destroy(y,D)}onInsert(y,D,R,q){this._transitionEngine.insertNode(y,D,R,q)}onRemove(y,D,R){this._transitionEngine.removeNode(y,D,R)}disableAnimations(y,D){this._transitionEngine.markElementAsDisabled(y,D)}process(y,D,R,q){if("@"==R.charAt(0)){const[ie,ve]=Fe(R);this._timelineEngine.command(ie,D,ve,q)}else this._transitionEngine.trigger(y,D,R,q)}listen(y,D,R,q,ie){if("@"==R.charAt(0)){const[ve,Se]=Fe(R);return this._timelineEngine.listen(ve,D,Se,ie)}return this._transitionEngine.listen(y,D,R,q,ie)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}let hs=(()=>{class y{constructor(R,q,ie){this._element=R,this._startStyles=q,this._endStyles=ie,this._state=0;let ve=y.initialStylesByElement.get(R);ve||y.initialStylesByElement.set(R,ve=new Map),this._initialStyles=ve}start(){this._state<1&&(this._startStyles&&Gi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gi(this._element,this._initialStyles),this._endStyles&&(Gi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(y.initialStylesByElement.delete(this._element),this._startStyles&&(ks(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ks(this._element,this._endStyles),this._endStyles=null),Gi(this._element,this._initialStyles),this._state=3)}}return y.initialStylesByElement=new WeakMap,y})();function vs(U){let y=null;return U.forEach((D,R)=>{(function Es(U){return"display"===U||"position"===U})(R)&&(y=y||new Map,y.set(R,D))}),y}class Ms{constructor(y,D,R,q){this.element=y,this.keyframes=D,this.options=R,this._specialStyles=q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const D=[];return y.forEach(R=>{D.push(Object.fromEntries(R))}),D}_triggerWebAnimation(y,D,R){return y.animate(this._convertKeyframesToObject(D),R)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,q)=>{"offset"!==q&&y.set(q,this._finished?R:ze(this.element,q))}),this.currentSnapshot=y}triggerCallback(y){const D="start"===y?this._onStartFns:this._onDoneFns;D.forEach(R=>R()),D.length=0}}class xa{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,D){return!1}containsElement(y,D){return Ce(y,D)}getParentElement(y){return ht(y)}query(y,D,R){return de(y,D,R)}computeStyle(y,D,R){return window.getComputedStyle(y)[D]}animate(y,D,R,q,ie,ve=[]){const Ue={duration:R,delay:q,fill:0==q?"both":"forwards"};ie&&(Ue.easing=ie);const et=new Map,sn=ve.filter(Dn=>Dn instanceof Ms);(function _a(U,y){return 0===U||0===y})(R,q)&&sn.forEach(Dn=>{Dn.currentSnapshot.forEach((En,$n)=>et.set($n,En))});let cn=function Zs(U){return U.length?U[0]instanceof Map?U:U.map(y=>es(y)):[]}(D).map(Dn=>oi(Dn));cn=function Qa(U,y,D){if(D.size&&y.length){let R=y[0],q=[];if(D.forEach((ie,ve)=>{R.has(ve)||q.push(ve),R.set(ve,ie)}),q.length)for(let ie=1;ie<y.length;ie++){let ve=y[ie];q.forEach(Se=>ve.set(Se,ze(U,Se)))}}return y}(y,cn,et);const it=function is(U,y){let D=null,R=null;return Array.isArray(y)&&y.length?(D=vs(y[0]),y.length>1&&(R=vs(y[y.length-1]))):y instanceof Map&&(D=vs(y)),D||R?new hs(U,D,R):null}(y,cn);return new Ms(y,cn,Ue,it)}}let io=(()=>{var U;class y extends Be{constructor(R,q){super(),this._nextAnimationId=0,this._renderer=R.createRenderer(q.body,{id:"0",encapsulation:we.ifc.None,styles:[],data:{animation:[]}})}build(R){const q=this._nextAnimationId.toString();this._nextAnimationId++;const ie=Array.isArray(R)?vn(R):R;return ws(this._renderer,null,q,"register",[ie]),new qi(q,this._renderer)}}return(U=y).\u0275fac=function(R){return new(R||U)(we.LFG(we.FYo),we.LFG(We.K0))},U.\u0275prov=we.Yz7({token:U,factory:U.\u0275fac}),y})();class qi extends jt{constructor(y,D){super(),this._id=y,this._renderer=D}create(y,D){return new ha(this._id,y,D||{},this._renderer)}}class ha{constructor(y,D,R,q){this.id=y,this.element=D,this._renderer=q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(y,D){return this._renderer.listen(this.element,`@@${this.id}:${y}`,D)}_command(y,...D){return ws(this._renderer,this.element,this.id,y,D)}onDone(y){this._listen("done",y)}onStart(y){this._listen("start",y)}onDestroy(y){this._listen("destroy",y)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(y){this._command("setPosition",y)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ws(U,y,D,R,q){return U.setProperty(y,`@@${D}:${R}`,q)}const Ra="@.disabled";let Ja=(()=>{var U;class y{constructor(R,q,ie){this.delegate=R,this.engine=q,this._zone=ie,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,q.onRemovalComplete=(ve,Se)=>{const Ue=Se?.parentNode(ve);Ue&&Se.removeChild(Ue,ve)}}createRenderer(R,q){const ve=this.delegate.createRenderer(R,q);if(!(R&&q&&q.data&&q.data.animation)){let cn=this._rendererCache.get(ve);return cn||(cn=new qo("",ve,this.engine,()=>this._rendererCache.delete(ve)),this._rendererCache.set(ve,cn)),cn}const Se=q.id,Ue=q.id+"-"+this._currentId;this._currentId++,this.engine.register(Ue,R);const et=cn=>{Array.isArray(cn)?cn.forEach(et):this.engine.registerTrigger(Se,Ue,R,cn.name,cn)};return q.data.animation.forEach(et),new Fo(this,Ue,ve,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(R,q,ie){R>=0&&R<this._microtaskId?this._zone.run(()=>q(ie)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ve=>{const[Se,Ue]=ve;Se(Ue)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([q,ie]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(U=y).\u0275fac=function(R){return new(R||U)(we.LFG(we.FYo),we.LFG(Qn),we.LFG(we.R0b))},U.\u0275prov=we.Yz7({token:U,factory:U.\u0275fac}),y})();class qo{constructor(y,D,R,q){this.namespaceId=y,this.delegate=D,this.engine=R,this._onDestroy=q}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,D){return this.delegate.createElement(y,D)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,D){this.delegate.appendChild(y,D),this.engine.onInsert(this.namespaceId,D,y,!1)}insertBefore(y,D,R,q=!0){this.delegate.insertBefore(y,D,R),this.engine.onInsert(this.namespaceId,D,y,q)}removeChild(y,D,R){this.engine.onRemove(this.namespaceId,D,this.delegate)}selectRootElement(y,D){return this.delegate.selectRootElement(y,D)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,D,R,q){this.delegate.setAttribute(y,D,R,q)}removeAttribute(y,D,R){this.delegate.removeAttribute(y,D,R)}addClass(y,D){this.delegate.addClass(y,D)}removeClass(y,D){this.delegate.removeClass(y,D)}setStyle(y,D,R,q){this.delegate.setStyle(y,D,R,q)}removeStyle(y,D,R){this.delegate.removeStyle(y,D,R)}setProperty(y,D,R){"@"==D.charAt(0)&&D==Ra?this.disableAnimations(y,!!R):this.delegate.setProperty(y,D,R)}setValue(y,D){this.delegate.setValue(y,D)}listen(y,D,R){return this.delegate.listen(y,D,R)}disableAnimations(y,D){this.engine.disableAnimations(y,D)}}class Fo extends qo{constructor(y,D,R,q,ie){super(D,R,q,ie),this.factory=y,this.namespaceId=D}setProperty(y,D,R){"@"==D.charAt(0)?"."==D.charAt(1)&&D==Ra?this.disableAnimations(y,R=void 0===R||!!R):this.engine.process(this.namespaceId,y,D.slice(1),R):this.delegate.setProperty(y,D,R)}listen(y,D,R){if("@"==D.charAt(0)){const q=function dl(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(y);let ie=D.slice(1),ve="";return"@"!=ie.charAt(0)&&([ie,ve]=function ba(U){const y=U.indexOf(".");return[U.substring(0,y),U.slice(y+1)]}(ie)),this.engine.listen(this.namespaceId,q,ie,ve,Se=>{this.factory.scheduleListenerCallback(Se._data||-1,R,Se)})}return this.delegate.listen(y,D,R)}}const ql=[{provide:Be,useClass:io},{provide:zo,useFactory:function Nl(){return new Do}},{provide:Qn,useClass:(()=>{var U;class y extends Qn{constructor(R,q,ie,ve){super(R.body,q,ie)}ngOnDestroy(){this.flush()}}return(U=y).\u0275fac=function(R){return new(R||U)(we.LFG(We.K0),we.LFG(qt),we.LFG(zo),we.LFG(we.z2F))},U.\u0275prov=we.Yz7({token:U,factory:U.\u0275fac}),y})()},{provide:we.FYo,useFactory:function Ls(U,y,D){return new Ja(U,y,D)},deps:[d.se,Qn,we.R0b]}],Ko=[{provide:qt,useFactory:()=>new xa},{provide:we.QbO,useValue:"BrowserAnimations"},...ql],Yo=[{provide:qt,useClass:Ot},{provide:we.QbO,useValue:"NoopAnimations"},...ql];let Qo=(()=>{var U;class y{static withConfig(R){return{ngModule:y,providers:R.disableAnimations?Yo:Ko}}}return(U=y).\u0275fac=function(R){return new(R||U)},U.\u0275mod=we.oAB({type:U}),U.\u0275inj=we.cJS({providers:Ko,imports:[d.b2]}),y})();function Ia(U){return(Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(U)}function Oa(U,y,D){return(y=function go(U){var y=function fl(U,y){if("object"!==Ia(U)||null===U)return U;var D=U[Symbol.toPrimitive];if(void 0!==D){var R=D.call(U,y||"default");if("object"!==Ia(R))return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(U)}(U,"string");return"symbol"===Ia(y)?y:String(y)}(y))in U?Object.defineProperty(U,y,{value:D,enumerable:!0,configurable:!0,writable:!0}):U[y]=D,U}const Zo=new we.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),pl=new we.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),Xa=new we.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let Co=(()=>{var U;class y{constructor(R){Oa(this,"swalProvider",void 0),Oa(this,"swalPromiseCache",void 0),this.swalProvider=R}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const R=function q(ve){return"function"==typeof ve&&void 0===ve.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=R.then(ve=>function ie(ve){return"function"==typeof ve}(ve)?ve:ve.default)}}return U=y,Oa(y,"\u0275fac",function(R){return new(R||U)(we.LFG(Zo))}),Oa(y,"\u0275prov",we.Yz7({token:U,factory:U.\u0275fac})),y})();function Te(){return W.e(519).then(W.t.bind(W,3519,19))}let H=(()=>{var U;class y{static forRoot(R={}){return{ngModule:y,providers:[Co,{provide:Zo,useValue:R.provideSwal||Te},{provide:pl,useValue:R.fireOnInit||!1},{provide:Xa,useValue:R.dismissOnDestroy||!0}]}}static forChild(R={}){return{ngModule:y,providers:[...R.provideSwal?[Co,{provide:Zo,useValue:R.provideSwal}]:[],...void 0!==R.fireOnInit?[{provide:pl,useValue:R.fireOnInit}]:[],...void 0!==R.dismissOnDestroy?[{provide:Xa,useValue:R.dismissOnDestroy}]:[]]}}}return U=y,Oa(y,"\u0275fac",function(R){return new(R||U)}),Oa(y,"\u0275mod",we.oAB({type:U})),Oa(y,"\u0275inj",we.cJS({imports:[We.ez]})),y})();var me=W(8726);const L_firebase={projectId:"labo4-salajuegos-2023",appId:"1:267112383910:web:9d16a8980b08020939bb67",databaseURL:"https://labo4-salajuegos-2023-default-rtdb.firebaseio.com",storageBucket:"labo4-salajuegos-2023.appspot.com",apiKey:"AIzaSyAcH4KsY_LCiAMvtiqU1OuKwYU25e0kCb8",authDomain:"labo4-salajuegos-2023.firebaseapp.com",messagingSenderId:"267112383910",measurementId:"G-6440J31PNH"};var Z=W(7923),re=W(6304),ce=W(938);let ye=(()=>{var U;class y{}return(U=y).\u0275fac=function(R){return new(R||U)},U.\u0275mod=we.oAB({type:U,bootstrap:[Oe]}),U.\u0275inj=we.cJS({imports:[d.b2,be,Ze.IJ,Ze.lQ,bt.uH,Qo,H.forRoot(),re.hO.initializeApp(L_firebase),(0,me.hX)(()=>(0,me.ZF)(L_firebase)),(0,Z.AR)(()=>(0,Z.v0)()),(0,ce.Cm)(()=>(0,ce.ad)())]}),y})();d.q6().bootstrapModule(ye).catch(U=>console.error(U))},5619:(bn,gt,W)=>{W.d(gt,{X:()=>oe});var d=W(8645);class oe extends d.x{constructor(we){super(),this._value=we}get value(){return this.getValue()}_subscribe(we){const Pe=super._subscribe(we);return!Pe.closed&&we.next(this._value),Pe}getValue(){const{hasError:we,thrownError:Pe,_value:Ve}=this;if(we)throw Pe;return this._throwIfClosed(),Ve}next(we){super.next(this._value=we)}}},5592:(bn,gt,W)=>{W.d(gt,{y:()=>lt});var d=W(305),oe=W(7394),fe=W(4850),we=W(8407),Pe=W(2653),Ve=W(4674),be=W(1441);let lt=(()=>{class Ze{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const jt=new Ze;return jt.source=this,jt.operator=Be,jt}subscribe(Be,jt,st){const tn=function Oe(Ze){return Ze&&Ze instanceof d.Lv||function _e(Ze){return Ze&&(0,Ve.m)(Ze.next)&&(0,Ve.m)(Ze.error)&&(0,Ve.m)(Ze.complete)}(Ze)&&(0,oe.Nn)(Ze)}(Be)?Be:new d.Hp(Be,jt,st);return(0,be.x)(()=>{const{operator:Lt,source:On}=this;tn.add(Lt?Lt.call(tn,On):On?this._subscribe(tn):this._trySubscribe(tn))}),tn}_trySubscribe(Be){try{return this._subscribe(Be)}catch(jt){Be.error(jt)}}forEach(Be,jt){return new(jt=We(jt))((st,tn)=>{const Lt=new d.Hp({next:On=>{try{Be(On)}catch(vn){tn(vn),Lt.unsubscribe()}},error:tn,complete:st});this.subscribe(Lt)})}_subscribe(Be){var jt;return null===(jt=this.source)||void 0===jt?void 0:jt.subscribe(Be)}[fe.L](){return this}pipe(...Be){return(0,we.U)(Be)(this)}toPromise(Be){return new(Be=We(Be))((jt,st)=>{let tn;this.subscribe(Lt=>tn=Lt,Lt=>st(Lt),()=>jt(tn))})}}return Ze.create=bt=>new Ze(bt),Ze})();function We(Ze){var bt;return null!==(bt=Ze??Pe.config.Promise)&&void 0!==bt?bt:Promise}},8645:(bn,gt,W)=>{W.d(gt,{x:()=>be});var d=W(5592),oe=W(7394);const we=(0,W(2306).d)(We=>function(){We(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pe=W(9039),Ve=W(1441);let be=(()=>{class We extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Oe){const Ze=new lt(this,this);return Ze.operator=Oe,Ze}_throwIfClosed(){if(this.closed)throw new we}next(Oe){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ze of this.currentObservers)Ze.next(Oe)}})}error(Oe){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Oe;const{observers:Ze}=this;for(;Ze.length;)Ze.shift().error(Oe)}})}complete(){(0,Ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Oe;return(null===(Oe=this.observers)||void 0===Oe?void 0:Oe.length)>0}_trySubscribe(Oe){return this._throwIfClosed(),super._trySubscribe(Oe)}_subscribe(Oe){return this._throwIfClosed(),this._checkFinalizedStatuses(Oe),this._innerSubscribe(Oe)}_innerSubscribe(Oe){const{hasError:Ze,isStopped:bt,observers:Be}=this;return Ze||bt?oe.Lc:(this.currentObservers=null,Be.push(Oe),new oe.w0(()=>{this.currentObservers=null,(0,Pe.P)(Be,Oe)}))}_checkFinalizedStatuses(Oe){const{hasError:Ze,thrownError:bt,isStopped:Be}=this;Ze?Oe.error(bt):Be&&Oe.complete()}asObservable(){const Oe=new d.y;return Oe.source=this,Oe}}return We.create=(_e,Oe)=>new lt(_e,Oe),We})();class lt extends be{constructor(_e,Oe){super(),this.destination=_e,this.source=Oe}next(_e){var Oe,Ze;null===(Ze=null===(Oe=this.destination)||void 0===Oe?void 0:Oe.next)||void 0===Ze||Ze.call(Oe,_e)}error(_e){var Oe,Ze;null===(Ze=null===(Oe=this.destination)||void 0===Oe?void 0:Oe.error)||void 0===Ze||Ze.call(Oe,_e)}complete(){var _e,Oe;null===(Oe=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===Oe||Oe.call(_e)}_subscribe(_e){var Oe,Ze;return null!==(Ze=null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(_e))&&void 0!==Ze?Ze:oe.Lc}}},305:(bn,gt,W)=>{W.d(gt,{Hp:()=>st,Lv:()=>Ze});var d=W(4674),oe=W(7394),fe=W(2653),we=W(3894),Pe=W(2420);const Ve=We("C",void 0,void 0);function We(He,Tt,ot){return{kind:He,value:Tt,error:ot}}var _e=W(7599),Oe=W(1441);class Ze extends oe.w0{constructor(Tt){super(),this.isStopped=!1,Tt?(this.destination=Tt,(0,oe.Nn)(Tt)&&Tt.add(this)):this.destination=vn}static create(Tt,ot,at){return new st(Tt,ot,at)}next(Tt){this.isStopped?On(function lt(He){return We("N",He,void 0)}(Tt),this):this._next(Tt)}error(Tt){this.isStopped?On(function be(He){return We("E",void 0,He)}(Tt),this):(this.isStopped=!0,this._error(Tt))}complete(){this.isStopped?On(Ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Tt){this.destination.next(Tt)}_error(Tt){try{this.destination.error(Tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const bt=Function.prototype.bind;function Be(He,Tt){return bt.call(He,Tt)}class jt{constructor(Tt){this.partialObserver=Tt}next(Tt){const{partialObserver:ot}=this;if(ot.next)try{ot.next(Tt)}catch(at){tn(at)}}error(Tt){const{partialObserver:ot}=this;if(ot.error)try{ot.error(Tt)}catch(at){tn(at)}else tn(Tt)}complete(){const{partialObserver:Tt}=this;if(Tt.complete)try{Tt.complete()}catch(ot){tn(ot)}}}class st extends Ze{constructor(Tt,ot,at){let Dt;if(super(),(0,d.m)(Tt)||!Tt)Dt={next:Tt??void 0,error:ot??void 0,complete:at??void 0};else{let Re;this&&fe.config.useDeprecatedNextContext?(Re=Object.create(Tt),Re.unsubscribe=()=>this.unsubscribe(),Dt={next:Tt.next&&Be(Tt.next,Re),error:Tt.error&&Be(Tt.error,Re),complete:Tt.complete&&Be(Tt.complete,Re)}):Dt=Tt}this.destination=new jt(Dt)}}function tn(He){fe.config.useDeprecatedSynchronousErrorHandling?(0,Oe.O)(He):(0,we.h)(He)}function On(He,Tt){const{onStoppedNotification:ot}=fe.config;ot&&_e.z.setTimeout(()=>ot(He,Tt))}const vn={closed:!0,next:Pe.Z,error:function Lt(He){throw He},complete:Pe.Z}},7394:(bn,gt,W)=>{W.d(gt,{Lc:()=>Ve,w0:()=>Pe,Nn:()=>be});var d=W(4674);const fe=(0,W(2306).d)(We=>function(Oe){We(this),this.message=Oe?`${Oe.length} errors occurred during unsubscription:\n${Oe.map((Ze,bt)=>`${bt+1}) ${Ze.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Oe});var we=W(9039);class Pe{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:Oe}=this;if(Oe)if(this._parentage=null,Array.isArray(Oe))for(const Be of Oe)Be.remove(this);else Oe.remove(this);const{initialTeardown:Ze}=this;if((0,d.m)(Ze))try{Ze()}catch(Be){_e=Be instanceof fe?Be.errors:[Be]}const{_finalizers:bt}=this;if(bt){this._finalizers=null;for(const Be of bt)try{lt(Be)}catch(jt){_e=_e??[],jt instanceof fe?_e=[..._e,...jt.errors]:_e.push(jt)}}if(_e)throw new fe(_e)}}add(_e){var Oe;if(_e&&_e!==this)if(this.closed)lt(_e);else{if(_e instanceof Pe){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(Oe=this._finalizers)&&void 0!==Oe?Oe:[]).push(_e)}}_hasParent(_e){const{_parentage:Oe}=this;return Oe===_e||Array.isArray(Oe)&&Oe.includes(_e)}_addParent(_e){const{_parentage:Oe}=this;this._parentage=Array.isArray(Oe)?(Oe.push(_e),Oe):Oe?[Oe,_e]:_e}_removeParent(_e){const{_parentage:Oe}=this;Oe===_e?this._parentage=null:Array.isArray(Oe)&&(0,we.P)(Oe,_e)}remove(_e){const{_finalizers:Oe}=this;Oe&&(0,we.P)(Oe,_e),_e instanceof Pe&&_e._removeParent(this)}}Pe.EMPTY=(()=>{const We=new Pe;return We.closed=!0,We})();const Ve=Pe.EMPTY;function be(We){return We instanceof Pe||We&&"closed"in We&&(0,d.m)(We.remove)&&(0,d.m)(We.add)&&(0,d.m)(We.unsubscribe)}function lt(We){(0,d.m)(We)?We():We.unsubscribe()}},2653:(bn,gt,W)=>{W.d(gt,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(bn,gt,W)=>{W.d(gt,{z:()=>Pe});var d=W(7537),fe=W(9940),we=W(2459);function Pe(...Ve){return function oe(){return(0,d.J)(1)}()((0,we.D)(Ve,(0,fe.yG)(Ve)))}},6232:(bn,gt,W)=>{W.d(gt,{E:()=>oe});const oe=new(W(5592).y)(Pe=>Pe.complete())},2459:(bn,gt,W)=>{W.d(gt,{D:()=>Tt});var d=W(4829),oe=W(3093),fe=W(5137),Ve=W(5592),lt=W(4971),We=W(4674),_e=W(7103);function Ze(ot,at){if(!ot)throw new Error("Iterable cannot be null");return new Ve.y(Dt=>{(0,_e.f)(Dt,at,()=>{const Re=ot[Symbol.asyncIterator]();(0,_e.f)(Dt,at,()=>{Re.next().then(Nt=>{Nt.done?Dt.complete():Dt.next(Nt.value)})},0,!0)})})}var bt=W(8382),Be=W(4026),jt=W(4266),st=W(3664),tn=W(5726),Lt=W(9853),On=W(541);function Tt(ot,at){return at?function He(ot,at){if(null!=ot){if((0,bt.c)(ot))return function we(ot,at){return(0,d.Xf)(ot).pipe((0,fe.R)(at),(0,oe.Q)(at))}(ot,at);if((0,jt.z)(ot))return function be(ot,at){return new Ve.y(Dt=>{let Re=0;return at.schedule(function(){Re===ot.length?Dt.complete():(Dt.next(ot[Re++]),Dt.closed||this.schedule())})})}(ot,at);if((0,Be.t)(ot))return function Pe(ot,at){return(0,d.Xf)(ot).pipe((0,fe.R)(at),(0,oe.Q)(at))}(ot,at);if((0,tn.D)(ot))return Ze(ot,at);if((0,st.T)(ot))return function Oe(ot,at){return new Ve.y(Dt=>{let Re;return(0,_e.f)(Dt,at,()=>{Re=ot[lt.h](),(0,_e.f)(Dt,at,()=>{let Nt,Jt;try{({value:Nt,done:Jt}=Re.next())}catch(Mn){return void Dt.error(Mn)}Jt?Dt.complete():Dt.next(Nt)},0,!0)}),()=>(0,We.m)(Re?.return)&&Re.return()})}(ot,at);if((0,On.L)(ot))return function vn(ot,at){return Ze((0,On.Q)(ot),at)}(ot,at)}throw(0,Lt.z)(ot)}(ot,at):(0,d.Xf)(ot)}},4829:(bn,gt,W)=>{W.d(gt,{Xf:()=>bt});var d=W(7582),oe=W(4266),fe=W(4026),we=W(5592),Pe=W(8382),Ve=W(5726),be=W(9853),lt=W(3664),We=W(541),_e=W(4674),Oe=W(3894),Ze=W(4850);function bt(He){if(He instanceof we.y)return He;if(null!=He){if((0,Pe.c)(He))return function Be(He){return new we.y(Tt=>{const ot=He[Ze.L]();if((0,_e.m)(ot.subscribe))return ot.subscribe(Tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,oe.z)(He))return function jt(He){return new we.y(Tt=>{for(let ot=0;ot<He.length&&!Tt.closed;ot++)Tt.next(He[ot]);Tt.complete()})}(He);if((0,fe.t)(He))return function st(He){return new we.y(Tt=>{He.then(ot=>{Tt.closed||(Tt.next(ot),Tt.complete())},ot=>Tt.error(ot)).then(null,Oe.h)})}(He);if((0,Ve.D)(He))return Lt(He);if((0,lt.T)(He))return function tn(He){return new we.y(Tt=>{for(const ot of He)if(Tt.next(ot),Tt.closed)return;Tt.complete()})}(He);if((0,We.L)(He))return function On(He){return Lt((0,We.Q)(He))}(He)}throw(0,be.z)(He)}function Lt(He){return new we.y(Tt=>{(function vn(He,Tt){var ot,at,Dt,Re;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ot=(0,d.KL)(He);!(at=yield ot.next()).done;)if(Tt.next(at.value),Tt.closed)return}catch(Nt){Dt={error:Nt}}finally{try{at&&!at.done&&(Re=ot.return)&&(yield Re.call(ot))}finally{if(Dt)throw Dt.error}}Tt.complete()})})(He,Tt).catch(ot=>Tt.error(ot))})}},3019:(bn,gt,W)=>{W.d(gt,{T:()=>Ve});var d=W(7537),oe=W(4829),fe=W(6232),we=W(9940),Pe=W(2459);function Ve(...be){const lt=(0,we.yG)(be),We=(0,we._6)(be,1/0),_e=be;return _e.length?1===_e.length?(0,oe.Xf)(_e[0]):(0,d.J)(We)((0,Pe.D)(_e,lt)):fe.E}},2096:(bn,gt,W)=>{W.d(gt,{of:()=>fe});var d=W(9940),oe=W(2459);function fe(...we){const Pe=(0,d.yG)(we);return(0,oe.D)(we,Pe)}},8251:(bn,gt,W)=>{W.d(gt,{x:()=>oe});var d=W(305);function oe(we,Pe,Ve,be,lt){return new fe(we,Pe,Ve,be,lt)}class fe extends d.Lv{constructor(Pe,Ve,be,lt,We,_e){super(Pe),this.onFinalize=We,this.shouldUnsubscribe=_e,this._next=Ve?function(Oe){try{Ve(Oe)}catch(Ze){Pe.error(Ze)}}:super._next,this._error=lt?function(Oe){try{lt(Oe)}catch(Ze){Pe.error(Ze)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(Oe){Pe.error(Oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ve}=this;super.unsubscribe(),!Ve&&(null===(Pe=this.onFinalize)||void 0===Pe||Pe.call(this))}}}},3572:(bn,gt,W)=>{W.d(gt,{d:()=>fe});var d=W(9360),oe=W(8251);function fe(we){return(0,d.e)((Pe,Ve)=>{let be=!1;Pe.subscribe((0,oe.x)(Ve,lt=>{be=!0,Ve.next(lt)},()=>{be||Ve.next(we),Ve.complete()}))})}},3997:(bn,gt,W)=>{W.d(gt,{x:()=>we});var d=W(2737),oe=W(9360),fe=W(8251);function we(Ve,be=d.y){return Ve=Ve??Pe,(0,oe.e)((lt,We)=>{let _e,Oe=!0;lt.subscribe((0,fe.x)(We,Ze=>{const bt=be(Ze);(Oe||!Ve(_e,bt))&&(Oe=!1,_e=bt,We.next(Ze))}))})}function Pe(Ve,be){return Ve===be}},2181:(bn,gt,W)=>{W.d(gt,{h:()=>fe});var d=W(9360),oe=W(8251);function fe(we,Pe){return(0,d.e)((Ve,be)=>{let lt=0;Ve.subscribe((0,oe.x)(be,We=>we.call(Pe,We,lt++)&&be.next(We)))})}},1374:(bn,gt,W)=>{W.d(gt,{P:()=>be});var d=W(6973),oe=W(2181),fe=W(8180),we=W(3572),Pe=W(3026),Ve=W(2737);function be(lt,We){const _e=arguments.length>=2;return Oe=>Oe.pipe(lt?(0,oe.h)((Ze,bt)=>lt(Ze,bt,Oe)):Ve.y,(0,fe.q)(1),_e?(0,we.d)(We):(0,Pe.T)(()=>new d.K))}},7398:(bn,gt,W)=>{W.d(gt,{U:()=>fe});var d=W(9360),oe=W(8251);function fe(we,Pe){return(0,d.e)((Ve,be)=>{let lt=0;Ve.subscribe((0,oe.x)(be,We=>{be.next(we.call(Pe,We,lt++))}))})}},975:(bn,gt,W)=>{W.d(gt,{h:()=>oe});var d=W(7398);function oe(fe){return(0,d.U)(()=>fe)}},7537:(bn,gt,W)=>{W.d(gt,{J:()=>fe});var d=W(1631),oe=W(2737);function fe(we=1/0){return(0,d.z)(oe.y,we)}},1631:(bn,gt,W)=>{W.d(gt,{z:()=>lt});var d=W(7398),oe=W(4829),fe=W(9360),we=W(7103),Pe=W(8251),be=W(4674);function lt(We,_e,Oe=1/0){return(0,be.m)(_e)?lt((Ze,bt)=>(0,d.U)((Be,jt)=>_e(Ze,Be,bt,jt))((0,oe.Xf)(We(Ze,bt))),Oe):("number"==typeof _e&&(Oe=_e),(0,fe.e)((Ze,bt)=>function Ve(We,_e,Oe,Ze,bt,Be,jt,st){const tn=[];let Lt=0,On=0,vn=!1;const He=()=>{vn&&!tn.length&&!Lt&&_e.complete()},Tt=at=>Lt<Ze?ot(at):tn.push(at),ot=at=>{Be&&_e.next(at),Lt++;let Dt=!1;(0,oe.Xf)(Oe(at,On++)).subscribe((0,Pe.x)(_e,Re=>{bt?.(Re),Be?Tt(Re):_e.next(Re)},()=>{Dt=!0},void 0,()=>{if(Dt)try{for(Lt--;tn.length&&Lt<Ze;){const Re=tn.shift();jt?(0,we.f)(_e,jt,()=>ot(Re)):ot(Re)}He()}catch(Re){_e.error(Re)}}))};return We.subscribe((0,Pe.x)(_e,Tt,()=>{vn=!0,He()})),()=>{st?.()}}(Ze,bt,We,Oe)))}},3093:(bn,gt,W)=>{W.d(gt,{Q:()=>we});var d=W(7103),oe=W(9360),fe=W(8251);function we(Pe,Ve=0){return(0,oe.e)((be,lt)=>{be.subscribe((0,fe.x)(lt,We=>(0,d.f)(lt,Pe,()=>lt.next(We),Ve),()=>(0,d.f)(lt,Pe,()=>lt.complete(),Ve),We=>(0,d.f)(lt,Pe,()=>lt.error(We),Ve)))})}},3020:(bn,gt,W)=>{W.d(gt,{B:()=>Pe});var d=W(4829),oe=W(8645),fe=W(305),we=W(9360);function Pe(be={}){const{connector:lt=(()=>new oe.x),resetOnError:We=!0,resetOnComplete:_e=!0,resetOnRefCountZero:Oe=!0}=be;return Ze=>{let bt,Be,jt,st=0,tn=!1,Lt=!1;const On=()=>{Be?.unsubscribe(),Be=void 0},vn=()=>{On(),bt=jt=void 0,tn=Lt=!1},He=()=>{const Tt=bt;vn(),Tt?.unsubscribe()};return(0,we.e)((Tt,ot)=>{st++,!Lt&&!tn&&On();const at=jt=jt??lt();ot.add(()=>{st--,0===st&&!Lt&&!tn&&(Be=Ve(He,Oe))}),at.subscribe(ot),!bt&&st>0&&(bt=new fe.Hp({next:Dt=>at.next(Dt),error:Dt=>{Lt=!0,On(),Be=Ve(vn,We,Dt),at.error(Dt)},complete:()=>{tn=!0,On(),Be=Ve(vn,_e),at.complete()}}),(0,d.Xf)(Tt).subscribe(bt))})(Ze)}}function Ve(be,lt,...We){if(!0===lt)return void be();if(!1===lt)return;const _e=new fe.Hp({next:()=>{_e.unsubscribe(),be()}});return(0,d.Xf)(lt(...We)).subscribe(_e)}},7921:(bn,gt,W)=>{W.d(gt,{O:()=>we});var d=W(5211),oe=W(9940),fe=W(9360);function we(...Pe){const Ve=(0,oe.yG)(Pe);return(0,fe.e)((be,lt)=>{(Ve?(0,d.z)(Pe,be,Ve):(0,d.z)(Pe,be)).subscribe(lt)})}},5137:(bn,gt,W)=>{W.d(gt,{R:()=>oe});var d=W(9360);function oe(fe,we=0){return(0,d.e)((Pe,Ve)=>{Ve.add(fe.schedule(()=>Pe.subscribe(Ve),we))})}},4664:(bn,gt,W)=>{W.d(gt,{w:()=>we});var d=W(4829),oe=W(9360),fe=W(8251);function we(Pe,Ve){return(0,oe.e)((be,lt)=>{let We=null,_e=0,Oe=!1;const Ze=()=>Oe&&!We&&lt.complete();be.subscribe((0,fe.x)(lt,bt=>{We?.unsubscribe();let Be=0;const jt=_e++;(0,d.Xf)(Pe(bt,jt)).subscribe(We=(0,fe.x)(lt,st=>lt.next(Ve?Ve(bt,st,jt,Be++):st),()=>{We=null,Ze()}))},()=>{Oe=!0,Ze()}))})}},8180:(bn,gt,W)=>{W.d(gt,{q:()=>we});var d=W(6232),oe=W(9360),fe=W(8251);function we(Pe){return Pe<=0?()=>d.E:(0,oe.e)((Ve,be)=>{let lt=0;Ve.subscribe((0,fe.x)(be,We=>{++lt<=Pe&&(be.next(We),Pe<=lt&&be.complete())}))})}},9773:(bn,gt,W)=>{W.d(gt,{R:()=>Pe});var d=W(9360),oe=W(8251),fe=W(4829),we=W(2420);function Pe(Ve){return(0,d.e)((be,lt)=>{(0,fe.Xf)(Ve).subscribe((0,oe.x)(lt,()=>lt.complete(),we.Z)),!lt.closed&&be.subscribe(lt)})}},9397:(bn,gt,W)=>{W.d(gt,{b:()=>Pe});var d=W(4674),oe=W(9360),fe=W(8251),we=W(2737);function Pe(Ve,be,lt){const We=(0,d.m)(Ve)||be||lt?{next:Ve,error:be,complete:lt}:Ve;return We?(0,oe.e)((_e,Oe)=>{var Ze;null===(Ze=We.subscribe)||void 0===Ze||Ze.call(We);let bt=!0;_e.subscribe((0,fe.x)(Oe,Be=>{var jt;null===(jt=We.next)||void 0===jt||jt.call(We,Be),Oe.next(Be)},()=>{var Be;bt=!1,null===(Be=We.complete)||void 0===Be||Be.call(We),Oe.complete()},Be=>{var jt;bt=!1,null===(jt=We.error)||void 0===jt||jt.call(We,Be),Oe.error(Be)},()=>{var Be,jt;bt&&(null===(Be=We.unsubscribe)||void 0===Be||Be.call(We)),null===(jt=We.finalize)||void 0===jt||jt.call(We)}))}):we.y}},3026:(bn,gt,W)=>{W.d(gt,{T:()=>we});var d=W(6973),oe=W(9360),fe=W(8251);function we(Ve=Pe){return(0,oe.e)((be,lt)=>{let We=!1;be.subscribe((0,fe.x)(lt,_e=>{We=!0,lt.next(_e)},()=>We?lt.complete():lt.error(Ve())))})}function Pe(){return new d.K}},1954:(bn,gt,W)=>{W.d(gt,{o:()=>Pe});var d=W(7394);class oe extends d.w0{constructor(be,lt){super()}schedule(be,lt=0){return this}}const fe={setInterval(Ve,be,...lt){const{delegate:We}=fe;return We?.setInterval?We.setInterval(Ve,be,...lt):setInterval(Ve,be,...lt)},clearInterval(Ve){const{delegate:be}=fe;return(be?.clearInterval||clearInterval)(Ve)},delegate:void 0};var we=W(9039);class Pe extends oe{constructor(be,lt){super(be,lt),this.scheduler=be,this.work=lt,this.pending=!1}schedule(be,lt=0){var We;if(this.closed)return this;this.state=be;const _e=this.id,Oe=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(Oe,_e,lt)),this.pending=!0,this.delay=lt,this.id=null!==(We=this.id)&&void 0!==We?We:this.requestAsyncId(Oe,this.id,lt),this}requestAsyncId(be,lt,We=0){return fe.setInterval(be.flush.bind(be,this),We)}recycleAsyncId(be,lt,We=0){if(null!=We&&this.delay===We&&!1===this.pending)return lt;null!=lt&&fe.clearInterval(lt)}execute(be,lt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const We=this._execute(be,lt);if(We)return We;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,lt){let _e,We=!1;try{this.work(be)}catch(Oe){We=!0,_e=Oe||new Error("Scheduled action threw falsy error")}if(We)return this.unsubscribe(),_e}unsubscribe(){if(!this.closed){const{id:be,scheduler:lt}=this,{actions:We}=lt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,we.P)(We,this),null!=be&&(this.id=this.recycleAsyncId(lt,be,null)),this.delay=null,super.unsubscribe()}}}},2631:(bn,gt,W)=>{W.d(gt,{v:()=>fe});var d=W(4552);class oe{constructor(Pe,Ve=oe.now){this.schedulerActionCtor=Pe,this.now=Ve}schedule(Pe,Ve=0,be){return new this.schedulerActionCtor(this,Pe).schedule(be,Ve)}}oe.now=d.l.now;class fe extends oe{constructor(Pe,Ve=oe.now){super(Pe,Ve),this.actions=[],this._active=!1}flush(Pe){const{actions:Ve}=this;if(this._active)return void Ve.push(Pe);let be;this._active=!0;do{if(be=Pe.execute(Pe.state,Pe.delay))break}while(Pe=Ve.shift());if(this._active=!1,be){for(;Pe=Ve.shift();)Pe.unsubscribe();throw be}}}},6321:(bn,gt,W)=>{W.d(gt,{P:()=>we,z:()=>fe});var d=W(1954);const fe=new(W(2631).v)(d.o),we=fe},4552:(bn,gt,W)=>{W.d(gt,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(bn,gt,W)=>{W.d(gt,{z:()=>d});const d={setTimeout(oe,fe,...we){const{delegate:Pe}=d;return Pe?.setTimeout?Pe.setTimeout(oe,fe,...we):setTimeout(oe,fe,...we)},clearTimeout(oe){const{delegate:fe}=d;return(fe?.clearTimeout||clearTimeout)(oe)},delegate:void 0}},4971:(bn,gt,W)=>{W.d(gt,{h:()=>oe});const oe=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(bn,gt,W)=>{W.d(gt,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(bn,gt,W)=>{W.d(gt,{K:()=>oe});const oe=(0,W(2306).d)(fe=>function(){fe(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(bn,gt,W)=>{W.d(gt,{_6:()=>Ve,jO:()=>we,yG:()=>Pe});var d=W(4674),oe=W(671);function fe(be){return be[be.length-1]}function we(be){return(0,d.m)(fe(be))?be.pop():void 0}function Pe(be){return(0,oe.K)(fe(be))?be.pop():void 0}function Ve(be,lt){return"number"==typeof fe(be)?be.pop():lt}},7453:(bn,gt,W)=>{W.d(gt,{D:()=>Pe});const{isArray:d}=Array,{getPrototypeOf:oe,prototype:fe,keys:we}=Object;function Pe(be){if(1===be.length){const lt=be[0];if(d(lt))return{args:lt,keys:null};if(function Ve(be){return be&&"object"==typeof be&&oe(be)===fe}(lt)){const We=we(lt);return{args:We.map(_e=>lt[_e]),keys:We}}}return{args:be,keys:null}}},9039:(bn,gt,W)=>{function d(oe,fe){if(oe){const we=oe.indexOf(fe);0<=we&&oe.splice(we,1)}}W.d(gt,{P:()=>d})},2306:(bn,gt,W)=>{function d(oe){const we=oe(Pe=>{Error.call(Pe),Pe.stack=(new Error).stack});return we.prototype=Object.create(Error.prototype),we.prototype.constructor=we,we}W.d(gt,{d:()=>d})},2714:(bn,gt,W)=>{function d(oe,fe){return oe.reduce((we,Pe,Ve)=>(we[Pe]=fe[Ve],we),{})}W.d(gt,{n:()=>d})},1441:(bn,gt,W)=>{W.d(gt,{O:()=>we,x:()=>fe});var d=W(2653);let oe=null;function fe(Pe){if(d.config.useDeprecatedSynchronousErrorHandling){const Ve=!oe;if(Ve&&(oe={errorThrown:!1,error:null}),Pe(),Ve){const{errorThrown:be,error:lt}=oe;if(oe=null,be)throw lt}}else Pe()}function we(Pe){d.config.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=Pe)}},7103:(bn,gt,W)=>{function d(oe,fe,we,Pe=0,Ve=!1){const be=fe.schedule(function(){we(),Ve?oe.add(this.schedule(null,Pe)):this.unsubscribe()},Pe);if(oe.add(be),!Ve)return be}W.d(gt,{f:()=>d})},2737:(bn,gt,W)=>{function d(oe){return oe}W.d(gt,{y:()=>d})},4266:(bn,gt,W)=>{W.d(gt,{z:()=>d});const d=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},5726:(bn,gt,W)=>{W.d(gt,{D:()=>oe});var d=W(4674);function oe(fe){return Symbol.asyncIterator&&(0,d.m)(fe?.[Symbol.asyncIterator])}},4674:(bn,gt,W)=>{function d(oe){return"function"==typeof oe}W.d(gt,{m:()=>d})},8382:(bn,gt,W)=>{W.d(gt,{c:()=>fe});var d=W(4850),oe=W(4674);function fe(we){return(0,oe.m)(we[d.L])}},3664:(bn,gt,W)=>{W.d(gt,{T:()=>fe});var d=W(4971),oe=W(4674);function fe(we){return(0,oe.m)(we?.[d.h])}},4026:(bn,gt,W)=>{W.d(gt,{t:()=>oe});var d=W(4674);function oe(fe){return(0,d.m)(fe?.then)}},541:(bn,gt,W)=>{W.d(gt,{L:()=>we,Q:()=>fe});var d=W(7582),oe=W(4674);function fe(Pe){return(0,d.FC)(this,arguments,function*(){const be=Pe.getReader();try{for(;;){const{value:lt,done:We}=yield(0,d.qq)(be.read());if(We)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(lt)}}finally{be.releaseLock()}})}function we(Pe){return(0,oe.m)(Pe?.getReader)}},671:(bn,gt,W)=>{W.d(gt,{K:()=>oe});var d=W(4674);function oe(fe){return fe&&(0,d.m)(fe.schedule)}},9360:(bn,gt,W)=>{W.d(gt,{A:()=>oe,e:()=>fe});var d=W(4674);function oe(we){return(0,d.m)(we?.lift)}function fe(we){return Pe=>{if(oe(Pe))return Pe.lift(function(Ve){try{return we(Ve,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(bn,gt,W)=>{W.d(gt,{Z:()=>we});var d=W(7398);const{isArray:oe}=Array;function we(Pe){return(0,d.U)(Ve=>function fe(Pe,Ve){return oe(Ve)?Pe(...Ve):Pe(Ve)}(Pe,Ve))}},2420:(bn,gt,W)=>{function d(){}W.d(gt,{Z:()=>d})},8407:(bn,gt,W)=>{W.d(gt,{U:()=>fe,z:()=>oe});var d=W(2737);function oe(...we){return fe(we)}function fe(we){return 0===we.length?d.y:1===we.length?we[0]:function(Ve){return we.reduce((be,lt)=>lt(be),Ve)}}},3894:(bn,gt,W)=>{W.d(gt,{h:()=>fe});var d=W(2653),oe=W(7599);function fe(we){oe.z.setTimeout(()=>{const{onUnhandledError:Pe}=d.config;if(!Pe)throw we;Pe(we)})}},9853:(bn,gt,W)=>{function d(oe){return new TypeError(`You provided ${null!==oe&&"object"==typeof oe?"an invalid object":`'${oe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}W.d(gt,{z:()=>d})},6814:(bn,gt,W)=>{W.d(gt,{Do:()=>st,EM:()=>ji,HT:()=>we,JF:()=>Fs,K0:()=>Ve,Mn:()=>zn,Mx:()=>Gi,O5:()=>Ss,PM:()=>to,S$:()=>bt,Tn:()=>Re,UT:()=>Jn,V_:()=>lt,Ye:()=>tn,ax:()=>gs,b0:()=>jt,bD:()=>xs,ez:()=>Ii,p6:()=>nr,q:()=>fe,tP:()=>Dr,w_:()=>Pe,x:()=>Dt});var d=W(5879);let oe=null;function fe(){return oe}function we(O){oe||(oe=O)}class Pe{}const Ve=new d.OlP("DocumentToken");let be=(()=>{var O;class Y{historyGo(H){throw new Error("Not implemented")}}return(O=Y).\u0275fac=function(H){return new(H||O)},O.\u0275prov=d.Yz7({token:O,factory:function(){return(0,d.f3M)(We)},providedIn:"platform"}),Y})();const lt=new d.OlP("Location Initialized");let We=(()=>{var O;class Y extends be{constructor(){super(),this._doc=(0,d.f3M)(Ve),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fe().getBaseHref(this._doc)}onPopState(H){const me=fe().getGlobalEventTarget(this._doc,"window");return me.addEventListener("popstate",H,!1),()=>me.removeEventListener("popstate",H)}onHashChange(H){const me=fe().getGlobalEventTarget(this._doc,"window");return me.addEventListener("hashchange",H,!1),()=>me.removeEventListener("hashchange",H)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(H){this._location.pathname=H}pushState(H,me,L){this._history.pushState(H,me,L)}replaceState(H,me,L){this._history.replaceState(H,me,L)}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return(O=Y).\u0275fac=function(H){return new(H||O)},O.\u0275prov=d.Yz7({token:O,factory:function(){return new O},providedIn:"platform"}),Y})();function _e(O,Y){if(0==O.length)return Y;if(0==Y.length)return O;let Te=0;return O.endsWith("/")&&Te++,Y.startsWith("/")&&Te++,2==Te?O+Y.substring(1):1==Te?O+Y:O+"/"+Y}function Oe(O){const Y=O.match(/#|\?|$/),Te=Y&&Y.index||O.length;return O.slice(0,Te-("/"===O[Te-1]?1:0))+O.slice(Te)}function Ze(O){return O&&"?"!==O[0]?"?"+O:O}let bt=(()=>{var O;class Y{historyGo(H){throw new Error("Not implemented")}}return(O=Y).\u0275fac=function(H){return new(H||O)},O.\u0275prov=d.Yz7({token:O,factory:function(){return(0,d.f3M)(jt)},providedIn:"root"}),Y})();const Be=new d.OlP("appBaseHref");let jt=(()=>{var O;class Y extends bt{constructor(H,me){super(),this._platformLocation=H,this._removeListenerFns=[],this._baseHref=me??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(Ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return _e(this._baseHref,H)}path(H=!1){const me=this._platformLocation.pathname+Ze(this._platformLocation.search),L=this._platformLocation.hash;return L&&H?`${me}${L}`:me}pushState(H,me,L,Z){const re=this.prepareExternalUrl(L+Ze(Z));this._platformLocation.pushState(H,me,re)}replaceState(H,me,L,Z){const re=this.prepareExternalUrl(L+Ze(Z));this._platformLocation.replaceState(H,me,re)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return(O=Y).\u0275fac=function(H){return new(H||O)(d.LFG(be),d.LFG(Be,8))},O.\u0275prov=d.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),Y})(),st=(()=>{var O;class Y extends bt{constructor(H,me){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=me&&(this._baseHref=me)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let me=this._platformLocation.hash;return null==me&&(me="#"),me.length>0?me.substring(1):me}prepareExternalUrl(H){const me=_e(this._baseHref,H);return me.length>0?"#"+me:me}pushState(H,me,L,Z){let re=this.prepareExternalUrl(L+Ze(Z));0==re.length&&(re=this._platformLocation.pathname),this._platformLocation.pushState(H,me,re)}replaceState(H,me,L,Z){let re=this.prepareExternalUrl(L+Ze(Z));0==re.length&&(re=this._platformLocation.pathname),this._platformLocation.replaceState(H,me,re)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){this._platformLocation.historyGo?.(H)}}return(O=Y).\u0275fac=function(H){return new(H||O)(d.LFG(be),d.LFG(Be,8))},O.\u0275prov=d.Yz7({token:O,factory:O.\u0275fac}),Y})(),tn=(()=>{var O;class Y{constructor(H){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=H;const me=this._locationStrategy.getBaseHref();this._basePath=function He(O){if(new RegExp("^(https?:)?//").test(O)){const[,Te]=O.split(/\/\/[^\/]+/);return Te}return O}(Oe(vn(me))),this._locationStrategy.onPopState(L=>{this._subject.emit({url:this.path(!0),pop:!0,state:L.state,type:L.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(H=!1){return this.normalize(this._locationStrategy.path(H))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(H,me=""){return this.path()==this.normalize(H+Ze(me))}normalize(H){return Y.stripTrailingSlash(function On(O,Y){if(!O||!Y.startsWith(O))return Y;const Te=Y.substring(O.length);return""===Te||["/",";","?","#"].includes(Te[0])?Te:Y}(this._basePath,vn(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._locationStrategy.prepareExternalUrl(H)}go(H,me="",L=null){this._locationStrategy.pushState(L,"",H,me),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Ze(me)),L)}replaceState(H,me="",L=null){this._locationStrategy.replaceState(L,"",H,me),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Ze(me)),L)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(H=0){this._locationStrategy.historyGo?.(H)}onUrlChange(H){return this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(me=>{this._notifyUrlChangeListeners(me.url,me.state)})),()=>{const me=this._urlChangeListeners.indexOf(H);this._urlChangeListeners.splice(me,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(H="",me){this._urlChangeListeners.forEach(L=>L(H,me))}subscribe(H,me,L){return this._subject.subscribe({next:H,error:me,complete:L})}}return(O=Y).normalizeQueryParams=Ze,O.joinWithSlash=_e,O.stripTrailingSlash=Oe,O.\u0275fac=function(H){return new(H||O)(d.LFG(bt))},O.\u0275prov=d.Yz7({token:O,factory:function(){return function Lt(){return new tn((0,d.LFG)(bt))}()},providedIn:"root"}),Y})();function vn(O){return O.replace(/\/index.html$/,"")}var Dt=function(O){return O[O.Format=0]="Format",O[O.Standalone=1]="Standalone",O}(Dt||{}),Re=function(O){return O[O.Narrow=0]="Narrow",O[O.Abbreviated=1]="Abbreviated",O[O.Wide=2]="Wide",O[O.Short=3]="Short",O}(Re||{}),Nt=function(O){return O[O.Short=0]="Short",O[O.Medium=1]="Medium",O[O.Long=2]="Long",O[O.Full=3]="Full",O}(Nt||{}),Jt=function(O){return O[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O.Infinity=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup",O}(Jt||{});function zn(O,Y,Te){const H=(0,d.cg1)(O),L=qe([H[d.wAp.DaysFormat],H[d.wAp.DaysStandalone]],Y);return qe(L,Te)}function Jn(O,Y,Te){const H=(0,d.cg1)(O),L=qe([H[d.wAp.MonthsFormat],H[d.wAp.MonthsStandalone]],Y);return qe(L,Te)}function dt(O,Y){return qe((0,d.cg1)(O)[d.wAp.DateFormat],Y)}function tt(O,Y){return qe((0,d.cg1)(O)[d.wAp.TimeFormat],Y)}function $e(O,Y){return qe((0,d.cg1)(O)[d.wAp.DateTimeFormat],Y)}function ft(O,Y){const Te=(0,d.cg1)(O),H=Te[d.wAp.NumberSymbols][Y];if(typeof H>"u"){if(Y===Jt.CurrencyDecimal)return Te[d.wAp.NumberSymbols][Jt.Decimal];if(Y===Jt.CurrencyGroup)return Te[d.wAp.NumberSymbols][Jt.Group]}return H}function An(O){if(!O[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${O[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function qe(O,Y){for(let Te=Y;Te>-1;Te--)if(typeof O[Te]<"u")return O[Te];throw new Error("Locale data API: locale data undefined")}function ke(O){const[Y,Te]=O.split(":");return{hours:+Y,minutes:+Te}}const Ht=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,or={},ln=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wt=function(O){return O[O.Short=0]="Short",O[O.ShortGMT=1]="ShortGMT",O[O.Long=2]="Long",O[O.Extended=3]="Extended",O}(Wt||{}),rn=function(O){return O[O.FullYear=0]="FullYear",O[O.Month=1]="Month",O[O.Date=2]="Date",O[O.Hours=3]="Hours",O[O.Minutes=4]="Minutes",O[O.Seconds=5]="Seconds",O[O.FractionalSeconds=6]="FractionalSeconds",O[O.Day=7]="Day",O}(rn||{}),kn=function(O){return O[O.DayPeriods=0]="DayPeriods",O[O.Days=1]="Days",O[O.Months=2]="Months",O[O.Eras=3]="Eras",O}(kn||{});function nr(O,Y,Te,H){let me=function ue(O){if(Ce(O))return O;if("number"==typeof O&&!isNaN(O))return new Date(O);if("string"==typeof O){if(O=O.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(O)){const[me,L=1,Z=1]=O.split("-").map(re=>+re);return Lr(me,L-1,Z)}const Te=parseFloat(O);if(!isNaN(O-Te))return new Date(Te);let H;if(H=O.match(Ht))return function se(O){const Y=new Date(0);let Te=0,H=0;const me=O[8]?Y.setUTCFullYear:Y.setFullYear,L=O[8]?Y.setUTCHours:Y.setHours;O[9]&&(Te=Number(O[9]+O[10]),H=Number(O[9]+O[11])),me.call(Y,Number(O[1]),Number(O[2])-1,Number(O[3]));const Z=Number(O[4]||0)-Te,re=Number(O[5]||0)-H,ce=Number(O[6]||0),ye=Math.floor(1e3*parseFloat("0."+(O[7]||0)));return L.call(Y,Z,re,ce,ye),Y}(H)}const Y=new Date(O);if(!Ce(Y))throw new Error(`Unable to convert "${O}" into a date`);return Y}(O);Y=qr(Te,Y)||Y;let re,Z=[];for(;Y;){if(re=ln.exec(Y),!re){Z.push(Y);break}{Z=Z.concat(re.slice(1));const U=Z.pop();if(!U)break;Y=U}}let ce=me.getTimezoneOffset();H&&(ce=Yt(H,ce),me=function Me(O,Y,Te){const H=Te?-1:1,me=O.getTimezoneOffset();return function er(O,Y){return(O=new Date(O.getTime())).setMinutes(O.getMinutes()+Y),O}(O,H*(Yt(Y,me)-me))}(me,H,!0));let ye="";return Z.forEach(U=>{const y=function an(O){if(ht[O])return ht[O];let Y;switch(O){case"G":case"GG":case"GGG":Y=ur(kn.Eras,Re.Abbreviated);break;case"GGGG":Y=ur(kn.Eras,Re.Wide);break;case"GGGGG":Y=ur(kn.Eras,Re.Narrow);break;case"y":Y=Tr(rn.FullYear,1,0,!1,!0);break;case"yy":Y=Tr(rn.FullYear,2,0,!0,!0);break;case"yyy":Y=Tr(rn.FullYear,3,0,!1,!0);break;case"yyyy":Y=Tr(rn.FullYear,4,0,!1,!0);break;case"Y":Y=St(1);break;case"YY":Y=St(2,!0);break;case"YYY":Y=St(3);break;case"YYYY":Y=St(4);break;case"M":case"L":Y=Tr(rn.Month,1,1);break;case"MM":case"LL":Y=Tr(rn.Month,2,1);break;case"MMM":Y=ur(kn.Months,Re.Abbreviated);break;case"MMMM":Y=ur(kn.Months,Re.Wide);break;case"MMMMM":Y=ur(kn.Months,Re.Narrow);break;case"LLL":Y=ur(kn.Months,Re.Abbreviated,Dt.Standalone);break;case"LLLL":Y=ur(kn.Months,Re.Wide,Dt.Standalone);break;case"LLLLL":Y=ur(kn.Months,Re.Narrow,Dt.Standalone);break;case"w":Y=Fe(1);break;case"ww":Y=Fe(2);break;case"W":Y=Fe(1,!0);break;case"d":Y=Tr(rn.Date,1);break;case"dd":Y=Tr(rn.Date,2);break;case"c":case"cc":Y=Tr(rn.Day,1);break;case"ccc":Y=ur(kn.Days,Re.Abbreviated,Dt.Standalone);break;case"cccc":Y=ur(kn.Days,Re.Wide,Dt.Standalone);break;case"ccccc":Y=ur(kn.Days,Re.Narrow,Dt.Standalone);break;case"cccccc":Y=ur(kn.Days,Re.Short,Dt.Standalone);break;case"E":case"EE":case"EEE":Y=ur(kn.Days,Re.Abbreviated);break;case"EEEE":Y=ur(kn.Days,Re.Wide);break;case"EEEEE":Y=ur(kn.Days,Re.Narrow);break;case"EEEEEE":Y=ur(kn.Days,Re.Short);break;case"a":case"aa":case"aaa":Y=ur(kn.DayPeriods,Re.Abbreviated);break;case"aaaa":Y=ur(kn.DayPeriods,Re.Wide);break;case"aaaaa":Y=ur(kn.DayPeriods,Re.Narrow);break;case"b":case"bb":case"bbb":Y=ur(kn.DayPeriods,Re.Abbreviated,Dt.Standalone,!0);break;case"bbbb":Y=ur(kn.DayPeriods,Re.Wide,Dt.Standalone,!0);break;case"bbbbb":Y=ur(kn.DayPeriods,Re.Narrow,Dt.Standalone,!0);break;case"B":case"BB":case"BBB":Y=ur(kn.DayPeriods,Re.Abbreviated,Dt.Format,!0);break;case"BBBB":Y=ur(kn.DayPeriods,Re.Wide,Dt.Format,!0);break;case"BBBBB":Y=ur(kn.DayPeriods,Re.Narrow,Dt.Format,!0);break;case"h":Y=Tr(rn.Hours,1,-12);break;case"hh":Y=Tr(rn.Hours,2,-12);break;case"H":Y=Tr(rn.Hours,1);break;case"HH":Y=Tr(rn.Hours,2);break;case"m":Y=Tr(rn.Minutes,1);break;case"mm":Y=Tr(rn.Minutes,2);break;case"s":Y=Tr(rn.Seconds,1);break;case"ss":Y=Tr(rn.Seconds,2);break;case"S":Y=Tr(rn.FractionalSeconds,1);break;case"SS":Y=Tr(rn.FractionalSeconds,2);break;case"SSS":Y=Tr(rn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Y=xr(Wt.Short);break;case"ZZZZZ":Y=xr(Wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Y=xr(Wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Y=xr(Wt.Long);break;default:return null}return ht[O]=Y,Y}(U);ye+=y?y(me,Te,ce):"''"===U?"'":U.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ye}function Lr(O,Y,Te){const H=new Date(0);return H.setFullYear(O,Y,Te),H.setHours(0,0,0),H}function qr(O,Y){const Te=function Bn(O){return(0,d.cg1)(O)[d.wAp.LocaleId]}(O);if(or[Te]=or[Te]||{},or[Te][Y])return or[Te][Y];let H="";switch(Y){case"shortDate":H=dt(O,Nt.Short);break;case"mediumDate":H=dt(O,Nt.Medium);break;case"longDate":H=dt(O,Nt.Long);break;case"fullDate":H=dt(O,Nt.Full);break;case"shortTime":H=tt(O,Nt.Short);break;case"mediumTime":H=tt(O,Nt.Medium);break;case"longTime":H=tt(O,Nt.Long);break;case"fullTime":H=tt(O,Nt.Full);break;case"short":const me=qr(O,"shortTime"),L=qr(O,"shortDate");H=cr($e(O,Nt.Short),[me,L]);break;case"medium":const Z=qr(O,"mediumTime"),re=qr(O,"mediumDate");H=cr($e(O,Nt.Medium),[Z,re]);break;case"long":const ce=qr(O,"longTime"),ye=qr(O,"longDate");H=cr($e(O,Nt.Long),[ce,ye]);break;case"full":const U=qr(O,"fullTime"),y=qr(O,"fullDate");H=cr($e(O,Nt.Full),[U,y])}return H&&(or[Te][Y]=H),H}function cr(O,Y){return Y&&(O=O.replace(/\{([^}]+)}/g,function(Te,H){return null!=Y&&H in Y?Y[H]:Te})),O}function Vr(O,Y,Te="-",H,me){let L="";(O<0||me&&O<=0)&&(me?O=1-O:(O=-O,L=Te));let Z=String(O);for(;Z.length<Y;)Z="0"+Z;return H&&(Z=Z.slice(Z.length-Y)),L+Z}function Tr(O,Y,Te=0,H=!1,me=!1){return function(L,Z){let re=function Vi(O,Y){switch(O){case rn.FullYear:return Y.getFullYear();case rn.Month:return Y.getMonth();case rn.Date:return Y.getDate();case rn.Hours:return Y.getHours();case rn.Minutes:return Y.getMinutes();case rn.Seconds:return Y.getSeconds();case rn.FractionalSeconds:return Y.getMilliseconds();case rn.Day:return Y.getDay();default:throw new Error(`Unknown DateType value "${O}".`)}}(O,L);if((Te>0||re>-Te)&&(re+=Te),O===rn.Hours)0===re&&-12===Te&&(re=12);else if(O===rn.FractionalSeconds)return function Cr(O,Y){return Vr(O,3).substring(0,Y)}(re,Y);const ce=ft(Z,Jt.MinusSign);return Vr(re,Y,ce,H,me)}}function ur(O,Y,Te=Dt.Format,H=!1){return function(me,L){return function Wr(O,Y,Te,H,me,L){switch(Te){case kn.Months:return Jn(Y,me,H)[O.getMonth()];case kn.Days:return zn(Y,me,H)[O.getDay()];case kn.DayPeriods:const Z=O.getHours(),re=O.getMinutes();if(L){const ye=function fr(O){const Y=(0,d.cg1)(O);return An(Y),(Y[d.wAp.ExtraData][2]||[]).map(H=>"string"==typeof H?ke(H):[ke(H[0]),ke(H[1])])}(Y),U=function zr(O,Y,Te){const H=(0,d.cg1)(O);An(H);const L=qe([H[d.wAp.ExtraData][0],H[d.wAp.ExtraData][1]],Y)||[];return qe(L,Te)||[]}(Y,me,H),y=ye.findIndex(D=>{if(Array.isArray(D)){const[R,q]=D,ie=Z>=R.hours&&re>=R.minutes,ve=Z<q.hours||Z===q.hours&&re<q.minutes;if(R.hours<q.hours){if(ie&&ve)return!0}else if(ie||ve)return!0}else if(D.hours===Z&&D.minutes===re)return!0;return!1});if(-1!==y)return U[y]}return function mn(O,Y,Te){const H=(0,d.cg1)(O),L=qe([H[d.wAp.DayPeriodsFormat],H[d.wAp.DayPeriodsStandalone]],Y);return qe(L,Te)}(Y,me,H)[Z<12?0:1];case kn.Eras:return function dr(O,Y){return qe((0,d.cg1)(O)[d.wAp.Eras],Y)}(Y,H)[O.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Te}`)}}(me,L,O,Y,Te,H)}}function xr(O){return function(Y,Te,H){const me=-1*H,L=ft(Te,Jt.MinusSign),Z=me>0?Math.floor(me/60):Math.ceil(me/60);switch(O){case Wt.Short:return(me>=0?"+":"")+Vr(Z,2,L)+Vr(Math.abs(me%60),2,L);case Wt.ShortGMT:return"GMT"+(me>=0?"+":"")+Vr(Z,1,L);case Wt.Long:return"GMT"+(me>=0?"+":"")+Vr(Z,2,L)+":"+Vr(Math.abs(me%60),2,L);case Wt.Extended:return 0===H?"Z":(me>=0?"+":"")+Vr(Z,2,L)+":"+Vr(Math.abs(me%60),2,L);default:throw new Error(`Unknown zone width "${O}"`)}}}const Ai=0,fi=4;function yt(O){return Lr(O.getFullYear(),O.getMonth(),O.getDate()+(fi-O.getDay()))}function Fe(O,Y=!1){return function(Te,H){let me;if(Y){const L=new Date(Te.getFullYear(),Te.getMonth(),1).getDay()-1,Z=Te.getDate();me=1+Math.floor((Z+L)/7)}else{const L=yt(Te),Z=function ui(O){const Y=Lr(O,Ai,1).getDay();return Lr(O,0,1+(Y<=fi?fi:fi+7)-Y)}(L.getFullYear()),re=L.getTime()-Z.getTime();me=1+Math.round(re/6048e5)}return Vr(me,O,ft(H,Jt.MinusSign))}}function St(O,Y=!1){return function(Te,H){return Vr(yt(Te).getFullYear(),O,ft(H,Jt.MinusSign),Y)}}const ht={};function Yt(O,Y){O=O.replace(/:/g,"");const Te=Date.parse("Jan 01, 1970 00:00:00 "+O)/6e4;return isNaN(Te)?Y:Te}function Ce(O){return O instanceof Date&&!isNaN(O.valueOf())}function Gi(O,Y){Y=encodeURIComponent(Y);for(const Te of O.split(";")){const H=Te.indexOf("="),[me,L]=-1==H?[Te,""]:[Te.slice(0,H),Te.slice(H+1)];if(me.trim()===Y)return decodeURIComponent(L)}return null}class Xs{constructor(Y,Te,H,me){this.$implicit=Y,this.ngForOf=Te,this.index=H,this.count=me}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gs=(()=>{var O;class Y{set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}constructor(H,me,L){this._viewContainer=H,this._template=me,this._differs=L,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const me=this._viewContainer;H.forEachOperation((L,Z,re)=>{if(null==L.previousIndex)me.createEmbeddedView(this._template,new Xs(L.item,this._ngForOf,-1,-1),null===re?void 0:re);else if(null==re)me.remove(null===Z?void 0:Z);else if(null!==Z){const ce=me.get(Z);me.move(ce,re),Rr(ce,L)}});for(let L=0,Z=me.length;L<Z;L++){const ce=me.get(L).context;ce.index=L,ce.count=Z,ce.ngForOf=this._ngForOf}H.forEachIdentityChange(L=>{Rr(me.get(L.currentIndex),L)})}static ngTemplateContextGuard(H,me){return!0}}return(O=Y).\u0275fac=function(H){return new(H||O)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},O.\u0275dir=d.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),Y})();function Rr(O,Y){O.context.$implicit=Y.item}let Ss=(()=>{var O;class Y{constructor(H,me){this._viewContainer=H,this._context=new _a,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=me}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){Qa("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){Qa("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,me){return!0}}return(O=Y).\u0275fac=function(H){return new(H||O)(d.Y36(d.s_b),d.Y36(d.Rgc))},O.\u0275dir=d.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),Y})();class _a{constructor(){this.$implicit=null,this.ngIf=null}}function Qa(O,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,d.AaK)(Y)}'.`)}let Dr=(()=>{var O;class Y{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(H){if(H.ngTemplateOutlet||H.ngTemplateOutletInjector){const me=this._viewContainerRef;if(this._viewRef&&me.remove(me.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:L,ngTemplateOutletContext:Z,ngTemplateOutletInjector:re}=this;this._viewRef=me.createEmbeddedView(L,Z,re?{injector:re}:void 0)}else this._viewRef=null}else this._viewRef&&H.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(O=Y).\u0275fac=function(H){return new(H||O)(d.Y36(d.s_b))},O.\u0275dir=d.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),Y})(),Ii=(()=>{var O;class Y{}return(O=Y).\u0275fac=function(H){return new(H||O)},O.\u0275mod=d.oAB({type:O}),O.\u0275inj=d.cJS({}),Y})();const xs="browser",To="server";function to(O){return O===To}let ji=(()=>{var O;class Y{}return(O=Y).\u0275prov=(0,d.Yz7)({token:O,providedIn:"root",factory:()=>new zi((0,d.LFG)(Ve),window)}),Y})();class zi{constructor(Y,Te){this.document=Y,this.window=Te,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Y){this.supportsScrolling()&&this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){if(!this.supportsScrolling())return;const Te=function cl(O,Y){const Te=O.getElementById(Y)||O.getElementsByName(Y)[0];if(Te)return Te;if("function"==typeof O.createTreeWalker&&O.body&&"function"==typeof O.body.attachShadow){const H=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let me=H.currentNode;for(;me;){const L=me.shadowRoot;if(L){const Z=L.getElementById(Y)||L.querySelector(`[name="${Y}"]`);if(Z)return Z}me=H.nextNode()}}return null}(this.document,Y);Te&&(this.scrollToElement(Te),Te.focus())}setHistoryScrollRestoration(Y){this.supportsScrolling()&&(this.window.history.scrollRestoration=Y)}scrollToElement(Y){const Te=Y.getBoundingClientRect(),H=Te.left+this.window.pageXOffset,me=Te.top+this.window.pageYOffset,L=this.offset();this.window.scrollTo(H-L[0],me-L[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Fs{}},5879:(bn,gt,W)=>{W.d(gt,{$8M:()=>Zu,$WT:()=>Cs,$Z:()=>C1,AFp:()=>Gg,AaK:()=>Ze,BQk:()=>BE,CHM:()=>so,CRH:()=>Nf,EJc:()=>VT,EiD:()=>fp,EpF:()=>iI,F$t:()=>eA,F4k:()=>QS,FYo:()=>X_,FiY:()=>Pt,Gf:()=>jw,GfV:()=>ty,Gpc:()=>jt,HDt:()=>lC,Hsn:()=>tA,Ikx:()=>Ka,JOm:()=>Kh,JVY:()=>Al,JZr:()=>vn,KtG:()=>Pa,L6k:()=>ku,LAX:()=>Ql,LFG:()=>qt,LMc:()=>AC,Lbi:()=>W_,Lck:()=>NA,MAs:()=>GS,MGl:()=>$E,MMx:()=>Hu,NdJ:()=>jE,Ojb:()=>sS,OlP:()=>Bs,Oqu:()=>Vy,P3R:()=>U0,PXZ:()=>ib,Q6J:()=>tI,QGY:()=>UE,QbO:()=>H0,Qsj:()=>dS,R0b:()=>qa,RDi:()=>pn,Rgc:()=>_d,SBq:()=>ff,SDv:()=>Iw,Sil:()=>cC,Suo:()=>ti,TTD:()=>U,TgZ:()=>bh,Tol:()=>$p,VKq:()=>Ow,VuI:()=>wC,W1O:()=>TT,WLB:()=>Dh,X6Q:()=>ug,XFs:()=>Wt,Xpm:()=>As,Xq5:()=>pm,Xts:()=>Vg,Y36:()=>mh,YKP:()=>tT,YNc:()=>US,Yjl:()=>ia,Yz7:()=>An,Z0I:()=>qe,ZZ4:()=>Wd,_Bn:()=>Dw,_UZ:()=>nI,_c5:()=>ua,_uU:()=>wI,aQg:()=>Qv,c2e:()=>zm,cJS:()=>zr,cg1:()=>Zy,dDg:()=>$T,dqk:()=>cr,eBb:()=>Fu,eFA:()=>ab,eJc:()=>Gw,ekj:()=>Tm,eoX:()=>Go,f3M:()=>hn,g9A:()=>G0,h0i:()=>xf,hGG:()=>Zv,hij:()=>By,iGM:()=>bT,ifc:()=>Kr,ip1:()=>Qw,jDz:()=>rT,kEZ:()=>Mw,kL8:()=>OI,lG2:()=>eo,lqb:()=>Uu,lri:()=>tb,mCW:()=>Lc,n5z:()=>Zd,oAB:()=>co,oJD:()=>hh,oxw:()=>XS,pB0:()=>Zl,q3G:()=>id,q4F:()=>eE,qFp:()=>gD,qLn:()=>tu,qOj:()=>W1,qZA:()=>Up,qzn:()=>ea,rWj:()=>Ml,rg0:()=>me,s9C:()=>aI,sBO:()=>$f,s_b:()=>zu,soG:()=>bo,tb:()=>Bv,tp0:()=>Sn,uIk:()=>Fd,vHH:()=>He,vpe:()=>yc,wAp:()=>gd,xp6:()=>S1,ynx:()=>My,z2F:()=>Mh,z3N:()=>ao,zSh:()=>Bg,zW0:()=>xE,zs3:()=>Tu});var d=W(8645),oe=W(7394),fe=W(5592),we=W(3019),Pe=W(5619),Ve=W(2096),be=W(3020),lt=W(4664),We=W(3997);function _e(i){for(let o in i)if(i[o]===_e)return o;throw Error("Could not find renamed property on target object.")}function Oe(i,o){for(const l in o)o.hasOwnProperty(l)&&!i.hasOwnProperty(l)&&(i[l]=o[l])}function Ze(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ze).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function bt(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Be=_e({__forward_ref__:_e});function jt(i){return i.__forward_ref__=jt,i.toString=function(){return Ze(this())},i}function st(i){return tn(i)?i():i}function tn(i){return"function"==typeof i&&i.hasOwnProperty(Be)&&i.__forward_ref__===jt}function Lt(i){return i&&!!i.\u0275providers}const vn="https://g.co/ng/security#xss";class He extends Error{constructor(o,l){super(function Tt(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,l)),this.code=o}}function ot(i){return"string"==typeof i?i:null==i?"":String(i)}function Jt(i,o){throw new He(-201,!1)}function Ut(i,o,l,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}function An(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function zr(i){return{providers:i.providers||[],imports:i.imports||[]}}function wn(i){return ke(i,wt)||ke(i,or)}function qe(i){return null!==wn(i)}function ke(i,o){return i.hasOwnProperty(o)?i[o]:null}function Rt(i){return i&&(i.hasOwnProperty(Ht)||i.hasOwnProperty(ln))?i[Ht]:null}const wt=_e({\u0275prov:_e}),Ht=_e({\u0275inj:_e}),or=_e({ngInjectableDef:_e}),ln=_e({ngInjectorDef:_e});var Wt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Wt||{});let rn;function nr(i){const o=rn;return rn=i,o}function Lr(i,o,l){const u=wn(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&Wt.Optional?null:void 0!==o?o:void Jt(Ze(i))}const cr=globalThis,ht={},an="__NG_DI_FLAG__",Yt="ngTempTokenPath",Me=/\n/gm,se="__source";let Ce;function Le(i){const o=Ce;return Ce=i,o}function Ot(i,o=Wt.Default){if(void 0===Ce)throw new He(-203,!1);return null===Ce?Lr(i,void 0,o):Ce.get(i,o&Wt.Optional?null:void 0,o)}function qt(i,o=Wt.Default){return(function kn(){return rn}()||Ot)(st(i),o)}function hn(i,o=Wt.Default){return qt(i,kr(o))}function kr(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function mr(i){const o=[];for(let l=0;l<i.length;l++){const u=st(i[l]);if(Array.isArray(u)){if(0===u.length)throw new He(900,!1);let h,m=Wt.Default;for(let T=0;T<u.length;T++){const C=u[T],B=Ei(C);"number"==typeof B?-1===B?h=C.token:m|=B:h=C}o.push(qt(h,m))}else o.push(qt(u))}return o}function Br(i,o){return i[an]=o,i.prototype[an]=o,i}function Ei(i){return i[an]}function Xi(i){return{toString:i}.toString()}var Jr=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Jr||{}),Kr=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Kr||{});const Hi={},_r=[],Bi=_e({\u0275cmp:_e}),es=_e({\u0275dir:_e}),Zs=_e({\u0275pipe:_e}),Js=_e({\u0275mod:_e}),oi=_e({\u0275fac:_e}),Gi=_e({__NG_ELEMENT_ID__:_e}),ks=_e({__NG_ENV_ID__:_e});function Ds(i,o,l){let u=i.length;for(;;){const h=i.indexOf(o,l);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const m=o.length;if(h+m===u||i.charCodeAt(h+m)<=32)return h}l=h+1}}function js(i,o,l){let u=0;for(;u<l.length;){const h=l[u];if("number"==typeof h){if(0!==h)break;u++;const m=l[u++],T=l[u++],C=l[u++];i.setAttribute(o,T,C,m)}else{const m=h,T=l[++u];lo(m)?i.setProperty(o,m,T):i.setAttribute(o,m,T),u++}}return u}function xi(i){return 3===i||4===i||6===i}function lo(i){return 64===i.charCodeAt(0)}function Xs(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||gs(i,l,h,null,-1===l||2===l?o[++u]:null)}}return i}function gs(i,o,l,u,h){let m=0,T=i.length;if(-1===o)T=-1;else for(;m<i.length;){const C=i[m++];if("number"==typeof C){if(C===o){T=-1;break}if(C>o){T=m-1;break}}}for(;m<i.length;){const C=i[m];if("number"==typeof C)break;if(C===l){if(null===u)return void(null!==h&&(i[m+1]=h));if(u===i[m+1])return void(i[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==T&&(i.splice(T,0,o),m=T+1),i.splice(m++,0,l),null!==u&&i.splice(m++,0,u),null!==h&&i.splice(m++,0,h)}const Rr="ng-template";function $s(i,o,l){let u=0,h=!0;for(;u<i.length;){let m=i[u++];if("string"==typeof m&&h){const T=i[u++];if(l&&"class"===m&&-1!==Ds(T.toLowerCase(),o,0))return!0}else{if(1===m){for(;u<i.length&&"string"==typeof(m=i[u++]);)if(m.toLowerCase()===o)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function Ss(i){return 4===i.type&&i.value!==Rr}function _a(i,o,l){return o===(4!==i.type||l?i.value:Rr)}function Qa(i,o,l){let u=4;const h=i.attrs||[],m=function Xt(i){for(let o=0;o<i.length;o++)if(xi(i[o]))return o;return i.length}(h);let T=!1;for(let C=0;C<o.length;C++){const B=o[C];if("number"!=typeof B){if(!T)if(4&u){if(u=2|1&u,""!==B&&!_a(i,B,l)||""===B&&1===o.length){if(Ge(u))return!1;T=!0}}else{const X=8&u?B:o[++C];if(8&u&&null!==i.attrs){if(!$s(i.attrs,X,l)){if(Ge(u))return!1;T=!0}continue}const xe=ze(8&u?"class":B,h,Ss(i),l);if(-1===xe){if(Ge(u))return!1;T=!0;continue}if(""!==X){let Qe;Qe=xe>m?"":h[xe+1].toLowerCase();const _t=8&u?Qe:null;if(_t&&-1!==Ds(_t,X,0)||2&u&&X!==Qe){if(Ge(u))return!1;T=!0}}}}else{if(!T&&!Ge(u)&&!Ge(B))return!1;if(T&&Ge(B))continue;T=!1,u=B|1&u}}return Ge(u)||T}function Ge(i){return 0==(1&i)}function ze(i,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let m=!1;for(;h<o.length;){const T=o[h];if(T===i)return h;if(3===T||6===T)m=!0;else{if(1===T||2===T){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===T)break;if(0===T){h+=4;continue}}h+=m?1:2}return-1}return function qn(i,o){let l=i.indexOf(4);if(l>-1)for(l++;l<i.length;){const u=i[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,i)}function ut(i,o,l=!1){for(let u=0;u<o.length;u++)if(Qa(i,o[u],l))return!0;return!1}function Ur(i,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(i.length===u.length){for(let h=0;h<i.length;h++)if(i[h]!==u[h])continue e;return!0}}return!1}function Or(i,o){return i?":not("+o.trim()+")":o}function Dr(i){let o=i[0],l=1,u=2,h="",m=!1;for(;l<i.length;){let T=i[l];if("string"==typeof T)if(2&u){const C=i[++l];h+="["+T+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?h+="."+T:4&u&&(h+=" "+T);else""!==h&&!Ge(T)&&(o+=Or(m,h),h=""),u=T,m=m||!Ge(u);l++}return""!==h&&(o+=Or(m,h)),o}function As(i){return Xi(()=>{const o=uo(i),l={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Jr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Kr.Emulated,styles:i.styles||_r,_:null,schemas:i.schemas||null,tView:null,id:""};Ho(l);const u=i.dependencies;return l.directiveDefs=ts(u,!1),l.pipeDefs=ts(u,!0),l.id=function Ui(i){let o=0;const l=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of l)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(l),l})}function Po(i){return Mr(i)||wi(i)}function ya(i){return null!==i}function co(i){return Xi(()=>({type:i.type,bootstrap:i.bootstrap||_r,declarations:i.declarations||_r,imports:i.imports||_r,exports:i.exports||_r,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function No(i,o){if(null==i)return Hi;const l={};for(const u in i)if(i.hasOwnProperty(u)){let h=i[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),l[h]=u,o&&(o[h]=m)}return l}function eo(i){return Xi(()=>{const o=uo(i);return Ho(o),o})}function ia(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Mr(i){return i[Bi]||null}function wi(i){return i[es]||null}function di(i){return i[Zs]||null}function Cs(i){const o=Mr(i)||wi(i)||di(i);return null!==o&&o.standalone}function ms(i,o){const l=i[Js]||null;if(!l&&!0===o)throw new Error(`Type ${Ze(i)} does not have '\u0275mod' property.`);return l}function uo(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||Hi,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||_r,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:No(i.inputs,o),outputs:No(i.outputs)}}function Ho(i){i.features?.forEach(o=>o(i))}function ts(i,o){if(!i)return null;const l=o?di:Po;return()=>("function"==typeof i?i():i).map(u=>l(u)).filter(ya)}const jr=0,_n=1,pr=2,gi=3,rr=4,ho=5,mi=6,_s=7,Ii=8,xs=9,To=10,sr=11,Gs=12,zo=13,to=14,ai=15,Do=16,Rs=17,ji=18,zi=19,cl=20,So=21,Fs=22,no=23,Hs=24,Fr=25,da=1,Ea=2,ys=7,sa=9,Wi=11;function Fi(i){return Array.isArray(i)&&"object"==typeof i[da]}function $i(i){return Array.isArray(i)&&!0===i[da]}function rs(i){return 0!=(4&i.flags)}function ro(i){return i.componentOffset>-1}function Qr(i){return 1==(1&i.flags)}function ds(i){return!!i.template}function ko(i){return 0!=(512&i[pr])}function Es(i,o){return i.hasOwnProperty(oi)?i[oi]:null}let qi=null,ha=!1;function ws(i){const o=qi;return qi=i,o}const Ao={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ja(i){if(!Yo(i)||i.dirty){if(!i.producerMustRecompute(i)&&!Nl(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function dl(i){i.dirty=!0,function qo(i){if(void 0===i.liveConsumerNode)return;const o=ha;ha=!0;try{for(const l of i.liveConsumerNode)l.dirty||dl(l)}finally{ha=o}}(i),i.consumerMarkedDirty?.(i)}function ba(i){return i&&(i.nextProducerIndex=0),ws(i)}function Ki(i,o){if(ws(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(Yo(i))for(let l=i.nextProducerIndex;l<i.producerNode.length;l++)Ko(i.producerNode[l],i.producerIndexOfThis[l]);for(let l=i.nextProducerIndex;l<i.producerNode.length;l++)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Nl(i){Qo(i);for(let o=0;o<i.producerNode.length;o++){const l=i.producerNode[o],u=i.producerLastReadVersion[o];if(u!==l.version||(Ja(l),u!==l.version))return!0}return!1}function Ls(i){if(Qo(i),Yo(i))for(let o=0;o<i.producerNode.length;o++)Ko(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function Ko(i,o){if(function Lo(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Qo(i),1===i.liveConsumerNode.length)for(let u=0;u<i.producerNode.length;u++)Ko(i.producerNode[u],i.producerIndexOfThis[u]);const l=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[l],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[l],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const u=i.liveConsumerIndexOfThis[o],h=i.liveConsumerNode[o];Qo(h),h.producerIndexOfThis[u]=o}}function Yo(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Qo(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Kl=null;function me(i){const o=ws(null);try{return i()}finally{ws(o)}}const Z=()=>{},re={...Ao,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:Z};class ye{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function U(){return y}function y(i){return i.type.prototype.ngOnChanges&&(i.setInput=R),D}function D(){const i=ie(this),o=i?.current;if(o){const l=i.previous;if(l===Hi)i.previous=o;else for(let u in o)l[u]=o[u];i.current=null,this.ngOnChanges(o)}}function R(i,o,l,u){const h=this.declaredInputs[l],m=ie(i)||function ve(i,o){return i[q]=o}(i,{previous:Hi,current:null}),T=m.current||(m.current={}),C=m.previous,B=C[h];T[h]=new ye(B&&B.currentValue,o,C===Hi),i[u]=o}U.ngInherit=!0;const q="__ngSimpleChanges__";function ie(i){return i[q]||null}const et=function(i,o,l){};function it(i){for(;Array.isArray(i);)i=i[jr];return i}function En(i,o){return it(o[i])}function $n(i,o){return it(o[i.index])}function In(i,o){return i.data[o]}function $t(i,o){const l=o[i];return Fi(l)?l:l[jr]}function Ns(i,o){return null==o?null:i[o]}function fa(i){i[Rs]=0}function Li(i){1024&i[pr]||(i[pr]|=1024,Ws(i,1))}function kl(i){1024&i[pr]&&(i[pr]&=-1025,Ws(i,-1))}function Ws(i,o){let l=i[gi];if(null===l)return;l[ho]+=o;let u=l;for(l=l[gi];null!==l&&(1===o&&1===u[ho]||-1===o&&0===u[ho]);)l[ho]+=o,u=l,l=l[gi]}const Er={lFrame:le(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ri(){return Er.bindingsEnabled}function Xr(){return null!==Er.skipHydrationRootTNode}function Ye(){return Er.lFrame.lView}function Nr(){return Er.lFrame.tView}function so(i){return Er.lFrame.contextLView=i,i[Ii]}function Pa(i){return Er.lFrame.contextLView=null,i}function fs(){let i=Fl();for(;null!==i&&64===i.type;)i=i.parent;return i}function Fl(){return Er.lFrame.currentTNode}function Au(){const i=Er.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}function oa(i,o){const l=Er.lFrame;l.currentTNode=i,l.isParent=o}function hu(){return Er.lFrame.isParent}function fu(){Er.lFrame.isParent=!1}function Ro(){const i=Er.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function Et(){return Er.lFrame.bindingIndex++}function Ta(i){const o=Er.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,l}function Kd(i){Er.lFrame.inI18n=i}function $c(i,o){const l=Er.lFrame;l.bindingIndex=l.bindingRootIndex=i,pu(o)}function pu(i){Er.lFrame.currentDirectiveIndex=i}function Sc(){return Er.lFrame.currentQueryIndex}function A(i){Er.lFrame.currentQueryIndex=i}function N(i){const o=i[_n];return 2===o.type?o.declTNode:1===o.type?i[mi]:null}function j(i,o,l){if(l&Wt.SkipSelf){let h=o,m=i;for(;!(h=h.parent,null!==h||l&Wt.Host||(h=N(m),null===h||(m=m[to],10&h.type))););if(null===h)return!1;o=h,i=m}const u=Er.lFrame=G();return u.currentTNode=o,u.lView=i,!0}function P(i){const o=G(),l=i[_n];Er.lFrame=o,o.currentTNode=l.firstChild,o.lView=i,o.tView=l,o.contextLView=i,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function G(){const i=Er.lFrame,o=null===i?null:i.child;return null===o?le(i):o}function le(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Ee(){const i=Er.lFrame;return Er.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Xe=Ee;function nn(){const i=Ee();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function gr(){return Er.lFrame.selectedIndex}function Oi(i){Er.lFrame.selectedIndex=i}function wr(){const i=Er.lFrame;return In(i.tView,i.selectedIndex)}let cc=!0;function El(){return cc}function uc(i){cc=i}function Ll(i,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const m=i.data[l].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:C,ngAfterViewInit:B,ngAfterViewChecked:X,ngOnDestroy:ae}=m;T&&(i.contentHooks??=[]).push(-l,T),C&&((i.contentHooks??=[]).push(l,C),(i.contentCheckHooks??=[]).push(l,C)),B&&(i.viewHooks??=[]).push(-l,B),X&&((i.viewHooks??=[]).push(l,X),(i.viewCheckHooks??=[]).push(l,X)),null!=ae&&(i.destroyHooks??=[]).push(l,ae)}}function bd(i,o,l){ss(i,o,3,l)}function gu(i,o,l,u){(3&i[pr])===l&&ss(i,o,l,u)}function Id(i,o){let l=i[pr];(3&l)===o&&(l&=8191,l+=1,i[pr]=l)}function ss(i,o,l,u){const m=u??-1,T=o.length-1;let C=0;for(let B=void 0!==u?65535&i[Rs]:0;B<T;B++)if("number"==typeof o[B+1]){if(C=o[B],null!=u&&C>=u)break}else o[B]<0&&(i[Rs]+=65536),(C<m||-1==m)&&(Ku(i,l,o,B),i[Rs]=(4294901760&i[Rs])+B+2),B++}function qu(i,o){et(4,i,o);const l=ws(null);try{o.call(i)}finally{ws(l),et(5,i,o)}}function Ku(i,o,l,u){const h=l[u]<0,m=l[u+1],C=i[h?-l[u]:l[u]];h?i[pr]>>13<i[Rs]>>16&&(3&i[pr])===o&&(i[pr]+=8192,qu(C,m)):qu(C,m)}const bl=-1;class Gc{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function Ac(i){return i!==bl}function oo(i){return 32767&i}function zc(i,o){let l=function os(i){return i>>16}(i),u=o;for(;l>0;)u=u[to],l--;return u}let Cc=!0;function Xo(i){const o=Cc;return Cc=i,o}const Lh=255,Oo=5;let Vh=0;const Uo={};function Na(i,o){const l=Rc(i,o);if(-1!==l)return l;const u=o[_n];u.firstCreatePass&&(i.injectorIndex=o.length,xc(u.data,i),xc(o,null),xc(u.blueprint,null));const h=Vl(i,o),m=i.injectorIndex;if(Ac(h)){const T=oo(h),C=zc(h,o),B=C[_n].data;for(let X=0;X<8;X++)o[m+X]=C[T+X]|B[T+X]}return o[m+8]=h,m}function xc(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Rc(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Vl(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){if(u=Bh(h),null===u)return bl;if(l++,h=h[to],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return bl}function Wc(i,o,l){!function Ks(i,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(Gi)&&(u=l[Gi]),null==u&&(u=l[Gi]=Vh++);const h=u&Lh;o.data[i+(h>>Oo)]|=1<<h}(i,o,l)}function el(i,o,l){if(l&Wt.Optional||void 0!==i)return i;Jt()}function qc(i,o,l,u){if(l&Wt.Optional&&void 0===u&&(u=null),!(l&(Wt.Self|Wt.Host))){const h=i[xs],m=nr(void 0);try{return h?h.get(o,u,l&Wt.Optional):Lr(o,u,l&Wt.Optional)}finally{nr(m)}}return el(u,0,l)}function tl(i,o,l,u=Wt.Default,h){if(null!==i){if(2048&o[pr]&&!(u&Wt.Self)){const T=function Dd(i,o,l,u,h){let m=i,T=o;for(;null!==m&&null!==T&&2048&T[pr]&&!(512&T[pr]);){const C=ka(m,T,l,u|Wt.Self,Uo);if(C!==Uo)return C;let B=m.parent;if(!B){const X=T[cl];if(X){const ae=X.get(l,Uo,u);if(ae!==Uo)return ae}B=Bh(T),T=T[to]}m=B}return h}(i,o,l,u,Uo);if(T!==Uo)return T}const m=ka(i,o,l,u,Uo);if(m!==Uo)return m}return qc(o,l,u,h)}function ka(i,o,l,u,h){const m=function Kc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Gi)?i[Gi]:void 0;return"number"==typeof o?o>=0?o&Lh:Yc:o}(l);if("function"==typeof m){if(!j(o,i,u))return u&Wt.Host?el(h,0,u):qc(o,l,u,h);try{let T;if(T=m(u),null!=T||u&Wt.Optional)return T;Jt()}finally{Xe()}}else if("number"==typeof m){let T=null,C=Rc(i,o),B=bl,X=u&Wt.Host?o[ai][mi]:null;for((-1===C||u&Wt.SkipSelf)&&(B=-1===C?Vl(i,o):o[C+8],B!==bl&&fc(u,!1)?(T=o[_n],C=oo(B),o=zc(B,o)):C=-1);-1!==C;){const ae=o[_n];if(Td(m,C,ae.data)){const xe=Qu(C,o,l,T,u,X);if(xe!==Uo)return xe}B=o[C+8],B!==bl&&fc(u,o[_n].data[C+8]===X)&&Td(m,C,o)?(T=ae,C=oo(B),o=zc(B,o)):C=-1}}return h}function Qu(i,o,l,u,h,m){const T=o[_n],C=T.data[i+8],ae=hc(C,T,l,null==u?ro(C)&&Cc:u!=T&&0!=(3&C.type),h&Wt.Host&&m===C);return null!==ae?mu(o,T,ae,C):Uo}function hc(i,o,l,u,h){const m=i.providerIndexes,T=o.data,C=1048575&m,B=i.directiveStart,ae=m>>20,Qe=h?C+ae:i.directiveEnd;for(let _t=u?C:C+ae;_t<Qe;_t++){const zt=T[_t];if(_t<B&&l===zt||_t>=B&&zt.type===l)return _t}if(h){const _t=T[B];if(_t&&ds(_t)&&_t.type===l)return B}return null}function mu(i,o,l,u){let h=i[l];const m=o.data;if(function kh(i){return i instanceof Gc}(h)){const T=h;T.resolving&&function Dt(i,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new He(-200,`Circular dependency in DI detected for ${i}${l}`)}(function at(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ot(i)}(m[l]));const C=Xo(T.canSeeViewProviders);T.resolving=!0;const X=T.injectImpl?nr(T.injectImpl):null;j(i,u,Wt.Default);try{h=i[l]=T.factory(void 0,m,i,u),o.firstCreatePass&&l>=u.directiveStart&&function wl(i,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(u){const T=y(o);(l.preOrderHooks??=[]).push(i,T),(l.preOrderCheckHooks??=[]).push(i,T)}h&&(l.preOrderHooks??=[]).push(0-i,h),m&&((l.preOrderHooks??=[]).push(i,m),(l.preOrderCheckHooks??=[]).push(i,m))}(l,m[l],o)}finally{null!==X&&nr(X),Xo(C),T.resolving=!1,Xe()}}return h}function Td(i,o,l){return!!(l[o+(i>>Oo)]&1<<i)}function fc(i,o){return!(i&Wt.Self||i&Wt.Host&&o)}class Mo{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return tl(this._tNode,this._lView,o,kr(u),l)}}function Yc(){return new Mo(fs(),Ye())}function Zd(i){return Xi(()=>{const o=i.prototype.constructor,l=o[oi]||Ul(o),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const m=h[oi]||Ul(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ul(i){return tn(i)?()=>{const o=Ul(st(i));return o&&o()}:Es(i)}function Bh(i){const o=i[_n],l=o.type;return 2===l?o.declTNode:1===l?i[mi]:null}function Zu(i){return function Bl(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const l=i.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const m=l[h];if(xi(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(m===o)return l[h+1];h+=2}}}return null}(fs(),i)}const _u="__parameters__";function ee(i,o,l){return Xi(()=>{const u=function $(i){return function(...l){if(i){const u=i(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...m){if(this instanceof h)return u.apply(this,m),this;const T=new h(...m);return C.annotation=T,C;function C(B,X,ae){const xe=B.hasOwnProperty(_u)?B[_u]:Object.defineProperty(B,_u,{value:[]})[_u];for(;xe.length<=ae;)xe.push(null);return(xe[ae]=xe[ae]||[]).push(T),B}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function Qc(i,o){i.forEach(l=>Array.isArray(l)?Qc(l,o):o(l))}function wg(i,o,l){o>=i.length?i.push(l):i.splice(o,0,l)}function pc(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function jl(i,o){const l=[];for(let u=0;u<i;u++)l.push(o);return l}function pa(i,o,l){let u=gc(i,o);return u>=0?i[1|u]=l:(u=~u,function Uh(i,o,l,u){let h=i.length;if(h==o)i.push(l,u);else if(1===h)i.push(u,i[0]),i[0]=l;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=l,i[o+1]=u}}(i,u,o,l)),u}function Ju(i,o){const l=gc(i,o);if(l>=0)return i[1|l]}function gc(i,o){return function Ad(i,o,l){let u=0,h=i.length>>l;for(;h!==u;){const m=u+(h-u>>1),T=i[m<<l];if(o===T)return m<<l;T>o?h=m:u=m+1}return~(h<<l)}(i,o,1)}const Pt=Br(ee("Optional"),8),Sn=Br(ee("SkipSelf"),4);function xd(i){return 128==(128&i.flags)}var Kh=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Kh||{});const rh=/^>|^->|<!--|-->|--!>|<!-$/g,y_=/(<|>)/g,D0="\u200b$1\u200b";const Fc=new Map;let v_=0;const b_="__ngContext__";function Yi(i,o){Fi(o)?(i[b_]=o[zi],function w_(i){Fc.set(i[zi],i)}(o)):i[b_]=o}let sh;function Qh(i,o){return sh(i,o)}function Zh(i){const o=i[gi];return $i(o)?o[gi]:o}function op(i){return x0(i[Gs])}function A_(i){return x0(i[rr])}function x0(i){for(;null!==i&&!$i(i);)i=i[rr];return i}function Jh(i,o,l,u,h){if(null!=u){let m,T=!1;$i(u)?m=u:Fi(u)&&(T=!0,u=u[jr]);const C=it(u);0===i&&null!==l?null==h?ef(o,l,C):rd(o,l,C,h||null,!0):1===i&&null!==l?rd(o,l,C,h||null,!0):2===i?function dp(i,o,l){const u=oh(i,o);u&&function $b(i,o,l,u){i.removeChild(o,l,u)}(i,u,o,l)}(o,C,T):3===i&&o.destroyNode(C),null!=m&&function p(i,o,l,u,h){const m=l[ys];m!==it(l)&&Jh(o,i,u,m,h);for(let C=Wi;C<l.length;C++){const B=l[C];ah(B[_n],B,i,o,u,m)}}(o,i,m,l,h)}}function Cg(i,o){return i.createText(o)}function ap(i,o){return i.createComment(function ih(i){return i.replace(rh,o=>o.replace(y_,D0))}(o))}function td(i,o,l){return i.createElement(o,l)}function wu(i,o){const l=i[sa],u=l.indexOf(o);kl(o),l.splice(u,1)}function Xh(i,o){if(i.length<=Wi)return;const l=Wi+o,u=i[l];if(u){const h=u[Do];null!==h&&h!==i&&wu(h,u),o>0&&(i[l-1][rr]=u[rr]);const m=pc(i,Wi+o);!function x_(i,o){ah(i,o,o[sr],2,null,null),o[jr]=null,o[mi]=null}(u[_n],u);const T=m[ji];null!==T&&T.detachView(m[_n]),u[gi]=null,u[rr]=null,u[pr]&=-129}return u}function xg(i,o){if(!(256&o[pr])){const l=o[sr];o[no]&&Ls(o[no]),o[Hs]&&Ls(o[Hs]),l.destroyNode&&ah(i,o,l,3,null,null),function lp(i){let o=i[Gs];if(!o)return nd(i[_n],i);for(;o;){let l=null;if(Fi(o))l=o[Gs];else{const u=o[Wi];u&&(l=u)}if(!l){for(;o&&!o[rr]&&o!==i;)Fi(o)&&nd(o[_n],o),o=o[gi];null===o&&(o=i),Fi(o)&&nd(o[_n],o),l=o&&o[rr]}o=l}}(o)}}function nd(i,o){if(!(256&o[pr])){o[pr]&=-129,o[pr]|=256,function M0(i,o){let l;if(null!=i&&null!=(l=i.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof Gc)){const m=l[u+1];if(Array.isArray(m))for(let T=0;T<m.length;T+=2){const C=h[m[T]],B=m[T+1];et(4,C,B);try{B.call(C)}finally{et(5,C,B)}}else{et(4,h,m);try{m.call(h)}finally{et(5,h,m)}}}}}(i,o),function O0(i,o){const l=i.cleanup,u=o[_s];if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const T=l[m+3];T>=0?u[T]():u[-T].unsubscribe(),m+=2}else l[m].call(u[l[m+1]]);null!==u&&(o[_s]=null);const h=o[So];if(null!==h){o[So]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(i,o),1===o[_n].type&&o[sr].destroy();const l=o[Do];if(null!==l&&$i(o[gi])){l!==o[gi]&&wu(l,o);const u=o[ji];null!==u&&u.detachView(i)}!function ep(i){Fc.delete(i[zi])}(o)}}function Rg(i,o,l){return P0(i,o.parent,l)}function P0(i,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[jr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:m}=i.data[u.directiveStart+h];if(m===Kr.None||m===Kr.Emulated)return null}return $n(u,l)}}function rd(i,o,l,u,h){i.insertBefore(o,l,u,h)}function ef(i,o,l){i.appendChild(o,l)}function Og(i,o,l,u,h){null!==u?rd(i,o,l,u,h):ef(i,o,l)}function oh(i,o){return i.parentNode(o)}function k0(i,o,l){return F0(i,o,l)}function R_(i,o,l){return 40&i.type?$n(i,l):null}let up,V,Vn,ei,F0=R_;function L0(i,o){F0=i,up=o}function bu(i,o,l,u){const h=Rg(i,u,o),m=o[sr],C=k0(u.parent||o[mi],u,o);if(null!=h)if(Array.isArray(l))for(let B=0;B<l.length;B++)Og(m,h,l[B],C,!1);else Og(m,h,l,C,!1);void 0!==up&&up(m,u,o,l,h)}function Iu(i,o){if(null!==o){const l=o.type;if(3&l)return $n(o,i);if(4&l)return M_(-1,i[o.index]);if(8&l){const u=o.child;if(null!==u)return Iu(i,u);{const h=i[o.index];return $i(h)?M_(-1,h):it(h)}}if(32&l)return Qh(o,i)()||it(i[o.index]);{const u=O_(i,o);return null!==u?Array.isArray(u)?u[0]:Iu(Zh(i[ai]),u):Iu(i,o.next)}}return null}function O_(i,o){return null!==o?i[ai][mi].projection[o.projection]:null}function M_(i,o){const l=Wi+i+1;if(l<o.length){const u=o[l],h=u[_n].firstChild;if(null!==h)return Iu(u,h)}return o[ys]}function Mg(i,o,l,u,h,m,T){for(;null!=l;){const C=u[l.index],B=l.type;if(T&&0===o&&(C&&Yi(it(C),u),l.flags|=2),32!=(32&l.flags))if(8&B)Mg(i,o,l.child,u,h,m,!1),Jh(o,i,h,C,m);else if(32&B){const X=Qh(l,u);let ae;for(;ae=X();)Jh(o,i,h,ae,m);Jh(o,i,h,C,m)}else 16&B?tf(i,o,u,l,h,m):Jh(o,i,h,C,m);l=T?l.projectionNext:l.next}}function ah(i,o,l,u,h,m){Mg(l,u,i.firstChild,o,h,m,!1)}function tf(i,o,l,u,h,m){const T=l[ai],B=T[mi].projection[u.projection];if(Array.isArray(B))for(let X=0;X<B.length;X++)Jh(o,i,h,B[X],m);else{let X=B;const ae=T[gi];xd(u)&&(X.flags|=128),Mg(i,o,X,ae,h,m,!0)}}function f(i,o,l){""===l?i.removeAttribute(o,"class"):i.setAttribute(o,"class",l)}function E(i,o,l){const{mergedAttrs:u,classes:h,styles:m}=l;null!==u&&js(i,o,u),null!==h&&f(i,o,h),null!==m&&function w(i,o,l){i.setAttribute(o,"style",l)}(i,o,m)}function Ne(i){return function te(){if(void 0===V&&(V=null,cr.trustedTypes))try{V=cr.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return V}()?.createHTML(i)||i}function pn(i){Vn=i}function Pr(){if(void 0!==Vn)return Vn;if(typeof document<"u")return document;throw new He(210,!1)}function br(){if(void 0===ei&&(ei=null,cr.trustedTypes))try{ei=cr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return ei}function Mi(i){return br()?.createHTML(i)||i}function vo(i){return br()?.createScriptURL(i)||i}class Yr{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vn})`}}class Di extends Yr{getTypeName(){return"HTML"}}class Pi extends Yr{getTypeName(){return"Style"}}class Eo extends Yr{getTypeName(){return"Script"}}class Ys extends Yr{getTypeName(){return"URL"}}class Fa extends Yr{getTypeName(){return"ResourceURL"}}function ao(i){return i instanceof Yr?i.changingThisBreaksApplicationSecurity:i}function ea(i,o){const l=function _c(i){return i instanceof Yr&&i.getTypeName()||null}(i);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${vn})`)}return l===o}function Al(i){return new Di(i)}function ku(i){return new Pi(i)}function Fu(i){return new Eo(i)}function Ql(i){return new Ys(i)}function Zl(i){return new Fa(i)}function nf(i){const o=new Od(i);return function Pg(){try{return!!(new window.DOMParser).parseFromString(Ne(""),"text/html")}catch{return!1}}()?new Lu(o):o}class Lu{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Ne(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class Od{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=Ne(o),l}}const lh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lc(i){return(i=String(i)).match(lh)?i:"unsafe:"+i}function Wa(i){const o={};for(const l of i.split(","))o[l]=!0;return o}function rl(...i){const o={};for(const l of i)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const Md=Wa("area,br,col,hr,img,wbr"),ch=Wa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ta=Wa("rp,rt"),hp=rl(Md,rl(ch,Wa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rl(ta,Wa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rl(ta,ch)),eu=Wa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vu=rl(eu,Wa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),N_=Wa("script,style,template");class uh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!hp.hasOwnProperty(l))return this.sanitizedSomething=!0,!N_.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),T=m.name,C=T.toLowerCase();if(!Vu.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let B=m.value;eu[C]&&(B=Lc(B)),this.buf.push(" ",T,'="',dh(B),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();hp.hasOwnProperty(l)&&!Md.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(dh(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const k_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jl=/([^\#-~ |!])/g;function dh(i){return i.replace(/&/g,"&amp;").replace(k_,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Jl,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let af;function fp(i,o){let l=null;try{af=af||nf(i);let u=o?String(o):"";l=af.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=l.innerHTML,l=af.getInertBodyElement(u)}while(u!==m);return Ne((new uh).sanitizeChildren(lf(l)||l))}finally{if(l){const u=lf(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function lf(i){return"content"in i&&function Fg(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var id=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(id||{});function hh(i){const o=pp();return o?Mi(o.sanitize(id.HTML,i)||""):ea(i,"HTML")?Mi(ao(i)):fp(Pr(),ot(i))}function Hb(i){const o=pp();return o?o.sanitize(id.URL,i)||"":ea(i,"URL")?ao(i):Lc(ot(i))}function B0(i){const o=pp();if(o)return vo(o.sanitize(id.RESOURCE_URL,i)||"");if(ea(i,"ResourceURL"))return vo(ao(i));throw new He(904,!1)}function U0(i,o,l){return function Lg(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?B0:Hb}(o,l)(i)}function pp(){const i=Ye();return i&&i[To].sanitizer}class Bs{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=An({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Vg=new Bs("ENVIRONMENT_INITIALIZER"),L_=new Bs("INJECTOR",-1),il=new Bs("INJECTOR_DEF_TYPES");class j0{get(o,l=ht){if(l===ht){const u=new Error(`NullInjectorError: No provider for ${Ze(o)}!`);throw u.name="NullInjectorError",u}return l}}function eS(...i){return{\u0275providers:qb(0,i),\u0275fromNgModule:!0}}function qb(i,...o){const l=[],u=new Set;let h;const m=T=>{l.push(T)};return Qc(o,T=>{const C=T;B_(C,m,[],u)&&(h||=[],h.push(C))}),void 0!==h&&V_(h,m),l}function V_(i,o){for(let l=0;l<i.length;l++){const{ngModule:u,providers:h}=i[l];gp(h,m=>{o(m,u)})}}function B_(i,o,l,u){if(!(i=st(i)))return!1;let h=null,m=Rt(i);const T=!m&&Mr(i);if(m||T){if(T&&!T.standalone)return!1;h=i}else{const B=i.ngModule;if(m=Rt(B),!m)return!1;h=B}const C=u.has(h);if(T){if(C)return!1;if(u.add(h),T.dependencies){const B="function"==typeof T.dependencies?T.dependencies():T.dependencies;for(const X of B)B_(X,o,l,u)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let X;u.add(h);try{Qc(m.imports,ae=>{B_(ae,o,l,u)&&(X||=[],X.push(ae))})}finally{}void 0!==X&&V_(X,o)}if(!C){const X=Es(h)||(()=>new h);o({provide:h,useFactory:X,deps:_r},h),o({provide:il,useValue:h,multi:!0},h),o({provide:Vg,useValue:()=>qt(h),multi:!0},h)}const B=m.providers;if(null!=B&&!C){const X=i;gp(B,ae=>{o(ae,X)})}}}return h!==i&&void 0!==i.providers}function gp(i,o){for(let l of i)Lt(l)&&(l=l.\u0275providers),Array.isArray(l)?gp(l,o):o(l)}const tS=_e({provide:String,useValue:_e});function U_(i){return null!==i&&"object"==typeof i&&tS in i}function Bu(i){return"function"==typeof i}const Bg=new Bs("Set Injector scope."),mp={},nS={};let H_;function z_(){return void 0===H_&&(H_=new j0),H_}class Uu{}class Ug extends Uu{get destroyed(){return this._destroyed}constructor(o,l,u,h){super(),this.parent=l,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$g(o,T=>this.processProvider(T)),this.records.set(L_,uf(void 0,this)),h.has("environment")&&this.records.set(Uu,uf(void 0,this));const m=this.records.get(Bg);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(il.multi,_r,Wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of o)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const l=Le(this),u=nr(void 0);try{return o()}finally{Le(l),nr(u)}}get(o,l=ht,u=Wt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(ks))return o[ks](this);u=kr(u);const m=Le(this),T=nr(void 0);try{if(!(u&Wt.SkipSelf)){let B=this.records.get(o);if(void 0===B){const X=function yp(i){return"function"==typeof i||"object"==typeof i&&i instanceof Bs}(o)&&wn(o);B=X&&this.injectableDefInScope(X)?uf(jg(o),mp):null,this.records.set(o,B)}if(null!=B)return this.hydrate(o,B)}return(u&Wt.Self?z_():this.parent).get(o,l=u&Wt.Optional&&l===ht?null:l)}catch(C){if("NullInjectorError"===C.name){if((C[Yt]=C[Yt]||[]).unshift(Ze(o)),m)throw C;return function Ci(i,o,l,u){const h=i[Yt];throw o[se]&&h.unshift(o[se]),i.message=function Ji(i,o,l,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=Ze(o);if(Array.isArray(o))h=o.map(Ze).join(" -> ");else if("object"==typeof o){let m=[];for(let T in o)if(o.hasOwnProperty(T)){let C=o[T];m.push(T+":"+("string"==typeof C?JSON.stringify(C):Ze(C)))}h=`{${m.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${i.replace(Me,"\n  ")}`}("\n"+i.message,h,l,u),i.ngTokenPath=h,i[Yt]=null,i}(C,o,"R3InjectorError",this.source)}throw C}finally{nr(T),Le(m)}}resolveInjectorInitializers(){const o=Le(this),l=nr(void 0);try{const h=this.get(Vg.multi,_r,Wt.Self);for(const m of h)m()}finally{Le(o),nr(l)}}toString(){const o=[],l=this.records;for(const u of l.keys())o.push(Ze(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processProvider(o){let l=Bu(o=st(o))?o:st(o&&o.provide);const u=function Kb(i){return U_(i)?uf(void 0,i.useValue):uf(Yb(i),mp)}(o);if(Bu(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=uf(void 0,mp,!0),h.factory=()=>mr(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,u)}hydrate(o,l){return l.value===mp&&(l.value=nS,l.value=l.factory()),"object"==typeof l.value&&l.value&&function _p(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=st(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(o){const l=this._onDestroyHooks.indexOf(o);-1!==l&&this._onDestroyHooks.splice(l,1)}}function jg(i){const o=wn(i),l=null!==o?o.factory:Es(i);if(null!==l)return l;if(i instanceof Bs)throw new He(204,!1);if(i instanceof Function)return function rS(i){const o=i.length;if(o>0)throw jl(o,"?"),new He(204,!1);const l=function mt(i){return i&&(i[wt]||i[or])||null}(i);return null!==l?()=>l.factory(i):()=>new i}(i);throw new He(204,!1)}function Yb(i,o,l){let u;if(Bu(i)){const h=st(i);return Es(h)||jg(h)}if(U_(i))u=()=>st(i.useValue);else if(function $_(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...mr(i.deps||[]));else if(function j_(i){return!(!i||!i.useExisting)}(i))u=()=>qt(st(i.useExisting));else{const h=st(i&&(i.useClass||i.provide));if(!function iS(i){return!!i.deps}(i))return Es(h)||jg(h);u=()=>new h(...mr(i.deps))}return u}function uf(i,o,l=!1){return{factory:i,value:o,multi:l?[]:void 0}}function $g(i,o){for(const l of i)Array.isArray(l)?$g(l,o):l&&Lt(l)?$g(l.\u0275providers,o):o(l)}const Gg=new Bs("AppId",{providedIn:"root",factory:()=>Qb}),Qb="ng",G0=new Bs("Platform Initializer"),W_=new Bs("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),H0=new Bs("AnimationModuleType"),sS=new Bs("CSP nonce",{providedIn:"root",factory:()=>Pr().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kg=(i,o,l)=>null;function q0(i,o,l=!1){return Kg(i,o,l)}class J_{}class Tp{}class J0{resolveComponentFactory(o){throw function Q0(i){const o=Error(`No component factory found for ${Ze(i)}.`);return o.ngComponent=i,o}(o)}}let ju=(()=>{class o{}return o.NULL=new J0,o})();function e1(){return Dp(fs(),Ye())}function Dp(i,o){return new ff($n(i,o))}let ff=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=e1,o})();function uS(i){return i instanceof ff?i.nativeElement:i}class X_{}let dS=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function X0(){const i=Ye(),l=$t(fs().index,i);return(Fi(l)?l:i)[sr]}(),o})(),ey=(()=>{var i;class o{}return(i=o).\u0275prov=An({token:i,providedIn:"root",factory:()=>null}),o})();class ty{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const eE=new ty("16.2.5"),gh={};function c1(i,o=null,l=null,u){const h=ny(i,o,l,u);return h.resolveInjectorInitializers(),h}function ny(i,o=null,l=null,u,h=new Set){const m=[l||_r,eS(i)];return u=u||("object"==typeof i?void 0:Ze(i)),new Ug(m,o||z_(),u||null,h)}let Tu=(()=>{var i;class o{static create(u,h){if(Array.isArray(u))return c1({name:""},h,u,"");{const m=u.name??"";return c1({name:m},u.parent,u.providers,m)}}}return(i=o).THROW_IF_NOT_FOUND=ht,i.NULL=new j0,i.\u0275prov=An({token:i,providedIn:"any",factory:()=>qt(L_)}),i.__NG_ELEMENT_ID__=-1,o})();function Zg(i){return i.ngOriginalError}class tu{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Zg(o);for(;l&&Zg(l);)l=Zg(l);return l||null}}function iy(i){return o=>{setTimeout(i,void 0,o)}}const yc=class Sp extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){let h=o,m=l||(()=>null),T=u;if(o&&"object"==typeof o){const B=o;h=B.next?.bind(B),m=B.error?.bind(B),T=B.complete?.bind(B)}this.__isAsync&&(m=iy(m),h&&(h=iy(h)),T&&(T=iy(T)));const C=super.subscribe({next:h,error:m,complete:T});return o instanceof oe.w0&&o.add(C),C}};function d1(...i){}class qa{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yc(!1),this.onMicrotaskEmpty=new yc(!1),this.onStable=new yc(!1),this.onError=new yc(!1),typeof Zone>"u")throw new He(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function fS(){const i="function"==typeof cr.requestAnimationFrame;let o=cr[i?"requestAnimationFrame":"setTimeout"],l=cr[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function gS(i){const o=()=>{!function pS(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(cr,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,em(i),i.isCheckStableRunning=!0,Xg(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),em(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,m,T,C)=>{if(function m1(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(C))return l.invokeTask(h,m,T,C);try{return sy(i),l.invokeTask(h,m,T,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||i.shouldCoalesceRunChangeDetection)&&o(),f1(i)}},onInvoke:(l,u,h,m,T,C,B)=>{try{return sy(i),l.invoke(h,m,T,C,B)}finally{i.shouldCoalesceRunChangeDetection&&o(),f1(i)}},onHasTask:(l,u,h,m)=>{l.hasTask(h,m),u===h&&("microTask"==m.change?(i._hasPendingMicrotasks=m.microTask,em(i),Xg(i)):"macroTask"==m.change&&(i.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,u,h,m)=>(l.handleError(h,m),i.runOutsideAngular(()=>i.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qa.isInAngularZone())throw new He(909,!1)}static assertNotInAngularZone(){if(qa.isInAngularZone())throw new He(909,!1)}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const m=this._inner,T=m.scheduleEventTask("NgZoneEvent: "+h,o,sE,d1,d1);try{return m.runTask(T,l,u)}finally{m.cancelTask(T)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const sE={};function Xg(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function em(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function sy(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function f1(i){i._nesting--,Xg(i)}class p1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yc,this.onMicrotaskEmpty=new yc,this.onStable=new yc,this.onError=new yc}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}const g1=new Bs("",{providedIn:"root",factory:oE});function oE(){const i=hn(qa);let o=!0;const l=new fe.y(h=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(o),h.complete()})}),u=new fe.y(h=>{let m;i.runOutsideAngular(()=>{m=i.onStable.subscribe(()=>{qa.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const T=i.onUnstable.subscribe(()=>{qa.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{m.unsubscribe(),T.unsubscribe()}});return(0,we.T)(l,u.pipe((0,be.B)()))}function Pd(i){return i instanceof Function?i():i}let tm=(()=>{var i;class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(i=o).\u0275prov=An({token:i,providedIn:"root",factory:()=>new i}),o})();function nm(i){for(;i;){i[pr]|=64;const o=Zh(i);if(ko(i)&&!o)return i;i=o}return null}const ay=new Bs("",{providedIn:"root",factory:()=>!1});let im=null;function T1(i,o){return i[o]??D1()}function dy(i,o){const l=D1();l.producerNode?.length&&(i[o]=im,l.lView=i,im=hy())}const Nd={...Ao,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{nm(i.lView)},lView:null};function hy(){return Object.create(Nd)}function D1(){return im??=hy(),im}const ii={};function S1(i){A1(Nr(),Ye(),gr()+i,!1)}function A1(i,o,l,u){if(!u)if(3==(3&o[pr])){const m=i.preOrderCheckHooks;null!==m&&bd(o,m,l)}else{const m=i.preOrderHooks;null!==m&&gu(o,m,0,l)}Oi(l)}function mh(i,o=Wt.Default){const l=Ye();return null===l?qt(i,o):tl(fs(),l,st(i),o)}function C1(){throw new Error("invalid")}function fy(i,o,l,u,h,m,T,C,B,X,ae){const xe=o.blueprint.slice();return xe[jr]=h,xe[pr]=140|u,(null!==X||i&&2048&i[pr])&&(xe[pr]|=2048),fa(xe),xe[gi]=xe[to]=i,xe[Ii]=l,xe[To]=T||i&&i[To],xe[sr]=C||i&&i[sr],xe[xs]=B||i&&i[xs]||null,xe[mi]=m,xe[zi]=function E_(){return v_++}(),xe[Fs]=ae,xe[cl]=X,xe[ai]=2==o.type?i[ai]:xe,xe}function _h(i,o,l,u,h){let m=i.data[o];if(null===m)m=fE(i,o,l,u,h),function ml(){return Er.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=l,m.value=u,m.attrs=h;const T=Au();m.injectorIndex=null===T?-1:T.injectorIndex}return oa(m,!0),m}function fE(i,o,l,u,h){const m=Fl(),T=hu(),B=i.data[o]=function R1(i,o,l,u,h,m){let T=o?o.injectorIndex:-1,C=0;return Xr()&&(C|=128),{type:l,index:u,insertBeforeIndex:null,injectorIndex:T,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:C,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?m:m&&m.parent,l,o,u,h);return null===i.firstChild&&(i.firstChild=B),null!==m&&(T?null==m.child&&null!==B.parent&&(m.child=B):null===m.next&&(m.next=B,B.prev=m)),B}function pf(i,o,l,u){if(0===l)return-1;const h=o.length;for(let m=0;m<l;m++)o.push(u),i.blueprint.push(u),i.data.push(null);return h}function pE(i,o,l,u,h){const m=T1(o,no),T=gr(),C=2&u;try{Oi(-1),C&&o.length>Fr&&A1(i,o,Fr,!1),et(C?2:0,h);const X=C?m:null,ae=ba(X);try{null!==X&&(X.dirty=!1),l(u,h)}finally{Ki(X,ae)}}finally{C&&null===o[no]&&dy(o,no),Oi(T),et(C?3:1,h)}}function sm(i,o,l){if(rs(o)){const u=ws(null);try{const m=o.directiveEnd;for(let T=o.directiveStart;T<m;T++){const C=i.data[T];C.contentQueries&&C.contentQueries(1,l[T],T)}}finally{ws(u)}}}function py(i,o,l){ri()&&(function M1(i,o,l,u){const h=l.directiveStart,m=l.directiveEnd;ro(l)&&function k1(i,o,l){const u=$n(o,i),h=x1(l);let T=16;l.signals?T=4096:l.onPush&&(T=64);const C=cm(i,fy(i,h,null,T,u,o,null,i[To].rendererFactory.createRenderer(u,l),null,null,null));i[o.index]=C}(o,l,i.data[h+l.componentOffset]),i.firstCreatePass||Na(l,o),Yi(u,o);const T=l.initialInputs;for(let C=h;C<m;C++){const B=i.data[C],X=mu(o,i,C,l);Yi(X,o),null!==T&&IS(0,C-h,X,B,0,T),ds(B)&&($t(l.index,o)[Ii]=mu(o,i,C,l))}}(i,o,l,$n(l,o)),64==(64&l.flags)&&vy(i,o,l))}function gE(i,o,l=$n){const u=o.localNames;if(null!==u){let h=o.index+1;for(let m=0;m<u.length;m+=2){const T=u[m+1],C=-1===T?l(o,i):i[T];i[h++]=C}}}function x1(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=om(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function om(i,o,l,u,h,m,T,C,B,X,ae){const xe=Fr+u,Qe=xe+h,_t=function yS(i,o){const l=[];for(let u=0;u<o;u++)l.push(u<i?null:ii);return l}(xe,Qe),zt="function"==typeof X?X():X;return _t[_n]={type:i,blueprint:_t,template:l,queries:null,viewQuery:C,declTNode:o,data:_t.slice().fill(null,xe),bindingStartIndex:xe,expandoStartIndex:Qe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:B,consts:zt,incompleteFirstPass:!1,ssrId:ae}}let gy=i=>null;function yE(i,o,l,u){for(let h in i)if(i.hasOwnProperty(h)){l=null===l?{}:l;const m=i[h];null===u?gf(l,o,h,m):u.hasOwnProperty(h)&&gf(l,o,u[h],m)}return l}function gf(i,o,l,u){i.hasOwnProperty(l)?i[l].push(o,u):i[l]=[o,u]}function nu(i,o,l,u,h,m,T,C){const B=$n(o,l);let ae,X=o.inputs;!C&&null!=X&&(ae=X[u])?(wy(i,l,ae,u,h),ro(o)&&function wS(i,o){const l=$t(o,i);16&l[pr]||(l[pr]|=64)}(l,o.index)):3&o.type&&(u=function _y(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=T?T(h,o.value||"",u):h,m.setProperty(B,u,h))}function Rp(i,o,l,u){if(ri()){const h=null===u?null:{"":-1},m=function Ey(i,o){const l=i.directiveRegistry;let u=null,h=null;if(l)for(let m=0;m<l.length;m++){const T=l[m];if(ut(o,T.selectors,!1))if(u||(u=[]),ds(T))if(null!==T.findHostDirectiveDefs){const C=[];h=h||new Map,T.findHostDirectiveDefs(T,C,h),u.unshift(...C,T),am(i,o,C.length)}else u.unshift(T),am(i,o,0);else h=h||new Map,T.findHostDirectiveDefs?.(T,u,h),u.push(T)}return null===u?null:[u,h]}(i,l);let T,C;null===m?T=C=null:[T,C]=m,null!==T&&yy(i,o,l,T,h,C),h&&function P1(i,o,l){if(o){const u=i.localNames=[];for(let h=0;h<o.length;h+=2){const m=l[o[h+1]];if(null==m)throw new He(-301,!1);u.push(o[h],m)}}}(l,u,h)}l.mergedAttrs=Xs(l.mergedAttrs,l.attrs)}function yy(i,o,l,u,h,m){for(let X=0;X<u.length;X++)Wc(Na(l,o),i,u[X].type);!function N1(i,o,l){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+l,i.providerIndexes=o}(l,i.data.length,u.length);for(let X=0;X<u.length;X++){const ae=u[X];ae.providersResolver&&ae.providersResolver(ae)}let T=!1,C=!1,B=pf(i,o,u.length,null);for(let X=0;X<u.length;X++){const ae=u[X];l.mergedAttrs=Xs(l.mergedAttrs,ae.hostAttrs),bE(i,l,o,B,ae),Op(B,ae,h),null!==ae.contentQueries&&(l.flags|=4),(null!==ae.hostBindings||null!==ae.hostAttrs||0!==ae.hostVars)&&(l.flags|=64);const xe=ae.type.prototype;!T&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((i.preOrderHooks??=[]).push(l.index),T=!0),!C&&(xe.ngOnChanges||xe.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(l.index),C=!0),B++}!function O1(i,o,l){const h=o.directiveEnd,m=i.data,T=o.attrs,C=[];let B=null,X=null;for(let ae=o.directiveStart;ae<h;ae++){const xe=m[ae],Qe=l?l.get(xe):null,zt=Qe?Qe.outputs:null;B=yE(xe.inputs,ae,B,Qe?Qe.inputs:null),X=yE(xe.outputs,ae,X,zt);const gn=null===B||null===T||Ss(o)?null:TS(B,ae,T);C.push(gn)}null!==B&&(B.hasOwnProperty("class")&&(o.flags|=8),B.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=C,o.inputs=B,o.outputs=X}(i,l,m)}function vy(i,o,l){const u=l.directiveStart,h=l.directiveEnd,m=l.index,T=function Dc(){return Er.lFrame.currentDirectiveIndex}();try{Oi(m);for(let C=u;C<h;C++){const B=i.data[C],X=o[C];pu(C),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&wE(B,X)}}finally{Oi(-1),pu(T)}}function wE(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function am(i,o,l){o.componentOffset=l,(i.components??=[]).push(o.index)}function Op(i,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=i;ds(o)&&(l[""]=i)}}function bE(i,o,l,u,h){i.data[u]=h;const m=h.factory||(h.factory=Es(h.type)),T=new Gc(m,ds(h),mh);i.blueprint[u]=T,l[u]=T,function vE(i,o,l,u,h){const m=h.hostBindings;if(m){let T=i.hostBindingOpCodes;null===T&&(T=i.hostBindingOpCodes=[]);const C=~o.index;(function EE(i){let o=i.length;for(;o>0;){const l=i[--o];if("number"==typeof l&&l<0)return l}return 0})(T)!=C&&T.push(C),T.push(l,u,m)}}(i,o,u,pf(i,l,h.hostVars,ii),h)}function vc(i,o,l,u,h,m){const T=$n(i,o);!function lm(i,o,l,u,h,m,T){if(null==m)i.removeAttribute(o,h,l);else{const C=null==T?ot(m):T(m,u||"",h);i.setAttribute(o,h,C,l)}}(o[sr],T,m,i.value,l,u,h)}function IS(i,o,l,u,h,m){const T=m[o];if(null!==T)for(let C=0;C<T.length;)F1(u,l,T[C++],T[C++],T[C++])}function F1(i,o,l,u,h){const m=ws(null);try{const T=i.inputTransforms;null!==T&&T.hasOwnProperty(u)&&(h=T[u].call(o,h)),null!==i.setInput?i.setInput(o,h,l,u):o[u]=h}finally{ws(m)}}function TS(i,o,l){let u=null,h=0;for(;h<l.length;){const m=l[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(i.hasOwnProperty(m)){null===u&&(u=[]);const T=i[m];for(let C=0;C<T.length;C+=2)if(T[C]===o){u.push(m,T[C+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function IE(i,o,l,u){return[i,!0,!1,o,null,0,u,l,null,null,null]}function L1(i,o){const l=i.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const m=l[u+1];if(-1!==m){const T=i.data[m];A(l[u]),T.contentQueries(2,o[m],m)}}}function cm(i,o){return i[Gs]?i[zo][rr]=o:i[Gs]=o,i[zo]=o,o}function TE(i,o,l){A(0);const u=ws(null);try{o(i,l)}finally{ws(u)}}function V1(i){return i[_s]||(i[_s]=[])}function B1(i){return i.cleanup||(i.cleanup=[])}function j1(i,o){const l=i[xs],u=l?l.get(tu,null):null;u&&u.handleError(o)}function wy(i,o,l,u,h){for(let m=0;m<l.length;){const T=l[m++],C=l[m++];F1(i.data[T],o[T],u,C,h)}}function DE(i,o){const l=$t(o,i),u=l[_n];!function DS(i,o){for(let l=o.length;l<i.blueprint.length;l++)o.push(i.blueprint[l])}(u,l);const h=l[jr];null!==h&&null===l[Fs]&&(l[Fs]=q0(h,l[xs])),by(u,l,l[Ii])}function by(i,o,l){P(o);try{const u=i.viewQuery;null!==u&&TE(1,u,l);const h=i.template;null!==h&&pE(i,o,h,1,l),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&L1(i,o),i.staticViewQueries&&TE(2,i.viewQuery,l);const m=i.components;null!==m&&function $1(i,o){for(let l=0;l<o.length;l++)DE(i,o[l])}(o,m)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{o[pr]&=-5,nn()}}let um=(()=>{var i;class o{constructor(){this.all=new Set,this.queue=new Map}create(u,h,m){const T=typeof Zone>"u"?null:Zone.current,C=function L(i,o,l){const u=Object.create(re);l&&(u.consumerAllowSignalWrites=!0),u.fn=i,u.schedule=o;const h=T=>{u.cleanupFn=T};return u.ref={notify:()=>dl(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Nl(u))return;u.hasRun=!0;const T=ba(u);try{u.cleanupFn(),u.cleanupFn=Z,u.fn(h)}finally{Ki(u,T)}},cleanup:()=>u.cleanupFn()},u.ref}(u,ae=>{this.all.has(ae)&&this.queue.set(ae,T)},m);let B;this.all.add(C),C.notify();const X=()=>{C.cleanup(),B?.(),this.all.delete(C),this.queue.delete(C)};return B=h?.onDestroy(X),{destroy:X}}flush(){if(0!==this.queue.size)for(const[u,h]of this.queue)this.queue.delete(u),h?h.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=o).\u0275prov=An({token:i,providedIn:"root",factory:()=>new i}),o})();function dm(i,o,l){let u=l?i.styles:null,h=l?i.classes:null,m=0;if(null!==o)for(let T=0;T<o.length;T++){const C=o[T];"number"==typeof C?m=C:1==m?h=bt(h,C):2==m&&(u=bt(u,C+": "+o[++T]+";"))}l?i.styles=u:i.stylesWithoutHost=u,l?i.classes=h:i.classesWithoutHost=h}function Mp(i,o,l,u,h=!1){for(;null!==l;){const m=o[l.index];null!==m&&u.push(it(m)),$i(m)&&Pp(m,u);const T=l.type;if(8&T)Mp(i,o,l.child,u);else if(32&T){const C=Qh(l,o);let B;for(;B=C();)u.push(B)}else if(16&T){const C=O_(o,l);if(Array.isArray(C))u.push(...C);else{const B=Zh(o[ai]);Mp(B[_n],B,C,u,!0)}}l=h?l.projectionNext:l.next}return u}function Pp(i,o){for(let l=Wi;l<i.length;l++){const u=i[l],h=u[_n].firstChild;null!==h&&Mp(u[_n],u,h,o)}i[ys]!==i[jr]&&o.push(i[ys])}function Iy(i,o,l,u=!0){const h=o[To],m=h.rendererFactory,T=h.afterRenderEventManager;m.begin?.(),T?.begin();try{$u(i,o,i.template,l)}catch(B){throw u&&j1(o,B),B}finally{m.end?.(),h.effectManager?.flush(),T?.end()}}function $u(i,o,l,u){const h=o[pr];if(256!=(256&h)){o[To].effectManager?.flush(),P(o);try{fa(o),function Yl(i){return Er.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==l&&pE(i,o,l,2,u);const T=3==(3&h);if(T){const X=i.preOrderCheckHooks;null!==X&&bd(o,X,null)}else{const X=i.preOrderHooks;null!==X&&gu(o,X,0,null),Id(o,0)}if(function IR(i){for(let o=op(i);null!==o;o=A_(o)){if(!o[Ea])continue;const l=o[sa];for(let u=0;u<l.length;u++){Li(l[u])}}}(o),SS(o,2),null!==i.contentQueries&&L1(i,o),T){const X=i.contentCheckHooks;null!==X&&bd(o,X)}else{const X=i.contentHooks;null!==X&&gu(o,X,1),Id(o,1)}!function hE(i,o){const l=i.hostBindingOpCodes;if(null===l)return;const u=T1(o,Hs);try{for(let h=0;h<l.length;h++){const m=l[h];if(m<0)Oi(~m);else{const T=m,C=l[++h],B=l[++h];$c(C,T),u.dirty=!1;const X=ba(u);try{B(2,o[T])}finally{Ki(u,X)}}}}finally{null===o[Hs]&&dy(o,Hs),Oi(-1)}}(i,o);const C=i.components;null!==C&&SE(o,C,0);const B=i.viewQuery;if(null!==B&&TE(2,B,u),T){const X=i.viewCheckHooks;null!==X&&bd(o,X)}else{const X=i.viewHooks;null!==X&&gu(o,X,2),Id(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[pr]&=-73,kl(o)}finally{nn()}}}function SS(i,o){for(let l=op(i);null!==l;l=A_(l))for(let u=Wi;u<l.length;u++)CS(l[u],o)}function AS(i,o,l){CS($t(o,i),l)}function CS(i,o){if(!function Kt(i){return 128==(128&i[pr])}(i))return;const l=i[_n],u=i[pr];if(80&u&&0===o||1024&u||2===o)$u(l,i,l.template,i[Ii]);else if(i[ho]>0){SS(i,1);const h=l.components;null!==h&&SE(i,h,1)}}function SE(i,o,l){for(let u=0;u<o.length;u++)AS(i,o[u],l)}class hm{get rootNodes(){const o=this._lView,l=o[_n];return Mp(l,o,l.firstChild,[])}constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ii]}set context(o){this._lView[Ii]=o}get destroyed(){return 256==(256&this._lView[pr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[gi];if($i(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(Xh(o,u),pc(l,u))}this._attachedToViewContainer=!1}xg(this._lView[_n],this._lView)}onDestroy(o){!function Ma(i,o){if(256==(256&i[pr]))throw new He(911,!1);null===i[So]&&(i[So]=[]),i[So].push(o)}(this._lView,o)}markForCheck(){nm(this._cdRefInjectingView||this._lView)}detach(){this._lView[pr]&=-129}reattach(){this._lView[pr]|=128}detectChanges(){Iy(this._lView[_n],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Da(i,o){ah(i,o,o[sr],2,null,null)}(this._lView[_n],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new He(902,!1);this._appRef=o}}class AE extends hm{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Iy(o[_n],o,o[Ii],!1)}checkNoChanges(){}get context(){return null}}class G1 extends ju{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Mr(o);return new Ty(l,this.ngModule)}}function xS(i){const o=[];for(let l in i)i.hasOwnProperty(l)&&o.push({propName:i[l],templateName:l});return o}class TR{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,u){u=kr(u);const h=this.injector.get(o,gh,u);return h!==gh||l===gh?h:this.parentInjector.get(o,l,u)}}class Ty extends Tp{get inputs(){const o=this.componentDef,l=o.inputTransforms,u=xS(o.inputs);if(null!==l)for(const h of u)l.hasOwnProperty(h.propName)&&(h.transform=l[h.propName]);return u}get outputs(){return xS(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function na(i){return i.map(Dr).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,u,h){let m=(h=h||this.ngModule)instanceof Uu?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const T=m?new TR(o,m):o,C=T.get(X_,null);if(null===C)throw new He(407,!1);const xe={rendererFactory:C,sanitizer:T.get(ey,null),effectManager:T.get(um,null),afterRenderEventManager:T.get(tm,null)},Qe=C.createRenderer(null,this.componentDef),_t=this.componentDef.selectors[0][0]||"div",zt=u?function mE(i,o,l,u){const m=u.get(ay,!1)||l===Kr.ShadowDom,T=i.selectRootElement(o,m);return function _E(i){gy(i)}(T),T}(Qe,u,this.componentDef.encapsulation,T):td(Qe,_t,function jo(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(_t)),Ar=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let on=null;null!==zt&&(on=q0(zt,T,!0));const ni=om(0,null,null,1,0,null,null,null,null,null,null),Ni=fy(null,ni,null,Ar,null,null,xe,Qe,T,null,on);let Is,oc;P(Ni);try{const qd=this.componentDef;let Yf,t_=null;qd.findHostDirectiveDefs?(Yf=[],t_=new Map,qd.findHostDirectiveDefs(qd,Yf,t_),Yf.push(qd)):Yf=[qd];const mD=function H1(i,o){const l=i[_n],u=Fr;return i[u]=o,_h(l,u,2,"#host",null)}(Ni,zt),xC=function DR(i,o,l,u,h,m,T){const C=h[_n];!function SR(i,o,l,u){for(const h of i)o.mergedAttrs=Xs(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(dm(o,o.mergedAttrs,!0),null!==l&&E(u,l,o))}(u,i,o,T);let B=null;null!==o&&(B=q0(o,h[xs]));const X=m.rendererFactory.createRenderer(o,l);let ae=16;l.signals?ae=4096:l.onPush&&(ae=64);const xe=fy(h,x1(l),null,ae,h[i.index],i,m,X,null,null,B);return C.firstCreatePass&&am(C,i,u.length-1),cm(h,xe),h[i.index]=xe}(mD,zt,qd,Yf,Ni,xe,Qe);oc=In(ni,Fr),zt&&function AR(i,o,l,u){if(u)js(i,l,["ng-version",eE.full]);else{const{attrs:h,classes:m}=function us(i){const o=[],l=[];let u=1,h=2;for(;u<i.length;){let m=i[u];if("string"==typeof m)2===h?""!==m&&o.push(m,i[++u]):8===h&&l.push(m);else{if(!Ge(h))break;h=m}u++}return{attrs:o,classes:l}}(o.selectors[0]);h&&js(i,l,h),m&&m.length>0&&f(i,l,m.join(" "))}}(Qe,qd,zt,u),void 0!==l&&function CR(i,o,l){const u=i.projection=[];for(let h=0;h<o.length;h++){const m=l[h];u.push(null!=m?Array.from(m):null)}}(oc,this.ngContentSelectors,l),Is=function z1(i,o,l,u,h,m){const T=fs(),C=h[_n],B=$n(T,h);yy(C,h,T,l,null,u);for(let ae=0;ae<l.length;ae++)Yi(mu(h,C,T.directiveStart+ae,T),h);vy(C,h,T),B&&Yi(B,h);const X=mu(h,C,T.directiveStart+T.componentOffset,T);if(i[Ii]=h[Ii]=X,null!==m)for(const ae of m)ae(X,o);return sm(C,T,i),X}(xC,qd,Yf,t_,Ni,[xR]),by(ni,Ni,null)}finally{nn()}return new Va(this.componentType,Is,Dp(oc,Ni),Ni,oc)}}class Va extends J_{constructor(o,l,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new AE(h),this.componentType=o}setInput(o,l){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),l))return;const m=this._rootLView;wy(m[_n],m,h,o,l),this.previousInputValues.set(o,l),nm($t(this._tNode.index,m))}}get injector(){return new Mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function xR(){const i=fs();Ll(Ye()[_n],i)}function W1(i){let o=function RS(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),l=!0;const u=[i];for(;o;){let h;if(ds(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new He(903,!1);h=o.\u0275dir}if(h){if(l){u.push(h);const T=i;T.inputs=CE(i.inputs),T.inputTransforms=CE(i.inputTransforms),T.declaredInputs=CE(i.declaredInputs),T.outputs=CE(i.outputs);const C=h.hostBindings;C&&OS(i,C);const B=h.viewQuery,X=h.contentQueries;if(B&&q1(i,B),X&&fm(i,X),Oe(i.inputs,h.inputs),Oe(i.declaredInputs,h.declaredInputs),Oe(i.outputs,h.outputs),null!==h.inputTransforms&&(null===T.inputTransforms&&(T.inputTransforms={}),Oe(T.inputTransforms,h.inputTransforms)),ds(h)&&h.data.animation){const ae=i.data;ae.animation=(ae.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let T=0;T<m.length;T++){const C=m[T];C&&C.ngInherit&&C(i),C===W1&&(l=!1)}}o=Object.getPrototypeOf(o)}!function RR(i){let o=0,l=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Xs(h.hostAttrs,l=Xs(l,h.hostAttrs))}}(u)}function CE(i){return i===Hi?{}:i===_r?[]:i}function q1(i,o){const l=i.viewQuery;i.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function fm(i,o){const l=i.contentQueries;i.contentQueries=l?(u,h,m)=>{o(u,h,m),l(u,h,m)}:o}function OS(i,o){const l=i.hostBindings;i.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}function xE(i){return o=>{o.findHostDirectiveDefs=Dy,o.hostDirectives=(Array.isArray(i)?i:i()).map(l=>"function"==typeof l?{directive:st(l),inputs:Hi,outputs:Hi}:{directive:st(l.directive),inputs:K1(l.inputs),outputs:K1(l.outputs)})}}function Dy(i,o,l){if(null!==i.hostDirectives)for(const u of i.hostDirectives){const h=wi(u.directive);MS(h.declaredInputs,u.inputs),Dy(h,o,l),l.set(h,u),o.push(h)}}function K1(i){if(void 0===i||0===i.length)return Hi;const o={};for(let l=0;l<i.length;l+=2)o[i[l]]=i[l+1];return o}function MS(i,o){for(const l in o)o.hasOwnProperty(l)&&(i[o[l]]=i[l])}function pm(i){const o=i.inputConfig,l={};for(const u in o)if(o.hasOwnProperty(u)){const h=o[u];Array.isArray(h)&&h[2]&&(l[u]=h[2])}i.inputTransforms=l}function kd(i){return!!Sy(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Sy(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ad(i,o,l){return i[o]=l}function ec(i,o,l){return!Object.is(i[o],l)&&(i[o]=l,!0)}function yh(i,o,l,u){const h=ec(i,o,l);return ec(i,o+1,u)||h}function Fd(i,o,l,u){const h=Ye();return ec(h,Et(),o)&&(Nr(),vc(wr(),h,i,o,l,u)),Fd}function yf(i,o,l,u){return ec(i,Et(),l)?o+ot(l)+u:ii}function US(i,o,l,u,h,m,T,C){const B=Ye(),X=Nr(),ae=i+Fr,xe=X.firstCreatePass?function jR(i,o,l,u,h,m,T,C,B){const X=o.consts,ae=_h(o,i,4,T||null,Ns(X,C));Rp(o,l,ae,Ns(X,B)),Ll(o,ae);const xe=ae.tView=om(2,ae,u,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,X,null);return null!==o.queries&&(o.queries.template(o,ae),xe.queries=o.queries.embeddedTView(ae)),ae}(ae,X,B,o,l,u,h,m,T):X.data[ae];oa(xe,!1);const Qe=jS(X,B,xe,i);El()&&bu(X,B,Qe,xe),Yi(Qe,B),cm(B,B[ae]=IE(Qe,B,Qe,xe)),Qr(xe)&&py(X,B,xe),null!=T&&gE(B,xe,C)}let jS=function $S(i,o,l,u){return uc(!0),o[sr].createComment("")};function GS(i){return function Ri(i,o){return i[o]}(function Ha(){return Er.lFrame.contextLView}(),Fr+i)}function tI(i,o,l){const u=Ye();return ec(u,Et(),o)&&nu(Nr(),wr(),u,i,o,u[sr],l,!1),tI}function VE(i,o,l,u,h){const T=h?"class":"style";wy(i,l,o.inputs[T],T,u)}function bh(i,o,l,u){const h=Ye(),m=Nr(),T=Fr+i,C=h[sr],B=m.firstCreatePass?function zR(i,o,l,u,h,m){const T=o.consts,B=_h(o,i,2,u,Ns(T,h));return Rp(o,l,B,Ns(T,m)),null!==B.attrs&&dm(B,B.attrs,!1),null!==B.mergedAttrs&&dm(B,B.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,B),B}(T,m,h,o,l,u):m.data[T],X=rI(m,h,B,C,o,i);h[T]=X;const ae=Qr(B);return oa(B,!0),E(C,X,B),32!=(32&B.flags)&&El()&&bu(m,h,X,B),0===function tr(){return Er.lFrame.elementDepthCount}()&&Yi(X,h),function Qt(){Er.lFrame.elementDepthCount++}(),ae&&(py(m,h,B),sm(m,B,h)),null!==u&&gE(h,B),bh}function Up(){let i=fs();hu()?fu():(i=i.parent,oa(i,!1));const o=i;(function Nn(i){return Er.skipHydrationRootTNode===i})(o)&&function bs(){Er.skipHydrationRootTNode=null}(),function Zr(){Er.lFrame.elementDepthCount--}();const l=Nr();return l.firstCreatePass&&(Ll(l,i),rs(i)&&l.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Yu(i){return 0!=(8&i.flags)}(o)&&VE(l,o,Ye(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function dc(i){return 0!=(16&i.flags)}(o)&&VE(l,o,Ye(),o.stylesWithoutHost,!1),Up}function nI(i,o,l,u){return bh(i,o,l,u),Up(),nI}let rI=(i,o,l,u,h,m)=>(uc(!0),td(u,h,function xu(){return Er.lFrame.currentNamespace}()));function My(i,o,l){const u=Ye(),h=Nr(),m=i+Fr,T=h.firstCreatePass?function WS(i,o,l,u,h){const m=o.consts,T=Ns(m,u),C=_h(o,i,8,"ng-container",T);return null!==T&&dm(C,T,!0),Rp(o,l,C,Ns(m,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,h,u,o,l):h.data[m];oa(T,!0);const C=KS(h,u,T,i);return u[m]=C,El()&&bu(h,u,C,T),Yi(C,u),Qr(T)&&(py(h,u,T),sm(h,T,u)),null!=l&&gE(u,T),My}function BE(){let i=fs();const o=Nr();return hu()?fu():(i=i.parent,oa(i,!1)),o.firstCreatePass&&(Ll(o,i),rs(i)&&o.queries.elementEnd(i)),BE}let KS=(i,o,l,u)=>(uc(!0),ap(o[sr],""));function iI(){return Ye()}function UE(i){return!!i&&"function"==typeof i.then}function QS(i){return!!i&&"function"==typeof i.subscribe}function jE(i,o,l,u){const h=Ye(),m=Nr(),T=fs();return function oI(i,o,l,u,h,m,T){const C=Qr(u),X=i.firstCreatePass&&B1(i),ae=o[Ii],xe=V1(o);let Qe=!0;if(3&u.type||T){const gn=$n(u,o),Yn=T?T(gn):gn,Ar=xe.length,on=T?Ni=>T(it(Ni[u.index])):u.index;let ni=null;if(!T&&C&&(ni=function Py(i,o,l,u){const h=i.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const T=h[m];if(T===l&&h[m+1]===u){const C=o[_s],B=h[m+2];return C.length>B?C[B]:null}"string"==typeof T&&(m+=2)}return null}(i,o,h,u.index)),null!==ni)(ni.__ngLastListenerFn__||ni).__ngNextListenerFn__=m,ni.__ngLastListenerFn__=m,Qe=!1;else{m=JS(u,o,ae,m,!1);const Ni=l.listen(Yn,h,m);xe.push(m,Ni),X&&X.push(h,on,Ar,Ar+1)}}else m=JS(u,o,ae,m,!1);const _t=u.outputs;let zt;if(Qe&&null!==_t&&(zt=_t[h])){const gn=zt.length;if(gn)for(let Yn=0;Yn<gn;Yn+=2){const Is=o[zt[Yn]][zt[Yn+1]].subscribe(m),oc=xe.length;xe.push(m,Is),X&&X.push(h,u.index,oc,-(oc+1))}}}(m,h,h[sr],T,i,o,u),jE}function ZS(i,o,l,u){try{return et(6,o,l),!1!==l(u)}catch(h){return j1(i,h),!1}finally{et(7,o,l)}}function JS(i,o,l,u,h){return function m(T){if(T===Function)return u;nm(i.componentOffset>-1?$t(i.index,o):o);let B=ZS(o,l,u,T),X=m.__ngNextListenerFn__;for(;X;)B=ZS(o,l,X,T)&&B,X=X.__ngNextListenerFn__;return h&&!1===B&&T.preventDefault(),B}}function XS(i=1){return function Ft(i){return(Er.lFrame.contextLView=function Wn(i,o){for(;i>0;)o=o[to],i--;return o}(i,Er.lFrame.contextLView))[Ii]}(i)}function qR(i,o){let l=null;const u=function Vt(i){const o=i.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(i);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===u?ut(i,m,!0):Ur(u,m))return h}else l=h}return l}function eA(i){const o=Ye()[ai][mi];if(!o.projection){const u=o.projection=jl(i?i.length:1,null),h=u.slice();let m=o.child;for(;null!==m;){const T=i?qR(m,i):0;null!==T&&(h[T]?h[T].projectionNext=m:u[T]=m,h[T]=m),m=m.next}}}function tA(i,o=0,l){const u=Ye(),h=Nr(),m=_h(h,Fr+i,16,null,l||null);null===m.projection&&(m.projection=o),fu(),(!u[Fs]||Xr())&&32!=(32&m.flags)&&function P_(i,o,l){tf(o[sr],0,o,l,Rg(i,l,o),k0(l.parent||o[mi],l,o))}(h,u,m)}function aI(i,o,l){return $E(i,"",o,"",l),aI}function $E(i,o,l,u,h){const m=Ye(),T=yf(m,o,l,u);return T!==ii&&nu(Nr(),wr(),m,i,T,m[sr],h,!1),$E}function WE(i,o){return i<<17|o<<2}function ud(i){return i>>17&32767}function ky(i){return 2|i}function dd(i){return(131068&i)>>2}function wm(i,o){return-131069&i|o<<2}function bm(i){return 1|i}function dI(i,o,l,u,h){const m=i[l+1],T=null===o;let C=u?ud(m):dd(m),B=!1;for(;0!==C&&(!1===B||T);){const ae=i[C+1];qE(i[C],o)&&(B=!0,i[C+1]=u?bm(ae):ky(ae)),C=u?ud(ae):dd(ae)}B&&(i[l+1]=u?ky(m):bm(m))}function qE(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&gc(i,o)>=0}const sl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hI(i){return i.substring(sl.key,sl.keyEnd)}function pI(i,o){const l=sl.textEnd;return l===o?-1:(o=sl.keyEnd=function cA(i,o,l){for(;o<l&&i.charCodeAt(o)>32;)o++;return o}(i,sl.key=o,l),Im(i,o,l))}function Im(i,o,l){for(;o<l&&i.charCodeAt(o)<=32;)o++;return o}function Tm(i,o){return function iu(i,o,l,u){const h=Ye(),m=Nr(),T=Ta(2);m.firstUpdatePass&&vI(m,i,T,u),o!==ii&&ec(h,T,o)&&Hp(m,m.data[gr()],h,h[sr],i,h[T+1]=function JE(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=Ze(ao(i)))),i}(o,l),u,T)}(i,o,null,!0),Tm}function $p(i){!function Gu(i,o,l,u){const h=Nr(),m=Ta(2);h.firstUpdatePass&&vI(h,null,m,u);const T=Ye();if(l!==ii&&ec(T,m,l)){const C=h.data[gr()];if(EI(C,u)&&!yI(h,m)){let B=u?C.classesWithoutHost:C.stylesWithoutHost;null!==B&&(l=bt(B,l||"")),VE(h,C,T,l,u)}else!function hA(i,o,l,u,h,m,T,C){h===ii&&(h=_r);let B=0,X=0,ae=0<h.length?h[0]:null,xe=0<m.length?m[0]:null;for(;null!==ae||null!==xe;){const Qe=B<h.length?h[B+1]:void 0,_t=X<m.length?m[X+1]:void 0;let gn,zt=null;ae===xe?(B+=2,X+=2,Qe!==_t&&(zt=xe,gn=_t)):null===xe||null!==ae&&ae<xe?(B+=2,zt=ae):(X+=2,zt=xe,gn=_t),null!==zt&&Hp(i,o,l,u,zt,gn,T,C),ae=B<h.length?h[B]:null,xe=X<m.length?m[X]:null}}(h,C,T,T[sr],T[m+1],T[m+1]=function QE(i,o,l){if(null==l||""===l)return _r;const u=[],h=ao(l);if(Array.isArray(h))for(let m=0;m<h.length;m++)i(u,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&i(u,m,h[m]);else"string"==typeof h&&o(u,h);return u}(i,o,l),u,m)}}(nc,fd,i,!0)}function fd(i,o){for(let l=function KE(i){return function lA(i){sl.key=0,sl.keyEnd=0,sl.value=0,sl.valueEnd=0,sl.textEnd=i.length}(i),pI(i,Im(i,0,sl.textEnd))}(o);l>=0;l=pI(o,l))pa(i,hI(o),!0)}function yI(i,o){return o>=i.expandoStartIndex}function vI(i,o,l,u){const h=i.data;if(null===h[l+1]){const m=h[gr()],T=yI(i,l);EI(m,u)&&null===o&&!T&&(o=!1),o=function tc(i,o,l,u){const h=function _l(i){const o=Er.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let m=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=Gp(l=YE(null,i,o,l,u),o.attrs,u),m=null);else{const T=o.directiveStylingLast;if(-1===T||i[T]!==h)if(l=YE(h,i,o,l,u),null===m){let B=function Ly(i,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==dd(u))return i[ud(u)]}(i,o,u);void 0!==B&&Array.isArray(B)&&(B=YE(null,i,o,B[1],u),B=Gp(B,o.attrs,u),function xl(i,o,l,u){i[ud(l?o.classBindings:o.styleBindings)]=u}(i,o,u,B))}else m=function Ih(i,o,l){let u;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)u=Gp(u,i[m].hostAttrs,l);return Gp(u,o.attrs,l)}(i,o,u)}return void 0!==m&&(u?o.residualClasses=m:o.residualStyles=m),l}(h,m,o,u),function cI(i,o,l,u,h,m){let T=m?o.classBindings:o.styleBindings,C=ud(T),B=dd(T);i[u]=l;let ae,X=!1;if(Array.isArray(l)?(ae=l[1],(null===ae||gc(l,ae)>0)&&(X=!0)):ae=l,h)if(0!==B){const Qe=ud(i[C+1]);i[u+1]=WE(Qe,C),0!==Qe&&(i[Qe+1]=wm(i[Qe+1],u)),i[C+1]=function oA(i,o){return 131071&i|o<<17}(i[C+1],u)}else i[u+1]=WE(C,0),0!==C&&(i[C+1]=wm(i[C+1],u)),C=u;else i[u+1]=WE(B,0),0===C?C=u:i[B+1]=wm(i[B+1],u),B=u;X&&(i[u+1]=ky(i[u+1])),dI(i,ae,u,!0),dI(i,ae,u,!1),function uI(i,o,l,u,h){const m=h?i.residualClasses:i.residualStyles;null!=m&&"string"==typeof o&&gc(m,o)>=0&&(l[u+1]=bm(l[u+1]))}(o,ae,i,u,m),T=WE(C,B),m?o.classBindings=T:o.styleBindings=T}(h,m,o,l,T,u)}}function YE(i,o,l,u,h){let m=null;const T=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<T&&(m=o[C],u=Gp(u,m.hostAttrs,h),m!==i);)C++;return null!==i&&(l.directiveStylingLast=C),u}function Gp(i,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const T=o[m];"number"==typeof T?h=T:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),pa(i,T,!!l||o[++m]))}return void 0===i?null:i}function nc(i,o,l){const u=String(o);""!==u&&!u.includes(" ")&&pa(i,u,l)}function Hp(i,o,l,u,h,m,T,C){if(!(3&o.type))return;const B=i.data,X=B[C+1],ae=function aA(i){return 1==(1&i)}(X)?Dm(B,o,l,h,dd(X),T):void 0;su(ae)||(su(m)||function Ny(i){return 2==(2&i)}(X)&&(m=Dm(B,null,l,h,C,T)),function b(i,o,l,u,h){if(o)h?i.addClass(l,u):i.removeClass(l,u);else{let m=-1===u.indexOf("-")?void 0:Kh.DashCase;null==h?i.removeStyle(l,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Kh.Important),i.setStyle(l,u,h,m))}}(u,T,En(gr(),l),h,m))}function Dm(i,o,l,u,h,m){const T=null===o;let C;for(;h>0;){const B=i[h],X=Array.isArray(B),ae=X?B[1]:B,xe=null===ae;let Qe=l[h+1];Qe===ii&&(Qe=xe?_r:void 0);let _t=xe?Ju(Qe,u):ae===u?Qe:void 0;if(X&&!su(_t)&&(_t=Ju(B,u)),su(_t)&&(C=_t,T))return C;const zt=i[h+1];h=T?ud(zt):dd(zt)}if(null!==o){let B=m?o.residualClasses:o.residualStyles;null!=B&&(C=Ju(B,u))}return C}function su(i){return void 0!==i}function EI(i,o){return 0!=(i.flags&(o?8:16))}function wI(i,o=""){const l=Ye(),u=Nr(),h=i+Fr,m=u.firstCreatePass?_h(u,h,1,o,null):u.data[h],T=bf(u,l,m,o,i);l[h]=T,El()&&bu(u,l,T,m),oa(m,!1)}let bf=(i,o,l,u,h)=>(uc(!0),Cg(o[sr],u));function Vy(i){return By("",i,""),Vy}function By(i,o,l){const u=Ye(),h=yf(u,i,o,l);return h!==ii&&function od(i,o,l){const u=En(o,i);!function C_(i,o,l){i.setValue(o,l)}(i[sr],u,l)}(u,gr(),h),By}function Ka(i,o,l){const u=Ye();return ec(u,Et(),o)&&nu(Nr(),wr(),u,i,o,u[sr],l,!0),Ka}const pd=void 0;var _A=["en",[["a","p"],["AM","PM"],pd],[["AM","PM"],pd,pd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pd,"{1} 'at' {0}",pd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uw(i){const l=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let zp={};function Zy(i){const o=function dw(i){return i.toLowerCase().replace(/_/g,"-")}(i);let l=MI(o);if(l)return l;const u=o.split("-")[0];if(l=MI(u),l)return l;if("en"===u)return _A;throw new He(701,!1)}function OI(i){return Zy(i)[gd.PluralCase]}function MI(i){return i in zp||(zp[i]=cr.ng&&cr.ng.common&&cr.ng.common.locales&&cr.ng.common.locales[i]),zp[i]}var gd=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(gd||{});const Bd="en-US",Wp={marker:"element"},Cm={marker:"ICU"};var Vc=function(i){return i[i.SHIFT=2]="SHIFT",i[i.APPEND_EAGERLY=1]="APPEND_EAGERLY",i[i.COMMENT=2]="COMMENT",i}(Vc||{});let fw=Bd;function pw(i){(function Gt(i,o){null==i&&Ut(o,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(fw=i.toLowerCase().replace(/_/g,"-"))}function xm(i,o,l){const u=o.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?R_(i,0,l):it(l[h])}function kI(i,o,l,u,h){const m=o.insertBeforeIndex;if(Array.isArray(m)){let T=u,C=null;if(3&o.type||(C=T,T=h),null!==T&&-1===o.componentOffset)for(let B=1;B<m.length;B++)rd(i,T,l[m[B]],C,!1)}}function FI(i,o){if(i.push(o),i.length>1)for(let l=i.length-2;l>=0;l--){const u=i[l];If(u)||vA(u,o)&&null===EA(u)&&Tf(u,o.index)}}function If(i){return!(64&i.type)}function vA(i,o){return If(o)||i.index>o.index}function EA(i){const o=i.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Tf(i,o){const l=i.insertBeforeIndex;Array.isArray(l)?l[0]=o:(L0(xm,kI),i.insertBeforeIndex=o)}function Rm(i,o,l){const u=fE(i,l,64,null,null);return FI(o,u),u}function wA(){const i=[];let l,u,o=-1;function m(C,B){o=0;const X=function Om(i,o){const l=o[i.currentCaseLViewIndex];return null===l?l:l<0?~l:l}(C,B);u=null!==X?C.remove[X]:_r}function T(){if(o<u.length){const C=u[o++];return C>0?l[C]:(i.push(o,u),m(l[_n].data[~C],l),T())}return 0===i.length?null:(u=i.pop(),o=i.pop(),T())}return function h(C,B){for(l=B;i.length;)i.pop();return m(C.value,B),T}}const Pm=/\ufffd(\d+):?\d*\ufffd/gi,Nm=/\ufffd(\d+)\ufffd/,yw=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Th="\ufffd",km=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Sf=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,vw=/\uE500/g;function Ew(i,o,l,u,h,m,T){const C=pf(i,u,1,null);let B=C<<Vc.SHIFT,X=Au();o===X&&(X=null),null===X&&(B|=Vc.APPEND_EAGERLY),T&&(B|=Vc.COMMENT,function A0(i){void 0===sh&&(sh=i())}(wA)),h.push(B,null===m?"":m);const ae=fE(i,C,T?32:1,null===m?"":m,null);FI(l,ae);const xe=ae.index;return oa(ae,!1),null!==X&&o!==X&&function LI(i,o){let l=i.insertBeforeIndex;null===l?(L0(xm,kI),l=i.insertBeforeIndex=[null,o]):(function Jn(i,o,l){i!=o&&Ut(l,i,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(X,xe),ae}function DA(i,o,l,u,h,m,T){const C=T.match(Pm),B=Ew(i,o,l,m,u,C?null:T,!1);C&&ou(h,T,B.index,null,0,null)}function ou(i,o,l,u,h,m){const T=i.length,C=T+1;i.push(null,null);const B=T+2,X=o.split(Pm);let ae=0;for(let xe=0;xe<X.length;xe++){const Qe=X[xe];if(1&xe){const _t=h+parseInt(Qe,10);i.push(-1-_t),ae|=Fm(_t)}else""!==Qe&&i.push(Qe)}return i.push(l<<2|(u?1:0)),u&&i.push(u,m),i[T]=ae,i[C]=i.length-B,ae}function Fm(i){return 1<<Math.min(i,31)}function $o(i){let o,m,l="",u=0,h=!1;for(;null!==(o=km.exec(i));)h?o[0]===`${Th}/*${m}${Th}`&&(u=o.index,h=!1):(l+=i.substring(u,o.index+o[0].length),m=o[1],h=!0);return l+=i.slice(u),l}function Zp(i,o,l,u,h,m){let T=0;const C={type:h.type,currentCaseLViewIndex:pf(i,o,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function AA(i,o,l){i.push(Fm(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,h,m),function ev(i,o,l){const u=i.data[o];null===u?i.data[o]=l:u.value=l}(i,m,C);const B=h.values;for(let X=0;X<B.length;X++){const ae=B[X],xe=[];for(let Qe=0;Qe<ae.length;Qe++){const _t=ae[Qe];if("string"!=typeof _t){const zt=xe.push(_t)-1;ae[Qe]=`\x3c!--\ufffd${zt}\ufffd--\x3e`}}T=zI(i,C,o,l,u,h.cases[X],ae.join(""),xe)|T}T&&function Vm(i,o,l){i.push(o,1,l<<2|3)}(l,T,m)}function Lm(i){const o=[],l=[];let u=1,h=0;const m=ww(i=i.replace(yw,function(T,C,B){return u="select"===B?0:1,h=parseInt(C.slice(1),10),""}));for(let T=0;T<m.length;){let C=m[T++].trim();1===u&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&o.push(C);const B=ww(m[T++]);o.length>l.length&&l.push(B)}return{type:u,mainBinding:h,cases:o,values:l}}function ww(i){if(!i)return[];let o=0;const l=[],u=[],h=/[{}]/g;let m;for(h.lastIndex=0;m=h.exec(i);){const C=m.index;if("}"==m[0]){if(l.pop(),0==l.length){const B=i.substring(o,C);yw.test(B)?u.push(Lm(B)):u.push(B),o=C+1}}else{if(0==l.length){const B=i.substring(o,C);u.push(B),o=C+1}l.push("{")}}const T=i.substring(o);return u.push(T),u}function zI(i,o,l,u,h,m,T,C){const B=[],X=[],ae=[];o.cases.push(m),o.create.push(B),o.remove.push(X),o.update.push(ae);const Qe=nf(Pr()).getInertBodyElement(T),_t=lf(Qe)||Qe;return _t?WI(i,o,l,u,B,X,ae,_t,h,C,0):0}function WI(i,o,l,u,h,m,T,C,B,X,ae){let xe=0,Qe=C.firstChild;for(;Qe;){const _t=pf(i,l,1,null);switch(Qe.nodeType){case Node.ELEMENT_NODE:const zt=Qe,gn=zt.tagName.toLowerCase();if(hp.hasOwnProperty(gn)){md(h,Wp,gn,B,_t),i.data[_t]=gn;const ni=zt.attributes;for(let Ni=0;Ni<ni.length;Ni++){const Is=ni.item(Ni),oc=Is.name.toLowerCase();Is.value.match(Pm)?Vu.hasOwnProperty(oc)&&ou(T,Is.value,_t,Is.name,0,eu[oc]?Lc:null):KI(h,_t,Is)}xe=WI(i,o,l,u,h,m,T,Qe,_t,X,ae+1)|xe,qI(m,_t,ae)}break;case Node.TEXT_NODE:const Yn=Qe.textContent||"",Ar=Yn.match(Pm);md(h,null,Ar?"":Yn,B,_t),qI(m,_t,ae),Ar&&(xe=ou(T,Yn,_t,null,0,null)|xe);break;case Node.COMMENT_NODE:const on=Nm.exec(Qe.textContent||"");if(on){const Ni=X[parseInt(on[1],10)];md(h,Cm,"",B,_t),Zp(i,l,u,B,Ni,_t),SA(m,_t,ae)}}Qe=Qe.nextSibling}return xe}function qI(i,o,l){0===l&&i.push(o)}function SA(i,o,l){0===l&&(i.push(~o),i.push(o))}function md(i,o,l,u,h){null!==o&&i.push(o),i.push(l,h,function tv(i,o,l){return i|o<<17|l<<1}(0,u,h))}function KI(i,o,l){i.push(o<<1|1,l.name,l.value)}function lv(i,o,l=-1){const u=Nr(),h=Ye(),m=Fr+i,T=Ns(u.consts,o),C=Au();u.firstCreatePass&&function GI(i,o,l,u,h,m){const T=Au(),C=[],B=[],X=[[]];h=function av(i,o){if(function HI(i){return-1===i}(o))return $o(i);{const l=i.indexOf(`:${o}${Th}`)+2+o.toString().length,u=i.search(new RegExp(`${Th}\\/\\*\\d+:${o}${Th}`));return $o(i.substring(l,u))}}(h,m);const ae=function TA(i){return i.replace(vw," ")}(h).split(Sf);for(let xe=0;xe<ae.length;xe++){let Qe=ae[xe];if(1&xe){const _t=47===Qe.charCodeAt(0),gn=(Qe.charCodeAt(_t?1:0),Fr+Number.parseInt(Qe.substring(_t?2:1)));if(_t)X.shift(),oa(Au(),!1);else{const Yn=Rm(i,X[0],gn);X.unshift([]),oa(Yn,!0)}}else{const _t=ww(Qe);for(let zt=0;zt<_t.length;zt++){let gn=_t[zt];if(1&zt){const Yn=gn;if("object"!=typeof Yn)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Zp(i,l,B,o,Yn,Ew(i,T,X[0],l,C,"",!0).index)}else""!==gn&&DA(i,T,X[0],C,B,l,gn)}}}i.data[u]={create:C,update:B}}(u,null===C?0:C.index,h,m,T,l),2===u.type?h[ai][pr]|=32:h[pr]|=32;const B=u.data[m],ae=P0(u,C===h[mi]?null:C,h);(function Mm(i,o,l,u){const h=i[sr];for(let m=0;m<o.length;m++){const T=o[m++],C=o[m],X=(T&Vc.APPEND_EAGERLY)===Vc.APPEND_EAGERLY,ae=T>>>Vc.SHIFT;let xe=i[ae];null===xe&&(xe=i[ae]=(T&Vc.COMMENT)===Vc.COMMENT?h.createComment(C):Cg(h,C)),X&&null!==l&&rd(h,l,xe,u,!1)}})(h,B.create,ae,C&&8&C.type?h[C.index]:null),Kd(!0)}function Iw(i,o,l){lv(i,o,l),function cv(){Kd(!1)}()}function Cf(i,o,l,u,h){if(i=st(i),Array.isArray(i))for(let m=0;m<i.length;m++)Cf(i[m],o,l,u,h);else{const m=Nr(),T=Ye(),C=fs();let B=Bu(i)?i:st(i.provide);const X=Yb(i),ae=1048575&C.providerIndexes,xe=C.directiveStart,Qe=C.providerIndexes>>20;if(Bu(i)||!i.multi){const _t=new Gc(X,h,mh),zt=hv(B,o,h?ae:ae+Qe,xe);-1===zt?(Wc(Na(C,T),m,B),Xp(m,i,o.length),o.push(B),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),l.push(_t),T.push(_t)):(l[zt]=_t,T[zt]=_t)}else{const _t=hv(B,o,ae+Qe,xe),zt=hv(B,o,ae,ae+Qe),Yn=zt>=0&&l[zt];if(h&&!Yn||!h&&!(_t>=0&&l[_t])){Wc(Na(C,T),m,B);const Ar=function Sa(i,o,l,u,h){const m=new Gc(i,l,mh);return m.multi=[],m.index=o,m.componentProviders=0,dv(m,h,u&&!l),m}(h?Um:Bm,l.length,h,u,X);!h&&Yn&&(l[zt].providerFactory=Ar),Xp(m,i,o.length,0),o.push(B),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),l.push(Ar),T.push(Ar)}else Xp(m,i,_t>-1?_t:zt,dv(l[h?zt:_t],X,!h&&u));!h&&u&&Yn&&l[zt].componentProviders++}}}function Xp(i,o,l,u){const h=Bu(o),m=function G_(i){return!!i.useClass}(o);if(h||m){const B=(m?st(o.useClass):o).prototype.ngOnDestroy;if(B){const X=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const ae=X.indexOf(l);-1===ae?X.push(l,[u,B]):X[ae+1].push(u,B)}else X.push(l,B)}}}function dv(i,o,l){return l&&i.componentProviders++,i.multi.push(o)-1}function hv(i,o,l,u){for(let h=l;h<u;h++)if(o[h]===i)return h;return-1}function Bm(i,o,l,u){return Tw(this.multi,[])}function Um(i,o,l,u){const h=this.multi;let m;if(this.providerFactory){const T=this.providerFactory.componentProviders,C=mu(l,l[_n],this.providerFactory.index,u);m=C.slice(0,T),Tw(h,m);for(let B=T;B<C.length;B++)m.push(C[B])}else m=[],Tw(h,m);return m}function Tw(i,o){for(let l=0;l<i.length;l++)o.push((0,i[l])());return o}function Dw(i,o=[]){return l=>{l.providersResolver=(u,h)=>function uv(i,o,l){const u=Nr();if(u.firstCreatePass){const h=ds(i);Cf(l,u.data,u.blueprint,h,!0),Cf(o,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,o)}}class xf{}class tT{}function NA(i,o){return new fv(i,o??null,[])}class fv extends xf{constructor(o,l,u){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new G1(this);const h=ms(o);this._bootstrapComponents=Pd(h.bootstrap),this._r3Injector=ny(o,l,[{provide:xf,useValue:this},{provide:ju,useValue:this.componentFactoryResolver},...u],Ze(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class pv extends tT{constructor(o){super(),this.moduleType=o}create(o){return new fv(this.moduleType,o,[])}}class Sw extends xf{constructor(o){super(),this.componentFactoryResolver=new G1(this),this.instance=null;const l=new Ug([...o.providers,{provide:xf,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],o.parent||z_(),o.debugName,new Set(["environment"]));this.injector=l,o.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Hu(i,o,l=null){return new Sw({providers:i,parent:o,debugName:l,runEnvironmentInitializers:!0}).injector}let nT=(()=>{var i;class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const h=qb(0,u.type),m=h.length>0?Hu([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,m)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return(i=o).\u0275prov=An({token:i,providedIn:"environment",factory:()=>new i(qt(Uu))}),o})();function rT(i){i.getStandaloneInjector=o=>o.get(nT).getOrCreateStandaloneInjector(i)}function Ow(i,o,l,u){return function Rf(i,o,l,u,h,m){const T=o+l;return ec(i,T,h)?ad(i,T+1,m?u.call(m,h):u(h)):tg(i,T+1)}(Ye(),Ro(),i,o,l,u)}function Dh(i,o,l,u,h){return function fT(i,o,l,u,h,m,T){const C=o+l;return yh(i,C,h,m)?ad(i,C+2,T?u.call(T,h,m):u(h,m)):tg(i,C+2)}(Ye(),Ro(),i,o,l,u,h)}function Mw(i,o,l,u,h,m){return function Du(i,o,l,u,h,m,T,C){const B=o+l;return function _m(i,o,l,u,h){const m=yh(i,o,l,u);return ec(i,o+2,h)||m}(i,B,h,m,T)?ad(i,B+3,C?u.call(C,h,m,T):u(h,m,T)):tg(i,B+3)}(Ye(),Ro(),i,o,l,u,h,m)}function tg(i,o){const l=i[o];return l===ii?void 0:l}function Gl(){return this._results[Symbol.iterator]()}class rg{get changes(){return this._changes||(this._changes=new yc)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=rg.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=Gl)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=function _o(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Dl(i,o,l){if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],m=o[u];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Av(i,o,l,u=!0){const h=o[_n];if(function R0(i,o,l,u){const h=Wi+u,m=l.length;u>0&&(l[h-1][rr]=o),u<m-Wi?(o[rr]=l[h],wg(l,Wi+u,o)):(l.push(o),o[rr]=null),o[gi]=l;const T=o[Do];null!==T&&l!==T&&function cp(i,o){const l=i[sa];o[ai]!==o[gi][gi][ai]&&(i[Ea]=!0),null===l?i[sa]=[o]:l.push(o)}(T,o);const C=o[ji];null!==C&&C.insertView(i),o[pr]|=128}(h,o,i,l),u){const m=M_(l,i),T=o[sr],C=oh(T,i[ys]);null!==C&&function jb(i,o,l,u,h,m){u[jr]=h,u[mi]=o,ah(i,u,l,1,h,m)}(h,i[mi],T,o,C,m)}}let _d=(()=>{class o{}return o.__NG_ELEMENT_ID__=Fw,o})();const UA=_d,jA=class extends UA{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,l){return this.createEmbeddedViewImpl(o,l)}createEmbeddedViewImpl(o,l,u){const h=function Dv(i,o,l,u){const h=o.tView,C=fy(i,h,l,4096&i[pr]?4096:16,null,o,null,null,null,u?.injector??null,u?.hydrationInfo??null);C[Do]=i[o.index];const X=i[ji];return null!==X&&(C[ji]=X.createEmbeddedView(h)),by(h,C,l),C}(this._declarationLView,this._declarationTContainer,o,{injector:l,hydrationInfo:u});return new hm(h)}};function Fw(){return Cv(fs(),Ye())}function Cv(i,o){return 4&i.type?new jA(o,i,Dp(i,o)):null}let zu=(()=>{class o{}return o.__NG_ELEMENT_ID__=Lw,o})();function Lw(){return xv(fs(),Ye())}const JR=zu,yn=class extends JR{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return Dp(this._hostTNode,this._hostLView)}get injector(){return new Mo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Vl(this._hostTNode,this._hostLView);if(Ac(o)){const l=zc(o,this._hostLView),u=oo(o);return new Mo(l[_n].data[u+8],l)}return new Mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Aa(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-Wi}createEmbeddedView(o,l,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const C=o.createEmbeddedViewImpl(l||{},m,null);return this.insertImpl(C,h,false),C}createComponent(o,l,u,h,m){const T=o&&!function Tl(i){return"function"==typeof i}(o);let C;if(T)C=l;else{const gn=l||{};C=gn.index,u=gn.injector,h=gn.projectableNodes,m=gn.environmentInjector||gn.ngModuleRef}const B=T?o:new Ty(Mr(o)),X=u||this.parentInjector;if(!m&&null==B.ngModule){const Yn=(T?X:this.parentInjector).get(Uu,null);Yn&&(m=Yn)}Mr(B.componentType??{});const _t=B.create(X,h,null,m);return this.insertImpl(_t.hostView,C,false),_t}insert(o,l){return this.insertImpl(o,l,!1)}insertImpl(o,l,u){const h=o._lView;if(function yi(i){return $i(i[gi])}(h)){const B=this.indexOf(o);if(-1!==B)this.detach(B);else{const X=h[gi],ae=new yn(X,X[mi],X[gi]);ae.detach(ae.indexOf(o))}}const T=this._adjustIndex(l),C=this._lContainer;return Av(C,h,T,!u),o.attachToViewContainerRef(),wg(lu(C),T,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Aa(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=Xh(this._lContainer,l);u&&(pc(lu(this._lContainer),l),xg(u[_n],u))}detach(o){const l=this._adjustIndex(o,-1),u=Xh(this._lContainer,l);return u&&null!=pc(lu(this._lContainer),l)?new hm(u):null}_adjustIndex(o,l=0){return o??this.length+l}};function Aa(i){return i[8]}function lu(i){return i[8]||(i[8]=[])}function xv(i,o){let l;const u=o[i.index];return $i(u)?l=u:(l=IE(u,o,null,i),o[i.index]=l,cm(o,l)),Ir(l,o,i,u),new yn(l,i,o)}let Ir=function HA(i,o,l,u){if(i[ys])return;let h;h=8&l.type?it(u):function hr(i,o){const l=i[sr],u=l.createComment(""),h=$n(o,i);return rd(l,oh(l,h),u,function N0(i,o){return i.nextSibling(o)}(l,h),!1),u}(o,l),i[ys]=h};class un{constructor(o){this.queryList=o,this.matches=null}clone(){return new un(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ba{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let m=0;m<u;m++){const T=l.getByIndex(m);h.push(this.queries[T.indexInDeclarationView].clone())}return new Ba(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==ls(o,l).matches&&this.queries[l].setDirty()}}class Vw{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class Bw{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,m=this.getByIndex(u).embeddedTView(o,h);m&&(m.indexInDeclarationView=u,null!==l?l.push(m):l=[m])}return null!==l?new Bw(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Uw{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Uw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(o,l,zA(l,m)),this.matchTNodeWithReadOption(o,l,hc(l,o,m,!1,!1))}else u===_d?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,hc(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===ff||h===zu||h===_d&&4&l.type)this.addMatch(l.index,-2);else{const m=hc(l,o,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function zA(i,o){const l=i.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function qA(i,o,l,u){return-1===l?function WA(i,o){return 11&i.type?Dp(i,o):4&i.type?Cv(i,o):null}(o,i):-2===l?function vT(i,o,l){return l===ff?Dp(o,i):l===_d?Cv(o,i):l===zu?xv(o,i):void 0}(i,o,u):mu(i,i[_n],l,o)}function ET(i,o,l,u){const h=o[ji].queries[u];if(null===h.matches){const m=i.data,T=l.matches,C=[];for(let B=0;B<T.length;B+=2){const X=T[B];C.push(X<0?null:qA(o,m[X],T[B+1],l.metadata.read))}h.matches=C}return h.matches}function wT(i,o,l,u){const h=i.queries.getByIndex(l),m=h.matches;if(null!==m){const T=ET(i,o,h,l);for(let C=0;C<m.length;C+=2){const B=m[C];if(B>0)u.push(T[C/2]);else{const X=m[C+1],ae=o[-B];for(let xe=Wi;xe<ae.length;xe++){const Qe=ae[xe];Qe[Do]===Qe[gi]&&wT(Qe[_n],Qe,X,u)}if(null!==ae[sa]){const xe=ae[sa];for(let Qe=0;Qe<xe.length;Qe++){const _t=xe[Qe];wT(_t[_n],_t,X,u)}}}}}return u}function bT(i){const o=Ye(),l=Nr(),u=Sc();A(u+1);const h=ls(l,u);if(i.dirty&&function pt(i){return 4==(4&i[pr])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const m=h.crossesNgTemplate?wT(l,o,u,[]):ET(l,o,h,u);i.reset(m,uS),i.notifyOnChanges()}return!0}return!1}function jw(i,o,l){const u=Nr();u.firstCreatePass&&(Sr(u,new Vw(i,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),ca(u,Ye(),o)}function ti(i,o,l,u){const h=Nr();if(h.firstCreatePass){const m=fs();Sr(h,new Vw(o,l,u),m.index),function jm(i,o){const l=i.contentQueries||(i.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(i.queries.length-1,o)}(h,i),2==(2&l)&&(h.staticContentQueries=!0)}ca(h,Ye(),l)}function Nf(){return function IT(i,o){return i[ji].queries[o].queryList}(Ye(),Sc())}function ca(i,o,l){const u=new rg(4==(4&l));(function ES(i,o,l,u){const h=V1(o);h.push(l),i.firstCreatePass&&B1(i).push(u,h.length-1)})(i,o,u,u.destroy),null===o[ji]&&(o[ji]=new Ba),o[ji].queries.push(new un(u))}function Sr(i,o,l){null===i.queries&&(i.queries=new Bw),i.queries.track(new Uw(o,l))}function ls(i,o){return i.queries.getByIndex(o)}function TT(i,o){return Cv(i,o)}function Gw(i){return!!ms(i)}const Qw=new Bs("Application Initializer");let wo=(()=>{var i;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=hn(Qw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const m of this.appInits){const T=m();if(UE(T))u.push(T);else if(QS(T)){const C=new Promise((B,X)=>{T.subscribe({complete:B,error:X})});u.push(C)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{h()}).catch(m=>{this.reject(m)}),0===u.length&&h(),this.initialized=!0}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=An({token:i,factory:i.\u0275fac,providedIn:"root"}),o})(),zm=(()=>{var i;class o{log(u){console.log(u)}warn(u){console.warn(u)}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=An({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();const bo=new Bs("LocaleId",{providedIn:"root",factory:()=>hn(bo,Wt.Optional|Wt.SkipSelf)||function Wl(){return typeof $localize<"u"&&$localize.locale||Bd}()}),VT=new Bs("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let lC=(()=>{var i;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pe.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=An({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();class ol{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let cC=(()=>{var i;class o{compileModuleSync(u){return new pv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),T=Pd(ms(u).declarations).reduce((C,B)=>{const X=Mr(B);return X&&C.push(new Ty(X)),C},[]);return new ol(h,T)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=An({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();const tb=new Bs(""),Ml=new Bs("");let Vv,$T=(()=>{var i;class o{constructor(u,h,m){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vv||(function Oh(i){Vv=i}(m),m.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qa.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,m){let T=-1;h&&h>0&&(T=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==T),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:T,updateCb:m})}whenStable(u,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,m){return[]}}return(i=o).\u0275fac=function(u){return new(u||i)(qt(qa),qt(Go),qt(Ml))},i.\u0275prov=An({token:i,factory:i.\u0275fac}),o})(),Go=(()=>{var i;class o{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Vv?.findTestabilityInTree(this,u,h)??null}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=An({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})(),Hd=null;const Uf=new Bs("AllowMultipleToken"),nb=new Bs("PlatformDestroyListeners"),Bv=new Bs("appBootstrapListener");class ib{constructor(o,l){this.name=o,this.token=l}}function ab(i,o,l=[]){const u=`Platform: ${o}`,h=new Bs(u);return(m=[])=>{let T=Uv();if(!T||T.injector.get(Uf,!1)){const C=[...l,...m,{provide:h,useValue:!0}];i?i(C):function GT(i){if(Hd&&!Hd.get(Uf,!1))throw new He(400,!1);(function jf(){!function pl(i){Kl=i}(()=>{throw new He(600,!1)})})(),Hd=i;const o=i.get(zT);(function ob(i){i.get(G0,null)?.forEach(l=>l())})(i)}(function HT(i=[],o){return Tu.create({name:o,providers:[{provide:Bg,useValue:"platform"},{provide:nb,useValue:new Set([()=>Hd=null])},...i]})}(C,u))}return function hC(i){const o=Uv();if(!o)throw new He(401,!1);return o}()}}function Uv(){return Hd?.get(zT)??null}let zT=(()=>{var i;class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const m=function fC(i="zone.js",o){return"noop"===i?new p1:"zone.js"===i?new qa(o):i}(h?.ngZone,function lb(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return m.run(()=>{const T=function gv(i,o,l){return new fv(i,o,l)}(u.moduleType,this.injector,function Ed(i){return[{provide:qa,useFactory:i},{provide:Vg,multi:!0,useFactory:()=>{const o=hn(KT,{optional:!0});return()=>o.initialize()}},{provide:Zm,useFactory:jv},{provide:g1,useFactory:oE}]}(()=>m)),C=T.injector.get(tu,null);return m.runOutsideAngular(()=>{const B=m.onError.subscribe({next:X=>{C.handleError(X)}});T.onDestroy(()=>{vd(this._modules,T),B.unsubscribe()})}),function WT(i,o,l){try{const u=l();return UE(u)?u.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>i.handleError(u)),u}}(C,m,()=>{const B=T.injector.get(wo);return B.runInitializers(),B.donePromise.then(()=>(pw(T.injector.get(bo,Bd)||Bd),this._moduleDoBootstrap(T),T))})})}bootstrapModule(u,h=[]){const m=qT({},h);return function Zi(i,o,l){const u=new pv(l);return Promise.resolve(u)}(0,0,u).then(T=>this.bootstrapModuleFactory(T,m))}_moduleDoBootstrap(u){const h=u.injector.get(Mh);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new He(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(nb,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=o).\u0275fac=function(u){return new(u||i)(qt(Tu))},i.\u0275prov=An({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();function qT(i,o){return Array.isArray(o)?o.reduce(qT,i):{...i,...o}}let Mh=(()=>{var i;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=hn(Zm),this.zoneIsStable=hn(g1),this.componentTypes=[],this.components=[],this.isStable=hn(lC).hasPendingTasks.pipe((0,lt.w)(u=>u?(0,Ve.of)(!1):this.zoneIsStable),(0,We.x)(),(0,be.B)()),this._injector=hn(Uu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const m=u instanceof Tp;if(!this._injector.get(wo).done)throw!m&&Cs(u),new He(405,!1);let C;C=m?u:this._injector.get(ju).resolveComponentFactory(u),this.componentTypes.push(C.componentType);const B=function rb(i){return i.isBoundToModule}(C)?void 0:this._injector.get(xf),ae=C.create(Tu.NULL,[],h||C.selector,B),xe=ae.location.nativeElement,Qe=ae.injector.get(tb,null);return Qe?.registerApplication(xe),ae.onDestroy(()=>{this.detachView(ae.hostView),vd(this.components,ae),Qe?.unregisterApplication(xe)}),this._loadComponent(ae),ae}tick(){if(this._runningTick)throw new He(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;vd(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(Bv,[]);h.push(...this._bootstrapListeners),h.forEach(m=>m(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>vd(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new He(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=An({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function vd(i,o){const l=i.indexOf(o);l>-1&&i.splice(l,1)}const Zm=new Bs("",{providedIn:"root",factory:()=>hn(tu).handleError.bind(void 0)});function jv(){const i=hn(qa),o=hn(tu);return l=>i.runOutsideAngular(()=>o.handleError(l))}let KT=(()=>{var i;class o{constructor(){this.zone=hn(qa),this.applicationRef=hn(Mh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=An({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function ug(){return!1}let $f=(()=>{class o{}return o.__NG_ELEMENT_ID__=wc,o})();function wc(i){return function ub(i,o,l){if(ro(i)&&!l){const u=$t(i.index,o);return new hm(u,u)}return 47&i.type?new hm(o[ai],o):null}(fs(),Ye(),16==(16&i))}class Kv{constructor(){}supports(o){return kd(o)}create(o){return new tD(o)}}const eD=(i,o)=>o;class tD{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||eD}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,m=null;for(;l||u;){const T=!u||l&&l.currentIndex<iD(u,h,m)?l:u,C=iD(T,h,m),B=T.currentIndex;if(T===u)h--,u=u._nextRemoved;else if(l=l._next,null==T.previousIndex)h++;else{m||(m=[]);const X=C-h,ae=B-h;if(X!=ae){for(let Qe=0;Qe<X;Qe++){const _t=Qe<m.length?m[Qe]:m[Qe]=0,zt=_t+Qe;ae<=zt&&zt<X&&(m[Qe]=_t+1)}m[T.previousIndex]=ae-X}}C!==B&&o(T,C,B)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!kd(o))throw new He(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,T,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],T=this._trackByFn(C,m),null!==l&&Object.is(l.trackById,T)?(u&&(l=this._verifyReinsertion(l,m,T,C)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,T,C),u=!0),l=l._next}else h=0,function gm(i,o){if(Array.isArray(i))for(let l=0;l<i.length;l++)o(i[l]);else{const l=i[Symbol.iterator]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,C=>{T=this._trackByFn(h,C),null!==l&&Object.is(l.trackById,T)?(u&&(l=this._verifyReinsertion(l,C,T,h)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,T,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,m,h)):o=this._addAfter(new nD(l,u),m,h),o}_verifyReinsertion(o,l,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new rD),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class nD{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yv{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class rD{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new Yv,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iD(i,o,l){const u=i.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class fb{constructor(){}supports(o){return o instanceof Map||Sy(o)}create(){return new dg}}class dg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Sy(o)))throw new He(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const m=h._prev,T=h._next;return m&&(m._next=T),T&&(T._prev=m),h._next=null,h._prev=null,h}const u=new zf(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class zf{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pb(){return new Wd([new Kv])}let Wd=(()=>{var i;class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const m=h.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||pb()),deps:[[o,new Sn,new Pt]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(null!=h)return h;throw new He(901,!1)}}return(i=o).\u0275prov=An({token:i,providedIn:"root",factory:pb}),o})();function Wf(){return new Qv([new fb])}let Qv=(()=>{var i;class o{constructor(u){this.factories=u}static create(u,h){if(h){const m=h.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||Wf()),deps:[[o,new Sn,new Pt]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(h)return h;throw new He(901,!1)}}return(i=o).\u0275prov=An({token:i,providedIn:"root",factory:Wf}),o})();const ua=ab(null,"core",[]);let Zv=(()=>{var i;class o{constructor(u){}}return(i=o).\u0275fac=function(u){return new(u||i)(qt(Mh))},i.\u0275mod=co({type:i}),i.\u0275inj=zr({}),o})();function wC(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function AC(i,o){const l=Mr(i),u=o.elementInjector||z_();return new Ty(l).create(u,o.projectableNodes,o.hostElement,o.environmentInjector)}function gD(i){const o=Mr(i);if(!o)return null;const l=new Ty(o);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3399:(bn,gt,W)=>{W.d(gt,{Z:()=>jt});var d=W(9058),oe=W(4537),fe=W(7592),we=W(7879);class Pe{constructor(tn,Lt){this._delegate=tn,this.firebase=Lt,(0,fe._addComponent)(tn,new oe.wA("app-compat",()=>this,"PUBLIC")),this.container=tn.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tn){this._delegate.automaticDataCollectionEnabled=tn}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tn=>{this._delegate.checkDestroyed(),tn()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,fe.deleteApp)(this._delegate)))}_getService(tn,Lt=fe._DEFAULT_ENTRY_NAME){var On;this._delegate.checkDestroyed();const vn=this._delegate.container.getProvider(tn);return!vn.isInitialized()&&"EXPLICIT"===(null===(On=vn.getComponent())||void 0===On?void 0:On.instantiationMode)&&vn.initialize(),vn.getImmediate({identifier:Lt})}_removeServiceInstance(tn,Lt=fe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tn).clearInstance(Lt)}_addComponent(tn){(0,fe._addComponent)(this._delegate,tn)}_addOrOverwriteComponent(tn){(0,fe._addOrOverwriteComponent)(this._delegate,tn)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_e=function We(){const st=function lt(st){const tn={},Lt={__esModule:!0,initializeApp:function He(Dt,Re={}){const Nt=fe.initializeApp(Dt,Re);if((0,d.r3)(tn,Nt.name))return tn[Nt.name];const Jt=new st(Nt,Lt);return tn[Nt.name]=Jt,Jt},app:vn,registerVersion:fe.registerVersion,setLogLevel:fe.setLogLevel,onLog:fe.onLog,apps:null,SDK_VERSION:fe.SDK_VERSION,INTERNAL:{registerComponent:function ot(Dt){const Re=Dt.name,Nt=Re.replace("-compat","");if(fe._registerComponent(Dt)&&"PUBLIC"===Dt.type){const Jt=(Mn=vn())=>{if("function"!=typeof Mn[Nt])throw be.create("invalid-app-argument",{appName:Re});return Mn[Nt]()};void 0!==Dt.serviceProps&&(0,d.ZB)(Jt,Dt.serviceProps),Lt[Nt]=Jt,st.prototype[Nt]=function(...Mn){return this._getService.bind(this,Re).apply(this,Dt.multipleInstances?Mn:[])}}return"PUBLIC"===Dt.type?Lt[Nt]:null},removeApp:function On(Dt){delete tn[Dt]},useAsService:function at(Dt,Re){return"serverAuth"===Re?null:Re},modularAPIs:fe}};function vn(Dt){if(!(0,d.r3)(tn,Dt=Dt||fe._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Dt});return tn[Dt]}return Lt.default=Lt,Object.defineProperty(Lt,"apps",{get:function Tt(){return Object.keys(tn).map(Dt=>tn[Dt])}}),vn.App=st,Lt}(Pe);return st.INTERNAL=Object.assign(Object.assign({},st.INTERNAL),{createFirebaseNamespace:We,extendNamespace:function tn(Lt){(0,d.ZB)(st,Lt)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),st}(),Oe=new we.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){Oe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const st=self.firebase.SDK_VERSION;st&&st.indexOf("LITE")>=0&&Oe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const jt=_e;!function Be(st){(0,fe.registerVersion)("@firebase/app-compat","0.2.13",st)}()},7592:(bn,gt,W)=>{W.r(gt),W.d(gt,{FirebaseError:()=>we.ZR,SDK_VERSION:()=>zr,_DEFAULT_ENTRY_NAME:()=>Je,_addComponent:()=>ft,_addOrOverwriteComponent:()=>xt,_apps:()=>tt,_clearComponents:()=>Fn,_components:()=>$e,_getProvider:()=>Ut,_registerComponent:()=>Gt,_removeServiceInstance:()=>Hn,deleteApp:()=>mt,getApp:()=>qe,getApps:()=>ke,initializeApp:()=>wn,onLog:()=>Ht,registerVersion:()=>wt,setLogLevel:()=>or});var d=W(5861),oe=W(4537),fe=W(7879),we=W(9058),Pe=W(1878);class Ve{constructor(Fe){this.container=Fe}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function be(yt){const Fe=yt.getComponent();return"VERSION"===Fe?.type}(St)){const ht=St.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(St=>St).join(" ")}}const lt="@firebase/app",_e=new fe.Yd("@firebase/app"),Je="[DEFAULT]",dt={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,$e=new Map;function ft(yt,Fe){try{yt.container.addComponent(Fe)}catch(St){_e.debug(`Component ${Fe.name} failed to register with FirebaseApp ${yt.name}`,St)}}function xt(yt,Fe){yt.container.addOrOverwriteComponent(Fe)}function Gt(yt){const Fe=yt.name;if($e.has(Fe))return _e.debug(`There were multiple attempts to register component ${Fe}.`),!1;$e.set(Fe,yt);for(const St of tt.values())ft(St,yt);return!0}function Ut(yt,Fe){const St=yt.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),yt.container.getProvider(Fe)}function Hn(yt,Fe,St=Je){Ut(yt,Fe).clearInstance(St)}function Fn(){$e.clear()}const An=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fr{constructor(Fe,St,ht){this._isDeleted=!1,this._options=Object.assign({},Fe),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new oe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Fe){this._isDeleted=Fe}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const zr="9.23.0";function wn(yt,Fe={}){let St=yt;"object"!=typeof Fe&&(Fe={name:Fe});const ht=Object.assign({name:Je,automaticDataCollectionEnabled:!1},Fe),an=ht.name;if("string"!=typeof an||!an)throw An.create("bad-app-name",{appName:String(an)});if(St||(St=(0,we.aH)()),!St)throw An.create("no-options");const Yt=tt.get(an);if(Yt){if((0,we.vZ)(St,Yt.options)&&(0,we.vZ)(ht,Yt.config))return Yt;throw An.create("duplicate-app",{appName:an})}const er=new oe.H0(an);for(const ue of $e.values())er.addComponent(ue);const Me=new fr(St,ht,er);return tt.set(an,Me),Me}function qe(yt=Je){const Fe=tt.get(yt);if(!Fe&&yt===Je&&(0,we.aH)())return wn();if(!Fe)throw An.create("no-app",{appName:yt});return Fe}function ke(){return Array.from(tt.values())}function mt(yt){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,d.Z)(function*(yt){const Fe=yt.name;tt.has(Fe)&&(tt.delete(Fe),yield Promise.all(yt.container.getProviders().map(St=>St.delete())),yt.isDeleted=!0)})).apply(this,arguments)}function wt(yt,Fe,St){var ht;let an=null!==(ht=dt[yt])&&void 0!==ht?ht:yt;St&&(an+=`-${St}`);const Yt=an.match(/\s|\//),er=Fe.match(/\s|\//);if(Yt||er){const Me=[`Unable to register library "${an}" with version "${Fe}":`];return Yt&&Me.push(`library name "${an}" contains illegal characters (whitespace or "/")`),Yt&&er&&Me.push("and"),er&&Me.push(`version name "${Fe}" contains illegal characters (whitespace or "/")`),void _e.warn(Me.join(" "))}Gt(new oe.wA(`${an}-version`,()=>({library:an,version:Fe}),"VERSION"))}function Ht(yt,Fe){if(null!==yt&&"function"!=typeof yt)throw An.create("invalid-log-argument");(0,fe.Am)(yt,Fe)}function or(yt){(0,fe.Ub)(yt)}const ln="firebase-heartbeat-database",Wt=1,rn="firebase-heartbeat-store";let kn=null;function nr(){return kn||(kn=(0,Pe.X3)(ln,Wt,{upgrade:(yt,Fe)=>{0===Fe&&yt.createObjectStore(rn)}}).catch(yt=>{throw An.create("idb-open",{originalErrorMessage:yt.message})})),kn}function qr(){return(qr=(0,d.Z)(function*(yt){try{return yield(yield nr()).transaction(rn).objectStore(rn).get(Cr(yt))}catch(Fe){if(Fe instanceof we.ZR)_e.warn(Fe.message);else{const St=An.create("idb-get",{originalErrorMessage:Fe?.message});_e.warn(St.message)}}})).apply(this,arguments)}function cr(yt,Fe){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,d.Z)(function*(yt,Fe){try{const ht=(yield nr()).transaction(rn,"readwrite");yield ht.objectStore(rn).put(Fe,Cr(yt)),yield ht.done}catch(St){if(St instanceof we.ZR)_e.warn(St.message);else{const ht=An.create("idb-set",{originalErrorMessage:St?.message});_e.warn(ht.message)}}})).apply(this,arguments)}function Cr(yt){return`${yt.name}!${yt.options.appId}`}class ur{constructor(Fe){this.container=Fe,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new Ai(St),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var Fe=this;return(0,d.Z)(function*(){const ht=Fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),an=Wr();if(null===Fe._heartbeatsCache&&(Fe._heartbeatsCache=yield Fe._heartbeatsCachePromise),Fe._heartbeatsCache.lastSentHeartbeatDate!==an&&!Fe._heartbeatsCache.heartbeats.some(Yt=>Yt.date===an))return Fe._heartbeatsCache.heartbeats.push({date:an,agent:ht}),Fe._heartbeatsCache.heartbeats=Fe._heartbeatsCache.heartbeats.filter(Yt=>{const er=new Date(Yt.date).valueOf();return Date.now()-er<=2592e6}),Fe._storage.overwrite(Fe._heartbeatsCache)})()}getHeartbeatsHeader(){var Fe=this;return(0,d.Z)(function*(){if(null===Fe._heartbeatsCache&&(yield Fe._heartbeatsCachePromise),null===Fe._heartbeatsCache||0===Fe._heartbeatsCache.heartbeats.length)return"";const St=Wr(),{heartbeatsToSend:ht,unsentEntries:an}=function xr(yt,Fe=1024){const St=[];let ht=yt.slice();for(const an of yt){const Yt=St.find(er=>er.agent===an.agent);if(Yt){if(Yt.dates.push(an.date),fi(St)>Fe){Yt.dates.pop();break}}else if(St.push({agent:an.agent,dates:[an.date]}),fi(St)>Fe){St.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:St,unsentEntries:ht}}(Fe._heartbeatsCache.heartbeats),Yt=(0,we.L)(JSON.stringify({version:2,heartbeats:ht}));return Fe._heartbeatsCache.lastSentHeartbeatDate=St,an.length>0?(Fe._heartbeatsCache.heartbeats=an,yield Fe._storage.overwrite(Fe._heartbeatsCache)):(Fe._heartbeatsCache.heartbeats=[],Fe._storage.overwrite(Fe._heartbeatsCache)),Yt})()}}function Wr(){return(new Date).toISOString().substring(0,10)}class Ai{constructor(Fe){this.app=Fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Fe=this;return(0,d.Z)(function*(){return(yield Fe._canUseIndexedDBPromise)&&(yield function Lr(yt){return qr.apply(this,arguments)}(Fe.app))||{heartbeats:[]}})()}overwrite(Fe){var St=this;return(0,d.Z)(function*(){var ht;if(yield St._canUseIndexedDBPromise){const Yt=yield St.read();return cr(St.app,{lastSentHeartbeatDate:null!==(ht=Fe.lastSentHeartbeatDate)&&void 0!==ht?ht:Yt.lastSentHeartbeatDate,heartbeats:Fe.heartbeats})}})()}add(Fe){var St=this;return(0,d.Z)(function*(){var ht;if(yield St._canUseIndexedDBPromise){const Yt=yield St.read();return cr(St.app,{lastSentHeartbeatDate:null!==(ht=Fe.lastSentHeartbeatDate)&&void 0!==ht?ht:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...Fe.heartbeats]})}})()}}function fi(yt){return(0,we.L)(JSON.stringify({version:2,heartbeats:yt})).length}!function ui(yt){Gt(new oe.wA("platform-logger",Fe=>new Ve(Fe),"PRIVATE")),Gt(new oe.wA("heartbeat",Fe=>new ur(Fe),"PRIVATE")),wt(lt,"0.9.13",yt),wt(lt,"0.9.13","esm2017"),wt("fire-js","")}("")},4097:(bn,gt,W)=>{W.d(gt,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=W(7592);(0,d.registerVersion)("firebase","9.23.0","app")},120:(bn,gt,W)=>{W.d(gt,{Z:()=>d.Z});var d=W(3399);d.Z.registerVersion("firebase","9.23.0","app-compat")},95:(bn,gt,W)=>{W.d(gt,{Fj:()=>He,NI:()=>qn,u:()=>xs,cw:()=>xn,sg:()=>pr,Cf:()=>at,JU:()=>jt,JJ:()=>rn,JL:()=>kn,UX:()=>po,kI:()=>Nt,_Y:()=>eo});var d=W(5879),oe=W(6814),fe=W(2459),we=W(5592),Pe=W(7453),Ve=W(4829),be=W(9940),lt=W(8251),We=W(7400),_e=W(2714),Ze=W(7398);let bt=(()=>{var J;class z{constructor(Q,De){this._renderer=Q,this._elementRef=De,this.onChange=Zt=>{},this.onTouched=()=>{}}setProperty(Q,De){this._renderer.setProperty(this._elementRef.nativeElement,Q,De)}registerOnTouched(Q){this.onTouched=Q}registerOnChange(Q){this.onChange=Q}setDisabledState(Q){this.setProperty("disabled",Q)}}return(J=z).\u0275fac=function(Q){return new(Q||J)(d.Y36(d.Qsj),d.Y36(d.SBq))},J.\u0275dir=d.lG2({type:J}),z})(),Be=(()=>{var J;class z extends bt{}return(J=z).\u0275fac=function(){let pe;return function(De){return(pe||(pe=d.n5z(J)))(De||J)}}(),J.\u0275dir=d.lG2({type:J,features:[d.qOj]}),z})();const jt=new d.OlP("NgValueAccessor"),Lt={provide:jt,useExisting:(0,d.Gpc)(()=>He),multi:!0},vn=new d.OlP("CompositionEventMode");let He=(()=>{var J;class z extends bt{constructor(Q,De,Zt){super(Q,De),this._compositionMode=Zt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function On(){const J=(0,oe.q)()?(0,oe.q)().getUserAgent():"";return/android (\d+)/.test(J.toLowerCase())}())}writeValue(Q){this.setProperty("value",Q??"")}_handleInput(Q){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(Q)}_compositionStart(){this._composing=!0}_compositionEnd(Q){this._composing=!1,this._compositionMode&&this.onChange(Q)}}return(J=z).\u0275fac=function(Q){return new(Q||J)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(vn,8))},J.\u0275dir=d.lG2({type:J,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Q,De){1&Q&&d.NdJ("input",function(Qn){return De._handleInput(Qn.target.value)})("blur",function(){return De.onTouched()})("compositionstart",function(){return De._compositionStart()})("compositionend",function(Qn){return De._compositionEnd(Qn.target.value)})},features:[d._Bn([Lt]),d.qOj]}),z})();function Tt(J){return null==J||("string"==typeof J||Array.isArray(J))&&0===J.length}function ot(J){return null!=J&&"number"==typeof J.length}const at=new d.OlP("NgValidators"),Dt=new d.OlP("NgAsyncValidators"),Re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Nt{static min(z){return function Jt(J){return z=>{if(Tt(z.value)||Tt(J))return null;const pe=parseFloat(z.value);return!isNaN(pe)&&pe<J?{min:{min:J,actual:z.value}}:null}}(z)}static max(z){return function Mn(J){return z=>{if(Tt(z.value)||Tt(J))return null;const pe=parseFloat(z.value);return!isNaN(pe)&&pe>J?{max:{max:J,actual:z.value}}:null}}(z)}static required(z){return function Bn(J){return Tt(J.value)?{required:!0}:null}(z)}static requiredTrue(z){return function mn(J){return!0===J.value?null:{required:!0}}(z)}static email(z){return function zn(J){return Tt(J.value)||Re.test(J.value)?null:{email:!0}}(z)}static minLength(z){return function Jn(J){return z=>Tt(z.value)||!ot(z.value)?null:z.value.length<J?{minlength:{requiredLength:J,actualLength:z.value.length}}:null}(z)}static maxLength(z){return function dr(J){return z=>ot(z.value)&&z.value.length>J?{maxlength:{requiredLength:J,actualLength:z.value.length}}:null}(z)}static pattern(z){return function ar(J){if(!J)return Je;let z,pe;return"string"==typeof J?(pe="","^"!==J.charAt(0)&&(pe+="^"),pe+=J,"$"!==J.charAt(J.length-1)&&(pe+="$"),z=new RegExp(pe)):(pe=J.toString(),z=J),Q=>{if(Tt(Q.value))return null;const De=Q.value;return z.test(De)?null:{pattern:{requiredPattern:pe,actualValue:De}}}}(z)}static nullValidator(z){return null}static compose(z){return Ut(z)}static composeAsync(z){return Fn(z)}}function Je(J){return null}function dt(J){return null!=J}function tt(J){return(0,d.QGY)(J)?(0,fe.D)(J):J}function $e(J){let z={};return J.forEach(pe=>{z=null!=pe?{...z,...pe}:z}),0===Object.keys(z).length?null:z}function ft(J,z){return z.map(pe=>pe(J))}function Gt(J){return J.map(z=>function xt(J){return!J.validate}(z)?z:pe=>z.validate(pe))}function Ut(J){if(!J)return null;const z=J.filter(dt);return 0==z.length?null:function(pe){return $e(ft(pe,z))}}function Hn(J){return null!=J?Ut(Gt(J)):null}function Fn(J){if(!J)return null;const z=J.filter(dt);return 0==z.length?null:function(pe){return function Oe(...J){const z=(0,be.jO)(J),{args:pe,keys:Q}=(0,Pe.D)(J),De=new we.y(Zt=>{const{length:Qn}=pe;if(!Qn)return void Zt.complete();const is=new Array(Qn);let hs=Qn,vs=Qn;for(let Es=0;Es<Qn;Es++){let Ms=!1;(0,Ve.Xf)(pe[Es]).subscribe((0,lt.x)(Zt,xa=>{Ms||(Ms=!0,vs--),is[Es]=xa},()=>hs--,void 0,()=>{(!hs||!Ms)&&(vs||Zt.next(Q?(0,_e.n)(Q,is):is),Zt.complete())}))}});return z?De.pipe((0,We.Z)(z)):De}(ft(pe,z).map(tt)).pipe((0,Ze.U)($e))}}function Un(J){return null!=J?Fn(Gt(J)):null}function An(J,z){return null===J?[z]:Array.isArray(J)?[...J,z]:[J,z]}function fr(J){return J._rawValidators}function zr(J){return J._rawAsyncValidators}function wn(J){return J?Array.isArray(J)?J:[J]:[]}function qe(J,z){return Array.isArray(J)?J.includes(z):J===z}function ke(J,z){const pe=wn(z);return wn(J).forEach(De=>{qe(pe,De)||pe.push(De)}),pe}function mt(J,z){return wn(z).filter(pe=>!qe(J,pe))}class Rt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(z){this._rawValidators=z||[],this._composedValidatorFn=Hn(this._rawValidators)}_setAsyncValidators(z){this._rawAsyncValidators=z||[],this._composedAsyncValidatorFn=Un(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(z){this._onDestroyCallbacks.push(z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(z=>z()),this._onDestroyCallbacks=[]}reset(z=void 0){this.control&&this.control.reset(z)}hasError(z,pe){return!!this.control&&this.control.hasError(z,pe)}getError(z,pe){return this.control?this.control.getError(z,pe):null}}class wt extends Rt{get formDirective(){return null}get path(){return null}}class Ht extends Rt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class or{constructor(z){this._cd=z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rn=(()=>{var J;class z extends or{constructor(Q){super(Q)}}return(J=z).\u0275fac=function(Q){return new(Q||J)(d.Y36(Ht,2))},J.\u0275dir=d.lG2({type:J,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Q,De){2&Q&&d.ekj("ng-untouched",De.isUntouched)("ng-touched",De.isTouched)("ng-pristine",De.isPristine)("ng-dirty",De.isDirty)("ng-valid",De.isValid)("ng-invalid",De.isInvalid)("ng-pending",De.isPending)},features:[d.qOj]}),z})(),kn=(()=>{var J;class z extends or{constructor(Q){super(Q)}}return(J=z).\u0275fac=function(Q){return new(Q||J)(d.Y36(wt,10))},J.\u0275dir=d.lG2({type:J,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Q,De){2&Q&&d.ekj("ng-untouched",De.isUntouched)("ng-touched",De.isTouched)("ng-pristine",De.isPristine)("ng-dirty",De.isDirty)("ng-valid",De.isValid)("ng-invalid",De.isInvalid)("ng-pending",De.isPending)("ng-submitted",De.isSubmitted)},features:[d.qOj]}),z})();const ht="VALID",an="INVALID",Yt="PENDING",er="DISABLED";function Me(J){return(de(J)?J.validators:J)||null}function se(J,z){return(de(z)?z.asyncValidators:J)||null}function de(J){return null!=J&&!Array.isArray(J)&&"object"==typeof J}class qt{constructor(z,pe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(z),this._assignAsyncValidators(pe)}get validator(){return this._composedValidatorFn}set validator(z){this._rawValidators=this._composedValidatorFn=z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(z){this._rawAsyncValidators=this._composedAsyncValidatorFn=z}get parent(){return this._parent}get valid(){return this.status===ht}get invalid(){return this.status===an}get pending(){return this.status==Yt}get disabled(){return this.status===er}get enabled(){return this.status!==er}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(z){this._assignValidators(z)}setAsyncValidators(z){this._assignAsyncValidators(z)}addValidators(z){this.setValidators(ke(z,this._rawValidators))}addAsyncValidators(z){this.setAsyncValidators(ke(z,this._rawAsyncValidators))}removeValidators(z){this.setValidators(mt(z,this._rawValidators))}removeAsyncValidators(z){this.setAsyncValidators(mt(z,this._rawAsyncValidators))}hasValidator(z){return qe(this._rawValidators,z)}hasAsyncValidator(z){return qe(this._rawAsyncValidators,z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(z={}){this.touched=!0,this._parent&&!z.onlySelf&&this._parent.markAsTouched(z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(z=>z.markAllAsTouched())}markAsUntouched(z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(pe=>{pe.markAsUntouched({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}markAsDirty(z={}){this.pristine=!1,this._parent&&!z.onlySelf&&this._parent.markAsDirty(z)}markAsPristine(z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(pe=>{pe.markAsPristine({onlySelf:!0})}),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}markAsPending(z={}){this.status=Yt,!1!==z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!z.onlySelf&&this._parent.markAsPending(z)}disable(z={}){const pe=this._parentMarkedDirty(z.onlySelf);this.status=er,this.errors=null,this._forEachChild(Q=>{Q.disable({...z,onlySelf:!0})}),this._updateValue(),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...z,skipPristineCheck:pe}),this._onDisabledChange.forEach(Q=>Q(!0))}enable(z={}){const pe=this._parentMarkedDirty(z.onlySelf);this.status=ht,this._forEachChild(Q=>{Q.enable({...z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent}),this._updateAncestors({...z,skipPristineCheck:pe}),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(z){this._parent&&!z.onlySelf&&(this._parent.updateValueAndValidity(z),z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(z){this._parent=z}getRawValue(){return this.value}updateValueAndValidity(z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ht||this.status===Yt)&&this._runAsyncValidator(z.emitEvent)),!1!==z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!z.onlySelf&&this._parent.updateValueAndValidity(z)}_updateTreeValidity(z={emitEvent:!0}){this._forEachChild(pe=>pe._updateTreeValidity(z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?er:ht}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(z){if(this.asyncValidator){this.status=Yt,this._hasOwnPendingAsyncValidator=!0;const pe=tt(this.asyncValidator(this));this._asyncValidationSubscription=pe.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(z,pe={}){this.errors=z,this._updateControlsErrors(!1!==pe.emitEvent)}get(z){let pe=z;return null==pe||(Array.isArray(pe)||(pe=pe.split(".")),0===pe.length)?null:pe.reduce((Q,De)=>Q&&Q._find(De),this)}getError(z,pe){const Q=pe?this.get(pe):this;return Q&&Q.errors?Q.errors[z]:null}hasError(z,pe){return!!this.getError(z,pe)}get root(){let z=this;for(;z._parent;)z=z._parent;return z}_updateControlsErrors(z){this.status=this._calculateStatus(),z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(z)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?er:this.errors?an:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yt)?Yt:this._anyControlsHaveStatus(an)?an:ht}_anyControlsHaveStatus(z){return this._anyControls(pe=>pe.status===z)}_anyControlsDirty(){return this._anyControls(z=>z.dirty)}_anyControlsTouched(){return this._anyControls(z=>z.touched)}_updatePristine(z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!z.onlySelf&&this._parent._updatePristine(z)}_updateTouched(z={}){this.touched=this._anyControlsTouched(),this._parent&&!z.onlySelf&&this._parent._updateTouched(z)}_registerOnCollectionChange(z){this._onCollectionChange=z}_setUpdateStrategy(z){de(z)&&null!=z.updateOn&&(this._updateOn=z.updateOn)}_parentMarkedDirty(z){return!z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(z){return null}_assignValidators(z){this._rawValidators=Array.isArray(z)?z.slice():z,this._composedValidatorFn=function ue(J){return Array.isArray(J)?Hn(J):J||null}(this._rawValidators)}_assignAsyncValidators(z){this._rawAsyncValidators=Array.isArray(z)?z.slice():z,this._composedAsyncValidatorFn=function Ce(J){return Array.isArray(J)?Un(J):J||null}(this._rawAsyncValidators)}}class xn extends qt{constructor(z,pe,Q){super(Me(pe),se(Q,pe)),this.controls=z,this._initObservables(),this._setUpdateStrategy(pe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(z,pe){return this.controls[z]?this.controls[z]:(this.controls[z]=pe,pe.setParent(this),pe._registerOnCollectionChange(this._onCollectionChange),pe)}addControl(z,pe,Q={}){this.registerControl(z,pe),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(z,pe={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}setControl(z,pe,Q={}){this.controls[z]&&this.controls[z]._registerOnCollectionChange(()=>{}),delete this.controls[z],pe&&this.registerControl(z,pe),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(z){return this.controls.hasOwnProperty(z)&&this.controls[z].enabled}setValue(z,pe={}){(function Ot(J,z,pe){J._forEachChild((Q,De)=>{if(void 0===pe[De])throw new d.vHH(1002,"")})})(this,0,z),Object.keys(z).forEach(Q=>{(function Le(J,z,pe){const Q=J.controls;if(!(z?Object.keys(Q):Q).length)throw new d.vHH(1e3,"");if(!Q[pe])throw new d.vHH(1001,"")})(this,!0,Q),this.controls[Q].setValue(z[Q],{onlySelf:!0,emitEvent:pe.emitEvent})}),this.updateValueAndValidity(pe)}patchValue(z,pe={}){null!=z&&(Object.keys(z).forEach(Q=>{const De=this.controls[Q];De&&De.patchValue(z[Q],{onlySelf:!0,emitEvent:pe.emitEvent})}),this.updateValueAndValidity(pe))}reset(z={},pe={}){this._forEachChild((Q,De)=>{Q.reset(z[De],{onlySelf:!0,emitEvent:pe.emitEvent})}),this._updatePristine(pe),this._updateTouched(pe),this.updateValueAndValidity(pe)}getRawValue(){return this._reduceChildren({},(z,pe,Q)=>(z[Q]=pe.getRawValue(),z))}_syncPendingControls(){let z=this._reduceChildren(!1,(pe,Q)=>!!Q._syncPendingControls()||pe);return z&&this.updateValueAndValidity({onlySelf:!0}),z}_forEachChild(z){Object.keys(this.controls).forEach(pe=>{const Q=this.controls[pe];Q&&z(Q,pe)})}_setUpControls(){this._forEachChild(z=>{z.setParent(this),z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(z){for(const[pe,Q]of Object.entries(this.controls))if(this.contains(pe)&&z(Q))return!0;return!1}_reduceValue(){return this._reduceChildren({},(pe,Q,De)=>((Q.enabled||this.disabled)&&(pe[De]=Q.value),pe))}_reduceChildren(z,pe){let Q=z;return this._forEachChild((De,Zt)=>{Q=pe(Q,De,Zt)}),Q}_allControlsDisabled(){for(const z of Object.keys(this.controls))if(this.controls[z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(z){return this.controls.hasOwnProperty(z)?this.controls[z]:null}}const Ei=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ci}),Ci="always";function Xi(J,z,pe=Ci){_r(J,z),z.valueAccessor.writeValue(J.value),(J.disabled||"always"===pe)&&z.valueAccessor.setDisabledState?.(J.disabled),function es(J,z){z.valueAccessor.registerOnChange(pe=>{J._pendingValue=pe,J._pendingChange=!0,J._pendingDirty=!0,"change"===J.updateOn&&Js(J,z)})}(J,z),function oi(J,z){const pe=(Q,De)=>{z.valueAccessor.writeValue(Q),De&&z.viewToModelUpdate(Q)};J.registerOnChange(pe),z._registerOnDestroy(()=>{J._unregisterOnChange(pe)})}(J,z),function Zs(J,z){z.valueAccessor.registerOnTouched(()=>{J._pendingTouched=!0,"blur"===J.updateOn&&J._pendingChange&&Js(J,z),"submit"!==J.updateOn&&J.markAsTouched()})}(J,z),function Hi(J,z){if(z.valueAccessor.setDisabledState){const pe=Q=>{z.valueAccessor.setDisabledState(Q)};J.registerOnDisabledChange(pe),z._registerOnDestroy(()=>{J._unregisterOnDisabledChange(pe)})}}(J,z)}function Jr(J,z,pe=!0){const Q=()=>{};z.valueAccessor&&(z.valueAccessor.registerOnChange(Q),z.valueAccessor.registerOnTouched(Q)),Bi(J,z),J&&(z._invokeOnDestroyCallbacks(),J._registerOnCollectionChange(()=>{}))}function Kr(J,z){J.forEach(pe=>{pe.registerOnValidatorChange&&pe.registerOnValidatorChange(z)})}function _r(J,z){const pe=fr(J);null!==z.validator?J.setValidators(An(pe,z.validator)):"function"==typeof pe&&J.setValidators([pe]);const Q=zr(J);null!==z.asyncValidator?J.setAsyncValidators(An(Q,z.asyncValidator)):"function"==typeof Q&&J.setAsyncValidators([Q]);const De=()=>J.updateValueAndValidity();Kr(z._rawValidators,De),Kr(z._rawAsyncValidators,De)}function Bi(J,z){let pe=!1;if(null!==J){if(null!==z.validator){const De=fr(J);if(Array.isArray(De)&&De.length>0){const Zt=De.filter(Qn=>Qn!==z.validator);Zt.length!==De.length&&(pe=!0,J.setValidators(Zt))}}if(null!==z.asyncValidator){const De=zr(J);if(Array.isArray(De)&&De.length>0){const Zt=De.filter(Qn=>Qn!==z.asyncValidator);Zt.length!==De.length&&(pe=!0,J.setAsyncValidators(Zt))}}}const Q=()=>{};return Kr(z._rawValidators,Q),Kr(z._rawAsyncValidators,Q),pe}function Js(J,z){J._pendingDirty&&J.markAsDirty(),J.setValue(J._pendingValue,{emitModelToViewChange:!1}),z.viewToModelUpdate(J._pendingValue),J._pendingChange=!1}function Vt(J,z){const pe=J.indexOf(z);pe>-1&&J.splice(pe,1)}function Xt(J){return"object"==typeof J&&null!==J&&2===Object.keys(J).length&&"value"in J&&"disabled"in J}const qn=class extends qt{constructor(z=null,pe,Q){super(Me(pe),se(Q,pe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(z),this._setUpdateStrategy(pe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),de(pe)&&(pe.nonNullable||pe.initialValueIsDefault)&&(this.defaultValue=Xt(z)?z.value:z)}setValue(z,pe={}){this.value=this._pendingValue=z,this._onChange.length&&!1!==pe.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==pe.emitViewToModelChange)),this.updateValueAndValidity(pe)}patchValue(z,pe={}){this.setValue(z,pe)}reset(z=this.defaultValue,pe={}){this._applyFormState(z),this.markAsPristine(pe),this.markAsUntouched(pe),this.setValue(this.value,pe),this._pendingChange=!1}_updateValue(){}_anyControls(z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(z){this._onChange.push(z)}_unregisterOnChange(z){Vt(this._onChange,z)}registerOnDisabledChange(z){this._onDisabledChange.push(z)}_unregisterOnDisabledChange(z){Vt(this._onDisabledChange,z)}_forEachChild(z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(z){Xt(z)?(this.value=this._pendingValue=z.value,z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=z}};let eo=(()=>{var J;class z{}return(J=z).\u0275fac=function(Q){return new(Q||J)},J.\u0275dir=d.lG2({type:J,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),z})(),Cs=(()=>{var J;class z{}return(J=z).\u0275fac=function(Q){return new(Q||J)},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({}),z})();const ki=new d.OlP("NgModelWithFormControlWarning"),_n={provide:wt,useExisting:(0,d.Gpc)(()=>pr)};let pr=(()=>{var J;class z extends wt{constructor(Q,De,Zt){super(),this.callSetDisabledState=Zt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(Q),this._setAsyncValidators(De)}ngOnChanges(Q){this._checkFormPresent(),Q.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(Q){const De=this.form.get(Q.path);return Xi(De,Q,this.callSetDisabledState),De.updateValueAndValidity({emitEvent:!1}),this.directives.push(Q),De}getControl(Q){return this.form.get(Q.path)}removeControl(Q){Jr(Q.control||null,Q,!1),function _a(J,z){const pe=J.indexOf(z);pe>-1&&J.splice(pe,1)}(this.directives,Q)}addFormGroup(Q){this._setUpFormContainer(Q)}removeFormGroup(Q){this._cleanUpFormContainer(Q)}getFormGroup(Q){return this.form.get(Q.path)}addFormArray(Q){this._setUpFormContainer(Q)}removeFormArray(Q){this._cleanUpFormContainer(Q)}getFormArray(Q){return this.form.get(Q.path)}updateModel(Q,De){this.form.get(Q.path).setValue(De)}onSubmit(Q){return this.submitted=!0,function $s(J,z){J._syncPendingControls(),z.forEach(pe=>{const Q=pe.control;"submit"===Q.updateOn&&Q._pendingChange&&(pe.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(Q),"dialog"===Q?.target?.method}onReset(){this.resetForm()}resetForm(Q=void 0){this.form.reset(Q),this.submitted=!1}_updateDomValue(){this.directives.forEach(Q=>{const De=Q.control,Zt=this.form.get(Q.path);De!==Zt&&(Jr(De||null,Q),(J=>J instanceof qn)(Zt)&&(Xi(Zt,Q,this.callSetDisabledState),Q.control=Zt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(Q){const De=this.form.get(Q.path);(function Gi(J,z){_r(J,z)})(De,Q),De.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(Q){if(this.form){const De=this.form.get(Q.path);De&&function ks(J,z){return Bi(J,z)}(De,Q)&&De.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_r(this.form,this),this._oldForm&&Bi(this._oldForm,this)}_checkFormPresent(){}}return(J=z).\u0275fac=function(Q){return new(Q||J)(d.Y36(at,10),d.Y36(Dt,10),d.Y36(Ei,8))},J.\u0275dir=d.lG2({type:J,selectors:[["","formGroup",""]],hostBindings:function(Q,De){1&Q&&d.NdJ("submit",function(Qn){return De.onSubmit(Qn)})("reset",function(){return De.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([_n]),d.qOj,d.TTD]}),z})();const Ii={provide:Ht,useExisting:(0,d.Gpc)(()=>xs)};let xs=(()=>{var J;class z extends Ht{set isDisabled(Q){}constructor(Q,De,Zt,Qn,is){super(),this._ngModelWarningConfig=is,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=Q,this._setValidators(De),this._setAsyncValidators(Zt),this.valueAccessor=function Ss(J,z){if(!z)return null;let pe,Q,De;return Array.isArray(z),z.forEach(Zt=>{Zt.constructor===He?pe=Zt:function Rr(J){return Object.getPrototypeOf(J.constructor)===Be}(Zt)?Q=Zt:De=Zt}),De||Q||pe||null}(0,Qn)}ngOnChanges(Q){this._added||this._setUpControl(),function gs(J,z){if(!J.hasOwnProperty("model"))return!1;const pe=J.model;return!!pe.isFirstChange()||!Object.is(z,pe.currentValue)}(Q,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(Q){this.viewModel=Q,this.update.emit(Q)}get path(){return function Ji(J,z){return[...z.path,J]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(J=z)._ngModelWarningSentOnce=!1,J.\u0275fac=function(Q){return new(Q||J)(d.Y36(wt,13),d.Y36(at,10),d.Y36(Dt,10),d.Y36(jt,10),d.Y36(ki,8))},J.\u0275dir=d.lG2({type:J,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Ii]),d.qOj,d.TTD]}),z})(),ja=(()=>{var J;class z{}return(J=z).\u0275fac=function(Q){return new(Q||J)},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({imports:[Cs]}),z})(),po=(()=>{var J;class z{static withConfig(Q){return{ngModule:z,providers:[{provide:ki,useValue:Q.warnOnNgModelWithFormControl??"always"},{provide:Ei,useValue:Q.callSetDisabledState??Ci}]}}}return(J=z).\u0275fac=function(Q){return new(Q||J)},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({imports:[ja]}),z})()},2614:()=>{const bn=":";const fr=function(qe,...ke){if(fr.translate){const Rt=fr.translate(qe,ke);qe=Rt[0],ke=Rt[1]}let mt=wn(qe[0],qe.raw[0]);for(let Rt=1;Rt<qe.length;Rt++)mt+=ke[Rt-1]+wn(qe[Rt],qe.raw[Rt]);return mt},zr=":";function wn(qe,ke){return ke.charAt(0)===zr?qe.substring(function dt(qe,ke){for(let mt=1,Rt=1;mt<qe.length;mt++,Rt++)if("\\"===ke[Rt])Rt++;else if(qe[mt]===bn)return mt;throw new Error(`Unterminated $localize metadata block in "${ke}".`)}(qe,ke)+1):qe}globalThis.$localize=fr},6593:(bn,gt,W)=>{W.d(gt,{Dx:()=>Ht,H7:()=>Ai,b2:()=>qe,q6:()=>An,se:()=>Re});var d=W(5879),oe=W(6814);class fe extends oe.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class we extends fe{static makeCurrent(){(0,oe.HT)(new we)}onAndCancel(se,Ce,de){return se.addEventListener(Ce,de),()=>{se.removeEventListener(Ce,de)}}dispatchEvent(se,Ce){se.dispatchEvent(Ce)}remove(se){se.parentNode&&se.parentNode.removeChild(se)}createElement(se,Ce){return(Ce=Ce||this.getDefaultDocument()).createElement(se)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(se){return se.nodeType===Node.ELEMENT_NODE}isShadowRoot(se){return se instanceof DocumentFragment}getGlobalEventTarget(se,Ce){return"window"===Ce?window:"document"===Ce?se:"body"===Ce?se.body:null}getBaseHref(se){const Ce=function Ve(){return Pe=Pe||document.querySelector("base"),Pe?Pe.getAttribute("href"):null}();return null==Ce?null:function lt(ue){be=be||document.createElement("a"),be.setAttribute("href",ue);const se=be.pathname;return"/"===se.charAt(0)?se:`/${se}`}(Ce)}resetBaseElement(){Pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(se){return(0,oe.Mx)(document.cookie,se)}}let be,Pe=null,_e=(()=>{var ue;class se{build(){return new XMLHttpRequest}}return(ue=se).\u0275fac=function(de){return new(de||ue)},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),se})();const Oe=new d.OlP("EventManagerPlugins");let Ze=(()=>{var ue;class se{constructor(de,Le){this._zone=Le,this._eventNameToPlugin=new Map,de.forEach(Ot=>{Ot.manager=this}),this._plugins=de.slice().reverse()}addEventListener(de,Le,Ot){return this._findPluginFor(Le).addEventListener(de,Le,Ot)}getZone(){return this._zone}_findPluginFor(de){let Le=this._eventNameToPlugin.get(de);if(Le)return Le;if(Le=this._plugins.find(qt=>qt.supports(de)),!Le)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(de,Le),Le}}return(ue=se).\u0275fac=function(de){return new(de||ue)(d.LFG(Oe),d.LFG(d.R0b))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),se})();class bt{constructor(se){this._doc=se}}const Be="ng-app-id";let jt=(()=>{var ue;class se{constructor(de,Le,Ot,qt={}){this.doc=de,this.appId=Le,this.nonce=Ot,this.platformId=qt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,oe.PM)(qt),this.resetHostNodes()}addStyles(de){for(const Le of de)1===this.changeUsageCount(Le,1)&&this.onStyleAdded(Le)}removeStyles(de){for(const Le of de)this.changeUsageCount(Le,-1)<=0&&this.onStyleRemoved(Le)}ngOnDestroy(){const de=this.styleNodesInDOM;de&&(de.forEach(Le=>Le.remove()),de.clear());for(const Le of this.getAllStyles())this.onStyleRemoved(Le);this.resetHostNodes()}addHost(de){this.hostNodes.add(de);for(const Le of this.getAllStyles())this.addStyleToHost(de,Le)}removeHost(de){this.hostNodes.delete(de)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(de){for(const Le of this.hostNodes)this.addStyleToHost(Le,de)}onStyleRemoved(de){const Le=this.styleRef;Le.get(de)?.elements?.forEach(Ot=>Ot.remove()),Le.delete(de)}collectServerRenderedStyles(){const de=this.doc.head?.querySelectorAll(`style[${Be}="${this.appId}"]`);if(de?.length){const Le=new Map;return de.forEach(Ot=>{null!=Ot.textContent&&Le.set(Ot.textContent,Ot)}),Le}return null}changeUsageCount(de,Le){const Ot=this.styleRef;if(Ot.has(de)){const qt=Ot.get(de);return qt.usage+=Le,qt.usage}return Ot.set(de,{usage:Le,elements:[]}),Le}getStyleElement(de,Le){const Ot=this.styleNodesInDOM,qt=Ot?.get(Le);if(qt?.parentNode===de)return Ot.delete(Le),qt.removeAttribute(Be),qt;{const xn=this.doc.createElement("style");return this.nonce&&xn.setAttribute("nonce",this.nonce),xn.textContent=Le,this.platformIsServer&&xn.setAttribute(Be,this.appId),xn}}addStyleToHost(de,Le){const Ot=this.getStyleElement(de,Le);de.appendChild(Ot);const qt=this.styleRef,xn=qt.get(Le)?.elements;xn?xn.push(Ot):qt.set(Le,{elements:[Ot],usage:1})}resetHostNodes(){const de=this.hostNodes;de.clear(),de.add(this.doc.head)}}return(ue=se).\u0275fac=function(de){return new(de||ue)(d.LFG(oe.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),se})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tn=/%COMP%/g,Tt=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Dt(ue,se){return se.map(Ce=>Ce.replace(tn,ue))}let Re=(()=>{var ue;class se{constructor(de,Le,Ot,qt,xn,hn,kr,mr=null){this.eventManager=de,this.sharedStylesHost=Le,this.appId=Ot,this.removeStylesOnCompDestroy=qt,this.doc=xn,this.platformId=hn,this.ngZone=kr,this.nonce=mr,this.rendererByCompId=new Map,this.platformIsServer=(0,oe.PM)(hn),this.defaultRenderer=new Nt(de,xn,kr,this.platformIsServer)}createRenderer(de,Le){if(!de||!Le)return this.defaultRenderer;this.platformIsServer&&Le.encapsulation===d.ifc.ShadowDom&&(Le={...Le,encapsulation:d.ifc.Emulated});const Ot=this.getOrCreateRenderer(de,Le);return Ot instanceof Jn?Ot.applyToHost(de):Ot instanceof zn&&Ot.applyStyles(),Ot}getOrCreateRenderer(de,Le){const Ot=this.rendererByCompId;let qt=Ot.get(Le.id);if(!qt){const xn=this.doc,hn=this.ngZone,kr=this.eventManager,mr=this.sharedStylesHost,Br=this.removeStylesOnCompDestroy,Ei=this.platformIsServer;switch(Le.encapsulation){case d.ifc.Emulated:qt=new Jn(kr,mr,Le,this.appId,Br,xn,hn,Ei);break;case d.ifc.ShadowDom:return new mn(kr,mr,de,Le,xn,hn,this.nonce,Ei);default:qt=new zn(kr,mr,Le,Br,xn,hn,Ei)}Ot.set(Le.id,qt)}return qt}ngOnDestroy(){this.rendererByCompId.clear()}}return(ue=se).\u0275fac=function(de){return new(de||ue)(d.LFG(Ze),d.LFG(jt),d.LFG(d.AFp),d.LFG(Tt),d.LFG(oe.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),se})();class Nt{constructor(se,Ce,de,Le){this.eventManager=se,this.doc=Ce,this.ngZone=de,this.platformIsServer=Le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(se,Ce){return Ce?this.doc.createElementNS(st[Ce]||Ce,se):this.doc.createElement(se)}createComment(se){return this.doc.createComment(se)}createText(se){return this.doc.createTextNode(se)}appendChild(se,Ce){(Bn(se)?se.content:se).appendChild(Ce)}insertBefore(se,Ce,de){se&&(Bn(se)?se.content:se).insertBefore(Ce,de)}removeChild(se,Ce){se&&se.removeChild(Ce)}selectRootElement(se,Ce){let de="string"==typeof se?this.doc.querySelector(se):se;if(!de)throw new d.vHH(-5104,!1);return Ce||(de.textContent=""),de}parentNode(se){return se.parentNode}nextSibling(se){return se.nextSibling}setAttribute(se,Ce,de,Le){if(Le){Ce=Le+":"+Ce;const Ot=st[Le];Ot?se.setAttributeNS(Ot,Ce,de):se.setAttribute(Ce,de)}else se.setAttribute(Ce,de)}removeAttribute(se,Ce,de){if(de){const Le=st[de];Le?se.removeAttributeNS(Le,Ce):se.removeAttribute(`${de}:${Ce}`)}else se.removeAttribute(Ce)}addClass(se,Ce){se.classList.add(Ce)}removeClass(se,Ce){se.classList.remove(Ce)}setStyle(se,Ce,de,Le){Le&(d.JOm.DashCase|d.JOm.Important)?se.style.setProperty(Ce,de,Le&d.JOm.Important?"important":""):se.style[Ce]=de}removeStyle(se,Ce,de){de&d.JOm.DashCase?se.style.removeProperty(Ce):se.style[Ce]=""}setProperty(se,Ce,de){se[Ce]=de}setValue(se,Ce){se.nodeValue=Ce}listen(se,Ce,de){if("string"==typeof se&&!(se=(0,oe.q)().getGlobalEventTarget(this.doc,se)))throw new Error(`Unsupported event target ${se} for event ${Ce}`);return this.eventManager.addEventListener(se,Ce,this.decoratePreventDefault(de))}decoratePreventDefault(se){return Ce=>{if("__ngUnwrap__"===Ce)return se;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>se(Ce)):se(Ce))&&Ce.preventDefault()}}}function Bn(ue){return"TEMPLATE"===ue.tagName&&void 0!==ue.content}class mn extends Nt{constructor(se,Ce,de,Le,Ot,qt,xn,hn){super(se,Ot,qt,hn),this.sharedStylesHost=Ce,this.hostEl=de,this.shadowRoot=de.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kr=Dt(Le.id,Le.styles);for(const mr of kr){const Br=document.createElement("style");xn&&Br.setAttribute("nonce",xn),Br.textContent=mr,this.shadowRoot.appendChild(Br)}}nodeOrShadowRoot(se){return se===this.hostEl?this.shadowRoot:se}appendChild(se,Ce){return super.appendChild(this.nodeOrShadowRoot(se),Ce)}insertBefore(se,Ce,de){return super.insertBefore(this.nodeOrShadowRoot(se),Ce,de)}removeChild(se,Ce){return super.removeChild(this.nodeOrShadowRoot(se),Ce)}parentNode(se){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(se)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zn extends Nt{constructor(se,Ce,de,Le,Ot,qt,xn,hn){super(se,Ot,qt,xn),this.sharedStylesHost=Ce,this.removeStylesOnCompDestroy=Le,this.styles=hn?Dt(hn,de.styles):de.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jn extends zn{constructor(se,Ce,de,Le,Ot,qt,xn,hn){const kr=Le+"-"+de.id;super(se,Ce,de,Ot,qt,xn,hn,kr),this.contentAttr=function ot(ue){return"_ngcontent-%COMP%".replace(tn,ue)}(kr),this.hostAttr=function at(ue){return"_nghost-%COMP%".replace(tn,ue)}(kr)}applyToHost(se){this.applyStyles(),this.setAttribute(se,this.hostAttr,"")}createElement(se,Ce){const de=super.createElement(se,Ce);return super.setAttribute(de,this.contentAttr,""),de}}let dr=(()=>{var ue;class se extends bt{constructor(de){super(de)}supports(de){return!0}addEventListener(de,Le,Ot){return de.addEventListener(Le,Ot,!1),()=>this.removeEventListener(de,Le,Ot)}removeEventListener(de,Le,Ot){return de.removeEventListener(Le,Ot)}}return(ue=se).\u0275fac=function(de){return new(de||ue)(d.LFG(oe.K0))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),se})();const ar=["alt","control","meta","shift"],Je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={alt:ue=>ue.altKey,control:ue=>ue.ctrlKey,meta:ue=>ue.metaKey,shift:ue=>ue.shiftKey};let tt=(()=>{var ue;class se extends bt{constructor(de){super(de)}supports(de){return null!=se.parseEventName(de)}addEventListener(de,Le,Ot){const qt=se.parseEventName(Le),xn=se.eventCallback(qt.fullKey,Ot,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,oe.q)().onAndCancel(de,qt.domEventName,xn))}static parseEventName(de){const Le=de.toLowerCase().split("."),Ot=Le.shift();if(0===Le.length||"keydown"!==Ot&&"keyup"!==Ot)return null;const qt=se._normalizeKey(Le.pop());let xn="",hn=Le.indexOf("code");if(hn>-1&&(Le.splice(hn,1),xn="code."),ar.forEach(mr=>{const Br=Le.indexOf(mr);Br>-1&&(Le.splice(Br,1),xn+=mr+".")}),xn+=qt,0!=Le.length||0===qt.length)return null;const kr={};return kr.domEventName=Ot,kr.fullKey=xn,kr}static matchEventFullKeyCode(de,Le){let Ot=Je[de.key]||de.key,qt="";return Le.indexOf("code.")>-1&&(Ot=de.code,qt="code."),!(null==Ot||!Ot)&&(Ot=Ot.toLowerCase()," "===Ot?Ot="space":"."===Ot&&(Ot="dot"),ar.forEach(xn=>{xn!==Ot&&(0,dt[xn])(de)&&(qt+=xn+".")}),qt+=Ot,qt===Le)}static eventCallback(de,Le,Ot){return qt=>{se.matchEventFullKeyCode(qt,de)&&Ot.runGuarded(()=>Le(qt))}}static _normalizeKey(de){return"esc"===de?"escape":de}}return(ue=se).\u0275fac=function(de){return new(de||ue)(d.LFG(oe.K0))},ue.\u0275prov=d.Yz7({token:ue,factory:ue.\u0275fac}),se})();const An=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:oe.bD},{provide:d.g9A,useValue:function Ut(){we.makeCurrent()},multi:!0},{provide:oe.K0,useFactory:function Fn(){return(0,d.RDi)(document),document},deps:[]}]),fr=new d.OlP(""),zr=[{provide:d.rWj,useClass:class We{addToWindow(se){d.dqk.getAngularTestability=(de,Le=!0)=>{const Ot=se.findTestabilityInTree(de,Le);if(null==Ot)throw new d.vHH(5103,!1);return Ot},d.dqk.getAllAngularTestabilities=()=>se.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>se.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(de=>{const Le=d.dqk.getAllAngularTestabilities();let Ot=Le.length,qt=!1;const xn=function(hn){qt=qt||hn,Ot--,0==Ot&&de(qt)};Le.forEach(hn=>{hn.whenStable(xn)})})}findTestabilityInTree(se,Ce,de){return null==Ce?null:se.getTestability(Ce)??(de?(0,oe.q)().isShadowRoot(Ce)?this.findTestabilityInTree(se,Ce.host,!0):this.findTestabilityInTree(se,Ce.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],wn=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Hn(){return new d.qLn},deps:[]},{provide:Oe,useClass:dr,multi:!0,deps:[oe.K0,d.R0b,d.Lbi]},{provide:Oe,useClass:tt,multi:!0,deps:[oe.K0]},Re,jt,Ze,{provide:d.FYo,useExisting:Re},{provide:oe.JF,useClass:_e,deps:[]},[]];let qe=(()=>{var ue;class se{constructor(de){}static withServerTransition(de){return{ngModule:se,providers:[{provide:d.AFp,useValue:de.appId}]}}}return(ue=se).\u0275fac=function(de){return new(de||ue)(d.LFG(fr,12))},ue.\u0275mod=d.oAB({type:ue}),ue.\u0275inj=d.cJS({providers:[...wn,...zr],imports:[oe.ez,d.hGG]}),se})(),Ht=(()=>{var ue;class se{constructor(de){this._doc=de}getTitle(){return this._doc.title}setTitle(de){this._doc.title=de||""}}return(ue=se).\u0275fac=function(de){return new(de||ue)(d.LFG(oe.K0))},ue.\u0275prov=d.Yz7({token:ue,factory:function(de){let Le=null;return Le=de?new de:function wt(){return new Ht((0,d.LFG)(oe.K0))}(),Le},providedIn:"root"}),se})();typeof window<"u"&&window;let Ai=(()=>{var ue;class se{}return(ue=se).\u0275fac=function(de){return new(de||ue)},ue.\u0275prov=d.Yz7({token:ue,factory:function(de){let Le=null;return Le=de?new(de||ue):d.LFG(ui),Le},providedIn:"root"}),se})(),ui=(()=>{var ue;class se extends Ai{constructor(de){super(),this._doc=de}sanitize(de,Le){if(null==Le)return null;switch(de){case d.q3G.NONE:return Le;case d.q3G.HTML:return(0,d.qzn)(Le,"HTML")?(0,d.z3N)(Le):(0,d.EiD)(this._doc,String(Le)).toString();case d.q3G.STYLE:return(0,d.qzn)(Le,"Style")?(0,d.z3N)(Le):Le;case d.q3G.SCRIPT:if((0,d.qzn)(Le,"Script"))return(0,d.z3N)(Le);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(Le,"URL")?(0,d.z3N)(Le):(0,d.mCW)(String(Le));case d.q3G.RESOURCE_URL:if((0,d.qzn)(Le,"ResourceURL"))return(0,d.z3N)(Le);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(de){return(0,d.JVY)(de)}bypassSecurityTrustStyle(de){return(0,d.L6k)(de)}bypassSecurityTrustScript(de){return(0,d.eBb)(de)}bypassSecurityTrustUrl(de){return(0,d.LAX)(de)}bypassSecurityTrustResourceUrl(de){return(0,d.pB0)(de)}}return(ue=se).\u0275fac=function(de){return new(de||ue)(d.LFG(oe.K0))},ue.\u0275prov=d.Yz7({token:ue,factory:function(de){let Le=null;return Le=de?new de:function fi(ue){return new ui(ue.get(oe.K0))}(d.LFG(d.zs3)),Le},providedIn:"root"}),se})()},969:(bn,gt,W)=>{W.d(gt,{F0:()=>$t,rH:()=>yi,Bz:()=>Cu,lC:()=>zo});var d=W(5879),oe=W(5592),fe=W(4674),Pe=W(2459),Ve=W(2096),be=W(5619),lt=W(7453),We=W(2737),_e=W(7400),Oe=W(9940),Ze=W(2714),bt=W(8251),Be=W(7103);function jt(...A){const N=(0,Oe.yG)(A),j=(0,Oe.jO)(A),{args:P,keys:G}=(0,lt.D)(A);if(0===P.length)return(0,Pe.D)([],N);const le=new oe.y(function st(A,N,j=We.y){return P=>{tn(N,()=>{const{length:G}=A,le=new Array(G);let Ee=G,Xe=G;for(let nn=0;nn<G;nn++)tn(N,()=>{const Ft=(0,Pe.D)(A[nn],N);let Wn=!1;Ft.subscribe((0,bt.x)(P,gr=>{le[nn]=gr,Wn||(Wn=!0,Xe--),Xe||P.next(j(le.slice()))},()=>{--Ee||P.complete()}))},P)},P)}}(P,N,G?Ee=>(0,Ze.n)(G,Ee):We.y));return j?le.pipe((0,_e.Z)(j)):le}function tn(A,N,j){A?(0,Be.f)(j,A,N):N()}var Lt=W(6973),On=W(5211),vn=W(4829);function He(A){return new oe.y(N=>{(0,vn.Xf)(A()).subscribe(N)})}var Tt=W(8407);function ot(A,N){const j=(0,fe.m)(A)?A:()=>A,P=G=>G.error(j());return new oe.y(N?G=>N.schedule(P,0,G):P)}var at=W(6232),Dt=W(7394),Re=W(9360);function Nt(){return(0,Re.e)((A,N)=>{let j=null;A._refCount++;const P=(0,bt.x)(N,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(j=null);const G=A._connection,le=j;j=null,G&&(!le||G===le)&&G.unsubscribe(),N.unsubscribe()});A.subscribe(P),P.closed||(j=A.connect())})}class Jt extends oe.y{constructor(N,j){super(),this.source=N,this.subjectFactory=j,this._subject=null,this._refCount=0,this._connection=null,(0,Re.A)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new Dt.w0;const j=this.getSubject();N.add(this.source.subscribe((0,bt.x)(j,void 0,()=>{this._teardown(),j.complete()},P=>{this._teardown(),j.error(P)},()=>this._teardown()))),N.closed&&(this._connection=null,N=Dt.w0.EMPTY)}return N}refCount(){return Nt()(this)}}var Mn=W(8645),Bn=W(6814),mn=W(7398),zn=W(4664),Jn=W(8180),dr=W(7921),ar=W(2181),Je=W(1631),dt=W(1374);function tt(A,N){return(0,fe.m)(N)?(0,Je.z)(A,N,1):(0,Je.z)(A,1)}var $e=W(9397);function ft(A){return(0,Re.e)((N,j)=>{let le,P=null,G=!1;P=N.subscribe((0,bt.x)(j,void 0,void 0,Ee=>{le=(0,vn.Xf)(A(Ee,ft(A)(N))),P?(P.unsubscribe(),P=null,le.subscribe(j)):G=!0})),G&&(P.unsubscribe(),P=null,le.subscribe(j))})}var Ut=W(3572);function Hn(A){return A<=0?()=>at.E:(0,Re.e)((N,j)=>{let P=[];N.subscribe((0,bt.x)(j,G=>{P.push(G),A<P.length&&P.shift()},()=>{for(const G of P)j.next(G);j.complete()},void 0,()=>{P=null}))})}var Fn=W(3026),An=W(975);function fr(A){return(0,Re.e)((N,j)=>{try{N.subscribe(j)}finally{j.add(A)}})}var zr=W(9773),wn=W(7537),qe=W(6593);const ke="primary",mt=Symbol("RouteTitle");class Rt{constructor(N){this.params=N||{}}has(N){return Object.prototype.hasOwnProperty.call(this.params,N)}get(N){if(this.has(N)){const j=this.params[N];return Array.isArray(j)?j[0]:j}return null}getAll(N){if(this.has(N)){const j=this.params[N];return Array.isArray(j)?j:[j]}return[]}get keys(){return Object.keys(this.params)}}function wt(A){return new Rt(A)}function Ht(A,N,j){const P=j.path.split("/");if(P.length>A.length||"full"===j.pathMatch&&(N.hasChildren()||P.length<A.length))return null;const G={};for(let le=0;le<P.length;le++){const Ee=P[le],Xe=A[le];if(Ee.startsWith(":"))G[Ee.substring(1)]=Xe;else if(Ee!==Xe.path)return null}return{consumed:A.slice(0,P.length),posParams:G}}function ln(A,N){const j=A?Object.keys(A):void 0,P=N?Object.keys(N):void 0;if(!j||!P||j.length!=P.length)return!1;let G;for(let le=0;le<j.length;le++)if(G=j[le],!Wt(A[G],N[G]))return!1;return!0}function Wt(A,N){if(Array.isArray(A)&&Array.isArray(N)){if(A.length!==N.length)return!1;const j=[...A].sort(),P=[...N].sort();return j.every((G,le)=>P[le]===G)}return A===N}function rn(A){return A.length>0?A[A.length-1]:null}function kn(A){return function we(A){return!!A&&(A instanceof oe.y||(0,fe.m)(A.lift)&&(0,fe.m)(A.subscribe))}(A)?A:(0,d.QGY)(A)?(0,Pe.D)(Promise.resolve(A)):(0,Ve.of)(A)}const nr={exact:function Vr(A,N,j){if(!ui(A.segments,N.segments)||!ur(A.segments,N.segments,j)||A.numberOfChildren!==N.numberOfChildren)return!1;for(const P in N.children)if(!A.children[P]||!Vr(A.children[P],N.children[P],j))return!1;return!0},subset:Tr},Lr={exact:function cr(A,N){return ln(A,N)},subset:function Cr(A,N){return Object.keys(N).length<=Object.keys(A).length&&Object.keys(N).every(j=>Wt(A[j],N[j]))},ignored:()=>!0};function qr(A,N,j){return nr[j.paths](A.root,N.root,j.matrixParams)&&Lr[j.queryParams](A.queryParams,N.queryParams)&&!("exact"===j.fragment&&A.fragment!==N.fragment)}function Tr(A,N,j){return Vi(A,N,N.segments,j)}function Vi(A,N,j,P){if(A.segments.length>j.length){const G=A.segments.slice(0,j.length);return!(!ui(G,j)||N.hasChildren()||!ur(G,j,P))}if(A.segments.length===j.length){if(!ui(A.segments,j)||!ur(A.segments,j,P))return!1;for(const G in N.children)if(!A.children[G]||!Tr(A.children[G],N.children[G],P))return!1;return!0}{const G=j.slice(0,A.segments.length),le=j.slice(A.segments.length);return!!(ui(A.segments,G)&&ur(A.segments,G,P)&&A.children[ke])&&Vi(A.children[ke],N,le,P)}}function ur(A,N,j){return N.every((P,G)=>Lr[j](A[G].parameters,P.parameters))}class Wr{constructor(N=new xr([],{}),j={},P=null){this.root=N,this.queryParams=j,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap}toString(){return ht.serialize(this)}}class xr{constructor(N,j){this.segments=N,this.children=j,this.parent=null,Object.values(j).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return an(this)}}class Ai{constructor(N,j){this.path=N,this.parameters=j}get parameterMap(){return this._parameterMap||(this._parameterMap=wt(this.parameters)),this._parameterMap}toString(){return Le(this)}}function ui(A,N){return A.length===N.length&&A.every((j,P)=>j.path===N[P].path)}let Fe=(()=>{var A;class N{}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275prov=d.Yz7({token:A,factory:function(){return new St},providedIn:"root"}),N})();class St{parse(N){const j=new Xi(N);return new Wr(j.parseRootSegment(),j.parseQueryParams(),j.parseFragment())}serialize(N){const j=`/${Yt(N.root,!0)}`,P=function qt(A){const N=Object.keys(A).map(j=>{const P=A[j];return Array.isArray(P)?P.map(G=>`${Me(j)}=${Me(G)}`).join("&"):`${Me(j)}=${Me(P)}`}).filter(j=>!!j);return N.length?`?${N.join("&")}`:""}(N.queryParams);return`${j}${P}${"string"==typeof N.fragment?`#${function ue(A){return encodeURI(A)}(N.fragment)}`:""}`}}const ht=new St;function an(A){return A.segments.map(N=>Le(N)).join("/")}function Yt(A,N){if(!A.hasChildren())return an(A);if(N){const j=A.children[ke]?Yt(A.children[ke],!1):"",P=[];return Object.entries(A.children).forEach(([G,le])=>{G!==ke&&P.push(`${G}:${Yt(le,!1)}`)}),P.length>0?`${j}(${P.join("//")})`:j}{const j=function yt(A,N){let j=[];return Object.entries(A.children).forEach(([P,G])=>{P===ke&&(j=j.concat(N(G,P)))}),Object.entries(A.children).forEach(([P,G])=>{P!==ke&&(j=j.concat(N(G,P)))}),j}(A,(P,G)=>G===ke?[Yt(A.children[ke],!1)]:[`${G}:${Yt(P,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[ke]?`${an(A)}/${j[0]}`:`${an(A)}/(${j.join("//")})`}}function er(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Me(A){return er(A).replace(/%3B/gi,";")}function se(A){return er(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ce(A){return decodeURIComponent(A)}function de(A){return Ce(A.replace(/\+/g,"%20"))}function Le(A){return`${se(A.path)}${function Ot(A){return Object.keys(A).map(N=>`;${se(N)}=${se(A[N])}`).join("")}(A.parameters)}`}const xn=/^[^\/()?;#]+/;function hn(A){const N=A.match(xn);return N?N[0]:""}const kr=/^[^\/()?;=#]+/,Br=/^[^=?&#]+/,Ci=/^[^&#]+/;class Xi{constructor(N){this.url=N,this.remaining=N}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xr([],{}):new xr([],this.parseChildren())}parseQueryParams(){const N={};if(this.consumeOptional("?"))do{this.parseQueryParam(N)}while(this.consumeOptional("&"));return N}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const N=[];for(this.peekStartsWith("(")||N.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),N.push(this.parseSegment());let j={};this.peekStartsWith("/(")&&(this.capture("/"),j=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(N.length>0||Object.keys(j).length>0)&&(P[ke]=new xr(N,j)),P}parseSegment(){const N=hn(this.remaining);if(""===N&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(N),new Ai(Ce(N),this.parseMatrixParams())}parseMatrixParams(){const N={};for(;this.consumeOptional(";");)this.parseParam(N);return N}parseParam(N){const j=function mr(A){const N=A.match(kr);return N?N[0]:""}(this.remaining);if(!j)return;this.capture(j);let P="";if(this.consumeOptional("=")){const G=hn(this.remaining);G&&(P=G,this.capture(P))}N[Ce(j)]=Ce(P)}parseQueryParam(N){const j=function Ei(A){const N=A.match(Br);return N?N[0]:""}(this.remaining);if(!j)return;this.capture(j);let P="";if(this.consumeOptional("=")){const Ee=function Ji(A){const N=A.match(Ci);return N?N[0]:""}(this.remaining);Ee&&(P=Ee,this.capture(P))}const G=de(j),le=de(P);if(N.hasOwnProperty(G)){let Ee=N[G];Array.isArray(Ee)||(Ee=[Ee],N[G]=Ee),Ee.push(le)}else N[G]=le}parseParens(N){const j={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=hn(this.remaining),G=this.remaining[P.length];if("/"!==G&&")"!==G&&";"!==G)throw new d.vHH(4010,!1);let le;P.indexOf(":")>-1?(le=P.slice(0,P.indexOf(":")),this.capture(le),this.capture(":")):N&&(le=ke);const Ee=this.parseChildren();j[le]=1===Object.keys(Ee).length?Ee[ke]:new xr([],Ee),this.consumeOptional("//")}return j}peekStartsWith(N){return this.remaining.startsWith(N)}consumeOptional(N){return!!this.peekStartsWith(N)&&(this.remaining=this.remaining.substring(N.length),!0)}capture(N){if(!this.consumeOptional(N))throw new d.vHH(4011,!1)}}function Jr(A){return A.segments.length>0?new xr([],{[ke]:A}):A}function Kr(A){const N={};for(const P of Object.keys(A.children)){const le=Kr(A.children[P]);if(P===ke&&0===le.segments.length&&le.hasChildren())for(const[Ee,Xe]of Object.entries(le.children))N[Ee]=Xe;else(le.segments.length>0||le.hasChildren())&&(N[P]=le)}return function Hi(A){if(1===A.numberOfChildren&&A.children[ke]){const N=A.children[ke];return new xr(A.segments.concat(N.segments),N.children)}return A}(new xr(A.segments,N))}function _r(A){return A instanceof Wr}function es(A){let N;const G=Jr(function j(le){const Ee={};for(const nn of le.children){const Ft=j(nn);Ee[nn.outlet]=Ft}const Xe=new xr(le.url,Ee);return le===A&&(N=Xe),Xe}(A.root));return N??G}function Zs(A,N,j,P){let G=A;for(;G.parent;)G=G.parent;if(0===N.length)return Gi(G,G,G,j,P);const le=function js(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Ds(!0,0,A);let N=0,j=!1;const P=A.reduce((G,le,Ee)=>{if("object"==typeof le&&null!=le){if(le.outlets){const Xe={};return Object.entries(le.outlets).forEach(([nn,Ft])=>{Xe[nn]="string"==typeof Ft?Ft.split("/"):Ft}),[...G,{outlets:Xe}]}if(le.segmentPath)return[...G,le.segmentPath]}return"string"!=typeof le?[...G,le]:0===Ee?(le.split("/").forEach((Xe,nn)=>{0==nn&&"."===Xe||(0==nn&&""===Xe?j=!0:".."===Xe?N++:""!=Xe&&G.push(Xe))}),G):[...G,le]},[]);return new Ds(j,N,P)}(N);if(le.toRoot())return Gi(G,G,new xr([],{}),j,P);const Ee=function lo(A,N,j){if(A.isAbsolute)return new xi(N,!0,0);if(!j)return new xi(N,!1,NaN);if(null===j.parent)return new xi(j,!0,0);const P=Js(A.commands[0])?0:1;return function Xs(A,N,j){let P=A,G=N,le=j;for(;le>G;){if(le-=G,P=P.parent,!P)throw new d.vHH(4005,!1);G=P.segments.length}return new xi(P,!1,G-le)}(j,j.segments.length-1+P,A.numberOfDoubleDots)}(le,G,A),Xe=Ee.processChildren?$s(Ee.segmentGroup,Ee.index,le.commands):Rr(Ee.segmentGroup,Ee.index,le.commands);return Gi(G,Ee.segmentGroup,Xe,j,P)}function Js(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function oi(A){return"object"==typeof A&&null!=A&&A.outlets}function Gi(A,N,j,P,G){let Ee,le={};P&&Object.entries(P).forEach(([nn,Ft])=>{le[nn]=Array.isArray(Ft)?Ft.map(Wn=>`${Wn}`):`${Ft}`}),Ee=A===N?j:ks(A,N,j);const Xe=Jr(Kr(Ee));return new Wr(Xe,le,G)}function ks(A,N,j){const P={};return Object.entries(A.children).forEach(([G,le])=>{P[G]=le===N?j:ks(le,N,j)}),new xr(A.segments,P)}class Ds{constructor(N,j,P){if(this.isAbsolute=N,this.numberOfDoubleDots=j,this.commands=P,N&&P.length>0&&Js(P[0]))throw new d.vHH(4003,!1);const G=P.find(oi);if(G&&G!==rn(P))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xi{constructor(N,j,P){this.segmentGroup=N,this.processChildren=j,this.index=P}}function Rr(A,N,j){if(A||(A=new xr([],{})),0===A.segments.length&&A.hasChildren())return $s(A,N,j);const P=function Ss(A,N,j){let P=0,G=N;const le={match:!1,pathIndex:0,commandIndex:0};for(;G<A.segments.length;){if(P>=j.length)return le;const Ee=A.segments[G],Xe=j[P];if(oi(Xe))break;const nn=`${Xe}`,Ft=P<j.length-1?j[P+1]:null;if(G>0&&void 0===nn)break;if(nn&&Ft&&"object"==typeof Ft&&void 0===Ft.outlets){if(!ze(nn,Ft,Ee))return le;P+=2}else{if(!ze(nn,{},Ee))return le;P++}G++}return{match:!0,pathIndex:G,commandIndex:P}}(A,N,j),G=j.slice(P.commandIndex);if(P.match&&P.pathIndex<A.segments.length){const le=new xr(A.segments.slice(0,P.pathIndex),{});return le.children[ke]=new xr(A.segments.slice(P.pathIndex),A.children),$s(le,0,G)}return P.match&&0===G.length?new xr(A.segments,{}):P.match&&!A.hasChildren()?_a(A,N,j):P.match?$s(A,0,G):_a(A,N,j)}function $s(A,N,j){if(0===j.length)return new xr(A.segments,{});{const P=function gs(A){return oi(A[0])?A[0].outlets:{[ke]:A}}(j),G={};if(Object.keys(P).some(le=>le!==ke)&&A.children[ke]&&1===A.numberOfChildren&&0===A.children[ke].segments.length){const le=$s(A.children[ke],N,j);return new xr(A.segments,le.children)}return Object.entries(P).forEach(([le,Ee])=>{"string"==typeof Ee&&(Ee=[Ee]),null!==Ee&&(G[le]=Rr(A.children[le],N,Ee))}),Object.entries(A.children).forEach(([le,Ee])=>{void 0===P[le]&&(G[le]=Ee)}),new xr(A.segments,G)}}function _a(A,N,j){const P=A.segments.slice(0,N);let G=0;for(;G<j.length;){const le=j[G];if(oi(le)){const nn=Qa(le.outlets);return new xr(P,nn)}if(0===G&&Js(j[0])){P.push(new Ai(A.segments[N].path,Ge(j[0]))),G++;continue}const Ee=oi(le)?le.outlets[ke]:`${le}`,Xe=G<j.length-1?j[G+1]:null;Ee&&Xe&&Js(Xe)?(P.push(new Ai(Ee,Ge(Xe))),G+=2):(P.push(new Ai(Ee,{})),G++)}return new xr(P,{})}function Qa(A){const N={};return Object.entries(A).forEach(([j,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(N[j]=_a(new xr([],{}),0,P))}),N}function Ge(A){const N={};return Object.entries(A).forEach(([j,P])=>N[j]=`${P}`),N}function ze(A,N,j){return A==j.path&&ln(N,j.parameters)}const ut="imperative";class Vt{constructor(N,j){this.id=N,this.url=j}}class Xt extends Vt{constructor(N,j,P="imperative",G=null){super(N,j),this.type=0,this.navigationTrigger=P,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qn extends Vt{constructor(N,j,P){super(N,j),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ur extends Vt{constructor(N,j,P,G){super(N,j),this.reason=P,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Or extends Vt{constructor(N,j,P,G){super(N,j),this.reason=P,this.code=G,this.type=16}}class Dr extends Vt{constructor(N,j,P,G){super(N,j),this.error=P,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class na extends Vt{constructor(N,j,P,G){super(N,j),this.urlAfterRedirects=P,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class us extends Vt{constructor(N,j,P,G){super(N,j),this.urlAfterRedirects=P,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class As extends Vt{constructor(N,j,P,G,le){super(N,j),this.urlAfterRedirects=P,this.state=G,this.shouldActivate=le,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pi extends Vt{constructor(N,j,P,G){super(N,j),this.urlAfterRedirects=P,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Po extends Vt{constructor(N,j,P,G){super(N,j),this.urlAfterRedirects=P,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ya{constructor(N){this.route=N,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class co{constructor(N){this.route=N,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ra{constructor(N){this.snapshot=N,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(N){this.snapshot=N,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eo{constructor(N){this.snapshot=N,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ia{constructor(N){this.snapshot=N,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(N,j,P){this.routerEvent=N,this.position=j,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wi{}class di{constructor(N){this.url=N}}class ms{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uo,this.attachRef=null}}let uo=(()=>{var A;class N{constructor(){this.contexts=new Map}onChildOutletCreated(P,G){const le=this.getOrCreateContext(P);le.outlet=G,this.contexts.set(P,le)}onChildOutletDestroyed(P){const G=this.getContext(P);G&&(G.outlet=null,G.attachRef=null)}onOutletDeactivated(){const P=this.contexts;return this.contexts=new Map,P}onOutletReAttached(P){this.contexts=P}getOrCreateContext(P){let G=this.getContext(P);return G||(G=new ms,this.contexts.set(P,G)),G}getContext(P){return this.contexts.get(P)||null}}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();class Ho{constructor(N){this._root=N}get root(){return this._root.value}parent(N){const j=this.pathFromRoot(N);return j.length>1?j[j.length-2]:null}children(N){const j=ts(N,this._root);return j?j.children.map(P=>P.value):[]}firstChild(N){const j=ts(N,this._root);return j&&j.children.length>0?j.children[0].value:null}siblings(N){const j=ki(N,this._root);return j.length<2?[]:j[j.length-2].children.map(G=>G.value).filter(G=>G!==N)}pathFromRoot(N){return ki(N,this._root).map(j=>j.value)}}function ts(A,N){if(A===N.value)return N;for(const j of N.children){const P=ts(A,j);if(P)return P}return null}function ki(A,N){if(A===N.value)return[N];for(const j of N.children){const P=ki(A,j);if(P.length)return P.unshift(N),P}return[]}class Ui{constructor(N,j){this.value=N,this.children=j}toString(){return`TreeNode(${this.value})`}}function jr(A){const N={};return A&&A.children.forEach(j=>N[j.value.outlet]=j),N}class _n extends Ho{constructor(N,j){super(N),this.snapshot=j,xs(this,N)}toString(){return this.snapshot.toString()}}function pr(A,N){const j=function gi(A,N){const Ee=new _s([],{},{},"",{},ke,N,null,{});return new Ii("",new Ui(Ee,[]))}(0,N),P=new be.X([new Ai("",{})]),G=new be.X({}),le=new be.X({}),Ee=new be.X({}),Xe=new be.X(""),nn=new rr(P,G,Ee,Xe,le,ke,N,j.root);return nn.snapshot=j.root,new _n(new Ui(nn,[]),j)}class rr{constructor(N,j,P,G,le,Ee,Xe,nn){this.urlSubject=N,this.paramsSubject=j,this.queryParamsSubject=P,this.fragmentSubject=G,this.dataSubject=le,this.outlet=Ee,this.component=Xe,this._futureSnapshot=nn,this.title=this.dataSubject?.pipe((0,mn.U)(Ft=>Ft[mt]))??(0,Ve.of)(void 0),this.url=N,this.params=j,this.queryParams=P,this.fragment=G,this.data=le}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mn.U)(N=>wt(N)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mn.U)(N=>wt(N)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ho(A,N="emptyOnly"){const j=A.pathFromRoot;let P=0;if("always"!==N)for(P=j.length-1;P>=1;){const G=j[P],le=j[P-1];if(G.routeConfig&&""===G.routeConfig.path)P--;else{if(le.component)break;P--}}return function mi(A){return A.reduce((N,j)=>({params:{...N.params,...j.params},data:{...N.data,...j.data},resolve:{...j.data,...N.resolve,...j.routeConfig?.data,...j._resolvedData}}),{params:{},data:{},resolve:{}})}(j.slice(P))}class _s{get title(){return this.data?.[mt]}constructor(N,j,P,G,le,Ee,Xe,nn,Ft){this.url=N,this.params=j,this.queryParams=P,this.fragment=G,this.data=le,this.outlet=Ee,this.component=Xe,this.routeConfig=nn,this._resolve=Ft}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ii extends Ho{constructor(N,j){super(j),this.url=N,xs(this,j)}toString(){return To(this._root)}}function xs(A,N){N.value._routerState=A,N.children.forEach(j=>xs(A,j))}function To(A){const N=A.children.length>0?` { ${A.children.map(To).join(", ")} } `:"";return`${A.value}${N}`}function sr(A){if(A.snapshot){const N=A.snapshot,j=A._futureSnapshot;A.snapshot=j,ln(N.queryParams,j.queryParams)||A.queryParamsSubject.next(j.queryParams),N.fragment!==j.fragment&&A.fragmentSubject.next(j.fragment),ln(N.params,j.params)||A.paramsSubject.next(j.params),function or(A,N){if(A.length!==N.length)return!1;for(let j=0;j<A.length;++j)if(!ln(A[j],N[j]))return!1;return!0}(N.url,j.url)||A.urlSubject.next(j.url),ln(N.data,j.data)||A.dataSubject.next(j.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function Gs(A,N){const j=ln(A.params,N.params)&&function fi(A,N){return ui(A,N)&&A.every((j,P)=>ln(j.parameters,N[P].parameters))}(A.url,N.url);return j&&!(!A.parent!=!N.parent)&&(!A.parent||Gs(A.parent,N.parent))}let zo=(()=>{var A;class N{constructor(){this.activated=null,this._activatedRoute=null,this.name=ke,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(uo),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(ai,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(P){if(P.name){const{firstChange:G,previousValue:le}=P.name;if(G)return;this.isTrackedInParentContexts(le)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(le)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(P){return this.parentContexts.getContext(P)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const P=this.parentContexts.getContext(this.name);P?.route&&(P.attachRef?this.attach(P.attachRef,P.route):this.activateWith(P.route,P.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const P=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(P.instance),P}attach(P,G){this.activated=P,this._activatedRoute=G,this.location.insert(P.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(P.instance)}deactivate(){if(this.activated){const P=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(P)}}activateWith(P,G){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=P;const le=this.location,Xe=P.snapshot.component,nn=this.parentContexts.getOrCreateContext(this.name).children,Ft=new to(P,nn,le.injector);this.activated=le.createComponent(Xe,{index:le.length,injector:Ft,environmentInjector:G??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275dir=d.lG2({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),N})();class to{constructor(N,j,P){this.route=N,this.childContexts=j,this.parent=P}get(N,j){return N===rr?this.route:N===uo?this.childContexts:this.parent.get(N,j)}}const ai=new d.OlP("");let Do=(()=>{var A;class N{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(P){this.unsubscribeFromRouteData(P),this.subscribeToRouteData(P)}unsubscribeFromRouteData(P){this.outletDataSubscriptions.get(P)?.unsubscribe(),this.outletDataSubscriptions.delete(P)}subscribeToRouteData(P){const{activatedRoute:G}=P,le=jt([G.queryParams,G.params,G.data]).pipe((0,zn.w)(([Ee,Xe,nn],Ft)=>(nn={...Ee,...Xe,...nn},0===Ft?(0,Ve.of)(nn):Promise.resolve(nn)))).subscribe(Ee=>{if(!P.isActivated||!P.activatedComponentRef||P.activatedRoute!==G||null===G.component)return void this.unsubscribeFromRouteData(P);const Xe=(0,d.qFp)(G.component);if(Xe)for(const{templateName:nn}of Xe.inputs)P.activatedComponentRef.setInput(nn,Ee[nn]);else this.unsubscribeFromRouteData(P)});this.outletDataSubscriptions.set(P,le)}}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac}),N})();function ji(A,N,j){if(j&&A.shouldReuseRoute(N.value,j.value.snapshot)){const P=j.value;P._futureSnapshot=N.value;const G=function zi(A,N,j){return N.children.map(P=>{for(const G of j.children)if(A.shouldReuseRoute(P.value,G.value.snapshot))return ji(A,P,G);return ji(A,P)})}(A,N,j);return new Ui(P,G)}{if(A.shouldAttach(N.value)){const le=A.retrieve(N.value);if(null!==le){const Ee=le.route;return Ee.value._futureSnapshot=N.value,Ee.children=N.children.map(Xe=>ji(A,Xe)),Ee}}const P=function cl(A){return new rr(new be.X(A.url),new be.X(A.params),new be.X(A.queryParams),new be.X(A.fragment),new be.X(A.data),A.outlet,A.component,A)}(N.value),G=N.children.map(le=>ji(A,le));return new Ui(P,G)}}const So="ngNavigationCancelingError";function Fs(A,N){const{redirectTo:j,navigationBehaviorOptions:P}=_r(N)?{redirectTo:N,navigationBehaviorOptions:void 0}:N,G=no(!1,0,N);return G.url=j,G.navigationBehaviorOptions=P,G}function no(A,N,j){const P=new Error("NavigationCancelingError: "+(A||""));return P[So]=!0,P.cancellationCode=N,j&&(P.url=j),P}function Fr(A){return A&&A[So]}let va=(()=>{var A;class N{}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275cmp=d.Xpm({type:A,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(P,G){1&P&&d._UZ(0,"router-outlet")},dependencies:[zo],encapsulation:2}),N})();function $i(A){const N=A.children&&A.children.map($i),j=N?{...A,children:N}:{...A};return!j.component&&!j.loadComponent&&(N||j.loadChildren)&&j.outlet&&j.outlet!==ke&&(j.component=va),j}function rs(A){return A.outlet||ke}function Qr(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let N=A.parent;N;N=N.parent){const j=N.routeConfig;if(j?._loadedInjector)return j._loadedInjector;if(j?._injector)return j._injector}return null}class _i{constructor(N,j,P,G,le){this.routeReuseStrategy=N,this.futureState=j,this.currState=P,this.forwardEvent=G,this.inputBindingEnabled=le}activate(N){const j=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(j,P,N),sr(this.futureState.root),this.activateChildRoutes(j,P,N)}deactivateChildRoutes(N,j,P){const G=jr(j);N.children.forEach(le=>{const Ee=le.value.outlet;this.deactivateRoutes(le,G[Ee],P),delete G[Ee]}),Object.values(G).forEach(le=>{this.deactivateRouteAndItsChildren(le,P)})}deactivateRoutes(N,j,P){const G=N.value,le=j?j.value:null;if(G===le)if(G.component){const Ee=P.getContext(G.outlet);Ee&&this.deactivateChildRoutes(N,j,Ee.children)}else this.deactivateChildRoutes(N,j,P);else le&&this.deactivateRouteAndItsChildren(j,P)}deactivateRouteAndItsChildren(N,j){N.value.component&&this.routeReuseStrategy.shouldDetach(N.value.snapshot)?this.detachAndStoreRouteSubtree(N,j):this.deactivateRouteAndOutlet(N,j)}detachAndStoreRouteSubtree(N,j){const P=j.getContext(N.value.outlet),G=P&&N.value.component?P.children:j,le=jr(N);for(const Ee of Object.keys(le))this.deactivateRouteAndItsChildren(le[Ee],G);if(P&&P.outlet){const Ee=P.outlet.detach(),Xe=P.children.onOutletDeactivated();this.routeReuseStrategy.store(N.value.snapshot,{componentRef:Ee,route:N,contexts:Xe})}}deactivateRouteAndOutlet(N,j){const P=j.getContext(N.value.outlet),G=P&&N.value.component?P.children:j,le=jr(N);for(const Ee of Object.keys(le))this.deactivateRouteAndItsChildren(le[Ee],G);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(N,j,P){const G=jr(j);N.children.forEach(le=>{this.activateRoutes(le,G[le.value.outlet],P),this.forwardEvent(new ia(le.value.snapshot))}),N.children.length&&this.forwardEvent(new No(N.value.snapshot))}activateRoutes(N,j,P){const G=N.value,le=j?j.value:null;if(sr(G),G===le)if(G.component){const Ee=P.getOrCreateContext(G.outlet);this.activateChildRoutes(N,j,Ee.children)}else this.activateChildRoutes(N,j,P);else if(G.component){const Ee=P.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Xe=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),Ee.children.onOutletReAttached(Xe.contexts),Ee.attachRef=Xe.componentRef,Ee.route=Xe.route.value,Ee.outlet&&Ee.outlet.attach(Xe.componentRef,Xe.route.value),sr(Xe.route.value),this.activateChildRoutes(N,null,Ee.children)}else{const Xe=Qr(G.snapshot);Ee.attachRef=null,Ee.route=G,Ee.injector=Xe,Ee.outlet&&Ee.outlet.activateWith(G,Ee.injector),this.activateChildRoutes(N,null,Ee.children)}}else this.activateChildRoutes(N,null,P)}}class ja{constructor(N){this.path=N,this.route=this.path[this.path.length-1]}}class $a{constructor(N,j){this.component=N,this.route=j}}function Ca(A,N,j){const P=A._root;return Os(P,N?N._root:null,j,[P.value])}function Wo(A,N){const j=Symbol(),P=N.get(A,j);return P===j?"function"!=typeof A||(0,d.Z0I)(A)?N.get(A):A:P}function Os(A,N,j,P,G={canDeactivateChecks:[],canActivateChecks:[]}){const le=jr(N);return A.children.forEach(Ee=>{(function ul(A,N,j,P,G={canDeactivateChecks:[],canActivateChecks:[]}){const le=A.value,Ee=N?N.value:null,Xe=j?j.getContext(A.value.outlet):null;if(Ee&&le.routeConfig===Ee.routeConfig){const nn=function Ga(A,N,j){if("function"==typeof j)return j(A,N);switch(j){case"pathParamsChange":return!ui(A.url,N.url);case"pathParamsOrQueryParamsChange":return!ui(A.url,N.url)||!ln(A.queryParams,N.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gs(A,N)||!ln(A.queryParams,N.queryParams);default:return!Gs(A,N)}}(Ee,le,le.routeConfig.runGuardsAndResolvers);nn?G.canActivateChecks.push(new ja(P)):(le.data=Ee.data,le._resolvedData=Ee._resolvedData),Os(A,N,le.component?Xe?Xe.children:null:j,P,G),nn&&Xe&&Xe.outlet&&Xe.outlet.isActivated&&G.canDeactivateChecks.push(new $a(Xe.outlet.component,Ee))}else Ee&&hi(N,Xe,G),G.canActivateChecks.push(new ja(P)),Os(A,null,le.component?Xe?Xe.children:null:j,P,G)})(Ee,le[Ee.value.outlet],j,P.concat([Ee.value]),G),delete le[Ee.value.outlet]}),Object.entries(le).forEach(([Ee,Xe])=>hi(Xe,j.getContext(Ee),G)),G}function hi(A,N,j){const P=jr(A),G=A.value;Object.entries(P).forEach(([le,Ee])=>{hi(Ee,G.component?N?N.children.getContext(le):null:N,j)}),j.canDeactivateChecks.push(new $a(G.component&&N&&N.outlet&&N.outlet.isActivated?N.outlet.component:null,G))}function zs(A){return"function"==typeof A}function is(A){return A instanceof Lt.K||"EmptyError"===A?.name}const hs=Symbol("INITIAL_VALUE");function vs(){return(0,zn.w)(A=>jt(A.map(N=>N.pipe((0,Jn.q)(1),(0,dr.O)(hs)))).pipe((0,mn.U)(N=>{for(const j of N)if(!0!==j){if(j===hs)return hs;if(!1===j||j instanceof Wr)return j}return!0}),(0,ar.h)(N=>N!==hs),(0,Jn.q)(1)))}function Ja(A){return(0,Tt.z)((0,$e.b)(N=>{if(_r(N))throw Fs(0,N)}),(0,mn.U)(N=>!0===N))}class Fo{constructor(N){this.segmentGroup=N||null}}class dl{constructor(N){this.urlTree=N}}function ba(A){return ot(new Fo(A))}function Ki(A){return ot(new dl(A))}class ql{constructor(N,j){this.urlSerializer=N,this.urlTree=j}noMatchError(N){return new d.vHH(4002,!1)}lineralizeSegments(N,j){let P=[],G=j.root;for(;;){if(P=P.concat(G.segments),0===G.numberOfChildren)return(0,Ve.of)(P);if(G.numberOfChildren>1||!G.children[ke])return ot(new d.vHH(4e3,!1));G=G.children[ke]}}applyRedirectCommands(N,j,P){return this.applyRedirectCreateUrlTree(j,this.urlSerializer.parse(j),N,P)}applyRedirectCreateUrlTree(N,j,P,G){const le=this.createSegmentGroup(N,j.root,P,G);return new Wr(le,this.createQueryParams(j.queryParams,this.urlTree.queryParams),j.fragment)}createQueryParams(N,j){const P={};return Object.entries(N).forEach(([G,le])=>{if("string"==typeof le&&le.startsWith(":")){const Xe=le.substring(1);P[G]=j[Xe]}else P[G]=le}),P}createSegmentGroup(N,j,P,G){const le=this.createSegments(N,j.segments,P,G);let Ee={};return Object.entries(j.children).forEach(([Xe,nn])=>{Ee[Xe]=this.createSegmentGroup(N,nn,P,G)}),new xr(le,Ee)}createSegments(N,j,P,G){return j.map(le=>le.path.startsWith(":")?this.findPosParam(N,le,G):this.findOrReturn(le,P))}findPosParam(N,j,P){const G=P[j.path.substring(1)];if(!G)throw new d.vHH(4001,!1);return G}findOrReturn(N,j){let P=0;for(const G of j){if(G.path===N.path)return j.splice(P),G;P++}return N}}const Ko={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yo(A,N,j,P,G){const le=Qo(A,N,j);return le.matched?(P=function da(A,N){return A.providers&&!A._injector&&(A._injector=(0,d.MMx)(A.providers,N,`Route: ${A.path}`)),A._injector??N}(N,P),function qo(A,N,j,P){const G=N.canMatch;if(!G||0===G.length)return(0,Ve.of)(!0);const le=G.map(Ee=>{const Xe=Wo(Ee,A);return kn(function De(A){return A&&zs(A.canMatch)}(Xe)?Xe.canMatch(N,j):A.runInContext(()=>Xe(N,j)))});return(0,Ve.of)(le).pipe(vs(),Ja())}(P,N,j).pipe((0,mn.U)(Ee=>!0===Ee?le:{...Ko}))):(0,Ve.of)(le)}function Qo(A,N,j){if(""===N.path)return"full"===N.pathMatch&&(A.hasChildren()||j.length>0)?{...Ko}:{matched:!0,consumedSegments:[],remainingSegments:j,parameters:{},positionalParamSegments:{}};const G=(N.matcher||Ht)(j,A,N);if(!G)return{...Ko};const le={};Object.entries(G.posParams??{}).forEach(([Xe,nn])=>{le[Xe]=nn.path});const Ee=G.consumed.length>0?{...le,...G.consumed[G.consumed.length-1].parameters}:le;return{matched:!0,consumedSegments:G.consumed,remainingSegments:j.slice(G.consumed.length),parameters:Ee,positionalParamSegments:G.posParams??{}}}function Lo(A,N,j,P){return j.length>0&&function Ia(A,N,j){return j.some(P=>go(A,N,P)&&rs(P)!==ke)}(A,j,P)?{segmentGroup:new xr(N,li(P,new xr(j,A.children))),slicedSegments:[]}:0===j.length&&function fl(A,N,j){return j.some(P=>go(A,N,P))}(A,j,P)?{segmentGroup:new xr(A.segments,hl(A,0,j,P,A.children)),slicedSegments:j}:{segmentGroup:new xr(A.segments,A.children),slicedSegments:j}}function hl(A,N,j,P,G){const le={};for(const Ee of P)if(go(A,j,Ee)&&!G[rs(Ee)]){const Xe=new xr([],{});le[rs(Ee)]=Xe}return{...G,...le}}function li(A,N){const j={};j[ke]=N;for(const P of A)if(""===P.path&&rs(P)!==ke){const G=new xr([],{});j[rs(P)]=G}return j}function go(A,N,j){return(!(A.hasChildren()||N.length>0)||"full"!==j.pathMatch)&&""===j.path}class pl{constructor(N,j,P,G,le,Ee,Xe){this.injector=N,this.configLoader=j,this.rootComponentType=P,this.config=G,this.urlTree=le,this.paramsInheritanceStrategy=Ee,this.urlSerializer=Xe,this.allowRedirects=!0,this.applyRedirects=new ql(this.urlSerializer,this.urlTree)}noMatchError(N){return new d.vHH(4002,!1)}recognize(){const N=Lo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,N,ke).pipe(ft(j=>{if(j instanceof dl)return this.allowRedirects=!1,this.urlTree=j.urlTree,this.match(j.urlTree);throw j instanceof Fo?this.noMatchError(j):j}),(0,mn.U)(j=>{const P=new _s([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ke,this.rootComponentType,null,{}),G=new Ui(P,j),le=new Ii("",G),Ee=function Bi(A,N,j=null,P=null){return Zs(es(A),N,j,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return Ee.queryParams=this.urlTree.queryParams,le.url=this.urlSerializer.serialize(Ee),this.inheritParamsAndData(le._root),{state:le,tree:Ee}}))}match(N){return this.processSegmentGroup(this.injector,this.config,N.root,ke).pipe(ft(P=>{throw P instanceof Fo?this.noMatchError(P):P}))}inheritParamsAndData(N){const j=N.value,P=ho(j,this.paramsInheritanceStrategy);j.params=Object.freeze(P.params),j.data=Object.freeze(P.data),N.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(N,j,P,G){return 0===P.segments.length&&P.hasChildren()?this.processChildren(N,j,P):this.processSegment(N,j,P,P.segments,G,!0)}processChildren(N,j,P){const G=[];for(const le of Object.keys(P.children))"primary"===le?G.unshift(le):G.push(le);return(0,Pe.D)(G).pipe(tt(le=>{const Ee=P.children[le],Xe=function ro(A,N){const j=A.filter(P=>rs(P)===N);return j.push(...A.filter(P=>rs(P)!==N)),j}(j,le);return this.processSegmentGroup(N,Xe,Ee,le)}),function Gt(A,N){return(0,Re.e)(function xt(A,N,j,P,G){return(le,Ee)=>{let Xe=j,nn=N,Ft=0;le.subscribe((0,bt.x)(Ee,Wn=>{const gr=Ft++;nn=Xe?A(nn,Wn,gr):(Xe=!0,Wn),P&&Ee.next(nn)},G&&(()=>{Xe&&Ee.next(nn),Ee.complete()})))}}(A,N,arguments.length>=2,!0))}((le,Ee)=>(le.push(...Ee),le)),(0,Ut.d)(null),function Un(A,N){const j=arguments.length>=2;return P=>P.pipe(A?(0,ar.h)((G,le)=>A(G,le,P)):We.y,Hn(1),j?(0,Ut.d)(N):(0,Fn.T)(()=>new Lt.K))}(),(0,Je.z)(le=>{if(null===le)return ba(P);const Ee=xo(le);return function Xa(A){A.sort((N,j)=>N.value.outlet===ke?-1:j.value.outlet===ke?1:N.value.outlet.localeCompare(j.value.outlet))}(Ee),(0,Ve.of)(Ee)}))}processSegment(N,j,P,G,le,Ee){return(0,Pe.D)(j).pipe(tt(Xe=>this.processSegmentAgainstRoute(Xe._injector??N,j,Xe,P,G,le,Ee).pipe(ft(nn=>{if(nn instanceof Fo)return(0,Ve.of)(null);throw nn}))),(0,dt.P)(Xe=>!!Xe),ft(Xe=>{if(is(Xe))return function Kl(A,N,j){return 0===N.length&&!A.children[j]}(P,G,le)?(0,Ve.of)([]):ba(P);throw Xe}))}processSegmentAgainstRoute(N,j,P,G,le,Ee,Xe){return function Oa(A,N,j,P){return!!(rs(A)===P||P!==ke&&go(N,j,A))&&("**"===A.path||Qo(N,A,j).matched)}(P,G,le,Ee)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(N,G,P,le,Ee,Xe):Xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(N,G,j,P,le,Ee):ba(G):ba(G)}expandSegmentAgainstRouteUsingRedirect(N,j,P,G,le,Ee){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(N,P,G,Ee):this.expandRegularSegmentAgainstRouteUsingRedirect(N,j,P,G,le,Ee)}expandWildCardWithParamsAgainstRouteUsingRedirect(N,j,P,G){const le=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?Ki(le):this.applyRedirects.lineralizeSegments(P,le).pipe((0,Je.z)(Ee=>{const Xe=new xr(Ee,{});return this.processSegment(N,j,Xe,Ee,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(N,j,P,G,le,Ee){const{matched:Xe,consumedSegments:nn,remainingSegments:Ft,positionalParamSegments:Wn}=Qo(j,G,le);if(!Xe)return ba(j);const gr=this.applyRedirects.applyRedirectCommands(nn,G.redirectTo,Wn);return G.redirectTo.startsWith("/")?Ki(gr):this.applyRedirects.lineralizeSegments(G,gr).pipe((0,Je.z)(Oi=>this.processSegment(N,P,j,Oi.concat(Ft),Ee,!1)))}matchSegmentAgainstRoute(N,j,P,G,le,Ee){let Xe;if("**"===P.path){const nn=G.length>0?rn(G).parameters:{},Ft=new _s(G,nn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gl(P),rs(P),P.component??P._loadedComponent??null,P,O(P));Xe=(0,Ve.of)({snapshot:Ft,consumedSegments:[],remainingSegments:[]}),j.children={}}else Xe=Yo(j,P,G,N).pipe((0,mn.U)(({matched:nn,consumedSegments:Ft,remainingSegments:Wn,parameters:gr})=>nn?{snapshot:new _s(Ft,gr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gl(P),rs(P),P.component??P._loadedComponent??null,P,O(P)),consumedSegments:Ft,remainingSegments:Wn}:null));return Xe.pipe((0,zn.w)(nn=>null===nn?ba(j):this.getChildConfig(N=P._injector??N,P,G).pipe((0,zn.w)(({routes:Ft})=>{const Wn=P._loadedInjector??N,{snapshot:gr,consumedSegments:Oi,remainingSegments:wr}=nn,{segmentGroup:mo,slicedSegments:yl}=Lo(j,Oi,wr,Ft);if(0===yl.length&&mo.hasChildren())return this.processChildren(Wn,Ft,mo).pipe((0,mn.U)(vl=>null===vl?null:[new Ui(gr,vl)]));if(0===Ft.length&&0===yl.length)return(0,Ve.of)([new Ui(gr,[])]);const za=rs(P)===le;return this.processSegment(Wn,Ft,mo,yl,za?ke:le,!0).pipe((0,mn.U)(vl=>[new Ui(gr,vl)]))}))))}getChildConfig(N,j,P){return j.children?(0,Ve.of)({routes:j.children,injector:N}):j.loadChildren?void 0!==j._loadedRoutes?(0,Ve.of)({routes:j._loadedRoutes,injector:j._loadedInjector}):function Ra(A,N,j,P){const G=N.canLoad;if(void 0===G||0===G.length)return(0,Ve.of)(!0);const le=G.map(Ee=>{const Xe=Wo(Ee,A);return kn(function J(A){return A&&zs(A.canLoad)}(Xe)?Xe.canLoad(N,j):A.runInContext(()=>Xe(N,j)))});return(0,Ve.of)(le).pipe(vs(),Ja())}(N,j,P).pipe((0,Je.z)(G=>G?this.configLoader.loadChildren(N,j).pipe((0,$e.b)(le=>{j._loadedRoutes=le.routes,j._loadedInjector=le.injector})):function Ls(A){return ot(no(!1,3))}())):(0,Ve.of)({routes:[],injector:N})}}function Co(A){const N=A.value.routeConfig;return N&&""===N.path}function xo(A){const N=[],j=new Set;for(const P of A){if(!Co(P)){N.push(P);continue}const G=N.find(le=>P.value.routeConfig===le.value.routeConfig);void 0!==G?(G.children.push(...P.children),j.add(G)):N.push(P)}for(const P of j){const G=xo(P.children);N.push(new Ui(P.value,G))}return N.filter(P=>!j.has(P))}function gl(A){return A.data||{}}function O(A){return A.resolve||{}}function re(A){return"string"==typeof A.title||null===A.title}function ce(A){return(0,zn.w)(N=>{const j=A(N);return j?(0,Pe.D)(j).pipe((0,mn.U)(()=>N)):(0,Ve.of)(N)})}const ye=new d.OlP("ROUTES");let U=(()=>{var A;class N{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(P){if(this.componentLoaders.get(P))return this.componentLoaders.get(P);if(P._loadedComponent)return(0,Ve.of)(P._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(P);const G=kn(P.loadComponent()).pipe((0,mn.U)(D),(0,$e.b)(Ee=>{this.onLoadEndListener&&this.onLoadEndListener(P),P._loadedComponent=Ee}),fr(()=>{this.componentLoaders.delete(P)})),le=new Jt(G,()=>new Mn.x).pipe(Nt());return this.componentLoaders.set(P,le),le}loadChildren(P,G){if(this.childrenLoaders.get(G))return this.childrenLoaders.get(G);if(G._loadedRoutes)return(0,Ve.of)({routes:G._loadedRoutes,injector:G._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(G);const Ee=this.loadModuleFactoryOrRoutes(G.loadChildren).pipe((0,mn.U)(nn=>{this.onLoadEndListener&&this.onLoadEndListener(G);let Ft,Wn;return Array.isArray(nn)?Wn=nn:(Ft=nn.create(P).injector,Wn=Ft.get(ye,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:Wn.map($i),injector:Ft}}),fr(()=>{this.childrenLoaders.delete(G)})),Xe=new Jt(Ee,()=>new Mn.x).pipe(Nt());return this.childrenLoaders.set(G,Xe),Xe}loadModuleFactoryOrRoutes(P){return kn(P()).pipe((0,mn.U)(D),(0,Je.z)(G=>G instanceof d.YKP||Array.isArray(G)?(0,Ve.of)(G):(0,Pe.D)(this.compiler.compileModuleAsync(G))))}}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();function D(A){return function y(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let R=(()=>{var A;class N{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mn.x,this.transitionAbortSubject=new Mn.x,this.configLoader=(0,d.f3M)(U),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Fe),this.rootContexts=(0,d.f3M)(uo),this.inputBindingEnabled=null!==(0,d.f3M)(ai,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ve.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=le=>this.events.next(new co(le)),this.configLoader.onLoadStartListener=le=>this.events.next(new ya(le))}complete(){this.transitions?.complete()}handleNavigationRequest(P){const G=++this.navigationId;this.transitions?.next({...this.transitions.value,...P,id:G})}setupNavigations(P,G,le){return this.transitions=new be.X({id:0,currentUrlTree:G,currentRawUrl:G,currentBrowserUrl:G,extractedUrl:P.urlHandlingStrategy.extract(G),urlAfterRedirects:P.urlHandlingStrategy.extract(G),rawUrl:G,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ut,restoredState:null,currentSnapshot:le.snapshot,targetSnapshot:null,currentRouterState:le,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ar.h)(Ee=>0!==Ee.id),(0,mn.U)(Ee=>({...Ee,extractedUrl:P.urlHandlingStrategy.extract(Ee.rawUrl)})),(0,zn.w)(Ee=>{this.currentTransition=Ee;let Xe=!1,nn=!1;return(0,Ve.of)(Ee).pipe((0,$e.b)(Ft=>{this.currentNavigation={id:Ft.id,initialUrl:Ft.rawUrl,extractedUrl:Ft.extractedUrl,trigger:Ft.source,extras:Ft.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,zn.w)(Ft=>{const Wn=Ft.currentBrowserUrl.toString(),gr=!P.navigated||Ft.extractedUrl.toString()!==Wn||Wn!==Ft.currentUrlTree.toString();if(!gr&&"reload"!==(Ft.extras.onSameUrlNavigation??P.onSameUrlNavigation)){const wr="";return this.events.next(new Or(Ft.id,this.urlSerializer.serialize(Ft.rawUrl),wr,0)),Ft.resolve(null),at.E}if(P.urlHandlingStrategy.shouldProcessUrl(Ft.rawUrl))return(0,Ve.of)(Ft).pipe((0,zn.w)(wr=>{const mo=this.transitions?.getValue();return this.events.next(new Xt(wr.id,this.urlSerializer.serialize(wr.extractedUrl),wr.source,wr.restoredState)),mo!==this.transitions?.getValue()?at.E:Promise.resolve(wr)}),function Y(A,N,j,P,G,le){return(0,Je.z)(Ee=>function Zo(A,N,j,P,G,le,Ee="emptyOnly"){return new pl(A,N,j,P,G,Ee,le).recognize()}(A,N,j,P,Ee.extractedUrl,G,le).pipe((0,mn.U)(({state:Xe,tree:nn})=>({...Ee,targetSnapshot:Xe,urlAfterRedirects:nn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,P.config,this.urlSerializer,P.paramsInheritanceStrategy),(0,$e.b)(wr=>{Ee.targetSnapshot=wr.targetSnapshot,Ee.urlAfterRedirects=wr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:wr.urlAfterRedirects};const mo=new na(wr.id,this.urlSerializer.serialize(wr.extractedUrl),this.urlSerializer.serialize(wr.urlAfterRedirects),wr.targetSnapshot);this.events.next(mo)}));if(gr&&P.urlHandlingStrategy.shouldProcessUrl(Ft.currentRawUrl)){const{id:wr,extractedUrl:mo,source:yl,restoredState:za,extras:vl}=Ft,xu=new Xt(wr,this.urlSerializer.serialize(mo),yl,za);this.events.next(xu);const cc=pr(0,this.rootComponentType).snapshot;return this.currentTransition=Ee={...Ft,targetSnapshot:cc,urlAfterRedirects:mo,extras:{...vl,skipLocationChange:!1,replaceUrl:!1}},(0,Ve.of)(Ee)}{const wr="";return this.events.next(new Or(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),wr,1)),Ft.resolve(null),at.E}}),(0,$e.b)(Ft=>{const Wn=new us(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot);this.events.next(Wn)}),(0,mn.U)(Ft=>(this.currentTransition=Ee={...Ft,guards:Ca(Ft.targetSnapshot,Ft.currentSnapshot,this.rootContexts)},Ee)),function Es(A,N){return(0,Je.z)(j=>{const{targetSnapshot:P,currentSnapshot:G,guards:{canActivateChecks:le,canDeactivateChecks:Ee}}=j;return 0===Ee.length&&0===le.length?(0,Ve.of)({...j,guardsResult:!0}):function Ms(A,N,j,P){return(0,Pe.D)(A).pipe((0,Je.z)(G=>function Ao(A,N,j,P,G){const le=N&&N.routeConfig?N.routeConfig.canDeactivate:null;if(!le||0===le.length)return(0,Ve.of)(!0);const Ee=le.map(Xe=>{const nn=Qr(N)??G,Ft=Wo(Xe,nn);return kn(function Q(A){return A&&zs(A.canDeactivate)}(Ft)?Ft.canDeactivate(A,N,j,P):nn.runInContext(()=>Ft(A,N,j,P))).pipe((0,dt.P)())});return(0,Ve.of)(Ee).pipe(vs())}(G.component,G.route,j,N,P)),(0,dt.P)(G=>!0!==G,!0))}(Ee,P,G,A).pipe((0,Je.z)(Xe=>Xe&&function po(A){return"boolean"==typeof A}(Xe)?function xa(A,N,j,P){return(0,Pe.D)(N).pipe(tt(G=>(0,On.z)(function qi(A,N){return null!==A&&N&&N(new ra(A)),(0,Ve.of)(!0)}(G.route.parent,P),function io(A,N){return null!==A&&N&&N(new eo(A)),(0,Ve.of)(!0)}(G.route,P),function ws(A,N,j){const P=N[N.length-1],le=N.slice(0,N.length-1).reverse().map(Ee=>function Za(A){const N=A.routeConfig?A.routeConfig.canActivateChild:null;return N&&0!==N.length?{node:A,guards:N}:null}(Ee)).filter(Ee=>null!==Ee).map(Ee=>He(()=>{const Xe=Ee.guards.map(nn=>{const Ft=Qr(Ee.node)??j,Wn=Wo(nn,Ft);return kn(function pe(A){return A&&zs(A.canActivateChild)}(Wn)?Wn.canActivateChild(P,A):Ft.runInContext(()=>Wn(P,A))).pipe((0,dt.P)())});return(0,Ve.of)(Xe).pipe(vs())}));return(0,Ve.of)(le).pipe(vs())}(A,G.path,j),function ha(A,N,j){const P=N.routeConfig?N.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Ve.of)(!0);const G=P.map(le=>He(()=>{const Ee=Qr(N)??j,Xe=Wo(le,Ee);return kn(function z(A){return A&&zs(A.canActivate)}(Xe)?Xe.canActivate(N,A):Ee.runInContext(()=>Xe(N,A))).pipe((0,dt.P)())}));return(0,Ve.of)(G).pipe(vs())}(A,G.route,j))),(0,dt.P)(G=>!0!==G,!0))}(P,le,A,N):(0,Ve.of)(Xe)),(0,mn.U)(Xe=>({...j,guardsResult:Xe})))})}(this.environmentInjector,Ft=>this.events.next(Ft)),(0,$e.b)(Ft=>{if(Ee.guardsResult=Ft.guardsResult,_r(Ft.guardsResult))throw Fs(0,Ft.guardsResult);const Wn=new As(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects),Ft.targetSnapshot,!!Ft.guardsResult);this.events.next(Wn)}),(0,ar.h)(Ft=>!!Ft.guardsResult||(this.cancelNavigationTransition(Ft,"",3),!1)),ce(Ft=>{if(Ft.guards.canActivateChecks.length)return(0,Ve.of)(Ft).pipe((0,$e.b)(Wn=>{const gr=new pi(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot);this.events.next(gr)}),(0,zn.w)(Wn=>{let gr=!1;return(0,Ve.of)(Wn).pipe(function Te(A,N){return(0,Je.z)(j=>{const{targetSnapshot:P,guards:{canActivateChecks:G}}=j;if(!G.length)return(0,Ve.of)(j);let le=0;return(0,Pe.D)(G).pipe(tt(Ee=>function H(A,N,j,P){const G=A.routeConfig,le=A._resolve;return void 0!==G?.title&&!re(G)&&(le[mt]=G.title),function me(A,N,j,P){const G=function L(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}(A);if(0===G.length)return(0,Ve.of)({});const le={};return(0,Pe.D)(G).pipe((0,Je.z)(Ee=>function Z(A,N,j,P){const G=Qr(N)??P,le=Wo(A,G);return kn(le.resolve?le.resolve(N,j):G.runInContext(()=>le(N,j)))}(A[Ee],N,j,P).pipe((0,dt.P)(),(0,$e.b)(Xe=>{le[Ee]=Xe}))),Hn(1),(0,An.h)(le),ft(Ee=>is(Ee)?at.E:ot(Ee)))}(le,A,N,P).pipe((0,mn.U)(Ee=>(A._resolvedData=Ee,A.data=ho(A,j).resolve,G&&re(G)&&(A.data[mt]=G.title),null)))}(Ee.route,P,A,N)),(0,$e.b)(()=>le++),Hn(1),(0,Je.z)(Ee=>le===G.length?(0,Ve.of)(j):at.E))})}(P.paramsInheritanceStrategy,this.environmentInjector),(0,$e.b)({next:()=>gr=!0,complete:()=>{gr||this.cancelNavigationTransition(Wn,"",2)}}))}),(0,$e.b)(Wn=>{const gr=new Po(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot);this.events.next(gr)}))}),ce(Ft=>{const Wn=gr=>{const Oi=[];gr.routeConfig?.loadComponent&&!gr.routeConfig._loadedComponent&&Oi.push(this.configLoader.loadComponent(gr.routeConfig).pipe((0,$e.b)(wr=>{gr.component=wr}),(0,mn.U)(()=>{})));for(const wr of gr.children)Oi.push(...Wn(wr));return Oi};return jt(Wn(Ft.targetSnapshot.root)).pipe((0,Ut.d)(),(0,Jn.q)(1))}),ce(()=>this.afterPreactivation()),(0,mn.U)(Ft=>{const Wn=function Rs(A,N,j){const P=ji(A,N._root,j?j._root:void 0);return new _n(P,N)}(P.routeReuseStrategy,Ft.targetSnapshot,Ft.currentRouterState);return this.currentTransition=Ee={...Ft,targetRouterState:Wn},Ee}),(0,$e.b)(()=>{this.events.next(new wi)}),((A,N,j,P)=>(0,mn.U)(G=>(new _i(N,G.targetRouterState,G.currentRouterState,j,P).activate(A),G)))(this.rootContexts,P.routeReuseStrategy,Ft=>this.events.next(Ft),this.inputBindingEnabled),(0,Jn.q)(1),(0,$e.b)({next:Ft=>{Xe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qn(Ft.id,this.urlSerializer.serialize(Ft.extractedUrl),this.urlSerializer.serialize(Ft.urlAfterRedirects))),P.titleStrategy?.updateTitle(Ft.targetRouterState.snapshot),Ft.resolve(!0)},complete:()=>{Xe=!0}}),(0,zr.R)(this.transitionAbortSubject.pipe((0,$e.b)(Ft=>{throw Ft}))),fr(()=>{Xe||nn||this.cancelNavigationTransition(Ee,"",1),this.currentNavigation?.id===Ee.id&&(this.currentNavigation=null)}),ft(Ft=>{if(nn=!0,Fr(Ft))this.events.next(new Ur(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),Ft.message,Ft.cancellationCode)),function Hs(A){return Fr(A)&&_r(A.url)}(Ft)?this.events.next(new di(Ft.url)):Ee.resolve(!1);else{this.events.next(new Dr(Ee.id,this.urlSerializer.serialize(Ee.extractedUrl),Ft,Ee.targetSnapshot??void 0));try{Ee.resolve(P.errorHandler(Ft))}catch(Wn){Ee.reject(Wn)}}return at.E}))}))}cancelNavigationTransition(P,G,le){const Ee=new Ur(P.id,this.urlSerializer.serialize(P.extractedUrl),G,le);this.events.next(Ee),P.resolve(!1)}}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();function q(A){return A!==ut}let ie=(()=>{var A;class N{buildTitle(P){let G,le=P.root;for(;void 0!==le;)G=this.getResolvedTitleForRoute(le)??G,le=le.children.find(Ee=>Ee.outlet===ke);return G}getResolvedTitleForRoute(P){return P.data[mt]}}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275prov=d.Yz7({token:A,factory:function(){return(0,d.f3M)(ve)},providedIn:"root"}),N})(),ve=(()=>{var A;class N extends ie{constructor(P){super(),this.title=P}updateTitle(P){const G=this.buildTitle(P);void 0!==G&&this.title.setTitle(G)}}return(A=N).\u0275fac=function(P){return new(P||A)(d.LFG(qe.Dx))},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})(),Se=(()=>{var A;class N{}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275prov=d.Yz7({token:A,factory:function(){return(0,d.f3M)(et)},providedIn:"root"}),N})();class Ue{shouldDetach(N){return!1}store(N,j){}shouldAttach(N){return!1}retrieve(N){return null}shouldReuseRoute(N,j){return N.routeConfig===j.routeConfig}}let et=(()=>{var A;class N extends Ue{}return(A=N).\u0275fac=function(){let j;return function(G){return(j||(j=d.n5z(A)))(G||A)}}(),A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();const sn=new d.OlP("",{providedIn:"root",factory:()=>({})});let cn=(()=>{var A;class N{}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275prov=d.Yz7({token:A,factory:function(){return(0,d.f3M)(it)},providedIn:"root"}),N})(),it=(()=>{var A;class N{shouldProcessUrl(P){return!0}extract(P){return P}merge(P,G){return P}}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();var Dn=function(A){return A[A.COMPLETE=0]="COMPLETE",A[A.FAILED=1]="FAILED",A[A.REDIRECTING=2]="REDIRECTING",A}(Dn||{});function En(A,N){A.events.pipe((0,ar.h)(j=>j instanceof qn||j instanceof Ur||j instanceof Dr||j instanceof Or),(0,mn.U)(j=>j instanceof qn||j instanceof Or?Dn.COMPLETE:j instanceof Ur&&(0===j.code||1===j.code)?Dn.REDIRECTING:Dn.FAILED),(0,ar.h)(j=>j!==Dn.REDIRECTING),(0,Jn.q)(1)).subscribe(()=>{N()})}function $n(A){throw A}function en(A,N,j){return N.parse("/")}const In={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ri={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $t=(()=>{var A;class N{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new Mn.x,this.options=(0,d.f3M)(sn,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||$n,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||en,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(cn),this.routeReuseStrategy=(0,d.f3M)(Se),this.titleStrategy=(0,d.f3M)(ie),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(ye,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(R),this.urlSerializer=(0,d.f3M)(Fe),this.location=(0,d.f3M)(Bn.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(ai,{optional:!0}),this.eventsSubscription=new Dt.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Wr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(P=>{this.lastSuccessfulId=P.id,this.currentPageId=this.browserPageId},P=>{this.console.warn(`Unhandled Navigation Error: ${P}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const P=this.navigationTransitions.events.subscribe(G=>{try{const{currentTransition:le}=this.navigationTransitions;if(null===le)return void(Kt(G)&&this._events.next(G));if(G instanceof Xt)q(le.source)&&(this.browserUrlTree=le.extractedUrl);else if(G instanceof Or)this.rawUrlTree=le.rawUrl;else if(G instanceof na){if("eager"===this.urlUpdateStrategy){if(!le.extras.skipLocationChange){const Ee=this.urlHandlingStrategy.merge(le.urlAfterRedirects,le.rawUrl);this.setBrowserUrl(Ee,le)}this.browserUrlTree=le.urlAfterRedirects}}else if(G instanceof wi)this.currentUrlTree=le.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(le.urlAfterRedirects,le.rawUrl),this.routerState=le.targetRouterState,"deferred"===this.urlUpdateStrategy&&(le.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,le),this.browserUrlTree=le.urlAfterRedirects);else if(G instanceof Ur)0!==G.code&&1!==G.code&&(this.navigated=!0),(3===G.code||2===G.code)&&this.restoreHistory(le);else if(G instanceof di){const Ee=this.urlHandlingStrategy.merge(G.url,le.currentRawUrl),Xe={skipLocationChange:le.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||q(le.source)};this.scheduleNavigation(Ee,ut,null,Xe,{resolve:le.resolve,reject:le.reject,promise:le.promise})}G instanceof Dr&&this.restoreHistory(le,!0),G instanceof qn&&(this.navigated=!0),Kt(G)&&this._events.next(G)}catch(le){this.navigationTransitions.transitionAbortSubject.next(le)}});this.eventsSubscription.add(P)}resetRootComponentType(P){this.routerState.root.component=P,this.navigationTransitions.rootComponentType=P}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const P=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ut,P)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(P=>{const G="popstate"===P.type?"popstate":"hashchange";"popstate"===G&&setTimeout(()=>{this.navigateToSyncWithBrowser(P.url,G,P.state)},0)}))}navigateToSyncWithBrowser(P,G,le){const Ee={replaceUrl:!0},Xe=le?.navigationId?le:null;if(le){const Ft={...le};delete Ft.navigationId,delete Ft.\u0275routerPageId,0!==Object.keys(Ft).length&&(Ee.state=Ft)}const nn=this.parseUrl(P);this.scheduleNavigation(nn,G,Xe,Ee)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(P){this.config=P.map($i),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(P,G={}){const{relativeTo:le,queryParams:Ee,fragment:Xe,queryParamsHandling:nn,preserveFragment:Ft}=G,Wn=Ft?this.currentUrlTree.fragment:Xe;let Oi,gr=null;switch(nn){case"merge":gr={...this.currentUrlTree.queryParams,...Ee};break;case"preserve":gr=this.currentUrlTree.queryParams;break;default:gr=Ee||null}null!==gr&&(gr=this.removeEmptyProps(gr));try{Oi=es(le?le.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof P[0]||!P[0].startsWith("/"))&&(P=[]),Oi=this.currentUrlTree.root}return Zs(Oi,P,gr,Wn??null)}navigateByUrl(P,G={skipLocationChange:!1}){const le=_r(P)?P:this.parseUrl(P),Ee=this.urlHandlingStrategy.merge(le,this.rawUrlTree);return this.scheduleNavigation(Ee,ut,null,G)}navigate(P,G={skipLocationChange:!1}){return function pt(A){for(let N=0;N<A.length;N++)if(null==A[N])throw new d.vHH(4008,!1)}(P),this.navigateByUrl(this.createUrlTree(P,G),G)}serializeUrl(P){return this.urlSerializer.serialize(P)}parseUrl(P){let G;try{G=this.urlSerializer.parse(P)}catch(le){G=this.malformedUriErrorHandler(le,this.urlSerializer,P)}return G}isActive(P,G){let le;if(le=!0===G?{...In}:!1===G?{...Ri}:G,_r(P))return qr(this.currentUrlTree,P,le);const Ee=this.parseUrl(P);return qr(this.currentUrlTree,Ee,le)}removeEmptyProps(P){return Object.keys(P).reduce((G,le)=>{const Ee=P[le];return null!=Ee&&(G[le]=Ee),G},{})}scheduleNavigation(P,G,le,Ee,Xe){if(this.disposed)return Promise.resolve(!1);let nn,Ft,Wn;Xe?(nn=Xe.resolve,Ft=Xe.reject,Wn=Xe.promise):Wn=new Promise((Oi,wr)=>{nn=Oi,Ft=wr});const gr=this.pendingTasks.add();return En(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(gr))}),this.navigationTransitions.handleNavigationRequest({source:G,restoredState:le,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:P,extras:Ee,resolve:nn,reject:Ft,promise:Wn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wn.catch(Oi=>Promise.reject(Oi))}setBrowserUrl(P,G){const le=this.urlSerializer.serialize(P);if(this.location.isCurrentPathEqualTo(le)||G.extras.replaceUrl){const Xe={...G.extras.state,...this.generateNgRouterState(G.id,this.browserPageId)};this.location.replaceState(le,"",Xe)}else{const Ee={...G.extras.state,...this.generateNgRouterState(G.id,this.browserPageId+1)};this.location.go(le,"",Ee)}}restoreHistory(P,G=!1){if("computed"===this.canceledNavigationResolution){const Ee=this.currentPageId-this.browserPageId;0!==Ee?this.location.historyGo(Ee):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===Ee&&(this.resetState(P),this.browserUrlTree=P.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(G&&this.resetState(P),this.resetUrlToCurrentUrlTree())}resetState(P){this.routerState=P.currentRouterState,this.currentUrlTree=P.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,P.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(P,G){return"computed"===this.canceledNavigationResolution?{navigationId:P,\u0275routerPageId:G}:{navigationId:P}}}return(A=N).\u0275fac=function(P){return new(P||A)},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();function Kt(A){return!(A instanceof wi||A instanceof di)}let yi=(()=>{var A;class N{constructor(P,G,le,Ee,Xe,nn){this.router=P,this.route=G,this.tabIndexAttribute=le,this.renderer=Ee,this.el=Xe,this.locationStrategy=nn,this.href=null,this.commands=null,this.onChanges=new Mn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Ft=Xe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Ft||"area"===Ft,this.isAnchorElement?this.subscription=P.events.subscribe(Wn=>{Wn instanceof qn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(P){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",P)}ngOnChanges(P){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(P){null!=P?(this.commands=Array.isArray(P)?P:[P],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(P,G,le,Ee,Xe){return!!(null===this.urlTree||this.isAnchorElement&&(0!==P||G||le||Ee||Xe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const P=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",P)}applyAttributeValue(P,G){const le=this.renderer,Ee=this.el.nativeElement;null!==G?le.setAttribute(Ee,P,G):le.removeAttribute(Ee,P)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(A=N).\u0275fac=function(P){return new(P||A)(d.Y36($t),d.Y36(rr),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Bn.S$))},A.\u0275dir=d.lG2({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,G){1&P&&d.NdJ("click",function(Ee){return G.onClick(Ee.button,Ee.ctrlKey,Ee.shiftKey,Ee.altKey,Ee.metaKey)}),2&P&&d.uIk("target",G.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),N})();class Li{}let Ma=(()=>{var A;class N{constructor(P,G,le,Ee,Xe){this.router=P,this.injector=le,this.preloadingStrategy=Ee,this.loader=Xe}setUpPreloading(){this.subscription=this.router.events.pipe((0,ar.h)(P=>P instanceof qn),tt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(P,G){const le=[];for(const Ee of G){Ee.providers&&!Ee._injector&&(Ee._injector=(0,d.MMx)(Ee.providers,P,`Route: ${Ee.path}`));const Xe=Ee._injector??P,nn=Ee._loadedInjector??Xe;(Ee.loadChildren&&!Ee._loadedRoutes&&void 0===Ee.canLoad||Ee.loadComponent&&!Ee._loadedComponent)&&le.push(this.preloadConfig(Xe,Ee)),(Ee.children||Ee._loadedRoutes)&&le.push(this.processRoutes(nn,Ee.children??Ee._loadedRoutes))}return(0,Pe.D)(le).pipe((0,wn.J)())}preloadConfig(P,G){return this.preloadingStrategy.preload(G,()=>{let le;le=G.loadChildren&&void 0===G.canLoad?this.loader.loadChildren(P,G):(0,Ve.of)(null);const Ee=le.pipe((0,Je.z)(Xe=>null===Xe?(0,Ve.of)(void 0):(G._loadedRoutes=Xe.routes,G._loadedInjector=Xe.injector,this.processRoutes(Xe.injector??P,Xe.routes))));if(G.loadComponent&&!G._loadedComponent){const Xe=this.loader.loadComponent(G);return(0,Pe.D)([Ee,Xe]).pipe((0,wn.J)())}return Ee})}}return(A=N).\u0275fac=function(P){return new(P||A)(d.LFG($t),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Li),d.LFG(U))},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),N})();const Jo=new d.OlP("");let Er=(()=>{var A;class N{constructor(P,G,le,Ee,Xe={}){this.urlSerializer=P,this.transitions=G,this.viewportScroller=le,this.zone=Ee,this.options=Xe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Xe.scrollPositionRestoration=Xe.scrollPositionRestoration||"disabled",Xe.anchorScrolling=Xe.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(P=>{P instanceof Xt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=P.navigationTrigger,this.restoredId=P.restoredState?P.restoredState.navigationId:0):P instanceof qn?(this.lastId=P.id,this.scheduleScrollEvent(P,this.urlSerializer.parse(P.urlAfterRedirects).fragment)):P instanceof Or&&0===P.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(P,this.urlSerializer.parse(P.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(P=>{P instanceof Mr&&(P.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(P.position):P.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(P.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(P,G){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mr(P,"popstate"===this.lastSource?this.store[this.restoredId]:null,G))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(A=N).\u0275fac=function(P){d.$Z()},A.\u0275prov=d.Yz7({token:A,factory:A.\u0275fac}),N})();function tr(A,N){return{\u0275kind:A,\u0275providers:N}}function Nn(){const A=(0,d.f3M)(d.zs3);return N=>{const j=A.get(d.z2F);if(N!==j.components[0])return;const P=A.get($t),G=A.get(Vo);1===A.get(lr)&&P.initialNavigation(),A.get(Nr,null,d.XFs.Optional)?.setUpPreloading(),A.get(Jo,null,d.XFs.Optional)?.init(),P.resetRootComponentType(j.componentTypes[0]),G.closed||(G.next(),G.complete(),G.unsubscribe())}}const Vo=new d.OlP("",{factory:()=>new Mn.x}),lr=new d.OlP("",{providedIn:"root",factory:()=>1}),Nr=new d.OlP("");function so(A){return tr(0,[{provide:Nr,useExisting:Ma},{provide:Li,useExisting:A}])}const hu=new d.OlP("ROUTER_FORROOT_GUARD"),fu=[Bn.Ye,{provide:Fe,useClass:St},$t,uo,{provide:rr,useFactory:function ir(A){return A.routerState.root},deps:[$t]},U,[]];function Ha(){return new d.PXZ("Router",$t)}let Cu=(()=>{var A;class N{constructor(P){}static forRoot(P,G){return{ngModule:N,providers:[fu,[],{provide:ye,multi:!0,useValue:P},{provide:hu,useFactory:Yl,deps:[[$t,new d.FiY,new d.tp0]]},{provide:sn,useValue:G||{}},G?.useHash?{provide:Bn.S$,useClass:Bn.Do}:{provide:Bn.S$,useClass:Bn.b0},{provide:Jo,useFactory:()=>{const A=(0,d.f3M)(Bn.EM),N=(0,d.f3M)(d.R0b),j=(0,d.f3M)(sn),P=(0,d.f3M)(R),G=(0,d.f3M)(Fe);return j.scrollOffset&&A.setOffset(j.scrollOffset),new Er(G,P,A,N,j)}},G?.preloadingStrategy?so(G.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Ha},G?.initialNavigation?Et(G):[],G?.bindToComponentInputs?tr(8,[Do,{provide:ai,useExisting:Do}]).\u0275providers:[],[{provide:Ta,useFactory:Nn},{provide:d.tb,multi:!0,useExisting:Ta}]]}}static forChild(P){return{ngModule:N,providers:[{provide:ye,multi:!0,useValue:P}]}}}return(A=N).\u0275fac=function(P){return new(P||A)(d.LFG(hu,8))},A.\u0275mod=d.oAB({type:A}),A.\u0275inj=d.cJS({}),N})();function Yl(A){return"guarded"}function Et(A){return["disabled"===A.initialNavigation?tr(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const N=(0,d.f3M)($t);return()=>{N.setUpLocationChangeListener()}}},{provide:lr,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?tr(2,[{provide:lr,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:N=>{const j=N.get(Bn.V_,Promise.resolve());return()=>j.then(()=>new Promise(P=>{const G=N.get($t),le=N.get(Vo);En(G,()=>{P(!0)}),N.get(R).afterPreactivation=()=>(P(!0),le.closed?(0,Ve.of)(void 0):le),G.initialNavigation()}))}}]).\u0275providers:[]]}const Ta=new d.OlP("")},4303:(bn,gt,W)=>{W.d(gt,{Jn:()=>zr,KN:()=>wt,Xd:()=>Gt,qX:()=>Ut});var d=W(5861),oe=W(4537),fe=W(7879),we=W(9058),Pe=W(1878);class Ve{constructor(Fe){this.container=Fe}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function be(yt){const Fe=yt.getComponent();return"VERSION"===Fe?.type}(St)){const ht=St.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(St=>St).join(" ")}}const lt="@firebase/app",_e=new fe.Yd("@firebase/app"),dt={[lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,$e=new Map;function ft(yt,Fe){try{yt.container.addComponent(Fe)}catch(St){_e.debug(`Component ${Fe.name} failed to register with FirebaseApp ${yt.name}`,St)}}function Gt(yt){const Fe=yt.name;if($e.has(Fe))return _e.debug(`There were multiple attempts to register component ${Fe}.`),!1;$e.set(Fe,yt);for(const St of tt.values())ft(St,yt);return!0}function Ut(yt,Fe){const St=yt.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),yt.container.getProvider(Fe)}const An=new we.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),zr="10.4.0";function wt(yt,Fe,St){var ht;let an=null!==(ht=dt[yt])&&void 0!==ht?ht:yt;St&&(an+=`-${St}`);const Yt=an.match(/\s|\//),er=Fe.match(/\s|\//);if(Yt||er){const Me=[`Unable to register library "${an}" with version "${Fe}":`];return Yt&&Me.push(`library name "${an}" contains illegal characters (whitespace or "/")`),Yt&&er&&Me.push("and"),er&&Me.push(`version name "${Fe}" contains illegal characters (whitespace or "/")`),void _e.warn(Me.join(" "))}Gt(new oe.wA(`${an}-version`,()=>({library:an,version:Fe}),"VERSION"))}const ln="firebase-heartbeat-database",Wt=1,rn="firebase-heartbeat-store";let kn=null;function nr(){return kn||(kn=(0,Pe.X3)(ln,Wt,{upgrade:(yt,Fe)=>{0===Fe&&yt.createObjectStore(rn)}}).catch(yt=>{throw An.create("idb-open",{originalErrorMessage:yt.message})})),kn}function qr(){return(qr=(0,d.Z)(function*(yt){try{return yield(yield nr()).transaction(rn).objectStore(rn).get(Cr(yt))}catch(Fe){if(Fe instanceof we.ZR)_e.warn(Fe.message);else{const St=An.create("idb-get",{originalErrorMessage:Fe?.message});_e.warn(St.message)}}})).apply(this,arguments)}function cr(yt,Fe){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,d.Z)(function*(yt,Fe){try{const ht=(yield nr()).transaction(rn,"readwrite");yield ht.objectStore(rn).put(Fe,Cr(yt)),yield ht.done}catch(St){if(St instanceof we.ZR)_e.warn(St.message);else{const ht=An.create("idb-set",{originalErrorMessage:St?.message});_e.warn(ht.message)}}})).apply(this,arguments)}function Cr(yt){return`${yt.name}!${yt.options.appId}`}class ur{constructor(Fe){this.container=Fe,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new Ai(St),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var Fe=this;return(0,d.Z)(function*(){const ht=Fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),an=Wr();if(null===Fe._heartbeatsCache&&(Fe._heartbeatsCache=yield Fe._heartbeatsCachePromise),Fe._heartbeatsCache.lastSentHeartbeatDate!==an&&!Fe._heartbeatsCache.heartbeats.some(Yt=>Yt.date===an))return Fe._heartbeatsCache.heartbeats.push({date:an,agent:ht}),Fe._heartbeatsCache.heartbeats=Fe._heartbeatsCache.heartbeats.filter(Yt=>{const er=new Date(Yt.date).valueOf();return Date.now()-er<=2592e6}),Fe._storage.overwrite(Fe._heartbeatsCache)})()}getHeartbeatsHeader(){var Fe=this;return(0,d.Z)(function*(){if(null===Fe._heartbeatsCache&&(yield Fe._heartbeatsCachePromise),null===Fe._heartbeatsCache||0===Fe._heartbeatsCache.heartbeats.length)return"";const St=Wr(),{heartbeatsToSend:ht,unsentEntries:an}=function xr(yt,Fe=1024){const St=[];let ht=yt.slice();for(const an of yt){const Yt=St.find(er=>er.agent===an.agent);if(Yt){if(Yt.dates.push(an.date),fi(St)>Fe){Yt.dates.pop();break}}else if(St.push({agent:an.agent,dates:[an.date]}),fi(St)>Fe){St.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:St,unsentEntries:ht}}(Fe._heartbeatsCache.heartbeats),Yt=(0,we.L)(JSON.stringify({version:2,heartbeats:ht}));return Fe._heartbeatsCache.lastSentHeartbeatDate=St,an.length>0?(Fe._heartbeatsCache.heartbeats=an,yield Fe._storage.overwrite(Fe._heartbeatsCache)):(Fe._heartbeatsCache.heartbeats=[],Fe._storage.overwrite(Fe._heartbeatsCache)),Yt})()}}function Wr(){return(new Date).toISOString().substring(0,10)}class Ai{constructor(Fe){this.app=Fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,we.hl)()&&(0,we.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Fe=this;return(0,d.Z)(function*(){return(yield Fe._canUseIndexedDBPromise)&&(yield function Lr(yt){return qr.apply(this,arguments)}(Fe.app))||{heartbeats:[]}})()}overwrite(Fe){var St=this;return(0,d.Z)(function*(){var ht;if(yield St._canUseIndexedDBPromise){const Yt=yield St.read();return cr(St.app,{lastSentHeartbeatDate:null!==(ht=Fe.lastSentHeartbeatDate)&&void 0!==ht?ht:Yt.lastSentHeartbeatDate,heartbeats:Fe.heartbeats})}})()}add(Fe){var St=this;return(0,d.Z)(function*(){var ht;if(yield St._canUseIndexedDBPromise){const Yt=yield St.read();return cr(St.app,{lastSentHeartbeatDate:null!==(ht=Fe.lastSentHeartbeatDate)&&void 0!==ht?ht:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...Fe.heartbeats]})}})()}}function fi(yt){return(0,we.L)(JSON.stringify({version:2,heartbeats:yt})).length}!function ui(yt){Gt(new oe.wA("platform-logger",Fe=>new Ve(Fe),"PRIVATE")),Gt(new oe.wA("heartbeat",Fe=>new ur(Fe),"PRIVATE")),wt(lt,"0.9.19",yt),wt(lt,"0.9.19","esm2017"),wt("fire-js","")}("")},4537:(bn,gt,W)=>{W.d(gt,{H0:()=>lt,wA:()=>fe});var d=W(5861),oe=W(9058);class fe{constructor(_e,Oe,Ze){this.name=_e,this.instanceFactory=Oe,this.type=Ze,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const we="[DEFAULT]";class Pe{constructor(_e,Oe){this.name=_e,this.container=Oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const Oe=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(Oe)){const Ze=new oe.BH;if(this.instancesDeferred.set(Oe,Ze),this.isInitialized(Oe)||this.shouldAutoInitialize())try{const bt=this.getOrInitializeService({instanceIdentifier:Oe});bt&&Ze.resolve(bt)}catch{}}return this.instancesDeferred.get(Oe).promise}getImmediate(_e){var Oe;const Ze=this.normalizeInstanceIdentifier(_e?.identifier),bt=null!==(Oe=_e?.optional)&&void 0!==Oe&&Oe;if(!this.isInitialized(Ze)&&!this.shouldAutoInitialize()){if(bt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ze})}catch(Be){if(bt)return null;throw Be}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function be(We){return"EAGER"===We.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(const[Oe,Ze]of this.instancesDeferred.entries()){const bt=this.normalizeInstanceIdentifier(Oe);try{const Be=this.getOrInitializeService({instanceIdentifier:bt});Ze.resolve(Be)}catch{}}}}clearInstance(_e=we){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,d.Z)(function*(){const Oe=Array.from(_e.instances.values());yield Promise.all([...Oe.filter(Ze=>"INTERNAL"in Ze).map(Ze=>Ze.INTERNAL.delete()),...Oe.filter(Ze=>"_delete"in Ze).map(Ze=>Ze._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=we){return this.instances.has(_e)}getOptions(_e=we){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:Oe={}}=_e,Ze=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(Ze))throw Error(`${this.name}(${Ze}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const bt=this.getOrInitializeService({instanceIdentifier:Ze,options:Oe});for(const[Be,jt]of this.instancesDeferred.entries())Ze===this.normalizeInstanceIdentifier(Be)&&jt.resolve(bt);return bt}onInit(_e,Oe){var Ze;const bt=this.normalizeInstanceIdentifier(Oe),Be=null!==(Ze=this.onInitCallbacks.get(bt))&&void 0!==Ze?Ze:new Set;Be.add(_e),this.onInitCallbacks.set(bt,Be);const jt=this.instances.get(bt);return jt&&_e(jt,bt),()=>{Be.delete(_e)}}invokeOnInitCallbacks(_e,Oe){const Ze=this.onInitCallbacks.get(Oe);if(Ze)for(const bt of Ze)try{bt(_e,Oe)}catch{}}getOrInitializeService({instanceIdentifier:_e,options:Oe={}}){let Ze=this.instances.get(_e);if(!Ze&&this.component&&(Ze=this.component.instanceFactory(this.container,{instanceIdentifier:(We=_e,We===we?void 0:We),options:Oe}),this.instances.set(_e,Ze),this.instancesOptions.set(_e,Oe),this.invokeOnInitCallbacks(Ze,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,Ze)}catch{}var We;return Ze||null}normalizeInstanceIdentifier(_e=we){return this.component?this.component.multipleInstances?_e:we:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lt{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const Oe=this.getProvider(_e.name);if(Oe.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);Oe.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const Oe=new Pe(_e,this);return this.providers.set(_e,Oe),Oe}getProviders(){return Array.from(this.providers.values())}}},7879:(bn,gt,W)=>{W.d(gt,{Am:()=>We,Ub:()=>lt,Yd:()=>be,in:()=>oe});const d=[];var oe=function(_e){return _e[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",_e}(oe||{});const fe={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},we=oe.INFO,Pe={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},Ve=(_e,Oe,...Ze)=>{if(Oe<_e.logLevel)return;const bt=(new Date).toISOString(),Be=Pe[Oe];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${Oe})`);console[Be](`[${bt}]  ${_e.name}:`,...Ze)};class be{constructor(Oe){this.name=Oe,this._logLevel=we,this._logHandler=Ve,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Oe){if(!(Oe in oe))throw new TypeError(`Invalid value "${Oe}" assigned to \`logLevel\``);this._logLevel=Oe}setLogLevel(Oe){this._logLevel="string"==typeof Oe?fe[Oe]:Oe}get logHandler(){return this._logHandler}set logHandler(Oe){if("function"!=typeof Oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(Oe){this._userLogHandler=Oe}debug(...Oe){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...Oe),this._logHandler(this,oe.DEBUG,...Oe)}log(...Oe){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...Oe),this._logHandler(this,oe.VERBOSE,...Oe)}info(...Oe){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...Oe),this._logHandler(this,oe.INFO,...Oe)}warn(...Oe){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...Oe),this._logHandler(this,oe.WARN,...Oe)}error(...Oe){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...Oe),this._logHandler(this,oe.ERROR,...Oe)}}function lt(_e){d.forEach(Oe=>{Oe.setLogLevel(_e)})}function We(_e,Oe){for(const Ze of d){let bt=null;Oe&&Oe.level&&(bt=fe[Oe.level]),Ze.userLogHandler=null===_e?null:(Be,jt,...st)=>{const tn=st.map(Lt=>{if(null==Lt)return null;if("string"==typeof Lt)return Lt;if("number"==typeof Lt||"boolean"==typeof Lt)return Lt.toString();if(Lt instanceof Error)return Lt.message;try{return JSON.stringify(Lt)}catch{return null}}).filter(Lt=>Lt).join(" ");jt>=(bt??Be.logLevel)&&_e({level:oe[jt].toLowerCase(),message:tn,args:st,type:Be.name})}}}},5597:(bn,gt,W)=>{W.d(gt,{BN:()=>Ps,uH:()=>me});var d=W(5879);function oe(L,Z){var re=Object.keys(L);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(L);Z&&(ce=ce.filter(function(ye){return Object.getOwnPropertyDescriptor(L,ye).enumerable})),re.push.apply(re,ce)}return re}function fe(L){for(var Z=1;Z<arguments.length;Z++){var re=null!=arguments[Z]?arguments[Z]:{};Z%2?oe(Object(re),!0).forEach(function(ce){We(L,ce,re[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(re)):oe(Object(re)).forEach(function(ce){Object.defineProperty(L,ce,Object.getOwnPropertyDescriptor(re,ce))})}return L}function we(L){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(L)}function be(L,Z){for(var re=0;re<Z.length;re++){var ce=Z[re];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(L,ce.key,ce)}}function We(L,Z,re){return Z in L?Object.defineProperty(L,Z,{value:re,enumerable:!0,configurable:!0,writable:!0}):L[Z]=re,L}function Ze(L,Z){return function jt(L){if(Array.isArray(L))return L}(L)||function tn(L,Z){var re=null==L?null:typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(null!=re){var y,D,ce=[],ye=!0,U=!1;try{for(re=re.call(L);!(ye=(y=re.next()).done)&&(ce.push(y.value),!Z||ce.length!==Z);ye=!0);}catch(R){U=!0,D=R}finally{try{!ye&&null!=re.return&&re.return()}finally{if(U)throw D}}return ce}}(L,Z)||Lt(L,Z)||function He(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(L){return function Be(L){if(Array.isArray(L))return On(L)}(L)||function st(L){if(typeof Symbol<"u"&&null!=L[Symbol.iterator]||null!=L["@@iterator"])return Array.from(L)}(L)||Lt(L)||function vn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(L,Z){if(L){if("string"==typeof L)return On(L,Z);var re=Object.prototype.toString.call(L).slice(8,-1);if("Object"===re&&L.constructor&&(re=L.constructor.name),"Map"===re||"Set"===re)return Array.from(L);if("Arguments"===re||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(re))return On(L,Z)}}function On(L,Z){(null==Z||Z>L.length)&&(Z=L.length);for(var re=0,ce=new Array(Z);re<Z;re++)ce[re]=L[re];return ce}var Tt=function(){},ot={},at={},Dt=null,Re={mark:Tt,measure:Tt};try{typeof window<"u"&&(ot=window),typeof document<"u"&&(at=document),typeof MutationObserver<"u"&&(Dt=MutationObserver),typeof performance<"u"&&(Re=performance)}catch{}var dt,tt,$e,ft,xt,Jt=(ot.navigator||{}).userAgent,Mn=void 0===Jt?"":Jt,Bn=ot,mn=at,zn=Dt,Jn=Re,ar=!!mn.documentElement&&!!mn.head&&"function"==typeof mn.addEventListener&&"function"==typeof mn.createElement,Je=~Mn.indexOf("MSIE")||~Mn.indexOf("Trident/"),Gt="___FONT_AWESOME___",Hn="fa",Fn="svg-inline--fa",Un="data-fa-i2svg",An="data-fa-pseudo-element",fr="data-fa-pseudo-element-pending",zr="data-prefix",wn="data-icon",qe="fontawesome-i2svg",ke="async",mt=["HTML","HEAD","STYLE","SCRIPT"],Rt=function(){try{return!0}catch{return!1}}(),wt="classic",Ht="sharp",or=[wt,Ht];function ln(L){return new Proxy(L,{get:function(re,ce){return ce in re?re[ce]:re[wt]}})}var Wt=ln((We(dt={},wt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),We(dt,Ht,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),dt)),rn=ln((We(tt={},wt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),We(tt,Ht,{solid:"fass",regular:"fasr",light:"fasl"}),tt)),kn=ln((We($e={},wt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),We($e,Ht,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),$e)),nr=ln((We(ft={},wt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),We(ft,Ht,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),ft)),Lr=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,qr="fa-layers-text",cr=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Vr=ln((We(xt={},wt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),We(xt,Ht,{900:"fass",400:"fasr",300:"fasl"}),xt)),Cr=[1,2,3,4,5,6,7,8,9,10],Tr=Cr.concat([11,12,13,14,15,16,17,18,19,20]),Vi=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ur={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Wr=new Set;Object.keys(rn[wt]).map(Wr.add.bind(Wr)),Object.keys(rn[Ht]).map(Wr.add.bind(Wr));var xr=[].concat(or,bt(Wr),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ur.GROUP,ur.SWAP_OPACITY,ur.PRIMARY,ur.SECONDARY]).concat(Cr.map(function(L){return"".concat(L,"x")})).concat(Tr.map(function(L){return"w-".concat(L)})),Ai=Bn.FontAwesomeConfig||{};mn&&"function"==typeof mn.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(L){var Z=Ze(L,2),ce=Z[1],ye=function ui(L){return""===L||"false"!==L&&("true"===L||L)}(function fi(L){var Z=mn.querySelector("script["+L+"]");if(Z)return Z.getAttribute(L)}(Z[0]));null!=ye&&(Ai[ce]=ye)});var Fe={styleDefault:"solid",familyDefault:"classic",cssPrefix:Hn,replacementClass:Fn,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ai.familyPrefix&&(Ai.cssPrefix=Ai.familyPrefix);var St=fe(fe({},Fe),Ai);St.autoReplaceSvg||(St.observeMutations=!1);var ht={};Object.keys(Fe).forEach(function(L){Object.defineProperty(ht,L,{enumerable:!0,set:function(re){St[L]=re,an.forEach(function(ce){return ce(ht)})},get:function(){return St[L]}})}),Object.defineProperty(ht,"familyPrefix",{enumerable:!0,set:function(Z){St.cssPrefix=Z,an.forEach(function(re){return re(ht)})},get:function(){return St.cssPrefix}}),Bn.FontAwesomeConfig=ht;var an=[],Me={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},se="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ce(){for(var L=12,Z="";L-- >0;)Z+=se[62*Math.random()|0];return Z}function de(L){for(var Z=[],re=(L||[]).length>>>0;re--;)Z[re]=L[re];return Z}function Le(L){return L.classList?de(L.classList):(L.getAttribute("class")||"").split(" ").filter(function(Z){return Z})}function Ot(L){return"".concat(L).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xn(L){return Object.keys(L||{}).reduce(function(Z,re){return Z+"".concat(re,": ").concat(L[re].trim(),";")},"")}function hn(L){return L.size!==Me.size||L.x!==Me.x||L.y!==Me.y||L.rotate!==Me.rotate||L.flipX||L.flipY}var Br=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function Ei(){var L=Hn,Z=Fn,re=ht.cssPrefix,ce=ht.replacementClass,ye=Br;if(re!==L||ce!==Z){var U=new RegExp("\\.".concat(L,"\\-"),"g"),y=new RegExp("\\--".concat(L,"\\-"),"g"),D=new RegExp("\\.".concat(Z),"g");ye=ye.replace(U,".".concat(re,"-")).replace(y,"--".concat(re,"-")).replace(D,".".concat(ce))}return ye}var Ci=!1;function Ji(){ht.autoAddCss&&!Ci&&(function ue(L){if(L&&ar){var Z=mn.createElement("style");Z.setAttribute("type","text/css"),Z.innerHTML=L;for(var re=mn.head.childNodes,ce=null,ye=re.length-1;ye>-1;ye--){var U=re[ye],y=(U.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(y)>-1&&(ce=U)}mn.head.insertBefore(Z,ce)}}(Ei()),Ci=!0)}var Xi={mixout:function(){return{dom:{css:Ei,insertCss:Ji}}},hooks:function(){return{beforeDOMElementCreation:function(){Ji()},beforeI2svg:function(){Ji()}}}},Jr=Bn||{};Jr[Gt]||(Jr[Gt]={}),Jr[Gt].styles||(Jr[Gt].styles={}),Jr[Gt].hooks||(Jr[Gt].hooks={}),Jr[Gt].shims||(Jr[Gt].shims=[]);var Kr=Jr[Gt],Hi=[],Bi=!1;function Zs(L){var Z=L.tag,re=L.attributes,ce=void 0===re?{}:re,ye=L.children,U=void 0===ye?[]:ye;return"string"==typeof L?Ot(L):"<".concat(Z," ").concat(function qt(L){return Object.keys(L||{}).reduce(function(Z,re){return Z+"".concat(re,'="').concat(Ot(L[re]),'" ')},"").trim()}(ce),">").concat(U.map(Zs).join(""),"</").concat(Z,">")}function Js(L,Z,re){if(L&&L[Z]&&L[Z][re])return{prefix:Z,iconName:re,icon:L[Z][re]}}ar&&((Bi=(mn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(mn.readyState))||mn.addEventListener("DOMContentLoaded",function L(){mn.removeEventListener("DOMContentLoaded",L),Bi=1,Hi.map(function(Z){return Z()})}));var Gi=function(Z,re,ce,ye){var R,q,ie,U=Object.keys(Z),y=U.length,D=void 0!==ye?function(Z,re){return function(ce,ye,U,y){return Z.call(re,ce,ye,U,y)}}(re,ye):re;for(void 0===ce?(R=1,ie=Z[U[0]]):(R=0,ie=ce);R<y;R++)ie=D(ie,Z[q=U[R]],q,Z);return ie};function Ds(L){var Z=function ks(L){for(var Z=[],re=0,ce=L.length;re<ce;){var ye=L.charCodeAt(re++);if(ye>=55296&&ye<=56319&&re<ce){var U=L.charCodeAt(re++);56320==(64512&U)?Z.push(((1023&ye)<<10)+(1023&U)+65536):(Z.push(ye),re--)}else Z.push(ye)}return Z}(L);return 1===Z.length?Z[0].toString(16):null}function xi(L){return Object.keys(L).reduce(function(Z,re){var ce=L[re];return ce.icon?Z[ce.iconName]=ce.icon:Z[re]=ce,Z},{})}function lo(L,Z){var ce=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,ye=void 0!==ce&&ce,U=xi(Z);"function"!=typeof Kr.hooks.addPack||ye?Kr.styles[L]=fe(fe({},Kr.styles[L]||{}),U):Kr.hooks.addPack(L,xi(Z)),"fas"===L&&lo("fa",Z)}var gs,Rr,$s,Ss=Kr.styles,_a=Kr.shims,Qa=(We(gs={},wt,Object.values(kn[wt])),We(gs,Ht,Object.values(kn[Ht])),gs),Ge=null,ze={},ut={},Vt={},Xt={},qn={},Ur=(We(Rr={},wt,Object.keys(Wt[wt])),We(Rr,Ht,Object.keys(Wt[Ht])),Rr);var na=function(){var Z=function(U){return Gi(Ss,function(y,D,R){return y[R]=Gi(D,U,{}),y},{})};ze=Z(function(ye,U,y){return U[3]&&(ye[U[3]]=y),U[2]&&U[2].filter(function(R){return"number"==typeof R}).forEach(function(R){ye[R.toString(16)]=y}),ye}),ut=Z(function(ye,U,y){return ye[y]=y,U[2]&&U[2].filter(function(R){return"string"==typeof R}).forEach(function(R){ye[R]=y}),ye}),qn=Z(function(ye,U,y){var D=U[2];return ye[y]=y,D.forEach(function(R){ye[R]=y}),ye});var re="far"in Ss||ht.autoFetchSvg,ce=Gi(_a,function(ye,U){var y=U[0],D=U[1],R=U[2];return"far"===D&&!re&&(D="fas"),"string"==typeof y&&(ye.names[y]={prefix:D,iconName:R}),"number"==typeof y&&(ye.unicodes[y.toString(16)]={prefix:D,iconName:R}),ye},{names:{},unicodes:{}});Vt=ce.names,Xt=ce.unicodes,Ge=No(ht.styleDefault,{family:ht.familyDefault})};function us(L,Z){return(ze[L]||{})[Z]}function pi(L,Z){return(qn[L]||{})[Z]}function Po(L){return Vt[L]||{prefix:null,iconName:null}}function co(){return Ge}(function Yt(L){an.push(L)})(function(L){Ge=No(L.styleDefault,{family:ht.familyDefault})}),na();var ra=function(){return{prefix:null,iconName:null,rest:[]}};function No(L){var re=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,ce=void 0===re?wt:re;return rn[ce][L]||rn[ce][Wt[ce][L]]||(L in Kr.styles?L:null)||null}var eo=(We($s={},wt,Object.keys(kn[wt])),We($s,Ht,Object.keys(kn[Ht])),$s);function ia(L){var Z,ce=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,ye=void 0!==ce&&ce,U=(We(Z={},wt,"".concat(ht.cssPrefix,"-").concat(wt)),We(Z,Ht,"".concat(ht.cssPrefix,"-").concat(Ht)),Z),y=null,D=wt;(L.includes(U[wt])||L.some(function(q){return eo[wt].includes(q)}))&&(D=wt),(L.includes(U[Ht])||L.some(function(q){return eo[Ht].includes(q)}))&&(D=Ht);var R=L.reduce(function(q,ie){var ve=function Dr(L,Z){var re=Z.split("-"),ce=re[0],ye=re.slice(1).join("-");return ce!==L||""===ye||function Or(L){return~xr.indexOf(L)}(ye)?null:ye}(ht.cssPrefix,ie);if(Ss[ie]?(ie=Qa[D].includes(ie)?nr[D][ie]:ie,y=ie,q.prefix=ie):Ur[D].indexOf(ie)>-1?(y=ie,q.prefix=No(ie,{family:D})):ve?q.iconName=ve:ie!==ht.replacementClass&&ie!==U[wt]&&ie!==U[Ht]&&q.rest.push(ie),!ye&&q.prefix&&q.iconName){var Se="fa"===y?Po(q.iconName):{},Ue=pi(q.prefix,q.iconName);Se.prefix&&(y=null),q.iconName=Se.iconName||Ue||q.iconName,q.prefix=Se.prefix||q.prefix,"far"===q.prefix&&!Ss.far&&Ss.fas&&!ht.autoFetchSvg&&(q.prefix="fas")}return q},ra());return(L.includes("fa-brands")||L.includes("fab"))&&(R.prefix="fab"),(L.includes("fa-duotone")||L.includes("fad"))&&(R.prefix="fad"),!R.prefix&&D===Ht&&(Ss.fass||ht.autoFetchSvg)&&(R.prefix="fass",R.iconName=pi(R.prefix,R.iconName)||R.iconName),("fa"===R.prefix||"fa"===y)&&(R.prefix=co()||"fas"),R}var Mr=function(){function L(){(function Ve(L,Z){if(!(L instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,L),this.definitions={}}return function lt(L,Z,re){Z&&be(L.prototype,Z),re&&be(L,re),Object.defineProperty(L,"prototype",{writable:!1})}(L,[{key:"add",value:function(){for(var re=this,ce=arguments.length,ye=new Array(ce),U=0;U<ce;U++)ye[U]=arguments[U];var y=ye.reduce(this._pullDefinitions,{});Object.keys(y).forEach(function(D){re.definitions[D]=fe(fe({},re.definitions[D]||{}),y[D]),lo(D,y[D]);var R=kn[wt][D];R&&lo(R,y[D]),na()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(re,ce){var ye=ce.prefix&&ce.iconName&&ce.icon?{0:ce}:ce;return Object.keys(ye).map(function(U){var y=ye[U],D=y.prefix,R=y.iconName,q=y.icon,ie=q[2];re[D]||(re[D]={}),ie.length>0&&ie.forEach(function(ve){"string"==typeof ve&&(re[D][ve]=q)}),re[D][R]=q}),re}}]),L}(),wi=[],di={},Cs={},ms=Object.keys(Cs);function Ho(L,Z){for(var re=arguments.length,ce=new Array(re>2?re-2:0),ye=2;ye<re;ye++)ce[ye-2]=arguments[ye];return(di[L]||[]).forEach(function(y){Z=y.apply(null,[Z].concat(ce))}),Z}function ts(L){for(var Z=arguments.length,re=new Array(Z>1?Z-1:0),ce=1;ce<Z;ce++)re[ce-1]=arguments[ce];(di[L]||[]).forEach(function(U){U.apply(null,re)})}function ki(){var L=arguments[0],Z=Array.prototype.slice.call(arguments,1);return Cs[L]?Cs[L].apply(null,Z):void 0}function Ui(L){"fa"===L.prefix&&(L.prefix="fas");var Z=L.iconName,re=L.prefix||co();if(Z)return Z=pi(re,Z)||Z,Js(jr.definitions,re,Z)||Js(Kr.styles,re,Z)}var jr=new Mr,pr={i2svg:function(){var Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ar?(ts("beforeI2svg",Z),ki("pseudoElements2svg",Z),ki("i2svg",Z)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},re=Z.autoReplaceSvgRoot;!1===ht.autoReplaceSvg&&(ht.autoReplaceSvg=!0),ht.observeMutations=!0,function es(L){ar&&(Bi?setTimeout(L,0):Hi.push(L))}(function(){ho({autoReplaceSvgRoot:re}),ts("watch",Z)})}},rr={noAuto:function(){ht.autoReplaceSvg=!1,ht.observeMutations=!1,ts("noAuto")},config:ht,dom:pr,parse:{icon:function(Z){if(null===Z)return null;if("object"===we(Z)&&Z.prefix&&Z.iconName)return{prefix:Z.prefix,iconName:pi(Z.prefix,Z.iconName)||Z.iconName};if(Array.isArray(Z)&&2===Z.length){var re=0===Z[1].indexOf("fa-")?Z[1].slice(3):Z[1],ce=No(Z[0]);return{prefix:ce,iconName:pi(ce,re)||re}}if("string"==typeof Z&&(Z.indexOf("".concat(ht.cssPrefix,"-"))>-1||Z.match(Lr))){var ye=ia(Z.split(" "),{skipLookups:!0});return{prefix:ye.prefix||co(),iconName:pi(ye.prefix,ye.iconName)||ye.iconName}}if("string"==typeof Z){var U=co();return{prefix:U,iconName:pi(U,Z)||Z}}}},library:jr,findIconDefinition:Ui,toHtml:Zs},ho=function(){var re=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,ce=void 0===re?mn:re;(Object.keys(Kr.styles).length>0||ht.autoFetchSvg)&&ar&&ht.autoReplaceSvg&&rr.dom.i2svg({node:ce})};function mi(L,Z){return Object.defineProperty(L,"abstract",{get:Z}),Object.defineProperty(L,"html",{get:function(){return L.abstract.map(function(ce){return Zs(ce)})}}),Object.defineProperty(L,"node",{get:function(){if(ar){var ce=mn.createElement("div");return ce.innerHTML=L.html,ce.children}}}),L}function xs(L){var Z=L.icons,re=Z.main,ce=Z.mask,ye=L.prefix,U=L.iconName,y=L.transform,D=L.symbol,R=L.title,q=L.maskId,ie=L.titleId,ve=L.extra,Se=L.watchable,Ue=void 0!==Se&&Se,et=ce.found?ce:re,sn=et.width,cn=et.height,it="fak"===ye,Dn=[ht.replacementClass,U?"".concat(ht.cssPrefix,"-").concat(U):""].filter(function(pt){return-1===ve.classes.indexOf(pt)}).filter(function(pt){return""!==pt||!!pt}).concat(ve.classes).join(" "),En={children:[],attributes:fe(fe({},ve.attributes),{},{"data-prefix":ye,"data-icon":U,class:Dn,role:ve.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(sn," ").concat(cn)})},$n=it&&!~ve.classes.indexOf("fa-fw")?{width:"".concat(sn/cn*16*.0625,"em")}:{};Ue&&(En.attributes[Un]=""),R&&(En.children.push({tag:"title",attributes:{id:En.attributes["aria-labelledby"]||"title-".concat(ie||Ce())},children:[R]}),delete En.attributes.title);var en=fe(fe({},En),{},{prefix:ye,iconName:U,main:re,mask:ce,maskId:q,transform:y,symbol:D,styles:fe(fe({},$n),ve.styles)}),In=ce.found&&re.found?ki("generateAbstractMask",en)||{children:[],attributes:{}}:ki("generateAbstractIcon",en)||{children:[],attributes:{}},$t=In.attributes;return en.children=In.children,en.attributes=$t,D?function Ii(L){var re=L.iconName,ce=L.children,ye=L.attributes,U=L.symbol,y=!0===U?"".concat(L.prefix,"-").concat(ht.cssPrefix,"-").concat(re):U;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:fe(fe({},ye),{},{id:y}),children:ce}]}]}(en):function _s(L){var Z=L.children,re=L.main,ce=L.mask,ye=L.attributes,U=L.styles,y=L.transform;if(hn(y)&&re.found&&!ce.found){var q={x:re.width/re.height/2,y:.5};ye.style=xn(fe(fe({},U),{},{"transform-origin":"".concat(q.x+y.x/16,"em ").concat(q.y+y.y/16,"em")}))}return[{tag:"svg",attributes:ye,children:Z}]}(en)}function To(L){var Z=L.content,re=L.width,ce=L.height,ye=L.transform,U=L.title,y=L.extra,D=L.watchable,R=void 0!==D&&D,q=fe(fe(fe({},y.attributes),U?{title:U}:{}),{},{class:y.classes.join(" ")});R&&(q[Un]="");var ie=fe({},y.styles);hn(ye)&&(ie.transform=function mr(L){var Z=L.transform,re=L.width,ye=L.height,U=void 0===ye?16:ye,y=L.startCentered,D=void 0!==y&&y,R="";return R+=D&&Je?"translate(".concat(Z.x/16-(void 0===re?16:re)/2,"em, ").concat(Z.y/16-U/2,"em) "):D?"translate(calc(-50% + ".concat(Z.x/16,"em), calc(-50% + ").concat(Z.y/16,"em)) "):"translate(".concat(Z.x/16,"em, ").concat(Z.y/16,"em) "),(R+="scale(".concat(Z.size/16*(Z.flipX?-1:1),", ").concat(Z.size/16*(Z.flipY?-1:1),") "))+"rotate(".concat(Z.rotate,"deg) ")}({transform:ye,startCentered:!0,width:re,height:ce}),ie["-webkit-transform"]=ie.transform);var ve=xn(ie);ve.length>0&&(q.style=ve);var Se=[];return Se.push({tag:"span",attributes:q,children:[Z]}),U&&Se.push({tag:"span",attributes:{class:"sr-only"},children:[U]}),Se}var Gs=Kr.styles;function zo(L){var Z=L[0],re=L[1],U=Ze(L.slice(4),1)[0];return{found:!0,width:Z,height:re,icon:Array.isArray(U)?{tag:"g",attributes:{class:"".concat(ht.cssPrefix,"-").concat(ur.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ht.cssPrefix,"-").concat(ur.SECONDARY),fill:"currentColor",d:U[0]}},{tag:"path",attributes:{class:"".concat(ht.cssPrefix,"-").concat(ur.PRIMARY),fill:"currentColor",d:U[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:U}}}}var to={found:!1,width:512,height:512};function Do(L,Z){var re=Z;return"fa"===Z&&null!==ht.styleDefault&&(Z=co()),new Promise(function(ce,ye){if(ki("missingIconAbstract"),"fa"===re){var y=Po(L)||{};L=y.iconName||L,Z=y.prefix||Z}if(L&&Z&&Gs[Z]&&Gs[Z][L])return ce(zo(Gs[Z][L]));(function ai(L,Z){!Rt&&!ht.showMissingIcons&&L&&console.error('Icon with name "'.concat(L,'" and prefix "').concat(Z,'" is missing.'))})(L,Z),ce(fe(fe({},to),{},{icon:ht.showMissingIcons&&L&&ki("missingIconAbstract")||{}}))})}var Rs=function(){},ji=ht.measurePerformance&&Jn&&Jn.mark&&Jn.measure?Jn:{mark:Rs,measure:Rs},zi='FA "6.4.2"',So=function(Z){ji.mark("".concat(zi," ").concat(Z," ends")),ji.measure("".concat(zi," ").concat(Z),"".concat(zi," ").concat(Z," begins"),"".concat(zi," ").concat(Z," ends"))},Fs={begin:function(Z){return ji.mark("".concat(zi," ").concat(Z," begins")),function(){return So(Z)}},end:So},no=function(){};function Hs(L){return"string"==typeof(L.getAttribute?L.getAttribute(Un):null)}function Ea(L){return mn.createElementNS("http://www.w3.org/2000/svg",L)}function ys(L){return mn.createElement(L)}function ns(L){var re=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,ce=void 0===re?"svg"===L.tag?Ea:ys:re;if("string"==typeof L)return mn.createTextNode(L);var ye=ce(L.tag);return Object.keys(L.attributes||[]).forEach(function(y){ye.setAttribute(y,L.attributes[y])}),(L.children||[]).forEach(function(y){ye.appendChild(ns(y,{ceFn:ce}))}),ye}var fo={replace:function(Z){var re=Z[0];if(re.parentNode)if(Z[1].forEach(function(ye){re.parentNode.insertBefore(ns(ye),re)}),null===re.getAttribute(Un)&&ht.keepOriginalSource){var ce=mn.createComment(function sa(L){var Z=" ".concat(L.outerHTML," ");return"".concat(Z,"Font Awesome fontawesome.com ")}(re));re.parentNode.replaceChild(ce,re)}else re.remove()},nest:function(Z){var re=Z[0],ce=Z[1];if(~Le(re).indexOf(ht.replacementClass))return fo.replace(Z);var ye=new RegExp("".concat(ht.cssPrefix,"-.*"));if(delete ce[0].attributes.id,ce[0].attributes.class){var U=ce[0].attributes.class.split(" ").reduce(function(D,R){return R===ht.replacementClass||R.match(ye)?D.toSvg.push(R):D.toNode.push(R),D},{toNode:[],toSvg:[]});ce[0].attributes.class=U.toSvg.join(" "),0===U.toNode.length?re.removeAttribute("class"):re.setAttribute("class",U.toNode.join(" "))}var y=ce.map(function(D){return Zs(D)}).join("\n");re.setAttribute(Un,""),re.innerHTML=y}};function Wi(L){L()}function wa(L,Z){var re="function"==typeof Z?Z:no;if(0===L.length)re();else{var ce=Wi;ht.mutateApproach===ke&&(ce=Bn.requestAnimationFrame||Wi),ce(function(){var ye=function da(){return!0===ht.autoReplaceSvg?fo.replace:fo[ht.autoReplaceSvg]||fo.replace}(),U=Fs.begin("mutate");L.map(ye),U(),re()})}}var Fi=!1;function $i(){Fi=!0}function rs(){Fi=!1}var ro=null;function Qr(L){if(zn&&ht.observeMutations){var Z=L.treeCallback,re=void 0===Z?no:Z,ce=L.nodeCallback,ye=void 0===ce?no:ce,U=L.pseudoElementsCallback,y=void 0===U?no:U,D=L.observeMutationsRoot,R=void 0===D?mn:D;ro=new zn(function(q){if(!Fi){var ie=co();de(q).forEach(function(ve){if("childList"===ve.type&&ve.addedNodes.length>0&&!Hs(ve.addedNodes[0])&&(ht.searchPseudoElements&&y(ve.target),re(ve.target)),"attributes"===ve.type&&ve.target.parentNode&&ht.searchPseudoElements&&y(ve.target.parentNode),"attributes"===ve.type&&Hs(ve.target)&&~Vi.indexOf(ve.attributeName))if("class"===ve.attributeName&&function Fr(L){var Z=L.getAttribute?L.getAttribute(zr):null,re=L.getAttribute?L.getAttribute(wn):null;return Z&&re}(ve.target)){var Se=ia(Le(ve.target)),et=Se.iconName;ve.target.setAttribute(zr,Se.prefix||ie),et&&ve.target.setAttribute(wn,et)}else(function va(L){return L&&L.classList&&L.classList.contains&&L.classList.contains(ht.replacementClass)})(ve.target)&&ye(ve.target)})}}),ar&&ro.observe(R,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Ca(L){var Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},re=function _i(L){var Z=L.getAttribute("data-prefix"),re=L.getAttribute("data-icon"),ce=void 0!==L.innerText?L.innerText.trim():"",ye=ia(Le(L));return ye.prefix||(ye.prefix=co()),Z&&re&&(ye.prefix=Z,ye.iconName=re),ye.iconName&&ye.prefix||(ye.prefix&&ce.length>0&&(ye.iconName=function As(L,Z){return(ut[L]||{})[Z]}(ye.prefix,L.innerText)||us(ye.prefix,Ds(L.innerText))),!ye.iconName&&ht.autoFetchSvg&&L.firstChild&&L.firstChild.nodeType===Node.TEXT_NODE&&(ye.iconName=L.firstChild.data)),ye}(L),ce=re.iconName,ye=re.prefix,U=re.rest,y=function ja(L){var Z=de(L.attributes).reduce(function(ye,U){return"class"!==ye.name&&"style"!==ye.name&&(ye[U.name]=U.value),ye},{}),re=L.getAttribute("title"),ce=L.getAttribute("data-fa-title-id");return ht.autoA11y&&(re?Z["aria-labelledby"]="".concat(ht.replacementClass,"-title-").concat(ce||Ce()):(Z["aria-hidden"]="true",Z.focusable="false")),Z}(L),D=Ho("parseNodeAttributes",{},L),R=Z.styleParser?function ko(L){var Z=L.getAttribute("style"),re=[];return Z&&(re=Z.split(";").reduce(function(ce,ye){var U=ye.split(":"),y=U[0],D=U.slice(1);return y&&D.length>0&&(ce[y]=D.join(":").trim()),ce},{})),re}(L):[];return fe({iconName:ce,title:L.getAttribute("title"),titleId:L.getAttribute("data-fa-title-id"),prefix:ye,transform:Me,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:U,styles:R,attributes:y}},D)}var Za=Kr.styles;function Wo(L){var Z="nest"===ht.autoReplaceSvg?Ca(L,{styleParser:!1}):Ca(L);return~Z.extra.classes.indexOf(qr)?ki("generateLayersText",L,Z):ki("generateSvgReplacementMutation",L,Z)}var Os=new Set;function ul(L){var Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!ar)return Promise.resolve();var re=mn.documentElement.classList,ce=function(ve){return re.add("".concat(qe,"-").concat(ve))},ye=function(ve){return re.remove("".concat(qe,"-").concat(ve))},U=ht.autoFetchSvg?Os:or.map(function(ie){return"fa-".concat(ie)}).concat(Object.keys(Za));U.includes("fa")||U.push("fa");var y=[".".concat(qr,":not([").concat(Un,"])")].concat(U.map(function(ie){return".".concat(ie,":not([").concat(Un,"])")})).join(", ");if(0===y.length)return Promise.resolve();var D=[];try{D=de(L.querySelectorAll(y))}catch{}if(!(D.length>0))return Promise.resolve();ce("pending"),ye("complete");var R=Fs.begin("onTree"),q=D.reduce(function(ie,ve){try{var Se=Wo(ve);Se&&ie.push(Se)}catch(Ue){Rt||"MissingIcon"===Ue.name&&console.error(Ue)}return ie},[]);return new Promise(function(ie,ve){Promise.all(q).then(function(Se){wa(Se,function(){ce("active"),ce("complete"),ye("pending"),"function"==typeof Z&&Z(),R(),ie()})}).catch(function(Se){R(),ve(Se)})})}function Ga(L){var Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Wo(L).then(function(re){re&&wa([re],Z)})}or.map(function(L){Os.add("fa-".concat(L))}),Object.keys(Wt[wt]).map(Os.add.bind(Os)),Object.keys(Wt[Ht]).map(Os.add.bind(Os)),Os=bt(Os);var zs=function(Z){var re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ce=re.transform,ye=void 0===ce?Me:ce,U=re.symbol,y=void 0!==U&&U,D=re.mask,R=void 0===D?null:D,q=re.maskId,ie=void 0===q?null:q,ve=re.title,Se=void 0===ve?null:ve,Ue=re.titleId,et=void 0===Ue?null:Ue,sn=re.classes,cn=void 0===sn?[]:sn,it=re.attributes,Dn=void 0===it?{}:it,En=re.styles,$n=void 0===En?{}:En;if(Z){var en=Z.prefix,In=Z.iconName,Ri=Z.icon;return mi(fe({type:"icon"},Z),function(){return ts("beforeDOMElementCreation",{iconDefinition:Z,params:re}),ht.autoA11y&&(Se?Dn["aria-labelledby"]="".concat(ht.replacementClass,"-title-").concat(et||Ce()):(Dn["aria-hidden"]="true",Dn.focusable="false")),xs({icons:{main:zo(Ri),mask:R?zo(R.icon):{found:!1,width:null,height:null,icon:{}}},prefix:en,iconName:In,transform:fe(fe({},Me),ye),symbol:y,title:Se,maskId:ie,titleId:et,extra:{attributes:Dn,styles:$n,classes:cn}})})}},po={mixout:function(){return{icon:(L=zs,function(Z){var re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ce=(Z||{}).icon?Z:Ui(Z||{}),ye=re.mask;return ye&&(ye=(ye||{}).icon?ye:Ui(ye||{})),L(ce,fe(fe({},re),{},{mask:ye}))})};var L},hooks:function(){return{mutationObserverCallbacks:function(re){return re.treeCallback=ul,re.nodeCallback=Ga,re}}},provides:function(Z){Z.i2svg=function(re){var ce=re.node,U=re.callback;return ul(void 0===ce?mn:ce,void 0===U?function(){}:U)},Z.generateSvgReplacementMutation=function(re,ce){var ye=ce.iconName,U=ce.title,y=ce.titleId,D=ce.prefix,R=ce.transform,q=ce.symbol,ie=ce.mask,ve=ce.maskId,Se=ce.extra;return new Promise(function(Ue,et){Promise.all([Do(ye,D),ie.iconName?Do(ie.iconName,ie.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(sn){var cn=Ze(sn,2);Ue([re,xs({icons:{main:cn[0],mask:cn[1]},prefix:D,iconName:ye,transform:R,symbol:q,maskId:ve,title:U,titleId:y,extra:Se,watchable:!0})])}).catch(et)})},Z.generateAbstractIcon=function(re){var q,ce=re.children,ye=re.attributes,U=re.main,y=re.transform,R=xn(re.styles);return R.length>0&&(ye.style=R),hn(y)&&(q=ki("generateAbstractTransformGrouping",{main:U,transform:y,containerWidth:U.width,iconWidth:U.width})),ce.push(q||U.icon),{children:ce,attributes:ye}}}},J={mixout:function(){return{layer:function(re){var ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ye=ce.classes,U=void 0===ye?[]:ye;return mi({type:"layer"},function(){ts("beforeDOMElementCreation",{assembler:re,params:ce});var y=[];return re(function(D){Array.isArray(D)?D.map(function(R){y=y.concat(R.abstract)}):y=y.concat(D.abstract)}),[{tag:"span",attributes:{class:["".concat(ht.cssPrefix,"-layers")].concat(bt(U)).join(" ")},children:y}]})}}}},z={mixout:function(){return{counter:function(re){var ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ye=ce.title,U=void 0===ye?null:ye,y=ce.classes,D=void 0===y?[]:y,R=ce.attributes,q=void 0===R?{}:R,ie=ce.styles,ve=void 0===ie?{}:ie;return mi({type:"counter",content:re},function(){return ts("beforeDOMElementCreation",{content:re,params:ce}),function sr(L){var Z=L.content,re=L.title,ce=L.extra,ye=fe(fe(fe({},ce.attributes),re?{title:re}:{}),{},{class:ce.classes.join(" ")}),U=xn(ce.styles);U.length>0&&(ye.style=U);var y=[];return y.push({tag:"span",attributes:ye,children:[Z]}),re&&y.push({tag:"span",attributes:{class:"sr-only"},children:[re]}),y}({content:re.toString(),title:U,extra:{attributes:q,styles:ve,classes:["".concat(ht.cssPrefix,"-layers-counter")].concat(bt(D))}})})}}}},pe={mixout:function(){return{text:function(re){var ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ye=ce.transform,U=void 0===ye?Me:ye,y=ce.title,D=void 0===y?null:y,R=ce.classes,q=void 0===R?[]:R,ie=ce.attributes,ve=void 0===ie?{}:ie,Se=ce.styles,Ue=void 0===Se?{}:Se;return mi({type:"text",content:re},function(){return ts("beforeDOMElementCreation",{content:re,params:ce}),To({content:re,transform:fe(fe({},Me),U),title:D,extra:{attributes:ve,styles:Ue,classes:["".concat(ht.cssPrefix,"-layers-text")].concat(bt(q))}})})}}},provides:function(Z){Z.generateLayersText=function(re,ce){var ye=ce.title,U=ce.transform,y=ce.extra,D=null,R=null;if(Je){var q=parseInt(getComputedStyle(re).fontSize,10),ie=re.getBoundingClientRect();D=ie.width/q,R=ie.height/q}return ht.autoA11y&&!ye&&(y.attributes["aria-hidden"]="true"),Promise.resolve([re,To({content:re.innerHTML,width:D,height:R,transform:U,title:ye,extra:y,watchable:!0})])}}},Q=new RegExp('"',"ug"),De=[1105920,1112319];function Qn(L,Z){var re="".concat(fr).concat(Z.replace(":","-"));return new Promise(function(ce,ye){if(null!==L.getAttribute(re))return ce();var y=de(L.children).filter(function(Ri){return Ri.getAttribute(An)===Z})[0],D=Bn.getComputedStyle(L,Z),R=D.getPropertyValue("font-family").match(cr),q=D.getPropertyValue("font-weight"),ie=D.getPropertyValue("content");if(y&&!R)return L.removeChild(y),ce();if(R&&"none"!==ie&&""!==ie){var ve=D.getPropertyValue("content"),Se=~["Sharp"].indexOf(R[2])?Ht:wt,Ue=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(R[2])?rn[Se][R[2].toLowerCase()]:Vr[Se][q],et=function Zt(L){var Z=L.replace(Q,""),re=function js(L,Z){var ye,re=L.length,ce=L.charCodeAt(Z);return ce>=55296&&ce<=56319&&re>Z+1&&(ye=L.charCodeAt(Z+1))>=56320&&ye<=57343?1024*(ce-55296)+ye-56320+65536:ce}(Z,0),ce=re>=De[0]&&re<=De[1],ye=2===Z.length&&Z[0]===Z[1];return{value:Ds(ye?Z[0]:Z),isSecondary:ce||ye}}(ve),sn=et.value,cn=et.isSecondary,it=R[0].startsWith("FontAwesome"),Dn=us(Ue,sn),En=Dn;if(it){var $n=function ya(L){var Z=Xt[L],re=us("fas",L);return Z||(re?{prefix:"fas",iconName:re}:null)||{prefix:null,iconName:null}}(sn);$n.iconName&&$n.prefix&&(Dn=$n.iconName,Ue=$n.prefix)}if(!Dn||cn||y&&y.getAttribute(zr)===Ue&&y.getAttribute(wn)===En)ce();else{L.setAttribute(re,En),y&&L.removeChild(y);var en=function $a(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Me,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),In=en.extra;In.attributes[An]=Z,Do(Dn,Ue).then(function(Ri){var $t=xs(fe(fe({},en),{},{icons:{main:Ri,mask:ra()},prefix:Ue,iconName:En,extra:In,watchable:!0})),pt=mn.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===Z?L.insertBefore(pt,L.firstChild):L.appendChild(pt),pt.outerHTML=$t.map(function(Kt){return Zs(Kt)}).join("\n"),L.removeAttribute(re),ce()}).catch(ye)}}else ce()})}function is(L){return Promise.all([Qn(L,"::before"),Qn(L,"::after")])}function hs(L){return!(L.parentNode===document.head||~mt.indexOf(L.tagName.toUpperCase())||L.getAttribute(An)||L.parentNode&&"svg"===L.parentNode.tagName)}function vs(L){if(ar)return new Promise(function(Z,re){var ce=de(L.querySelectorAll("*")).filter(hs).map(is),ye=Fs.begin("searchPseudoElements");$i(),Promise.all(ce).then(function(){ye(),rs(),Z()}).catch(function(){ye(),rs(),re()})})}var Ms=!1,io=function(Z){return Z.toLowerCase().split(" ").reduce(function(ce,ye){var U=ye.toLowerCase().split("-"),y=U[0],D=U.slice(1).join("-");if(y&&"h"===D)return ce.flipX=!0,ce;if(y&&"v"===D)return ce.flipY=!0,ce;if(D=parseFloat(D),isNaN(D))return ce;switch(y){case"grow":ce.size=ce.size+D;break;case"shrink":ce.size=ce.size-D;break;case"left":ce.x=ce.x-D;break;case"right":ce.x=ce.x+D;break;case"up":ce.y=ce.y-D;break;case"down":ce.y=ce.y+D;break;case"rotate":ce.rotate=ce.rotate+D}return ce},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},ha={x:0,y:0,width:"100%",height:"100%"};function ws(L){return L.attributes&&(L.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(L.attributes.fill="black"),L}!function uo(L,Z){var re=Z.mixoutsTo;wi=L,di={},Object.keys(Cs).forEach(function(ce){-1===ms.indexOf(ce)&&delete Cs[ce]}),wi.forEach(function(ce){var ye=ce.mixout?ce.mixout():{};if(Object.keys(ye).forEach(function(y){"function"==typeof ye[y]&&(re[y]=ye[y]),"object"===we(ye[y])&&Object.keys(ye[y]).forEach(function(D){re[y]||(re[y]={}),re[y][D]=ye[y][D]})}),ce.hooks){var U=ce.hooks();Object.keys(U).forEach(function(y){di[y]||(di[y]=[]),di[y].push(U[y])})}ce.provides&&ce.provides(Cs)})}([Xi,po,J,z,pe,{hooks:function(){return{mutationObserverCallbacks:function(re){return re.pseudoElementsCallback=vs,re}}},provides:function(Z){Z.pseudoElements2svg=function(re){var ce=re.node;ht.searchPseudoElements&&vs(void 0===ce?mn:ce)}}},{mixout:function(){return{dom:{unwatch:function(){$i(),Ms=!0}}}},hooks:function(){return{bootstrap:function(){Qr(Ho("mutationObserverCallbacks",{}))},noAuto:function(){!function ds(){ro&&ro.disconnect()}()},watch:function(re){var ce=re.observeMutationsRoot;Ms?rs():Qr(Ho("mutationObserverCallbacks",{observeMutationsRoot:ce}))}}}},{mixout:function(){return{parse:{transform:function(re){return io(re)}}}},hooks:function(){return{parseNodeAttributes:function(re,ce){var ye=ce.getAttribute("data-fa-transform");return ye&&(re.transform=io(ye)),re}}},provides:function(Z){Z.generateAbstractTransformGrouping=function(re){var ce=re.main,ye=re.transform,y=re.iconWidth,D={transform:"translate(".concat(re.containerWidth/2," 256)")},R="translate(".concat(32*ye.x,", ").concat(32*ye.y,") "),q="scale(".concat(ye.size/16*(ye.flipX?-1:1),", ").concat(ye.size/16*(ye.flipY?-1:1),") "),ie="rotate(".concat(ye.rotate," 0 0)"),Ue={outer:D,inner:{transform:"".concat(R," ").concat(q," ").concat(ie)},path:{transform:"translate(".concat(y/2*-1," -256)")}};return{tag:"g",attributes:fe({},Ue.outer),children:[{tag:"g",attributes:fe({},Ue.inner),children:[{tag:ce.icon.tag,children:ce.icon.children,attributes:fe(fe({},ce.icon.attributes),Ue.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(re,ce){var ye=ce.getAttribute("data-fa-mask"),U=ye?ia(ye.split(" ").map(function(y){return y.trim()})):ra();return U.prefix||(U.prefix=co()),re.mask=U,re.maskId=ce.getAttribute("data-fa-mask-id"),re}}},provides:function(Z){Z.generateAbstractMask=function(re){var L,ce=re.children,ye=re.attributes,U=re.main,y=re.mask,D=re.maskId,ie=U.icon,Se=y.icon,Ue=function kr(L){var Z=L.transform,ce=L.iconWidth,ye={transform:"translate(".concat(L.containerWidth/2," 256)")},U="translate(".concat(32*Z.x,", ").concat(32*Z.y,") "),y="scale(".concat(Z.size/16*(Z.flipX?-1:1),", ").concat(Z.size/16*(Z.flipY?-1:1),") "),D="rotate(".concat(Z.rotate," 0 0)");return{outer:ye,inner:{transform:"".concat(U," ").concat(y," ").concat(D)},path:{transform:"translate(".concat(ce/2*-1," -256)")}}}({transform:re.transform,containerWidth:y.width,iconWidth:U.width}),et={tag:"rect",attributes:fe(fe({},ha),{},{fill:"white"})},sn=ie.children?{children:ie.children.map(ws)}:{},cn={tag:"g",attributes:fe({},Ue.inner),children:[ws(fe({tag:ie.tag,attributes:fe(fe({},ie.attributes),Ue.path)},sn))]},it={tag:"g",attributes:fe({},Ue.outer),children:[cn]},Dn="mask-".concat(D||Ce()),En="clip-".concat(D||Ce()),$n={tag:"mask",attributes:fe(fe({},ha),{},{id:Dn,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[et,it]},en={tag:"defs",children:[{tag:"clipPath",attributes:{id:En},children:(L=Se,"g"===L.tag?L.children:[L])},$n]};return ce.push(en,{tag:"rect",attributes:fe({fill:"currentColor","clip-path":"url(#".concat(En,")"),mask:"url(#".concat(Dn,")")},ha)}),{children:ce,attributes:ye}}}},{provides:function(Z){var re=!1;Bn.matchMedia&&(re=Bn.matchMedia("(prefers-reduced-motion: reduce)").matches),Z.missingIconAbstract=function(){var ce=[],ye={fill:"currentColor"},U={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};ce.push({tag:"path",attributes:fe(fe({},ye),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var y=fe(fe({},U),{},{attributeName:"opacity"}),D={tag:"circle",attributes:fe(fe({},ye),{},{cx:"256",cy:"364",r:"28"}),children:[]};return re||D.children.push({tag:"animate",attributes:fe(fe({},U),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:fe(fe({},y),{},{values:"1;0;1;1;0;1;"})}),ce.push(D),ce.push({tag:"path",attributes:fe(fe({},ye),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:re?[]:[{tag:"animate",attributes:fe(fe({},y),{},{values:"1;0;0;0;0;1;"})}]}),re||ce.push({tag:"path",attributes:fe(fe({},ye),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:fe(fe({},y),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:ce}}}},{hooks:function(){return{parseNodeAttributes:function(re,ce){var ye=ce.getAttribute("data-fa-symbol");return re.symbol=null!==ye&&(""===ye||ye),re}}}}],{mixoutsTo:rr});var Ls=rr.parse,Yo=rr.icon,li=W(6593);const Ia=["*"],Oa=L=>{const Z={[`fa-${L.animation}`]:null!=L.animation&&!L.animation.startsWith("spin"),"fa-spin":"spin"===L.animation||"spin-reverse"===L.animation,"fa-spin-pulse":"spin-pulse"===L.animation||"spin-pulse-reverse"===L.animation,"fa-spin-reverse":"spin-reverse"===L.animation||"spin-pulse-reverse"===L.animation,"fa-pulse":"spin-pulse"===L.animation||"spin-pulse-reverse"===L.animation,"fa-fw":L.fixedWidth,"fa-border":L.border,"fa-inverse":L.inverse,"fa-layers-counter":L.counter,"fa-flip-horizontal":"horizontal"===L.flip||"both"===L.flip,"fa-flip-vertical":"vertical"===L.flip||"both"===L.flip,[`fa-${L.size}`]:null!==L.size,[`fa-rotate-${L.rotate}`]:null!==L.rotate,[`fa-pull-${L.pull}`]:null!==L.pull,[`fa-stack-${L.stackItemSize}`]:null!=L.stackItemSize};return Object.keys(Z).map(re=>Z[re]?re:null).filter(re=>re)};let pl=(()=>{var L;class Z{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(L=Z).\u0275fac=function(ce){return new(ce||L)},L.\u0275prov=d.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),Z})(),Xa=(()=>{var L;class Z{constructor(){this.definitions={}}addIcons(...ce){for(const ye of ce){ye.prefix in this.definitions||(this.definitions[ye.prefix]={}),this.definitions[ye.prefix][ye.iconName]=ye;for(const U of ye.icon[2])"string"==typeof U&&(this.definitions[ye.prefix][U]=ye)}}addIconPacks(...ce){for(const ye of ce){const U=Object.keys(ye).map(y=>ye[y]);this.addIcons(...U)}}getIconDefinition(ce,ye){return ce in this.definitions&&ye in this.definitions[ce]?this.definitions[ce][ye]:null}}return(L=Z).\u0275fac=function(ce){return new(ce||L)},L.\u0275prov=d.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),Z})(),Co=(()=>{var L;class Z{constructor(){this.stackItemSize="1x"}ngOnChanges(ce){if("size"in ce)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(L=Z).\u0275fac=function(ce){return new(ce||L)},L.\u0275dir=d.lG2({type:L,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[d.TTD]}),Z})(),xo=(()=>{var L;class Z{constructor(ce,ye){this.renderer=ce,this.elementRef=ye}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(ce){"size"in ce&&(null!=ce.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${ce.size.currentValue}`),null!=ce.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${ce.size.previousValue}`))}}return(L=Z).\u0275fac=function(ce){return new(ce||L)(d.Y36(d.Qsj),d.Y36(d.SBq))},L.\u0275cmp=d.Xpm({type:L,selectors:[["fa-stack"]],inputs:{size:"size"},features:[d.TTD],ngContentSelectors:Ia,decls:1,vars:0,template:function(ce,ye){1&ce&&(d.F$t(),d.Hsn(0))},encapsulation:2}),Z})(),Ps=(()=>{var L;class Z{set spin(ce){this.animation=ce?"spin":void 0}set pulse(ce){this.animation=ce?"spin-pulse":void 0}constructor(ce,ye,U,y,D){this.sanitizer=ce,this.config=ye,this.iconLibrary=U,this.stackItem=y,this.classes=[],null!=D&&null==y&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(ce){if(null!=this.icon||null!=this.config.fallbackIcon){if(ce){const U=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=U){const y=this.buildParams();this.renderIcon(U,y)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(ce){const ye=((L,Z)=>(L=>void 0!==L.prefix&&void 0!==L.iconName)(L)?L:"string"==typeof L?{prefix:Z,iconName:L}:{prefix:L[0],iconName:L[1]})(ce,this.config.defaultPrefix);return"icon"in ye?ye:this.iconLibrary.getIconDefinition(ye.prefix,ye.iconName)??((L=>{throw new Error(`Could not find icon with iconName=${L.iconName} and prefix=${L.prefix} in the icon library.`)})(ye),null)}buildParams(){const ce={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},ye="string"==typeof this.transform?Ls.transform(this.transform):this.transform;return{title:this.title,transform:ye,classes:[...Oa(ce),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(ce,ye){const U=Yo(ce,ye);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(U.html.join("\n"))}}return(L=Z).\u0275fac=function(ce){return new(ce||L)(d.Y36(li.H7),d.Y36(pl),d.Y36(Xa),d.Y36(Co,8),d.Y36(xo,8))},L.\u0275cmp=d.Xpm({type:L,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(ce,ye){2&ce&&(d.Ikx("innerHTML",ye.renderedIconHTML,d.oJD),d.uIk("title",ye.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[d.TTD],decls:0,vars:0,template:function(ce,ye){},encapsulation:2}),Z})(),me=(()=>{var L;class Z{}return(L=Z).\u0275fac=function(ce){return new(ce||L)},L.\u0275mod=d.oAB({type:L}),L.\u0275inj=d.cJS({}),Z})()},6697:(bn,gt,W)=>{W.d(gt,{_D:()=>lr,lQ:()=>Sc,jt:()=>mc,TH:()=>vu,Vi:()=>Zc,iD:()=>Jc,IJ:()=>tf});var d=W(5879),oe=W(5592),fe=W(6232),we=W(2096),Pe=W(8645),Ve=W(4829),be=W(1631),lt=W(4266),We=W(4674),_e=W(7400);const Oe=["addListener","removeListener"],Ze=["addEventListener","removeEventListener"],bt=["on","off"];function Be(p,b,w,f){if((0,We.m)(w)&&(f=w,w=void 0),f)return Be(p,b,w).pipe((0,_e.Z)(f));const[E,V]=function Lt(p){return(0,We.m)(p.addEventListener)&&(0,We.m)(p.removeEventListener)}(p)?Ze.map(te=>Ne=>p[te](b,Ne,w)):function st(p){return(0,We.m)(p.addListener)&&(0,We.m)(p.removeListener)}(p)?Oe.map(jt(p,b)):function tn(p){return(0,We.m)(p.on)&&(0,We.m)(p.off)}(p)?bt.map(jt(p,b)):[];if(!E&&(0,lt.z)(p))return(0,be.z)(te=>Be(te,b,w))((0,Ve.Xf)(p));if(!E)throw new TypeError("Invalid event target");return new oe.y(te=>{const Ne=(...je)=>te.next(1<je.length?je:je[0]);return E(Ne),()=>V(Ne)})}function jt(p,b){return w=>f=>p[w](b,f)}var On=W(6321),vn=W(671);function Tt(p=0,b,w=On.P){let f=-1;return null!=b&&((0,vn.K)(b)?w=b:f=b),new oe.y(E=>{let V=function He(p){return p instanceof Date&&!isNaN(p)}(p)?+p-w.now():p;V<0&&(V=0);let te=0;return w.schedule(function(){E.closed||(E.next(te++),0<=f?this.schedule(void 0,f):E.complete())},V)})}const{isArray:ot}=Array;function at(p){return 1===p.length&&ot(p[0])?p[0]:p}var Dt=W(8251);function Re(...p){return 1===(p=at(p)).length?(0,Ve.Xf)(p[0]):new oe.y(function Nt(p){return b=>{let w=[];for(let f=0;w&&!b.closed&&f<p.length;f++)w.push((0,Ve.Xf)(p[f]).subscribe((0,Dt.x)(b,E=>{if(w){for(let V=0;V<w.length;V++)V!==f&&w[V].unsubscribe();w=null}b.next(E)})))}}(p))}W(3019);var Mn=W(9940);function Bn(...p){const b=(0,Mn.jO)(p),w=at(p);return w.length?new oe.y(f=>{let E=w.map(()=>[]),V=w.map(()=>!1);f.add(()=>{E=V=null});for(let te=0;!f.closed&&te<w.length;te++)(0,Ve.Xf)(w[te]).subscribe((0,Dt.x)(f,Ne=>{if(E[te].push(Ne),E.every(je=>je.length)){const je=E.map(vt=>vt.shift());f.next(b?b(...je):je),E.some((vt,kt)=>!vt.length&&V[kt])&&f.complete()}},()=>{V[te]=!0,!E[te].length&&f.complete()}));return()=>{E=V=null}}):fe.E}var mn=W(5211),Jn=W(9773),dr=W(2181),ar=W(8180),Je=W(9397),dt=W(7398),tt=W(9360),$e=W(2737),ft=W(2420);function xt(...p){const b=(0,Mn.jO)(p);return(0,tt.e)((w,f)=>{const E=p.length,V=new Array(E);let te=p.map(()=>!1),Ne=!1;for(let je=0;je<E;je++)(0,Ve.Xf)(p[je]).subscribe((0,Dt.x)(f,vt=>{V[je]=vt,!Ne&&!te[je]&&(te[je]=!0,(Ne=te.every($e.y))&&(te=null))},ft.Z));w.subscribe((0,Dt.x)(f,je=>{if(Ne){const vt=[je,...V];f.next(b?b(...vt):vt)}}))})}var Ut=W(975);function Hn(p,b){return b?w=>(0,mn.z)(b.pipe((0,ar.q)(1),function Gt(){return(0,tt.e)((p,b)=>{p.subscribe((0,Dt.x)(b,ft.Z))})}()),w.pipe(Hn(p))):(0,be.z)((w,f)=>(0,Ve.Xf)(p(w,f)).pipe((0,ar.q)(1),(0,Ut.h)(w)))}var Un=W(4664);W(7921),W(3997);var wn=W(6814),ke=(W(95),{left:"right",right:"left",bottom:"top",top:"bottom"});function mt(p){return p.replace(/left|right|bottom|top/g,function(b){return ke[b]})}function Rt(p){return p.split("-")[0]}var wt={start:"end",end:"start"};function Ht(p){return p.replace(/start|end/g,function(b){return wt[b]})}var or="top",ln="bottom",Wt="right",rn="left",kn="auto",nr=[or,ln,Wt,rn],Lr="start",qr="end",Vr="viewport",Cr="popper",Vi=nr.reduce(function(p,b){return p.concat([b+"-"+Lr,b+"-"+qr])},[]),ur=[].concat(nr,[kn]).reduce(function(p,b){return p.concat([b,b+"-"+Lr,b+"-"+qr])},[]),an=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Yt(p){if(null==p)return window;if("[object Window]"!==p.toString()){var b=p.ownerDocument;return b&&b.defaultView||window}return p}function er(p){return p instanceof Yt(p).Element||p instanceof Element}function Me(p){return p instanceof Yt(p).HTMLElement||p instanceof HTMLElement}function ue(p){return!(typeof ShadowRoot>"u")&&(p instanceof Yt(p).ShadowRoot||p instanceof ShadowRoot)}function se(p){return((er(p)?p.ownerDocument:p.document)||window.document).documentElement}var Ce=Math.max,de=Math.min,Le=Math.round;function Ot(){var p=navigator.userAgentData;return null!=p&&p.brands&&Array.isArray(p.brands)?p.brands.map(function(b){return b.brand+"/"+b.version}).join(" "):navigator.userAgent}function qt(){return!/^((?!chrome|android).)*safari/i.test(Ot())}function xn(p,b,w){void 0===b&&(b=!1),void 0===w&&(w=!1);var f=p.getBoundingClientRect(),E=1,V=1;b&&Me(p)&&(E=p.offsetWidth>0&&Le(f.width)/p.offsetWidth||1,V=p.offsetHeight>0&&Le(f.height)/p.offsetHeight||1);var Ne=(er(p)?Yt(p):window).visualViewport,je=!qt()&&w,vt=(f.left+(je&&Ne?Ne.offsetLeft:0))/E,kt=(f.top+(je&&Ne?Ne.offsetTop:0))/V,dn=f.width/E,Vn=f.height/V;return{width:dn,height:Vn,top:kt,right:vt+dn,bottom:kt+Vn,left:vt,x:vt,y:kt}}function hn(p){var b=Yt(p);return{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function kr(p){return xn(se(p)).left+hn(p).scrollLeft}function Br(p){return Yt(p).getComputedStyle(p)}function Ci(p){return p?(p.nodeName||"").toLowerCase():null}function Ji(p){return"html"===Ci(p)?p:p.assignedSlot||p.parentNode||(ue(p)?p.host:null)||se(p)}function Xi(p){var b=Br(p);return/auto|scroll|overlay|hidden/.test(b.overflow+b.overflowY+b.overflowX)}function Jr(p){return["html","body","#document"].indexOf(Ci(p))>=0?p.ownerDocument.body:Me(p)&&Xi(p)?p:Jr(Ji(p))}function Kr(p,b){var w;void 0===b&&(b=[]);var f=Jr(p),E=f===(null==(w=p.ownerDocument)?void 0:w.body),V=Yt(f),te=E?[V].concat(V.visualViewport||[],Xi(f)?f:[]):f,Ne=b.concat(te);return E?Ne:Ne.concat(Kr(Ji(te)))}function Hi(p){return["table","td","th"].indexOf(Ci(p))>=0}function _r(p){return Me(p)&&"fixed"!==Br(p).position?p.offsetParent:null}function es(p){for(var b=Yt(p),w=_r(p);w&&Hi(w)&&"static"===Br(w).position;)w=_r(w);return w&&("html"===Ci(w)||"body"===Ci(w)&&"static"===Br(w).position)?b:w||function Bi(p){var b=/firefox/i.test(Ot());if(/Trident/i.test(Ot())&&Me(p)&&"fixed"===Br(p).position)return null;var E=Ji(p);for(ue(E)&&(E=E.host);Me(E)&&["html","body"].indexOf(Ci(E))<0;){var V=Br(E);if("none"!==V.transform||"none"!==V.perspective||"paint"===V.contain||-1!==["transform","perspective"].indexOf(V.willChange)||b&&"filter"===V.willChange||b&&V.filter&&"none"!==V.filter)return E;E=E.parentNode}return null}(p)||b}function Zs(p,b){var w=b.getRootNode&&b.getRootNode();if(p.contains(b))return!0;if(w&&ue(w)){var f=b;do{if(f&&p.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function Js(p){return Object.assign({},p,{left:p.x,top:p.y,right:p.x+p.width,bottom:p.y+p.height})}function Gi(p,b,w){return b===Vr?Js(function mr(p,b){var w=Yt(p),f=se(p),E=w.visualViewport,V=f.clientWidth,te=f.clientHeight,Ne=0,je=0;if(E){V=E.width,te=E.height;var vt=qt();(vt||!vt&&"fixed"===b)&&(Ne=E.offsetLeft,je=E.offsetTop)}return{width:V,height:te,x:Ne+kr(p),y:je}}(p,w)):er(b)?function oi(p,b){var w=xn(p,!1,"fixed"===b);return w.top=w.top+p.clientTop,w.left=w.left+p.clientLeft,w.bottom=w.top+p.clientHeight,w.right=w.left+p.clientWidth,w.width=p.clientWidth,w.height=p.clientHeight,w.x=w.left,w.y=w.top,w}(b,w):Js(function Ei(p){var b,w=se(p),f=hn(p),E=null==(b=p.ownerDocument)?void 0:b.body,V=Ce(w.scrollWidth,w.clientWidth,E?E.scrollWidth:0,E?E.clientWidth:0),te=Ce(w.scrollHeight,w.clientHeight,E?E.scrollHeight:0,E?E.clientHeight:0),Ne=-f.scrollLeft+kr(p),je=-f.scrollTop;return"rtl"===Br(E||w).direction&&(Ne+=Ce(w.clientWidth,E?E.clientWidth:0)-V),{width:V,height:te,x:Ne,y:je}}(se(p)))}function js(p){return p.split("-")[1]}function xi(p){return["top","bottom"].indexOf(p)>=0?"x":"y"}function lo(p){var je,b=p.reference,w=p.element,f=p.placement,E=f?Rt(f):null,V=f?js(f):null,te=b.x+b.width/2-w.width/2,Ne=b.y+b.height/2-w.height/2;switch(E){case or:je={x:te,y:b.y-w.height};break;case ln:je={x:te,y:b.y+b.height};break;case Wt:je={x:b.x+b.width,y:Ne};break;case rn:je={x:b.x-w.width,y:Ne};break;default:je={x:b.x,y:b.y}}var vt=E?xi(E):null;if(null!=vt){var kt="y"===vt?"height":"width";switch(V){case Lr:je[vt]=je[vt]-(b[kt]/2-w[kt]/2);break;case qr:je[vt]=je[vt]+(b[kt]/2-w[kt]/2)}}return je}function gs(p){return Object.assign({},{top:0,right:0,bottom:0,left:0},p)}function Rr(p,b){return b.reduce(function(w,f){return w[f]=p,w},{})}function $s(p,b){void 0===b&&(b={});var f=b.placement,E=void 0===f?p.placement:f,V=b.strategy,te=void 0===V?p.strategy:V,Ne=b.boundary,je=void 0===Ne?"clippingParents":Ne,vt=b.rootBoundary,kt=void 0===vt?Vr:vt,dn=b.elementContext,Vn=void 0===dn?Cr:dn,pn=b.altBoundary,Pr=void 0!==pn&&pn,ei=b.padding,br=void 0===ei?0:ei,Mi=gs("number"!=typeof br?br:Rr(br,nr)),vo=p.rects.popper,Yr=p.elements[Pr?Vn===Cr?"reference":Cr:Vn],Di=function Ds(p,b,w,f){var E="clippingParents"===b?function ks(p){var b=Kr(Ji(p)),f=["absolute","fixed"].indexOf(Br(p).position)>=0&&Me(p)?es(p):p;return er(f)?b.filter(function(E){return er(E)&&Zs(E,f)&&"body"!==Ci(E)}):[]}(p):[].concat(b),V=[].concat(E,[w]),Ne=V.reduce(function(je,vt){var kt=Gi(p,vt,f);return je.top=Ce(kt.top,je.top),je.right=de(kt.right,je.right),je.bottom=de(kt.bottom,je.bottom),je.left=Ce(kt.left,je.left),je},Gi(p,V[0],f));return Ne.width=Ne.right-Ne.left,Ne.height=Ne.bottom-Ne.top,Ne.x=Ne.left,Ne.y=Ne.top,Ne}(er(Yr)?Yr:Yr.contextElement||se(p.elements.popper),je,kt,te),Pi=xn(p.elements.reference),Eo=lo({reference:Pi,element:vo,strategy:"absolute",placement:E}),Ys=Js(Object.assign({},vo,Eo)),Fa=Vn===Cr?Ys:Pi,ao={top:Di.top-Fa.top+Mi.top,bottom:Fa.bottom-Di.bottom+Mi.bottom,left:Di.left-Fa.left+Mi.left,right:Fa.right-Di.right+Mi.right},ea=p.modifiersData.offset;if(Vn===Cr&&ea){var _c=ea[E];Object.keys(ao).forEach(function(Al){var ku=[Wt,ln].indexOf(Al)>=0?1:-1,Fu=[or,ln].indexOf(Al)>=0?"y":"x";ao[Al]+=_c[Fu]*ku})}return ao}const Ge={name:"flip",enabled:!0,phase:"main",fn:function Qa(p){var b=p.state,w=p.options,f=p.name;if(!b.modifiersData[f]._skip){for(var E=w.mainAxis,V=void 0===E||E,te=w.altAxis,Ne=void 0===te||te,je=w.fallbackPlacements,vt=w.padding,kt=w.boundary,dn=w.rootBoundary,Vn=w.altBoundary,pn=w.flipVariations,Pr=void 0===pn||pn,ei=w.allowedAutoPlacements,br=b.options.placement,Mi=Rt(br),vo=je||(Mi!==br&&Pr?function _a(p){if(Rt(p)===kn)return[];var b=mt(p);return[Ht(p),b,Ht(b)]}(br):[mt(br)]),Yr=[br].concat(vo).reduce(function(Wa,rl){return Wa.concat(Rt(rl)===kn?function Ss(p,b){void 0===b&&(b={});var E=b.boundary,V=b.rootBoundary,te=b.padding,Ne=b.flipVariations,je=b.allowedAutoPlacements,vt=void 0===je?ur:je,kt=js(b.placement),dn=kt?Ne?Vi:Vi.filter(function(Pr){return js(Pr)===kt}):nr,Vn=dn.filter(function(Pr){return vt.indexOf(Pr)>=0});0===Vn.length&&(Vn=dn);var pn=Vn.reduce(function(Pr,ei){return Pr[ei]=$s(p,{placement:ei,boundary:E,rootBoundary:V,padding:te})[Rt(ei)],Pr},{});return Object.keys(pn).sort(function(Pr,ei){return pn[Pr]-pn[ei]})}(b,{placement:rl,boundary:kt,rootBoundary:dn,padding:vt,flipVariations:Pr,allowedAutoPlacements:ei}):rl)},[]),Di=b.rects.reference,Pi=b.rects.popper,Eo=new Map,Ys=!0,Fa=Yr[0],ao=0;ao<Yr.length;ao++){var ea=Yr[ao],_c=Rt(ea),Al=js(ea)===Lr,ku=[or,ln].indexOf(_c)>=0,Fu=ku?"width":"height",Ql=$s(b,{placement:ea,boundary:kt,rootBoundary:dn,altBoundary:Vn,padding:vt}),Zl=ku?Al?Wt:rn:Al?ln:or;Di[Fu]>Pi[Fu]&&(Zl=mt(Zl));var nf=mt(Zl),Lu=[];if(V&&Lu.push(Ql[_c]<=0),Ne&&Lu.push(Ql[Zl]<=0,Ql[nf]<=0),Lu.every(function(Wa){return Wa})){Fa=ea,Ys=!1;break}Eo.set(ea,Lu)}if(Ys)for(var Pg=function(rl){var Md=Yr.find(function(ch){var ta=Eo.get(ch);if(ta)return ta.slice(0,rl).every(function(Ng){return Ng})});if(Md)return Fa=Md,"break"},lh=Pr?3:1;lh>0&&"break"!==Pg(lh);lh--);b.placement!==Fa&&(b.modifiersData[f]._skip=!0,b.placement=Fa,b.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ut(p,b,w){return Ce(p,de(b,w))}function Xt(p){var b=xn(p),w=p.offsetWidth,f=p.offsetHeight;return Math.abs(b.width-w)<=1&&(w=b.width),Math.abs(b.height-f)<=1&&(f=b.height),{x:p.offsetLeft,y:p.offsetTop,width:w,height:f}}const Ur={name:"preventOverflow",enabled:!0,phase:"main",fn:function qn(p){var b=p.state,w=p.options,f=p.name,E=w.mainAxis,V=void 0===E||E,te=w.altAxis,Ne=void 0!==te&&te,Vn=w.tether,pn=void 0===Vn||Vn,Pr=w.tetherOffset,ei=void 0===Pr?0:Pr,br=$s(b,{boundary:w.boundary,rootBoundary:w.rootBoundary,padding:w.padding,altBoundary:w.altBoundary}),Mi=Rt(b.placement),bi=js(b.placement),vo=!bi,Yr=xi(Mi),Di=function ze(p){return"x"===p?"y":"x"}(Yr),Pi=b.modifiersData.popperOffsets,Eo=b.rects.reference,Ys=b.rects.popper,Fa="function"==typeof ei?ei(Object.assign({},b.rects,{placement:b.placement})):ei,ao="number"==typeof Fa?{mainAxis:Fa,altAxis:Fa}:Object.assign({mainAxis:0,altAxis:0},Fa),ea=b.modifiersData.offset?b.modifiersData.offset[b.placement]:null,_c={x:0,y:0};if(Pi){if(V){var Al,ku="y"===Yr?or:rn,Fu="y"===Yr?ln:Wt,Ql="y"===Yr?"height":"width",Zl=Pi[Yr],nf=Zl+br[ku],Lu=Zl-br[Fu],Od=pn?-Ys[Ql]/2:0,Pg=bi===Lr?Eo[Ql]:Ys[Ql],lh=bi===Lr?-Ys[Ql]:-Eo[Ql],Lc=b.elements.arrow,Wa=pn&&Lc?Xt(Lc):{width:0,height:0},rl=b.modifiersData["arrow#persistent"]?b.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Md=rl[ku],ch=rl[Fu],ta=ut(0,Eo[Ql],Wa[Ql]),Ng=vo?Eo[Ql]/2-Od-ta-Md-ao.mainAxis:Pg-ta-Md-ao.mainAxis,kg=vo?-Eo[Ql]/2+Od+ta+ch+ao.mainAxis:lh+ta+ch+ao.mainAxis,rf=b.elements.arrow&&es(b.elements.arrow),hp=rf?"y"===Yr?rf.clientTop||0:rf.clientLeft||0:0,eu=null!=(Al=ea?.[Yr])?Al:0,V0=Zl+kg-eu,Vu=ut(pn?de(nf,Zl+Ng-eu-hp):nf,Zl,pn?Ce(Lu,V0):Lu);Pi[Yr]=Vu,_c[Yr]=Vu-Zl}if(Ne){var N_,Jl=Pi[Di],dh="y"===Di?"height":"width",af=Jl+br["x"===Yr?or:rn],fp=Jl-br["x"===Yr?ln:Wt],lf=-1!==[or,rn].indexOf(Mi),Fg=null!=(N_=ea?.[Di])?N_:0,id=lf?af:Jl-Eo[dh]-Ys[dh]-Fg+ao.altAxis,hh=lf?Jl+Eo[dh]+Ys[dh]-Fg-ao.altAxis:fp,F_=pn&&lf?function Vt(p,b,w){var f=ut(p,b,w);return f>w?w:f}(id,Jl,hh):ut(pn?id:af,Jl,pn?hh:fp);Pi[Di]=F_,_c[Di]=F_-Jl}b.modifiersData[f]=_c}},requiresIfExists:["offset"]},us={name:"arrow",enabled:!0,phase:"main",fn:function Dr(p){var b,w=p.state,f=p.name,E=p.options,V=w.elements.arrow,te=w.modifiersData.popperOffsets,Ne=Rt(w.placement),je=xi(Ne),kt=[rn,Wt].indexOf(Ne)>=0?"height":"width";if(V&&te){var dn=function(b,w){return gs("number"!=typeof(b="function"==typeof b?b(Object.assign({},w.rects,{placement:w.placement})):b)?b:Rr(b,nr))}(E.padding,w),Vn=Xt(V),pn="y"===je?or:rn,Pr="y"===je?ln:Wt,ei=w.rects.reference[kt]+w.rects.reference[je]-te[je]-w.rects.popper[kt],br=te[je]-w.rects.reference[je],Mi=es(V),bi=Mi?"y"===je?Mi.clientHeight||0:Mi.clientWidth||0:0,Pi=bi/2-Vn[kt]/2+(ei/2-br/2),Eo=ut(dn[pn],Pi,bi-Vn[kt]-dn[Pr]);w.modifiersData[f]=((b={})[je]=Eo,b.centerOffset=Eo-Pi,b)}},effect:function na(p){var b=p.state,f=p.options.element,E=void 0===f?"[data-popper-arrow]":f;null!=E&&("string"==typeof E&&!(E=b.elements.popper.querySelector(E))||Zs(b.elements.popper,E)&&(b.elements.arrow=E))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ya(p,b,w){void 0===w&&(w=!1);var f=Me(b),E=Me(b)&&function Po(p){var b=p.getBoundingClientRect(),w=Le(b.width)/p.offsetWidth||1,f=Le(b.height)/p.offsetHeight||1;return 1!==w||1!==f}(b),V=se(b),te=xn(p,E,w),Ne={scrollLeft:0,scrollTop:0},je={x:0,y:0};return(f||!f&&!w)&&(("body"!==Ci(b)||Xi(V))&&(Ne=function pi(p){return p!==Yt(p)&&Me(p)?function As(p){return{scrollLeft:p.scrollLeft,scrollTop:p.scrollTop}}(p):hn(p)}(b)),Me(b)?((je=xn(b,!0)).x+=b.clientLeft,je.y+=b.clientTop):V&&(je.x=kr(V))),{x:te.left+Ne.scrollLeft-je.x,y:te.top+Ne.scrollTop-je.y,width:te.width,height:te.height}}function co(p){var b=new Map,w=new Set,f=[];function E(V){w.add(V.name),[].concat(V.requires||[],V.requiresIfExists||[]).forEach(function(Ne){if(!w.has(Ne)){var je=b.get(Ne);je&&E(je)}}),f.push(V)}return p.forEach(function(V){b.set(V.name,V)}),p.forEach(function(V){w.has(V.name)||E(V)}),f}function No(p){var b;return function(){return b||(b=new Promise(function(w){Promise.resolve().then(function(){b=void 0,w(p())})})),b}}var ia={placement:"bottom",modifiers:[],strategy:"absolute"};function Mr(){for(var p=arguments.length,b=new Array(p),w=0;w<p;w++)b[w]=arguments[w];return!b.some(function(f){return!(f&&"function"==typeof f.getBoundingClientRect)})}function wi(p){void 0===p&&(p={});var w=p.defaultModifiers,f=void 0===w?[]:w,E=p.defaultOptions,V=void 0===E?ia:E;return function(Ne,je,vt){void 0===vt&&(vt=V);var kt={placement:"bottom",orderedModifiers:[],options:Object.assign({},ia,V),modifiersData:{},elements:{reference:Ne,popper:je},attributes:{},styles:{}},dn=[],Vn=!1,pn={state:kt,setOptions:function(Mi){var bi="function"==typeof Mi?Mi(kt.options):Mi;ei(),kt.options=Object.assign({},V,kt.options,bi),kt.scrollParents={reference:er(Ne)?Kr(Ne):Ne.contextElement?Kr(Ne.contextElement):[],popper:Kr(je)};var vo=function ra(p){var b=co(p);return an.reduce(function(w,f){return w.concat(b.filter(function(E){return E.phase===f}))},[])}(function eo(p){var b=p.reduce(function(w,f){var E=w[f.name];return w[f.name]=E?Object.assign({},E,f,{options:Object.assign({},E.options,f.options),data:Object.assign({},E.data,f.data)}):f,w},{});return Object.keys(b).map(function(w){return b[w]})}([].concat(f,kt.options.modifiers)));return kt.orderedModifiers=vo.filter(function(Yr){return Yr.enabled}),function Pr(){kt.orderedModifiers.forEach(function(br){var bi=br.options,Yr=br.effect;if("function"==typeof Yr){var Di=Yr({state:kt,name:br.name,instance:pn,options:void 0===bi?{}:bi});dn.push(Di||function(){})}})}(),pn.update()},forceUpdate:function(){if(!Vn){var Mi=kt.elements,bi=Mi.reference,vo=Mi.popper;if(Mr(bi,vo)){kt.rects={reference:ya(bi,es(vo),"fixed"===kt.options.strategy),popper:Xt(vo)},kt.reset=!1,kt.placement=kt.options.placement,kt.orderedModifiers.forEach(function(ao){return kt.modifiersData[ao.name]=Object.assign({},ao.data)});for(var Yr=0;Yr<kt.orderedModifiers.length;Yr++)if(!0!==kt.reset){var Di=kt.orderedModifiers[Yr],Pi=Di.fn,Eo=Di.options;"function"==typeof Pi&&(kt=Pi({state:kt,options:void 0===Eo?{}:Eo,name:Di.name,instance:pn})||kt)}else kt.reset=!1,Yr=-1}}},update:No(function(){return new Promise(function(br){pn.forceUpdate(),br(kt)})}),destroy:function(){ei(),Vn=!0}};if(!Mr(Ne,je))return pn;function ei(){dn.forEach(function(br){return br()}),dn=[]}return pn.setOptions(vt).then(function(br){!Vn&&vt.onFirstUpdate&&vt.onFirstUpdate(br)}),pn}}var Cs={passive:!0},ki={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jr(p){var b,w=p.popper,f=p.popperRect,E=p.placement,V=p.variation,te=p.offsets,Ne=p.position,je=p.gpuAcceleration,vt=p.adaptive,kt=p.roundOffsets,dn=p.isFixed,Vn=te.x,pn=void 0===Vn?0:Vn,Pr=te.y,ei=void 0===Pr?0:Pr,br="function"==typeof kt?kt({x:pn,y:ei}):{x:pn,y:ei};pn=br.x,ei=br.y;var Mi=te.hasOwnProperty("x"),bi=te.hasOwnProperty("y"),vo=rn,Yr=or,Di=window;if(vt){var Pi=es(w),Eo="clientHeight",Ys="clientWidth";Pi===Yt(w)&&"static"!==Br(Pi=se(w)).position&&"absolute"===Ne&&(Eo="scrollHeight",Ys="scrollWidth"),(E===or||(E===rn||E===Wt)&&V===qr)&&(Yr=ln,ei-=(dn&&Pi===Di&&Di.visualViewport?Di.visualViewport.height:Pi[Eo])-f.height,ei*=je?1:-1),E!==rn&&(E!==or&&E!==ln||V!==qr)||(vo=Wt,pn-=(dn&&Pi===Di&&Di.visualViewport?Di.visualViewport.width:Pi[Ys])-f.width,pn*=je?1:-1)}var Al,ea=Object.assign({position:Ne},vt&&ki),_c=!0===kt?function Ui(p,b){var f=p.y,E=b.devicePixelRatio||1;return{x:Le(p.x*E)/E||0,y:Le(f*E)/E||0}}({x:pn,y:ei},Yt(w)):{x:pn,y:ei};return pn=_c.x,ei=_c.y,Object.assign({},ea,je?((Al={})[Yr]=bi?"0":"",Al[vo]=Mi?"0":"",Al.transform=(Di.devicePixelRatio||1)<=1?"translate("+pn+"px, "+ei+"px)":"translate3d("+pn+"px, "+ei+"px, 0)",Al):((b={})[Yr]=bi?ei+"px":"",b[vo]=Mi?pn+"px":"",b.transform="",b))}var _s=wi({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function ms(p){var b=p.state,w=p.instance,f=p.options,E=f.scroll,V=void 0===E||E,te=f.resize,Ne=void 0===te||te,je=Yt(b.elements.popper),vt=[].concat(b.scrollParents.reference,b.scrollParents.popper);return V&&vt.forEach(function(kt){kt.addEventListener("scroll",w.update,Cs)}),Ne&&je.addEventListener("resize",w.update,Cs),function(){V&&vt.forEach(function(kt){kt.removeEventListener("scroll",w.update,Cs)}),Ne&&je.removeEventListener("resize",w.update,Cs)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Ho(p){var b=p.state;b.modifiersData[p.name]=lo({reference:b.rects.reference,element:b.rects.popper,strategy:"absolute",placement:b.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function _n(p){var b=p.state,w=p.options,f=w.gpuAcceleration,E=void 0===f||f,V=w.adaptive,te=void 0===V||V,Ne=w.roundOffsets,je=void 0===Ne||Ne,vt={placement:Rt(b.placement),variation:js(b.placement),popper:b.elements.popper,popperRect:b.rects.popper,gpuAcceleration:E,isFixed:"fixed"===b.options.strategy};null!=b.modifiersData.popperOffsets&&(b.styles.popper=Object.assign({},b.styles.popper,jr(Object.assign({},vt,{offsets:b.modifiersData.popperOffsets,position:b.options.strategy,adaptive:te,roundOffsets:je})))),null!=b.modifiersData.arrow&&(b.styles.arrow=Object.assign({},b.styles.arrow,jr(Object.assign({},vt,{offsets:b.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:je})))),b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-placement":b.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function gi(p){var b=p.state;Object.keys(b.elements).forEach(function(w){var f=b.styles[w]||{},E=b.attributes[w]||{},V=b.elements[w];!Me(V)||!Ci(V)||(Object.assign(V.style,f),Object.keys(E).forEach(function(te){var Ne=E[te];!1===Ne?V.removeAttribute(te):V.setAttribute(te,!0===Ne?"":Ne)}))})},effect:function rr(p){var b=p.state,w={popper:{position:b.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(b.elements.popper.style,w.popper),b.styles=w,b.elements.arrow&&Object.assign(b.elements.arrow.style,w.arrow),function(){Object.keys(b.elements).forEach(function(f){var E=b.elements[f],V=b.attributes[f]||{},Ne=Object.keys(b.styles.hasOwnProperty(f)?b.styles[f]:w[f]).reduce(function(je,vt){return je[vt]="",je},{});!Me(E)||!Ci(E)||(Object.assign(E.style,Ne),Object.keys(V).forEach(function(je){E.removeAttribute(je)}))})}},requires:["computeStyles"]}]});const To={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function xs(p){var b=p.state,f=p.name,E=p.options.offset,V=void 0===E?[0,0]:E,te=ur.reduce(function(kt,dn){return kt[dn]=function Ii(p,b,w){var f=Rt(p),E=[rn,or].indexOf(f)>=0?-1:1,V="function"==typeof w?w(Object.assign({},b,{placement:p})):w,te=V[0],Ne=V[1];return te=te||0,Ne=(Ne||0)*E,[rn,Wt].indexOf(f)>=0?{x:Ne,y:te}:{x:te,y:Ne}}(dn,b.rects,V),kt},{}),Ne=te[b.placement],vt=Ne.y;null!=b.modifiersData.popperOffsets&&(b.modifiersData.popperOffsets.x+=Ne.x,b.modifiersData.popperOffsets.y+=vt),b.modifiersData[f]=te}},zi=["*"],J=["dialog"];function Se(p){return"string"==typeof p}function sn(p){return null!=p}function en(p){return(p||document.body).getBoundingClientRect()}function $t(p=document){const b=p?.activeElement;return b?b.shadowRoot?$t(b.shadowRoot):b:null}const Kt={animation:!0,transitionTimerDelayMs:5},yi=()=>{},{transitionTimerDelayMs:Ns}=Kt,fa=new Map,Li=(p,b,w,f)=>{let E=f.context||{};const V=fa.get(b);if(V)switch(f.runningTransition){case"continue":return fe.E;case"stop":p.run(()=>V.transition$.complete()),E=Object.assign(V.context,E),fa.delete(b)}const te=w(b,f.animation,E)||yi;if(!f.animation||"none"===window.getComputedStyle(b).transitionProperty)return p.run(()=>te()),(0,we.of)(void 0).pipe(function In(p){return b=>new oe.y(w=>b.subscribe({next:te=>p.run(()=>w.next(te)),error:te=>p.run(()=>w.error(te)),complete:()=>p.run(()=>w.complete())}))}(p));const Ne=new Pe.x,je=new Pe.x,vt=Ne.pipe(function zn(...p){return b=>(0,mn.z)(b,(0,we.of)(...p))}(!0));fa.set(b,{transition$:Ne,complete:()=>{je.next(),je.complete()},context:E});const kt=function pt(p){const{transitionDelay:b,transitionDuration:w}=window.getComputedStyle(p);return 1e3*(parseFloat(b)+parseFloat(w))}(b);return p.runOutsideAngular(()=>{const dn=Be(b,"transitionend").pipe((0,Jn.R)(vt),(0,dr.h)(({target:pn})=>pn===b));Re(Tt(kt+Ns).pipe((0,Jn.R)(vt)),dn,je).pipe((0,Jn.R)(vt)).subscribe(()=>{fa.delete(b),p.run(()=>{te(),Ne.next(),Ne.complete()})})}),Ne.asObservable()},Ma=(p,b,w)=>{let{direction:f,maxSize:E,dimension:V}=w;const{classList:te}=p;function Ne(){te.add("collapse"),"show"===f?te.add("show"):te.remove("show")}if(b)return E||(E=function Ws(p,b){if(typeof navigator>"u")return"0px";const{classList:w}=p,f=w.contains("show");f||w.add("show"),p.style[b]="";const E=p.getBoundingClientRect()[b]+"px";return f||w.remove("show"),E}(p,V),w.maxSize=E,p.style[V]="show"!==f?E:"0px",te.remove("collapse"),te.remove("collapsing"),te.remove("show"),en(p),te.add("collapsing")),p.style[V]="show"===f?E:"0px",()=>{Ne(),te.remove("collapsing"),p.style[V]=""};Ne()};let Jo=(()=>{var p;class b{constructor(){this.animation=Kt.animation}}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),b})(),Vo=(()=>{var p;class b{constructor(f){this._ngbConfig=f,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(f){this._animation=f}}return(p=b).\u0275fac=function(f){return new(f||p)(d.LFG(Jo))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),b})(),lr=(()=>{var p;class b{set collapsed(f){this._isCollapsed!==f&&(this._isCollapsed=f,this._afterInit&&this._runTransitionWithEvents(f,this.animation))}constructor(f,E,V){this._element=f,this._zone=V,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new d.vpe,this.shown=new d.vpe,this.hidden=new d.vpe,this.animation=E.animation,this.horizontal=E.horizontal}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(f=this._isCollapsed){this.collapsed=!f,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(f,E){return Li(this._zone,this._element.nativeElement,Ma,{animation:E,runningTransition:"stop",context:{direction:f?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(f,E){this._runTransition(f,E).subscribe(()=>{f?this.hidden.emit():this.shown.emit()})}}return(p=b).\u0275fac=function(f){return new(f||p)(d.Y36(d.SBq),d.Y36(Vo),d.Y36(d.R0b))},p.\u0275dir=d.lG2({type:p,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(f,E){2&f&&d.ekj("collapse-horizontal",E.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),b})(),oa=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),Cu=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),_l=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),Sc=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})();var ss=function(p){return p[p.Tab=9]="Tab",p[p.Enter=13]="Enter",p[p.Escape=27]="Escape",p[p.Space=32]="Space",p[p.PageUp=33]="PageUp",p[p.PageDown=34]="PageDown",p[p.End=35]="End",p[p.Home=36]="Home",p[p.ArrowLeft=37]="ArrowLeft",p[p.ArrowUp=38]="ArrowUp",p[p.ArrowRight=39]="ArrowRight",p[p.ArrowDown=40]="ArrowDown",p}(ss||{});const Yu=(p,b)=>!!b&&b.some(w=>w.contains(p)),dc=(p,b)=>!b||null!=function $n(p,b){return!b||typeof p.closest>"u"?null:p.closest(b)}(p,b),Yd=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Ac(p,b,w,f,E,V,te,Ne){w&&p.runOutsideAngular((p=>Yd?()=>setTimeout(()=>p(),100):p)(()=>{const vt=Be(b,"keydown").pipe((0,Jn.R)(E),(0,dr.h)(Vn=>Vn.which===ss.Escape),(0,Je.b)(Vn=>Vn.preventDefault())),kt=Be(b,"mousedown").pipe((0,dt.U)(Vn=>{const pn=Vn.target;return 2!==Vn.button&&!Yu(pn,te)&&("inside"===w?Yu(pn,V)&&dc(pn,Ne):"outside"===w?!Yu(pn,V):dc(pn,Ne)||!Yu(pn,V))}),(0,Jn.R)(E)),dn=Be(b,"mouseup").pipe(xt(kt),(0,dr.h)(([Vn,pn])=>pn),function Fn(p,b=On.z){const w=Tt(p,b);return Hn(()=>w)}(0),(0,Jn.R)(E));Re([vt.pipe((0,dt.U)(Vn=>0)),dn.pipe((0,dt.U)(Vn=>1))]).subscribe(Vn=>p.run(()=>f(Vn)))}))}const oo=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function os(p){const b=Array.from(p.querySelectorAll(oo)).filter(w=>-1!==w.tabIndex);return[b[0],b[b.length-1]]}let Cc=(()=>{var p;class b{constructor(f){this._element=f.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return(p=b).\u0275fac=function(f){return new(f||p)(d.LFG(wn.K0))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),b})();const Xo=/\s+/,Fh=/  +/gi,Lh={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Vh=/^left/,Uo=/^right/,Ks=/^start/,Na=/^end/;function Rc({placement:p,baseClass:b},w){let f=Array.isArray(p)?p:p.split(Xo),V=f.findIndex(vt=>"auto"===vt);V>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(vt){null==f.find(kt=>-1!==kt.search("^"+vt))&&f.splice(V++,1,vt)});const te=f.map(vt=>function Oo(p,b){const[w,f]=Lh[p];return b&&f||w}(vt,w.isRTL()));return{placement:te.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!b,phase:"write",fn({state:vt}){const kt=new RegExp(b+"(-[a-z]+)*","gi"),dn=vt.elements.popper,Vn=vt.placement;let pn=dn.className;pn=pn.replace(kt,""),pn+=` ${function xc(p,b){let[w,f]=b.split("-");const E=w.replace(Vh,"start").replace(Uo,"end");let V=[E];if(f){let te=f;("left"===w||"right"===w)&&(te=te.replace(Ks,"top").replace(Na,"bottom")),V.push(`${E}-${te}`)}return p&&(V=V.map(te=>`${p}-${te}`)),V.join(" ")}(b,Vn)}`,pn=pn.trim().replace(Fh," "),dn.className=pn}},Ge,Ur,us,{enabled:!0,name:"flip",options:{fallbackPlacements:te}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Vl(p){return p}new Date(1882,10,12),new Date(2174,10,25);let ci=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),ga=(()=>{var p;class b{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=f=>f}}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),b})(),vu=(()=>{var p;class b{set disabled(f){this._disabled=""===f||!0===f,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}constructor(f,E){this.elementRef=f,this._renderer=E,this._disabled=!1}}return(p=b).\u0275fac=function(f){return new(f||p)(d.Y36(d.SBq),d.Y36(d.Qsj))},p.\u0275dir=d.lG2({type:p,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(f,E){2&f&&(d.Ikx("tabIndex",E.disabled?-1:0),d.ekj("disabled",E.disabled))},inputs:{disabled:"disabled"},standalone:!0}),b})(),Zc=(()=>{var p;class b{constructor(f,E){this.dropdown=f,this.placement="bottom",this.isOpen=!1,this.nativeElement=E.nativeElement}}return(p=b).\u0275fac=function(f){return new(f||p)(d.Y36((0,d.Gpc)(()=>mc)),d.Y36(d.SBq))},p.\u0275dir=d.lG2({type:p,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(f,E,V){if(1&f&&d.Suo(V,vu,4),2&f){let te;d.iGM(te=d.CRH())&&(E.menuItems=te)}},hostVars:4,hostBindings:function(f,E){1&f&&d.NdJ("keydown.ArrowUp",function(te){return E.dropdown.onKeyDown(te)})("keydown.ArrowDown",function(te){return E.dropdown.onKeyDown(te)})("keydown.Home",function(te){return E.dropdown.onKeyDown(te)})("keydown.End",function(te){return E.dropdown.onKeyDown(te)})("keydown.Enter",function(te){return E.dropdown.onKeyDown(te)})("keydown.Space",function(te){return E.dropdown.onKeyDown(te)})("keydown.Tab",function(te){return E.dropdown.onKeyDown(te)})("keydown.Shift.Tab",function(te){return E.dropdown.onKeyDown(te)}),2&f&&d.ekj("dropdown-menu",!0)("show",E.dropdown.isOpen())},standalone:!0}),b})(),Pc=(()=>{var p;class b{constructor(f,E){this.dropdown=f,this.nativeElement=E.nativeElement}}return(p=b).\u0275fac=function(f){return new(f||p)(d.Y36((0,d.Gpc)(()=>mc)),d.Y36(d.SBq))},p.\u0275dir=d.lG2({type:p,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(f,E){2&f&&d.uIk("aria-expanded",E.dropdown.isOpen())},standalone:!0}),b})(),Jc=(()=>{var p;class b extends Pc{constructor(f,E){super(f,E)}}return(p=b).\u0275fac=function(f){return new(f||p)(d.Y36((0,d.Gpc)(()=>mc)),d.Y36(d.SBq))},p.\u0275dir=d.lG2({type:p,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(f,E){1&f&&d.NdJ("click",function(){return E.dropdown.toggle()})("keydown.ArrowUp",function(te){return E.dropdown.onKeyDown(te)})("keydown.ArrowDown",function(te){return E.dropdown.onKeyDown(te)})("keydown.Home",function(te){return E.dropdown.onKeyDown(te)})("keydown.End",function(te){return E.dropdown.onKeyDown(te)})("keydown.Tab",function(te){return E.dropdown.onKeyDown(te)})("keydown.Shift.Tab",function(te){return E.dropdown.onKeyDown(te)}),2&f&&d.uIk("aria-expanded",E.dropdown.isOpen())},standalone:!0,features:[d._Bn([{provide:Pc,useExisting:(0,d.Gpc)(()=>p)}]),d.qOj]}),b})(),mc=(()=>{var p;class b{constructor(f,E,V,te,Ne,je){this._changeDetector=f,this._document=V,this._ngZone=te,this._elementRef=Ne,this._renderer=je,this._destroyCloseHandlers$=new Pe.x,this._bodyContainer=null,this._open=!1,this.openChange=new d.vpe,this.placement=E.placement,this.popperOptions=E.popperOptions,this.container=E.container,this.autoClose=E.autoClose,this._positioning=function Wc(){const p=(0,d.f3M)(Cc);let b=null;return{createPopper(w){if(!b){let E=(w.updatePopperOptions||Vl)(Rc(w,p));b=_s(w.hostElement,w.targetElement,E)}},update(){b&&b.update()},setOptions(w){if(b){let E=(w.updatePopperOptions||Vl)(Rc(w,p));b.setOptions(E)}},destroy(){b&&(b.destroy(),b=null)}}}()}ngOnInit(){this.display||(this.display=this._elementRef.nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,ar.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(f){if(f.container&&this._open&&this._applyContainer(this.container),f.placement&&!f.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),f.dropdownClass){const{currentValue:E,previousValue:V}=f.dropdownClass;this._applyCustomDropdownClass(E,V)}f.autoClose&&this._open&&(this.autoClose=f.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:f=>this.popperOptions(function el(p){return b=>(b.modifiers.push(To,{name:"offset",options:{offset:()=>p}}),b)}([0,2])(f))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Ac(this._ngZone,this._document,this.autoClose,f=>{this.close(),0===f&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(f){const E=f.which,V=this._getMenuElements();let te=-1,Ne=null;const je=this._isEventFromToggle(f);if(!je&&V.length&&V.forEach((vt,kt)=>{vt.contains(f.target)&&(Ne=vt),vt===$t(this._document)&&(te=kt)}),E!==ss.Space&&E!==ss.Enter){if(E!==ss.Tab){if(je||Ne){if(this.open(),V.length){switch(E){case ss.ArrowDown:te=Math.min(te+1,V.length-1);break;case ss.ArrowUp:if(this._isDropup()&&-1===te){te=V.length-1;break}te=Math.max(te-1,0);break;case ss.Home:te=0;break;case ss.End:te=V.length-1}V[te].focus()}f.preventDefault()}}else if(f.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===f.target)return void("body"!==this.container||f.shiftKey?f.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const vt=this._menu.nativeElement.querySelectorAll(oo);f.shiftKey&&f.target===vt[0]?(this._anchor.nativeElement.focus(),f.preventDefault()):!f.shiftKey&&f.target===vt[vt.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Be(f.target,"focusout").pipe((0,ar.q)(1)).subscribe(({relatedTarget:vt})=>{this._elementRef.nativeElement.contains(vt)||this.close()})}}else Ne&&(!0===this.autoClose||"inside"===this.autoClose)&&Be(Ne,"click").pipe((0,ar.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(f){return this._anchor.nativeElement.contains(f.target)}_getMenuElements(){const f=this._menu;return null==f?[]:f.menuItems.filter(E=>!E.disabled).map(E=>E.elementRef.nativeElement)}_positionMenu(){const f=this._menu;this.isOpen()&&f&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(f){return Array.isArray(f)?f[0]:f.split(" ")[0]}_resetContainer(){const f=this._renderer;this._menu&&f.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(f.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(f=null){if(this._resetContainer(),"body"===f){const E=this._renderer,V=this._menu.nativeElement,te=this._bodyContainer=this._bodyContainer||E.createElement("div");E.setStyle(te,"position","absolute"),E.setStyle(V,"position","static"),E.setStyle(te,"z-index","1055"),E.appendChild(te,V),E.appendChild(this._document.body,te)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(f,E){const V="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;V&&(E&&this._renderer.removeClass(V,E),f&&this._renderer.addClass(V,f))}_applyPlacementClasses(f){const E=this._menu;if(E){f||(f=this._getFirstPlacement(this.placement));const V=this._renderer,te=this._elementRef.nativeElement;V.removeClass(te,"dropup"),V.removeClass(te,"dropdown");const{nativeElement:Ne}=E;"static"===this.display?(E.placement=null,V.setAttribute(Ne,"data-bs-popper","static")):(E.placement=f,V.removeAttribute(Ne,"data-bs-popper"));const je=-1!==f.search("^top")?"dropup":"dropdown";V.addClass(te,je);const vt=this._bodyContainer;vt&&(V.removeClass(vt,"dropup"),V.removeClass(vt,"dropdown"),V.addClass(vt,je))}}}return(p=b).\u0275fac=function(f){return new(f||p)(d.Y36(d.sBO),d.Y36(ga),d.Y36(wn.K0),d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(d.Qsj))},p.\u0275dir=d.lG2({type:p,selectors:[["","ngbDropdown",""]],contentQueries:function(f,E,V){if(1&f&&(d.Suo(V,Zc,5),d.Suo(V,Pc,5)),2&f){let te;d.iGM(te=d.CRH())&&(E._menu=te.first),d.iGM(te=d.CRH())&&(E._anchor=te.first)}},hostVars:2,hostBindings:function(f,E){2&f&&d.ekj("show",E.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[d.TTD]}),b})(),Nc=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})();class Xc{constructor(b,w,f){this.nodes=b,this.viewRef=w,this.componentRef=f}}let Xf=(()=>{var p;class b{constructor(f,E){this._el=f,this._zone=E}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ar.q)(1)).subscribe(()=>{Li(this._zone,this._el.nativeElement,(f,E)=>{E&&en(f),f.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Li(this._zone,this._el.nativeElement,({classList:f})=>f.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return(p=b).\u0275fac=function(f){return new(f||p)(d.Y36(d.SBq),d.Y36(d.R0b))},p.\u0275cmp=d.Xpm({type:p,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(f,E){2&f&&(d.Tol("modal-backdrop"+(E.backdropClass?" "+E.backdropClass:"")),d.ekj("show",!E.animation)("fade",E.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[d.jDz],decls:0,vars:0,template:function(f,E){},encapsulation:2}),b})();class Xu{update(b){}close(b){}dismiss(b){}}const Jd=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],kc=["animation","backdropClass"];class Hh{_applyWindowOptions(b,w){Jd.forEach(f=>{sn(w[f])&&(b[f]=w[f])})}_applyBackdropOptions(b,w){kc.forEach(f=>{sn(w[f])&&(b[f]=w[f])})}update(b){this._applyWindowOptions(this._windowCmptRef.instance,b),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,b)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Jn.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Jn.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(b,w,f,E){this._windowCmptRef=b,this._contentRef=w,this._backdropCmptRef=f,this._beforeDismiss=E,this._closed=new Pe.x,this._dismissed=new Pe.x,this._hidden=new Pe.x,b.instance.dismissEvent.subscribe(V=>{this.dismiss(V)}),this.result=new Promise((V,te)=>{this._resolve=V,this._reject=te}),this.result.then(null,()=>{})}close(b){this._windowCmptRef&&(this._closed.next(b),this._resolve(b),this._removeModalElements())}_dismiss(b){this._dismissed.next(b),this._reject(b),this._removeModalElements()}dismiss(b){if(this._windowCmptRef)if(this._beforeDismiss){const w=this._beforeDismiss();!function cn(p){return p&&p.then}(w)?!1!==w&&this._dismiss(b):w.then(f=>{!1!==f&&this._dismiss(b)},()=>{})}else this._dismiss(b)}_removeModalElements(){const b=this._windowCmptRef.instance.hide(),w=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,we.of)(void 0);b.subscribe(()=>{const{nativeElement:f}=this._windowCmptRef.location;f.parentNode.removeChild(f),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),w.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:f}=this._backdropCmptRef.location;f.parentNode.removeChild(f),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Bn(b,w).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ed=function(p){return p[p.BACKDROP_CLICK=0]="BACKDROP_CLICK",p[p.ESC=1]="ESC",p}(ed||{});let b0=(()=>{var p;class b{constructor(f,E,V){this._document=f,this._elRef=E,this._zone=V,this._closed$=new Pe.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new d.vpe,this.shown=new Pe.x,this.hidden=new Pe.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Se(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(f){this.dismissEvent.emit(f)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ar.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:f}=this._elRef,E={animation:this.animation,runningTransition:"stop"},Ne=Bn(Li(this._zone,f,()=>f.classList.remove("show"),E),Li(this._zone,this._dialogEl.nativeElement,()=>{},E));return Ne.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Ne}_show(){const f={animation:this.animation,runningTransition:"continue"};Bn(Li(this._zone,this._elRef.nativeElement,(te,Ne)=>{Ne&&en(te),te.classList.add("show")},f),Li(this._zone,this._dialogEl.nativeElement,()=>{},f)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:f}=this._elRef;this._zone.runOutsideAngular(()=>{Be(f,"keydown").pipe((0,Jn.R)(this._closed$),(0,dr.h)(V=>V.which===ss.Escape)).subscribe(V=>{this.keyboard?requestAnimationFrame(()=>{V.defaultPrevented||this._zone.run(()=>this.dismiss(ed.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let E=!1;Be(this._dialogEl.nativeElement,"mousedown").pipe((0,Jn.R)(this._closed$),(0,Je.b)(()=>E=!1),(0,Un.w)(()=>Be(f,"mouseup").pipe((0,Jn.R)(this._closed$),(0,ar.q)(1))),(0,dr.h)(({target:V})=>f===V)).subscribe(()=>{E=!0}),Be(f,"click").pipe((0,Jn.R)(this._closed$)).subscribe(({target:V})=>{f===V&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!E&&this._zone.run(()=>this.dismiss(ed.BACKDROP_CLICK))),E=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:f}=this._elRef;if(!f.contains(document.activeElement)){const E=f.querySelector("[ngbAutofocus]"),V=os(f)[0];(E||V||f).focus()}}_restoreFocus(){const f=this._document.body,E=this._elWithFocus;let V;V=E&&E.focus&&f.contains(E)?E:f,this._zone.runOutsideAngular(()=>{setTimeout(()=>V.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Li(this._zone,this._elRef.nativeElement,({classList:f})=>(f.add("modal-static"),()=>f.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return(p=b).\u0275fac=function(f){return new(f||p)(d.Y36(wn.K0),d.Y36(d.SBq),d.Y36(d.R0b))},p.\u0275cmp=d.Xpm({type:p,selectors:[["ngb-modal-window"]],viewQuery:function(f,E){if(1&f&&d.Gf(J,7),2&f){let V;d.iGM(V=d.CRH())&&(E._dialogEl=V.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(f,E){2&f&&(d.uIk("aria-modal",!0)("aria-labelledby",E.ariaLabelledBy)("aria-describedby",E.ariaDescribedBy),d.Tol("modal d-block"+(E.windowClass?" "+E.windowClass:"")),d.ekj("fade",E.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[d.jDz],ngContentSelectors:zi,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(f,E){1&f&&(d.F$t(),d.TgZ(0,"div",0,1)(2,"div",2),d.Hsn(3),d.qZA()()),2&f&&d.Tol("modal-dialog"+(E.size?" modal-"+E.size:"")+(E.centered?" modal-dialog-centered":"")+E.fullscreenClass+(E.scrollable?" modal-dialog-scrollable":"")+(E.modalDialogClass?" "+E.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),b})(),h_=(()=>{var p;class b{constructor(f){this._document=f}hide(){const f=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),E=this._document.body,V=E.style,{overflow:te,paddingRight:Ne}=V;if(f>0){const je=parseFloat(window.getComputedStyle(E).paddingRight);V.paddingRight=`${je+f}px`}return V.overflow="hidden",()=>{f>0&&(V.paddingRight=Ne),V.overflow=te}}}return(p=b).\u0275fac=function(f){return new(f||p)(d.LFG(wn.K0))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),b})(),vi=(()=>{var p;class b{constructor(f,E,V,te,Ne,je,vt){this._applicationRef=f,this._injector=E,this._environmentInjector=V,this._document=te,this._scrollBar=Ne,this._rendererFactory=je,this._ngZone=vt,this._activeWindowCmptHasChanged=new Pe.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new d.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const kt=this._windowCmpts[this._windowCmpts.length-1];((p,b,w,f=!1)=>{p.runOutsideAngular(()=>{const E=Be(b,"focusin").pipe((0,Jn.R)(w),(0,dt.U)(V=>V.target));Be(b,"keydown").pipe((0,Jn.R)(w),(0,dr.h)(V=>V.which===ss.Tab),xt(E)).subscribe(([V,te])=>{const[Ne,je]=os(b);(te===Ne||te===b)&&V.shiftKey&&(je.focus(),V.preventDefault()),te===je&&!V.shiftKey&&(Ne.focus(),V.preventDefault())}),f&&Be(b,"click").pipe((0,Jn.R)(w),xt(E),(0,dt.U)(V=>V[1])).subscribe(V=>V.focus())})})(this._ngZone,kt.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(kt.location.nativeElement)}})}_restoreScrollBar(){const f=this._scrollBarRestoreFn;f&&(this._scrollBarRestoreFn=null,f())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(f,E,V){const te=V.container instanceof HTMLElement?V.container:sn(V.container)?this._document.querySelector(V.container):this._document.body,Ne=this._rendererFactory.createRenderer(null,null);if(!te)throw new Error(`The specified modal container "${V.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const je=new Xu,vt=(f=V.injector||f).get(d.lqb,null)||this._environmentInjector,kt=this._getContentRef(f,vt,E,je,V);let dn=!1!==V.backdrop?this._attachBackdrop(te):void 0,Vn=this._attachWindowComponent(te,kt.nodes),pn=new Hh(Vn,kt,dn,V.beforeDismiss);return this._registerModalRef(pn),this._registerWindowCmpt(Vn),pn.hidden.pipe((0,ar.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Ne.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),je.close=Pr=>{pn.close(Pr)},je.dismiss=Pr=>{pn.dismiss(Pr)},je.update=Pr=>{pn.update(Pr)},pn.update(V),1===this._modalRefs.length&&Ne.addClass(this._document.body,"modal-open"),dn&&dn.instance&&dn.changeDetectorRef.detectChanges(),Vn.changeDetectorRef.detectChanges(),pn}get activeInstances(){return this._activeInstances}dismissAll(f){this._modalRefs.forEach(E=>E.dismiss(f))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(f){let E=(0,d.LMc)(Xf,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(E.hostView),f.appendChild(E.location.nativeElement),E}_attachWindowComponent(f,E){let V=(0,d.LMc)(b0,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:E});return this._applicationRef.attachView(V.hostView),f.appendChild(V.location.nativeElement),V}_getContentRef(f,E,V,te,Ne){return V?V instanceof d.Rgc?this._createFromTemplateRef(V,te):Se(V)?this._createFromString(V):this._createFromComponent(f,E,V,te,Ne):new Xc([])}_createFromTemplateRef(f,E){const te=f.createEmbeddedView({$implicit:E,close(Ne){E.close(Ne)},dismiss(Ne){E.dismiss(Ne)}});return this._applicationRef.attachView(te),new Xc([te.rootNodes],te)}_createFromString(f){const E=this._document.createTextNode(`${f}`);return new Xc([[E]])}_createFromComponent(f,E,V,te,Ne){const je=d.zs3.create({providers:[{provide:Xu,useValue:te}],parent:f}),vt=(0,d.LMc)(V,{environmentInjector:E,elementInjector:je}),kt=vt.location.nativeElement;return Ne.scrollable&&kt.classList.add("component-host-scrollable"),this._applicationRef.attachView(vt.hostView),new Xc([[kt]],vt.hostView,vt)}_setAriaHidden(f){const E=f.parentElement;E&&f!==this._document.body&&(Array.from(E.children).forEach(V=>{V!==f&&"SCRIPT"!==V.nodeName&&(this._ariaHiddenValues.set(V,V.getAttribute("aria-hidden")),V.setAttribute("aria-hidden","true"))}),this._setAriaHidden(E))}_revertAriaHidden(){this._ariaHiddenValues.forEach((f,E)=>{f?E.setAttribute("aria-hidden",f):E.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(f){const E=()=>{const V=this._modalRefs.indexOf(f);V>-1&&(this._modalRefs.splice(V,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(f),this._activeInstances.emit(this._modalRefs),f.result.then(E,E)}_registerWindowCmpt(f){this._windowCmpts.push(f),this._activeWindowCmptHasChanged.next(),f.onDestroy(()=>{const E=this._windowCmpts.indexOf(f);E>-1&&(this._windowCmpts.splice(E,1),this._activeWindowCmptHasChanged.next())})}}return(p=b).\u0275fac=function(f){return new(f||p)(d.LFG(d.z2F),d.LFG(d.zs3),d.LFG(d.lqb),d.LFG(wn.K0),d.LFG(h_),d.LFG(d.FYo),d.LFG(d.R0b))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),b})(),f_=(()=>{var p;class b{constructor(f){this._ngbConfig=f,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(f){this._animation=f}}return(p=b).\u0275fac=function(f){return new(f||p)(d.LFG(Jo))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),b})(),p_=(()=>{var p;class b{constructor(f,E,V){this._injector=f,this._modalStack=E,this._config=V}open(f,E={}){const V={...this._config,animation:this._config.animation,...E};return this._modalStack.open(this._injector,f,V)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(f){this._modalStack.dismissAll(f)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return(p=b).\u0275fac=function(f){return new(f||p)(d.LFG(d.zs3),d.LFG(vi),d.LFG(f_))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),b})(),Ig=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({providers:[p_]}),b})(),Sg=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),Fc=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),Ti=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),Yh=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),np=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),op=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),lp=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),nd=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),rd=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})();new d.OlP("live announcer delay",{providedIn:"root",factory:function oh(){return 100}});let up=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})(),ah=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({}),b})();const P_=[oa,Cu,_l,Sc,ci,Nc,Ig,Sg,ah,Fc,Ti,Yh,np,op,lp,nd,rd,up];let tf=(()=>{var p;class b{}return(p=b).\u0275fac=function(f){return new(f||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({imports:[P_,oa,Cu,_l,Sc,ci,Nc,Ig,Sg,ah,Fc,Ti,Yh,np,op,lp,nd,rd,up]}),b})()},1878:(bn,gt,W)=>{W.d(gt,{X3:()=>vn});var d=W(5861);const oe=(Re,Nt)=>Nt.some(Jt=>Re instanceof Jt);let fe,we;const be=new WeakMap,lt=new WeakMap,We=new WeakMap,_e=new WeakMap,Oe=new WeakMap;let Be={get(Re,Nt,Jt){if(Re instanceof IDBTransaction){if("done"===Nt)return lt.get(Re);if("objectStoreNames"===Nt)return Re.objectStoreNames||We.get(Re);if("store"===Nt)return Jt.objectStoreNames[1]?void 0:Jt.objectStore(Jt.objectStoreNames[0])}return Lt(Re[Nt])},set:(Re,Nt,Jt)=>(Re[Nt]=Jt,!0),has:(Re,Nt)=>Re instanceof IDBTransaction&&("done"===Nt||"store"===Nt)||Nt in Re};function tn(Re){return"function"==typeof Re?function st(Re){return Re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Re)?function(...Nt){return Re.apply(On(this),Nt),Lt(be.get(this))}:function(...Nt){return Lt(Re.apply(On(this),Nt))}:function(Nt,...Jt){const Mn=Re.call(On(this),Nt,...Jt);return We.set(Mn,Nt.sort?Nt.sort():[Nt]),Lt(Mn)}}(Re):(Re instanceof IDBTransaction&&function bt(Re){if(lt.has(Re))return;const Nt=new Promise((Jt,Mn)=>{const Bn=()=>{Re.removeEventListener("complete",mn),Re.removeEventListener("error",zn),Re.removeEventListener("abort",zn)},mn=()=>{Jt(),Bn()},zn=()=>{Mn(Re.error||new DOMException("AbortError","AbortError")),Bn()};Re.addEventListener("complete",mn),Re.addEventListener("error",zn),Re.addEventListener("abort",zn)});lt.set(Re,Nt)}(Re),oe(Re,function Pe(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Re,Be):Re)}function Lt(Re){if(Re instanceof IDBRequest)return function Ze(Re){const Nt=new Promise((Jt,Mn)=>{const Bn=()=>{Re.removeEventListener("success",mn),Re.removeEventListener("error",zn)},mn=()=>{Jt(Lt(Re.result)),Bn()},zn=()=>{Mn(Re.error),Bn()};Re.addEventListener("success",mn),Re.addEventListener("error",zn)});return Nt.then(Jt=>{Jt instanceof IDBCursor&&be.set(Jt,Re)}).catch(()=>{}),Oe.set(Nt,Re),Nt}(Re);if(_e.has(Re))return _e.get(Re);const Nt=tn(Re);return Nt!==Re&&(_e.set(Re,Nt),Oe.set(Nt,Re)),Nt}const On=Re=>Oe.get(Re);function vn(Re,Nt,{blocked:Jt,upgrade:Mn,blocking:Bn,terminated:mn}={}){const zn=indexedDB.open(Re,Nt),Jn=Lt(zn);return Mn&&zn.addEventListener("upgradeneeded",dr=>{Mn(Lt(zn.result),dr.oldVersion,dr.newVersion,Lt(zn.transaction),dr)}),Jt&&zn.addEventListener("blocked",dr=>Jt(dr.oldVersion,dr.newVersion,dr)),Jn.then(dr=>{mn&&dr.addEventListener("close",()=>mn()),Bn&&dr.addEventListener("versionchange",ar=>Bn(ar.oldVersion,ar.newVersion,ar))}).catch(()=>{}),Jn}const Tt=["get","getKey","getAll","getAllKeys","count"],ot=["put","add","delete","clear"],at=new Map;function Dt(Re,Nt){if(!(Re instanceof IDBDatabase)||Nt in Re||"string"!=typeof Nt)return;if(at.get(Nt))return at.get(Nt);const Jt=Nt.replace(/FromIndex$/,""),Mn=Nt!==Jt,Bn=ot.includes(Jt);if(!(Jt in(Mn?IDBIndex:IDBObjectStore).prototype)||!Bn&&!Tt.includes(Jt))return;const mn=function(){var zn=(0,d.Z)(function*(Jn,...dr){const ar=this.transaction(Jn,Bn?"readwrite":"readonly");let Je=ar.store;return Mn&&(Je=Je.index(dr.shift())),(yield Promise.all([Je[Jt](...dr),Bn&&ar.done]))[0]});return function(dr){return zn.apply(this,arguments)}}();return at.set(Nt,mn),mn}!function jt(Re){Be=Re(Be)}(Re=>({...Re,get:(Nt,Jt,Mn)=>Dt(Nt,Jt)||Re.get(Nt,Jt,Mn),has:(Nt,Jt)=>!!Dt(Nt,Jt)||Re.has(Nt,Jt)}))},5861:(bn,gt,W)=>{function d(fe,we,Pe,Ve,be,lt,We){try{var _e=fe[lt](We),Oe=_e.value}catch(Ze){return void Pe(Ze)}_e.done?we(Oe):Promise.resolve(Oe).then(Ve,be)}function oe(fe){return function(){var we=this,Pe=arguments;return new Promise(function(Ve,be){var lt=fe.apply(we,Pe);function We(Oe){d(lt,Ve,be,We,_e,"next",Oe)}function _e(Oe){d(lt,Ve,be,We,_e,"throw",Oe)}We(void 0)})}}W.d(gt,{Z:()=>oe})},7582:(bn,gt,W)=>{function we(Je,dt){var tt={};for(var $e in Je)Object.prototype.hasOwnProperty.call(Je,$e)&&dt.indexOf($e)<0&&(tt[$e]=Je[$e]);if(null!=Je&&"function"==typeof Object.getOwnPropertySymbols){var ft=0;for($e=Object.getOwnPropertySymbols(Je);ft<$e.length;ft++)dt.indexOf($e[ft])<0&&Object.prototype.propertyIsEnumerable.call(Je,$e[ft])&&(tt[$e[ft]]=Je[$e[ft]])}return tt}function Ze(Je,dt,tt,$e){return new(tt||(tt=Promise))(function(xt,Gt){function Ut(Un){try{Fn($e.next(Un))}catch(An){Gt(An)}}function Hn(Un){try{Fn($e.throw(Un))}catch(An){Gt(An)}}function Fn(Un){Un.done?xt(Un.value):function ft(xt){return xt instanceof tt?xt:new tt(function(Gt){Gt(xt)})}(Un.value).then(Ut,Hn)}Fn(($e=$e.apply(Je,dt||[])).next())})}function He(Je){return this instanceof He?(this.v=Je,this):new He(Je)}function Tt(Je,dt,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,$e=tt.apply(Je,dt||[]),xt=[];return ft={},Gt("next"),Gt("throw"),Gt("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function Gt(fr){$e[fr]&&(ft[fr]=function(zr){return new Promise(function(wn,qe){xt.push([fr,zr,wn,qe])>1||Ut(fr,zr)})})}function Ut(fr,zr){try{!function Hn(fr){fr.value instanceof He?Promise.resolve(fr.value.v).then(Fn,Un):An(xt[0][2],fr)}($e[fr](zr))}catch(wn){An(xt[0][3],wn)}}function Fn(fr){Ut("next",fr)}function Un(fr){Ut("throw",fr)}function An(fr,zr){fr(zr),xt.shift(),xt.length&&Ut(xt[0][0],xt[0][1])}}function at(Je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,dt=Je[Symbol.asyncIterator];return dt?dt.call(Je):(Je=function st(Je){var dt="function"==typeof Symbol&&Symbol.iterator,tt=dt&&Je[dt],$e=0;if(tt)return tt.call(Je);if(Je&&"number"==typeof Je.length)return{next:function(){return Je&&$e>=Je.length&&(Je=void 0),{value:Je&&Je[$e++],done:!Je}}};throw new TypeError(dt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Je),tt={},$e("next"),$e("throw"),$e("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function $e(xt){tt[xt]=Je[xt]&&function(Gt){return new Promise(function(Ut,Hn){!function ft(xt,Gt,Ut,Hn){Promise.resolve(Hn).then(function(Fn){xt({value:Fn,done:Ut})},Gt)}(Ut,Hn,(Gt=Je[xt](Gt)).done,Gt.value)})}}}W.d(gt,{FC:()=>Tt,KL:()=>at,_T:()=>we,mG:()=>Ze,qq:()=>He}),"function"==typeof SuppressedError&&SuppressedError}},bn=>{var gt=d=>bn(bn.s=d);gt(2614),gt(1665)}]);