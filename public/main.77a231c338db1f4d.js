"use strict";(self.webpackChunksala_juegos_llemos=self.webpackChunksala_juegos_llemos||[]).push([[179],{2194:(Pn,_t,Y)=>{Y.d(_t,{nm:()=>Gi});var d=Y(2793),Me=(Y(5879),Y(8726),Y(4097),Y(5861)),He=Y(4303),Se=Y(4537),ct=Y(9058),nt=Y(7879);const Ie=new Map,Ae={activated:!1,tokenObservers:[]},Ke={initialized:!1,enabled:!1};function ft(it){return Ie.get(it)||Object.assign({},Ae)}function Jt(){return Ke}const dt="https://content-firebaseappcheck.googleapis.com/v1",Vn="exchangeDebugToken",In={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Tt{constructor(Ye,It,Bt,Gt,er){if(this.operation=Ye,this.retryPolicy=It,this.getWaitDuration=Bt,this.lowerBound=Gt,this.upperBound=er,this.pending=null,this.nextErrorWaitInterval=Gt,Gt>er)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ye){var It=this;return(0,Me.Z)(function*(){It.stop();try{It.pending=new ct.BH,yield function gt(it){return new Promise(Ye=>{setTimeout(Ye,it)})}(It.getNextRun(Ye)),It.pending.resolve(),yield It.pending.promise,It.pending=new ct.BH,yield It.operation(),It.pending.resolve(),yield It.pending.promise,It.process(!0).catch(()=>{})}catch(Bt){It.retryPolicy(Bt)?It.process(!1).catch(()=>{}):It.stop()}})()}getNextRun(Ye){if(Ye)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const It=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),It}}}const Nt=new ct.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Wt(it){if(!ft(it).activated)throw Nt.create("use-before-activation",{appName:it.name})}function Bn(it,Ye){return vn.apply(this,arguments)}function vn(){return(vn=(0,Me.Z)(function*({url:it,body:Ye},It){const Bt={"Content-Type":"application/json"},Gt=It.getImmediate({optional:!0});if(Gt){const fo=yield Gt.getHeartbeatsHeader();fo&&(Bt["X-Firebase-Client"]=fo)}const er={method:"POST",body:JSON.stringify(Ye),headers:Bt};let gi,di;try{gi=yield fetch(it,er)}catch(fo){throw Nt.create("fetch-network-error",{originalErrorMessage:fo?.message})}if(200!==gi.status)throw Nt.create("fetch-status-error",{httpStatus:gi.status});try{di=yield gi.json()}catch(fo){throw Nt.create("fetch-parse-error",{originalErrorMessage:fo?.message})}const Lr=di.ttl.match(/^([\d.]+)(s)$/);if(!Lr||!Lr[2]||isNaN(Number(Lr[1])))throw Nt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${di.ttl}`});const Xa=1e3*Number(Lr[1]),Qs=Date.now();return{token:di.token,expireTimeMillis:Qs+Xa,issuedAtTimeMillis:Qs}})).apply(this,arguments)}function Gn(it,Ye){const{projectId:It,appId:Bt,apiKey:Gt}=it.options;return{url:`${dt}/projects/${It}/apps/${Bt}:${Vn}?key=${Gt}`,body:{debug_token:Ye}}}const Ln="firebase-app-check-database",Qe=1,rt="firebase-app-check-store";let at=null;function _r(){return(_r=(0,Me.Z)(function*(it,Ye){const Bt=(yield function Dt(){return at||(at=new Promise((it,Ye)=>{try{const It=indexedDB.open(Ln,Qe);It.onsuccess=Bt=>{it(Bt.target.result)},It.onerror=Bt=>{var Gt;Ye(Nt.create("storage-open",{originalErrorMessage:null===(Gt=Bt.target.error)||void 0===Gt?void 0:Gt.message}))},It.onupgradeneeded=Bt=>{0===Bt.oldVersion&&Bt.target.result.createObjectStore(rt,{keyPath:"compositeKey"})}}catch(It){Ye(Nt.create("storage-open",{originalErrorMessage:It?.message}))}}),at)}()).transaction(rt,"readwrite"),er=Bt.objectStore(rt).put({compositeKey:it,value:Ye});return new Promise((gi,di)=>{er.onsuccess=Lr=>{gi()},Bt.onerror=Lr=>{var Xa;di(Nt.create("storage-set",{originalErrorMessage:null===(Xa=Lr.target.error)||void 0===Xa?void 0:Xa.message}))}})})).apply(this,arguments)}const Br=new nt.Yd("@firebase/app-check");function Ct(it,Ye){return(0,ct.hl)()?function ln(it,Ye){return function cr(it,Ye){return _r.apply(this,arguments)}(function Fn(it){return`${it.options.appId}-${it.name}`}(it),Ye)}(it,Ye).catch(It=>{Br.warn(`Failed to write token to IndexedDB. Error: ${It}`)}):Promise.resolve()}function Xt(){return Jt().enabled}function br(){return sr.apply(this,arguments)}function sr(){return(sr=(0,Me.Z)(function*(){const it=Jt();if(it.enabled&&it.token)return it.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dn={error:"UNKNOWN_ERROR"};function or(it){return ct.US.encodeString(JSON.stringify(it),!1)}function yr(it){return ui.apply(this,arguments)}function ui(){return(ui=(0,Me.Z)(function*(it,Ye=!1){const It=it.app;Wt(It);const Bt=ft(It);let er,Gt=Bt.token;if(Gt&&!dr(Gt)&&(Bt.token=void 0,Gt=void 0),!Gt){const Lr=yield Bt.cachedTokenPromise;Lr&&(dr(Lr)?Gt=Lr:yield Ct(It,void 0))}if(!Ye&&Gt&&dr(Gt))return{token:Gt.token};let di,gi=!1;if(Xt()){Bt.exchangeTokenPromise||(Bt.exchangeTokenPromise=Bn(Gn(It,yield br()),it.heartbeatServiceProvider).finally(()=>{Bt.exchangeTokenPromise=void 0}),gi=!0);const Lr=yield Bt.exchangeTokenPromise;return yield Ct(It,Lr),Bt.token=Lr,{token:Lr.token}}try{Bt.exchangeTokenPromise||(Bt.exchangeTokenPromise=Bt.provider.getToken().finally(()=>{Bt.exchangeTokenPromise=void 0}),gi=!0),Gt=yield ft(It).exchangeTokenPromise}catch(Lr){"appCheck/throttled"===Lr.code?Br.warn(Lr.message):Br.error(Lr),er=Lr}return Gt?er?di=dr(Gt)?{token:Gt.token,internalError:er}:Is(er):(di={token:Gt.token},Bt.token=Gt,yield Ct(It,Gt)):di=Is(er),gi&&function Mr(it,Ye){const It=ft(it).tokenObservers;for(const Bt of It)try{"EXTERNAL"===Bt.type&&null!=Ye.error?Bt.error(Ye.error):Bt.next(Ye)}catch{}}(It,di),di})).apply(this,arguments)}function Ri(it){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,Me.Z)(function*(it){const Ye=it.app;Wt(Ye);const{provider:It}=ft(Ye);if(Xt()){const Bt=yield br(),{token:Gt}=yield Bn(Gn(Ye,Bt),it.heartbeatServiceProvider);return{token:Gt}}{const{token:Bt}=yield It.getToken();return{token:Bt}}})).apply(this,arguments)}function ti(it,Ye){const It=ft(it),Bt=It.tokenObservers.filter(Gt=>Gt.next!==Ye);0===Bt.length&&It.tokenRefresher&&It.tokenRefresher.isRunning()&&It.tokenRefresher.stop(),It.tokenObservers=Bt}function $r(it){const{app:Ye}=it,It=ft(Ye);let Bt=It.tokenRefresher;Bt||(Bt=function Yi(it){const{app:Ye}=it;return new Tt((0,Me.Z)(function*(){let Bt;if(Bt=ft(Ye).token?yield yr(it,!0):yield yr(it),Bt.error)throw Bt.error;if(Bt.internalError)throw Bt.internalError}),()=>!0,()=>{const It=ft(Ye);if(It.token){let Bt=It.token.issuedAtTimeMillis+.5*(It.token.expireTimeMillis-It.token.issuedAtTimeMillis)+3e5;return Bt=Math.min(Bt,It.token.expireTimeMillis-3e5),Math.max(0,Bt-Date.now())}return 0},In.RETRIAL_MIN_WAIT,In.RETRIAL_MAX_WAIT)}(it),It.tokenRefresher=Bt),!Bt.isRunning()&&It.isTokenAutoRefreshEnabled&&Bt.start()}function dr(it){return it.expireTimeMillis-Date.now()>0}function Is(it){return{token:or(Dn),error:it}}class Ts{constructor(Ye,It){this.app=Ye,this.heartbeatServiceProvider=It}_delete(){const{tokenObservers:Ye}=ft(this.app);for(const It of Ye)ti(this.app,It.next);return Promise.resolve()}}const qn="app-check-internal";!function bn(){(0,He.Xd)(new Se.wA("app-check",it=>function Di(it,Ye){return new Ts(it,Ye)}(it.getProvider("app").getImmediate(),it.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((it,Ye,It)=>{it.getProvider(qn).initialize()})),(0,He.Xd)(new Se.wA(qn,it=>function Fi(it){return{getToken:Ye=>yr(it,Ye),getLimitedUseToken:()=>Ri(it),addTokenListener:Ye=>function ei(it,Ye,It,Bt){const{app:Gt}=it,er=ft(Gt);if(er.tokenObservers=[...er.tokenObservers,{next:It,error:Bt,type:Ye}],er.token&&dr(er.token)){const di=er.token;Promise.resolve().then(()=>{It({token:di.token}),$r(it)}).catch(()=>{})}er.cachedTokenPromise.then(()=>$r(it))}(it,"INTERNAL",Ye),removeTokenListener:Ye=>ti(it.app,Ye)}}(it.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,He.KN)("@firebase/app-check","0.8.0")}();class Gi{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},8726:(Pn,_t,Y)=>{Y.d(_t,{Ot:()=>X,ZF:()=>fn,hX:()=>ft,z6:()=>Me});var d=Y(4097),fe=Y(5879),ve=Y(2793);class X{constructor(Tt){return Tt}}class Me{constructor(){return(0,d.C6)()}}const ct=new fe.OlP("angularfire2._apps"),nt={provide:X,useFactory:function Se(Xe){return Xe&&1===Xe.length?Xe[0]:new X((0,d.Mq)())},deps:[[new fe.FiY,ct]]},Ie={provide:Me,deps:[[new fe.FiY,ct]]};function Ae(Xe){return(Tt,gt)=>{const mt=Tt.runOutsideAngular(()=>Xe(gt));return new X(mt)}}let Ke=(()=>{class Xe{constructor(gt){(0,d.KN)("angularfire",ve.q4.full,"core"),(0,d.KN)("angularfire",ve.q4.full,"app"),(0,d.KN)("angular",fe.q4F.full,gt.toString())}}return Xe.\u0275fac=function(gt){return new(gt||Xe)(fe.LFG(fe.Lbi))},Xe.\u0275mod=fe.oAB({type:Xe}),Xe.\u0275inj=fe.cJS({providers:[nt,Ie]}),Xe})();function ft(Xe,...Tt){return{ngModule:Ke,providers:[{provide:ct,useFactory:Ae(Xe),multi:!0,deps:[fe.R0b,fe.zs3,ve.HU,...Tt]}]}}const fn=(0,ve.u3)(d.ZF,!0)},7923:(Pn,_t,Y)=>{Y.d(_t,{dh:()=>ft,v0:()=>Gn,AR:()=>Xe});var d=Y(2793),fe=Y(5879),ve=Y(8726),X=Y(4097),Me=Y(2194),He=Y(6710);Y(9058),Y(7592),Y(7879),Y(4537);class Ke{constructor(Ge){return Ge}}class ft{constructor(){return(0,d.vb)("auth")}}const Jt=new fe.OlP("angularfire2.auth-instances");function fn(yt){return(Ge,jt)=>{const Et=Ge.runOutsideAngular(()=>yt(jt));return new Ke(Et)}}const Kt={provide:ft,deps:[[new fe.FiY,Jt]]},Vn={provide:Ke,useFactory:function dt(yt,Ge){const jt=(0,d.JM)("auth",yt,Ge);return jt&&new Ke(jt)},deps:[[new fe.FiY,Jt],ve.Ot]};let In=(()=>{class yt{constructor(){(0,X.KN)("angularfire",d.q4.full,"auth")}}return yt.\u0275fac=function(jt){return new(jt||yt)},yt.\u0275mod=fe.oAB({type:yt}),yt.\u0275inj=fe.cJS({providers:[Vn,Kt]}),yt})();function Xe(yt,...Ge){return{ngModule:In,providers:[{provide:Jt,useFactory:fn(yt),multi:!0,deps:[fe.R0b,fe.zs3,d.HU,ve.z6,[new fe.FiY,Me.nm],...Ge]}]}}const Gn=(0,d.u3)(He.o,!0)},6796:(Pn,_t,Y)=>{Y.d(_t,{zQ:()=>Zn,rT:()=>hn,f7:()=>Bn,L6:()=>xe,_Q:()=>Wt,lh:()=>zn,Qv:()=>Nt,nw:()=>vn});var d=Y(5879),fe=Y(8645),ve=Y(2096),X=Y(5592),Me=Y(2459),He=Y(3019),Se=Y(3093),ct=Y(4664),nt=Y(7398),Ie=Y(4552);class Ae extends fe.x{constructor(Ln=1/0,Qe=1/0,rt=Ie.l){super(),this._bufferSize=Ln,this._windowTime=Qe,this._timestampProvider=rt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Qe===1/0,this._bufferSize=Math.max(1,Ln),this._windowTime=Math.max(1,Qe)}next(Ln){const{isStopped:Qe,_buffer:rt,_infiniteTimeWindow:wt,_timestampProvider:at,_windowTime:Dt}=this;Qe||(rt.push(Ln),!wt&&rt.push(at.now()+Dt)),this._trimBuffer(),super.next(Ln)}_subscribe(Ln){this._throwIfClosed(),this._trimBuffer();const Qe=this._innerSubscribe(Ln),{_infiniteTimeWindow:rt,_buffer:wt}=this,at=wt.slice();for(let Dt=0;Dt<at.length&&!Ln.closed;Dt+=rt?1:2)Ln.next(at[Dt]);return this._checkFinalizedStatuses(Ln),Qe}_trimBuffer(){const{_bufferSize:Ln,_timestampProvider:Qe,_buffer:rt,_infiniteTimeWindow:wt}=this,at=(wt?1:2)*Ln;if(Ln<1/0&&at<rt.length&&rt.splice(0,rt.length-at),!wt){const Dt=Qe.now();let rn=0;for(let ln=1;ln<rt.length&&rt[ln]<=Dt;ln+=2)rn=ln;rn&&rt.splice(0,rn+1)}}}var Ke=Y(3020);function ft(Gn,Ln,Qe){let rt,wt=!1;return Gn&&"object"==typeof Gn?({bufferSize:rt=1/0,windowTime:Ln=1/0,refCount:wt=!1,scheduler:Qe}=Gn):rt=Gn??1/0,(0,Ke.B)({connector:()=>new Ae(rt,Ln,Qe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:wt})}var ze=Y(1374),Jt=Y(4674);function dt(Gn,Ln){return(0,Jt.m)(Ln)?(0,ct.w)(()=>Gn,Ln):(0,ct.w)(()=>Gn)}var fn=Y(5137),Kt=Y(2181),Vn=Y(2793),In=Y(6304),Xe=Y(6814),Tt=Y(2194);Y(120);const Nt=new d.OlP("angularfire2.auth.use-emulator"),xe=new d.OlP("angularfire2.auth.settings"),Wt=new d.OlP("angularfire2.auth.tenant-id"),hn=new d.OlP("angularfire2.auth.langugage-code"),zn=new d.OlP("angularfire2.auth.use-device-language"),Bn=new d.OlP("angularfire.auth.persistence"),vn=(Gn,Ln,Qe,rt,wt,at,Dt,rn)=>(0,In.cc)(`${Gn.name}.auth`,"AngularFireAuth",Gn.name,()=>{const ln=Ln.runOutsideAngular(()=>Gn.auth());if(Qe&&ln.useEmulator(...Qe),rt&&(ln.tenantId=rt),ln.languageCode=wt,at&&ln.useDeviceLanguage(),Dt)for(const[gn,Zr]of Object.entries(Dt))ln.settings[gn]=Zr;return rn&&ln.setPersistence(rn),ln},[Qe,rt,wt,at,Dt,rn]);let Zn=(()=>{class Gn{constructor(Qe,rt,wt,at,Dt,rn,ln,gn,Zr,cr,_r,Wn){const Pr=new fe.x,Fn=(0,ve.of)(void 0).pipe((0,Se.Q)(Dt.outsideAngular),(0,ct.w)(()=>at.runOutsideAngular(()=>Y.e(661).then(Y.bind(Y,8661)))),(0,nt.U)(()=>(0,In.on)(Qe,at,rt)),(0,nt.U)(Br=>vn(Br,at,rn,gn,Zr,cr,ln,_r)),ft({bufferSize:1,refCount:!1}));if((0,Xe.PM)(wt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ve.of)(null);else{Fn.pipe((0,ze.P)()).subscribe();const Ue=Fn.pipe((0,ct.w)(Ft=>Ft.getRedirectResult().then(xt=>xt,()=>null)),Vn.iC,ft({bufferSize:1,refCount:!1})),Je=Fn.pipe((0,ct.w)(Ft=>new X.y(xt=>({unsubscribe:at.runOutsideAngular(()=>Ft.onAuthStateChanged(Xt=>xt.next(Xt),Xt=>xt.error(Xt),()=>xt.complete()))})))),Ct=Fn.pipe((0,ct.w)(Ft=>new X.y(xt=>({unsubscribe:at.runOutsideAngular(()=>Ft.onIdTokenChanged(Xt=>xt.next(Xt),Xt=>xt.error(Xt),()=>xt.complete()))}))));this.authState=Ue.pipe(dt(Je),(0,fn.R)(Dt.outsideAngular),(0,Se.Q)(Dt.insideAngular)),this.user=Ue.pipe(dt(Ct),(0,fn.R)(Dt.outsideAngular),(0,Se.Q)(Dt.insideAngular)),this.idToken=this.user.pipe((0,ct.w)(Ft=>Ft?(0,Me.D)(Ft.getIdToken()):(0,ve.of)(null))),this.idTokenResult=this.user.pipe((0,ct.w)(Ft=>Ft?(0,Me.D)(Ft.getIdTokenResult()):(0,ve.of)(null))),this.credential=(0,He.T)(Ue,Pr,this.authState.pipe((0,Kt.h)(Ft=>!Ft))).pipe((0,nt.U)(Ft=>Ft?.user?Ft:null),(0,fn.R)(Dt.outsideAngular),(0,Se.Q)(Dt.insideAngular))}return(0,In.pX)(this,Fn,at,{spy:{apply:(Br,Ue,Je)=>{(Br.startsWith("signIn")||Br.startsWith("createUser"))&&Je.then(Ct=>Pr.next(Ct))}}})}}return Gn.\u0275fac=function(Qe){return new(Qe||Gn)(d.LFG(In.Dh),d.LFG(In.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Vn.HU),d.LFG(Nt,8),d.LFG(xe,8),d.LFG(Wt,8),d.LFG(hn,8),d.LFG(zn,8),d.LFG(Bn,8),d.LFG(Tt.nm,8))},Gn.\u0275prov=d.Yz7({token:Gn,factory:Gn.\u0275fac,providedIn:"any"}),Gn})()},6304:(Pn,_t,Y)=>{Y.d(_t,{Dh:()=>ct,GT:()=>He,cc:()=>ze,hO:()=>ft,on:()=>Ie,pX:()=>Me,xv:()=>nt});var d=Y(5879),fe=Y(120),ve=Y(2793);Pn=Y.hmd(Pn);const X=["ngOnDestroy"],Me=(Kt,Vn,In,Xe={})=>new Proxy(Kt,{get:(Tt,gt)=>In.runOutsideAngular(()=>{var mt;if(Kt[gt])return!(null===(mt=Xe?.spy)||void 0===mt)&&mt.get&&Xe.spy.get(gt,Kt[gt]),Kt[gt];if(X.indexOf(gt)>-1)return()=>{};const Nt=Vn.toPromise().then(xe=>{const Wt=xe&&xe[gt];return"function"==typeof Wt?Wt.bind(xe):Wt&&Wt.then?Wt.then(hn=>In.run(()=>hn)):In.run(()=>Wt)});return new Proxy(()=>{},{get:(xe,Wt)=>Nt[Wt],apply:(xe,Wt,hn)=>Nt.then(zn=>{var Bn;const vn=zn&&zn(...hn);return!(null===(Bn=Xe?.spy)||void 0===Bn)&&Bn.apply&&Xe.spy.apply(gt,hn,vn),vn})})})}),He=(Kt,Vn)=>{Vn.forEach(In=>{Object.getOwnPropertyNames(In.prototype||In).forEach(Xe=>{Object.defineProperty(Kt.prototype,Xe,Object.getOwnPropertyDescriptor(In.prototype||In,Xe))})})};class Se{constructor(Vn){return Vn}}const ct=new d.OlP("angularfire2.app.options"),nt=new d.OlP("angularfire2.app.name");function Ie(Kt,Vn,In){const Tt="object"==typeof In&&In||{};Tt.name=Tt.name||"string"==typeof In&&In||"[DEFAULT]";const mt=fe.Z.apps.filter(Nt=>Nt&&Nt.name===Tt.name)[0]||Vn.runOutsideAngular(()=>fe.Z.initializeApp(Kt,Tt));try{JSON.stringify(Kt)!==JSON.stringify(mt.options)&&Ae("error",`${mt.name} Firebase App already initialized with different options${Pn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(mt)}const Ae=(Kt,...Vn)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Kt](...Vn)},Ke={provide:Se,useFactory:Ie,deps:[ct,d.R0b,[new d.FiY,nt]]};let ft=(()=>{class Kt{constructor(In){fe.Z.registerVersion("angularfire",ve.q4.full,"core"),fe.Z.registerVersion("angularfire",ve.q4.full,"app-compat"),fe.Z.registerVersion("angular",d.q4F.full,In.toString())}static initializeApp(In,Xe){return{ngModule:Kt,providers:[{provide:ct,useValue:In},{provide:nt,useValue:Xe}]}}}return Kt.\u0275fac=function(In){return new(In||Kt)(d.LFG(d.Lbi))},Kt.\u0275mod=d.oAB({type:Kt}),Kt.\u0275inj=d.cJS({providers:[Ke]}),Kt})();function ze(Kt,Vn,In,Xe,Tt){const[,gt,mt]=globalThis.\u0275AngularfireInstanceCache.find(Nt=>Nt[0]===Kt)||[];if(gt)return function Jt(Kt,Vn){try{return Kt.toString()===Vn.toString()}catch{return Kt===Vn}}(Tt,mt)||(fn("error",`${Vn} was already initialized on the ${In} Firebase App with different settings.${dt?" You may need to reload as Firebase is not HMR aware.":""}`),fn("warn",{is:Tt,was:mt})),gt;{const Nt=Xe();return globalThis.\u0275AngularfireInstanceCache.push([Kt,Nt,Tt]),Nt}}const dt=!!Pn.hot,fn=(Kt,...Vn)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Kt](...Vn)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},938:(Pn,_t,Y)=>{Y.d(_t,{gg:()=>YS,ET:()=>Lk,hJ:()=>Vk,BS:()=>Fk,oe:()=>Bk,JU:()=>Uk,PL:()=>jk,ad:()=>$k,Cm:()=>kk,pl:()=>Gk,r7:()=>Hk});var ze,d=Y(2793),fe=Y(5879),ve=Y(7923),X=Y(8726),Me=Y(4097),He=Y(2194),Se=Y(5861),ct=Y(4303),nt=Y(4537),Ie=Y(7879),Ae=Y(9058),Ke=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ft={},Jt=Jt||{},dt=Ke||self;function fn(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Kt(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var In="closure_uid_"+(1e9*Math.random()>>>0),Xe=0;function Tt(n,e,t){return n.call.apply(n.bind,arguments)}function gt(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function mt(n,e,t){return(mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tt:gt).apply(null,arguments)}function Nt(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function xe(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,a){for(var c=Array(arguments.length-2),_=2;_<arguments.length;_++)c[_-2]=arguments[_];return e.prototype[s].apply(r,c)}}function Wt(){this.s=this.s,this.o=this.o}Wt.prototype.s=!1,Wt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Vn(n){Object.prototype.hasOwnProperty.call(n,In)&&n[In]||(n[In]=++Xe)}(this)},Wt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zn=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Bn(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function vn(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(fn(r)){const s=n.length||0,a=r.length||0;n.length=s+a;for(let c=0;c<a;c++)n[s+c]=r[c]}else n.push(r)}}function Zn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Zn.prototype.h=function(){this.defaultPrevented=!0};var lr=function(){if(!dt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{dt.addEventListener("test",()=>{},e),dt.removeEventListener("test",()=>{},e)}catch{}return n}();function Gn(n){return/^[\s\xa0]*$/.test(n)}function Ln(){var n=dt.navigator;return n&&(n=n.userAgent)?n:""}function Qe(n){return-1!=Ln().indexOf(n)}function rt(n){return rt[" "](n),n}rt[" "]=function(){};var _r,n,at=Qe("Opera"),Dt=Qe("Trident")||Qe("MSIE"),rn=Qe("Edge"),ln=rn||Dt,gn=Qe("Gecko")&&!(-1!=Ln().toLowerCase().indexOf("webkit")&&!Qe("Edge"))&&!(Qe("Trident")||Qe("MSIE"))&&!Qe("Edge"),Zr=-1!=Ln().toLowerCase().indexOf("webkit")&&!Qe("Edge");function cr(){var n=dt.document;return n?n.documentMode:void 0}e:{var Wn="",Pr=(n=Ln(),gn?/rv:([^\);]+)(\)|;)/.exec(n):rn?/Edge\/([\d\.]+)/.exec(n):Dt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Zr?/WebKit\/(\S+)/.exec(n):at?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Pr&&(Wn=Pr?Pr[1]:""),Dt){var Fn=cr();if(null!=Fn&&Fn>parseFloat(Wn)){_r=String(Fn);break e}}_r=Wn}var Je=dt.document&&Dt&&(cr()||parseInt(_r,10))||void 0;function Ct(n,e){if(Zn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(gn){e:{try{rt(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ft[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ct.$.h.call(this)}}xe(Ct,Zn);var Ft={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),Xt=0;function br(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++Xt,this.fa=this.ia=!1}function sr(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function pn(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function or(n){const e={};for(const t in n)e[t]=n[t];return e}const yr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ui(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let a=0;a<yr.length;a++)t=yr[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ri(n){this.src=n,this.g={},this.h=0}function Tr(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],s=zn(r,e);(a=0<=s)&&Array.prototype.splice.call(r,s,1),a&&(sr(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ei(n,e,t,r){for(var s=0;s<n.length;++s){var a=n[s];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return s}return-1}Ri.prototype.add=function(n,e,t,r,s){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=ei(n,e,r,s);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new br(e,this.src,a,!!r,s)).ia=t,n.push(e)),e};var ti="closure_lm_"+(1e6*Math.random()|0),$r={};function Yi(n,e,t,r,s){if(r&&r.once)return Is(n,e,t,r,s);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Yi(n,e[a],t,r,s);return null}return t=Et(t),n&&n[xt]?n.O(e,t,Kt(r)?!!r.capture:!!r,s):Mr(n,e,t,!1,r,s)}function Mr(n,e,t,r,s,a){if(!e)throw Error("Invalid event type");var c=Kt(s)?!!s.capture:!!s,_=Ge(n);if(_||(n[ti]=_=new Ri(n)),(t=_.add(e,t,r,c,a)).proxy)return t;if(r=function dr(){const e=yt;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lr||(s=c),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(Fi(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Is(n,e,t,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Is(n,e[a],t,r,s);return null}return t=Et(t),n&&n[xt]?n.P(e,t,Kt(r)?!!r.capture:!!r,s):Mr(n,e,t,!0,r,s)}function Ts(n,e,t,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)Ts(n,e[a],t,r,s);else r=Kt(r)?!!r.capture:!!r,t=Et(t),n&&n[xt]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ei(a=n.g[e],t,r,s))&&(sr(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Ge(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ei(e,t,r,s)),(t=-1<n?e[n]:null)&&Di(t))}function Di(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[xt])Tr(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Fi(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ge(e))?(Tr(t,n),0==t.h&&(t.src=null,e[ti]=null)):sr(n)}}}function Fi(n){return n in $r?$r[n]:$r[n]="on"+n}function yt(n,e){if(n.fa)n=!0;else{e=new Ct(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Di(n),n=t.call(r,e)}return n}function Ge(n){return(n=n[ti])instanceof Ri?n:null}var jt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(n){return"function"==typeof n?n:(n[jt]||(n[jt]=function(e){return n.handleEvent(e)}),n[jt])}function un(){Wt.call(this),this.i=new Ri(this),this.S=this,this.J=null}function En(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Zn(e,n);else if(e instanceof Zn)e.target=e.target||n;else{var s=e;ui(e=new Zn(r,n),s)}if(s=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];s=ar(c,r,!0,e)&&s}if(s=ar(c=e.g=n,r,!0,e)&&s,s=ar(c,r,!1,e)&&s,t)for(a=0;a<t.length;a++)s=ar(c=e.g=t[a],r,!1,e)&&s}function ar(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var _=c.listener,b=c.la||c.src;c.ia&&Tr(n.i,c),s=!1!==_.call(b,r)&&s}}return s&&!r.defaultPrevented}xe(un,Wt),un.prototype[xt]=!0,un.prototype.removeEventListener=function(n,e,t,r){Ts(this,n,e,t,r)},un.prototype.N=function(){if(un.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sr(t[r]);delete n.g[e],n.h--}}this.J=null},un.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},un.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Le=dt.JSON.stringify;function he(){var n=oi;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _e=new class pe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new We,n=>n.reset());class We{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Vt(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function nn(n){dt.setTimeout(()=>{throw n},0)}let Jn,xn=!1,oi=new class Fe{constructor(){this.h=this.g=null}add(e,t){const r=_e.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},pr=()=>{const n=dt.Promise.resolve(void 0);Jn=()=>{n.then(xi)}};var xi=()=>{for(var n;n=he();){try{n.h.call(n.g)}catch(t){nn(t)}var e=_e;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xn=!1};function ot(n,e){un.call(this),this.h=n||1,this.g=e||dt,this.j=mt(this.qb,this),this.l=Date.now()}function Ve(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Rt(n,e,t){if("function"==typeof n)t&&(n=mt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=mt(n.handleEvent,n)}return 2147483647<Number(e)?-1:dt.setTimeout(n,e||0)}function Ot(n){n.g=Rt(()=>{n.g=null,n.i&&(n.i=!1,Ot(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}xe(ot,un),(ze=ot.prototype).ga=!1,ze.T=null,ze.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),En(this,"tick"),this.ga&&(Ve(this),this.start()))}},ze.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ze.N=function(){ot.$.N.call(this),Ve(this),delete this.g};class an extends Wt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ot(this)}N(){super.N(),this.g&&(dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(n){Wt.call(this),this.h=n,this.g={}}xe(sn,Wt);var qn=[];function bn(n,e,t,r){Array.isArray(t)||(t&&(qn[0]=t.toString()),t=qn);for(var s=0;s<t.length;s++){var a=Yi(e,t[s],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Gr(n){pn(n.g,function(e,t){this.g.hasOwnProperty(t)&&Di(e)},n),n.g={}}function Wr(){this.g=!0}function ri(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Bs(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<s.length;c++)s[c]=""}}}return Le(t)}catch{return e}}(n,t)+(r?" "+r:"")})}sn.prototype.N=function(){sn.$.N.call(this),Gr(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wr.prototype.Ea=function(){this.g=!1},Wr.prototype.info=function(){};var rs={},_i=null;function ni(){return _i=_i||new un}function Ps(n){Zn.call(this,rs.Ta,n)}function Ys(n){const e=ni();En(e,new Ps(e))}function hr(n,e){Zn.call(this,rs.STAT_EVENT,n),this.stat=e}function $n(n){const e=ni();En(e,new hr(e,n))}function Kr(n,e){Zn.call(this,rs.Ua,n),this.size=e}function Hi(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return dt.setTimeout(function(){n()},e)}rs.Ta="serverreachability",xe(Ps,Zn),rs.STAT_EVENT="statevent",xe(hr,Zn),rs.Ua="timingevent",xe(Kr,Zn);var Li={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ja={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function it(){}function It(){}it.prototype.h=null;var gi,Bt={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gt(){Zn.call(this,"d")}function er(){Zn.call(this,"c")}function di(){}function Lr(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new sn(this),this.P=Qs,this.V=new ot(n=ln?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Xa}function Xa(){this.i=null,this.g="",this.h=!1}xe(Gt,Zn),xe(er,Zn),xe(di,it),di.prototype.g=function(){return new XMLHttpRequest},di.prototype.i=function(){return{}},gi=new di;var Qs=45e3,fo={},Qi={};function po(n,e,t){n.L=1,n.v=ia(Oi(e)),n.s=t,n.S=!0,La(n,null)}function La(n,e){n.G=Date.now(),No(n),n.A=Oi(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),xs(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Xa,n.g=cl(n.l,t?e:null,!n.s),0<n.O&&(n.M=new an(mt(n.Pa,n,n.g),n.O)),bn(n.U,n.g,"readystatechange",n.nb),e=n.I?or(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ys(),function Gi(n,e,t,r,s,a){n.info(function(){if(n.g)if(a)for(var c="",_=a.split("&"),b=0;b<_.length;b++){var P=_[b].split("=");if(1<P.length){var $=P[0];P=P[1];var J=$.split("_");c=2<=J.length&&"type"==J[1]?c+($+"=")+P+"&":c+($+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function go(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Va(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=na(n,t),s==Qi){4==e&&(n.o=4,$n(14),r=!1),ri(n.j,n.m,null,"[Incomplete Response]");break}if(s==fo){n.o=4,$n(15),ri(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ri(n.j,n.m,s,null),Hr(n,s)}go(n)&&s!=Qi&&s!=fo&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,$n(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),sa(e),e.M=!0,$n(11))):(ri(n.j,n.m,t,"[Invalid Chunked Response]"),Ci(n),us(n))}function na(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Qi:(t=Number(e.substring(t,r)),isNaN(t)?fo:(r+=1)+t>e.length?Qi:(e=e.slice(r,r+t),n.C=r+t,e))}function No(n){n.Y=Date.now()+n.P,xa(n,n.P)}function xa(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Hi(mt(n.lb,n),e)}function hi(n){n.B&&(dt.clearTimeout(n.B),n.B=null)}function us(n){0==n.l.H||n.J||ll(n.l,n)}function Ci(n){hi(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Ve(n.V),Gr(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Hr(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||vl(t.i,n)))if(!n.K&&vl(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;pa(t),vr(t)}ds(t),$n(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Hi(mt(t.ib,t),6e3));if(1>=ii(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ia(t,11)}else if((n.K||t.g==n)&&pa(t),!Gn(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let P=s[e];if(t.V=P[0],P=P[1],2==t.H)if("c"==P[0]){t.K=P[1],t.pa=P[2];const $=P[3];null!=$&&(t.ra=$,t.l.info("VER="+t.ra));const J=P[4];null!=J&&(t.Ga=J,t.l.info("SVER="+t.Ga));const Ee=P[5];null!=Ee&&"number"==typeof Ee&&0<Ee&&(t.L=r=1.5*Ee,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Ne=n.g;if(Ne){const St=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(St){var a=r.i;a.g||-1==St.indexOf("spdy")&&-1==St.indexOf("quic")&&-1==St.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ji(a,a.h),a.h=null))}if(r.F){const Ht=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Ht&&(r.Da=Ht,Nr(r.I,r.F,Ht))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=Pa(r,r.J?r.pa:null,r.Y),c.K){Ba(r.i,c);var _=c,b=r.L;b&&_.setTimeout(b),_.B&&(hi(_),No(_)),r.g=c}else ao(r);0<t.j.length&&zi(t)}else"stop"!=P[0]&&"close"!=P[0]||Ia(t,7);else 3==t.H&&("stop"==P[0]||"close"==P[0]?"stop"==P[0]?Ia(t,7):mn(t):"noop"!=P[0]&&t.h&&t.h.Aa(P),t.A=0)}Ys()}catch{}}function da(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fn(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ra(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(fn(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function _s(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(fn(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,a=0;a<s;a++)e.call(void 0,r[a],t&&t[a],n)}(ze=Lr.prototype).setTimeout=function(n){this.P=n},ze.nb=function(n){n=n.target;const e=this.M;e&&3==Co(n)?e.l():this.Pa(n)},ze.Pa=function(n){try{if(n==this.g)e:{const $=Co(this.g);var e=this.g.Ia();if(this.g.da(),!(3>$)&&(3!=$||ln||this.g&&(this.h.h||this.g.ja()||Eo(this.g)))){this.J||4!=$||7==e||Ys(),hi(this);var t=this.g.da();this.ca=t;t:if(go(this)){var r=Eo(this.g);n="";var s=r.length,a=4==Co(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),us(this);var c="";break t}this.h.i=new dt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function Rs(n,e,t,r,s,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,$,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var _,b=this.g;if((_=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gn(_)){var P=_;break t}}P=null}if(!(t=P)){this.i=!1,this.o=3,$n(12),Ci(this),us(this);break e}ri(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hr(this,t)}this.S?(Va(this,$,c),ln&&this.i&&3==$&&(bn(this.U,this.V,"tick",this.mb),this.V.start())):(ri(this.j,this.m,c,null),Hr(this,c)),4==$&&Ci(this),this.i&&!this.J&&(4==$?ll(this.l,this):(this.i=!1,No(this)))}else(function ne(n){const e={};n=(n.g&&2<=Co(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Gn(n[r]))continue;var t=Vt(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[s]||[];e[s]=a,a.push(t)}!function Dn(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,$n(12)):(this.o=0,$n(13)),Ci(this),us(this)}}}catch{}},ze.mb=function(){if(this.g){var n=Co(this.g),e=this.g.ja();this.C<e.length&&(hi(this),Va(this,n,e),this.i&&4!=n&&No(this))}},ze.cancel=function(){this.J=!0,Ci(this)},ze.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function cs(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ys(),$n(17)),Ci(this),this.o=2,us(this)):xa(this,this.Y-n)};var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ji(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ji){this.h=n.h,wn(this,n.j),this.s=n.s,this.g=n.g,Yr(this,n.m),this.l=n.l;var e=n.i,t=new _o;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ai(this,t),this.o=n.o}else n&&(e=String(n).match(Zi))?(this.h=!1,wn(this,e[1]||"",!0),this.s=Vi(e[2]||""),this.g=Vi(e[3]||"",!0),Yr(this,e[4]),this.l=Vi(e[5]||"",!0),Ai(this,e[6]||"",!0),this.o=Vi(e[7]||"")):(this.h=!1,this.i=new _o(null,this.h))}function Oi(n){return new ji(n)}function wn(n,e,t){n.j=t?Vi(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Yr(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ai(n,e,t){e instanceof _o?(n.i=e,function va(n,e){e&&!n.j&&(Ur(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(ya(this,r),xs(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=mo(e,ko)),n.i=new _o(e,n.h))}function Nr(n,e,t){n.i.set(e,t)}function ia(n){return Nr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Vi(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function mo(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,is),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function is(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ji.prototype.toString=function(){var n=[],e=this.j;e&&n.push(mo(e,Us,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(mo(e,Us,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(mo(t,"/"==t.charAt(0)?Rr:Ho,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",mo(t,el)),n.join("")};var Us=/[#\/\?@]/g,Ho=/[#\?:]/g,Rr=/[#\?]/g,ko=/[#\?@]/g,el=/#/g;function _o(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ur(n){n.g||(n.g=new Map,n.h=0,n.i&&function Mi(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var a=n[t].substring(0,r);s=n[t].substring(r+1)}else a=n[t];e(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ya(n,e){Ur(n),e=Ms(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Gs(n,e){return Ur(n),e=Ms(n,e),n.g.has(e)}function xs(n,e,t){ya(n,e),0<t.length&&(n.i=null,n.g.set(Ms(n,e),Bn(t)),n.h+=t.length)}function Ms(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Hs(n){this.l=n||Fr,n=dt.PerformanceNavigationTiming?0<(n=dt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(dt.g&&dt.g.Ka&&dt.g.Ka()&&dt.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ze=_o.prototype).add=function(n,e){Ur(this),this.i=null,n=Ms(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ze.forEach=function(n,e){Ur(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},ze.ta=function(){Ur(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let a=0;a<s.length;a++)t.push(e[r])}return t},ze.Z=function(n){Ur(this);let e=[];if("string"==typeof n)Gs(this,n)&&(e=e.concat(this.g.get(Ms(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ze.set=function(n,e){return Ur(this),this.i=null,Gs(this,n=Ms(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ze.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var s=a;""!==c[r]&&(s+="="+encodeURIComponent(String(c[r]))),n.push(s)}}return this.i=n.join("&")};var Fr=10;function yo(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ii(n){return n.h?1:n.g?n.g.size:0}function vl(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ji(n,e){n.g?n.g.add(e):n.h=e}function Ba(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function so(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Bn(n.i)}Hs.prototype.cancel=function(){if(this.i=so(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Ns=class{stringify(n){return dt.JSON.stringify(n,void 0)}parse(n){return dt.JSON.parse(n,void 0)}};function Ea(){this.g=new Ns}function vo(n,e,t){const r=t||"";try{da(n,function(s,a){let c=s;Kt(s)&&(c=Le(s)),e.push(r+a+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function wa(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function gs(n){this.l=n.ec||null,this.j=n.ob||!1}function Ni(n,e){un.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=zo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xe(gs,it),gs.prototype.g=function(){return new Ni(this.l,this.j)},gs.prototype.i=function(n){return function(){return n}}({}),xe(Ni,un);var zo=0;function oo(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Bi(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zs(n)}function zs(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ze=Ni.prototype).open=function(n,e){if(this.readyState!=zo)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zs(this)},ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||dt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bi(this)),this.readyState=zo},ze.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof dt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oo(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ze.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Bi(this):zs(this),3==this.readyState&&oo(this)}},ze.Za=function(n){this.g&&(this.response=this.responseText=n,Bi(this))},ze.Ya=function(n){this.g&&(this.response=n,Bi(this))},ze.ka=function(){this.g&&Bi(this)},ze.setRequestHeader=function(n,e){this.v.append(n,e)},ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ba=dt.JSON.parse;function Xi(n){un.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Oa,this.L=this.M=!1}xe(Xi,un);var Oa="",sc=/^https?$/i,tl=["POST","PUT"];function ha(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Wo(n),fa(n)}function Wo(n){n.F||(n.F=!0,En(n,"complete"),En(n,"error"))}function Nl(n){if(n.h&&typeof Jt<"u"&&(!n.C[1]||4!=Co(n)||2!=n.da()))if(n.v&&4==Co(n))Rt(n.La,0,n);else if(En(n,"readystatechange"),4==Co(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var s=String(n.I).match(Zi)[1]||null;!s&&dt.self&&dt.self.location&&(s=dt.self.location.protocol.slice(0,-1)),r=!sc.test(s?s.toLowerCase():"")}t=r}if(t)En(n,"complete"),En(n,"success");else{n.m=6;try{var a=2<Co(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",Wo(n)}}finally{fa(n)}}}function fa(n,e){if(n.g){es(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||En(n,"ready");try{t.onreadystatechange=r}catch{}}}function es(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(dt.clearTimeout(n.A),n.A=null)}function Co(n){return n.g?n.g.readyState:0}function Eo(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Oa:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Z(n){let e="";return pn(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function we(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Z(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Nr(n,e,t))}function te(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Oe(n){this.Ga=0,this.j=[],this.l=new Wr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=te("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=te("baseRetryDelayMs",5e3,n),this.hb=te("retryDelaySeedMs",1e4,n),this.eb=te("forwardChannelMaxRetries",2,n),this.xa=te("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Hs(n&&n.concurrentRequestLimit),this.Ja=new Ea,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function mn(n){if(ks(n),3==n.H){var e=n.W++,t=Oi(n.I);if(Nr(t,"SID",n.K),Nr(t,"RID",e),Nr(t,"TYPE","terminate"),Zs(n,t),(e=new Lr(n,n.l,e)).L=2,e.v=ia(Oi(t)),t=!1,dt.navigator&&dt.navigator.sendBeacon)try{t=dt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&dt.Image&&((new Image).src=e.v,t=!0),t||(e.g=cl(e.l,null),e.g.ha(e.v)),e.G=Date.now(),No(e)}Ga(n)}function vr(n){n.g&&(sa(n),n.g.cancel(),n.g=null)}function ks(n){vr(n),n.u&&(dt.clearTimeout(n.u),n.u=null),pa(n),n.i.cancel(),n.m&&("number"==typeof n.m&&dt.clearTimeout(n.m),n.m=null)}function zi(n){if(!yo(n.i)&&!n.m){n.m=!0;var e=n.Na;Jn||pr(),xn||(Jn(),xn=!0),oi.add(e,n),n.C=0}}function Ws(n,e){var t;t=e?e.m:n.W++;const r=Oi(n.I);Nr(r,"SID",n.K),Nr(r,"RID",t),Nr(r,"AID",n.V),Zs(n,r),n.o&&n.s&&we(r,n.o,n.s),t=new Lr(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ja(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Ji(n.i,t),po(t,r,e)}function Zs(n,e){n.na&&pn(n.na,function(t,r){Nr(e,r,t)}),n.h&&da({},function(t,r){Nr(e,r,t)})}function ja(n,e,t){t=Math.min(n.j.length,t);var r=n.h?mt(n.h.Va,n.h,n):null;e:{var s=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=s[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let _=!0;for(let b=0;b<t;b++){let P=s[b].g;const $=s[b].map;if(P-=a,0>P)a=Math.max(0,s[b].g-100),_=!1;else try{vo($,c,"req"+P+"_")}catch{r&&r($)}}if(_){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function ao(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Jn||pr(),xn||(Jn(),xn=!0),oi.add(e,n),n.A=0}}function ds(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Hi(mt(n.Ma,n),$a(n,n.A)),n.A++,0))}function sa(n){null!=n.B&&(dt.clearTimeout(n.B),n.B=null)}function ys(n){n.g=new Lr(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Oi(n.wa);Nr(e,"RID","rpc"),Nr(e,"SID",n.K),Nr(e,"AID",n.V),Nr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Nr(e,"TO",n.qa),Nr(e,"TYPE","xmlhttp"),Zs(n,e),n.o&&n.s&&we(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=ia(Oi(e)),t.s=null,t.S=!0,La(t,n)}function pa(n){null!=n.v&&(dt.clearTimeout(n.v),n.v=null)}function ll(n,e){var t=null;if(n.g==e){pa(n),sa(n),n.g=null;var r=2}else{if(!vl(n.i,e))return;t=e.F,Ba(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;En(r=ni(),new Kr(r,t)),zi(n)}else ao(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function Fo(n,e){return!(ii(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Hi(mt(n.Na,n,e),$a(n,n.C)),n.C++,0)))}(n,e)||2==r&&ds(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Ia(n,5);break;case 4:Ia(n,10);break;case 3:Ia(n,6);break;default:Ia(n,2)}}function $a(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ia(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=mt(n.pb,n);t||(t=new ji("//www.google.com/images/cleardot.gif"),dt.location&&"http"==dt.location.protocol||wn(t,"https"),ia(t)),function ps(n,e){const t=new Wr;if(dt.Image){const r=new Image;r.onload=Nt(wa,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Nt(wa,t,r,"TestLoadImage: error",!1,e),r.onabort=Nt(wa,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nt(wa,t,r,"TestLoadImage: timeout",!1,e),dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else $n(2);n.H=0,n.h&&n.h.za(e),Ga(n),ks(n)}function Ga(n){if(n.H=0,n.ma=[],n.h){const e=so(n.i);(0!=e.length||0!=n.j.length)&&(vn(n.ma,e),vn(n.ma,n.j),n.i.i.length=0,Bn(n.j),n.j.length=0),n.h.ya()}}function Pa(n,e,t){var r=t instanceof ji?Oi(t):new ji(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Yr(r,r.m);else{var s=dt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var a=new ji(null);r&&wn(a,r),e&&(a.g=e),s&&Yr(a,s),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Nr(r,t,e),Nr(r,"VER",n.ra),Zs(n,r),r}function cl(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xi(t&&n.Ha&&!n.va?new gs({ob:!0}):n.va)).Oa(n.J),e}function js(){}function Il(){if(Dt&&!(10<=Number(Je)))throw Error("Environmental error: no available transport.")}function Fs(n,e){un.call(this),this.g=new Oe(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Gn(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gn(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new bi(this)}function Tl(n){Gt.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function nl(){er.call(this),this.status=1}function bi(n){this.g=n}function qo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function kl(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((s=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^a&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^s^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(s^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(s^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((s=a+((c=s+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+a&4294967295}function $i(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var a=0|n[s];r&&a==e||(t[s]=a,r=!1)}this.g=t}(ze=Xi.prototype).Oa=function(n){this.M=n},ze.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():gi.g(),this.C=function Ye(n){return n.h||(n.h=n.i())}(this.u?this.u:gi),this.g.onreadystatechange=mt(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void ha(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),s=dt.FormData&&n instanceof dt.FormData,!(0<=zn(tl,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{es(this),0<this.B&&((this.L=function Ua(n){return Dt&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mt(this.ua,this)):this.A=Rt(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){ha(this,a)}},ze.ua=function(){typeof Jt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,En(this,"timeout"),this.abort(8))},ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,En(this,"complete"),En(this,"abort"),fa(this))},ze.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fa(this,!0)),Xi.$.N.call(this)},ze.La=function(){this.s||(this.G||this.v||this.l?Nl(this):this.kb())},ze.kb=function(){Nl(this)},ze.isActive=function(){return!!this.g},ze.da=function(){try{return 2<Co(this)?this.g.status:-1}catch{return-1}},ze.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ze.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ba(e)}},ze.Ia=function(){return this.m},ze.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ze=Oe.prototype).ra=8,ze.H=1,ze.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Lr(this,this.l,n);let a=this.s;if(this.U&&(a?(a=or(a),ui(a,this.U)):a=this.U),null!==this.o||this.O||(s.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ja(this,s,e),Nr(t=Oi(this.I),"RID",n),Nr(t,"CVER",22),this.F&&Nr(t,"X-HTTP-Session-Id",this.F),Zs(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(Z(a)))+"&"+e:this.o&&we(t,this.o,a)),Ji(this.i,s),this.bb&&Nr(t,"TYPE","init"),this.P?(Nr(t,"$req",e),Nr(t,"SID","null"),s.aa=!0,po(s,t,null)):po(s,t,e),this.H=2}}else 3==this.H&&(n?Ws(this,n):0==this.j.length||yo(this.i)||Ws(this))},ze.Ma=function(){if(this.u=null,ys(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Hi(mt(this.jb,this),n)}},ze.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$n(10),vr(this),ys(this))},ze.ib=function(){null!=this.v&&(this.v=null,vr(this),ds(this),$n(19))},ze.pb=function(n){n?(this.l.info("Successfully pinged google.com"),$n(2)):(this.l.info("Failed to ping google.com"),$n(1))},ze.isActive=function(){return!!this.h&&this.h.isActive(this)},(ze=js.prototype).Ba=function(){},ze.Aa=function(){},ze.za=function(){},ze.ya=function(){},ze.isActive=function(){return!0},ze.Va=function(){},Il.prototype.g=function(n,e){return new Fs(n,e)},xe(Fs,un),Fs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;$n(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Pa(n,null,n.Y),zi(n)},Fs.prototype.close=function(){mn(this.g)},Fs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Le(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&zi(e)},Fs.prototype.N=function(){this.g.h=null,delete this.j,mn(this.g),delete this.g,Fs.$.N.call(this)},xe(Tl,Gt),xe(nl,er),xe(bi,js),bi.prototype.Ba=function(){En(this.g,"a")},bi.prototype.Aa=function(n){En(this.g,new Tl(n))},bi.prototype.za=function(n){En(this.g,new nl)},bi.prototype.ya=function(){En(this.g,"b")},xe(qo,function Js(){this.blockSize=-1}),qo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,a=0;a<e;){if(0==s)for(;a<=t;)kl(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[s++]=n.charCodeAt(a++),s==this.blockSize){kl(this,r),s=0;break}}else for(;a<e;)if(r[s++]=n[a++],s==this.blockSize){kl(this,r),s=0;break}}this.h=s,this.i+=e},qo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Ha={};function oa(n){return-128<=n&&128>n?function wt(n,e){var t=Ha;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new $i([0|e],0>e?-1:0)}):new $i([0|n],0>n?-1:0)}function Ma(n){if(isNaN(n)||!isFinite(n))return Lo;if(0>n)return lo(Ma(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Yl;return new $i(e,0)}var Yl=4294967296,Lo=oa(0),Fl=oa(1),ul=oa(16777216);function Ko(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Na(n){return-1==n.h}function lo(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new $i(t,~n.h).add(Fl)}function Ql(n,e){return n.add(lo(e))}function V(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ee(n,e){this.g=n,this.h=e}function Pe(n,e){if(Ko(e))throw Error("division by zero");if(Ko(n))return new ee(Lo,Lo);if(Na(n))return e=Pe(lo(n),e),new ee(lo(e.g),lo(e.h));if(Na(e))return e=Pe(n,lo(e)),new ee(lo(e.g),e.h);if(30<n.g.length){if(Na(n)||Na(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Fl,r=e;0>=r.X(n);)t=Q(t),r=Q(r);var s=Te(t,1),a=Te(r,1);for(r=Te(r,2),t=Te(t,2);!Ko(r);){var c=a.add(r);0>=c.X(n)&&(s=s.add(t),a=c),r=Te(r,1),t=Te(t,1)}return e=Ql(n,s.R(e)),new ee(s,e)}for(s=Lo;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=Ma(t)).R(e);Na(c)||0<c.X(n);)c=(a=Ma(t-=r)).R(e);Ko(a)&&(a=Fl),s=s.add(a),n=Ql(n,c)}return new ee(s,n)}function Q(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new $i(t,n.h)}function Te(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],a=0;a<r;a++)s[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new $i(s,n.h)}(ze=$i.prototype).ea=function(){if(Na(this))return-lo(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Yl+r)*e,e*=Yl}return n},ze.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ko(this))return"0";if(Na(this))return"-"+lo(this).toString(n);for(var e=Ma(Math.pow(n,6)),t=this,r="";;){var s=Pe(t,e).g,a=((0<(t=Ql(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ko(t=s))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},ze.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ze.X=function(n){return Na(n=Ql(this,n))?-1:Ko(n)?0:1},ze.abs=function(){return Na(this)?lo(this):this},ze.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var a=r+(65535&this.D(s))+(65535&n.D(s)),c=(a>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=c>>>16,t[s]=(c&=65535)<<16|(a&=65535)}return new $i(t,-2147483648&t[t.length-1]?-1:0)},ze.R=function(n){if(Ko(this)||Ko(n))return Lo;if(Na(this))return Na(n)?lo(this).R(lo(n)):lo(lo(this).R(n));if(Na(n))return lo(this.R(lo(n)));if(0>this.X(ul)&&0>n.X(ul))return Ma(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var a=this.D(r)>>>16,c=65535&this.D(r),_=n.D(s)>>>16,b=65535&n.D(s);t[2*r+2*s]+=c*b,V(t,2*r+2*s),t[2*r+2*s+1]+=a*b,V(t,2*r+2*s+1),t[2*r+2*s+1]+=c*_,V(t,2*r+2*s+1),t[2*r+2*s+2]+=a*_,V(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new $i(t,0)},ze.gb=function(n){return Pe(this,n).h},ze.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new $i(t,this.h&n.h)},ze.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new $i(t,this.h|n.h)},ze.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new $i(t,this.h^n.h)},Il.prototype.createWebChannel=Il.prototype.g,Fs.prototype.send=Fs.prototype.u,Fs.prototype.open=Fs.prototype.m,Fs.prototype.close=Fs.prototype.close,Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Ja.COMPLETE="complete",It.EventType=Bt,Bt.OPEN="a",Bt.CLOSE="b",Bt.ERROR="c",Bt.MESSAGE="d",un.prototype.listen=un.prototype.O,Xi.prototype.listenOnce=Xi.prototype.P,Xi.prototype.getLastError=Xi.prototype.Sa,Xi.prototype.getLastErrorCode=Xi.prototype.Ia,Xi.prototype.getStatus=Xi.prototype.da,Xi.prototype.getResponseJson=Xi.prototype.Wa,Xi.prototype.getResponseText=Xi.prototype.ja,Xi.prototype.send=Xi.prototype.ha,Xi.prototype.setWithCredentials=Xi.prototype.Oa,qo.prototype.digest=qo.prototype.l,qo.prototype.reset=qo.prototype.reset,qo.prototype.update=qo.prototype.j,$i.prototype.add=$i.prototype.add,$i.prototype.multiply=$i.prototype.R,$i.prototype.modulo=$i.prototype.gb,$i.prototype.compare=$i.prototype.X,$i.prototype.toNumber=$i.prototype.ea,$i.prototype.toString=$i.prototype.toString,$i.prototype.getBits=$i.prototype.D,$i.fromNumber=Ma,$i.fromString=function aa(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return lo(aa(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ma(Math.pow(e,8)),r=Lo,s=0;s<n.length;s+=8){var a=Math.min(8,n.length-s),c=parseInt(n.substring(s,s+a),e);8>a?(a=Ma(Math.pow(e,a)),r=r.R(a).add(Ma(c))):r=(r=r.R(t)).add(Ma(c))}return r};var G=ft.createWebChannelTransport=function(){return new Il},ie=ft.getStatEventTarget=function(){return ni()},de=ft.ErrorCode=Li,ge=ft.EventType=Ja,De=ft.Event=rs,Ze=ft.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mt=(ft.FetchXmlHttpFactory=gs,ft.WebChannel=It),kt=ft.XhrIo=Xi,On=ft.Md5=qo,Un=ft.Integer=$i;const nr="@firebase/firestore";class Yn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");let kr="10.4.0";const Jr=new Ie.Yd("@firebase/firestore");function Ss(){return Jr.logLevel}function $t(n,...e){if(Jr.logLevel<=Ie.in.DEBUG){const t=e.map(hs);Jr.debug(`Firestore (${kr}): ${n}`,...t)}}function Ei(n,...e){if(Jr.logLevel<=Ie.in.ERROR){const t=e.map(hs);Jr.error(`Firestore (${kr}): ${n}`,...t)}}function Wi(n,...e){if(Jr.logLevel<=Ie.in.WARN){const t=e.map(hs);Jr.warn(`Firestore (${kr}): ${n}`,...t)}}function hs(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function tr(n="Unexpected state"){const e=`FIRESTORE (${kr}) INTERNAL ASSERTION FAILED: `+n;throw Ei(e),new Error(e)}function Er(n,e){n||tr()}function Sn(n,e){return n}const Lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _n extends Ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Do{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class za{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yn.UNAUTHENTICATED))}shutdown(){}}class md{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const a=P=>this.i!==s?(s=this.i,t(P)):Promise.resolve();let c=new Do;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Do,e.enqueueRetryable(()=>a(this.currentUser))};const _=()=>{const P=c;e.enqueueRetryable((0,Se.Z)(function*(){yield P.promise,yield a(r.currentUser)}))},b=P=>{$t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=P,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(P=>b(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?b(P):($t("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Do)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Er("string"==typeof r.accessToken),new rl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Er(null===e||"string"==typeof e),new Yn(e)}}class Ao{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ll{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Ao(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Oc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mi{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=a=>{null!=a.error&&$t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,$t("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{$t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):$t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Er("string"==typeof t.token),this.R=t.token,new Oc(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Zl(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Pc{static V(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=Zl(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[a]%62))}return r}}function Sr(n,e){return n<e?-1:n>e?1:0}function Hc(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class ss{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _n(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _n(Lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _n(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _n(Lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ss.fromMillis(Date.now())}static fromDate(e){return ss.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ss(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Sr(this.nanoseconds,e.nanoseconds):Sr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Cr(e)}static min(){return new Cr(new ss(0,0))}static max(){return new Cr(new ss(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class El{constructor(e,t,r){void 0===t?t=0:t>e.length&&tr(),void 0===r?r=e.length-t:r>e.length-t&&tr(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===El.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),c=t.get(s);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class os extends El{construct(e,t,r){return new os(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _n(Lt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new os(t)}static emptyPath(){return new os([])}}const bu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class eo extends El{construct(e,t,r){return new eo(e,t,r)}static isValidIdentifier(e){return bu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),eo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new eo(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(0===r.length)throw new _n(Lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const _=e[s];if("\\"===_){if(s+1===e.length)throw new _n(Lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[s+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new _n(Lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,s+=2}else"`"===_?(c=!c,s++):"."!==_||c?(r+=_,s++):(a(),s++)}if(a(),c)throw new _n(Lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new eo(t)}static emptyPath(){return new eo([])}}class ht{constructor(e){this.path=e}static fromPath(e){return new ht(os.fromString(e))}static fromName(e){return new ht(os.fromString(e).popFirst(5))}static empty(){return new ht(os.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===os.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return os.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new os(e.slice()))}}function vc(n){return new il(n.readTime,n.key,-1)}class il{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new il(Cr.min(),ht.empty(),-1)}static max(){return new il(Cr.max(),ht.empty(),-1)}}function Iu(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ht.comparator(n.documentKey,e.documentKey),0!==t?t:Sr(n.largestBatchId,e.largestBatchId))}const Nc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Io(n){return du.apply(this,arguments)}function du(){return du=(0,Se.Z)(function*(n){if(n.code!==Lt.FAILED_PRECONDITION||n.message!==Nc)throw n;$t("LocalStore","Unexpectedly lost primary lease")}),du.apply(this,arguments)}class bt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new bt((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof bt?t:bt.resolve(t)}catch(t){return bt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):bt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):bt.reject(t)}static resolve(e){return new bt((t,r)=>{t(e)})}static reject(e){return new bt((t,r)=>{r(e)})}static waitFor(e){return new bt((t,r)=>{let s=0,a=0,c=!1;e.forEach(_=>{++s,_.next(()=>{++a,c&&a===s&&t()},b=>r(b))}),c=!0,a===s&&t()})}static or(e){let t=bt.resolve(!1);for(const r of e)t=t.next(s=>s?bt.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new bt((r,s)=>{const a=e.length,c=new Array(a);let _=0;for(let b=0;b<a;b++){const P=b;t(e[P]).next($=>{c[P]=$,++_,_===a&&r(c)},$=>s($))}})}static doWhile(e,t){return new bt((r,s)=>{const a=()=>{!0===e()?t().next(()=>{a()},s):r()};a()})}}function R(n){return"IndexedDbTransactionError"===n.name}let j=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.oe(s),this._e=s=>r.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}return n.ae=-1,n})();function re(n){return null==n}function ye(n){return 0===n&&1/n==-1/0}function Mu(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ec(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class fs{constructor(e,t){this.comparator=e,this.root=t||Ks.EMPTY}insert(e,t){return new fs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ks.BLACK,null,null))}remove(e){return new fs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ks.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uo(this.root,e,this.comparator,!0)}}class Uo{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ks{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ks.RED,this.left=s??Ks.EMPTY,this.right=a??Ks.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ks(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===a?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ks.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Ks.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tr();const e=this.left.check();if(e!==this.right.check())throw tr();return e+(this.isRed()?0:1)}}Ks.EMPTY=null,Ks.RED=!0,Ks.BLACK=!1,Ks.EMPTY=new class{constructor(){this.size=0}get key(){throw tr()}get value(){throw tr()}get color(){throw tr()}get left(){throw tr()}get right(){throw tr()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ks(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ds{constructor(e){this.comparator=e,this.data=new fs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wc(this.data.getIterator())}getIteratorFrom(e){return new wc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ds)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(s,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ds(this.comparator);return t.data=e,t}}class wc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yo{constructor(e){this.fields=e,e.sort(eo.comparator)}static empty(){return new Yo([])}unionWith(e){let t=new Ds(eo.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Yo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Hc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class _h extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _h("Invalid base64 string: "+a):a}}(e);return new Qo(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new Qo(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qo.EMPTY_BYTE_STRING=new Qo("");const Nu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(n){if(Er(!!n),"string"==typeof n){let e=0;const t=Nu.exec(n);if(Er(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jo(n.seconds),nanos:jo(n.nanos)}}function jo(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function xo(n){return"string"==typeof n?Qo.fromBase64String(n):Qo.fromUint8Array(n)}function bc(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Wc(n){const e=n.mapValue.fields.__previous_value__;return bc(e)?Wc(e):e}function Cl(n){const e=Zo(n.mapValue.fields.__local_write_time__.timestampValue);return new ss(e.seconds,e.nanos)}class qc{constructor(e,t,r,s,a,c,_,b,P){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=_,this.longPollingOptions=b,this.useFetchStreams=P}}class Jo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Jo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jo&&e.projectId===this.projectId&&e.database===this.database}}const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bc(n)?4:Ud(n)?9007199254740991:10:tr()}function wl(n,e){if(n===e)return!0;const t=jl(n);if(t!==jl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cl(n).isEqual(Cl(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Zo(s.timestampValue),_=Zo(a.timestampValue);return c.seconds===_.seconds&&c.nanos===_.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,xo(n.bytesValue).isEqual(xo(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return jo(s.geoPointValue.latitude)===jo(a.geoPointValue.latitude)&&jo(s.geoPointValue.longitude)===jo(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return jo(s.integerValue)===jo(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=jo(s.doubleValue),_=jo(a.doubleValue);return c===_?ye(c)===ye(_):isNaN(c)&&isNaN(_)}return!1}(n,e);case 9:return Hc(n.arrayValue.values||[],e.arrayValue.values||[],wl);case 10:return function(s,a){const c=s.mapValue.fields||{},_=a.mapValue.fields||{};if(Mu(c)!==Mu(_))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===_[b]||!wl(c[b],_[b])))return!1;return!0}(n,e);default:return tr()}var a}function _d(n,e){return void 0!==(n.values||[]).find(t=>wl(t,e))}function kc(n,e){if(n===e)return 0;const t=jl(n),r=jl(e);if(t!==r)return Sr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Sr(n.booleanValue,e.booleanValue);case 2:return function(a,c){const _=jo(a.integerValue||a.doubleValue),b=jo(c.integerValue||c.doubleValue);return _<b?-1:_>b?1:_===b?0:isNaN(_)?isNaN(b)?0:-1:1}(n,e);case 3:return hu(n.timestampValue,e.timestampValue);case 4:return hu(Cl(n),Cl(e));case 5:return Sr(n.stringValue,e.stringValue);case 6:return function(a,c){const _=xo(a),b=xo(c);return _.compareTo(b)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const _=a.split("/"),b=c.split("/");for(let P=0;P<_.length&&P<b.length;P++){const $=Sr(_[P],b[P]);if(0!==$)return $}return Sr(_.length,b.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const _=Sr(jo(a.latitude),jo(c.latitude));return 0!==_?_:Sr(jo(a.longitude),jo(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,c){const _=a.values||[],b=c.values||[];for(let P=0;P<_.length&&P<b.length;++P){const $=kc(_[P],b[P]);if($)return $}return Sr(_.length,b.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===Ul.mapValue&&c===Ul.mapValue)return 0;if(a===Ul.mapValue)return 1;if(c===Ul.mapValue)return-1;const _=a.fields||{},b=Object.keys(_),P=c.fields||{},$=Object.keys(P);b.sort(),$.sort();for(let J=0;J<b.length&&J<$.length;++J){const Ee=Sr(b[J],$[J]);if(0!==Ee)return Ee;const Ne=kc(_[b[J]],P[$[J]]);if(0!==Ne)return Ne}return Sr(b.length,$.length)}(n.mapValue,e.mapValue);default:throw tr()}}function hu(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Sr(n,e);const t=Zo(n),r=Zo(e),s=Sr(t.seconds,r.seconds);return 0!==s?s:Sr(t.nanos,r.nanos)}function cc(n){return Xu(n)}function Xu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Zo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?xo(n.bytesValue).toBase64():"referenceValue"in n?ht.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Xu(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const c of r)a?a=!1:s+=",",s+=`${c}:${Xu(t.fields[c])}`;return s+"}"}(n.mapValue):tr()}function ed(n){return!!n&&"integerValue"in n}function $o(n){return!!n&&"arrayValue"in n}function fu(n){return!!n&&"nullValue"in n}function td(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uc(n){return!!n&&"mapValue"in n}function yd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ec(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ud(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class B{constructor(e){this.value=e}static empty(){return new B({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yd(t)}setAll(e){let t=eo.emptyPath(),r={},s=[];e.forEach((c,_)=>{if(!t.isImmediateParentOf(_)){const b=this.getFieldsMap(t);this.applyChanges(b,r,s),r={},s=[],t=_.popLast()}c?r[_.lastSegment()]=yd(c):s.push(_.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];uc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ec(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new B(yd(this.value))}}class le{constructor(e,t,r,s,a,c,_){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=c,this.documentState=_}static newInvalidDocument(e){return new le(e,0,Cr.min(),Cr.min(),Cr.min(),B.empty(),0)}static newFoundDocument(e,t,r,s){return new le(e,1,t,Cr.min(),r,s,0)}static newNoDocument(e,t){return new le(e,2,t,Cr.min(),Cr.min(),B.empty(),0)}static newUnknownDocument(e,t){return new le(e,3,t,Cr.min(),Cr.min(),B.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Cr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=B.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=B.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof le&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Re{constructor(e,t){this.position=e,this.inclusive=t}}function qe(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],c=n.position[s];if(r=a.field.isKeyField()?ht.comparator(ht.fromName(c.referenceValue),t.key):kc(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ut(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wl(n.position[t],e.position[t]))return!1;return!0}class Qt{constructor(e,t="asc"){this.field=e,this.dir=t}}function rr(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Xn{}class An extends Xn{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Fc(e,t,r):"array-contains"===t?new Su(e,r):"in"===t?new jd(e,r):"not-in"===t?new Fu(e,r):"array-contains-any"===t?new Lu(e,r):new An(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new rd(e,r):new dc(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(kc(t,this.value)):null!==t&&jl(this.value)===jl(t)&&this.matchesComparison(kc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gr extends Xn{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new gr(e,t)}matches(e){return qr(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(t=>t.isInequality());return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function qr(n){return"and"===n.op}function Go(n){return function Ls(n){for(const e of n.filters)if(e instanceof gr)return!1;return!0}(n)&&qr(n)}function Qc(n){if(n instanceof An)return n.field.canonicalString()+n.op.toString()+cc(n.value);if(Go(n))return n.filters.map(e=>Qc(e)).join(",");{const e=n.filters.map(t=>Qc(t)).join(",");return`${n.op}(${e})`}}function $l(n,e){return n instanceof An?(r=n,(s=e)instanceof An&&r.op===s.op&&r.field.isEqual(s.field)&&wl(r.value,s.value)):n instanceof gr?function(r,s){return s instanceof gr&&r.op===s.op&&r.filters.length===s.filters.length&&r.filters.reduce((a,c,_)=>a&&$l(c,s.filters[_]),!0)}(n,e):void tr();var r,s}function la(n){return n instanceof An?`${(t=n).field.canonicalString()} ${t.op} ${cc(t.value)}`:n instanceof gr?function(t){return t.op.toString()+" {"+t.getFilters().map(la).join(" ,")+"}"}(n):"Filter";var t}class Fc extends An{constructor(e,t,r){super(e,t,r),this.key=ht.fromName(r.referenceValue)}matches(e){const t=ht.comparator(e.key,this.key);return this.matchesComparison(t)}}class rd extends An{constructor(e,t){super(e,"in",t),this.keys=Lc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dc extends An{constructor(e,t){super(e,"not-in",t),this.keys=Lc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Lc(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ht.fromName(r.referenceValue))}class Su extends An{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $o(t)&&_d(t.arrayValue,this.value)}}class jd extends An{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_d(this.value.arrayValue,t)}}class Fu extends An{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_d(this.value.arrayValue,t)}}class Lu extends An{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$o(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_d(this.value.arrayValue,r))}}class Oo{constructor(e,t=null,r=[],s=[],a=null,c=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=c,this.endAt=_,this.he=null}}function Vu(n,e=null,t=[],r=[],s=null,a=null,c=null){return new Oo(n,e,t,r,s,a,c)}function pl(n){const e=Sn(n);if(null===e.he){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Qc(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),re(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cc(r)).join(",")),e.he=t}return e.he}function id(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rr(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$l(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ut(n.startAt,e.startAt)&&ut(n.endAt,e.endAt)}function Dl(n){return ht.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class w{constructor(e,t=null,r=[],s=[],a=null,c="F",_=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=c,this.startAt=_,this.endAt=b,this.Pe=null,this.Ie=null,this.de=null}}function U(n){return new w(n)}function ue(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Hn(n){const e=Sn(n);if(null===e.Pe){e.Pe=[];const t=function pt(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function be(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.Pe.push(new Qt(t)),e.Pe.push(new Qt(eo.keyField(),"asc"));else{let s=!1;for(const a of e.explicitOrderBy)e.Pe.push(a),a.field.isKeyField()&&(s=!0);if(!s){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Qt(eo.keyField(),a))}}}return e.Pe}function Kn(n){const e=Sn(n);return e.Ie||(e.Ie=function Vr(n,e){if("F"===n.limitType)return Vu(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>new Qt(s.field,"desc"===s.dir?"asc":"desc"));const t=n.endAt?new Re(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Re(n.startAt.position,n.startAt.inclusive):null;return Vu(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Hn(n))),e.Ie}function Sa(n,e,t){return new w(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gl(n,e){return id(Kn(n),Kn(e))&&n.limitType===e.limitType}function Cu(n){return`${pl(Kn(n))}|lt:${n.limitType}`}function Zc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>la(s)).join(", ")}]`),re(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>{return`${(c=s).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>cc(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>cc(s)).join(",")),`Target(${r})`}(Kn(n))}; limitType=${n.limitType})`}function Du(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return null!==r.collectionGroup?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ht.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Hn(r))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((r=n).startAt&&!function(c,_,b){const P=qe(c,_,b);return c.inclusive?P<=0:P<0}(r.startAt,Hn(r),s)||r.endAt&&!function(c,_,b){const P=qe(c,_,b);return c.inclusive?P>=0:P>0}(r.endAt,Hn(r),s)));var r,s}function sd(n){return(e,t)=>{let r=!1;for(const s of Hn(n)){const a=ec(s,e,t);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function ec(n,e,t){const r=n.field.isKeyField()?ht.comparator(e.key,t.key):function(a,c,_){const b=c.data.field(a),P=_.data.field(a);return null!==b&&null!==P?kc(b,P):tr()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tr()}}class Al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,a]of r)if(this.equalsFn(s,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ec(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return function Fa(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const Lh=new fs(ht.comparator);function Rl(){return Lh}const yh=new fs(ht.comparator);function od(...n){let e=yh;for(const t of n)e=e.insert(t.key,t);return e}function $d(n){let e=yh;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Jc(){return Gd()}function vd(){return Gd()}function Gd(){return new Al(n=>n.toString(),(n,e)=>n.isEqual(e))}new fs(ht.comparator);const Tp=new Ds(ht.comparator);function as(...n){let e=Tp;for(const t of n)e=e.add(t);return e}const Sp=new Ds(Sr);class Bh{constructor(){this._=void 0}}function P_(n,e,t){return n instanceof ad?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&bc(a)&&(a=Wc(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof zd?qg(n,e):n instanceof ld?Ef(n,e):function(s,a){const c=function Hd(n,e){return n instanceof gu?ed(r=e)||(a=r)&&"doubleValue"in a?e:{integerValue:0}:null;var r,a}(s,a),_=vh(c)+vh(s.Te);return ed(c)&&ed(s.Te)?function vf(n){return{integerValue:""+n}}(_):function Cp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ye(e)?"-0":e}}(s.serializer,_)}(n,e)}function Ed(n,e,t){return n instanceof zd?qg(n,e):n instanceof ld?Ef(n,e):t}class ad extends Bh{}class zd extends Bh{constructor(e){super(),this.elements=e}}function qg(n,e){const t=Dp(e);for(const r of n.elements)t.some(s=>wl(s,r))||t.push(r);return{arrayValue:{values:t}}}class ld extends Bh{constructor(e){super(),this.elements=e}}function Ef(n,e){let t=Dp(e);for(const r of n.elements)t=t.filter(s=>!wl(s,r));return{arrayValue:{values:t}}}class gu extends Bh{constructor(e,t){super(),this.serializer=e,this.Te=t}}function vh(n){return jo(n.integerValue||n.doubleValue)}function Dp(n){return $o(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xo}static exists(e){return new Xo(void 0,e)}static updateTime(e){return new Xo(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Id{}function qd(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ud(n.key,Xo.none()):new cd(n.key,n.data,Xo.none());{const t=n.data,r=B.empty();let s=new Ds(eo.comparator);for(let a of e.fields)if(!s.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),s=s.add(a)}return new mu(n.key,r,new Yo(s.toArray()),Xo.none())}}function Kd(n,e,t){n instanceof cd?function(s,a,c){const _=s.value.clone(),b=xp(s.fieldTransforms,a,c.transformResults);_.setAll(b),a.convertToFoundDocument(c.version,_).setHasCommittedMutations()}(n,e,t):n instanceof mu?function(s,a,c){if(!Wd(s.precondition,a))return void a.convertToUnknownDocument(c.version);const _=xp(s.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(Rp(s)),b.setAll(_),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Yd(n,e,t,r){return n instanceof cd?function(a,c,_,b){if(!Wd(a.precondition,c))return _;const P=a.value.clone(),$=Op(a.fieldTransforms,b,c);return P.setAll($),c.convertToFoundDocument(c.version,P).setHasLocalMutations(),null}(n,e,t,r):n instanceof mu?function(a,c,_,b){if(!Wd(a.precondition,c))return _;const P=Op(a.fieldTransforms,b,c),$=c.data;return $.setAll(Rp(a)),$.setAll(P),c.convertToFoundDocument(c.version,$).setHasLocalMutations(),null===_?null:_.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(J=>J.field))}(n,e,t,r):(_=t,Wd(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):_);var c,_}function Kg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===s||r&&s&&Hc(r,s,(a,c)=>function Ap(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(r=n.transform)instanceof zd&&s instanceof zd||r instanceof ld&&s instanceof ld?Hc(r.elements,s.elements,wl):r instanceof gu&&s instanceof gu?wl(r.Te,s.Te):r instanceof ad&&s instanceof ad);var r,s}(a,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,s}class cd extends Id{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mu extends Id{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Rp(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xp(n,e,t){const r=new Map;Er(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],c=a.transform,_=e.data.field(a.field);r.set(a.field,Ed(c,_,t[s]))}return r}function Op(n,e,t){const r=new Map;for(const s of n){const a=s.transform,c=t.data.field(s.field);r.set(s.field,P_(a,c,e))}return r}class ud extends Id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yg{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Kd(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=vd();return this.mutations.forEach(s=>{const a=e.get(s.key),c=a.overlayedDocument;let _=this.applyToLocalView(c,a.mutatedFields);_=t.has(s.key)?null:_;const b=qd(c,_);null!==b&&r.set(s.key,b),c.isValidDocument()||c.convertToNoDocument(Cr.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),as())}isEqual(e){return this.batchId===e.batchId&&Hc(this.mutations,e.mutations,(t,r)=>Kg(t,r))&&Hc(this.baseMutations,e.baseMutations,(t,r)=>Kg(t,r))}}class p{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class I{constructor(e,t){this.count=e,this.unchangedNames=t}}var F,K;function Ce(n){if(void 0===n)return Ei("GRPC error has no .code"),Lt.UNKNOWN;switch(n){case F.OK:return Lt.OK;case F.CANCELLED:return Lt.CANCELLED;case F.UNKNOWN:return Lt.UNKNOWN;case F.DEADLINE_EXCEEDED:return Lt.DEADLINE_EXCEEDED;case F.RESOURCE_EXHAUSTED:return Lt.RESOURCE_EXHAUSTED;case F.INTERNAL:return Lt.INTERNAL;case F.UNAVAILABLE:return Lt.UNAVAILABLE;case F.UNAUTHENTICATED:return Lt.UNAUTHENTICATED;case F.INVALID_ARGUMENT:return Lt.INVALID_ARGUMENT;case F.NOT_FOUND:return Lt.NOT_FOUND;case F.ALREADY_EXISTS:return Lt.ALREADY_EXISTS;case F.PERMISSION_DENIED:return Lt.PERMISSION_DENIED;case F.FAILED_PRECONDITION:return Lt.FAILED_PRECONDITION;case F.ABORTED:return Lt.ABORTED;case F.OUT_OF_RANGE:return Lt.OUT_OF_RANGE;case F.UNIMPLEMENTED:return Lt.UNIMPLEMENTED;case F.DATA_LOSS:return Lt.DATA_LOSS;default:return tr()}}(K=F||(F={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";const tn=new Un([4294967295,4294967295],0);function on(n){const e=function et(){return new TextEncoder}().encode(n),t=new On;return t.update(e),new Uint8Array(t.digest())}function yn(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Un([t,r],0),new Un([s,a],0)]}class xr{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new si(`Invalid padding: ${t}`);if(r<0)throw new si(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new si(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new si(`Invalid padding when bitmap length is 0: ${t}`);this.Ae=8*e.length-t,this.Re=Un.fromNumber(this.Ae)}Ve(e,t,r){let s=e.add(t.multiply(Un.fromNumber(r)));return 1===s.compare(tn)&&(s=new Un([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ae)return!1;const t=on(e),[r,s]=yn(t);for(let a=0;a<this.hashCount;a++){const c=this.Ve(r,s,a);if(!this.me(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new xr(a,s,t);return r.forEach(_=>c.insert(_)),c}insert(e){if(0===this.Ae)return;const t=on(e),[r,s]=yn(t);for(let a=0;a<this.hashCount;a++){const c=this.Ve(r,s,a);this.fe(c)}}fe(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class si extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $s{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,qa.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $s(Cr.min(),s,new fs(Sr),Rl(),as())}}class qa{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new qa(r,t,as(),as(),as())}}class Au{constructor(e,t,r,s){this.ge=e,this.removedTargetIds=t,this.key=r,this.pe=s}}class Uh{constructor(e,t){this.targetId=e,this.ye=t}}class Td{constructor(e,t,r=Qo.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Qg{constructor(){this.we=0,this.Se=F_(),this.be=Qo.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return 0!==this.we}get Fe(){return this.Ce}Me(e){e.approximateByteSize()>0&&(this.Ce=!0,this.be=e)}xe(){let e=as(),t=as(),r=as();return this.Se.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:tr()}}),new qa(this.be,this.De,e,t,r)}Oe(){this.Ce=!1,this.Se=F_()}Ne(e,t){this.Ce=!0,this.Se=this.Se.insert(e,t)}Be(e){this.Ce=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class N_{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=Rl(),this.Ue=k_(),this.We=new fs(Sr)}Ge(e){for(const t of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(t,e.pe):this.je(t,e.key,e.pe);for(const t of e.removedTargetIds)this.je(t,e.key,e.pe)}He(e){this.forEachTarget(e,t=>{const r=this.Je(t);switch(e.state){case 0:this.Ye(t)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(t);break;case 3:this.Ye(t)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(t)&&(this.Ze(t),r.Me(e.resumeToken));break;default:tr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ke.forEach((r,s)=>{this.Ye(s)&&t(s)})}Xe(e){const t=e.targetId,r=e.ye.count,s=this.et(t);if(s){const a=s.target;if(Dl(a))if(0===r){const c=new ht(a.path);this.je(t,c,le.newNoDocument(c,Cr.min()))}else Er(1===r);else{const c=this.tt(t);if(c!==r){const _=this.nt(e),b=_?this.rt(_,e,c):1;0!==b&&(this.Ze(t),this.We=this.We.insert(t,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}nt(e){const t=e.ye.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let c,_;try{c=xo(r).toUint8Array()}catch(b){if(b instanceof _h)return Wi("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw b}try{_=new xr(c,s,a)}catch(b){return Wi(b instanceof si?"BloomFilter error: ":"Applying bloom filter failed: ",b),null}return 0===_.Ae?null:_}rt(e,t,r){return t.ye.count===r-this.ot(e,t.targetId)?0:2}ot(e,t){const r=this.Qe.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const c=this.Qe.st(),_=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(_)||(this.je(t,a,null),s++)}),s}_t(e){const t=new Map;this.Ke.forEach((a,c)=>{const _=this.et(c);if(_){if(a.current&&Dl(_.target)){const b=new ht(_.target.path);null!==this.$e.get(b)||this.ut(c,b)||this.je(c,b,le.newNoDocument(b,e))}a.Fe&&(t.set(c,a.xe()),a.Oe())}});let r=as();this.Ue.forEach((a,c)=>{let _=!0;c.forEachWhile(b=>{const P=this.et(b);return!P||"TargetPurposeLimboResolution"===P.purpose||(_=!1,!1)}),_&&(r=r.add(a))}),this.$e.forEach((a,c)=>c.setReadTime(e));const s=new $s(e,t,this.We,this.$e,r);return this.$e=Rl(),this.Ue=k_(),this.We=new fs(Sr),s}ze(e,t){if(!this.Ye(e))return;const r=this.ut(e,t.key)?2:0;this.Je(e).Ne(t.key,r),this.$e=this.$e.insert(t.key,t),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}je(e,t,r){if(!this.Ye(e))return;const s=this.Je(e);this.ut(e,t)?s.Ne(t,1):s.Be(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),r&&(this.$e=this.$e.insert(t,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const t=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let t=this.Ke.get(e);return t||(t=new Qg,this.Ke.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ds(Sr),this.Ue=this.Ue.insert(e,t)),t}Ye(e){const t=null!==this.et(e);return t||$t("WatchChangeAggregator","Detected inactive target",e),t}et(e){const t=this.Ke.get(e);return t&&t.ve?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new Qg),this.Qe.getRemoteKeysForTarget(e).forEach(t=>{this.je(e,t,null)})}ut(e,t){return this.Qe.getRemoteKeysForTarget(e).has(t)}}function k_(){return new fs(ht.comparator)}function F_(){return new fs(ht.comparator)}const R0={asc:"ASCENDING",desc:"DESCENDING"},wf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mp={and:"AND",or:"OR"};class x0{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Np(n,e){return n.useProto3Json||re(e)?e:{value:e}}function ml(n){return Er(!!n),Cr.fromTimestamp(function(t){const r=Zo(t);return new ss(r.seconds,r.nanos)}(n))}function P0(n){const e=os.fromString(n);return Er(Fp(e)),e}function dd(n,e){const t=P0(e);if(t.get(1)!==n.databaseId.projectId)throw new _n(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _n(Lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ht(M0(t))}function bf(n,e){return function L_(n,e){return(r=n,new os(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}(n.databaseId,e)}function jh(n){return new os(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function M0(n){return Er(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function k0(n,e){return{documents:[bf(n,e.path)]}}function Sf(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=bf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(b){if(0!==b.length)return U_(gr.create(b,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(b){if(0!==b.length)return b.map(P=>{return{field:Bu((J=P).field),direction:em(J.dir)};var J})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=Np(n,e.limit);return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt=function(b){return{before:!b.inclusive,values:b.position}}(e.endAt)),t;var b}function F0(n){let e=function If(n){const e=P0(n);return 4===e.length?os.emptyPath():M0(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Er(1===r);const $=t.from[0];$.allDescendants?s=$.collectionId:e=e.child($.collectionId)}let a=[];t.where&&(a=function(J){const Ee=V_(J);return Ee instanceof gr&&Go(Ee)?Ee.getFilters():[Ee]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(Ee=>{return new Qt(Cd((St=Ee).field),function(qt){switch(qt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(St.direction));var St}));let _=null;t.limit&&(_=function(J){let Ee;return Ee="object"==typeof J?J.value:J,re(Ee)?null:Ee}(t.limit));let b=null;var J;t.startAt&&(b=new Re((J=t.startAt).values||[],!!J.before));let P=null;return t.endAt&&(P=function(J){return new Re(J.values||[],!J.before)}(t.endAt)),function A(n,e,t,r,s,a,c,_){return new w(n,e,t,r,s,a,c,_)}(e,s,c,a,_,"F",b,P)}function V_(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Cd(t.unaryFilter.field);return An.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Cd(t.unaryFilter.field);return An.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Cd(t.unaryFilter.field);return An.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Cd(t.unaryFilter.field);return An.create(c,"!=",{nullValue:"NULL_VALUE"});default:return tr()}}(n):void 0!==n.fieldFilter?An.create(Cd((t=n).fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tr()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return gr.create(t.compositeFilter.filters.map(r=>V_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return tr()}}(t.compositeFilter.op))}(n):tr();var t}function em(n){return R0[n]}function B_(n){return wf[n]}function V0(n){return Mp[n]}function Bu(n){return{fieldPath:n.canonicalString()}}function Cd(n){return eo.fromServerFormat(n.fieldPath)}function U_(n){return n instanceof An?function(t){if("=="===t.op){if(td(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NAN"}};if(fu(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(td(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NAN"}};if(fu(t.value))return{unaryFilter:{field:Bu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(t.field),op:B_(t.op),value:t.value}}}(n):n instanceof gr?function(t){const r=t.getFilters().map(s=>U_(s));return 1===r.length?r[0]:{compositeFilter:{op:V0(t.op),filters:r}}}(n):tr()}function Fp(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Dd{constructor(e,t,r,s,a=Cr.min(),c=Cr.min(),_=Qo.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=_,this.expectedCount=b}withSequenceNumber(e){return new Dd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Dd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Cf{constructor(e){this.ht=e}}function ce(n){const e=F0({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Sa(e,e.limit,"L"):e}class vi{constructor(){}dt(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.At(t,5);else if("booleanValue"in e)this.At(t,10),t.Rt(e.booleanValue?1:0);else if("integerValue"in e)this.At(t,15),t.Rt(jo(e.integerValue));else if("doubleValue"in e){const r=jo(e.doubleValue);isNaN(r)?this.At(t,13):(this.At(t,15),ye(r)?t.Rt(0):t.Rt(r))}else if("timestampValue"in e){const r=e.timestampValue;this.At(t,20),"string"==typeof r?t.Vt(r):(t.Vt(`${r.seconds||""}`),t.Rt(r.nanos||0))}else if("stringValue"in e)this.ft(e.stringValue,t),this.gt(t);else if("bytesValue"in e)this.At(t,30),t.yt(xo(e.bytesValue)),this.gt(t);else if("referenceValue"in e)this.wt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.At(t,45),t.Rt(r.latitude||0),t.Rt(r.longitude||0)}else"mapValue"in e?Ud(e)?this.At(t,Number.MAX_SAFE_INTEGER):(this.St(e.mapValue,t),this.gt(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.gt(t)):tr()}ft(e,t){this.At(t,25),this.Dt(e,t)}Dt(e,t){t.Vt(e)}St(e,t){const r=e.fields||{};this.At(t,55);for(const s of Object.keys(r))this.ft(s,t),this.Tt(r[s],t)}bt(e,t){const r=e.values||[];this.At(t,50);for(const s of r)this.Tt(s,t)}wt(e,t){this.At(t,37),ht.fromName(e).path.forEach(r=>{this.At(t,60),this.Dt(r,t)})}At(e,t){e.Rt(t)}gt(e){e.Rt(2)}}vi.Ct=new vi;class Zd{constructor(){this.an=new Gh}addToCollectionParentIndex(e,t){return this.an.add(t),bt.resolve()}getCollectionParents(e,t){return bt.resolve(this.an.getEntries(t))}addFieldIndex(e,t){return bt.resolve()}deleteFieldIndex(e,t){return bt.resolve()}deleteAllFieldIndexes(e){return bt.resolve()}createTargetIndexes(e,t){return bt.resolve()}getDocumentsMatchingTarget(e,t){return bt.resolve(null)}getIndexType(e,t){return bt.resolve(0)}getFieldIndexes(e,t){return bt.resolve([])}getNextCollectionGroupToUpdate(e){return bt.resolve(null)}getMinOffset(e,t){return bt.resolve(il.min())}getMinOffsetFromCollectionGroup(e,t){return bt.resolve(il.min())}updateCollectionGroup(e,t,r){return bt.resolve()}updateIndexEntries(e,t){return bt.resolve()}}class Gh{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ds(os.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ds(os.comparator)).toArray()}}new Uint8Array(0);class Hl{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Hl(e,Hl.DEFAULT_COLLECTION_PERCENTILE,Hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Hl.DEFAULT_COLLECTION_PERCENTILE=10,Hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hl.DEFAULT=new Hl(41943040,Hl.DEFAULT_COLLECTION_PERCENTILE,Hl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hl.DISABLED=new Hl(-1,0,0);class xd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Bn(){return new xd(0)}static Ln(){return new xd(-1)}}class ZS{constructor(){this.changes=new Al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,le.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?bt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Bp{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Yd(r.mutation,s,Yo.empty(),ss.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,as()).next(()=>r))}getLocalViewOfDocuments(e,t,r=as()){const s=Jc();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let c=od();return a.forEach((_,b)=>{c=c.insert(_,b.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Jc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,as()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((c,_)=>{t.set(c,_)})})}computeViews(e,t,r,s){let a=Rl();const c=Gd(),_=Gd();return t.forEach((b,P)=>{const $=r.get(P.key);s.has(P.key)&&(void 0===$||$.mutation instanceof mu)?a=a.insert(P.key,P):void 0!==$?(c.set(P.key,$.mutation.getFieldMask()),Yd($.mutation,P,$.mutation.getFieldMask(),ss.now())):c.set(P.key,Yo.empty())}),this.recalculateAndSaveOverlays(e,a).next(b=>(b.forEach((P,$)=>c.set(P,$)),t.forEach((P,$)=>{var J;return _.set(P,new gx($,null!==(J=c.get(P))&&void 0!==J?J:null))}),_))}recalculateAndSaveOverlays(e,t){const r=Gd();let s=new fs((c,_)=>c-_),a=as();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const _ of c)_.keys().forEach(b=>{const P=t.get(b);if(null===P)return;let $=r.get(b)||Yo.empty();$=_.applyToLocalView(P,$),r.set(b,$);const J=(s.get(_.batchId)||as()).add(b);s=s.insert(_.batchId,J)})}).next(()=>{const c=[],_=s.getReverseIterator();for(;_.hasNext();){const b=_.getNext(),P=b.key,$=b.value,J=vd();$.forEach(Ee=>{if(!a.has(Ee)){const Ne=qd(t.get(Ee),r.get(Ee));null!==Ne&&J.set(Ee,Ne),a=a.add(Ee)}}),c.push(this.documentOverlayCache.saveOverlays(e,P,J))}return bt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return ht.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Yt(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s);var c}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const c=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):bt.resolve(Jc());let _=-1,b=a;return c.next(P=>bt.forEach(P,($,J)=>(_<J.largestBatchId&&(_=J.largestBatchId),a.get($)?bt.resolve():this.remoteDocumentCache.getEntry(e,$).next(Ee=>{b=b.insert($,Ee)}))).next(()=>this.populateOverlays(e,P,a)).next(()=>this.computeViews(e,b,P,as())).next($=>({batchId:_,changes:$d($)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ht(t)).next(r=>{let s=od();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let c=od();return this.indexManager.getCollectionParents(e,a).next(_=>bt.forEach(_,b=>{const P=(J=t,Ee=b.child(a),new w(Ee,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,Ee;return this.getDocumentsMatchingCollectionQuery(e,P,r,s).next($=>{$.forEach((J,Ee)=>{c=c.insert(J,Ee)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(c=>{a.forEach((b,P)=>{const $=P.getKey();null===c.get($)&&(c=c.insert($,le.newInvalidDocument($)))});let _=od();return c.forEach((b,P)=>{const $=a.get(b);void 0!==$&&Yd($.mutation,P,Yo.empty(),ss.now()),Du(t,P)&&(_=_.insert(b,P))}),_})}}class ea{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,t){return bt.resolve(this.lr.get(t))}saveBundleMetadata(e,t){return this.lr.set(t.id,{id:(s=t).id,version:s.version,createTime:ml(s.createTime)}),bt.resolve();var s}getNamedQuery(e,t){return bt.resolve(this.hr.get(t))}saveNamedQuery(e,t){return this.hr.set(t.name,{name:(s=t).name,query:ce(s.bundledQuery),readTime:ml(s.readTime)}),bt.resolve();var s}}class im{constructor(){this.overlays=new fs(ht.comparator),this.Pr=new Map}getOverlay(e,t){return bt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Jc();return bt.forEach(t,s=>this.getOverlay(e,s).next(a=>{null!==a&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.It(e,t,a)}),bt.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Pr.get(r);return void 0!==s&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Pr.delete(r)),bt.resolve()}getOverlaysForCollection(e,t,r){const s=Jc(),a=t.length+1,c=new ht(t.child("")),_=this.overlays.getIteratorFrom(c);for(;_.hasNext();){const b=_.getNext().value,P=b.getKey();if(!t.isPrefixOf(P.path))break;P.path.length===a&&b.largestBatchId>r&&s.set(b.getKey(),b)}return bt.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new fs((P,$)=>P-$);const c=this.overlays.getIterator();for(;c.hasNext();){const P=c.getNext().value;if(P.getKey().getCollectionGroup()===t&&P.largestBatchId>r){let $=a.get(P.largestBatchId);null===$&&($=Jc(),a=a.insert(P.largestBatchId,$)),$.set(P.getKey(),P)}}const _=Jc(),b=a.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((P,$)=>_.set(P,$)),!(_.size()>=s)););return bt.resolve(_)}It(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const c=this.Pr.get(s.largestBatchId).delete(r.key);this.Pr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new p(t,r));let a=this.Pr.get(t);void 0===a&&(a=as(),this.Pr.set(t,a)),this.Pr.set(t,a.add(r.key))}}class H_{constructor(){this.Ir=new Ds(fc.dr),this.Tr=new Ds(fc.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(e,t){const r=new fc(e,t);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Rr(new fc(e,t))}Vr(e,t){e.forEach(r=>this.removeReference(r,t))}mr(e){const t=new ht(new os([])),r=new fc(t,e),s=new fc(t,e+1),a=[];return this.Tr.forEachInRange([r,s],c=>{this.Rr(c),a.push(c.key)}),a}gr(){this.Ir.forEach(e=>this.Rr(e))}Rr(e){this.Ir=this.Ir.delete(e),this.Tr=this.Tr.delete(e)}pr(e){const t=new ht(new os([])),r=new fc(t,e),s=new fc(t,e+1);let a=as();return this.Tr.forEachInRange([r,s],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new fc(e,0),r=this.Ir.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class fc{constructor(e,t){this.key=e,this.yr=t}static dr(e,t){return ht.comparator(e.key,t.key)||Sr(e.yr,t.yr)}static Er(e,t){return Sr(e.yr,t.yr)||ht.comparator(e.key,t.key)}}class H0{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.wr=1,this.Sr=new Ds(fc.dr)}checkEmpty(e){return bt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const a=this.wr;this.wr++;const c=new Yg(a,t,r,s);this.mutationQueue.push(c);for(const _ of s)this.Sr=this.Sr.add(new fc(_.key,a)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return bt.resolve(c)}lookupMutationBatch(e,t){return bt.resolve(this.br(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Dr(t+1),a=s<0?0:s;return bt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(0===this.mutationQueue.length?-1:this.wr-1)}getAllMutationBatches(e){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fc(t,0),s=new fc(t,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,s],c=>{const _=this.br(c.yr);a.push(_)}),bt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ds(Sr);return t.forEach(s=>{const a=new fc(s,0),c=new fc(s,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([a,c],_=>{r=r.add(_.yr)})}),bt.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ht.isDocumentKey(a)||(a=a.child(""));const c=new fc(new ht(a),0);let _=new Ds(Sr);return this.Sr.forEachWhile(b=>{const P=b.key.path;return!!r.isPrefixOf(P)&&(P.length===s&&(_=_.add(b.yr)),!0)},c),bt.resolve(this.Cr(_))}Cr(e){const t=[];return e.forEach(r=>{const s=this.br(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Er(0===this.vr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Sr;return bt.forEach(t.mutations,s=>{const a=new fc(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Sr=r})}xn(e){}containsKey(e,t){const r=new fc(t,0),s=this.Sr.firstAfterOrEqual(r);return bt.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return bt.resolve()}vr(e,t){return this.Dr(e)}Dr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}br(e){const t=this.Dr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class z0{constructor(e){this.Fr=e,this.docs=new fs(ht.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,c=this.Fr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return bt.resolve(r?r.document.mutableCopy():le.newInvalidDocument(t))}getEntries(e,t){let r=Rl();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():le.newInvalidDocument(s))}),bt.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Rl();const c=t.path,_=new ht(c.child("")),b=this.docs.getIteratorFrom(_);for(;b.hasNext();){const{key:P,value:{document:$}}=b.getNext();if(!c.isPrefixOf(P.path))break;P.path.length>c.length+1||Iu(vc($),r)<=0||(s.has($.key)||Du(t,$))&&(a=a.insert($.key,$.mutableCopy()))}return bt.resolve(a)}getAllFromCollectionGroup(e,t,r,s){tr()}Mr(e,t){return bt.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eC(this)}getSize(e){return bt.resolve(this.size)}}class eC extends ZS{constructor(e){super(),this.ur=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.ur.addEntry(e,s)):this.ur.removeEntry(r)}),bt.waitFor(t)}getFromCache(e,t){return this.ur.getEntry(e,t)}getAllFromCache(e,t){return this.ur.getEntries(e,t)}}class Wb{constructor(e){this.persistence=e,this.Or=new Al(t=>pl(t),id),this.lastRemoteSnapshotVersion=Cr.min(),this.highestTargetId=0,this.Nr=0,this.Br=new H_,this.targetCount=0,this.Lr=xd.Bn()}forEachTarget(e,t){return this.Or.forEach((r,s)=>t(s)),bt.resolve()}getLastRemoteSnapshotVersion(e){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bt.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Nr&&(this.Nr=t),bt.resolve()}Qn(e){this.Or.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new xd(t),this.highestTargetId=t),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,t){return this.Qn(t),this.targetCount+=1,bt.resolve()}updateTargetData(e,t){return this.Qn(t),bt.resolve()}removeTargetData(e,t){return this.Or.delete(t.target),this.Br.mr(t.targetId),this.targetCount-=1,bt.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Or.forEach((c,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.Or.delete(c),a.push(this.removeMatchingKeysForTargetId(e,_.targetId)),s++)}),bt.waitFor(a).next(()=>s)}getTargetCount(e){return bt.resolve(this.targetCount)}getTargetData(e,t){const r=this.Or.get(t)||null;return bt.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Ar(t,r),bt.resolve()}removeMatchingKeys(e,t,r){this.Br.Vr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(c=>{a.push(s.markPotentiallyOrphaned(e,c))}),bt.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.mr(t),bt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.pr(t);return bt.resolve(r)}containsKey(e,t){return bt.resolve(this.Br.containsKey(t))}}class z_{constructor(e,t){this.kr={},this.overlays={},this.qr=new j(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=e(this),this.Kr=new Wb(this),this.indexManager=new Zd,this.remoteDocumentCache=new z0(r=>this.referenceDelegate.$r(r)),this.serializer=new Cf(t),this.Ur=new ea(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new im,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.kr[e.toKey()];return r||(r=new H0(t,this.referenceDelegate),this.kr[e.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(e,t,r){$t("MemoryPersistence","Starting transaction:",e);const s=new W_(this.qr.next());return this.referenceDelegate.Wr(),r(s).next(a=>this.referenceDelegate.Gr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}zr(e,t){return bt.or(Object.values(this.kr).map(r=>()=>r.containsKey(e,t)))}}class W_ extends bo{constructor(e){super(),this.currentSequenceNumber=e}}class W0{constructor(e){this.persistence=e,this.jr=new H_,this.Hr=null}static Jr(e){return new W0(e)}get Yr(){if(this.Hr)return this.Hr;throw tr()}addReference(e,t,r){return this.jr.addReference(r,t),this.Yr.delete(r.toString()),bt.resolve()}removeReference(e,t,r){return this.jr.removeReference(r,t),this.Yr.add(r.toString()),bt.resolve()}markPotentiallyOrphaned(e,t){return this.Yr.add(t.toString()),bt.resolve()}removeTarget(e,t){this.jr.mr(t.targetId).forEach(s=>this.Yr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.Yr.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Wr(){this.Hr=new Set}Gr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.Yr,r=>{const s=ht.fromPath(r);return this.Zr(e,s).next(a=>{a||t.removeEntry(s,Cr.min())})}).next(()=>(this.Hr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zr(e,t).next(r=>{r?this.Yr.delete(t.toString()):this.Yr.add(t.toString())})}$r(e){return 0}Zr(e,t){return bt.or([()=>bt.resolve(this.jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zr(e,t)])}}class jp{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Qi=r,this.Ki=s}static $i(e,t){let r=as(),s=as();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new jp(e,t.fromCache,r,s)}}class nC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Z_{constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(e,t){this.ji=e,this.indexManager=t,this.Ui=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Hi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.Ji(e,t,s,r).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new nC;return this.Yi(e,t,c).next(_=>{if(a.result=_,this.Wi)return this.Zi(e,t,c,_.size)})}).next(()=>a.result)}Zi(e,t,r,s){return r.documentReadCount<this.Gi?(Ss()<=Ie.in.DEBUG&&$t("QueryEngine","SDK will not create cache indexes for query:",Zc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),bt.resolve()):(Ss()<=Ie.in.DEBUG&&$t("QueryEngine","Query:",Zc(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.zi*s?(Ss()<=Ie.in.DEBUG&&$t("QueryEngine","The SDK decides to create cache indexes for query:",Zc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(t))):bt.resolve())}Hi(e,t){if(ue(t))return bt.resolve(null);let r=Kn(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Sa(t,null,"F"),r=Kn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=as(...a);return this.ji.getDocuments(e,c).next(_=>this.indexManager.getMinOffset(e,r).next(b=>{const P=this.Xi(t,_);return this.es(t,P,c,b.readTime)?this.Hi(e,Sa(t,null,"F")):this.ts(e,P,t,b)}))})))}Ji(e,t,r,s){return ue(t)||s.isEqual(Cr.min())?bt.resolve(null):this.ji.getDocuments(e,r).next(a=>{const c=this.Xi(t,a);return this.es(t,c,r,s)?bt.resolve(null):(Ss()<=Ie.in.DEBUG&&$t("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zc(t)),this.ts(e,c,t,function Mc(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Cr.fromTimestamp(1e9===r?new ss(t+1,0):new ss(t,r));return new il(s,ht.empty(),e)}(s,-1)).next(_=>_))})}Xi(e,t){let r=new Ds(sd(e));return t.forEach((s,a)=>{Du(e,a)&&(r=r.add(a))}),r}es(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Yi(e,t,r){return Ss()<=Ie.in.DEBUG&&$t("QueryEngine","Using full collection scan to execute query:",Zc(t)),this.ji.getDocumentsMatchingQuery(e,t,il.min(),r)}ts(e,t,r,s){return this.ji.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class J_{constructor(e,t,r,s){this.persistence=e,this.ns=t,this.serializer=s,this.rs=new fs(Sr),this.ss=new Al(a=>pl(a),id),this.os=new Map,this._s=e.getRemoteDocumentCache(),this.Kr=e.getTargetCache(),this.Ur=e.getBundleCache(),this.us(r)}us(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bp(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.rs))}}function om(n,e){return am.apply(this,arguments)}function am(){return am=(0,Se.Z)(function*(n,e){const t=Sn(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.us(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],_=[];let b=as();for(const P of s){c.push(P.batchId);for(const $ of P.mutations)b=b.add($.key)}for(const P of a){_.push(P.batchId);for(const $ of P.mutations)b=b.add($.key)}return t.localDocuments.getDocuments(r,b).next(P=>({cs:P,removedBatchIds:c,addedBatchIds:_}))})})}),am.apply(this,arguments)}function qb(n){const e=Sn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Kr.getLastRemoteSnapshotVersion(t))}function Gp(n,e,t){return lm.apply(this,arguments)}function lm(){return lm=(0,Se.Z)(function*(n,e,t){const r=Sn(n),s=r.rs.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!R(c))throw c;$t("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.rs=r.rs.remove(e),r.ss.delete(s.target)}),lm.apply(this,arguments)}function cm(n,e,t){const r=Sn(n);let s=Cr.min(),a=as();return r.persistence.runTransaction("Execute query","readwrite",c=>function(b,P,$){const J=Sn(b),Ee=J.ss.get($);return void 0!==Ee?bt.resolve(J.rs.get(Ee)):J.Kr.getTargetData(P,$)}(r,c,Kn(e)).next(_=>{if(_)return s=_.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(c,_.targetId).next(b=>{a=b})}).next(()=>r.ns.getDocumentsMatchingQuery(c,e,t?s:Cr.min(),t?a:as())).next(_=>(function X_(n,e,t){let r=n.os.get(e)||Cr.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.os.set(e,r)}(r,function Tc(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),_),{documents:_,Ps:a})))}class um{constructor(){this.activeTargetIds=function yf(){return Sp}()}Rs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}As(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wp{constructor(){this.ro=new um,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.ro.Rs(e),this.io[e]||"not-current"}updateQueryState(e,t,r){this.io[e]=t}removeLocalQueryTarget(e){this.ro.Vs(e)}isLocalQueryTarget(e){return this.ro.activeTargetIds.has(e)}clearQueryState(e){delete this.io[e]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(e){return this.ro.activeTargetIds.has(e)}start(){return this.ro=new um,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ty{so(e){}shutdown(){}}class Vf{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(e){this.co.push(e)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){$t("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.co)e(0)}uo(){$t("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.co)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let qp=null;function hm(){return null===qp?qp=268435456+Math.round(2147483648*Math.random()):qp++,"0x"+qp.toString(16)}const ny={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _x{constructor(e){this.ho=e.ho,this.Po=e.Po}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.Po()}send(e){this.ho(e)}Vo(){this.To()}mo(e){this.Ao(e)}fo(e){this.Ro(e)}}const Sc="WebChannelConnection";class fm extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${s}/databases/${a}`,this.wo="(default)"===this.databaseId.database?`project_id=${s}`:`project_id=${s}&database_id=${a}`}get So(){return!1}bo(t,r,s,a,c){const _=hm(),b=this.Do(t,r);$t("RestConnection",`Sending RPC '${t}' ${_}:`,b,s);const P={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(P,a,c),this.vo(t,b,P,s).then($=>($t("RestConnection",`Received RPC '${t}' ${_}: `,$),$),$=>{throw Wi("RestConnection",`RPC '${t}' ${_} failed with error: `,$,"url: ",b,"request:",s),$})}Fo(t,r,s,a,c,_){return this.bo(t,r,s,a,c)}Co(t,r,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+kr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,c)=>t[c]=a),s&&s.headers.forEach((a,c)=>t[c]=a)}Do(t,r){return`${this.po}/v1/${r}:${ny[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const a=hm();return new Promise((c,_)=>{const b=new kt;b.setWithCredentials(!0),b.listenOnce(ge.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case de.NO_ERROR:const $=b.getResponseJson();$t(Sc,`XHR for RPC '${e}' ${a} received:`,JSON.stringify($)),c($);break;case de.TIMEOUT:$t(Sc,`RPC '${e}' ${a} timed out`),_(new _n(Lt.DEADLINE_EXCEEDED,"Request time out"));break;case de.HTTP_ERROR:const J=b.getStatus();if($t(Sc,`RPC '${e}' ${a} failed with status:`,J,"response text:",b.getResponseText()),J>0){let Ee=b.getResponseJson();Array.isArray(Ee)&&(Ee=Ee[0]);const Ne=Ee?.error;if(Ne&&Ne.status&&Ne.message){const St=function(qt){const Qn=qt.toLowerCase().replace(/_/g,"-");return Object.values(Lt).indexOf(Qn)>=0?Qn:Lt.UNKNOWN}(Ne.status);_(new _n(St,Ne.message))}else _(new _n(Lt.UNKNOWN,"Server responded with status "+b.getStatus()))}else _(new _n(Lt.UNAVAILABLE,"Connection failed."));break;default:tr()}}finally{$t(Sc,`RPC '${e}' ${a} completed.`)}});const P=JSON.stringify(s);$t(Sc,`RPC '${e}' ${a} sending request:`,s),b.send(t,"POST",P,r,15)})}Mo(e,t,r){const s=hm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=G(),_=ie(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},P=this.longPollingOptions.timeoutSeconds;void 0!==P&&(b.longPollingTimeout=Math.round(1e3*P)),this.useFetchStreams&&(b.useFetchStreams=!0),this.Co(b.initMessageHeaders,t,r),b.encodeInitMessageHeaders=!0;const $=a.join("");$t(Sc,`Creating RPC '${e}' stream ${s}: ${$}`,b);const J=c.createWebChannel($,b);let Ee=!1,Ne=!1;const St=new _x({ho:qt=>{Ne?$t(Sc,`Not sending because RPC '${e}' stream ${s} is closed:`,qt):(Ee||($t(Sc,`Opening RPC '${e}' stream ${s} transport.`),J.open(),Ee=!0),$t(Sc,`RPC '${e}' stream ${s} sending:`,qt),J.send(qt))},Po:()=>J.close()}),Ht=(qt,Qn,fr)=>{qt.listen(Qn,ir=>{try{fr(ir)}catch(Ti){setTimeout(()=>{throw Ti},0)}})};return Ht(J,Mt.EventType.OPEN,()=>{Ne||$t(Sc,`RPC '${e}' stream ${s} transport opened.`)}),Ht(J,Mt.EventType.CLOSE,()=>{Ne||(Ne=!0,$t(Sc,`RPC '${e}' stream ${s} transport closed`),St.mo())}),Ht(J,Mt.EventType.ERROR,qt=>{Ne||(Ne=!0,Wi(Sc,`RPC '${e}' stream ${s} transport errored:`,qt),St.mo(new _n(Lt.UNAVAILABLE,"The operation could not be completed")))}),Ht(J,Mt.EventType.MESSAGE,qt=>{var Qn;if(!Ne){const fr=qt.data[0];Er(!!fr);const Ti=fr.error||(null===(Qn=fr[0])||void 0===Qn?void 0:Qn.error);if(Ti){$t(Sc,`RPC '${e}' stream ${s} received error:`,Ti);const ns=Ti.status;let Si=function(QS){const nM=F[QS];if(void 0!==nM)return Ce(nM)}(ns),ta=Ti.message;void 0===Si&&(Si=Lt.INTERNAL,ta="Unknown error status: "+ns+" with message "+Ti.message),Ne=!0,St.mo(new _n(Si,ta)),J.close()}else $t(Sc,`RPC '${e}' stream ${s} received:`,fr),St.fo(fr)}}),Ht(_,De.STAT_EVENT,qt=>{qt.stat===Ze.PROXY?$t(Sc,`RPC '${e}' stream ${s} detected buffering proxy`):qt.stat===Ze.NOPROXY&&$t(Sc,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{St.Vo()},0),St}}function pm(){return typeof document<"u"?document:null}function gm(n){return new x0(n,!0)}class Q0{constructor(e,t,r=1e3,s=1.5,a=6e4){this._i=e,this.timerId=t,this.xo=r,this.Oo=s,this.No=a,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(e){this.cancel();const t=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),s=Math.max(0,t-r);s>0&&$t("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,s,()=>(this.ko=Date.now(),e())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}class Z0{constructor(e,t,r,s,a,c,_,b){this._i=e,this.Uo=r,this.Wo=s,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=_,this.listener=b,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new Q0(e,t)}Jo(){return 1===this.state||5===this.state||this.Yo()}Yo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Zo()}stop(){var e=this;return(0,Se.Z)(function*(){e.Jo()&&(yield e.close(0))})()}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&null===this.zo&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(e){this.r_(),this.stream.send(e)}t_(){var e=this;return(0,Se.Z)(function*(){if(e.Yo())return e.close(0)})()}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.r_(),r.i_(),r.Ho.cancel(),r.Go++,4!==e?r.Ho.reset():t&&t.code===Lt.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),r.Ho.qo()):t&&t.code===Lt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.s_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(t)})()}s_(){}auth(){this.state=1;const e=this.o_(this.Go),t=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Go===t&&this.__(r,s)},r=>{e(()=>{const s=new _n(Lt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(s)})})}__(e,t){const r=this.o_(this.Go);this.stream=this.u_(e,t),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(s=>{r(()=>this.a_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Zo(){var e=this;this.state=5,this.Ho.Qo((0,Se.Z)(function*(){e.state=0,e.start()}))}a_(e){return $t("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}o_(e){return t=>{this._i.enqueueAndForget(()=>this.Go===e?t():($t("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zb extends Z0{constructor(e,t,r,s,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=a}u_(e,t){return this.connection.Mo("Listen",e,t)}onMessage(e){this.Ho.reset();const t=function $h(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(P=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===P?1:"REMOVE"===P?2:"CURRENT"===P?3:"RESET"===P?4:tr(),s=e.targetChange.targetIds||[],a=function(P,$){return P.useProto3Json?(Er(void 0===$||"string"==typeof $),Qo.fromBase64String($||"")):(Er(void 0===$||$ instanceof Uint8Array),Qo.fromUint8Array($||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,_=c&&function(P){const $=void 0===P.code?Lt.UNKNOWN:Ce(P.code);return new _n($,P.message||"")}(c);t=new Td(r,s,a,_||null)}else if("documentChange"in e){const r=e.documentChange,s=dd(n,r.document.name),a=ml(r.document.updateTime),c=r.document.createTime?ml(r.document.createTime):Cr.min(),_=new B({mapValue:{fields:r.document.fields}}),b=le.newFoundDocument(s,a,c,_);t=new Au(r.targetIds||[],r.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const r=e.documentDelete,s=dd(n,r.document),a=r.readTime?ml(r.readTime):Cr.min(),c=le.newNoDocument(s,a);t=new Au([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,s=dd(n,r.document);t=new Au([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return tr();{const r=e.filter,{count:s=0,unchangedNames:a}=r,c=new I(s,a);t=new Uh(r.targetId,c)}}var P;return t}(this.serializer,e),r=function(a){if(!("targetChange"in a))return Cr.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Cr.min():c.readTime?ml(c.readTime):Cr.min()}(e);return this.listener.c_(t,r)}l_(e){const t={};t.database=jh(this.serializer),t.addTarget=function(a,c){let _;const b=c.target;if(_=Dl(b)?{documents:k0(a,b)}:{query:Sf(a,b)},_.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){_.resumeToken=function O0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}(a,c.resumeToken);const P=Np(a,c.expectedCount);null!==P&&(_.expectedCount=P)}else if(c.snapshotVersion.compareTo(Cr.min())>0){_.readTime=function Sd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(a,c.snapshotVersion.toTimestamp());const P=Np(a,c.expectedCount);null!==P&&(_.expectedCount=P)}return _}(this.serializer,e);const r=function L0(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tr()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.n_(t)}h_(e){const t={};t.database=jh(this.serializer),t.removeTarget=e,this.n_(t)}}class cC extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.R_=!1}V_(){if(this.R_)throw new _n(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.bo(e,t,r,s,a)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _n(Lt.UNKNOWN,s.toString())})}Fo(e,t,r,s){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Fo(e,t,r,a,c,s)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _n(Lt.UNKNOWN,a.toString())})}terminate(){this.R_=!0}}class ry{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){0===this.f_&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(e){"Online"===this.state?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.w_("Offline")))}set(e){this.D_(),this.f_=0,"Online"===e&&(this.p_=!1),this.w_(e)}w_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}S_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(Ei(t),this.p_=!1):$t("OnlineStateTracker",t)}D_(){null!==this.g_&&(this.g_.cancel(),this.g_=null)}}class X0{constructor(e,t,r,s,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=a,this.x_.so(_=>{r.enqueueAndForget((0,Se.Z)(function*(){var b;Md(c)&&($t("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,Se.Z)(function*($){const J=Sn($);J.F_.add(4),yield Yh(J),J.O_.set("Unknown"),J.F_.delete(4),yield mm(J)}),function P($){return b.apply(this,arguments)})(c))}))}),this.O_=new ry(r,s)}}function mm(n){return iy.apply(this,arguments)}function iy(){return iy=(0,Se.Z)(function*(n){if(Md(n))for(const e of n.M_)yield e(!0)}),iy.apply(this,arguments)}function Yh(n){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,Se.Z)(function*(n){for(const e of n.M_)yield e(!1)}),Kp.apply(this,arguments)}function sy(n,e){const t=Sn(n);t.v_.has(e.targetId)||(t.v_.set(e.targetId,e),nE(t)?Jb(t):ju(t).Yo()&&eE(t,e))}function Yp(n,e){const t=Sn(n),r=ju(t);t.v_.delete(e),r.Yo()&&tE(t,e),0===t.v_.size&&(r.Yo()?r.e_():Md(t)&&t.O_.set("Unknown"))}function eE(n,e){if(n.N_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Cr.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ju(n).l_(e)}function tE(n,e){n.N_.Le(e),ju(n).h_(e)}function Jb(n){n.N_=new N_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.v_.get(e)||null,st:()=>n.datastore.serializer.databaseId}),ju(n).start(),n.O_.y_()}function nE(n){return Md(n)&&!ju(n).Jo()&&n.v_.size>0}function Md(n){return 0===Sn(n).F_.size}function Xb(n){n.N_=void 0}function Qp(n){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,Se.Z)(function*(n){n.v_.forEach((e,t)=>{eE(n,e)})}),Bf.apply(this,arguments)}function uC(n,e){return oy.apply(this,arguments)}function oy(){return oy=(0,Se.Z)(function*(n,e){Xb(n),nE(n)?(n.O_.b_(e),Jb(n)):n.O_.set("Unknown")}),oy.apply(this,arguments)}function dC(n,e,t){return rE.apply(this,arguments)}function rE(){return rE=(0,Se.Z)(function*(n,e,t){if(n.O_.set("Online"),e instanceof Td&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(a,c){const _=c.cause;for(const b of c.targetIds)a.v_.has(b)&&(yield a.remoteSyncer.rejectListen(b,_),a.v_.delete(b),a.N_.removeTarget(b))}),function s(a,c){return r.apply(this,arguments)})(n,e)}catch(r){$t("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ay(n,r)}else if(e instanceof Au?n.N_.Ge(e):e instanceof Uh?n.N_.Xe(e):n.N_.He(e),!t.isEqual(Cr.min()))try{const r=yield qb(n.localStore);t.compareTo(r)>=0&&(yield function(a,c){const _=a.N_._t(c);return _.targetChanges.forEach((b,P)=>{if(b.resumeToken.approximateByteSize()>0){const $=a.v_.get(P);$&&a.v_.set(P,$.withResumeToken(b.resumeToken,c))}}),_.targetMismatches.forEach((b,P)=>{const $=a.v_.get(b);if(!$)return;a.v_.set(b,$.withResumeToken(Qo.EMPTY_BYTE_STRING,$.snapshotVersion)),tE(a,b);const J=new Dd($.target,b,P,$.sequenceNumber);eE(a,J)}),a.remoteSyncer.applyRemoteEvent(_)}(n,t))}catch(r){$t("RemoteStore","Failed to raise snapshot:",r),yield ay(n,r)}var r}),rE.apply(this,arguments)}function ay(n,e,t){return ly.apply(this,arguments)}function ly(){return ly=(0,Se.Z)(function*(n,e,t){if(!R(e))throw e;n.F_.add(1),yield Yh(n),n.O_.set("Offline"),t||(t=()=>qb(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){$t("RemoteStore","Retrying IndexedDB access"),yield t(),n.F_.delete(1),yield mm(n)}))}),ly.apply(this,arguments)}function fd(n,e){return uy.apply(this,arguments)}function uy(){return uy=(0,Se.Z)(function*(n,e){const t=Sn(n);t.asyncQueue.verifyOperationInProgress(),$t("RemoteStore","RemoteStore received new credentials");const r=Md(t);t.F_.add(3),yield Yh(t),r&&t.O_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.F_.delete(3),yield mm(t)}),uy.apply(this,arguments)}function _m(){return _m=(0,Se.Z)(function*(n,e){const t=Sn(n);e?(t.F_.delete(2),yield mm(t)):e||(t.F_.add(2),yield Yh(t),t.O_.set("Unknown"))}),_m.apply(this,arguments)}function ju(n){return n.B_||(n.B_=function(t,r,s){const a=Sn(t);return a.V_(),new Zb(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Io:Qp.bind(null,n),Eo:uC.bind(null,n),c_:dC.bind(null,n)}),n.M_.push(function(){var e=(0,Se.Z)(function*(t){t?(n.B_.Xo(),nE(n)?Jb(n):n.O_.set("Unknown")):(yield n.B_.stop(),Xb(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}class lE{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Do,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const c=Date.now()+r,_=new lE(e,t,c,s,a);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _n(Lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ym(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),R(n))return new _n(Lt.UNAVAILABLE,`${e}: ${n}`);throw n}class Zp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ht.comparator(t.key,r.key):(t,r)=>ht.comparator(t.key,r.key),this.keyedMap=od(),this.sortedSet=new fs(this.comparator)}static emptySet(e){return new Zp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Zp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class dy{constructor(){this.k_=new fs(ht.comparator)}track(e){const t=e.doc.key,r=this.k_.get(t);r?0!==e.type&&3===r.type?this.k_=this.k_.insert(t,e):3===e.type&&1!==r.type?this.k_=this.k_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.k_=this.k_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.k_=this.k_.remove(t):1===e.type&&2===r.type?this.k_=this.k_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.k_=this.k_.insert(t,{type:2,doc:e.doc}):tr():this.k_=this.k_.insert(t,e)}q_(){const e=[];return this.k_.inorderTraversal((t,r)=>{e.push(r)}),e}}class _u{constructor(e,t,r,s,a,c,_,b,P){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=_,this.excludesMetadataChanges=b,this.hasCachedResults=P}static fromInitialDocuments(e,t,r,s,a){const c=[];return t.forEach(_=>{c.push({type:0,doc:_})}),new _u(e,t,Zp.emptySet(t),c,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class cI{constructor(){this.Q_=void 0,this.listeners=[]}}class fC{constructor(){this.queries=new Al(e=>Cu(e),gl),this.onlineState="Unknown",this.K_=new Set}}function nc(){return nc=(0,Se.Z)(function*(n,e){const t=Sn(n),r=e.query;let s=!1,a=t.queries.get(r);if(a||(s=!0,a=new cI),s)try{a.Q_=yield t.onListen(r)}catch(c){const _=ym(c,`Initialization of query '${Zc(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,a),a.listeners.push(e),e.U_(t.onlineState),a.Q_&&e.W_(a.Q_)&&Em(t)}),nc.apply(this,arguments)}function vm(){return vm=(0,Se.Z)(function*(n,e){const t=Sn(n),r=e.query;let s=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),s=0===a.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),vm.apply(this,arguments)}function pC(n,e){const t=Sn(n);let r=!1;for(const s of e){const c=t.queries.get(s.query);if(c){for(const _ of c.listeners)_.W_(s)&&(r=!0);c.Q_=s}}r&&Em(t)}function gC(n,e,t){const r=Sn(n),s=r.queries.get(e);if(s)for(const a of s.listeners)a.onError(t);r.queries.delete(e)}function Em(n){n.K_.forEach(e=>{e.next()})}class hy{constructor(e,t,r){this.query=e,this.G_=t,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new _u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.z_?this.H_(e)&&(this.G_.next(e),t=!0):this.J_(e,this.onlineState)&&(this.Y_(e),t=!0),this.j_=e,t}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let t=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),t=!0),t}J_(e,t){return!e.fromCache||(!this.options.Z_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}H_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Y_(e){e=_u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}class pI{constructor(e){this.key=e}}class gI{constructor(e){this.key=e}}class mI{constructor(e,t){this.query=e,this.oa=t,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=as(),this.mutatedKeys=as(),this.ua=sd(e),this.ca=new Zp(this.ua)}get la(){return this.oa}ha(e,t){const r=t?t.Pa:new dy,s=t?t.ca:this.ca;let a=t?t.mutatedKeys:this.mutatedKeys,c=s,_=!1;const b="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,P="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(($,J)=>{const Ee=s.get($),Ne=Du(this.query,J)?J:null,St=!!Ee&&this.mutatedKeys.has(Ee.key),Ht=!!Ne&&(Ne.hasLocalMutations||this.mutatedKeys.has(Ne.key)&&Ne.hasCommittedMutations);let qt=!1;Ee&&Ne?Ee.data.isEqual(Ne.data)?St!==Ht&&(r.track({type:3,doc:Ne}),qt=!0):this.Ia(Ee,Ne)||(r.track({type:2,doc:Ne}),qt=!0,(b&&this.ua(Ne,b)>0||P&&this.ua(Ne,P)<0)&&(_=!0)):!Ee&&Ne?(r.track({type:0,doc:Ne}),qt=!0):Ee&&!Ne&&(r.track({type:1,doc:Ee}),qt=!0,(b||P)&&(_=!0)),qt&&(Ne?(c=c.add(Ne),a=Ht?a.add($):a.delete($)):(c=c.delete($),a=a.delete($)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const $="F"===this.query.limitType?c.last():c.first();c=c.delete($.key),a=a.delete($.key),r.track({type:1,doc:$})}return{ca:c,Pa:r,es:_,mutatedKeys:a}}Ia(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const a=e.Pa.q_();a.sort((P,$)=>function(Ee,Ne){const St=Ht=>{switch(Ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tr()}};return St(Ee)-St(Ne)}(P.type,$.type)||this.ua(P.doc,$.doc)),this.da(r);const c=t?this.Ta():[],_=0===this.aa.size&&this.current?1:0,b=_!==this._a;return this._a=_,0!==a.length||b?{snapshot:new _u(this.query,e.ca,s,a,e.mutatedKeys,0===_,b,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:c}:{Ea:c}}U_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new dy,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}da(e){e&&(e.addedDocuments.forEach(t=>this.oa=this.oa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.oa=this.oa.delete(t)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this.aa;this.aa=as(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const t=[];return e.forEach(r=>{this.aa.has(r)||t.push(new gI(r))}),this.aa.forEach(r=>{e.has(r)||t.push(new pI(r))}),t}Ra(e){this.oa=e.Ps,this.aa=as();const t=this.ha(e.documents);return this.applyChanges(t,!0)}Va(){return _u.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,0===this._a,this.hasCachedResults)}}class _I{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Jp{constructor(e){this.key=e,this.ma=!1}}class wh{constructor(e,t,r,s,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.fa={},this.ga=new Al(_=>Cu(_),gl),this.pa=new Map,this.ya=new Set,this.wa=new fs(ht.comparator),this.Sa=new Map,this.ba=new H_,this.Da={},this.Ca=new Map,this.va=xd.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return!0===this.Fa}}function Xp(n,e){return dE.apply(this,arguments)}function dE(){return dE=(0,Se.Z)(function*(n,e){const t=function wE(n){const e=Sn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mC.bind(null,e),e.fa.c_=pC.bind(null,e.eventManager),e.fa.xa=gC.bind(null,e.eventManager),e}(n);let r,s;const a=t.ga.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),s=a.view.Va();else{const c=yield function $p(n,e){const t=Sn(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Kr.getTargetData(r,e).next(a=>a?(s=a,bt.resolve(s)):t.Kr.allocateTargetId(r).next(c=>(s=new Dd(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Kr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.rs.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.rs=t.rs.insert(r.targetId,r),t.ss.set(e,r.targetId)),r})}(t.localStore,Kn(e)),_=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=yield function hE(n,e,t,r,s){return fy.apply(this,arguments)}(t,e,r,"current"===_,c.resumeToken),t.isPrimaryClient&&sy(t.remoteStore,c)}return s}),dE.apply(this,arguments)}function fy(){return fy=(0,Se.Z)(function*(n,e,t,r,s){n.Ma=(J,Ee,Ne)=>{return(St=(0,Se.Z)(function*(qt,Qn,fr,ir){let Ti=Qn.view.ha(fr);Ti.es&&(Ti=yield cm(qt.localStore,Qn.query,!1).then(({documents:ta})=>Qn.view.ha(ta,Ti)));const ns=ir&&ir.targetChanges.get(Qn.targetId),Si=Qn.view.applyChanges(Ti,qt.isPrimaryClient,ns);return wI(qt,Qn.targetId,Si.Ea),Si.snapshot}),function Ht(qt,Qn,fr,ir){return St.apply(this,arguments)})(n,J,Ee,Ne);var St};const a=yield cm(n.localStore,e,!0),c=new mI(e,a.Ps),_=c.ha(a.documents),b=qa.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),P=c.applyChanges(_,n.isPrimaryClient,b);wI(n,t,P.Ea);const $=new _I(e,t,c);return n.ga.set(e,$),n.pa.has(t)?n.pa.get(t).push(e):n.pa.set(t,[e]),P.snapshot}),fy.apply(this,arguments)}function yI(n,e){return wm.apply(this,arguments)}function wm(){return wm=(0,Se.Z)(function*(n,e){const t=Sn(n),r=t.ga.get(e),s=t.pa.get(r.targetId);if(s.length>1)return t.pa.set(r.targetId,s.filter(a=>!gl(a,e))),void t.ga.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Gp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Yp(t.remoteStore,r.targetId),Im(t,r.targetId)}).catch(Io))):(Im(t,r.targetId),yield Gp(t.localStore,r.targetId,!0))}),wm.apply(this,arguments)}function fE(n,e){return py.apply(this,arguments)}function py(){return py=(0,Se.Z)(function*(n,e){const t=Sn(n);try{const r=yield function Kb(n,e){const t=Sn(n),r=e.snapshotVersion;let s=t.rs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t._s.newChangeBuffer({trackRemovals:!0});s=t.rs;const _=[];e.targetChanges.forEach(($,J)=>{const Ee=s.get(J);if(!Ee)return;_.push(t.Kr.removeMatchingKeys(a,$.removedDocuments,J).next(()=>t.Kr.addMatchingKeys(a,$.addedDocuments,J)));let Ne=Ee.withSequenceNumber(a.currentSequenceNumber);var Ht,qt,Qn;null!==e.targetMismatches.get(J)?Ne=Ne.withResumeToken(Qo.EMPTY_BYTE_STRING,Cr.min()).withLastLimboFreeSnapshotVersion(Cr.min()):$.resumeToken.approximateByteSize()>0&&(Ne=Ne.withResumeToken($.resumeToken,r)),s=s.insert(J,Ne),qt=Ne,Qn=$,(0===(Ht=Ee).resumeToken.approximateByteSize()||qt.snapshotVersion.toMicroseconds()-Ht.snapshotVersion.toMicroseconds()>=3e8||Qn.addedDocuments.size+Qn.modifiedDocuments.size+Qn.removedDocuments.size>0)&&_.push(t.Kr.updateTargetData(a,Ne))});let b=Rl(),P=as();if(e.documentUpdates.forEach($=>{e.resolvedLimboDocuments.has($)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(a,$))}),_.push(function Ff(n,e,t){let r=as(),s=as();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=Rl();return t.forEach((_,b)=>{const P=a.get(_);b.isFoundDocument()!==P.isFoundDocument()&&(s=s.add(_)),b.isNoDocument()&&b.version.isEqual(Cr.min())?(e.removeEntry(_,b.readTime),c=c.insert(_,b)):!P.isValidDocument()||b.version.compareTo(P.version)>0||0===b.version.compareTo(P.version)&&P.hasPendingWrites?(e.addEntry(b),c=c.insert(_,b)):$t("LocalStore","Ignoring outdated watch update for ",_,". Current version:",P.version," Watch version:",b.version)}),{ls:c,hs:s}})}(a,c,e.documentUpdates).next($=>{b=$.ls,P=$.hs})),!r.isEqual(Cr.min())){const $=t.Kr.getLastRemoteSnapshotVersion(a).next(J=>t.Kr.setTargetsMetadata(a,a.currentSequenceNumber,r));_.push($)}return bt.waitFor(_).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,b,P)).next(()=>b)}).then(a=>(t.rs=s,a))}(t.localStore,e);e.targetChanges.forEach((s,a)=>{const c=t.Sa.get(a);c&&(Er(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.ma=!0:s.modifiedDocuments.size>0?Er(c.ma):s.removedDocuments.size>0&&(Er(c.ma),c.ma=!1))}),yield bh(t,r,e)}catch(r){yield Io(r)}}),py.apply(this,arguments)}function vI(n,e,t){const r=Sn(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ga.forEach((a,c)=>{const _=c.view.U_(e);_.snapshot&&s.push(_.snapshot)}),function(c,_){const b=Sn(c);b.onlineState=_;let P=!1;b.queries.forEach(($,J)=>{for(const Ee of J.listeners)Ee.U_(_)&&(P=!0)}),P&&Em(b)}(r.eventManager,e),s.length&&r.fa.c_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function mC(n,e,t){return pE.apply(this,arguments)}function pE(){return pE=(0,Se.Z)(function*(n,e,t){const r=Sn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Sa.get(e),a=s&&s.key;if(a){let c=new fs(ht.comparator);c=c.insert(a,le.newNoDocument(a,Cr.min()));const _=as().add(a),b=new $s(Cr.min(),new Map,new fs(Sr),c,_);yield fE(r,b),r.wa=r.wa.remove(a),r.Sa.delete(e),yy(r)}else yield Gp(r.localStore,e,!1).then(()=>Im(r,e,t)).catch(Io)}),pE.apply(this,arguments)}function Im(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.pa.get(e))n.ga.delete(r),t&&n.fa.xa(r,t);n.pa.delete(e),n.isPrimaryClient&&n.ba.mr(e).forEach(r=>{n.ba.containsKey(r)||Tm(n,r)})}function Tm(n,e){n.ya.delete(e.path.canonicalString());const t=n.wa.get(e);null!==t&&(Yp(n.remoteStore,t),n.wa=n.wa.remove(e),n.Sa.delete(t),yy(n))}function wI(n,e,t){for(const r of t)r instanceof pI?(n.ba.addReference(r.key,e),bI(n,r)):r instanceof gI?($t("SyncEngine","Document no longer in limbo: "+r.key),n.ba.removeReference(r.key,e),n.ba.containsKey(r.key)||Tm(n,r.key)):tr()}function bI(n,e){const t=e.key,r=t.path.canonicalString();n.wa.get(t)||n.ya.has(r)||($t("SyncEngine","New document in limbo: "+t),n.ya.add(r),yy(n))}function yy(n){for(;n.ya.size>0&&n.wa.size<n.maxConcurrentLimboResolutions;){const e=n.ya.values().next().value;n.ya.delete(e);const t=new ht(os.fromString(e)),r=n.va.next();n.Sa.set(r,new Jp(t)),n.wa=n.wa.insert(t,r),sy(n.remoteStore,new Dd(Kn(U(t.path)),r,"TargetPurposeLimboResolution",j.ae))}}function bh(n,e,t){return vy.apply(this,arguments)}function vy(){return vy=(0,Se.Z)(function*(n,e,t){const r=Sn(n),s=[],a=[],c=[];var _;r.ga.isEmpty()||(r.ga.forEach((_,b)=>{c.push(r.Ma(b,e,t).then(P=>{if((P||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,P?.fromCache?"not-current":"current"),P){s.push(P);const $=jp.$i(b.targetId,P);a.push($)}}))}),yield Promise.all(c),r.fa.c_(s),yield(_=(0,Se.Z)(function*(P,$){const J=Sn(P);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>bt.forEach($,Ne=>bt.forEach(Ne.Qi,St=>J.persistence.referenceDelegate.addReference(Ee,Ne.targetId,St)).next(()=>bt.forEach(Ne.Ki,St=>J.persistence.referenceDelegate.removeReference(Ee,Ne.targetId,St)))))}catch(Ee){if(!R(Ee))throw Ee;$t("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of $){const Ne=Ee.targetId;if(!Ee.fromCache){const St=J.rs.get(Ne),qt=St.withLastLimboFreeSnapshotVersion(St.snapshotVersion);J.rs=J.rs.insert(Ne,qt)}}}),function b(P,$){return _.apply(this,arguments)})(r.localStore,a))}),vy.apply(this,arguments)}function II(n,e){return ts.apply(this,arguments)}function ts(){return ts=(0,Se.Z)(function*(n,e){const t=Sn(n);if(!t.currentUser.isEqual(e)){$t("SyncEngine","User change. New user:",e.toKey());const r=yield om(t.localStore,e);t.currentUser=e,(a=t).Ca.forEach(_=>{_.forEach(b=>{b.reject(new _n(Lt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ca.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield bh(t,r.cs)}var a}),ts.apply(this,arguments)}function TI(n,e){const t=Sn(n),r=t.Sa.get(e);if(r&&r.ma)return as().add(r.key);{let s=as();const a=t.pa.get(e);if(!a)return s;for(const c of a){const _=t.ga.get(c);s=s.unionWith(_.view.la)}return s}}class Iy{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.serializer=gm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Pd(n,e,t,r){return new J_(n,e,t,r)}(this.persistence,new Z_,e.initialUser,this.serializer)}createPersistence(e){return new z_(W0.Jr,this.serializer)}createSharedClientState(e){return new Wp}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jf{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>vI(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=II.bind(null,r.syncEngine),yield function lI(n,e){return _m.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fC}createDatastore(e){const t=gm(e.databaseInfo.databaseId),r=new fm(e.databaseInfo);return new cC(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,s=this.datastore,a=e.asyncQueue,c=t=>vI(this.syncEngine,t,0),_=Vf.C()?new Vf:new ty,new X0(r,s,a,c,_);var r,s,a,c,_}createSyncEngine(e,t){return function(s,a,c,_,b,P,$){const J=new wh(s,a,c,_,b,P);return $&&(J.Fa=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(r){const s=Sn(r);$t("RemoteStore","RemoteStore shutting down."),s.F_.add(5),yield Yh(s),s.x_.shutdown(),s.O_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}class Ty{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wx{constructor(e,t,r,s){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Yn.UNAUTHENTICATED,this.clientId=Pc.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Se.Z)(function*(_){$t("FirestoreClient","Received user=",_.uid),yield a.authCredentialListener(_),a.user=_});return function(_){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>($t("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _n(Lt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Do;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=ym(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function tg(n,e){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$t("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Se.Z)(function*(a){r.isEqual(a)||(yield om(e.localStore,a),r=a)});return function(a){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Sy.apply(this,arguments)}function IE(n,e){return TE.apply(this,arguments)}function TE(){return TE=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function Cy(n){return SE.apply(this,arguments)}(n);$t("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>fd(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>fd(e.remoteStore,a)),n._onlineComponents=e}),TE.apply(this,arguments)}function SE(){return SE=(0,Se.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$t("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function xI(n){return"FirebaseError"===n.name?n.code===Lt.FAILED_PRECONDITION||n.code===Lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Wi("Error using user provided cache. Falling back to memory cache: "+t),yield tg(n,new Iy)}}else $t("FirestoreClient","Using default OfflineComponentProvider"),yield tg(n,new Iy);return n._offlineComponents}),SE.apply(this,arguments)}function Dm(){return Dm=(0,Se.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?($t("FirestoreClient","Using user provided OnlineComponentProvider"),yield IE(n,n._uninitializedComponentsProvider._online)):($t("FirestoreClient","Using default OnlineComponentProvider"),yield IE(n,new jf))),n._onlineComponents}),Dm.apply(this,arguments)}function yu(n){return Am.apply(this,arguments)}function Am(){return Am=(0,Se.Z)(function*(n){const e=yield function Dy(n){return Dm.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=Xp.bind(null,e.syncEngine),t.onUnlisten=yI.bind(null,e.syncEngine),t}),Am.apply(this,arguments)}function Ay(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const th=new Map;function no(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _n(Lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function xm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":tr()}(n);throw new _n(Lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class rg{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new _n(Lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _n(Lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function SC(n,e,t,r){if(!0===e&&!0===r)throw new _n(Lt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Ay(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new _n(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _n(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _n(Lt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ig{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _n(Lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _n(Lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rg(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new za;switch(r.type){case"firstParty":return new Ll(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _n(Lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=th.get(t);r&&($t("ComponentProvider","Removing Datastore"),th.delete(t),r.terminate())}(this),Promise.resolve()}}class tu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tu(this.firestore,e,this._query)}}class zl{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zl(this.firestore,e,this._key)}}class Nd extends tu{constructor(e,t,r){super(e,t,U(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zl(this.firestore,null,new ht(e))}withConverter(e){return new Nd(this.firestore,e,this._path)}}class Pm{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new Q0(this,"async_queue_retry"),this.ou=()=>{const t=pm();t&&$t("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Ho.$o()};const e=pm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this._u(),this.au(e)}enterRestrictedMode(e){if(!this.eu){this.eu=!0,this.iu=e||!1;const t=pm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ou)}}enqueue(e){if(this._u(),this.eu)return new Promise(()=>{});const t=new Do;return this.au(()=>this.eu&&this.iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xa.push(e),this.uu()))}uu(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Xa.length){try{yield e.Xa[0](),e.Xa.shift(),e.Ho.reset()}catch(t){if(!R(t))throw t;$t("AsyncQueue","Operation failed with retryable error: "+t)}e.Xa.length>0&&e.Ho.Qo(()=>e.uu())}})()}au(e){const t=this.Za.then(()=>(this.ru=!0,e().catch(r=>{throw this.nu=r,this.ru=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(c){let _=c.message||"";return c.stack&&(_=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),_}(r)),r}).then(r=>(this.ru=!1,r))));return this.Za=t,t}enqueueAfterDelay(e,t,r){this._u(),this.su.indexOf(e)>-1&&(t=0);const s=lE.createAndSchedule(this,e,t,r,a=>this.cu(a));return this.tu.push(s),s}_u(){this.nu&&tr()}verifyOperationInProgress(){}lu(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Za,yield t}while(t!==e.Za)})()}hu(e){for(const t of this.tu)if(t.timerId===e)return!0;return!1}Pu(e){return this.lu().then(()=>{this.tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lu()})}Iu(e){this.su.push(e)}cu(e){const t=this.tu.indexOf(e);this.tu.splice(t,1)}}function OE(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const s=t;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class Ya extends ig{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Pm,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$I(this),this._firestoreClient.terminate()}}function $I(n){var e,t,r;const s=n._freezeSettings(),a=(b=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qc(n._databaseId,b,n._persistenceKey,($=s).host,$.ssl,$.experimentalForceLongPolling,$.experimentalAutoDetectLongPolling,Ay($.experimentalLongPollingOptions),$.useFetchStreams));var b,$;n._firestoreClient=new wx(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=s.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}class $f{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $f(Qo.fromBase64String(e))}catch(t){throw new _n(Lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $f(Qo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sg{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _n(Lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new eo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Py{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _n(Lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _n(Lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Sr(this._lat,e._lat)||Sr(this._long,e._long)}}const og=new RegExp("[~\\*/\\[\\]]");function Ch(n,e,t,r,s){const a=r&&!r.isEmpty(),c=void 0!==s;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let b="";return(a||c)&&(b+=" (found",a&&(b+=` in field ${r}`),c&&(b+=` in document ${s}`),b+=")"),new _n(Lt.INVALID_ARGUMENT,_+n+b)}class tf{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zl(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vm("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qI extends tf{data(){return super.data()}}function Vm(n,e){return"string"==typeof e?function Sh(n,e,t){if(e.search(og)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sg(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof sg?e._internalPath:e._delegate._internalPath}class LC{convertValue(e,t="none"){switch(jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ec(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new Py(jo(e.latitude),jo(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Wc(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const t=Zo(e);return new ss(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=os.fromString(e);Er(Fp(r));const s=new Jo(r.get(1),r.get(3)),a=new ht(r.popFirst(5));return s.isEqual(t)||Ei(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class ih{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Um extends tf{constructor(e,t,r,s,a,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Vm("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Vy extends Um{data(e={}){return super.data(e)}}class ug{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ih(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vy(this._firestore,this._userDataWriter,r.key,r,new ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _n(Lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(_=>({type:"added",doc:new Vy(s._firestore,s._userDataWriter,_.doc.key,_.doc,new ih(s._snapshot.mutatedKeys.has(_.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(_=>a||3!==_.type).map(_=>{const b=new Vy(s._firestore,s._userDataWriter,_.doc.key,_.doc,new ih(s._snapshot.mutatedKeys.has(_.doc.key),s._snapshot.fromCache),s.query.converter);let P=-1,$=-1;return 0!==_.type&&(P=c.indexOf(_.doc.key),c=c.delete(_.doc.key)),1!==_.type&&(c=c.add(_.doc),$=c.indexOf(_.doc.key)),{type:jE(_.type),doc:b,oldIndex:P,newIndex:$}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function jE(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tr()}}class nf extends LC{constructor(e){super(),this.firestore=e}convertBytes(e){return new $f(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zl(this.firestore,null,t)}}!function(e,t=!0){kr=ct.Jn,(0,ct.Xd)(new nt.wA("firestore",(r,{instanceIdentifier:s,options:a})=>{const c=r.getProvider("app").getImmediate(),_=new Ya(new md(r.getProvider("auth-internal")),new mi(r.getProvider("app-check-internal")),function(P,$){if(!Object.prototype.hasOwnProperty.apply(P.options,["projectId"]))throw new _n(Lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jo(P.options.projectId,$)}(c,s),c);return a=Object.assign({useFetchStreams:t},a),_._setSettings(a),_},"PUBLIC").setMultipleInstances(!0)),(0,ct.KN)(nr,"4.2.0",e),(0,ct.KN)(nr,"4.2.0","esm2017")}();var oD=Y(5592),$y=Y(7398),oh=function(){return oh=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},oh.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var aD={includeMetadataChanges:!1};function $m(n,e){return void 0===e&&(e=aD),new oD.y(function(t){var r=function $E(n,...e){var t,r,s;n=(0,Ae.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||OE(e[c])||(a=e[c],c++);const _={includeMetadataChanges:a.includeMetadataChanges};if(OE(e[c])){const J=e[c];e[c]=null===(t=J.next)||void 0===t?void 0:t.bind(J),e[c+1]=null===(r=J.error)||void 0===r?void 0:r.bind(J),e[c+2]=null===(s=J.complete)||void 0===s?void 0:s.bind(J)}let b,P,$;if(n instanceof zl)P=no(n.firestore,Ya),$=U(n._key.path),b={next:J=>{e[c]&&e[c](function dg(n,e,t){const r=t.docs.get(e._key),s=new nf(n);return new Um(n,s,e._key,r,new ih(t.hasPendingWrites,t.fromCache),e.converter)}(P,n,J))},error:e[c+1],complete:e[c+2]};else{const J=no(n,tu);P=no(J.firestore,Ya),$=J._query;const Ee=new nf(P);b={next:Ne=>{e[c]&&e[c](new ug(P,Ee,J,Ne))},error:e[c+1],complete:e[c+2]},function LE(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _n(Lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(Ee,Ne,St,Ht){const qt=new Ty(Ht),Qn=new hy(Ne,qt,St);return Ee.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function uI(n,e){return nc.apply(this,arguments)}(yield yu(Ee),Qn)})),()=>{qt.La(),Ee.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function cE(n,e){return vm.apply(this,arguments)}(yield yu(Ee),Qn)}))}}(function Wl(n){return n._firestoreClient||$I(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}(P),$,_,b)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function cD(n,e){return void 0===e&&(e={}),function pT(n){return $m(n,{includeMetadataChanges:!0}).pipe((0,$y.U)(function(e){return e.docs}))}(n).pipe((0,$y.U)(function(t){return t.map(function(r){return function aT(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?oh(oh({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}var Or,hg=Y(7592),gT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ah={},Hm=Hm||{},Ii=gT||self;function Gy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Hu="closure_uid_"+(1e9*Math.random()>>>0),kd=0;function mT(n,e,t){return n.call.apply(n.bind,arguments)}function _T(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function ru(n,e,t){return(ru=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mT:_T).apply(null,arguments)}function Hy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Cc(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,a){for(var c=Array(arguments.length-2),_=2;_<arguments.length;_++)c[_-2]=arguments[_];return e.prototype[s].apply(r,c)}}function sf(){this.s=this.s,this.o=this.o}sf.prototype.s=!1,sf.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function lh(n){Object.prototype.hasOwnProperty.call(n,Hu)&&n[Hu]||(n[Hu]=++kd)}(this)},sf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ew(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tw(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Gy(r)){const s=n.length||0,a=r.length||0;n.length=s+a;for(let c=0;c<a;c++)n[s+c]=r[c]}else n.push(r)}}function iu(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}iu.prototype.h=function(){this.defaultPrevented=!0};var hD=function(){if(!Ii.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ii.addEventListener("test",()=>{},e),Ii.removeEventListener("test",()=>{},e)}catch{}return n}();function gg(n){return/^[\s\xa0]*$/.test(n)}function zm(){var n=Ii.navigator;return n&&(n=n.userAgent)?n:""}function zu(n){return-1!=zm().indexOf(n)}function nw(n){return nw[" "](n),n}nw[" "]=function(){};var qy,vT=zu("Opera"),Kf=zu("Trident")||zu("MSIE"),ET=zu("Edge"),rw=ET||Kf,zy=zu("Gecko")&&!(-1!=zm().toLowerCase().indexOf("webkit")&&!zu("Edge"))&&!(zu("Trident")||zu("MSIE"))&&!zu("Edge"),Wy=-1!=zm().toLowerCase().indexOf("webkit")&&!zu("Edge");function iw(){var n=Ii.document;return n?n.documentMode:void 0}e:{var Ky="",Yy=function(){var n=zm();return zy?/rv:([^\);]+)(\)|;)/.exec(n):ET?/Edge\/([\d\.]+)/.exec(n):Kf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Wy?/WebKit\/(\S+)/.exec(n):vT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(Yy&&(Ky=Yy?Yy[1]:""),Kf){var Qy=iw();if(null!=Qy&&Qy>parseFloat(Ky)){qy=String(Qy);break e}}qy=Ky}var wT=Ii.document&&Kf&&(iw()||parseInt(qy,10))||void 0;function Wm(n,e){if(iu.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zy){e:{try{nw(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wm.$.h.call(this)}}Cc(Wm,iu);var fD={2:"touch",3:"pen",4:"mouse"};Wm.prototype.h=function(){Wm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qm="closure_listenable_"+(1e6*Math.random()|0),pD=0;function gD(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++pD,this.fa=this.ia=!1}function Jy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function ow(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function bT(n){const e={};for(const t in n)e[t]=n[t];return e}const IT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TT(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let a=0;a<IT.length;a++)t=IT[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Xy(n){this.src=n,this.g={},this.h=0}function aw(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],s=pg(r,e);(a=0<=s)&&Array.prototype.splice.call(r,s,1),a&&(Jy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function lw(n,e,t,r){for(var s=0;s<n.length;++s){var a=n[s];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return s}return-1}Xy.prototype.add=function(n,e,t,r,s){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=lw(n,e,r,s);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new gD(e,this.src,a,!!r,s)).ia=t,n.push(e)),e};var cw="closure_lm_"+(1e6*Math.random()|0),uw={};function ST(n,e,t,r,s){if(r&&r.once)return dw(n,e,t,r,s);if(Array.isArray(e)){for(var a=0;a<e.length;a++)ST(n,e[a],t,r,s);return null}return t=rv(t),n&&n[qm]?n.O(e,t,fg(r)?!!r.capture:!!r,s):CT(n,e,t,!1,r,s)}function CT(n,e,t,r,s,a){if(!e)throw Error("Invalid event type");var c=fg(s)?!!s.capture:!!s,_=tv(n);if(_||(n[cw]=_=new Xy(n)),(t=_.add(e,t,r,c,a)).proxy)return t;if(r=function DT(){const e=AT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hD||(s=c),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(fw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function dw(n,e,t,r,s){if(Array.isArray(e)){for(var a=0;a<e.length;a++)dw(n,e[a],t,r,s);return null}return t=rv(t),n&&n[qm]?n.P(e,t,fg(r)?!!r.capture:!!r,s):CT(n,e,t,!0,r,s)}function hw(n,e,t,r,s){if(Array.isArray(e))for(var a=0;a<e.length;a++)hw(n,e[a],t,r,s);else r=fg(r)?!!r.capture:!!r,t=rv(t),n&&n[qm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=lw(a=n.g[e],t,r,s))&&(Jy(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=tv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=lw(e,t,r,s)),(t=-1<n?e[n]:null)&&ev(t))}function ev(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[qm])aw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(fw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=tv(e))?(aw(t,n),0==t.h&&(t.src=null,e[cw]=null)):Jy(n)}}}function fw(n){return n in uw?uw[n]:uw[n]="on"+n}function AT(n,e){if(n.fa)n=!0;else{e=new Wm(e,this);var t=n.listener,r=n.la||n.src;n.ia&&ev(n),n=t.call(r,e)}return n}function tv(n){return(n=n[cw])instanceof Xy?n:null}var nv="__closure_events_fn_"+(1e9*Math.random()>>>0);function rv(n){return"function"==typeof n?n:(n[nv]||(n[nv]=function(e){return n.handleEvent(e)}),n[nv])}function rc(){sf.call(this),this.i=new Xy(this),this.S=this,this.J=null}function Dc(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new iu(e,n);else if(e instanceof iu)e.target=e.target||n;else{var s=e;TT(e=new iu(r,n),s)}if(s=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];s=ch(c,r,!0,e)&&s}if(s=ch(c=e.g=n,r,!0,e)&&s,s=ch(c,r,!1,e)&&s,t)for(a=0;a<t.length;a++)s=ch(c=e.g=t[a],r,!1,e)&&s}function ch(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var _=c.listener,b=c.la||c.src;c.ia&&aw(n.i,c),s=!1!==_.call(b,r)&&s}}return s&&!r.defaultPrevented}Cc(rc,sf),rc.prototype[qm]=!0,rc.prototype.removeEventListener=function(n,e,t,r){hw(this,n,e,t,r)},rc.prototype.N=function(){if(rc.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Jy(t[r]);delete n.g[e],n.h--}}this.J=null},rc.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},rc.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var pw=Ii.JSON.stringify;function mg(){var n=gw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var iv=new class _D{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Qx,n=>n.reset());class Qx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function RT(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function xT(n){Ii.setTimeout(()=>{throw n},0)}let sv,uh=!1,gw=new class Yx{constructor(){this.h=this.g=null}add(e,t){const r=iv.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},OT=()=>{const n=Ii.Promise.resolve(void 0);sv=()=>{n.then(yD)}};var yD=()=>{for(var n;n=mg();){try{n.h.call(n.g)}catch(t){xT(t)}var e=iv;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}uh=!1};function Dh(n,e){rc.call(this),this.h=n||1,this.g=e||Ii,this.j=ru(this.qb,this),this.l=Date.now()}function mw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function _g(n,e,t){if("function"==typeof n)t&&(n=ru(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ru(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ii.setTimeout(n,e||0)}function Km(n){n.g=_g(()=>{n.g=null,n.i&&(n.i=!1,Km(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Cc(Dh,rc),(Or=Dh.prototype).ga=!1,Or.T=null,Or.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dc(this,"tick"),this.ga&&(mw(this),this.start()))}},Or.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Or.N=function(){Dh.$.N.call(this),mw(this),delete this.g};class xu extends sf{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Km(this)}N(){super.N(),this.g&&(Ii.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ov(n){sf.call(this),this.h=n,this.g={}}Cc(ov,sf);var _w=[];function yw(n,e,t,r){Array.isArray(t)||(t&&(_w[0]=t.toString()),t=_w);for(var s=0;s<t.length;s++){var a=ST(e,t[s],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function PT(n){ow(n.g,function(e,t){this.g.hasOwnProperty(t)&&ev(e)},n),n.g={}}function Ym(){this.g=!0}function Yf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ED(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var a=s[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<s.length;c++)s[c]=""}}}return pw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ov.prototype.N=function(){ov.$.N.call(this),PT(this)},ov.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ym.prototype.Ea=function(){this.g=!1},Ym.prototype.info=function(){};var Qf={},yg=null;function av(){return yg=yg||new rc}function kT(n){iu.call(this,Qf.Ta,n)}function Qm(n){const e=av();Dc(e,new kT(e))}function Zm(n,e){iu.call(this,Qf.STAT_EVENT,n),this.stat=e}function su(n){const e=av();Dc(e,new Zm(e,n))}function vw(n,e){iu.call(this,Qf.Ua,n),this.size=e}function vg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ii.setTimeout(function(){n()},e)}Qf.Ta="serverreachability",Cc(kT,iu),Qf.STAT_EVENT="statevent",Cc(Zm,iu),Qf.Ua="timingevent",Cc(vw,iu);var lv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Eg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zf(){}function LT(){}Zf.prototype.h=null;var dv,Jm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cv(){iu.call(this,"d")}function uv(){iu.call(this,"c")}function hv(){}function wg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new ov(this),this.P=wD,this.V=new Dh(n=rw?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VT}function VT(){this.i=null,this.g="",this.h=!1}Cc(cv,iu),Cc(uv,iu),Cc(hv,Zf),hv.prototype.g=function(){return new XMLHttpRequest},hv.prototype.i=function(){return{}},dv=new hv;var wD=45e3,BT={},Ew={};function UT(n,e,t){n.L=1,n.v=pv(Wu(e)),n.s=t,n.S=!0,bD(n,null)}function bD(n,e){n.G=Date.now(),e_(n),n.A=Wu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),qT(t.i,"t",r),n.C=0,t=n.l.J,n.h=new VT,n.g=c1(n.l,t?e:null,!n.s),0<n.O&&(n.M=new xu(ru(n.Pa,n,n.g),n.O)),yw(n.U,n.g,"readystatechange",n.nb),e=n.I?bT(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Qm(),function MT(n,e,t,r,s,a){n.info(function(){if(n.g)if(a)for(var c="",_=a.split("&"),b=0;b<_.length;b++){var P=_[b].split("=");if(1<P.length){var $=P[0];P=P[1];var J=$.split("_");c=2<=J.length&&"type"==J[1]?c+($+"=")+P+"&":c+($+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function ww(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Xm(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=ID(n,t),s==Ew){4==e&&(n.o=4,su(14),r=!1),Yf(n.j,n.m,null,"[Incomplete Response]");break}if(s==BT){n.o=4,su(15),Yf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Yf(n.j,n.m,s,null),Iw(n,s)}ww(n)&&s!=Ew&&s!=BT&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,su(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),s1(e),e.M=!0,su(11))):(Yf(n.j,n.m,t,"[Invalid Chunked Response]"),Jf(n),t_(n))}function ID(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ew:(t=Number(e.substring(t,r)),isNaN(t)?BT:(r+=1)+t>e.length?Ew:(e=e.slice(r,r+t),n.C=r+t,e))}function e_(n){n.Y=Date.now()+n.P,bw(n,n.P)}function bw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=vg(ru(n.lb,n),e)}function af(n){n.B&&(Ii.clearTimeout(n.B),n.B=null)}function t_(n){0==n.l.H||n.J||a1(n.l,n)}function Jf(n){af(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,mw(n.V),PT(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Iw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||gv(t.i,n)))if(!n.K&&gv(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Rv(t),Cv(t)}Nw(t),su(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=vg(ru(t.ib,t),6e3));if(1>=QT(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else lf(t,11)}else if((n.K||t.g==n)&&Rv(t),!gg(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let P=s[e];if(t.V=P[0],P=P[1],2==t.H)if("c"==P[0]){t.K=P[1],t.pa=P[2];const $=P[3];null!=$&&(t.ra=$,t.l.info("VER="+t.ra));const J=P[4];null!=J&&(t.Ga=J,t.l.info("SVER="+t.Ga));const Ee=P[5];null!=Ee&&"number"==typeof Ee&&0<Ee&&(t.L=r=1.5*Ee,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Ne=n.g;if(Ne){const St=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(St){var a=r.i;a.g||-1==St.indexOf("spdy")&&-1==St.indexOf("quic")&&-1==St.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(mv(a,a.h),a.h=null))}if(r.F){const Ht=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Ht&&(r.Da=Ht,Qa(r.I,r.F,Ht))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=l1(r,r.J?r.pa:null,r.Y),c.K){Dw(r.i,c);var _=c,b=r.L;b&&_.setTimeout(b),_.B&&(af(_),e_(_)),r.g=c}else r1(r);0<t.j.length&&Dv(t)}else"stop"!=P[0]&&"close"!=P[0]||lf(t,7);else 3==t.H&&("stop"==P[0]||"close"==P[0]?"stop"==P[0]?lf(t,7):Sv(t):"noop"!=P[0]&&t.h&&t.h.Aa(P),t.A=0)}Qm()}catch{}}function jT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gy(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Zx(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gy(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TD(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,a=0;a<s;a++)e.call(void 0,r[a],t&&t[a],n)}(Or=wg.prototype).setTimeout=function(n){this.P=n},Or.nb=function(n){n=n.target;const e=this.M;e&&3==Fd(n)?e.l():this.Pa(n)},Or.Pa=function(n){try{if(n==this.g)e:{const $=Fd(this.g);var e=this.g.Ia();if(this.g.da(),!(3>$)&&(3!=$||rw||this.g&&(this.h.h||this.g.ja()||e1(this.g)))){this.J||4!=$||7==e||Qm(),af(this);var t=this.g.da();this.ca=t;t:if(ww(this)){var r=e1(this.g);n="";var s=r.length,a=4==Fd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Jf(this),t_(this);var c="";break t}this.h.i=new Ii.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function NT(n,e,t,r,s,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,$,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var _,b=this.g;if((_=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gg(_)){var P=_;break t}}P=null}if(!(t=P)){this.i=!1,this.o=3,su(12),Jf(this),t_(this);break e}Yf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Iw(this,t)}this.S?(Xm(this,$,c),rw&&this.i&&3==$&&(yw(this.U,this.V,"tick",this.mb),this.V.start())):(Yf(this.j,this.m,c,null),Iw(this,c)),4==$&&Jf(this),this.i&&!this.J&&(4==$?a1(this.l,this):(this.i=!1,e_(this)))}else(function t1(n){const e={};n=(n.g&&2<=Fd(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(gg(n[r]))continue;var t=RT(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[s]||[];e[s]=a,a.push(t)}!function mD(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,su(12)):(this.o=0,su(13)),Jf(this),t_(this)}}}catch{}},Or.mb=function(){if(this.g){var n=Fd(this.g),e=this.g.ja();this.C<e.length&&(af(this),Xm(this,n,e),this.i&&4!=n&&e_(this))}},Or.cancel=function(){this.J=!0,Jf(this)},Or.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Qm(),su(17)),Jf(this),this.o=2,t_(this)):bw(this,this.Y-n)};var Tw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Xf){this.h=n.h,fv(this,n.j),this.s=n.s,this.g=n.g,n_(this,n.m),this.l=n.l;var e=n.i,t=new i_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$T(this,t),this.o=n.o}else n&&(e=String(n).match(Tw))?(this.h=!1,fv(this,e[1]||"",!0),this.s=bg(e[2]||""),this.g=bg(e[3]||"",!0),n_(this,e[4]),this.l=bg(e[5]||"",!0),$T(this,e[6]||"",!0),this.o=bg(e[7]||"")):(this.h=!1,this.i=new i_(null,this.h))}function Wu(n){return new Xf(n)}function fv(n,e,t){n.j=t?bg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function n_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $T(n,e,t){e instanceof i_?(n.i=e,function AD(n,e){e&&!n.j&&(dh(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(WT(this,r),qT(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=r_(e,CD)),n.i=new i_(e,n.h))}function Qa(n,e,t){n.i.set(e,t)}function pv(n){return Qa(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function bg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function r_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Sw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Sw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(r_(e,GT,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(r_(e,GT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(r_(t,"/"==t.charAt(0)?zT:HT,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",r_(t,DD)),n.join("")};var GT=/[#\/\?@]/g,HT=/[#\?:]/g,zT=/[#\?]/g,CD=/[#\?@]/g,DD=/#/g;function i_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function dh(n){n.g||(n.g=new Map,n.h=0,n.i&&function SD(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var a=n[t].substring(0,r);s=n[t].substring(r+1)}else a=n[t];e(a,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function WT(n,e){dh(n),e=Ig(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Cw(n,e){return dh(n),e=Ig(n,e),n.g.has(e)}function qT(n,e,t){WT(n,e),0<t.length&&(n.i=null,n.g.set(Ig(n,e),ew(t)),n.h+=t.length)}function Ig(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function KT(n){this.l=n||xD,n=Ii.PerformanceNavigationTiming?0<(n=Ii.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ii.g&&Ii.g.Ka&&Ii.g.Ka()&&Ii.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Or=i_.prototype).add=function(n,e){dh(this),this.i=null,n=Ig(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Or.forEach=function(n,e){dh(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Or.ta=function(){dh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let a=0;a<s.length;a++)t.push(e[r])}return t},Or.Z=function(n){dh(this);let e=[];if("string"==typeof n)Cw(this,n)&&(e=e.concat(this.g.get(Ig(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Or.set=function(n,e){return dh(this),this.i=null,Cw(this,n=Ig(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Or.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Or.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var s=a;""!==c[r]&&(s+="="+encodeURIComponent(String(c[r]))),n.push(s)}}return this.i=n.join("&")};var xD=10;function YT(n){return!!n.h||!!n.g&&n.g.size>=n.j}function QT(n){return n.h?1:n.g?n.g.size:0}function gv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function mv(n,e){n.g?n.g.add(e):n.h=e}function Dw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ZT(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ew(n.i)}KT.prototype.cancel=function(){if(this.i=ZT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var JT=class{stringify(n){return Ii.JSON.stringify(n,void 0)}parse(n){return Ii.JSON.parse(n,void 0)}};function OD(){this.g=new JT}function PD(n,e,t){const r=t||"";try{jT(n,function(s,a){let c=s;fg(s)&&(c=pw(s)),e.push(r+a+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function _v(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ep(n){this.l=n.fc||null,this.j=n.ob||!1}function Tg(n,e){rc.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=yv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cc(ep,Zf),ep.prototype.g=function(){return new Tg(this.l,this.j)},ep.prototype.i=function(n){return function(){return n}}({}),Cc(Tg,rc);var yv=0;function vv(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function s_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,o_(n)}function o_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Or=Tg.prototype).open=function(n,e){if(this.readyState!=yv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,o_(this)},Or.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ii).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Or.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,s_(this)),this.readyState=yv},Or.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,o_(this)),this.g&&(this.readyState=3,o_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ii.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vv(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Or.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?s_(this):o_(this),3==this.readyState&&vv(this)}},Or.Za=function(n){this.g&&(this.response=this.responseText=n,s_(this))},Or.Ya=function(n){this.g&&(this.response=n,s_(this))},Or.ka=function(){this.g&&s_(this)},Or.setRequestHeader=function(n,e){this.v.append(n,e)},Or.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Or.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Tg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Aw=Ii.JSON.parse;function Pl(n){rc.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Rw,this.L=this.M=!1}Cc(Pl,rc);var Rw="",tp=/^https?$/i,XT=["POST","PUT"];function kD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Ev(n),bv(n)}function Ev(n){n.F||(n.F=!0,Dc(n,"complete"),Dc(n,"error"))}function wv(n){if(n.h&&typeof Hm<"u"&&(!n.C[1]||4!=Fd(n)||2!=n.da()))if(n.v&&4==Fd(n))_g(n.La,0,n);else if(Dc(n,"readystatechange"),4==Fd(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var s=String(n.I).match(Tw)[1]||null;!s&&Ii.self&&Ii.self.location&&(s=Ii.self.location.protocol.slice(0,-1)),r=!tp.test(s?s.toLowerCase():"")}t=r}if(t)Dc(n,"complete"),Dc(n,"success");else{n.m=6;try{var a=2<Fd(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",Ev(n)}}finally{bv(n)}}}function bv(n,e){if(n.g){xw(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Dc(n,"ready");try{t.onreadystatechange=r}catch{}}}function xw(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ii.clearTimeout(n.A),n.A=null)}function Fd(n){return n.g?n.g.readyState:0}function e1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Rw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Iv(n){let e="";return ow(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Tv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Iv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qa(n,e,t))}function Sg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ow(n){this.Ga=0,this.j=[],this.l=new Ym,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Sg("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Sg("baseRetryDelayMs",5e3,n),this.hb=Sg("retryDelaySeedMs",1e4,n),this.eb=Sg("forwardChannelMaxRetries",2,n),this.xa=Sg("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new KT(n&&n.concurrentRequestLimit),this.Ja=new OD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Sv(n){if(n1(n),3==n.H){var e=n.W++,t=Wu(n.I);if(Qa(t,"SID",n.K),Qa(t,"RID",e),Qa(t,"TYPE","terminate"),Av(n,t),(e=new wg(n,n.l,e)).L=2,e.v=pv(Wu(t)),t=!1,Ii.navigator&&Ii.navigator.sendBeacon)try{t=Ii.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ii.Image&&((new Image).src=e.v,t=!0),t||(e.g=c1(e.l,null),e.g.ha(e.v)),e.G=Date.now(),e_(e)}Fw(n)}function Cv(n){n.g&&(s1(n),n.g.cancel(),n.g=null)}function n1(n){Cv(n),n.u&&(Ii.clearTimeout(n.u),n.u=null),Rv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ii.clearTimeout(n.m),n.m=null)}function Dv(n){if(!YT(n.i)&&!n.m){n.m=!0;var e=n.Na;sv||OT(),uh||(sv(),uh=!0),gw.add(e,n),n.C=0}}function Pw(n,e){var t;t=e?e.m:n.W++;const r=Wu(n.I);Qa(r,"SID",n.K),Qa(r,"RID",t),Qa(r,"AID",n.V),Av(n,r),n.o&&n.s&&Tv(r,n.o,n.s),t=new wg(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Mw(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),mv(n.i,t),UT(t,r,e)}function Av(n,e){n.na&&ow(n.na,function(t,r){Qa(e,r,t)}),n.h&&jT({},function(t,r){Qa(e,r,t)})}function Mw(n,e,t){t=Math.min(n.j.length,t);var r=n.h?ru(n.h.Va,n.h,n):null;e:{var s=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=s[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let _=!0;for(let b=0;b<t;b++){let P=s[b].g;const $=s[b].map;if(P-=a,0>P)a=Math.max(0,s[b].g-100),_=!1;else try{PD($,c,"req"+P+"_")}catch{r&&r($)}}if(_){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function r1(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;sv||OT(),uh||(sv(),uh=!0),gw.add(e,n),n.A=0}}function Nw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=vg(ru(n.Ma,n),kw(n,n.A)),n.A++,0))}function s1(n){null!=n.B&&(Ii.clearTimeout(n.B),n.B=null)}function o1(n){n.g=new wg(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Wu(n.wa);Qa(e,"RID","rpc"),Qa(e,"SID",n.K),Qa(e,"AID",n.V),Qa(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Qa(e,"TO",n.qa),Qa(e,"TYPE","xmlhttp"),Av(n,e),n.o&&n.s&&Tv(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=pv(Wu(e)),t.s=null,t.S=!0,bD(t,n)}function Rv(n){null!=n.v&&(Ii.clearTimeout(n.v),n.v=null)}function a1(n,e){var t=null;if(n.g==e){Rv(n),s1(n),n.g=null;var r=2}else{if(!gv(n.i,e))return;t=e.F,Dw(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;Dc(r=av(),new vw(r,t)),Dv(n)}else r1(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function FD(n,e){return!(QT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=vg(ru(n.Na,n,e),kw(n,n.C)),n.C++,0)))}(n,e)||2==r&&Nw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:lf(n,5);break;case 4:lf(n,10);break;case 3:lf(n,6);break;default:lf(n,2)}}function kw(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function lf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=ru(n.pb,n);t||(t=new Xf("//www.google.com/images/cleardot.gif"),Ii.location&&"http"==Ii.location.protocol||fv(t,"https"),pv(t)),function MD(n,e){const t=new Ym;if(Ii.Image){const r=new Image;r.onload=Hy(_v,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Hy(_v,t,r,"TestLoadImage: error",!1,e),r.onabort=Hy(_v,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hy(_v,t,r,"TestLoadImage: timeout",!1,e),Ii.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else su(2);n.H=0,n.h&&n.h.za(e),Fw(n),n1(n)}function Fw(n){if(n.H=0,n.ma=[],n.h){const e=ZT(n.i);(0!=e.length||0!=n.j.length)&&(tw(n.ma,e),tw(n.ma,n.j),n.i.i.length=0,ew(n.j),n.j.length=0),n.h.ya()}}function l1(n,e,t){var r=t instanceof Xf?Wu(t):new Xf(t);if(""!=r.g)e&&(r.g=e+"."+r.g),n_(r,r.m);else{var s=Ii.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var a=new Xf(null);r&&fv(a,r),e&&(a.g=e),s&&n_(a,s),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Qa(r,t,e),Qa(r,"VER",n.ra),Av(n,r),r}function c1(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pl(t&&n.Ha&&!n.va?new ep({ob:!0}):n.va)).Oa(n.J),e}function u1(){}function xv(){if(Kf&&!(10<=Number(wT)))throw Error("Environmental error: no available transport.")}function qu(n,e){rc.call(this),this.g=new Ow(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!gg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new np(this)}function d1(n){cv.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Cg(){uv.call(this),this.status=1}function np(n){this.g=n}function pd(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ov(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((s=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=(t=(s=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(s^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^a&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^a&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(s^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^s^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=s+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(s^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(s^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((s=a+((c=s+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+a&4294967295}function ua(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var a=0|n[s];r&&a==e||(t[s]=a,r=!1)}this.g=t}(Or=Pl.prototype).Oa=function(n){this.M=n},Or.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dv.g(),this.C=function FT(n){return n.h||(n.h=n.i())}(this.u?this.u:dv),this.g.onreadystatechange=ru(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void kD(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),s=Ii.FormData&&n instanceof Ii.FormData,!(0<=pg(XT,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xw(this),0<this.B&&((this.L=function ND(n){return Kf&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ru(this.ua,this)):this.A=_g(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){kD(this,a)}},Or.ua=function(){typeof Hm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dc(this,"timeout"),this.abort(8))},Or.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Dc(this,"complete"),Dc(this,"abort"),bv(this))},Or.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bv(this,!0)),Pl.$.N.call(this)},Or.La=function(){this.s||(this.G||this.v||this.l?wv(this):this.kb())},Or.kb=function(){wv(this)},Or.isActive=function(){return!!this.g},Or.da=function(){try{return 2<Fd(this)?this.g.status:-1}catch{return-1}},Or.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Or.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Aw(e)}},Or.Ia=function(){return this.m},Or.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Or=Ow.prototype).ra=8,Or.H=1,Or.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new wg(this,this.l,n);let a=this.s;if(this.U&&(a?(a=bT(a),TT(a,this.U)):a=this.U),null!==this.o||this.O||(s.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Mw(this,s,e),Qa(t=Wu(this.I),"RID",n),Qa(t,"CVER",22),this.F&&Qa(t,"X-HTTP-Session-Id",this.F),Av(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(Iv(a)))+"&"+e:this.o&&Tv(t,this.o,a)),mv(this.i,s),this.bb&&Qa(t,"TYPE","init"),this.P?(Qa(t,"$req",e),Qa(t,"SID","null"),s.aa=!0,UT(s,t,null)):UT(s,t,e),this.H=2}}else 3==this.H&&(n?Pw(this,n):0==this.j.length||YT(this.i)||Pw(this))},Or.Ma=function(){if(this.u=null,o1(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=vg(ru(this.jb,this),n)}},Or.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,su(10),Cv(this),o1(this))},Or.ib=function(){null!=this.v&&(this.v=null,Cv(this),Nw(this),su(19))},Or.pb=function(n){n?(this.l.info("Successfully pinged google.com"),su(2)):(this.l.info("Failed to ping google.com"),su(1))},Or.isActive=function(){return!!this.h&&this.h.isActive(this)},(Or=u1.prototype).Ba=function(){},Or.Aa=function(){},Or.za=function(){},Or.ya=function(){},Or.isActive=function(){return!0},Or.Va=function(){},xv.prototype.g=function(n,e){return new qu(n,e)},Cc(qu,rc),qu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;su(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=l1(n,null,n.Y),Dv(n)},qu.prototype.close=function(){Sv(this.g)},qu.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=pw(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Dv(e)},qu.prototype.N=function(){this.g.h=null,delete this.j,Sv(this.g),delete this.g,qu.$.N.call(this)},Cc(d1,cv),Cc(Cg,uv),Cc(np,u1),np.prototype.Ba=function(){Dc(this.g,"a")},np.prototype.Aa=function(n){Dc(this.g,new d1(n))},np.prototype.za=function(n){Dc(this.g,new Cg)},np.prototype.ya=function(){Dc(this.g,"b")},Cc(pd,function h1(){this.blockSize=-1}),pd.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},pd.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,a=0;a<e;){if(0==s)for(;a<=t;)Ov(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[s++]=n.charCodeAt(a++),s==this.blockSize){Ov(this,r),s=0;break}}else for(;a<e;)if(r[s++]=n[a++],s==this.blockSize){Ov(this,r),s=0;break}}this.h=s,this.i+=e},pd.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var LD={};function Lw(n){return-128<=n&&128>n?function yT(n,e){var t=LD;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ua([0|e],0>e?-1:0)}):new ua([0|n],0>n?-1:0)}function Ah(n){if(isNaN(n)||!isFinite(n))return Dg;if(0>n)return Bc(Ah(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Vw;return new ua(e,0)}var Vw=4294967296,Dg=Lw(0),Bw=Lw(1),f1=Lw(16777216);function Rh(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ou(n){return-1==n.h}function Bc(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new ua(t,~n.h).add(Bw)}function Ag(n,e){return n.add(Bc(e))}function Pv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Mv(n,e){this.g=n,this.h=e}function Nv(n,e){if(Rh(e))throw Error("division by zero");if(Rh(n))return new Mv(Dg,Dg);if(ou(n))return e=Nv(Bc(n),e),new Mv(Bc(e.g),Bc(e.h));if(ou(e))return e=Nv(n,Bc(e)),new Mv(Bc(e.g),e.h);if(30<n.g.length){if(ou(n)||ou(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Bw,r=e;0>=r.X(n);)t=BD(t),r=BD(r);var s=hh(t,1),a=hh(r,1);for(r=hh(r,2),t=hh(t,2);!Rh(r);){var c=a.add(r);0>=c.X(n)&&(s=s.add(t),a=c),r=hh(r,1),t=hh(t,1)}return e=Ag(n,s.R(e)),new Mv(s,e)}for(s=Dg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=Ah(t)).R(e);ou(c)||0<c.X(n);)c=(a=Ah(t-=r)).R(e);Rh(a)&&(a=Bw),s=s.add(a),n=Ag(n,c)}return new Mv(s,n)}function BD(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new ua(t,n.h)}function hh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],a=0;a<r;a++)s[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new ua(s,n.h)}(Or=ua.prototype).ea=function(){if(ou(this))return-Bc(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Vw+r)*e,e*=Vw}return n},Or.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Rh(this))return"0";if(ou(this))return"-"+Bc(this).toString(n);for(var e=Ah(Math.pow(n,6)),t=this,r="";;){var s=Nv(t,e).g,a=((0<(t=Ag(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Rh(t=s))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Or.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Or.X=function(n){return ou(n=Ag(this,n))?-1:Rh(n)?0:1},Or.abs=function(){return ou(this)?Bc(this):this},Or.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var a=r+(65535&this.D(s))+(65535&n.D(s)),c=(a>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=c>>>16,t[s]=(c&=65535)<<16|(a&=65535)}return new ua(t,-2147483648&t[t.length-1]?-1:0)},Or.R=function(n){if(Rh(this)||Rh(n))return Dg;if(ou(this))return ou(n)?Bc(this).R(Bc(n)):Bc(Bc(this).R(n));if(ou(n))return Bc(this.R(Bc(n)));if(0>this.X(f1)&&0>n.X(f1))return Ah(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var a=this.D(r)>>>16,c=65535&this.D(r),_=n.D(s)>>>16,b=65535&n.D(s);t[2*r+2*s]+=c*b,Pv(t,2*r+2*s),t[2*r+2*s+1]+=a*b,Pv(t,2*r+2*s+1),t[2*r+2*s+1]+=c*_,Pv(t,2*r+2*s+1),t[2*r+2*s+2]+=a*_,Pv(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new ua(t,0)},Or.gb=function(n){return Nv(this,n).h},Or.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new ua(t,this.h&n.h)},Or.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new ua(t,this.h|n.h)},Or.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new ua(t,this.h^n.h)},xv.prototype.createWebChannel=xv.prototype.g,qu.prototype.send=qu.prototype.u,qu.prototype.open=qu.prototype.m,qu.prototype.close=qu.prototype.close,lv.NO_ERROR=0,lv.TIMEOUT=8,lv.HTTP_ERROR=6,Eg.COMPLETE="complete",LT.EventType=Jm,Jm.OPEN="a",Jm.CLOSE="b",Jm.ERROR="c",Jm.MESSAGE="d",rc.prototype.listen=rc.prototype.O,Pl.prototype.listenOnce=Pl.prototype.P,Pl.prototype.getLastError=Pl.prototype.Sa,Pl.prototype.getLastErrorCode=Pl.prototype.Ia,Pl.prototype.getStatus=Pl.prototype.da,Pl.prototype.getResponseJson=Pl.prototype.Wa,Pl.prototype.getResponseText=Pl.prototype.ja,Pl.prototype.send=Pl.prototype.ha,Pl.prototype.setWithCredentials=Pl.prototype.Oa,pd.prototype.digest=pd.prototype.l,pd.prototype.reset=pd.prototype.reset,pd.prototype.update=pd.prototype.j,ua.prototype.add=ua.prototype.add,ua.prototype.multiply=ua.prototype.R,ua.prototype.modulo=ua.prototype.gb,ua.prototype.compare=ua.prototype.X,ua.prototype.toNumber=ua.prototype.ea,ua.prototype.toString=ua.prototype.toString,ua.prototype.getBits=ua.prototype.D,ua.fromNumber=Ah,ua.fromString=function VD(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Bc(VD(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ah(Math.pow(e,8)),r=Dg,s=0;s<n.length;s+=8){var a=Math.min(8,n.length-s),c=parseInt(n.substring(s,s+a),e);8>a?(a=Ah(Math.pow(e,a)),r=r.R(a).add(Ah(c))):r=(r=r.R(t)).add(Ah(c))}return r};var UD=ah.createWebChannelTransport=function(){return new xv},jD=ah.getStatEventTarget=function(){return av()},Uw=ah.ErrorCode=lv,kv=ah.EventType=Eg,p1=ah.Event=Qf,g1=ah.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},m1=ah.FetchXmlHttpFactory=ep,rp=ah.WebChannel=LT,$D=ah.XhrIo=Pl,GD=ah.Md5=pd,ip=ah.Integer=ua;const _1="@firebase/firestore";class Ac{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ac.UNAUTHENTICATED=new Ac(null),Ac.GOOGLE_CREDENTIALS=new Ac("google-credentials-uid"),Ac.FIRST_PARTY=new Ac("first-party-uid"),Ac.MOCK_USER=new Ac("mock-user");let sp="9.23.0";const Ld=new Ie.Yd("@firebase/firestore");function jw(){return Ld.logLevel}function jn(n,...e){if(Ld.logLevel<=Ie.in.DEBUG){const t=e.map(Fv);Ld.debug(`Firestore (${sp}): ${n}`,...t)}}function Ml(n,...e){if(Ld.logLevel<=Ie.in.ERROR){const t=e.map(Fv);Ld.error(`Firestore (${sp}): ${n}`,...t)}}function Ku(n,...e){if(Ld.logLevel<=Ie.in.WARN){const t=e.map(Fv);Ld.warn(`Firestore (${sp}): ${n}`,...t)}}function Fv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Qr(n="Unexpected state"){const e=`FIRESTORE (${sp}) INTERNAL ASSERTION FAILED: `+n;throw Ml(e),new Error(e)}function ci(n,e){n||Qr()}function Ar(n,e){return n}const en={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rn extends Ae.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ql{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $w{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ac.UNAUTHENTICATED))}shutdown(){}}class Hw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zD{constructor(e){this.t=e,this.currentUser=Ac.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const a=P=>this.i!==s?(s=this.i,t(P)):Promise.resolve();let c=new ql;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ql,e.enqueueRetryable(()=>a(this.currentUser))};const _=()=>{const P=c;e.enqueueRetryable((0,Se.Z)(function*(){yield P.promise,yield a(r.currentUser)}))},b=P=>{jn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=P,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(P=>b(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?b(P):(jn("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ql)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(jn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ci("string"==typeof r.accessToken),new $w(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ci(null===e||"string"==typeof e),new Ac(e)}}class WD{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ac.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new WD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ac.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v1{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&jn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,jn("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{jn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?s(a):jn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ci("string"==typeof t.token),this.T=t.token,new y1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function w1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class zw{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=w1(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[a]%62))}return r}}function qi(n,e){return n<e?-1:n>e?1:0}function op(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class _l{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Rn(en.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Rn(en.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Rn(en.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Rn(en.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _l.fromMillis(Date.now())}static fromDate(e){return _l.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new _l(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qi(this.nanoseconds,e.nanoseconds):qi(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class fi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fi(e)}static min(){return new fi(new _l(0,0))}static max(){return new fi(new _l(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class a_{constructor(e,t,r){void 0===t?t=0:t>e.length&&Qr(),void 0===r?r=e.length-t:r>e.length-t&&Qr(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===a_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof a_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=e.get(s),c=t.get(s);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class uo extends a_{construct(e,t,r){return new uo(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Rn(en.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new uo(t)}static emptyPath(){return new uo([])}}const I1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ho extends a_{construct(e,t,r){return new ho(e,t,r)}static isValidIdentifier(e){return I1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ho.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ho(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(0===r.length)throw new Rn(en.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const _=e[s];if("\\"===_){if(s+1===e.length)throw new Rn(en.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[s+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Rn(en.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,s+=2}else"`"===_?(c=!c,s++):"."!==_||c?(r+=_,s++):(a(),s++)}if(a(),c)throw new Rn(en.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ho(t)}static emptyPath(){return new ho([])}}class ur{constructor(e){this.path=e}static fromPath(e){return new ur(uo.fromString(e))}static fromName(e){return new ur(uo.fromString(e).popFirst(5))}static empty(){return new ur(uo.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===uo.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return uo.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ur(new uo(e.slice()))}}function YD(n){return new Uc(n.readTime,n.key,-1)}class Uc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Uc(fi.min(),ur.empty(),-1)}static max(){return new Uc(fi.max(),ur.empty(),-1)}}function Kw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ur.comparator(n.documentKey,e.documentKey),0!==t?t:qi(n.largestBatchId,e.largestBatchId))}const Bv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function xh(n){return Yw.apply(this,arguments)}function Yw(){return Yw=(0,Se.Z)(function*(n){if(n.code!==en.FAILED_PRECONDITION||n.message!==Bv)throw n;jn("LocalStore","Unexpectedly lost primary lease")}),Yw.apply(this,arguments)}class zt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new zt((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof zt?t:zt.resolve(t)}catch(t){return zt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):zt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):zt.reject(t)}static resolve(e){return new zt((t,r)=>{t(e)})}static reject(e){return new zt((t,r)=>{r(e)})}static waitFor(e){return new zt((t,r)=>{let s=0,a=0,c=!1;e.forEach(_=>{++s,_.next(()=>{++a,c&&a===s&&t()},b=>r(b))}),c=!0,a===s&&t()})}static or(e){let t=zt.resolve(!1);for(const r of e)t=t.next(s=>s?zt.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new zt((r,s)=>{const a=e.length,c=new Array(a);let _=0;for(let b=0;b<a;b++){const P=b;t(e[P]).next($=>{c[P]=$,++_,_===a&&r(c)},$=>s($))}})}static doWhile(e,t){return new zt((r,s)=>{const a=()=>{!0===e()?t().next(()=>{a()},s):r()};a()})}}function Vd(n){return"IndexedDbTransactionError"===n.name}let Qu=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Pg(n){return null==n}function ap(n){return 0===n&&1/n==-1/0}function aA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Da{constructor(e,t){this.comparator=e,this.root=t||$c.EMPTY}insert(e,t){return new Da(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$c.BLACK,null,null))}remove(e){return new Da(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$c.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new d_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new d_(this.root,e,this.comparator,!1)}getReverseIterator(){return new d_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new d_(this.root,e,this.comparator,!0)}}class d_{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $c{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??$c.RED,this.left=s??$c.EMPTY,this.right=a??$c.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new $c(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===a?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $c.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return $c.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$c.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qr();const e=this.left.check();if(e!==this.right.check())throw Qr();return e+(this.isRed()?0:1)}}$c.EMPTY=null,$c.RED=!0,$c.BLACK=!1,$c.EMPTY=new class{constructor(){this.size=0}get key(){throw Qr()}get value(){throw Qr()}get color(){throw Qr()}get left(){throw Qr()}get right(){throw Qr()}copy(n,e,t,r,s){return this}insert(n,e,t){return new $c(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Aa{constructor(e){this.comparator=e,this.data=new Da(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new L1(this.data.getIterator())}getIteratorFrom(e){return new L1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Aa)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(s,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Aa(this.comparator);return t.data=e,t}}class L1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zu{constructor(e){this.fields=e,e.sort(ho.comparator)}static empty(){return new Zu([])}unionWith(e){let t=new Aa(ho.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zu(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return op(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class V1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new V1("Invalid base64 string: "+s):s}}(e);return new gc(t)}static fromUint8Array(e){const t=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new gc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qi(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gc.EMPTY_BYTE_STRING=new gc("");const cA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cf(n){if(ci(!!n),"string"==typeof n){let e=0;const t=cA.exec(n);if(ci(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kl(n.seconds),nanos:Kl(n.nanos)}}function Kl(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Oh(n){return"string"==typeof n?gc.fromBase64String(n):gc.fromUint8Array(n)}function uf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cp(n){const e=n.mapValue.fields.__previous_value__;return uf(e)?cp(e):e}function f_(n){const e=cf(n.mapValue.fields.__local_write_time__.timestampValue);return new _l(e.seconds,e.nanos)}class uA{constructor(e,t,r,s,a,c,_,b,P){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=_,this.longPollingOptions=b,this.useFetchStreams=P}}class up{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new up("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof up&&e.projectId===this.projectId&&e.database===this.database}}const df={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uf(n)?4:ib(n)?9007199254740991:10:Qr()}function gd(n,e){if(n===e)return!0;const t=hf(n);if(t!==hf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return f_(n).isEqual(f_(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=cf(r.timestampValue),c=cf(s.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Oh(n.bytesValue).isEqual(Oh(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Kl(r.geoPointValue.latitude)===Kl(s.geoPointValue.latitude)&&Kl(r.geoPointValue.longitude)===Kl(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Kl(r.integerValue)===Kl(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Kl(r.doubleValue),c=Kl(s.doubleValue);return a===c?ap(a)===ap(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return op(n.arrayValue.values||[],e.arrayValue.values||[],gd);case 10:return function(r,s){const a=r.mapValue.fields||{},c=s.mapValue.fields||{};if(aA(a)!==aA(c))return!1;for(const _ in a)if(a.hasOwnProperty(_)&&(void 0===c[_]||!gd(a[_],c[_])))return!1;return!0}(n,e);default:return Qr()}var s}function p_(n,e){return void 0!==(n.values||[]).find(t=>gd(t,e))}function ff(n,e){if(n===e)return 0;const t=hf(n),r=hf(e);if(t!==r)return qi(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qi(n.booleanValue,e.booleanValue);case 2:return function(s,a){const c=Kl(s.integerValue||s.doubleValue),_=Kl(a.integerValue||a.doubleValue);return c<_?-1:c>_?1:c===_?0:isNaN(c)?isNaN(_)?0:-1:1}(n,e);case 3:return B1(n.timestampValue,e.timestampValue);case 4:return B1(f_(n),f_(e));case 5:return qi(n.stringValue,e.stringValue);case 6:return function(s,a){const c=Oh(s),_=Oh(a);return c.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){const c=s.split("/"),_=a.split("/");for(let b=0;b<c.length&&b<_.length;b++){const P=qi(c[b],_[b]);if(0!==P)return P}return qi(c.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){const c=qi(Kl(s.latitude),Kl(a.latitude));return 0!==c?c:qi(Kl(s.longitude),Kl(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,a){const c=s.values||[],_=a.values||[];for(let b=0;b<c.length&&b<_.length;++b){const P=ff(c[b],_[b]);if(P)return P}return qi(c.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,a){if(s===df.mapValue&&a===df.mapValue)return 0;if(s===df.mapValue)return 1;if(a===df.mapValue)return-1;const c=s.fields||{},_=Object.keys(c),b=a.fields||{},P=Object.keys(b);_.sort(),P.sort();for(let $=0;$<_.length&&$<P.length;++$){const J=qi(_[$],P[$]);if(0!==J)return J;const Ee=ff(c[_[$]],b[P[$]]);if(0!==Ee)return Ee}return qi(_.length,P.length)}(n.mapValue,e.mapValue);default:throw Qr()}}function B1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qi(n,e);const t=cf(n),r=cf(e),s=qi(t.seconds,r.seconds);return 0!==s?s:qi(t.nanos,r.nanos)}function Mg(n){return tb(n)}function tb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=cf(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Oh(n.bytesValue).toBase64():"referenceValue"in n?ur.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",a=!0;for(const c of r.values||[])a?a=!1:s+=",",s+=tb(c);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const _ of s)c?c=!1:a+=",",a+=`${_}:${tb(r.fields[_])}`;return a+"}"}(n.mapValue):Qr();var e}function nb(n){return!!n&&"integerValue"in n}function g_(n){return!!n&&"arrayValue"in n}function rb(n){return!!n&&"nullValue"in n}function Gv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hv(n){return!!n&&"mapValue"in n}function m_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return lp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=m_(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=m_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ib(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Rc{constructor(e){this.value=e}static empty(){return new Rc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Hv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=m_(t)}setAll(e){let t=ho.emptyPath(),r={},s=[];e.forEach((c,_)=>{if(!t.isImmediateParentOf(_)){const b=this.getFieldsMap(t);this.applyChanges(b,r,s),r={},s=[],t=_.popLast()}c?r[_.lastSegment()]=m_(c):s.push(_.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Hv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Hv(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){lp(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Rc(m_(this.value))}}function j1(n){const e=[];return lp(n.fields,(t,r)=>{const s=new ho([t]);if(Hv(r)){const a=j1(r.mapValue).fields;if(0===a.length)e.push(s);else for(const c of a)e.push(s.child(c))}else e.push(s)}),new Zu(e)}class Za{constructor(e,t,r,s,a,c,_){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=c,this.documentState=_}static newInvalidDocument(e){return new Za(e,0,fi.min(),fi.min(),fi.min(),Rc.empty(),0)}static newFoundDocument(e,t,r,s){return new Za(e,1,t,fi.min(),r,s,0)}static newNoDocument(e,t){return new Za(e,2,t,fi.min(),fi.min(),Rc.empty(),0)}static newUnknownDocument(e,t){return new Za(e,3,t,fi.min(),fi.min(),Rc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Za&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Za(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pf{constructor(e,t){this.position=e,this.inclusive=t}}function zv(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],c=n.position[s];if(r=a.field.isKeyField()?ur.comparator(ur.fromName(c.referenceValue),t.key):ff(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ph(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gd(n.position[t],e.position[t]))return!1;return!0}class hp{constructor(e,t="asc"){this.field=e,this.dir=t}}function ob(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Wv{}class ro extends Wv{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new hA(e,t,r):"array-contains"===t?new H1(e,r):"in"===t?new hb(e,r):"not-in"===t?new fA(e,r):"array-contains-any"===t?new z1(e,r):new ro(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new G1(e,r):new sO(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ff(t,this.value)):null!==t&&hf(this.value)===hf(t)&&this.matchesComparison(ff(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ra extends Wv{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ra(e,t)}matches(e){return fp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function fp(n){return"and"===n.op}function lb(n){return function $1(n){for(const e of n.filters)if(e instanceof Ra)return!1;return!0}(n)&&fp(n)}function cb(n){if(n instanceof ro)return n.field.canonicalString()+n.op.toString()+Mg(n.value);if(lb(n))return n.filters.map(e=>cb(e)).join(",");{const e=n.filters.map(t=>cb(t)).join(",");return`${n.op}(${e})`}}function ub(n,e){return n instanceof ro?(t=n,(r=e)instanceof ro&&t.op===r.op&&t.field.isEqual(r.field)&&gd(t.value,r.value)):n instanceof Ra?function(t,r){return r instanceof Ra&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,a,c)=>s&&ub(a,r.filters[c]),!0)}(n,e):void Qr();var t,r}function db(n){return n instanceof ro?`${(e=n).field.canonicalString()} ${e.op} ${Mg(e.value)}`:n instanceof Ra?function(e){return e.op.toString()+" {"+e.getFilters().map(db).join(" ,")+"}"}(n):"Filter";var e}class hA extends ro{constructor(e,t,r){super(e,t,r),this.key=ur.fromName(r.referenceValue)}matches(e){const t=ur.comparator(e.key,this.key);return this.matchesComparison(t)}}class G1 extends ro{constructor(e,t){super(e,"in",t),this.keys=qv(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sO extends ro{constructor(e,t){super(e,"not-in",t),this.keys=qv(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qv(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ur.fromName(r.referenceValue))}class H1 extends ro{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return g_(t)&&p_(t.arrayValue,this.value)}}class hb extends ro{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&p_(this.value.arrayValue,t)}}class fA extends ro{constructor(e,t){super(e,"not-in",t)}matches(e){if(p_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!p_(this.value.arrayValue,t)}}class z1 extends ro{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!g_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>p_(this.value.arrayValue,r))}}class W1{constructor(e,t=null,r=[],s=[],a=null,c=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=c,this.endAt=_,this.dt=null}}function gf(n,e=null,t=[],r=[],s=null,a=null,c=null){return new W1(n,e,t,r,s,a,c)}function ph(n){const e=Ar(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>cb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Pg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Mg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Mg(r)).join(",")),e.dt=t}return e.dt}function Ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ob(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ub(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ph(n.startAt,e.startAt)&&Ph(n.endAt,e.endAt)}function __(n){return ur.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class gh{constructor(e,t=null,r=[],s=[],a=null,c="F",_=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=c,this.startAt=_,this.endAt=b,this.wt=null,this._t=null}}function kg(n){return new gh(n)}function gA(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function pp(n){const e=Ar(n);if(null===e.wt){e.wt=[];const t=function fb(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function Y1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new hp(t)),e.wt.push(new hp(ho.keyField(),"asc"));else{let s=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(s=!0);if(!s){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new hp(ho.keyField(),a))}}}return e.wt}function Eu(n){const e=Ar(n);if(!e._t)if("F"===e.limitType)e._t=gf(e.path,e.collectionGroup,pp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of pp(e))t.push(new hp(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new pf(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new pf(e.startAt.position,e.startAt.inclusive):null;e._t=gf(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function gb(n,e,t){return new gh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qv(n,e){return Ng(Eu(n),Eu(e))&&n.limitType===e.limitType}function mA(n){return`${ph(Eu(n))}|lt:${n.limitType}`}function Q1(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>db(r)).join(", ")}]`),Pg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Mg(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Mg(r)).join(",")),`Target(${t})`}(Eu(n))}; limitType=${n.limitType})`}function Zv(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):ur.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of pp(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,a,c){const _=zv(s,a,c);return s.inclusive?_<=0:_<0}(t.startAt,pp(t),r)||t.endAt&&!function(s,a,c){const _=zv(s,a,c);return s.inclusive?_>=0:_>0}(t.endAt,pp(t),r)));var t,r}function y_(n){return(e,t)=>{let r=!1;for(const s of pp(n)){const a=_A(s,e,t);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function _A(n,e,t){const r=n.field.isKeyField()?ur.comparator(e.key,t.key):function(s,a,c){const _=a.data.field(s),b=c.data.field(s);return null!==_&&null!==b?ff(_,b):Qr()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Qr()}}class Mh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,a]of r)if(this.equalsFn(s,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){lp(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return eb(this.inner)}size(){return this.innerSize}}const J1=new Da(ur.comparator);function ic(){return J1}const mb=new Da(ur.comparator);function gp(...n){let e=mb;for(const t of n)e=e.insert(t.key,t);return e}function Jv(n){let e=mb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function mh(){return mp()}function Xv(){return mp()}function mp(){return new Mh(n=>n.toString(),(n,e)=>n.isEqual(e))}const e0=new Da(ur.comparator),oO=new Aa(ur.comparator);function As(...n){let e=oO;for(const t of n)e=e.add(t);return e}const aO=new Aa(qi);function X1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ap(e)?"-0":e}}function eS(n){return{integerValue:""+n}}function tS(n,e){return function ZD(n){return"number"==typeof n&&Number.isInteger(n)&&!ap(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?eS(e):X1(n,e)}class n0{constructor(){this._=void 0}}function nS(n,e,t){return n instanceof Fg?function(r,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&uf(s)&&(s=cp(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):n instanceof _p?yb(n,e):n instanceof Nh?yA(n,e):function(r,s){const a=_b(r,s),c=r0(a)+r0(r.gt);return nb(a)&&nb(r.gt)?eS(c):X1(r.serializer,c)}(n,e)}function rS(n,e,t){return n instanceof _p?yb(n,e):n instanceof Nh?yA(n,e):t}function _b(n,e){return n instanceof yp?nb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Fg extends n0{}class _p extends n0{constructor(e){super(),this.elements=e}}function yb(n,e){const t=iS(e);for(const r of n.elements)t.some(s=>gd(s,r))||t.push(r);return{arrayValue:{values:t}}}class Nh extends n0{constructor(e){super(),this.elements=e}}function yA(n,e){let t=iS(e);for(const r of n.elements)t=t.filter(s=>!gd(s,r));return{arrayValue:{values:t}}}class yp extends n0{constructor(e,t){super(),this.serializer=e,this.gt=t}}function r0(n){return Kl(n.integerValue||n.doubleValue)}function iS(n){return g_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cO{constructor(e,t){this.version=e,this.transformResults=t}}class yl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yl}static exists(e){return new yl(void 0,e)}static updateTime(e){return new yl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function s0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class o0{}function sS(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ep(n.key,yl.none()):new vp(n.key,n.data,yl.none());{const t=n.data,r=Rc.empty();let s=new Aa(ho.comparator);for(let a of e.fields)if(!s.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),s=s.add(a)}return new mf(n.key,r,new Zu(s.toArray()),yl.none())}}function oS(n,e,t){n instanceof vp?function(r,s,a){const c=r.value.clone(),_=a0(r.fieldTransforms,s,a.transformResults);c.setAll(_),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof mf?function(r,s,a){if(!s0(r.precondition,s))return void s.convertToUnknownDocument(a.version);const c=a0(r.fieldTransforms,s,a.transformResults),_=s.data;_.setAll(aS(r)),_.setAll(c),s.convertToFoundDocument(a.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lg(n,e,t,r){return n instanceof vp?function(s,a,c,_){if(!s0(s.precondition,a))return c;const b=s.value.clone(),P=Eb(s.fieldTransforms,_,a);return b.setAll(P),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null}(n,e,t,r):n instanceof mf?function(s,a,c,_){if(!s0(s.precondition,a))return c;const b=Eb(s.fieldTransforms,_,a),P=a.data;return P.setAll(aS(s)),P.setAll(b),a.convertToFoundDocument(a.version,P).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map($=>$.field))}(n,e,t,r):(c=t,s0(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function vA(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=_b(r.transform,s||null);null!=a&&(null===t&&(t=Rc.empty()),t.set(r.field,a))}return t||null}function vb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&op(t,r,(s,a)=>function lO(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof _p&&r instanceof _p||t instanceof Nh&&r instanceof Nh?op(t.elements,r.elements,gd):t instanceof yp&&r instanceof yp?gd(t.gt,r.gt):t instanceof Fg&&r instanceof Fg);var t,r}(s,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class vp extends o0{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class mf extends o0{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function aS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function a0(n,e,t){const r=new Map;ci(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],c=a.transform,_=e.data.field(a.field);r.set(a.field,rS(c,_,t[s]))}return r}function Eb(n,e,t){const r=new Map;for(const s of n){const a=s.transform,c=t.data.field(s.field);r.set(s.field,nS(a,c,e))}return r}class Ep extends o0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wb extends o0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vg{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&oS(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Lg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Xv();return this.mutations.forEach(s=>{const a=e.get(s.key),c=a.overlayedDocument;let _=this.applyToLocalView(c,a.mutatedFields);_=t.has(s.key)?null:_;const b=sS(c,_);null!==b&&r.set(s.key,b),c.isValidDocument()||c.convertToNoDocument(fi.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),As())}isEqual(e){return this.batchId===e.batchId&&op(this.mutations,e.mutations,(t,r)=>vb(t,r))&&op(this.baseMutations,e.baseMutations,(t,r)=>vb(t,r))}}class bb{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ci(e.mutations.length===r.length);let s=e0;const a=e.mutations;for(let c=0;c<a.length;c++)s=s.insert(a[c].key,r[c].version);return new bb(e,t,r,s)}}class Ib{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cS{constructor(e,t){this.count=e,this.unchangedNames=t}}var mc,So;function uS(n){if(void 0===n)return Ml("GRPC error has no .code"),en.UNKNOWN;switch(n){case mc.OK:return en.OK;case mc.CANCELLED:return en.CANCELLED;case mc.UNKNOWN:return en.UNKNOWN;case mc.DEADLINE_EXCEEDED:return en.DEADLINE_EXCEEDED;case mc.RESOURCE_EXHAUSTED:return en.RESOURCE_EXHAUSTED;case mc.INTERNAL:return en.INTERNAL;case mc.UNAVAILABLE:return en.UNAVAILABLE;case mc.UNAUTHENTICATED:return en.UNAUTHENTICATED;case mc.INVALID_ARGUMENT:return en.INVALID_ARGUMENT;case mc.NOT_FOUND:return en.NOT_FOUND;case mc.ALREADY_EXISTS:return en.ALREADY_EXISTS;case mc.PERMISSION_DENIED:return en.PERMISSION_DENIED;case mc.FAILED_PRECONDITION:return en.FAILED_PRECONDITION;case mc.ABORTED:return en.ABORTED;case mc.OUT_OF_RANGE:return en.OUT_OF_RANGE;case mc.UNIMPLEMENTED:return en.UNIMPLEMENTED;case mc.DATA_LOSS:return en.DATA_LOSS;default:return Qr()}}(So=mc||(mc={}))[So.OK=0]="OK",So[So.CANCELLED=1]="CANCELLED",So[So.UNKNOWN=2]="UNKNOWN",So[So.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",So[So.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",So[So.NOT_FOUND=5]="NOT_FOUND",So[So.ALREADY_EXISTS=6]="ALREADY_EXISTS",So[So.PERMISSION_DENIED=7]="PERMISSION_DENIED",So[So.UNAUTHENTICATED=16]="UNAUTHENTICATED",So[So.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",So[So.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",So[So.ABORTED=10]="ABORTED",So[So.OUT_OF_RANGE=11]="OUT_OF_RANGE",So[So.UNIMPLEMENTED=12]="UNIMPLEMENTED",So[So.INTERNAL=13]="INTERNAL",So[So.UNAVAILABLE=14]="UNAVAILABLE",So[So.DATA_LOSS=15]="DATA_LOSS";class dS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Tb}static getOrCreateInstance(){return null===Tb&&(Tb=new dS),Tb}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Tb=null;const wA=new ip([4294967295,4294967295],0);function bA(n){const e=function hS(){return new TextEncoder}().encode(n),t=new GD;return t.update(e),new Uint8Array(t.digest())}function IA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ip([t,r],0),new ip([s,a],0)]}class fS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new l0(`Invalid padding: ${t}`);if(r<0)throw new l0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new l0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new l0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=ip.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(ip.fromNumber(r)));return 1===s.compare(wA)&&(s=new ip([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=bA(e),[r,s]=IA(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,s,a);if(!this.At(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new fS(a,s,t);return r.forEach(_=>c.insert(_)),c}insert(e){if(0===this.It)return;const t=bA(e),[r,s]=IA(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,s,a);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class l0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class c0{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,E_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new c0(fi.min(),s,new Da(qi),ic(),As())}}class E_{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new E_(r,t,As(),As(),As())}}class Sb{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class TA{constructor(e,t){this.targetId=e,this.Vt=t}}class SA{constructor(e,t,r=gc.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class CA{constructor(){this.St=0,this.Dt=AA(),this.Ct=gc.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=As(),t=As(),r=As();return this.Dt.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Qr()}}),new E_(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=AA()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class DA{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ic(),this.zt=pS(),this.Wt=new Da(qi)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Qr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,a=this.se(r);if(a){const c=a.target;if(__(c))if(0===s){const _=new ur(c.path);this.Yt(r,_,Za.newNoDocument(_,fi.min()))}else ci(1===s);else{const _=this.ie(r);if(_!==s){const b=this.re(e,_);0!==b&&(this.ee(r),this.Wt=this.Wt.insert(r,2===b?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=dS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(P,$,J){var Ee,Ne,St,Ht,qt,Qn;const fr={localCacheCount:$,existenceFilterCount:J.count},ir=J.unchangedNames;return ir&&(fr.bloomFilter={applied:0===P,hashCount:null!==(Ee=ir?.hashCount)&&void 0!==Ee?Ee:0,bitmapLength:null!==(Ht=null===(St=null===(Ne=ir?.bits)||void 0===Ne?void 0:Ne.bitmap)||void 0===St?void 0:St.length)&&void 0!==Ht?Ht:0,padding:null!==(Qn=null===(qt=ir?.bits)||void 0===qt?void 0:qt.padding)&&void 0!==Qn?Qn:0}),fr}(b,_,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:_=0}=r;let b,P;try{b=Oh(a).toUint8Array()}catch($){if($ instanceof V1)return Ku("Decoding the base64 bloom filter in existence filter failed ("+$.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw $}try{P=new fS(b,c,_)}catch($){return Ku($ instanceof l0?"BloomFilter error: ":"Applying bloom filter failed: ",$),1}return 0===P.It?1:s!==t-this.oe(e.targetId,P)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(a=>{const c=this.Gt.ue(),_=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;t.vt(_)||(this.Yt(e,a,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((a,c)=>{const _=this.se(c);if(_){if(a.current&&__(_.target)){const b=new ur(_.target.path);null!==this.jt.get(b)||this.ae(c,b)||this.Yt(c,b,Za.newNoDocument(b,e))}a.Mt&&(t.set(c,a.Ot()),a.Ft())}});let r=As();this.zt.forEach((a,c)=>{let _=!0;c.forEachWhile(b=>{const P=this.se(b);return!P||"TargetPurposeLimboResolution"===P.purpose||(_=!1,!1)}),_&&(r=r.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const s=new c0(e,t,this.Wt,this.jt,r);return this.jt=ic(),this.zt=pS(),this.Wt=new Da(qi),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new CA,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Aa(qi),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||jn("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new CA),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function pS(){return new Da(ur.comparator)}function AA(){return new Da(ur.comparator)}const i={asc:"ASCENDING",desc:"DESCENDING"},o={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l={and:"AND",or:"OR"};class u{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function h(n,e){return n.useProto3Json||Pg(e)?e:{value:e}}function v(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function N(n,e){return v(n,e.toTimestamp())}function z(n){return ci(!!n),fi.fromTimestamp(function(e){const t=cf(e);return new _l(t.seconds,t.nanos)}(n))}function se(n,e){return(t=n,new uo(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function me(n){const e=uo.fromString(n);return ci(hO(e)),e}function ke(n,e){return se(n.databaseId,e.path)}function lt(n,e){const t=me(e);if(t.get(1)!==n.databaseId.projectId)throw new Rn(en.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Rn(en.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ur(Ir(t))}function At(n,e){return se(n.databaseId,e)}function kn(n){return new uo(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ir(n){return ci(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pi(n,e,t){return{name:ke(n,e),fields:t.value.mapValue.fields}}function wp(n,e){return{documents:[At(n,e.path)]}}function w_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=At(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=At(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(b){if(0!==b.length)return dO(Ra.create(b,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const a=function(b){if(0!==b.length)return b.map(P=>{return{field:Bg(($=P).field),direction:aM($.dir)};var $})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=h(n,e.limit);var _,b;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(_=e.startAt).inclusive,values:_.position}),e.endAt&&(t.structuredQuery.endAt={before:!(b=e.endAt).inclusive,values:b.position}),t}function gS(n){let e=function cn(n){const e=me(n);return 4===e.length?uo.emptyPath():Ir(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ci(1===r);const $=t.from[0];$.allDescendants?s=$.collectionId:e=e.child($.collectionId)}let a=[];t.where&&(a=function($){const J=uO($);return J instanceof Ra&&lb(J)?J.getFilters():[J]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map($=>{return new hp(u0((J=$).field),function(Ee){switch(Ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction));var J}));let _=null;t.limit&&(_=function($){let J;return J="object"==typeof $?$.value:$,Pg(J)?null:J}(t.limit));let b=null;var $;t.startAt&&(b=new pf(($=t.startAt).values||[],!!$.before));let P=null;return t.endAt&&(P=function($){return new pf($.values||[],!$.before)}(t.endAt)),function K1(n,e,t,r,s,a,c,_){return new gh(n,e,t,r,s,a,c,_)}(e,s,c,a,_,"F",b,P)}function uO(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=u0(e.unaryFilter.field);return ro.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=u0(e.unaryFilter.field);return ro.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=u0(e.unaryFilter.field);return ro.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=u0(e.unaryFilter.field);return ro.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Qr()}}(n):void 0!==n.fieldFilter?ro.create(u0((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qr()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ra.create(e.compositeFilter.filters.map(t=>uO(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Qr()}}(e.compositeFilter.op))}(n):Qr();var e}function aM(n){return i[n]}function lM(n){return o[n]}function cM(n){return l[n]}function Bg(n){return{fieldPath:n.canonicalString()}}function u0(n){return ho.fromServerFormat(n.fieldPath)}function dO(n){return n instanceof ro?function(e){if("=="===e.op){if(Gv(e.value))return{unaryFilter:{field:Bg(e.field),op:"IS_NAN"}};if(rb(e.value))return{unaryFilter:{field:Bg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gv(e.value))return{unaryFilter:{field:Bg(e.field),op:"IS_NOT_NAN"}};if(rb(e.value))return{unaryFilter:{field:Bg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bg(e.field),op:lM(e.op),value:e.value}}}(n):n instanceof Ra?function(e){const t=e.getFilters().map(r=>dO(r));return 1===t.length?t[0]:{compositeFilter:{op:cM(e.op),filters:t}}}(n):Qr()}function uM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class bp{constructor(e,t,r,s,a=fi.min(),c=fi.min(),_=gc.EMPTY_BYTE_STRING,b=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=_,this.expectedCount=b}withSequenceNumber(e){return new bp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fO{constructor(e){this.fe=e}}function xA(n){const e=gS({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gb(e,e.limit,"L"):e}class S_{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Kl(e.integerValue));else if("doubleValue"in e){const r=Kl(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),ap(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Oh(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?ib(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Qr()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),ur.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}S_.Ve=new S_;class vM{constructor(){this.rn=new FA}addToCollectionParentIndex(e,t){return this.rn.add(t),zt.resolve()}getCollectionParents(e,t){return zt.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return zt.resolve()}deleteFieldIndex(e,t){return zt.resolve()}getDocumentsMatchingTarget(e,t){return zt.resolve(null)}getIndexType(e,t){return zt.resolve(0)}getFieldIndexes(e,t){return zt.resolve([])}getNextCollectionGroupToUpdate(e){return zt.resolve(null)}getMinOffset(e,t){return zt.resolve(Uc.min())}getMinOffsetFromCollectionGroup(e,t){return zt.resolve(Uc.min())}updateCollectionGroup(e,t,r){return zt.resolve()}updateIndexEntries(e,t){return zt.resolve()}}class FA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Aa(uo.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Aa(uo.comparator)).toArray()}}new Uint8Array(0);class Ou{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ou(e,Ou.DEFAULT_COLLECTION_PERCENTILE,Ou.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ou.DEFAULT_COLLECTION_PERCENTILE=10,Ou.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ou.DEFAULT=new Ou(41943040,Ou.DEFAULT_COLLECTION_PERCENTILE,Ou.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ou.DISABLED=new Ou(-1,0,0);class D_{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new D_(0)}static Mn(){return new D_(-1)}}class SM{constructor(){this.changes=new Mh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Za.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?zt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class AM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class BO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Lg(r.mutation,s,Zu.empty(),_l.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,As()).next(()=>r))}getLocalViewOfDocuments(e,t,r=As()){const s=mh();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let c=gp();return a.forEach((_,b)=>{c=c.insert(_,b.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=mh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,As()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((c,_)=>{t.set(c,_)})})}computeViews(e,t,r,s){let a=ic();const c=mp(),_=mp();return t.forEach((b,P)=>{const $=r.get(P.key);s.has(P.key)&&(void 0===$||$.mutation instanceof mf)?a=a.insert(P.key,P):void 0!==$?(c.set(P.key,$.mutation.getFieldMask()),Lg($.mutation,P,$.mutation.getFieldMask(),_l.now())):c.set(P.key,Zu.empty())}),this.recalculateAndSaveOverlays(e,a).next(b=>(b.forEach((P,$)=>c.set(P,$)),t.forEach((P,$)=>{var J;return _.set(P,new AM($,null!==(J=c.get(P))&&void 0!==J?J:null))}),_))}recalculateAndSaveOverlays(e,t){const r=mp();let s=new Da((c,_)=>c-_),a=As();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const _ of c)_.keys().forEach(b=>{const P=t.get(b);if(null===P)return;let $=r.get(b)||Zu.empty();$=_.applyToLocalView(P,$),r.set(b,$);const J=(s.get(_.batchId)||As()).add(b);s=s.insert(_.batchId,J)})}).next(()=>{const c=[],_=s.getReverseIterator();for(;_.hasNext();){const b=_.getNext(),P=b.key,$=b.value,J=Xv();$.forEach(Ee=>{if(!a.has(Ee)){const Ne=sS(t.get(Ee),r.get(Ee));null!==Ne&&J.set(Ee,Ne),a=a.add(Ee)}}),c.push(this.documentOverlayCache.saveOverlays(e,P,J))}return zt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ur.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Yv(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const c=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):zt.resolve(mh());let _=-1,b=a;return c.next(P=>zt.forEach(P,($,J)=>(_<J.largestBatchId&&(_=J.largestBatchId),a.get($)?zt.resolve():this.remoteDocumentCache.getEntry(e,$).next(Ee=>{b=b.insert($,Ee)}))).next(()=>this.populateOverlays(e,P,a)).next(()=>this.computeViews(e,b,P,As())).next($=>({batchId:_,changes:Jv($)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ur(t)).next(r=>{let s=gp();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let a=gp();return this.indexManager.getCollectionParents(e,s).next(c=>zt.forEach(c,_=>{const b=(P=t,$=_.child(s),new gh($,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,$;return this.getDocumentsMatchingCollectionQuery(e,b,r).next(P=>{P.forEach(($,J)=>{a=a.insert($,J)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(a=>{s.forEach((_,b)=>{const P=b.getKey();null===a.get(P)&&(a=a.insert(P,Za.newInvalidDocument(P)))});let c=gp();return a.forEach((_,b)=>{const P=s.get(_);void 0!==P&&Lg(P.mutation,b,Zu.empty(),_l.now()),Zv(t,b)&&(c=c.insert(_,b))}),c})}}class RM{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return zt.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:z(r.createTime)}),zt.resolve()}getNamedQuery(e,t){return zt.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:xA(r.bundledQuery),readTime:z(r.readTime)}),zt.resolve();var r}}class xM{constructor(){this.overlays=new Da(ur.comparator),this.ls=new Map}getOverlay(e,t){return zt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=mh();return zt.forEach(t,s=>this.getOverlay(e,s).next(a=>{null!==a&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.we(e,t,a)}),zt.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),zt.resolve()}getOverlaysForCollection(e,t,r){const s=mh(),a=t.length+1,c=new ur(t.child("")),_=this.overlays.getIteratorFrom(c);for(;_.hasNext();){const b=_.getNext().value,P=b.getKey();if(!t.isPrefixOf(P.path))break;P.path.length===a&&b.largestBatchId>r&&s.set(b.getKey(),b)}return zt.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Da((P,$)=>P-$);const c=this.overlays.getIterator();for(;c.hasNext();){const P=c.getNext().value;if(P.getKey().getCollectionGroup()===t&&P.largestBatchId>r){let $=a.get(P.largestBatchId);null===$&&($=mh(),a=a.insert(P.largestBatchId,$)),$.set(P.getKey(),P)}}const _=mh(),b=a.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((P,$)=>_.set(P,$)),!(_.size()>=s)););return zt.resolve(_)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const c=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Ib(t,r));let a=this.ls.get(t);void 0===a&&(a=As(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class LA{constructor(){this.fs=new Aa(cu.ds),this.ws=new Aa(cu._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new cu(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new cu(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new ur(new uo([])),r=new cu(t,e),s=new cu(t,e+1),a=[];return this.ws.forEachInRange([r,s],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ur(new uo([])),r=new cu(t,e),s=new cu(t,e+1);let a=As();return this.ws.forEachInRange([r,s],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new cu(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class cu{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ur.comparator(e.key,t.key)||qi(e.As,t.As)}static _s(e,t){return qi(e.As,t.As)||ur.comparator(e.key,t.key)}}class OM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Aa(cu.ds)}checkEmpty(e){return zt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const a=this.vs;this.vs++;const c=new Vg(a,t,r,s);this.mutationQueue.push(c);for(const _ of s)this.Rs=this.Rs.add(new cu(_.key,a)),this.indexManager.addToCollectionParentIndex(e,_.key.path.popLast());return zt.resolve(c)}lookupMutationBatch(e,t){return zt.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),a=s<0?0:s;return zt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return zt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return zt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new cu(t,0),s=new cu(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,s],c=>{const _=this.Ps(c.As);a.push(_)}),zt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Aa(qi);return t.forEach(s=>{const a=new cu(s,0),c=new cu(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],_=>{r=r.add(_.As)})}),zt.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ur.isDocumentKey(a)||(a=a.child(""));const c=new cu(new ur(a),0);let _=new Aa(qi);return this.Rs.forEachWhile(b=>{const P=b.key.path;return!!r.isPrefixOf(P)&&(P.length===s&&(_=_.add(b.As)),!0)},c),zt.resolve(this.Vs(_))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){ci(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return zt.forEach(t.mutations,s=>{const a=new cu(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new cu(t,0),s=this.Rs.firstAfterOrEqual(r);return zt.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return zt.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class PM{constructor(e){this.Ds=e,this.docs=new Da(ur.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return zt.resolve(r?r.document.mutableCopy():Za.newInvalidDocument(t))}getEntries(e,t){let r=ic();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Za.newInvalidDocument(s))}),zt.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ic();const c=t.path,_=new ur(c.child("")),b=this.docs.getIteratorFrom(_);for(;b.hasNext();){const{key:P,value:{document:$}}=b.getNext();if(!c.isPrefixOf(P.path))break;P.path.length>c.length+1||Kw(YD($),r)<=0||(s.has($.key)||Zv(t,$))&&(a=a.insert($.key,$.mutableCopy()))}return zt.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Qr()}Cs(e,t){return zt.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new MM(this)}getSize(e){return zt.resolve(this.size)}}class MM extends SM{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),zt.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class NM{constructor(e){this.persistence=e,this.xs=new Mh(t=>ph(t),Ng),this.lastRemoteSnapshotVersion=fi.min(),this.highestTargetId=0,this.Ns=0,this.ks=new LA,this.targetCount=0,this.Ms=D_.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),zt.resolve()}getLastRemoteSnapshotVersion(e){return zt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return zt.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),zt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),zt.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new D_(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,zt.resolve()}updateTargetData(e,t){return this.Fn(t),zt.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,zt.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.xs.forEach((c,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,_.targetId)),s++)}),zt.waitFor(a).next(()=>s)}getTargetCount(e){return zt.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return zt.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),zt.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(c=>{a.push(s.markPotentiallyOrphaned(e,c))}),zt.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),zt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return zt.resolve(r)}containsKey(e,t){return zt.resolve(this.ks.containsKey(t))}}class VA{constructor(e,t){this.$s={},this.overlays={},this.Os=new Qu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new NM(this),this.indexManager=new vM,this.remoteDocumentCache=new PM(r=>this.referenceDelegate.Ls(r)),this.serializer=new fO(t),this.qs=new RM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new OM(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){jn("MemoryPersistence","Starting transaction:",e);const s=new kM(this.Os.next());return this.referenceDelegate.Us(),r(s).next(a=>this.referenceDelegate.Ks(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Gs(e,t){return zt.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class kM extends QD{constructor(e){super(),this.currentSequenceNumber=e}}class TS{constructor(e){this.persistence=e,this.Qs=new LA,this.js=null}static zs(e){return new TS(e)}get Ws(){if(this.js)return this.js;throw Qr()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),zt.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),zt.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),zt.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zt.forEach(this.Ws,r=>{const s=ur.fromPath(r);return this.Hs(e,s).next(a=>{a||t.removeEntry(s,fi.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return zt.or([()=>zt.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class $A{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=As(),s=As();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new $A(e,t.fromCache,r,s)}}class jO{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(a=>a||this.Gi(e,t,s,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(gA(t))return zt.resolve(null);let r=Eu(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=gb(t,null,"F"),r=Eu(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=As(...a);return this.Ui.getDocuments(e,c).next(_=>this.indexManager.getMinOffset(e,r).next(b=>{const P=this.ji(t,_);return this.zi(t,P,c,b.readTime)?this.Ki(e,gb(t,null,"F")):this.Wi(e,P,t,b)}))})))}Gi(e,t,r,s){return gA(t)||s.isEqual(fi.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const c=this.ji(t,a);return this.zi(t,c,r,s)?this.Qi(e,t):(jw()<=Ie.in.DEBUG&&jn("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Q1(t)),this.Wi(e,c,t,function KD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=fi.fromTimestamp(1e9===r?new _l(t+1,0):new _l(t,r));return new Uc(s,ur.empty(),e)}(s,-1)))})}ji(e,t){let r=new Aa(y_(e));return t.forEach((s,a)=>{Zv(e,a)&&(r=r.add(a))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Qi(e,t){return jw()<=Ie.in.DEBUG&&jn("QueryEngine","Using full collection scan to execute query:",Q1(t)),this.Ui.getDocumentsMatchingQuery(e,t,Uc.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class LM{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new Da(qi),this.Yi=new Mh(a=>ph(a),Ng),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function GO(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,Se.Z)(function*(n,e){const t=Ar(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],_=[];let b=As();for(const P of s){c.push(P.batchId);for(const $ of P.mutations)b=b.add($.key)}for(const P of a){_.push(P.batchId);for(const $ of P.mutations)b=b.add($.key)}return t.localDocuments.getDocuments(r,b).next(P=>({er:P,removedBatchIds:c,addedBatchIds:_}))})})}),GA.apply(this,arguments)}function HO(n){const e=Ar(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function UM(n,e){const t=Ar(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function p0(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,Se.Z)(function*(n,e,t){const r=Ar(n),s=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!Vd(c))throw c;jn("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),HA.apply(this,arguments)}function DS(n,e,t){const r=Ar(n);let s=fi.min(),a=As();return r.persistence.runTransaction("Execute query","readonly",c=>function(_,b,P){const $=Ar(_),J=$.Yi.get(P);return void 0!==J?zt.resolve($.Ji.get(J)):$.Bs.getTargetData(b,P)}(r,c,Eu(e)).next(_=>{if(_)return s=_.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,_.targetId).next(b=>{a=b})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?s:fi.min(),t?a:As())).next(_=>(function KO(n,e,t){let r=n.Xi.get(e)||fi.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}(r,function Z1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),_),{documents:_,ir:a})))}class YA{constructor(){this.activeTargetIds=function t0(){return aO}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZO{constructor(){this.Hr=new YA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new YA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GM{Yr(e){}shutdown(){}}class JO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){jn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){jn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xS=null;function ZA(){return null===xS?xS=268435456+Math.round(2147483648*Math.random()):xS++,"0x"+xS.toString(16)}const HM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zM{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Pu="WebChannelConnection";class WM extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,a){const c=ZA(),_=this.To(e,t);jn("RestConnection",`Sending RPC '${e}' ${c}:`,_,r);const b={};return this.Eo(b,s,a),this.Ao(e,_,b,r).then(P=>(jn("RestConnection",`Received RPC '${e}' ${c}: `,P),P),P=>{throw Ku("RestConnection",`RPC '${e}' ${c} failed with error: `,P,"url: ",_,"request:",r),P})}vo(e,t,r,s,a,c){return this.Io(e,t,r,s,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}To(e,t){return`${this.mo}/v1/${t}:${HM[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const a=ZA();return new Promise((c,_)=>{const b=new $D;b.setWithCredentials(!0),b.listenOnce(kv.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Uw.NO_ERROR:const $=b.getResponseJson();jn(Pu,`XHR for RPC '${e}' ${a} received:`,JSON.stringify($)),c($);break;case Uw.TIMEOUT:jn(Pu,`RPC '${e}' ${a} timed out`),_(new Rn(en.DEADLINE_EXCEEDED,"Request time out"));break;case Uw.HTTP_ERROR:const J=b.getStatus();if(jn(Pu,`RPC '${e}' ${a} failed with status:`,J,"response text:",b.getResponseText()),J>0){let Ee=b.getResponseJson();Array.isArray(Ee)&&(Ee=Ee[0]);const Ne=Ee?.error;if(Ne&&Ne.status&&Ne.message){const St=function(Ht){const qt=Ht.toLowerCase().replace(/_/g,"-");return Object.values(en).indexOf(qt)>=0?qt:en.UNKNOWN}(Ne.status);_(new Rn(St,Ne.message))}else _(new Rn(en.UNKNOWN,"Server responded with status "+b.getStatus()))}else _(new Rn(en.UNAVAILABLE,"Connection failed."));break;default:Qr()}}finally{jn(Pu,`RPC '${e}' ${a} completed.`)}});const P=JSON.stringify(s);jn(Pu,`RPC '${e}' ${a} sending request:`,s),b.send(t,"POST",P,r,15)})}Ro(e,t,r){const s=ZA(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=UD(),_=jD(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},P=this.longPollingOptions.timeoutSeconds;void 0!==P&&(b.longPollingTimeout=Math.round(1e3*P)),this.useFetchStreams&&(b.xmlHttpFactory=new m1({})),this.Eo(b.initMessageHeaders,t,r),b.encodeInitMessageHeaders=!0;const $=a.join("");jn(Pu,`Creating RPC '${e}' stream ${s}: ${$}`,b);const J=c.createWebChannel($,b);let Ee=!1,Ne=!1;const St=new zM({ro:qt=>{Ne?jn(Pu,`Not sending because RPC '${e}' stream ${s} is closed:`,qt):(Ee||(jn(Pu,`Opening RPC '${e}' stream ${s} transport.`),J.open(),Ee=!0),jn(Pu,`RPC '${e}' stream ${s} sending:`,qt),J.send(qt))},oo:()=>J.close()}),Ht=(qt,Qn,fr)=>{qt.listen(Qn,ir=>{try{fr(ir)}catch(Ti){setTimeout(()=>{throw Ti},0)}})};return Ht(J,rp.EventType.OPEN,()=>{Ne||jn(Pu,`RPC '${e}' stream ${s} transport opened.`)}),Ht(J,rp.EventType.CLOSE,()=>{Ne||(Ne=!0,jn(Pu,`RPC '${e}' stream ${s} transport closed`),St.wo())}),Ht(J,rp.EventType.ERROR,qt=>{Ne||(Ne=!0,Ku(Pu,`RPC '${e}' stream ${s} transport errored:`,qt),St.wo(new Rn(en.UNAVAILABLE,"The operation could not be completed")))}),Ht(J,rp.EventType.MESSAGE,qt=>{var Qn;if(!Ne){const fr=qt.data[0];ci(!!fr);const Ti=fr.error||(null===(Qn=fr[0])||void 0===Qn?void 0:Qn.error);if(Ti){jn(Pu,`RPC '${e}' stream ${s} received error:`,Ti);const ns=Ti.status;let Si=function(uu){const QS=mc[uu];if(void 0!==QS)return uS(QS)}(ns),ta=Ti.message;void 0===Si&&(Si=en.INTERNAL,ta="Unknown error status: "+ns+" with message "+Ti.message),Ne=!0,St.wo(new Rn(Si,ta)),J.close()}else jn(Pu,`RPC '${e}' stream ${s} received:`,fr),St._o(fr)}}),Ht(_,p1.STAT_EVENT,qt=>{qt.stat===g1.PROXY?jn(Pu,`RPC '${e}' stream ${s} detected buffering proxy`):qt.stat===g1.NOPROXY&&jn(Pu,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{St.fo()},0),St}}function OS(){return typeof document<"u"?document:null}function Nb(n){return new u(n,!0)}class JA{constructor(e,t,r=1e3,s=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&jn("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class eP{constructor(e,t,r,s,a,c,_,b){this.ii=e,this.$o=r,this.Oo=s,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=_,this.listener=b,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new JA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Se.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Se.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===en.RESOURCE_EXHAUSTED?(Ml(t.toString()),Ml("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===en.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new Rn(en.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,Se.Z)(function*(){e.state=0,e.start()}))}tu(e){return jn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(jn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qM extends eP{constructor(e,t,r,s,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Os(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:Qr(),s=e.targetChange.targetIds||[],a=function(b,P){return b.useProto3Json?(ci(void 0===P||"string"==typeof P),gc.fromBase64String(P||"")):(ci(void 0===P||P instanceof Uint8Array),gc.fromUint8Array(P||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,_=c&&function(b){const P=void 0===b.code?en.UNKNOWN:uS(b.code);return new Rn(P,b.message||"")}(c);t=new SA(r,s,a,_||null)}else if("documentChange"in e){const r=e.documentChange,s=lt(n,r.document.name),a=z(r.document.updateTime),c=r.document.createTime?z(r.document.createTime):fi.min(),_=new Rc({mapValue:{fields:r.document.fields}}),b=Za.newFoundDocument(s,a,c,_);t=new Sb(r.targetIds||[],r.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const r=e.documentDelete,s=lt(n,r.document),a=r.readTime?z(r.readTime):fi.min(),c=Za.newNoDocument(s,a);t=new Sb([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,s=lt(n,r.document);t=new Sb([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return Qr();{const r=e.filter,{count:s=0,unchangedNames:a}=r,c=new cS(s,a);t=new TA(r.targetId,c)}}var b;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return fi.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?fi.min():a.readTime?z(a.readTime):fi.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=kn(this.serializer),t.addTarget=function(s,a){let c;const _=a.target;if(c=__(_)?{documents:wp(s,_)}:{query:w_(s,_)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=x(s,a.resumeToken);const b=h(s,a.expectedCount);null!==b&&(c.expectedCount=b)}else if(a.snapshotVersion.compareTo(fi.min())>0){c.readTime=v(s,a.snapshotVersion.toTimestamp());const b=h(s,a.expectedCount);null!==b&&(c.expectedCount=b)}return c}(this.serializer,e);const r=function RA(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qr()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=kn(this.serializer),t.removeTarget=e,this.Wo(t)}}class KM extends eP{constructor(e,t,r,s,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ci(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function kh(n,e){return n&&n.length>0?(ci(void 0!==e),n.map(t=>function(r,s){let a=z(r.updateTime?r.updateTime:s);return a.isEqual(fi.min())&&(a=z(s)),new cO(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=z(e.commitTime);return this.listener.cu(r,t)}return ci(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=kn(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Po(n,e){let t;if(e instanceof vp)t={update:pi(n,e.key,e.value)};else if(e instanceof Ep)t={delete:ke(n,e.key)};else if(e instanceof mf)t={update:pi(n,e.key,e.data),updateMask:uM(e.fieldMask)};else{if(!(e instanceof wb))return Qr();t={verify:ke(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const c=a.transform;if(c instanceof Fg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof _p)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Nh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof yp)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw Qr()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:N(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Qr()),t;var s}(this.serializer,r))};this.Wo(t)}}class YM extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Rn(en.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Io(e,t,r,s,a)).catch(s=>{throw"FirebaseError"===s.name?(s.code===en.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Rn(en.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,t,r,a,c,s)).catch(a=>{throw"FirebaseError"===a.name?(a.code===en.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Rn(en.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class ZM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ml(t),this.mu=!1):jn("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class JM{constructor(e,t,r,s,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(_=>{r.enqueueAndForget((0,Se.Z)(function*(){var b;Gg(c)&&(jn("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,Se.Z)(function*(P){const $=Ar(P);$.vu.add(4),yield g0($),$.bu.set("Unknown"),$.vu.delete(4),yield kb($)}),function(P){return b.apply(this,arguments)})(c))}))}),this.bu=new ZM(r,s)}}function kb(n){return eR.apply(this,arguments)}function eR(){return eR=(0,Se.Z)(function*(n){if(Gg(n))for(const e of n.Ru)yield e(!0)}),eR.apply(this,arguments)}function g0(n){return tR.apply(this,arguments)}function tR(){return tR=(0,Se.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),tR.apply(this,arguments)}function PS(n,e){const t=Ar(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),iR(t)?rR(t):_0(t).Ko()&&nR(t,e))}function Fb(n,e){const t=Ar(n),r=_0(t);t.Au.delete(e),r.Ko()&&tP(t,e),0===t.Au.size&&(r.Ko()?r.jo():Gg(t)&&t.bu.set("Unknown"))}function nR(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fi.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_0(n).su(e)}function tP(n,e){n.Vu.qt(e),_0(n).iu(e)}function rR(n){n.Vu=new DA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),_0(n).start(),n.bu.gu()}function iR(n){return Gg(n)&&!_0(n).Uo()&&n.Au.size>0}function Gg(n){return 0===Ar(n).vu.size}function nP(n){n.Vu=void 0}function XM(n){return sR.apply(this,arguments)}function sR(){return sR=(0,Se.Z)(function*(n){n.Au.forEach((e,t)=>{nR(n,e)})}),sR.apply(this,arguments)}function eN(n,e){return oR.apply(this,arguments)}function oR(){return oR=(0,Se.Z)(function*(n,e){nP(n),iR(n)?(n.bu.Iu(e),rR(n)):n.bu.set("Unknown")}),oR.apply(this,arguments)}function tN(n,e,t){return aR.apply(this,arguments)}function aR(){return aR=(0,Se.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof SA&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(s,a){const c=a.cause;for(const _ of a.targetIds)s.Au.has(_)&&(yield s.remoteSyncer.rejectListen(_,c),s.Au.delete(_),s.Vu.removeTarget(_))}),function(s,a){return r.apply(this,arguments)})(n,e)}catch(r){jn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield MS(n,r)}else if(e instanceof Sb?n.Vu.Ht(e):e instanceof TA?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(fi.min()))try{const r=yield HO(n.localStore);t.compareTo(r)>=0&&(yield function(s,a){const c=s.Vu.ce(a);return c.targetChanges.forEach((_,b)=>{if(_.resumeToken.approximateByteSize()>0){const P=s.Au.get(b);P&&s.Au.set(b,P.withResumeToken(_.resumeToken,a))}}),c.targetMismatches.forEach((_,b)=>{const P=s.Au.get(_);if(!P)return;s.Au.set(_,P.withResumeToken(gc.EMPTY_BYTE_STRING,P.snapshotVersion)),tP(s,_);const $=new bp(P.target,_,b,P.sequenceNumber);nR(s,$)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){jn("RemoteStore","Failed to raise snapshot:",r),yield MS(n,r)}var r}),aR.apply(this,arguments)}function MS(n,e,t){return lR.apply(this,arguments)}function lR(){return lR=(0,Se.Z)(function*(n,e,t){if(!Vd(e))throw e;n.vu.add(1),yield g0(n),n.bu.set("Offline"),t||(t=()=>HO(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){jn("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield kb(n)}))}),lR.apply(this,arguments)}function rP(n,e){return e().catch(t=>MS(n,t,e))}function m0(n){return cR.apply(this,arguments)}function cR(){return cR=(0,Se.Z)(function*(n){const e=Ar(n),t=Hg(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;nN(e);)try{const s=yield UM(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,rN(e,s)}catch(s){yield MS(e,s)}iP(e)&&sP(e)}),cR.apply(this,arguments)}function nN(n){return Gg(n)&&n.Eu.length<10}function rN(n,e){n.Eu.push(e);const t=Hg(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function iP(n){return Gg(n)&&!Hg(n).Uo()&&n.Eu.length>0}function sP(n){Hg(n).start()}function iN(n){return uR.apply(this,arguments)}function uR(){return uR=(0,Se.Z)(function*(n){Hg(n).hu()}),uR.apply(this,arguments)}function sN(n){return dR.apply(this,arguments)}function dR(){return dR=(0,Se.Z)(function*(n){const e=Hg(n);for(const t of n.Eu)e.uu(t.mutations)}),dR.apply(this,arguments)}function oN(n,e,t){return hR.apply(this,arguments)}function hR(){return hR=(0,Se.Z)(function*(n,e,t){const r=n.Eu.shift(),s=bb.from(r,e,t);yield rP(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield m0(n)}),hR.apply(this,arguments)}function aN(n,e){return fR.apply(this,arguments)}function fR(){return fR=(0,Se.Z)(function*(n,e){var t;e&&Hg(n).ou&&(yield(t=(0,Se.Z)(function*(r,s){if(function EA(n){switch(n){default:return Qr();case en.CANCELLED:case en.UNKNOWN:case en.DEADLINE_EXCEEDED:case en.RESOURCE_EXHAUSTED:case en.INTERNAL:case en.UNAVAILABLE:case en.UNAUTHENTICATED:return!1;case en.INVALID_ARGUMENT:case en.NOT_FOUND:case en.ALREADY_EXISTS:case en.PERMISSION_DENIED:case en.FAILED_PRECONDITION:case en.ABORTED:case en.OUT_OF_RANGE:case en.UNIMPLEMENTED:case en.DATA_LOSS:return!0}}(a=s.code)&&a!==en.ABORTED){const c=r.Eu.shift();Hg(r).Qo(),yield rP(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,s)),yield m0(r)}var a}),function(r,s){return t.apply(this,arguments)})(n,e)),iP(n)&&sP(n)}),fR.apply(this,arguments)}function oP(n,e){return pR.apply(this,arguments)}function pR(){return pR=(0,Se.Z)(function*(n,e){const t=Ar(n);t.asyncQueue.verifyOperationInProgress(),jn("RemoteStore","RemoteStore received new credentials");const r=Gg(t);t.vu.add(3),yield g0(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield kb(t)}),pR.apply(this,arguments)}function mR(){return mR=(0,Se.Z)(function*(n,e){const t=Ar(n);e?(t.vu.delete(2),yield kb(t)):e||(t.vu.add(2),yield g0(t),t.bu.set("Unknown"))}),mR.apply(this,arguments)}function _0(n){return n.Su||(n.Su=function(e,t,r){const s=Ar(e);return s.fu(),new qM(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:XM.bind(null,n),ao:eN.bind(null,n),nu:tN.bind(null,n)}),n.Ru.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Su.Qo(),iR(n)?rR(n):n.bu.set("Unknown")):(yield n.Su.stop(),nP(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Hg(n){return n.Du||(n.Du=function(e,t,r){const s=Ar(e);return s.fu(),new KM(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:iN.bind(null,n),ao:aN.bind(null,n),au:sN.bind(null,n),cu:oN.bind(null,n)}),n.Ru.push(function(){var e=(0,Se.Z)(function*(t){t?(n.Du.Qo(),yield m0(n)):(yield n.Du.stop(),n.Eu.length>0&&(jn("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class _R{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ql,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,s,a){const c=Date.now()+r,_=new _R(e,t,c,s,a);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rn(en.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y0(n,e){if(Ml("AsyncQueue",`${e}: ${n}`),Vd(n))return new Rn(en.UNAVAILABLE,`${e}: ${n}`);throw n}class v0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ur.comparator(t.key,r.key):(t,r)=>ur.comparator(t.key,r.key),this.keyedMap=gp(),this.sortedSet=new Da(this.comparator)}static emptySet(e){return new v0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof v0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new v0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class aP{constructor(){this.Cu=new Da(ur.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Qr():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class E0{constructor(e,t,r,s,a,c,_,b,P){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=_,this.excludesMetadataChanges=b,this.hasCachedResults=P}static fromInitialDocuments(e,t,r,s,a){const c=[];return t.forEach(_=>{c.push({type:0,doc:_})}),new E0(e,t,v0.emptySet(t),c,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class lN{constructor(){this.Nu=void 0,this.listeners=[]}}class cN{constructor(){this.queries=new Mh(e=>mA(e),Qv),this.onlineState="Unknown",this.ku=new Set}}function vR(){return vR=(0,Se.Z)(function*(n,e){const t=Ar(n),r=e.query;let s=!1,a=t.queries.get(r);if(a||(s=!0,a=new lN),s)try{a.Nu=yield t.onListen(r)}catch(c){const _=y0(c,`Initialization of query '${Q1(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&bR(t)}),vR.apply(this,arguments)}function wR(){return wR=(0,Se.Z)(function*(n,e){const t=Ar(n),r=e.query;let s=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),s=0===a.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),wR.apply(this,arguments)}function uN(n,e){const t=Ar(n);let r=!1;for(const s of e){const c=t.queries.get(s.query);if(c){for(const _ of c.listeners)_.$u(s)&&(r=!0);c.Nu=s}}r&&bR(t)}function dN(n,e,t){const r=Ar(n),s=r.queries.get(e);if(s)for(const a of s.listeners)a.onError(t);r.queries.delete(e)}function bR(n){n.ku.forEach(e=>{e.next()})}class IR{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new E0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=E0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class uP{constructor(e){this.key=e}}class dP{constructor(e){this.key=e}}class hP{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=As(),this.mutatedKeys=As(),this.tc=y_(e),this.ec=new v0(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new aP,s=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,c=s,_=!1;const b="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,P="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(($,J)=>{const Ee=s.get($),Ne=Zv(this.query,J)?J:null,St=!!Ee&&this.mutatedKeys.has(Ee.key),Ht=!!Ne&&(Ne.hasLocalMutations||this.mutatedKeys.has(Ne.key)&&Ne.hasCommittedMutations);let qt=!1;Ee&&Ne?Ee.data.isEqual(Ne.data)?St!==Ht&&(r.track({type:3,doc:Ne}),qt=!0):this.rc(Ee,Ne)||(r.track({type:2,doc:Ne}),qt=!0,(b&&this.tc(Ne,b)>0||P&&this.tc(Ne,P)<0)&&(_=!0)):!Ee&&Ne?(r.track({type:0,doc:Ne}),qt=!0):Ee&&!Ne&&(r.track({type:1,doc:Ee}),qt=!0,(b||P)&&(_=!0)),qt&&(Ne?(c=c.add(Ne),a=Ht?a.add($):a.delete($)):(c=c.delete($),a=a.delete($)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const $="F"===this.query.limitType?c.last():c.first();c=c.delete($.key),a=a.delete($.key),r.track({type:1,doc:$})}return{ec:c,ic:r,zi:_,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((P,$)=>function(J,Ee){const Ne=St=>{switch(St){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qr()}};return Ne(J)-Ne(Ee)}(P.type,$.type)||this.tc(P.doc,$.doc)),this.oc(r);const c=t?this.uc():[],_=0===this.Zu.size&&this.current?1:0,b=_!==this.Xu;return this.Xu=_,0!==a.length||b?{snapshot:new E0(this.query,e.ec,s,a,e.mutatedKeys,0===_,b,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new aP,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=As(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new dP(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new uP(r))}),t}hc(e){this.Yu=e.ir,this.Zu=As();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return E0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class pN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gN{constructor(e){this.key=e,this.fc=!1}}class mN{constructor(e,t,r,s,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Mh(_=>mA(_),Qv),this._c=new Map,this.mc=new Set,this.gc=new Da(ur.comparator),this.yc=new Map,this.Ic=new LA,this.Tc={},this.Ec=new Map,this.Ac=D_.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function _N(n,e){return TR.apply(this,arguments)}function TR(){return TR=(0,Se.Z)(function*(n,e){const t=function qR(n){const e=Ar(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EN.bind(null,e),e.dc.nu=uN.bind(null,e.eventManager),e.dc.Pc=dN.bind(null,e.eventManager),e}(n);let r,s;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),s=a.view.lc();else{const c=yield function f0(n,e){const t=Ar(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(a=>a?(s=a,zt.resolve(s)):t.Bs.allocateTargetId(r).next(c=>(s=new bp(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Eu(e)),_=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=yield function SR(n,e,t,r,s){return CR.apply(this,arguments)}(t,e,r,"current"===_,c.resumeToken),t.isPrimaryClient&&PS(t.remoteStore,c)}return s}),TR.apply(this,arguments)}function CR(){return CR=(0,Se.Z)(function*(n,e,t,r,s){n.Rc=(J,Ee,Ne)=>{return(St=(0,Se.Z)(function*(Ht,qt,Qn,fr){let ir=qt.view.sc(Qn);ir.zi&&(ir=yield DS(Ht.localStore,qt.query,!1).then(({documents:Si})=>qt.view.sc(Si,ir)));const Ti=fr&&fr.targetChanges.get(qt.targetId),ns=qt.view.applyChanges(ir,Ht.isPrimaryClient,Ti);return FR(Ht,qt.targetId,ns.cc),ns.snapshot}),function(Ht,qt,Qn,fr){return St.apply(this,arguments)})(n,J,Ee,Ne);var St};const a=yield DS(n.localStore,e,!0),c=new hP(e,a.ir),_=c.sc(a.documents),b=E_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),P=c.applyChanges(_,n.isPrimaryClient,b);FR(n,t,P.cc);const $=new pN(e,t,c);return n.wc.set(e,$),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),P.snapshot}),CR.apply(this,arguments)}function yN(n,e){return DR.apply(this,arguments)}function DR(){return DR=(0,Se.Z)(function*(n,e){const t=Ar(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(a=>!Qv(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield p0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Fb(t.remoteStore,r.targetId),w0(t,r.targetId)}).catch(xh))):(w0(t,r.targetId),yield p0(t.localStore,r.targetId,!0))}),DR.apply(this,arguments)}function AR(){return AR=(0,Se.Z)(function*(n,e,t){const r=function KR(n){const e=Ar(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bN.bind(null,e),e}(n);try{const s=yield function(a,c){const _=Ar(a),b=_l.now(),P=c.reduce((Ee,Ne)=>Ee.add(Ne.key),As());let $,J;return _.persistence.runTransaction("Locally write mutations","readwrite",Ee=>{let Ne=ic(),St=As();return _.Zi.getEntries(Ee,P).next(Ht=>{Ne=Ht,Ne.forEach((qt,Qn)=>{Qn.isValidDocument()||(St=St.add(qt))})}).next(()=>_.localDocuments.getOverlayedDocuments(Ee,Ne)).next(Ht=>{$=Ht;const qt=[];for(const Qn of c){const fr=vA(Qn,$.get(Qn.key).overlayedDocument);null!=fr&&qt.push(new mf(Qn.key,fr,j1(fr.value.mapValue),yl.exists(!0)))}return _.mutationQueue.addMutationBatch(Ee,b,qt,c)}).next(Ht=>{J=Ht;const qt=Ht.applyToLocalDocumentSet($,St);return _.documentOverlayCache.saveOverlays(Ee,Ht.batchId,qt)})}).then(()=>({batchId:J.batchId,changes:Jv($)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,c,_){let b=a.Tc[a.currentUser.toKey()];b||(b=new Da(qi)),b=b.insert(c,_),a.Tc[a.currentUser.toKey()]=b}(r,s.batchId,t),yield Ip(r,s.changes),yield m0(r.remoteStore)}catch(s){const a=y0(s,"Failed to persist write");t.reject(a)}}),AR.apply(this,arguments)}function fP(n,e){return RR.apply(this,arguments)}function RR(){return RR=(0,Se.Z)(function*(n,e){const t=Ar(n);try{const r=yield function BM(n,e){const t=Ar(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const _=[];e.targetChanges.forEach(($,J)=>{const Ee=s.get(J);if(!Ee)return;_.push(t.Bs.removeMatchingKeys(a,$.removedDocuments,J).next(()=>t.Bs.addMatchingKeys(a,$.addedDocuments,J)));let Ne=Ee.withSequenceNumber(a.currentSequenceNumber);var St,Ht,qt;null!==e.targetMismatches.get(J)?Ne=Ne.withResumeToken(gc.EMPTY_BYTE_STRING,fi.min()).withLastLimboFreeSnapshotVersion(fi.min()):$.resumeToken.approximateByteSize()>0&&(Ne=Ne.withResumeToken($.resumeToken,r)),s=s.insert(J,Ne),Ht=Ne,qt=$,(0===(St=Ee).resumeToken.approximateByteSize()||Ht.snapshotVersion.toMicroseconds()-St.snapshotVersion.toMicroseconds()>=3e8||qt.addedDocuments.size+qt.modifiedDocuments.size+qt.removedDocuments.size>0)&&_.push(t.Bs.updateTargetData(a,Ne))});let b=ic(),P=As();if(e.documentUpdates.forEach($=>{e.resolvedLimboDocuments.has($)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(a,$))}),_.push(function zO(n,e,t){let r=As(),s=As();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=ic();return t.forEach((_,b)=>{const P=a.get(_);b.isFoundDocument()!==P.isFoundDocument()&&(s=s.add(_)),b.isNoDocument()&&b.version.isEqual(fi.min())?(e.removeEntry(_,b.readTime),c=c.insert(_,b)):!P.isValidDocument()||b.version.compareTo(P.version)>0||0===b.version.compareTo(P.version)&&P.hasPendingWrites?(e.addEntry(b),c=c.insert(_,b)):jn("LocalStore","Ignoring outdated watch update for ",_,". Current version:",P.version," Watch version:",b.version)}),{nr:c,sr:s}})}(a,c,e.documentUpdates).next($=>{b=$.nr,P=$.sr})),!r.isEqual(fi.min())){const $=t.Bs.getLastRemoteSnapshotVersion(a).next(J=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));_.push($)}return zt.waitFor(_).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,b,P)).next(()=>b)}).then(a=>(t.Ji=s,a))}(t.localStore,e);e.targetChanges.forEach((s,a)=>{const c=t.yc.get(a);c&&(ci(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.fc=!0:s.modifiedDocuments.size>0?ci(c.fc):s.removedDocuments.size>0&&(ci(c.fc),c.fc=!1))}),yield Ip(t,r,e)}catch(r){yield xh(r)}}),RR.apply(this,arguments)}function pP(n,e,t){const r=Ar(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((a,c)=>{const _=c.view.Mu(e);_.snapshot&&s.push(_.snapshot)}),function(a,c){const _=Ar(a);_.onlineState=c;let b=!1;_.queries.forEach((P,$)=>{for(const J of $.listeners)J.Mu(c)&&(b=!0)}),b&&bR(_)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EN(n,e,t){return xR.apply(this,arguments)}function xR(){return xR=(0,Se.Z)(function*(n,e,t){const r=Ar(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),a=s&&s.key;if(a){let c=new Da(ur.comparator);c=c.insert(a,Za.newNoDocument(a,fi.min()));const _=As().add(a),b=new c0(fi.min(),new Map,new Da(qi),c,_);yield fP(r,b),r.gc=r.gc.remove(a),r.yc.delete(e),LR(r)}else yield p0(r.localStore,e,!1).then(()=>w0(r,e,t)).catch(xh)}),xR.apply(this,arguments)}function wN(n,e){return OR.apply(this,arguments)}function OR(){return OR=(0,Se.Z)(function*(n,e){const t=Ar(n),r=e.batch.batchId;try{const s=yield function VM(n,e){const t=Ar(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,_,b,P){const $=b.batch,J=$.keys();let Ee=zt.resolve();return J.forEach(Ne=>{Ee=Ee.next(()=>P.getEntry(_,Ne)).next(St=>{const Ht=b.docVersions.get(Ne);ci(null!==Ht),St.version.compareTo(Ht)<0&&($.applyToRemoteDocument(St,b),St.isValidDocument()&&(St.setReadTime(b.commitVersion),P.addEntry(St)))})}),Ee.next(()=>c.mutationQueue.removeMutationBatch(_,$))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let _=As();for(let b=0;b<c.mutationResults.length;++b)c.mutationResults[b].transformResults.length>0&&(_=_.add(c.batch.mutations[b].key));return _}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);kR(t,r,null),NR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ip(t,s)}catch(s){yield xh(s)}}),OR.apply(this,arguments)}function bN(n,e,t){return PR.apply(this,arguments)}function PR(){return PR=(0,Se.Z)(function*(n,e,t){const r=Ar(n);try{const s=yield function(a,c){const _=Ar(a);return _.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let P;return _.mutationQueue.lookupMutationBatch(b,c).next($=>(ci(null!==$),P=$.keys(),_.mutationQueue.removeMutationBatch(b,$))).next(()=>_.mutationQueue.performConsistencyCheck(b)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(b,P,c)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,P)).next(()=>_.localDocuments.getDocuments(b,P))})}(r.localStore,e);kR(r,e,t),NR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ip(r,s)}catch(s){yield xh(s)}}),PR.apply(this,arguments)}function NR(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function kR(n,e,t){const r=Ar(n);let s=r.Tc[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function w0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||gP(n,r)})}function gP(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Fb(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),LR(n))}function FR(n,e,t){for(const r of t)r instanceof uP?(n.Ic.addReference(r.key,e),TN(n,r)):r instanceof dP?(jn("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||gP(n,r.key)):Qr()}function TN(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(jn("SyncEngine","New document in limbo: "+t),n.mc.add(r),LR(n))}function LR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ur(uo.fromString(e)),r=n.Ac.next();n.yc.set(r,new gN(t)),n.gc=n.gc.insert(t,r),PS(n.remoteStore,new bp(Eu(kg(t.path)),r,"TargetPurposeLimboResolution",Qu.ct))}}function Ip(n,e,t){return VR.apply(this,arguments)}function VR(){return VR=(0,Se.Z)(function*(n,e,t){const r=Ar(n),s=[],a=[],c=[];var _;r.wc.isEmpty()||(r.wc.forEach((_,b)=>{c.push(r.Rc(b,e,t).then(P=>{if((P||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,P?.fromCache?"not-current":"current"),P){s.push(P);const $=$A.Li(b.targetId,P);a.push($)}}))}),yield Promise.all(c),r.dc.nu(s),yield(_=(0,Se.Z)(function*(b,P){const $=Ar(b);try{yield $.persistence.runTransaction("notifyLocalViewChanges","readwrite",J=>zt.forEach(P,Ee=>zt.forEach(Ee.Fi,Ne=>$.persistence.referenceDelegate.addReference(J,Ee.targetId,Ne)).next(()=>zt.forEach(Ee.Bi,Ne=>$.persistence.referenceDelegate.removeReference(J,Ee.targetId,Ne)))))}catch(J){if(!Vd(J))throw J;jn("LocalStore","Failed to update sequence numbers: "+J)}for(const J of P){const Ee=J.targetId;if(!J.fromCache){const Ne=$.Ji.get(Ee),Ht=Ne.withLastLimboFreeSnapshotVersion(Ne.snapshotVersion);$.Ji=$.Ji.insert(Ee,Ht)}}}),function(b,P){return _.apply(this,arguments)})(r.localStore,a))}),VR.apply(this,arguments)}function SN(n,e){return BR.apply(this,arguments)}function BR(){return BR=(0,Se.Z)(function*(n,e){const t=Ar(n);if(!t.currentUser.isEqual(e)){jn("SyncEngine","User change. New user:",e.toKey());const r=yield GO(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(c=>{c.forEach(_=>{_.reject(new Rn(en.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ip(t,r.er)}var s}),BR.apply(this,arguments)}function CN(n,e){const t=Ar(n),r=t.yc.get(e);if(r&&r.fc)return As().add(r.key);{let s=As();const a=t._c.get(e);if(!a)return s;for(const c of a){const _=t.wc.get(c);s=s.unionWith(_.view.nc)}return s}}class NS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.serializer=Nb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function $O(n,e,t,r){return new LM(n,e,t,r)}(this.persistence,new jO,e.initialUser,this.serializer)}createPersistence(e){return new VA(TS.zs,this.serializer)}createSharedClientState(e){return new ZO}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class b0{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>pP(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=SN.bind(null,r.syncEngine),yield function gR(n,e){return mR.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cN}createDatastore(e){const t=Nb(e.databaseInfo.databaseId),r=new WM(e.databaseInfo);return new YM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,a=_=>pP(this.syncEngine,_,0),c=JO.D()?new JO:new GM,new JM(t,r,s,a,c);var t,r,s,a,c}createSyncEngine(e,t){return function(r,s,a,c,_,b,P){const $=new mN(r,s,a,c,_,b);return P&&($.vc=!0),$}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const r=Ar(t);jn("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield g0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class kS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ml("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BN{constructor(e,t,r,s){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Ac.UNAUTHENTICATED,this.clientId=zw.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Se.Z)(function*(_){jn("FirestoreClient","Received user=",_.uid),yield a.authCredentialListener(_),a.user=_});return function(_){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(jn("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rn(en.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ql;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=y0(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function FS(n,e){return YR.apply(this,arguments)}function YR(){return YR=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),jn("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,Se.Z)(function*(a){r.isEqual(a)||(yield GO(e.localStore,a),r=a)});return function(a){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),YR.apply(this,arguments)}function QR(n,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function JR(n){return XR.apply(this,arguments)}(n);jn("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>oP(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>oP(e.remoteStore,a)),n._onlineComponents=e}),ZR.apply(this,arguments)}function XR(){return XR=(0,Se.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){jn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield FS(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function wP(n){return"FirebaseError"===n.name?n.code===en.FAILED_PRECONDITION||n.code===en.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Ku("Error using user provided cache. Falling back to memory cache: "+t),yield FS(n,new NS)}}else jn("FirestoreClient","Using default OfflineComponentProvider"),yield FS(n,new NS);return n._offlineComponents}),XR.apply(this,arguments)}function LS(n){return ex.apply(this,arguments)}function ex(){return ex=(0,Se.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(jn("FirestoreClient","Using user provided OnlineComponentProvider"),yield QR(n,n._uninitializedComponentsProvider._online)):(jn("FirestoreClient","Using default OnlineComponentProvider"),yield QR(n,new b0))),n._onlineComponents}),ex.apply(this,arguments)}function nx(){return nx=(0,Se.Z)(function*(n){const e=yield LS(n),t=e.eventManager;return t.onListen=_N.bind(null,e.syncEngine),t.onUnlisten=yN.bind(null,e.syncEngine),t}),nx.apply(this,arguments)}function CP(n,e,t={}){const r=new ql;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(s,a,c,_,b){const P=new kS({next:J=>{a.enqueueAndForget(()=>function ER(n,e){return wR.apply(this,arguments)}(s,$)),J.fromCache&&"server"===_.source?b.reject(new Rn(en.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(J)},error:J=>b.reject(J)}),$=new IR(c,P,{includeMetadataChanges:!0,Ku:!0});return function yR(n,e){return vR.apply(this,arguments)}(s,$)}(yield function I0(n){return nx.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function DP(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const AP=new Map;function rx(n,e,t){if(!t)throw new Rn(en.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RP(n){if(!ur.isDocumentKey(n))throw new Rn(en.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xP(n){if(ur.isDocumentKey(n))throw new Rn(en.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function BS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Qr()}function Mo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Rn(en.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=BS(n);throw new Rn(en.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class PP{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Rn(en.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Rn(en.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function KN(n,e,t,r){if(!0===e&&!0===r)throw new Rn(en.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=DP(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Rn(en.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Rn(en.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Rn(en.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lb{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Rn(en.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Rn(en.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gw;switch(t.type){case"firstParty":return new qD(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Rn(en.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AP.get(e);t&&(jn("ComponentProvider","Removing Datastore"),AP.delete(e),t.terminate())}(this),Promise.resolve()}}class _c{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _f(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _c(this.firestore,e,this._key)}}class wu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wu(this.firestore,e,this._query)}}class _f extends wu{constructor(e,t,r){super(e,t,kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _c(this.firestore,null,new ur(e))}withConverter(e){return new _f(this.firestore,e,this._path)}}function QN(n,e,...t){if(n=(0,Ae.m9)(n),rx("collection","path",e),n instanceof Lb){const r=uo.fromString(e,...t);return xP(r),new _f(n,null,r)}{if(!(n instanceof _c||n instanceof _f))throw new Rn(en.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(uo.fromString(e,...t));return xP(r),new _f(n.firestore,null,r)}}function MP(n,e,...t){if(n=(0,Ae.m9)(n),1===arguments.length&&(e=zw.A()),rx("doc","path",e),n instanceof Lb){const r=uo.fromString(e,...t);return RP(r),new _c(n,null,new ur(r))}{if(!(n instanceof _c||n instanceof _f))throw new Rn(en.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(uo.fromString(e,...t));return RP(r),new _c(n.firestore,n instanceof _f?n.converter:null,new ur(r))}}class ZN{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new JA(this,"async_queue_retry"),this.Xc=()=>{const t=OS();t&&jn("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=OS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=OS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ql;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Vd(t))throw t;jn("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ml("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=_R.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(s),s}Zc(){this.Wc&&Qr()}verifyOperationInProgress(){}sa(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class bl extends Lb{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ZN,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kP(this),this._firestoreClient.terminate()}}function XN(n,e){const t="object"==typeof n?n:(0,hg.getApp)(),r="string"==typeof n?n:e||"(default)",s=(0,hg._getProvider)(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=(0,Ae.P0)("firestore");a&&function YN(n,e,t,r={}){var s;const a=(n=Mo(n,Lb))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==c&&Ku("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),r.mockUserToken){let _,b;if("string"==typeof r.mockUserToken)_=r.mockUserToken,b=Ac.MOCK_USER;else{_=(0,Ae.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const P=r.mockUserToken.sub||r.mockUserToken.user_id;if(!P)throw new Rn(en.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ac(P)}n._authCredentials=new Hw(new $w(_,b))}}(s,...a)}return s}function xc(n){return n._firestoreClient||kP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function kP(n){var e,t,r;const s=n._freezeSettings(),a=(_=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new uA(n._databaseId,_,n._persistenceKey,(P=s).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,DP(P.experimentalLongPollingOptions),P.useFetchStreams));var _,P;n._firestoreClient=new BN(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class R_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new R_(gc.fromBase64String(e))}catch(t){throw new Rn(en.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new R_(gc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class T0{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Rn(en.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ho(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sx{constructor(e){this._methodName=e}}class ox{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Rn(en.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Rn(en.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qi(this._lat,e._lat)||qi(this._long,e._long)}}const tk=/^__.*__$/;class nk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new mf(e,this.data,this.fieldMask,t,this.fieldTransforms):new vp(e,this.data,t,this.fieldTransforms)}}class VP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qr()}}class US{constructor(e,t,r,s,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new US(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return $S(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(BP(this.ca)&&tk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class rk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Nb(e)}ya(e,t,r,s=!1){return new US({ca:e,methodName:t,ga:r,path:ho.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S0(n){const e=n._freezeSettings(),t=Nb(n._databaseId);return new rk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ax(n,e,t,r,s,a={}){const c=n.ya(a.merge||a.mergeFields?2:0,e,t,s);cx("Data must be an object, but it was:",c,r);const _=HP(r,c);let b,P;if(a.merge)b=new Zu(c.fieldMask),P=c.fieldTransforms;else if(a.mergeFields){const $=[];for(const J of a.mergeFields){const Ee=Ub(e,J,t);if(!c.contains(Ee))throw new Rn(en.INVALID_ARGUMENT,`Field '${Ee}' is specified in your field mask but missing from your input data.`);WP($,Ee)||$.push(Ee)}b=new Zu($),P=c.fieldTransforms.filter(J=>b.covers(J.field))}else b=null,P=c.fieldTransforms;return new nk(new Rc(_),b,P)}class Bb extends sx{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bb}}function x_(n,e){if(zP(n=(0,Ae.m9)(n)))return cx("Unsupported field value:",e,n),HP(n,e);if(n instanceof sx)return function(t,r){if(!BP(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let a=0;for(const c of t){let _=x_(c,r.wa(a));null==_&&(_={nullValue:"NULL_VALUE"}),s.push(_),a++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Ae.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return tS(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=_l.fromDate(t);return{timestampValue:v(r.serializer,s)}}if(t instanceof _l){const s=new _l(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:v(r.serializer,s)}}if(t instanceof ox)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof R_)return{bytesValue:x(r.serializer,t._byteString)};if(t instanceof _c){const s=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(s))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:se(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${BS(t)}`)}(n,e)}function HP(n,e){const t={};return eb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lp(n,(r,s)=>{const a=x_(s,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function zP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _l||n instanceof ox||n instanceof R_||n instanceof _c||n instanceof sx)}function cx(n,e,t){if(!zP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=BS(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Ub(n,e,t){if((e=(0,Ae.m9)(e))instanceof T0)return e._internalPath;if("string"==typeof e)return jS(n,e);throw $S("Field path arguments must be of type string or ",n,!1,void 0,t)}const ak=new RegExp("[~\\*/\\[\\]]");function jS(n,e,t){if(e.search(ak)>=0)throw $S(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new T0(...e.split("."))._internalPath}catch{throw $S(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $S(n,e,t,r,s){const a=r&&!r.isEmpty(),c=void 0!==s;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let b="";return(a||c)&&(b+=" (found",a&&(b+=` in field ${r}`),c&&(b+=` in document ${s}`),b+=")"),new Rn(en.INVALID_ARGUMENT,_+n+b)}function WP(n,e){return n.some(t=>t.isEqual(e))}class ux{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _c(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lk extends ux{data(){return super.data()}}function GS(n,e){return"string"==typeof e?jS(n,e):e instanceof T0?e._internalPath:e._delegate._internalPath}class uk{convertValue(e,t="none"){switch(hf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qr()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return lp(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new ox(Kl(e.latitude),Kl(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(f_(e));default:return null}}convertTimestamp(e){const t=cf(e);return new _l(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=uo.fromString(e);ci(hO(r));const s=new up(r.get(1),r.get(3)),a=new ur(r.popFirst(5));return s.isEqual(t)||Ml(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function hx(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class O_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class D0 extends ux{constructor(e,t,r,s,a,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(GS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class qS extends D0{data(e={}){return super.data(e)}}class A0{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new O_(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new qS(this._firestore,this._userDataWriter,r.key,r,new O_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Rn(en.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new qS(r._firestore,r._userDataWriter,c.doc.key,c.doc,new O_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const _=new qS(r._firestore,r._userDataWriter,c.doc.key,c.doc,new O_(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,P=-1;return 0!==c.type&&(b=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),P=a.indexOf(c.doc.key)),{type:hk(c.type),doc:_,oldIndex:b,newIndex:P}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qr()}}class zg extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new R_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _c(this.firestore,null,t)}}function fk(n){n=Mo(n,wu);const e=Mo(n.firestore,bl),t=xc(e),r=new zg(e);return function qP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Rn(en.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),CP(t,n._query).then(s=>new A0(e,r,n,s))}function pk(n,e,t){n=Mo(n,_c);const r=Mo(n.firestore,bl),s=hx(n.converter,e,t);return $b(r,[ax(S0(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,yl.none())])}function gk(n,e,t,...r){n=Mo(n,_c);const s=Mo(n.firestore,bl),a=S0(s);let c;return c="string"==typeof(e=(0,Ae.m9)(e))||e instanceof T0?function $P(n,e,t,r,s,a){const c=n.ya(1,e,t),_=[Ub(e,r,t)],b=[s];if(a.length%2!=0)throw new Rn(en.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ee=0;Ee<a.length;Ee+=2)_.push(Ub(e,a[Ee])),b.push(a[Ee+1]);const P=[],$=Rc.empty();for(let Ee=_.length-1;Ee>=0;--Ee)if(!WP(P,_[Ee])){const Ne=_[Ee];let St=b[Ee];St=(0,Ae.m9)(St);const Ht=c.da(Ne);if(St instanceof Bb)P.push(Ne);else{const qt=x_(St,Ht);null!=qt&&(P.push(Ne),$.set(Ne,qt))}}const J=new Zu(P);return new VP($,J,c.fieldTransforms)}(a,"updateDoc",n._key,e,t,r):function jP(n,e,t,r){const s=n.ya(1,e,t);cx("Data must be an object, but it was:",s,r);const a=[],c=Rc.empty();lp(r,(b,P)=>{const $=jS(e,b,t);P=(0,Ae.m9)(P);const J=s.da($);if(P instanceof Bb)a.push($);else{const Ee=x_(P,J);null!=Ee&&(a.push($),c.set($,Ee))}});const _=new Zu(a);return new VP(c,_,s.fieldTransforms)}(a,"updateDoc",n._key,e),$b(s,[c.toMutation(n._key,yl.exists(!0))])}function mk(n){return $b(Mo(n.firestore,bl),[new Ep(n._key,yl.none())])}function _k(n,e){const t=Mo(n.firestore,bl),r=MP(n),s=hx(n.converter,e);return $b(t,[ax(S0(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,yl.exists(!1))]).then(()=>r)}function $b(n,e){return function(t,r){const s=new ql;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function vN(n,e,t){return AR.apply(this,arguments)}(yield function tx(n){return LS(n).then(e=>e.syncEngine)}(t),r,s)})),s.promise}(xc(n),e)}!function(n,e=!0){sp=hg.SDK_VERSION,(0,hg._registerComponent)(new nt.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const a=t.getProvider("app").getImmediate(),c=new bl(new zD(t.getProvider("auth-internal")),new v1(t.getProvider("app-check-internal")),function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new Rn(en.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new up(_.options.projectId,b)}(a,r),a);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),(0,hg.registerVersion)(_1,"3.13.0",n),(0,hg.registerVersion)(_1,"3.13.0","esm2017")}();class YS{constructor(e){return e}}const tM="firestore",px=new fe.OlP("angularfire2.firestore-instances");function Ok(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new YS(r)}}const Pk={provide:class Rk{constructor(){return(0,d.vb)(tM)}},deps:[[new fe.FiY,px]]},Mk={provide:YS,useFactory:function xk(n,e){const t=(0,d.JM)(tM,n,e);return t&&new YS(t)},deps:[[new fe.FiY,px],X.Ot]};let Nk=(()=>{class n{constructor(){(0,Me.KN)("angularfire",d.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=fe.oAB({type:n}),n.\u0275inj=fe.cJS({providers:[Mk,Pk]}),n})();function kk(n,...e){return{ngModule:Nk,providers:[{provide:px,useFactory:Ok(n),multi:!0,deps:[fe.R0b,fe.zs3,d.HU,X.z6,[new fe.FiY,ve.dh],[new fe.FiY,He.nm],...e]}]}}const Fk=(0,d.u3)(cD,!0),Lk=(0,d.u3)(_k,!0),Vk=(0,d.u3)(QN,!0),Bk=(0,d.u3)(mk,!0),Uk=(0,d.u3)(MP,!0),jk=(0,d.u3)(fk,!0),$k=(0,d.u3)(XN,!0),Gk=(0,d.u3)(pk,!0),Hk=(0,d.u3)(gk,!0)},2793:(Pn,_t,Y)=>{Y.d(_t,{q4:()=>Wc,iC:()=>nd,HU:()=>$o,vb:()=>Xu,JM:()=>cc,u3:()=>Yc});var d=Y(5879),fe=Y(4097),ve=Y(5861),X=Y(4303),Me=Y(9058),He=Y(4537),Se=Y(7879);const ct=(B,q)=>q.some(le=>B instanceof le);let nt,Ie;const ft=new WeakMap,ze=new WeakMap,Jt=new WeakMap,dt=new WeakMap,fn=new WeakMap;let In={get(B,q,le){if(B instanceof IDBTransaction){if("done"===q)return ze.get(B);if("objectStoreNames"===q)return B.objectStoreNames||Jt.get(B);if("store"===q)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return mt(B[q])},set:(B,q,le)=>(B[q]=le,!0),has:(B,q)=>B instanceof IDBTransaction&&("done"===q||"store"===q)||q in B};function gt(B){return"function"==typeof B?function Tt(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...q){return B.apply(Nt(this),q),mt(ft.get(this))}:function(...q){return mt(B.apply(Nt(this),q))}:function(q,...le){const Re=B.call(Nt(this),q,...le);return Jt.set(Re,q.sort?q.sort():[q]),mt(Re)}}(B):(B instanceof IDBTransaction&&function Vn(B){if(ze.has(B))return;const q=new Promise((le,Re)=>{const qe=()=>{B.removeEventListener("complete",ut),B.removeEventListener("error",Qt),B.removeEventListener("abort",Qt)},ut=()=>{le(),qe()},Qt=()=>{Re(B.error||new DOMException("AbortError","AbortError")),qe()};B.addEventListener("complete",ut),B.addEventListener("error",Qt),B.addEventListener("abort",Qt)});ze.set(B,q)}(B),ct(B,function Ae(){return nt||(nt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,In):B)}function mt(B){if(B instanceof IDBRequest)return function Kt(B){const q=new Promise((le,Re)=>{const qe=()=>{B.removeEventListener("success",ut),B.removeEventListener("error",Qt)},ut=()=>{le(mt(B.result)),qe()},Qt=()=>{Re(B.error),qe()};B.addEventListener("success",ut),B.addEventListener("error",Qt)});return q.then(le=>{le instanceof IDBCursor&&ft.set(le,B)}).catch(()=>{}),fn.set(q,B),q}(B);if(dt.has(B))return dt.get(B);const q=gt(B);return q!==B&&(dt.set(B,q),fn.set(q,B)),q}const Nt=B=>fn.get(B),hn=["get","getKey","getAll","getAllKeys","count"],zn=["put","add","delete","clear"],Bn=new Map;function vn(B,q){if(!(B instanceof IDBDatabase)||q in B||"string"!=typeof q)return;if(Bn.get(q))return Bn.get(q);const le=q.replace(/FromIndex$/,""),Re=q!==le,qe=zn.includes(le);if(!(le in(Re?IDBIndex:IDBObjectStore).prototype)||!qe&&!hn.includes(le))return;const ut=function(){var Qt=(0,ve.Z)(function*(rr,...Xn){const An=this.transaction(rr,qe?"readwrite":"readonly");let gr=An.store;return Re&&(gr=gr.index(Xn.shift())),(yield Promise.all([gr[le](...Xn),qe&&An.done]))[0]});return function(Xn){return Qt.apply(this,arguments)}}();return Bn.set(q,ut),ut}!function Xe(B){In=B(In)}(B=>({...B,get:(q,le,Re)=>vn(q,le)||B.get(q,le,Re),has:(q,le)=>!!vn(q,le)||B.has(q,le)}));const Zn="@firebase/installations",lr="0.6.4",Gn=1e4,Ln=`w:${lr}`,Qe="FIS_v2",rt="https://firebaseinstallations.googleapis.com/v1",wt=36e5,ln=new Me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gn(B){return B instanceof Me.ZR&&B.code.includes("request-failed")}function Zr({projectId:B}){return`${rt}/projects/${B}/installations`}function cr(B){return{token:B.token,requestStatus:2,expiresIn:Je(B.expiresIn),creationTime:Date.now()}}function _r(B,q){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,ve.Z)(function*(B,q){const Re=(yield q.json()).error;return ln.create("request-failed",{requestName:B,serverCode:Re.code,serverMessage:Re.message,serverStatus:Re.status})})).apply(this,arguments)}function Pr({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Br(B){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,ve.Z)(function*(B){const q=yield B();return q.status>=500&&q.status<600?B():q})).apply(this,arguments)}function Je(B){return Number(B.replace("s","000"))}function xt(){return(xt=(0,ve.Z)(function*({appConfig:B,heartbeatServiceProvider:q},{fid:le}){const Re=Zr(B),qe=Pr(B),ut=q.getImmediate({optional:!0});if(ut){const An=yield ut.getHeartbeatsHeader();An&&qe.append("x-firebase-client",An)}const rr={method:"POST",headers:qe,body:JSON.stringify({fid:le,authVersion:Qe,appId:B.appId,sdkVersion:Ln})},Xn=yield Br(()=>fetch(Re,rr));if(Xn.ok){const An=yield Xn.json();return{fid:An.fid||le,registrationStatus:2,refreshToken:An.refreshToken,authToken:cr(An.authToken)}}throw yield _r("Create Installation",Xn)})).apply(this,arguments)}function Xt(B){return new Promise(q=>{setTimeout(q,B)})}const sr=/^[cdef][\w-]{21}$/,pn="";function Dn(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const le=function or(B){return function br(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return sr.test(le)?le:pn}catch{return pn}}function yr(B){return`${B.appName}!${B.appId}`}const ui=new Map;function Ri(B,q){const le=yr(B);ti(le,q),function $r(B,q){const le=function Mr(){return!Yi&&"BroadcastChannel"in self&&(Yi=new BroadcastChannel("[Firebase] FID Change"),Yi.onmessage=B=>{ti(B.data.key,B.data.fid)}),Yi}();le&&le.postMessage({key:B,fid:q}),function dr(){0===ui.size&&Yi&&(Yi.close(),Yi=null)}()}(le,q)}function ti(B,q){const le=ui.get(B);if(le)for(const Re of le)Re(q)}let Yi=null;const Is="firebase-installations-database",Ts=1,Di="firebase-installations-store";let Fi=null;function yt(){return Fi||(Fi=function xe(B,q,{blocked:le,upgrade:Re,blocking:qe,terminated:ut}={}){const Qt=indexedDB.open(B,q),rr=mt(Qt);return Re&&Qt.addEventListener("upgradeneeded",Xn=>{Re(mt(Qt.result),Xn.oldVersion,Xn.newVersion,mt(Qt.transaction))}),le&&Qt.addEventListener("blocked",()=>le()),rr.then(Xn=>{ut&&Xn.addEventListener("close",()=>ut()),qe&&Xn.addEventListener("versionchange",()=>qe())}).catch(()=>{}),rr}(Is,Ts,{upgrade:(B,q)=>{0===q&&B.createObjectStore(Di)}})),Fi}function Ge(B,q){return jt.apply(this,arguments)}function jt(){return(jt=(0,ve.Z)(function*(B,q){const le=yr(B),qe=(yield yt()).transaction(Di,"readwrite"),ut=qe.objectStore(Di),Qt=yield ut.get(le);return yield ut.put(q,le),yield qe.done,(!Qt||Qt.fid!==q.fid)&&Ri(B,q.fid),q})).apply(this,arguments)}function Et(B){return un.apply(this,arguments)}function un(){return(un=(0,ve.Z)(function*(B){const q=yr(B),Re=(yield yt()).transaction(Di,"readwrite");yield Re.objectStore(Di).delete(q),yield Re.done})).apply(this,arguments)}function En(B,q){return ar.apply(this,arguments)}function ar(){return(ar=(0,ve.Z)(function*(B,q){const le=yr(B),qe=(yield yt()).transaction(Di,"readwrite"),ut=qe.objectStore(Di),Qt=yield ut.get(le),rr=q(Qt);return void 0===rr?yield ut.delete(le):yield ut.put(rr,le),yield qe.done,rr&&(!Qt||Qt.fid!==rr.fid)&&Ri(B,rr.fid),rr})).apply(this,arguments)}function Le(B){return pe.apply(this,arguments)}function pe(){return pe=(0,ve.Z)(function*(B){let q;const le=yield En(B.appConfig,Re=>{const qe=function he(B){return xn(B||{fid:Dn(),registrationStatus:0})}(Re),ut=function Fe(B,q){if(0===q.registrationStatus){if(!navigator.onLine)return{installationEntry:q,registrationPromise:Promise.reject(ln.create("app-offline"))};const le={fid:q.fid,registrationStatus:1,registrationTime:Date.now()},Re=function _e(B,q){return We.apply(this,arguments)}(B,le);return{installationEntry:le,registrationPromise:Re}}return 1===q.registrationStatus?{installationEntry:q,registrationPromise:Vt(B)}:{installationEntry:q}}(B,qe);return q=ut.registrationPromise,ut.installationEntry});return le.fid===pn?{installationEntry:yield q}:{installationEntry:le,registrationPromise:q}}),pe.apply(this,arguments)}function We(){return We=(0,ve.Z)(function*(B,q){try{const le=yield function Ft(B,q){return xt.apply(this,arguments)}(B,q);return Ge(B.appConfig,le)}catch(le){throw gn(le)&&409===le.customData.serverCode?yield Et(B.appConfig):yield Ge(B.appConfig,{fid:q.fid,registrationStatus:0}),le}}),We.apply(this,arguments)}function Vt(B){return nn.apply(this,arguments)}function nn(){return(nn=(0,ve.Z)(function*(B){let q=yield Jn(B.appConfig);for(;1===q.registrationStatus;)yield Xt(100),q=yield Jn(B.appConfig);if(0===q.registrationStatus){const{installationEntry:le,registrationPromise:Re}=yield Le(B);return Re||le}return q})).apply(this,arguments)}function Jn(B){return En(B,q=>{if(!q)throw ln.create("installation-not-found");return xn(q)})}function xn(B){return function oi(B){return 1===B.registrationStatus&&B.registrationTime+Gn<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function xi(){return(xi=(0,ve.Z)(function*({appConfig:B,heartbeatServiceProvider:q},le){const Re=function ot(B,{fid:q}){return`${Zr(B)}/${q}/authTokens:generate`}(B,le),qe=function Fn(B,{refreshToken:q}){const le=Pr(B);return le.append("Authorization",function Ct(B){return`${Qe} ${B}`}(q)),le}(B,le),ut=q.getImmediate({optional:!0});if(ut){const An=yield ut.getHeartbeatsHeader();An&&qe.append("x-firebase-client",An)}const rr={method:"POST",headers:qe,body:JSON.stringify({installation:{sdkVersion:Ln,appId:B.appId}})},Xn=yield Br(()=>fetch(Re,rr));if(Xn.ok)return cr(yield Xn.json());throw yield _r("Generate Auth Token",Xn)})).apply(this,arguments)}function Ve(B){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,ve.Z)(function*(B,q=!1){let le;const Re=yield En(B.appConfig,ut=>{if(!Gr(ut))throw ln.create("not-registered");const Qt=ut.authToken;if(!q&&function Wr(B){return 2===B.requestStatus&&!function Gi(B){const q=Date.now();return q<B.creationTime||B.creationTime+B.expiresIn<q+wt}(B)}(Qt))return ut;if(1===Qt.requestStatus)return le=function Ot(B,q){return an.apply(this,arguments)}(B,q),ut;{if(!navigator.onLine)throw ln.create("app-offline");const rr=function Rs(B){const q={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:q})}(ut);return le=function qn(B,q){return bn.apply(this,arguments)}(B,rr),rr}});return le?yield le:Re.authToken}),Rt.apply(this,arguments)}function an(){return(an=(0,ve.Z)(function*(B,q){let le=yield sn(B.appConfig);for(;1===le.authToken.requestStatus;)yield Xt(100),le=yield sn(B.appConfig);const Re=le.authToken;return 0===Re.requestStatus?Ve(B,q):Re})).apply(this,arguments)}function sn(B){return En(B,q=>{if(!Gr(q))throw ln.create("not-registered");return function ri(B){return 1===B.requestStatus&&B.requestTime+Gn<Date.now()}(q.authToken)?Object.assign(Object.assign({},q),{authToken:{requestStatus:0}}):q})}function bn(){return bn=(0,ve.Z)(function*(B,q){try{const le=yield function pr(B,q){return xi.apply(this,arguments)}(B,q),Re=Object.assign(Object.assign({},q),{authToken:le});return yield Ge(B.appConfig,Re),le}catch(le){if(!gn(le)||401!==le.customData.serverCode&&404!==le.customData.serverCode){const Re=Object.assign(Object.assign({},q),{authToken:{requestStatus:0}});yield Ge(B.appConfig,Re)}else yield Et(B.appConfig);throw le}}),bn.apply(this,arguments)}function Gr(B){return void 0!==B&&2===B.registrationStatus}function Bs(){return(Bs=(0,ve.Z)(function*(B){const q=B,{installationEntry:le,registrationPromise:Re}=yield Le(q);return Re?Re.catch(console.error):Ve(q).catch(console.error),le.fid})).apply(this,arguments)}function _i(){return _i=(0,ve.Z)(function*(B,q=!1){const le=B;return yield function ni(B){return Ps.apply(this,arguments)}(le),(yield Ve(le,q)).token}),_i.apply(this,arguments)}function Ps(){return(Ps=(0,ve.Z)(function*(B){const{registrationPromise:q}=yield Le(B);q&&(yield q)})).apply(this,arguments)}function Ye(B){return ln.create("missing-app-config-values",{valueName:B})}const It="installations",Gt=B=>{const q=B.getProvider("app").getImmediate(),le=function it(B){if(!B||!B.options)throw Ye("App Configuration");if(!B.name)throw Ye("App Name");const q=["projectId","apiKey","appId"];for(const le of q)if(!B.options[le])throw Ye(le);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(q);return{app:q,appConfig:le,heartbeatServiceProvider:(0,X.qX)(q,"heartbeat"),_delete:()=>Promise.resolve()}},er=B=>{const q=B.getProvider("app").getImmediate(),le=(0,X.qX)(q,It).getImmediate();return{getId:()=>function cs(B){return Bs.apply(this,arguments)}(le),getToken:qe=>function rs(B){return _i.apply(this,arguments)}(le,qe)}};(function gi(){(0,X.Xd)(new He.wA(It,Gt,"PUBLIC")),(0,X.Xd)(new He.wA("installations-internal",er,"PRIVATE"))})(),(0,X.KN)(Zn,lr),(0,X.KN)(Zn,lr,"esm2017");const di="@firebase/remote-config",Qi=new Me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yr{constructor(q,le,Re,qe){this.client=q,this.storage=le,this.storageCache=Re,this.logger=qe}isCachedDataFresh(q,le){if(!le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Re=Date.now()-le,qe=Re<=q;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Re}. Cache max age millis (minimumFetchIntervalMillis setting): ${q}. Is cache hit: ${qe}.`),qe}fetch(q){var le=this;return(0,ve.Z)(function*(){const[Re,qe]=yield Promise.all([le.storage.getLastSuccessfulFetchTimestampMillis(),le.storage.getLastSuccessfulFetchResponse()]);if(qe&&le.isCachedDataFresh(q.cacheMaxAgeMillis,Re))return qe;q.eTag=qe&&qe.eTag;const ut=yield le.client.fetch(q),Qt=[le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ut.status&&Qt.push(le.storage.setLastSuccessfulFetchResponse(ut)),yield Promise.all(Qt),ut})()}}function Ai(B=navigator){return B.languages&&B.languages[0]||B.language}class Nr{constructor(q,le,Re,qe,ut,Qt){this.firebaseInstallations=q,this.sdkVersion=le,this.namespace=Re,this.projectId=qe,this.apiKey=ut,this.appId=Qt}fetch(q){var le=this;return(0,ve.Z)(function*(){const[Re,qe]=yield Promise.all([le.firebaseInstallations.getId(),le.firebaseInstallations.getToken()]),Qt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${le.projectId}/namespaces/${le.namespace}:fetch?key=${le.apiKey}`,rr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":q.eTag||"*"},Xn={sdk_version:le.sdkVersion,app_instance_id:Re,app_instance_id_token:qe,app_id:le.appId,language_code:Ai()},An={method:"POST",headers:rr,body:JSON.stringify(Xn)},gr=fetch(Qt,An),qr=new Promise((Xl,la)=>{q.signal.addEventListener(()=>{const Fc=new Error("The operation was aborted.");Fc.name="AbortError",la(Fc)})});let fl;try{yield Promise.race([gr,qr]),fl=yield gr}catch(Xl){let la="fetch-client-network";throw"AbortError"===Xl?.name&&(la="fetch-timeout"),Qi.create(la,{originalErrorMessage:Xl?.message})}let Go=fl.status;const Ls=fl.headers.get("ETag")||void 0;let Qc,$l;if(200===fl.status){let Xl;try{Xl=yield fl.json()}catch(la){throw Qi.create("fetch-client-parse",{originalErrorMessage:la?.message})}Qc=Xl.entries,$l=Xl.state}if("INSTANCE_STATE_UNSPECIFIED"===$l?Go=500:"NO_CHANGE"===$l?Go=304:("NO_TEMPLATE"===$l||"EMPTY_CONFIG"===$l)&&(Qc={}),304!==Go&&200!==Go)throw Qi.create("fetch-status",{httpStatus:Go});return{status:Go,eTag:Ls,config:Qc}})()}}class mo{constructor(q,le){this.client=q,this.storage=le}fetch(q){var le=this;return(0,ve.Z)(function*(){const Re=(yield le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return le.attemptFetch(q,Re)})()}attemptFetch(q,{throttleEndTimeMillis:le,backoffCount:Re}){var qe=this;return(0,ve.Z)(function*(){yield function ia(B,q){return new Promise((le,Re)=>{const qe=Math.max(q-Date.now(),0),ut=setTimeout(le,qe);B.addEventListener(()=>{clearTimeout(ut),Re(Qi.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(q.signal,le);try{const ut=yield qe.client.fetch(q);return yield qe.storage.deleteThrottleMetadata(),ut}catch(ut){if(!function Vi(B){if(!(B instanceof Me.ZR&&B.customData))return!1;const q=Number(B.customData.httpStatus);return 429===q||500===q||503===q||504===q}(ut))throw ut;const Qt={throttleEndTimeMillis:Date.now()+(0,Me.$s)(Re),backoffCount:Re+1};return yield qe.storage.setThrottleMetadata(Qt),qe.attemptFetch(q,Qt)}})()}}class Ho{constructor(q,le,Re,qe,ut){this.app=q,this._client=le,this._storageCache=Re,this._storage=qe,this._logger=ut,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rr(B,q){const le=B.target.error||void 0;return Qi.create(q,{originalErrorMessage:le&&le?.message})}const ko="app_namespace_store";class ya{constructor(q,le,Re,qe=function Ur(){return new Promise((B,q)=>{try{const le=indexedDB.open("firebase_remote_config",1);le.onerror=Re=>{q(Rr(Re,"storage-open"))},le.onsuccess=Re=>{B(Re.target.result)},le.onupgradeneeded=Re=>{0===Re.oldVersion&&Re.target.result.createObjectStore(ko,{keyPath:"compositeKey"})}}catch(le){q(Qi.create("storage-open",{originalErrorMessage:le?.message}))}})}()){this.appId=q,this.appName=le,this.namespace=Re,this.openDbPromise=qe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(q){return this.set("last_fetch_status",q)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(q){return this.set("last_successful_fetch_timestamp_millis",q)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(q){return this.set("last_successful_fetch_response",q)}getActiveConfig(){return this.get("active_config")}setActiveConfig(q){return this.set("active_config",q)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(q){return this.set("active_config_etag",q)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(q){return this.set("throttle_metadata",q)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(q){var le=this;return(0,ve.Z)(function*(){const Re=yield le.openDbPromise;return new Promise((qe,ut)=>{const rr=Re.transaction([ko],"readonly").objectStore(ko),Xn=le.createCompositeKey(q);try{const An=rr.get(Xn);An.onerror=gr=>{ut(Rr(gr,"storage-get"))},An.onsuccess=gr=>{const qr=gr.target.result;qe(qr?qr.value:void 0)}}catch(An){ut(Qi.create("storage-get",{originalErrorMessage:An?.message}))}})})()}set(q,le){var Re=this;return(0,ve.Z)(function*(){const qe=yield Re.openDbPromise;return new Promise((ut,Qt)=>{const Xn=qe.transaction([ko],"readwrite").objectStore(ko),An=Re.createCompositeKey(q);try{const gr=Xn.put({compositeKey:An,value:le});gr.onerror=qr=>{Qt(Rr(qr,"storage-set"))},gr.onsuccess=()=>{ut()}}catch(gr){Qt(Qi.create("storage-set",{originalErrorMessage:gr?.message}))}})})()}delete(q){var le=this;return(0,ve.Z)(function*(){const Re=yield le.openDbPromise;return new Promise((qe,ut)=>{const rr=Re.transaction([ko],"readwrite").objectStore(ko),Xn=le.createCompositeKey(q);try{const An=rr.delete(Xn);An.onerror=gr=>{ut(Rr(gr,"storage-delete"))},An.onsuccess=()=>{qe()}}catch(An){ut(Qi.create("storage-delete",{originalErrorMessage:An?.message}))}})})()}createCompositeKey(q){return[this.appId,this.appName,this.namespace,q].join()}}class Gs{constructor(q){this.storage=q}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var q=this;return(0,ve.Z)(function*(){const le=q.storage.getLastFetchStatus(),Re=q.storage.getLastSuccessfulFetchTimestampMillis(),qe=q.storage.getActiveConfig(),ut=yield le;ut&&(q.lastFetchStatus=ut);const Qt=yield Re;Qt&&(q.lastSuccessfulFetchTimestampMillis=Qt);const rr=yield qe;rr&&(q.activeConfig=rr)})()}setLastFetchStatus(q){return this.lastFetchStatus=q,this.storage.setLastFetchStatus(q)}setLastSuccessfulFetchTimestampMillis(q){return this.lastSuccessfulFetchTimestampMillis=q,this.storage.setLastSuccessfulFetchTimestampMillis(q)}setActiveConfig(q){return this.activeConfig=q,this.storage.setActiveConfig(q)}}function io(){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,ve.Z)(function*(){if(!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch{return!1}})).apply(this,arguments)}!function xs(){(0,X.Xd)(new He.wA("remote-config",function B(q,{instanceIdentifier:le}){const Re=q.getProvider("app").getImmediate(),qe=q.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qi.create("registration-window");if(!(0,Me.hl)())throw Qi.create("indexed-db-unavailable");const{projectId:ut,apiKey:Qt,appId:rr}=Re.options;if(!ut)throw Qi.create("registration-project-id");if(!Qt)throw Qi.create("registration-api-key");if(!rr)throw Qi.create("registration-app-id");const Xn=new ya(rr,Re.name,le=le||"firebase"),An=new Gs(Xn),gr=new Se.Yd(di);gr.logLevel=Se.in.ERROR;const qr=new Nr(qe,X.Jn,le,ut,Qt,rr),fl=new mo(qr,Xn),Go=new Yr(fl,Xn,An,gr),Ls=new Ho(Re,Go,An,Xn,gr);return function Ci(B){const q=(0,Me.m9)(B);q._initializePromise||(q._initializePromise=q._storageCache.loadFromStorage().then(()=>{q._isInitializationComplete=!0}))}(Ls),Ls},"PUBLIC").setMultipleInstances(!0)),(0,X.KN)(di,"0.4.4"),(0,X.KN)(di,"0.4.4","esm2017")}();const Fr=(B,q)=>q.some(le=>B instanceof le);let yo,ii;const Ba=new WeakMap,so=new WeakMap,Ns=new WeakMap,Ea=new WeakMap,vo=new WeakMap;let gs={get(B,q,le){if(B instanceof IDBTransaction){if("done"===q)return so.get(B);if("objectStoreNames"===q)return B.objectStoreNames||Ns.get(B);if("store"===q)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return Bi(B[q])},set:(B,q,le)=>(B[q]=le,!0),has:(B,q)=>B instanceof IDBTransaction&&("done"===q||"store"===q)||q in B};function oo(B){return"function"==typeof B?function zo(B){return B!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ji(){return ii||(ii=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(B)?function(...q){return B.apply(zs(this),q),Bi(Ba.get(this))}:function(...q){return Bi(B.apply(zs(this),q))}:function(q,...le){const Re=B.call(zs(this),q,...le);return Ns.set(Re,q.sort?q.sort():[q]),Bi(Re)}}(B):(B instanceof IDBTransaction&&function wa(B){if(so.has(B))return;const q=new Promise((le,Re)=>{const qe=()=>{B.removeEventListener("complete",ut),B.removeEventListener("error",Qt),B.removeEventListener("abort",Qt)},ut=()=>{le(),qe()},Qt=()=>{Re(B.error||new DOMException("AbortError","AbortError")),qe()};B.addEventListener("complete",ut),B.addEventListener("error",Qt),B.addEventListener("abort",Qt)});so.set(B,q)}(B),Fr(B,function vl(){return yo||(yo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(B,gs):B)}function Bi(B){if(B instanceof IDBRequest)return function ps(B){const q=new Promise((le,Re)=>{const qe=()=>{B.removeEventListener("success",ut),B.removeEventListener("error",Qt)},ut=()=>{le(Bi(B.result)),qe()},Qt=()=>{Re(B.error),qe()};B.addEventListener("success",ut),B.addEventListener("error",Qt)});return q.then(le=>{le instanceof IDBCursor&&Ba.set(le,B)}).catch(()=>{}),vo.set(q,B),q}(B);if(Ea.has(B))return Ea.get(B);const q=oo(B);return q!==B&&(Ea.set(B,q),vo.set(q,B)),q}const zs=B=>vo.get(B);function ba(B,q,{blocked:le,upgrade:Re,blocking:qe,terminated:ut}={}){const Qt=indexedDB.open(B,q),rr=Bi(Qt);return Re&&Qt.addEventListener("upgradeneeded",Xn=>{Re(Bi(Qt.result),Xn.oldVersion,Xn.newVersion,Bi(Qt.transaction))}),le&&Qt.addEventListener("blocked",()=>le()),rr.then(Xn=>{ut&&Xn.addEventListener("close",()=>ut()),qe&&Xn.addEventListener("versionchange",()=>qe())}).catch(()=>{}),rr}function Xi(B,{blocked:q}={}){const le=indexedDB.deleteDatabase(B);return q&&le.addEventListener("blocked",()=>q()),Bi(le).then(()=>{})}const Oa=["get","getKey","getAll","getAllKeys","count"],sc=["put","add","delete","clear"],tl=new Map;function Ua(B,q){if(!(B instanceof IDBDatabase)||q in B||"string"!=typeof q)return;if(tl.get(q))return tl.get(q);const le=q.replace(/FromIndex$/,""),Re=q!==le,qe=sc.includes(le);if(!(le in(Re?IDBIndex:IDBObjectStore).prototype)||!qe&&!Oa.includes(le))return;const ut=function(){var Qt=(0,ve.Z)(function*(rr,...Xn){const An=this.transaction(rr,qe?"readwrite":"readonly");let gr=An.store;return Re&&(gr=gr.index(Xn.shift())),(yield Promise.all([gr[le](...Xn),qe&&An.done]))[0]});return function(Xn){return Qt.apply(this,arguments)}}();return tl.set(q,ut),ut}!function Ni(B){gs=B(gs)}(B=>({...B,get:(q,le,Re)=>Ua(q,le)||B.get(q,le,Re),has:(q,le)=>!!Ua(q,le)||B.has(q,le)}));const ha="/firebase-messaging-sw.js",Wo="/firebase-cloud-messaging-push-scope",Nl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fa="https://fcmregistrations.googleapis.com/v1",es="google.c.a.c_id",Co="google.c.a.c_l",Eo="google.c.a.ts";var we=function(B){return B.PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",B}(we||{});function te(B){const q=new Uint8Array(B);return btoa(String.fromCharCode(...q)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Oe(B){const le=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Re=atob(le),qe=new Uint8Array(Re.length);for(let ut=0;ut<Re.length;++ut)qe[ut]=Re.charCodeAt(ut);return qe}const mn="fcm_token_details_db",vr=5,ks="fcm_token_object_Store";function Fo(){return Fo=(0,ve.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ut=>ut.name).includes(mn))return null;let q=null;return(yield ba(mn,vr,{upgrade:(Re=(0,ve.Z)(function*(qe,ut,Qt,rr){var Xn;if(ut<2||!qe.objectStoreNames.contains(ks))return;const An=rr.objectStore(ks),gr=yield An.index("fcmSenderId").get(B);if(yield An.clear(),gr)if(2===ut){const qr=gr;if(!qr.auth||!qr.p256dh||!qr.endpoint)return;q={token:qr.fcmToken,createTime:null!==(Xn=qr.createTime)&&void 0!==Xn?Xn:Date.now(),subscriptionOptions:{auth:qr.auth,p256dh:qr.p256dh,endpoint:qr.endpoint,swScope:qr.swScope,vapidKey:"string"==typeof qr.vapidKey?qr.vapidKey:te(qr.vapidKey)}}}else if(3===ut){const qr=gr;q={token:qr.fcmToken,createTime:qr.createTime,subscriptionOptions:{auth:te(qr.auth),p256dh:te(qr.p256dh),endpoint:qr.endpoint,swScope:qr.swScope,vapidKey:te(qr.vapidKey)}}}else if(4===ut){const qr=gr;q={token:qr.fcmToken,createTime:qr.createTime,subscriptionOptions:{auth:te(qr.auth),p256dh:te(qr.p256dh),endpoint:qr.endpoint,swScope:qr.swScope,vapidKey:te(qr.vapidKey)}}}}),function(ut,Qt,rr,Xn){return Re.apply(this,arguments)})})).close(),yield Xi(mn),yield Xi("fcm_vapid_details_db"),yield Xi("undefined"),function Ws(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:q}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof q.auth&&q.auth.length>0&&"string"==typeof q.p256dh&&q.p256dh.length>0&&"string"==typeof q.endpoint&&q.endpoint.length>0&&"string"==typeof q.swScope&&q.swScope.length>0&&"string"==typeof q.vapidKey&&q.vapidKey.length>0}(q)?q:null;var Re}),Fo.apply(this,arguments)}const Zs="firebase-messaging-database",ja=1,ao="firebase-messaging-store";let ds=null;function sa(){return ds||(ds=ba(Zs,ja,{upgrade:(B,q)=>{0===q&&B.createObjectStore(ao)}})),ds}function ys(B){return pa.apply(this,arguments)}function pa(){return pa=(0,ve.Z)(function*(B){const q=Pa(B),Re=yield(yield sa()).transaction(ao).objectStore(ao).get(q);if(Re)return Re;{const qe=yield function zi(B){return Fo.apply(this,arguments)}(B.appConfig.senderId);if(qe)return yield ll(B,qe),qe}}),pa.apply(this,arguments)}function ll(B,q){return $a.apply(this,arguments)}function $a(){return($a=(0,ve.Z)(function*(B,q){const le=Pa(B),qe=(yield sa()).transaction(ao,"readwrite");return yield qe.objectStore(ao).put(q,le),yield qe.done,q})).apply(this,arguments)}function Ga(){return(Ga=(0,ve.Z)(function*(B){const q=Pa(B),Re=(yield sa()).transaction(ao,"readwrite");yield Re.objectStore(ao).delete(q),yield Re.done})).apply(this,arguments)}function Pa({appConfig:B}){return B.appId}const js=new Me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Il(B,q){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,ve.Z)(function*(B,q){const le=yield kl(B),Re=Ha(q),qe={method:"POST",headers:le,body:JSON.stringify(Re)};let ut;try{ut=yield(yield fetch(qo(B.appConfig),qe)).json()}catch(Qt){throw js.create("token-subscribe-failed",{errorInfo:Qt?.toString()})}if(ut.error)throw js.create("token-subscribe-failed",{errorInfo:ut.error.message});if(!ut.token)throw js.create("token-subscribe-no-token");return ut.token})).apply(this,arguments)}function nl(){return(nl=(0,ve.Z)(function*(B,q){const le=yield kl(B),Re=Ha(q.subscriptionOptions),qe={method:"PATCH",headers:le,body:JSON.stringify(Re)};let ut;try{ut=yield(yield fetch(`${qo(B.appConfig)}/${q.token}`,qe)).json()}catch(Qt){throw js.create("token-update-failed",{errorInfo:Qt?.toString()})}if(ut.error)throw js.create("token-update-failed",{errorInfo:ut.error.message});if(!ut.token)throw js.create("token-update-no-token");return ut.token})).apply(this,arguments)}function bi(B,q){return Js.apply(this,arguments)}function Js(){return(Js=(0,ve.Z)(function*(B,q){const Re={method:"DELETE",headers:yield kl(B)};try{const ut=yield(yield fetch(`${qo(B.appConfig)}/${q}`,Re)).json();if(ut.error)throw js.create("token-unsubscribe-failed",{errorInfo:ut.error.message})}catch(qe){throw js.create("token-unsubscribe-failed",{errorInfo:qe?.toString()})}})).apply(this,arguments)}function qo({projectId:B}){return`${fa}/projects/${B}/registrations`}function kl(B){return $i.apply(this,arguments)}function $i(){return($i=(0,ve.Z)(function*({appConfig:B,installations:q}){const le=yield q.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${le}`})})).apply(this,arguments)}function Ha({p256dh:B,auth:q,endpoint:le,vapidKey:Re}){const qe={web:{endpoint:le,auth:q,p256dh:B}};return Re!==Nl&&(qe.web.applicationPubKey=Re),qe}const oa=6048e5;function aa(){return aa=(0,ve.Z)(function*(B){const q=yield function lo(B,q){return Ql.apply(this,arguments)}(B.swRegistration,B.vapidKey),le={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:q.endpoint,auth:te(q.getKey("auth")),p256dh:te(q.getKey("p256dh"))},Re=yield ys(B.firebaseDependencies);if(Re){if(function V(B,q){return q.vapidKey===B.vapidKey&&q.endpoint===B.endpoint&&q.auth===B.auth&&q.p256dh===B.p256dh}(Re.subscriptionOptions,le))return Date.now()>=Re.createTime+oa?function Fl(B,q){return ul.apply(this,arguments)}(B,{token:Re.token,createTime:Date.now(),subscriptionOptions:le}):Re.token;try{yield bi(B.firebaseDependencies,Re.token)}catch(qe){console.warn(qe)}return Ko(B.firebaseDependencies,le)}return Ko(B.firebaseDependencies,le)}),aa.apply(this,arguments)}function Lo(){return Lo=(0,ve.Z)(function*(B){const q=yield ys(B.firebaseDependencies);q&&(yield bi(B.firebaseDependencies,q.token),yield function Ia(B){return Ga.apply(this,arguments)}(B.firebaseDependencies));const le=yield B.swRegistration.pushManager.getSubscription();return!le||le.unsubscribe()}),Lo.apply(this,arguments)}function ul(){return ul=(0,ve.Z)(function*(B,q){try{const le=yield function Tl(B,q){return nl.apply(this,arguments)}(B.firebaseDependencies,q),Re=Object.assign(Object.assign({},q),{token:le,createTime:Date.now()});return yield ll(B.firebaseDependencies,Re),le}catch(le){throw yield function Yl(B){return Lo.apply(this,arguments)}(B),le}}),ul.apply(this,arguments)}function Ko(B,q){return Na.apply(this,arguments)}function Na(){return(Na=(0,ve.Z)(function*(B,q){const Re={token:yield Il(B,q),createTime:Date.now(),subscriptionOptions:q};return yield ll(B,Re),Re.token})).apply(this,arguments)}function Ql(){return(Ql=(0,ve.Z)(function*(B,q){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Oe(q)})})).apply(this,arguments)}function ee(B){const q={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function Pe(B,q){if(!q.notification)return;B.notification={};const le=q.notification.title;le&&(B.notification.title=le);const Re=q.notification.body;Re&&(B.notification.body=Re);const qe=q.notification.image;qe&&(B.notification.image=qe);const ut=q.notification.icon;ut&&(B.notification.icon=ut)}(q,B),function Q(B,q){q.data&&(B.data=q.data)}(q,B),function Te(B,q){var le,Re,qe,ut,Qt;if(!(q.fcmOptions||null!==(le=q.notification)&&void 0!==le&&le.click_action))return;B.fcmOptions={};const rr=null!==(qe=null===(Re=q.fcmOptions)||void 0===Re?void 0:Re.link)&&void 0!==qe?qe:null===(ut=q.notification)||void 0===ut?void 0:ut.click_action;rr&&(B.fcmOptions.link=rr);const Xn=null===(Qt=q.fcmOptions)||void 0===Qt?void 0:Qt.analytics_label;Xn&&(B.fcmOptions.analyticsLabel=Xn)}(q,B),q}function ie(B,q){const le=[];for(let Re=0;Re<B.length;Re++)le.push(B.charAt(Re)),Re<q.length&&le.push(q.charAt(Re));return le.join("")}function ge(B){return js.create("missing-app-config-values",{valueName:B})}ie("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ie("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class De{constructor(q,le,Re){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const qe=function de(B){if(!B||!B.options)throw ge("App Configuration Object");if(!B.name)throw ge("App Name");const q=["projectId","apiKey","appId","messagingSenderId"],{options:le}=B;for(const Re of q)if(!le[Re])throw ge(Re);return{appName:B.name,projectId:le.projectId,apiKey:le.apiKey,appId:le.appId,senderId:le.messagingSenderId}}(q);this.firebaseDependencies={app:q,appConfig:qe,installations:le,analyticsProvider:Re}}_delete(){return Promise.resolve()}}function tt(){return(tt=(0,ve.Z)(function*(B){try{B.swRegistration=yield navigator.serviceWorker.register(ha,{scope:Wo}),B.swRegistration.update().catch(()=>{})}catch(q){throw js.create("failed-service-worker-registration",{browserErrorMessage:q?.message})}})).apply(this,arguments)}function kt(){return(kt=(0,ve.Z)(function*(B,q){if(!q&&!B.swRegistration&&(yield function Ze(B){return tt.apply(this,arguments)}(B)),q||!B.swRegistration){if(!(q instanceof ServiceWorkerRegistration))throw js.create("invalid-sw-registration");B.swRegistration=q}})).apply(this,arguments)}function Un(){return(Un=(0,ve.Z)(function*(B,q){q?B.vapidKey=q:B.vapidKey||(B.vapidKey=Nl)})).apply(this,arguments)}function Yn(){return Yn=(0,ve.Z)(function*(B,q){if(!navigator)throw js.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw js.create("permission-blocked");return yield function On(B,q){return Un.apply(this,arguments)}(B,q?.vapidKey),yield function Mt(B,q){return kt.apply(this,arguments)}(B,q?.serviceWorkerRegistration),function Ma(B){return aa.apply(this,arguments)}(B)}),Yn.apply(this,arguments)}function Jr(){return(Jr=(0,ve.Z)(function*(B,q,le){const Re=function Ss(B){switch(B){case we.NOTIFICATION_CLICKED:return"notification_open";case we.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(q);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(Re,{message_id:le[es],message_name:le[Co],message_time:le[Eo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $t(){return $t=(0,ve.Z)(function*(B,q){const le=q.data;if(!le.isFirebaseMessaging)return;B.onMessageHandler&&le.messageType===we.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(ee(le)):B.onMessageHandler.next(ee(le)));const Re=le.data;(function G(B){return"object"==typeof B&&!!B&&es in B})(Re)&&"1"===Re["google.c.a.e"]&&(yield function kr(B,q,le){return Jr.apply(this,arguments)}(B,le.messageType,Re))}),$t.apply(this,arguments)}const Ei="@firebase/messaging",hs=B=>{const q=new De(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",le=>function Xs(B,q){return $t.apply(this,arguments)}(q,le)),q},tr=B=>{const q=B.getProvider("messaging").getImmediate();return{getToken:Re=>function nr(B,q){return Yn.apply(this,arguments)}(q,Re)}};function Cs(){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,ve.Z)(function*(){try{yield(0,Me.eu)()}catch{return!1}return typeof window<"u"&&(0,Me.hl)()&&(0,Me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Er(){(0,X.Xd)(new He.wA("messaging",hs,"PUBLIC")),(0,X.Xd)(new He.wA("messaging-internal",tr,"PRIVATE")),(0,X.KN)(Ei,"0.12.4"),(0,X.KN)(Ei,"0.12.4","esm2017")}();const Ll="analytics",Oc="firebase_id",mi="origin",oc=6e4,Zl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pc="https://www.googletagmanager.com/gtag/js",Sr=new Se.Yd("@firebase/analytics"),Vo=new Me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ss(B){if(!B.startsWith(Pc)){const q=Vo.create("invalid-gtag-resource",{gtagURL:B});return Sr.warn(q.message),""}return B}function Cr(B){return Promise.all(B.map(q=>q.catch(le=>le)))}function ht(){return(ht=(0,ve.Z)(function*(B,q,le,Re,qe,ut){const Qt=Re[qe];try{if(Qt)yield q[Qt];else{const Xn=(yield Cr(le)).find(An=>An.measurementId===qe);Xn&&(yield q[Xn.appId])}}catch(rr){Sr.error(rr)}B("config",qe,ut)})).apply(this,arguments)}function yc(){return(yc=(0,ve.Z)(function*(B,q,le,Re,qe){try{let ut=[];if(qe&&qe.send_to){let Qt=qe.send_to;Array.isArray(Qt)||(Qt=[Qt]);const rr=yield Cr(le);for(const Xn of Qt){const An=rr.find(qr=>qr.measurementId===Xn),gr=An&&q[An.appId];if(!gr){ut=[];break}ut.push(gr)}}0===ut.length&&(ut=Object.values(q)),yield Promise.all(ut),B("event",Re,qe||{})}catch(ut){Sr.error(ut)}})).apply(this,arguments)}const zc=30,vc=new class Mc{constructor(q={},le=1e3){this.throttleMetadata=q,this.intervalMillis=le}getThrottleMetadata(q){return this.throttleMetadata[q]}setThrottleMetadata(q,le){this.throttleMetadata[q]=le}deleteThrottleMetadata(q){delete this.throttleMetadata[q]}};function il(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function Nc(){return(Nc=(0,ve.Z)(function*(B){var q;const{appId:le,apiKey:Re}=B,qe={method:"GET",headers:il(Re)},ut=Zl.replace("{app-id}",le),Qt=yield fetch(ut,qe);if(200!==Qt.status&&304!==Qt.status){let rr="";try{const Xn=yield Qt.json();null!==(q=Xn.error)&&void 0!==q&&q.message&&(rr=Xn.error.message)}catch{}throw Vo.create("config-fetch-failed",{httpStatus:Qt.status,responseMessage:rr})}return Qt.json()})).apply(this,arguments)}function Io(){return(Io=(0,ve.Z)(function*(B,q=vc,le){const{appId:Re,apiKey:qe,measurementId:ut}=B.options;if(!Re)throw Vo.create("no-app-id");if(!qe){if(ut)return{measurementId:ut,appId:Re};throw Vo.create("no-api-key")}const Qt=q.getThrottleMetadata(Re)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rr=new Ju;return setTimeout((0,ve.Z)(function*(){rr.abort()}),void 0!==le?le:oc),du({appId:Re,apiKey:qe,measurementId:ut},Qt,rr,q)})).apply(this,arguments)}function du(B,q,le){return bt.apply(this,arguments)}function bt(){return bt=(0,ve.Z)(function*(B,{throttleEndTimeMillis:q,backoffCount:le},Re,qe=vc){var ut;const{appId:Qt,measurementId:rr}=B;try{yield function Ta(B,q){return new Promise((le,Re)=>{const qe=Math.max(q-Date.now(),0),ut=setTimeout(le,qe);B.addEventListener(()=>{clearTimeout(ut),Re(Vo.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(Re,q)}catch(Xn){if(rr)return Sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rr} provided in the "measurementId" field in the local Firebase config. [${Xn?.message}]`),{appId:Qt,measurementId:rr};throw Xn}try{const Xn=yield function Iu(B){return Nc.apply(this,arguments)}(B);return qe.deleteThrottleMetadata(Qt),Xn}catch(Xn){const An=Xn;if(!function Vl(B){if(!(B instanceof Me.ZR&&B.customData))return!1;const q=Number(B.customData.httpStatus);return 429===q||500===q||503===q||504===q}(An)){if(qe.deleteThrottleMetadata(Qt),rr)return Sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${rr} provided in the "measurementId" field in the local Firebase config. [${An?.message}]`),{appId:Qt,measurementId:rr};throw Xn}const gr=503===Number(null===(ut=An?.customData)||void 0===ut?void 0:ut.httpStatus)?(0,Me.$s)(le,qe.intervalMillis,zc):(0,Me.$s)(le,qe.intervalMillis),qr={throttleEndTimeMillis:Date.now()+gr,backoffCount:le+1};return qe.setThrottleMetadata(Qt,qr),Sr.debug(`Calling attemptFetch again in ${gr} millis`),du(B,qr,Re,qe)}}),bt.apply(this,arguments)}class Ju{constructor(){this.listeners=[]}addEventListener(q){this.listeners.push(q)}abort(){this.listeners.forEach(q=>q())}}let oe,vt;function L(){return(L=(0,ve.Z)(function*(B,q,le,Re,qe){if(qe&&qe.global)B("event",le,Re);else{const ut=yield q;B("event",le,Object.assign(Object.assign({},Re),{send_to:ut}))}})).apply(this,arguments)}function Dr(){return(Dr=(0,ve.Z)(function*(){if(!(0,Me.hl)())return Sr.warn(Vo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Me.eu)()}catch(B){return Sr.warn(Vo.create("indexeddb-unavailable",{errorInfo:B?.toString()}).message),!1}return!0})).apply(this,arguments)}function vs(){return vs=(0,ve.Z)(function*(B,q,le,Re,qe,ut,Qt){var rr;const Xn=function bo(B){return Io.apply(this,arguments)}(B);Xn.then(Go=>{le[Go.measurementId]=Go.appId,B.options.measurementId&&Go.measurementId!==B.options.measurementId&&Sr.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${Go.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Go=>Sr.error(Go)),q.push(Xn);const An=function zr(){return Dr.apply(this,arguments)}().then(Go=>{if(Go)return Re.getId()}),[gr,qr]=yield Promise.all([Xn,An]);(function ac(B){const q=window.document.getElementsByTagName("script");for(const le of Object.values(q))if(le.src&&le.src.includes(Pc)&&le.src.includes(B))return le;return null})(ut)||function os(B,q){const le=function El(B,q){let le;return window.trustedTypes&&(le=window.trustedTypes.createPolicy(B,q)),le}("firebase-js-sdk-policy",{createScriptURL:ss}),Re=document.createElement("script"),qe=`${Pc}?l=${B}&id=${q}`;Re.src=le?le?.createScriptURL(qe):qe,Re.async=!0,document.head.appendChild(Re)}(ut,gr.measurementId),vt&&(qe("consent","default",vt),function dn(B){vt=B}(void 0)),qe("js",new Date);const fl=null!==(rr=Qt?.config)&&void 0!==rr?rr:{};return fl[mi]="firebase",fl.update=!0,null!=qr&&(fl[Oc]=qr),qe("config",gr.measurementId,fl),oe&&(qe("set",oe),function Cn(B){oe=B}(void 0)),gr.measurementId}),vs.apply(this,arguments)}class Ro{constructor(q){this.app=q}_delete(){return delete qs[this.app.options.appId],Promise.resolve()}}let qs={},sl=[];const ga={};let ma,ol,Bo="dataLayer",hl=!1;function ms(B,q,le){!function lc(){const B=[];if((0,Me.ru)()&&B.push("This is a browser extension environment."),(0,Me.zI)()||B.push("Cookies are not available."),B.length>0){const q=B.map((Re,qe)=>`(${qe+1}) ${Re}`).join(" "),le=Vo.create("invalid-analytics-context",{errorInfo:q});Sr.warn(le.message)}}();const Re=B.options.appId;if(!Re)throw Vo.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw Vo.create("no-api-key");Sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qs[Re])throw Vo.create("already-exists",{id:Re});if(!hl){!function bu(B){let q=[];Array.isArray(window[B])?q=window[B]:window[B]=q}(Bo);const{wrappedGtag:ut,gtagCore:Qt}=function to(B,q,le,Re,qe){let ut=function(...Qt){window[Re].push(arguments)};return window[qe]&&"function"==typeof window[qe]&&(ut=window[qe]),window[qe]=function Wa(B,q,le,Re){function ut(){return ut=(0,ve.Z)(function*(Qt,...rr){try{if("event"===Qt){const[Xn,An]=rr;yield function ki(B,q,le,Re,qe){return yc.apply(this,arguments)}(B,q,le,Xn,An)}else if("config"===Qt){const[Xn,An]=rr;yield function eo(B,q,le,Re,qe,ut){return ht.apply(this,arguments)}(B,q,le,Re,Xn,An)}else if("consent"===Qt){const[Xn]=rr;B("consent","update",Xn)}else if("get"===Qt){const[Xn,An,gr]=rr;B("get",Xn,An,gr)}else if("set"===Qt){const[Xn]=rr;B("set",Xn)}else B(Qt,...rr)}catch(Xn){Sr.error(Xn)}}),ut.apply(this,arguments)}return function qe(Qt){return ut.apply(this,arguments)}}(ut,B,q,le),{gtagCore:ut,wrappedGtag:window[qe]}}(qs,sl,ga,Bo,"gtag");ol=ut,ma=Qt,hl=!0}return qs[Re]=function Xr(B,q,le,Re,qe,ut,Qt){return vs.apply(this,arguments)}(B,sl,ga,q,ma,Bo,le),new Ro(B)}function ai(){return yi.apply(this,arguments)}function yi(){return(yi=(0,ve.Z)(function*(){if((0,Me.ru)()||!(0,Me.zI)()||!(0,Me.hl)())return!1;try{return yield(0,Me.eu)()}catch{return!1}})).apply(this,arguments)}const Uo="@firebase/analytics";!function Ds(){(0,X.Xd)(new He.wA(Ll,(q,{options:le})=>ms(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),le),"PUBLIC")),(0,X.Xd)(new He.wA("analytics-internal",function B(q){try{const le=q.getProvider(Ll).getImmediate();return{logEvent:(Re,qe,ut)=>function Fa(B,q,le,Re){B=(0,Me.m9)(B),function R(B,q,le,Re,qe){return L.apply(this,arguments)}(ol,qs[B.app.options.appId],q,le,Re).catch(qe=>Sr.error(qe))}(le,Re,qe,ut)}}catch(le){throw Vo.create("interop-component-reg-failed",{reason:le})}},"PRIVATE")),(0,X.KN)(Uo,"0.10.0"),(0,X.KN)(Uo,"0.10.0","esm2017")}();var wc=Y(1954),Yo=Y(2631);const Bd=new class _h extends Yo.v{}(class al extends wc.o{constructor(q,le){super(q,le),this.scheduler=q,this.work=le}schedule(q,le=0){return le>0?super.schedule(q,le):(this.delay=le,this.state=q,this.scheduler.flush(this),this)}execute(q,le){return le>0||this.closed?super.execute(q,le):this._execute(q,le)}requestAsyncId(q,le,Re=0){return null!=Re&&Re>0||null==Re&&this.delay>0?super.requestAsyncId(q,le,Re):(q.flush(this),0)}});var Nu=Y(6321),Zo=Y(5592),jo=Y(9397),xo=Y(5137),bc=Y(3093);const Wc=new d.GfV("7.6.1"),Cl="__angularfire_symbol__analyticsIsSupportedValue",qc="__angularfire_symbol__analyticsIsSupported",Jo="__angularfire_symbol__remoteConfigIsSupportedValue",Ul="__angularfire_symbol__remoteConfigIsSupported",Kc="__angularfire_symbol__messagingIsSupportedValue",jl="__angularfire_symbol__messagingIsSupported";function cc(B,q,le){if(q){if(1===q.length)return q[0];const ut=q.filter(Qt=>Qt.app===le);if(1===ut.length)return ut[0]}return le.container.getProvider(B).getImmediate({optional:!0})}globalThis[qc]||(globalThis[qc]=ai().then(B=>globalThis[Cl]=B).catch(()=>globalThis[Cl]=!1)),globalThis[jl]||(globalThis[jl]=Cs().then(B=>globalThis[Kc]=B).catch(()=>globalThis[Kc]=!1)),globalThis[Ul]||(globalThis[Ul]=io().then(B=>globalThis[Jo]=B).catch(()=>globalThis[Jo]=!1));const Xu=(B,q)=>{const le=q?[q]:(0,fe.C6)(),Re=[];return le.forEach(qe=>{qe.container.getProvider(B).instances.forEach(Qt=>{Re.includes(Qt)||Re.push(Qt)})}),Re};function Ic(){}class Jl{constructor(q,le=Bd){this.zone=q,this.delegate=le}now(){return this.delegate.now()}schedule(q,le,Re){const qe=this.zone;return this.delegate.schedule(function(Qt){qe.runGuarded(()=>{q.apply(this,[Qt])})},le,Re)}}class ed{constructor(q){this.zone=q,this.task=null}call(q,le){const Re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ic,{},Ic,Ic)),le.pipe((0,jo.b)({next:Re,complete:Re,error:Re})).subscribe(q).add(Re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let $o=(()=>{class B{constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new Jl(Zone.current)),this.insideAngular=le.run(()=>new Jl(Zone.current,Nu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(le){return new(le||B)(d.LFG(d.R0b))},B.\u0275prov=d.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function fu(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function uc(B){return fu().ngZone.run(()=>B())}function nd(B){return fu(),function ku(B){return function(le){return(le=le.lift(new ed(B.ngZone))).pipe((0,xo.R)(B.outsideAngular),(0,bc.Q)(B.insideAngular))}}(fu())(B)}const Tu=(B,q)=>function(){const Re=arguments;return q&&setTimeout(()=>{"scheduled"===q.state&&q.invoke()},10),uc(()=>B.apply(void 0,Re))},Yc=(B,q)=>function(){let le;const Re=arguments;for(let ut=0;ut<arguments.length;ut++)"function"==typeof Re[ut]&&(q&&(le||(le=uc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ic,{},Ic,Ic)))),Re[ut]=Tu(Re[ut],le));const qe=function td(B){return fu().ngZone.runOutsideAngular(()=>B())}(()=>B.apply(this,Re));if(!q){if(qe instanceof Zo.y){const ut=fu();return qe.pipe((0,xo.R)(ut.outsideAngular),(0,bc.Q)(ut.insideAngular))}return uc(()=>qe)}return qe instanceof Zo.y?qe.pipe(nd):qe instanceof Promise?uc(()=>new Promise((ut,Qt)=>qe.then(rr=>uc(()=>ut(rr)),rr=>uc(()=>Qt(rr))))):"function"==typeof qe&&le?function(){return setTimeout(()=>{le&&"scheduled"===le.state&&le.invoke()},10),qe.apply(this,arguments)}:uc(()=>qe)}},6710:(Pn,_t,Y)=>{Y.d(_t,{$:()=>ha,A:()=>Ae,D:()=>ze,I:()=>Ja,J:()=>Gt,L:()=>wn,N:()=>En,P:()=>Xr,Q:()=>ya,R:()=>C,U:()=>va,V:()=>io,W:()=>Hs,X:()=>Ms,Y:()=>vl,Z:()=>Ji,_:()=>vo,a:()=>Do,a0:()=>Nl,a1:()=>es,a2:()=>Z,a3:()=>ks,a4:()=>Fo,a5:()=>Zs,a6:()=>ao,a7:()=>sa,a8:()=>pa,a9:()=>$a,aA:()=>xe,aB:()=>qc,aC:()=>Et,aD:()=>ar,aE:()=>jo,aF:()=>Ec,aG:()=>Mu,aH:()=>$n,aL:()=>Gc,aO:()=>yo,aa:()=>Ia,ab:()=>Pa,ac:()=>cl,ad:()=>Tl,ae:()=>bi,af:()=>qo,ai:()=>oa,aj:()=>aa,ak:()=>Yl,an:()=>zo,ao:()=>Pe,aq:()=>Un,ar:()=>Ei,as:()=>hn,at:()=>xn,au:()=>Vt,av:()=>Xe,aw:()=>qr,ax:()=>jl,ay:()=>oi,az:()=>Tt,b:()=>Lt,c:()=>ol,d:()=>ms,e:()=>Bl,f:()=>Uo,g:()=>_h,h:()=>wc,i:()=>wo,j:()=>Nu,k:()=>$l,l:()=>ye,m:()=>Fc,o:()=>Fh,p:()=>ct,r:()=>Ut,s:()=>j,u:()=>zr});var d=Y(5861),fe=Y(9058),ve=Y(7592),X=Y(7582),Me=Y(7879),He=Y(4537);const ct={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ze=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Jt=function ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dt=new fe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kt=new Me.Yd("@firebase/auth");function In(k,...w){Kt.logLevel<=Me.in.ERROR&&Kt.error(`Auth (${ve.SDK_VERSION}): ${k}`,...w)}function Xe(k,...w){throw Nt(k,...w)}function Tt(k,...w){return Nt(k,...w)}function gt(k,w,A){const U=Object.assign(Object.assign({},Jt()),{[w]:A});return new fe.LL("auth","Firebase",U).create(w,{appName:k.name})}function mt(k,w,A){if(!(w instanceof A))throw A.name!==w.constructor.name&&Xe(k,"argument-error"),gt(k,"argument-error",`Type of ${w.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nt(k,...w){if("string"!=typeof k){const A=w[0],U=[...w.slice(1)];return U[0]&&(U[0].appName=k.name),k._errorFactory.create(A,...U)}return dt.create(k,...w)}function xe(k,w,...A){if(!k)throw Nt(w,...A)}function Wt(k){const w="INTERNAL ASSERTION FAILED: "+k;throw In(w),new Error(w)}function hn(k,w){k||Wt(w)}function zn(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.href)||""}function Bn(){return"http:"===vn()||"https:"===vn()}function vn(){var k;return typeof self<"u"&&(null===(k=self.location)||void 0===k?void 0:k.protocol)||null}class Gn{constructor(w,A){this.shortDelay=w,this.longDelay=A,hn(A>w,"Short delay should be less than long delay!"),this.isMobile=(0,fe.uI)()||(0,fe.b$)()}get(){return function Zn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Bn()||(0,fe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ln(k,w){hn(k.emulator,"Emulator should always be set here");const{url:A}=k.emulator;return w?`${A}${w.startsWith("/")?w.slice(1):w}`:A}class Qe{static initialize(w,A,U){this.fetchImpl=w,A&&(this.headersImpl=A),U&&(this.responseImpl=U)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},wt=new Gn(3e4,6e4);function at(k,w){return k.tenantId&&!w.tenantId?Object.assign(Object.assign({},w),{tenantId:k.tenantId}):w}function Dt(k,w,A,U){return rn.apply(this,arguments)}function rn(){return(rn=(0,d.Z)(function*(k,w,A,U,ue={}){return ln(k,ue,(0,d.Z)(function*(){let be={},pt={};U&&("GET"===w?pt=U:be={body:JSON.stringify(U)});const Yt=(0,fe.xO)(Object.assign({key:k.config.apiKey},pt)).slice(1),Hn=yield k._getAdditionalHeaders();return Hn["Content-Type"]="application/json",k.languageCode&&(Hn["X-Firebase-Locale"]=k.languageCode),Qe.fetch()(_r(k,k.config.apiHost,A,Yt),Object.assign({method:w,headers:Hn,referrerPolicy:"no-referrer"},be))}))})).apply(this,arguments)}function ln(k,w,A){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(k,w,A){k._canInitEmulator=!1;const U=Object.assign(Object.assign({},rt),w);try{const ue=new Wn(k),be=yield Promise.race([A(),ue.promise]);ue.clearNetworkTimeout();const pt=yield be.json();if("needConfirmation"in pt)throw Pr(k,"account-exists-with-different-credential",pt);if(be.ok&&!("errorMessage"in pt))return pt;{const Yt=be.ok?pt.errorMessage:pt.error.message,[Hn,Kn]=Yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Hn)throw Pr(k,"credential-already-in-use",pt);if("EMAIL_EXISTS"===Hn)throw Pr(k,"email-already-in-use",pt);if("USER_DISABLED"===Hn)throw Pr(k,"user-disabled",pt);const Vr=U[Hn]||Hn.toLowerCase().replace(/[_\s]+/g,"-");if(Kn)throw gt(k,Vr,Kn);Xe(k,Vr)}}catch(ue){if(ue instanceof fe.ZR)throw ue;Xe(k,"network-request-failed",{message:String(ue)})}})).apply(this,arguments)}function Zr(k,w,A,U){return cr.apply(this,arguments)}function cr(){return(cr=(0,d.Z)(function*(k,w,A,U,ue={}){const be=yield Dt(k,w,A,U,ue);return"mfaPendingCredential"in be&&Xe(k,"multi-factor-auth-required",{_serverResponse:be}),be})).apply(this,arguments)}function _r(k,w,A,U){const ue=`${w}${A}?${U}`;return k.config.emulator?Ln(k.config,ue):`${k.config.apiScheme}://${ue}`}class Wn{constructor(w){this.auth=w,this.timer=null,this.promise=new Promise((A,U)=>{this.timer=setTimeout(()=>U(Tt(this.auth,"network-request-failed")),wt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pr(k,w,A){const U={appName:k.name};A.email&&(U.email=A.email),A.phoneNumber&&(U.phoneNumber=A.phoneNumber);const ue=Tt(k,w,U);return ue.customData._tokenResponse=A,ue}function Br(){return(Br=(0,d.Z)(function*(k,w){return Dt(k,"POST","/v1/accounts:delete",w)})).apply(this,arguments)}function Je(){return(Je=(0,d.Z)(function*(k,w){return Dt(k,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(k,w){return Dt(k,"POST","/v1/accounts:lookup",w)})).apply(this,arguments)}function xt(k){if(k)try{const w=new Date(Number(k));if(!isNaN(w.getTime()))return w.toUTCString()}catch{}}function sr(){return(sr=(0,d.Z)(function*(k,w=!1){const A=(0,fe.m9)(k),U=yield A.getIdToken(w),ue=Dn(U);xe(ue&&ue.exp&&ue.auth_time&&ue.iat,A.auth,"internal-error");const be="object"==typeof ue.firebase?ue.firebase:void 0,pt=be?.sign_in_provider;return{claims:ue,token:U,authTime:xt(pn(ue.auth_time)),issuedAtTime:xt(pn(ue.iat)),expirationTime:xt(pn(ue.exp)),signInProvider:pt||null,signInSecondFactor:be?.sign_in_second_factor||null}})).apply(this,arguments)}function pn(k){return 1e3*Number(k)}function Dn(k){const[w,A,U]=k.split(".");if(void 0===w||void 0===A||void 0===U)return In("JWT malformed, contained fewer than 3 sections"),null;try{const ue=(0,fe.tV)(A);return ue?JSON.parse(ue):(In("Failed to decode base64 JWT payload"),null)}catch(ue){return In("Caught error parsing JWT payload as JSON",ue?.toString()),null}}function yr(k,w){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(k,w,A=!1){if(A)return w;try{return yield w}catch(U){throw U instanceof fe.ZR&&function Ri({code:k}){return"auth/user-disabled"===k||"auth/user-token-expired"===k}(U)&&k.auth.currentUser===k&&(yield k.auth.signOut()),U}})).apply(this,arguments)}class Tr{constructor(w){this.user=w,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(w){var A;if(w){const U=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),U}{this.errorBackoff=3e4;const ue=(null!==(A=this.user.stsTokenManager.expirationTime)&&void 0!==A?A:0)-Date.now()-3e5;return Math.max(0,ue)}}schedule(w=!1){var A=this;if(!this.isRunning)return;const U=this.getInterval(w);this.timerId=setTimeout((0,d.Z)(function*(){yield A.iteration()}),U)}iteration(){var w=this;return(0,d.Z)(function*(){try{yield w.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===A?.code&&w.schedule(!0))}w.schedule()})()}}class ei{constructor(w,A){this.createdAt=w,this.lastLoginAt=A,this._initializeTime()}_initializeTime(){this.lastSignInTime=xt(this.lastLoginAt),this.creationTime=xt(this.createdAt)}_copy(w){this.createdAt=w.createdAt,this.lastLoginAt=w.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(k){return $r.apply(this,arguments)}function $r(){return $r=(0,d.Z)(function*(k){var w;const A=k.auth,U=yield k.getIdToken(),ue=yield yr(k,function Ct(k,w){return Ft.apply(this,arguments)}(A,{idToken:U}));xe(ue?.users.length,A,"internal-error");const be=ue.users[0];k._notifyReloadListener(be);const pt=null!==(w=be.providerUserInfo)&&void 0!==w&&w.length?function Is(k){return k.map(w=>{var{providerId:A}=w,U=(0,X._T)(w,["providerId"]);return{providerId:A,uid:U.rawId||"",displayName:U.displayName||null,email:U.email||null,phoneNumber:U.phoneNumber||null,photoURL:U.photoUrl||null}})}(be.providerUserInfo):[],Yt=function dr(k,w){return[...k.filter(U=>!w.some(ue=>ue.providerId===U.providerId)),...w]}(k.providerData,pt),Vr=!!k.isAnonymous&&!(k.email&&be.passwordHash||Yt?.length),Ui={uid:be.localId,displayName:be.displayName||null,photoURL:be.photoUrl||null,email:be.email||null,emailVerified:be.emailVerified||!1,phoneNumber:be.phoneNumber||null,tenantId:be.tenantId||null,providerData:Yt,metadata:new ei(be.createdAt,be.lastLoginAt),isAnonymous:Vr};Object.assign(k,Ui)}),$r.apply(this,arguments)}function Mr(){return(Mr=(0,d.Z)(function*(k){const w=(0,fe.m9)(k);yield ti(w),yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)})).apply(this,arguments)}function Di(){return(Di=(0,d.Z)(function*(k,w){const A=yield ln(k,{},(0,d.Z)(function*(){const U=(0,fe.xO)({grant_type:"refresh_token",refresh_token:w}).slice(1),{tokenApiHost:ue,apiKey:be}=k.config,pt=_r(k,ue,"/v1/token",`key=${be}`),Yt=yield k._getAdditionalHeaders();return Yt["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(pt,{method:"POST",headers:Yt,body:U})}));return{accessToken:A.access_token,expiresIn:A.expires_in,refreshToken:A.refresh_token}})).apply(this,arguments)}class Fi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(w){xe(w.idToken,"internal-error"),xe(typeof w.idToken<"u","internal-error"),xe(typeof w.refreshToken<"u","internal-error");const A="expiresIn"in w&&typeof w.expiresIn<"u"?Number(w.expiresIn):function or(k){const w=Dn(k);return xe(w,"internal-error"),xe(typeof w.exp<"u","internal-error"),xe(typeof w.iat<"u","internal-error"),Number(w.exp)-Number(w.iat)}(w.idToken);this.updateTokensAndExpiration(w.idToken,w.refreshToken,A)}getToken(w,A=!1){var U=this;return(0,d.Z)(function*(){return xe(!U.accessToken||U.refreshToken,w,"user-token-expired"),A||!U.accessToken||U.isExpired?U.refreshToken?(yield U.refresh(w,U.refreshToken),U.accessToken):null:U.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(w,A){var U=this;return(0,d.Z)(function*(){const{accessToken:ue,refreshToken:be,expiresIn:pt}=yield function Ts(k,w){return Di.apply(this,arguments)}(w,A);U.updateTokensAndExpiration(ue,be,Number(pt))})()}updateTokensAndExpiration(w,A,U){this.refreshToken=A||null,this.accessToken=w||null,this.expirationTime=Date.now()+1e3*U}static fromJSON(w,A){const{refreshToken:U,accessToken:ue,expirationTime:be}=A,pt=new Fi;return U&&(xe("string"==typeof U,"internal-error",{appName:w}),pt.refreshToken=U),ue&&(xe("string"==typeof ue,"internal-error",{appName:w}),pt.accessToken=ue),be&&(xe("number"==typeof be,"internal-error",{appName:w}),pt.expirationTime=be),pt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(w){this.accessToken=w.accessToken,this.refreshToken=w.refreshToken,this.expirationTime=w.expirationTime}_clone(){return Object.assign(new Fi,this.toJSON())}_performRefresh(){return Wt("not implemented")}}function yt(k,w){xe("string"==typeof k||typeof k>"u","internal-error",{appName:w})}class Ge{constructor(w){var{uid:A,auth:U,stsTokenManager:ue}=w,be=(0,X._T)(w,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=A,this.auth=U,this.stsTokenManager=ue,this.accessToken=ue.accessToken,this.displayName=be.displayName||null,this.email=be.email||null,this.emailVerified=be.emailVerified||!1,this.phoneNumber=be.phoneNumber||null,this.photoURL=be.photoURL||null,this.isAnonymous=be.isAnonymous||!1,this.tenantId=be.tenantId||null,this.providerData=be.providerData?[...be.providerData]:[],this.metadata=new ei(be.createdAt||void 0,be.lastLoginAt||void 0)}getIdToken(w){var A=this;return(0,d.Z)(function*(){const U=yield yr(A,A.stsTokenManager.getToken(A.auth,w));return xe(U,A.auth,"internal-error"),A.accessToken!==U&&(A.accessToken=U,yield A.auth._persistUserIfCurrent(A),A.auth._notifyListenersIfCurrent(A)),U})()}getIdTokenResult(w){return function br(k){return sr.apply(this,arguments)}(this,w)}reload(){return function Yi(k){return Mr.apply(this,arguments)}(this)}_assign(w){this!==w&&(xe(this.uid===w.uid,this.auth,"internal-error"),this.displayName=w.displayName,this.photoURL=w.photoURL,this.email=w.email,this.emailVerified=w.emailVerified,this.phoneNumber=w.phoneNumber,this.isAnonymous=w.isAnonymous,this.tenantId=w.tenantId,this.providerData=w.providerData.map(A=>Object.assign({},A)),this.metadata._copy(w.metadata),this.stsTokenManager._assign(w.stsTokenManager))}_clone(w){const A=new Ge(Object.assign(Object.assign({},this),{auth:w,stsTokenManager:this.stsTokenManager._clone()}));return A.metadata._copy(this.metadata),A}_onReload(w){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=w,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(w){this.reloadListener?this.reloadListener(w):this.reloadUserInfo=w}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(w,A=!1){var U=this;return(0,d.Z)(function*(){let ue=!1;w.idToken&&w.idToken!==U.stsTokenManager.accessToken&&(U.stsTokenManager.updateFromServerResponse(w),ue=!0),A&&(yield ti(U)),yield U.auth._persistUserIfCurrent(U),ue&&U.auth._notifyListenersIfCurrent(U)})()}delete(){var w=this;return(0,d.Z)(function*(){const A=yield w.getIdToken();return yield yr(w,function Fn(k,w){return Br.apply(this,arguments)}(w.auth,{idToken:A})),w.stsTokenManager.clearRefreshToken(),w.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(w=>Object.assign({},w)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(w,A){var U,ue,be,pt,Yt,Hn,Kn,Vr;const Ui=null!==(U=A.displayName)&&void 0!==U?U:void 0,Sa=null!==(ue=A.email)&&void 0!==ue?ue:void 0,gl=null!==(be=A.phoneNumber)&&void 0!==be?be:void 0,Cu=null!==(pt=A.photoURL)&&void 0!==pt?pt:void 0,Zc=null!==(Yt=A.tenantId)&&void 0!==Yt?Yt:void 0,Du=null!==(Hn=A._redirectEventId)&&void 0!==Hn?Hn:void 0,Tc=null!==(Kn=A.createdAt)&&void 0!==Kn?Kn:void 0,sd=null!==(Vr=A.lastLoginAt)&&void 0!==Vr?Vr:void 0,{uid:ec,emailVerified:Al,isAnonymous:Lh,providerData:Rl,stsTokenManager:yh}=A;xe(ec&&yh,w,"internal-error");const od=Fi.fromJSON(this.name,yh);xe("string"==typeof ec,w,"internal-error"),yt(Ui,w.name),yt(Sa,w.name),xe("boolean"==typeof Al,w,"internal-error"),xe("boolean"==typeof Lh,w,"internal-error"),yt(gl,w.name),yt(Cu,w.name),yt(Zc,w.name),yt(Du,w.name),yt(Tc,w.name),yt(sd,w.name);const $d=new Ge({uid:ec,auth:w,email:Sa,emailVerified:Al,displayName:Ui,isAnonymous:Lh,photoURL:Cu,phoneNumber:gl,tenantId:Zc,stsTokenManager:od,createdAt:Tc,lastLoginAt:sd});return Rl&&Array.isArray(Rl)&&($d.providerData=Rl.map(Jc=>Object.assign({},Jc))),Du&&($d._redirectEventId=Du),$d}static _fromIdTokenResponse(w,A,U=!1){return(0,d.Z)(function*(){const ue=new Fi;ue.updateFromServerResponse(A);const be=new Ge({uid:A.localId,auth:w,stsTokenManager:ue,isAnonymous:U});return yield ti(be),be})()}}const jt=new Map;function Et(k){hn(k instanceof Function,"Expected a class definition");let w=jt.get(k);return w?(hn(w instanceof k,"Instance stored in cache mismatched with class"),w):(w=new k,jt.set(k,w),w)}const En=(()=>{class k{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(A,U){var ue=this;return(0,d.Z)(function*(){ue.storage[A]=U})()}_get(A){var U=this;return(0,d.Z)(function*(){const ue=U.storage[A];return void 0===ue?null:ue})()}_remove(A){var U=this;return(0,d.Z)(function*(){delete U.storage[A]})()}_addListener(A,U){}_removeListener(A,U){}}return k.type="NONE",k})();function ar(k,w,A){return`firebase:${k}:${w}:${A}`}class Le{constructor(w,A,U){this.persistence=w,this.auth=A,this.userKey=U;const{config:ue,name:be}=this.auth;this.fullUserKey=ar(this.userKey,ue.apiKey,be),this.fullPersistenceKey=ar("persistence",ue.apiKey,be),this.boundEventHandler=A._onStorageEvent.bind(A),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(w){return this.persistence._set(this.fullUserKey,w.toJSON())}getCurrentUser(){var w=this;return(0,d.Z)(function*(){const A=yield w.persistence._get(w.fullUserKey);return A?Ge._fromJSON(w.auth,A):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(w){var A=this;return(0,d.Z)(function*(){if(A.persistence===w)return;const U=yield A.getCurrentUser();return yield A.removeCurrentUser(),A.persistence=w,U?A.setCurrentUser(U):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(w,A,U="authUser"){return(0,d.Z)(function*(){if(!A.length)return new Le(Et(En),w,U);const ue=(yield Promise.all(A.map(function(){var Kn=(0,d.Z)(function*(Vr){if(yield Vr._isAvailable())return Vr});return function(Vr){return Kn.apply(this,arguments)}}()))).filter(Kn=>Kn);let be=ue[0]||Et(En);const pt=ar(U,w.config.apiKey,w.name);let Yt=null;for(const Kn of A)try{const Vr=yield Kn._get(pt);if(Vr){const Ui=Ge._fromJSON(w,Vr);Kn!==be&&(Yt=Ui),be=Kn;break}}catch{}const Hn=ue.filter(Kn=>Kn._shouldAllowMigration);return be._shouldAllowMigration&&Hn.length?(be=Hn[0],Yt&&(yield be._set(pt,Yt.toJSON())),yield Promise.all(A.map(function(){var Kn=(0,d.Z)(function*(Vr){if(Vr!==be)try{yield Vr._remove(pt)}catch{}});return function(Vr){return Kn.apply(this,arguments)}}())),new Le(be,w,U)):new Le(be,w,U)})()}}function pe(k){const w=k.toLowerCase();if(w.includes("opera/")||w.includes("opr/")||w.includes("opios/"))return"Opera";if(We(w))return"IEMobile";if(w.includes("msie")||w.includes("trident/"))return"IE";if(w.includes("edge/"))return"Edge";if(he(w))return"Firefox";if(w.includes("silk/"))return"Silk";if(nn(w))return"Blackberry";if(Jn(w))return"Webos";if(Fe(w))return"Safari";if((w.includes("chrome/")||_e(w))&&!w.includes("edge/"))return"Chrome";if(Vt(w))return"Android";{const U=k.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===U?.length)return U[1]}return"Other"}function he(k=(0,fe.z$)()){return/firefox\//i.test(k)}function Fe(k=(0,fe.z$)()){const w=k.toLowerCase();return w.includes("safari/")&&!w.includes("chrome/")&&!w.includes("crios/")&&!w.includes("android")}function _e(k=(0,fe.z$)()){return/crios\//i.test(k)}function We(k=(0,fe.z$)()){return/iemobile/i.test(k)}function Vt(k=(0,fe.z$)()){return/android/i.test(k)}function nn(k=(0,fe.z$)()){return/blackberry/i.test(k)}function Jn(k=(0,fe.z$)()){return/webos/i.test(k)}function xn(k=(0,fe.z$)()){return/iphone|ipad|ipod/i.test(k)||/macintosh/i.test(k)&&/mobile/i.test(k)}function oi(k=(0,fe.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(k)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(k)}function ot(k=(0,fe.z$)()){return xn(k)||Vt(k)||Jn(k)||nn(k)||/windows phone/i.test(k)||We(k)}function Rt(k,w=[]){let A;switch(k){case"Browser":A=pe((0,fe.z$)());break;case"Worker":A=`${pe((0,fe.z$)())}-${k}`;break;default:A=k}const U=w.length?w.join(","):"FirebaseCore-web";return`${A}/JsCore/${ve.SDK_VERSION}/${U}`}function an(){return(an=(0,d.Z)(function*(k){return(yield Dt(k,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function sn(k,w){return qn.apply(this,arguments)}function qn(){return(qn=(0,d.Z)(function*(k,w){return Dt(k,"GET","/v2/recaptchaConfig",at(k,w))})).apply(this,arguments)}function bn(k){return void 0!==k&&void 0!==k.getResponse}function Gr(k){return void 0!==k&&void 0!==k.enterprise}class Wr{constructor(w){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===w.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=w.recaptchaKey.split("/")[3],this.emailPasswordEnabled=w.recaptchaEnforcementState.some(A=>"EMAIL_PASSWORD_PROVIDER"===A.provider&&"OFF"!==A.enforcementState)}}function Rs(k){return new Promise((w,A)=>{const U=document.createElement("script");U.setAttribute("src",k),U.onload=w,U.onerror=ue=>{const be=Tt("internal-error");be.customData=ue,A(be)},U.type="text/javascript",U.charset="UTF-8",function Gi(){var k,w;return null!==(w=null===(k=document.getElementsByTagName("head"))||void 0===k?void 0:k[0])&&void 0!==w?w:document}().appendChild(U)})}function ri(k){return`__${k}${Math.floor(1e6*Math.random())}`}class _i{constructor(w){this.type="recaptcha-enterprise",this.auth=$n(w)}verify(w="verify",A=!1){var U=this;return(0,d.Z)(function*(){function be(){return be=(0,d.Z)(function*(Yt){if(!A){if(null==Yt.tenantId&&null!=Yt._agentRecaptchaConfig)return Yt._agentRecaptchaConfig.siteKey;if(null!=Yt.tenantId&&void 0!==Yt._tenantRecaptchaConfigs[Yt.tenantId])return Yt._tenantRecaptchaConfigs[Yt.tenantId].siteKey}return new Promise(function(){var Hn=(0,d.Z)(function*(Kn,Vr){sn(Yt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ui=>{if(void 0!==Ui.recaptchaKey){const Sa=new Wr(Ui);return null==Yt.tenantId?Yt._agentRecaptchaConfig=Sa:Yt._tenantRecaptchaConfigs[Yt.tenantId]=Sa,Kn(Sa.siteKey)}Vr(new Error("recaptcha Enterprise site key undefined"))}).catch(Ui=>{Vr(Ui)})});return function(Kn,Vr){return Hn.apply(this,arguments)}}())}),be.apply(this,arguments)}function pt(Yt,Hn,Kn){const Vr=window.grecaptcha;Gr(Vr)?Vr.enterprise.ready(()=>{Vr.enterprise.execute(Yt,{action:w}).then(Ui=>{Hn(Ui)}).catch(()=>{Hn("NO_RECAPTCHA")})}):Kn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Yt,Hn)=>{(function ue(Yt){return be.apply(this,arguments)})(U.auth).then(Kn=>{if(!A&&Gr(window.grecaptcha))pt(Kn,Yt,Hn);else{if(typeof window>"u")return void Hn(new Error("RecaptchaVerifier is only supported in browser"));Rs("https://www.google.com/recaptcha/enterprise.js?render="+Kn).then(()=>{pt(Kn,Yt,Hn)}).catch(Vr=>{Hn(Vr)})}}).catch(Kn=>{Hn(Kn)})})})()}}function ni(k,w,A){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,d.Z)(function*(k,w,A,U=!1){const ue=new _i(k);let be;try{be=yield ue.verify(A)}catch{be=yield ue.verify(A,!0)}const pt=Object.assign({},w);return Object.assign(pt,U?{captchaResp:be}:{captchaResponse:be}),Object.assign(pt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(pt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),pt})).apply(this,arguments)}class Ys{constructor(w){this.auth=w,this.queue=[]}pushCallback(w,A){const U=be=>new Promise((pt,Yt)=>{try{pt(w(be))}catch(Hn){Yt(Hn)}});U.onAbort=A,this.queue.push(U);const ue=this.queue.length-1;return()=>{this.queue[ue]=()=>Promise.resolve()}}runMiddleware(w){var A=this;return(0,d.Z)(function*(){if(A.auth.currentUser===w)return;const U=[];try{for(const ue of A.queue)yield ue(w),ue.onAbort&&U.push(ue.onAbort)}catch(ue){U.reverse();for(const be of U)try{be()}catch{}throw A.auth._errorFactory.create("login-blocked",{originalMessage:ue?.message})}})()}}class hr{constructor(w,A,U,ue){this.app=w,this.heartbeatServiceProvider=A,this.appCheckServiceProvider=U,this.config=ue,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kr(this),this.idTokenSubscription=new Kr(this),this.beforeStateQueue=new Ys(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=w.name,this.clientVersion=ue.sdkClientVersion}_initializeWithPersistence(w,A){var U=this;return A&&(this._popupRedirectResolver=Et(A)),this._initializationPromise=this.queue((0,d.Z)(function*(){var ue,be;if(!U._deleted&&(U.persistenceManager=yield Le.create(U,w),!U._deleted)){if(null!==(ue=U._popupRedirectResolver)&&void 0!==ue&&ue._shouldInitProactively)try{yield U._popupRedirectResolver._initialize(U)}catch{}yield U.initializeCurrentUser(A),U.lastNotifiedUid=(null===(be=U.currentUser)||void 0===be?void 0:be.uid)||null,!U._deleted&&(U._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var w=this;return(0,d.Z)(function*(){if(w._deleted)return;const A=yield w.assertedPersistence.getCurrentUser();if(w.currentUser||A){if(w.currentUser&&A&&w.currentUser.uid===A.uid)return w._currentUser._assign(A),void(yield w.currentUser.getIdToken());yield w._updateCurrentUser(A,!0)}})()}initializeCurrentUser(w){var A=this;return(0,d.Z)(function*(){var U;const ue=yield A.assertedPersistence.getCurrentUser();let be=ue,pt=!1;if(w&&A.config.authDomain){yield A.getOrInitRedirectPersistenceManager();const Yt=null===(U=A.redirectUser)||void 0===U?void 0:U._redirectEventId,Hn=be?._redirectEventId,Kn=yield A.tryRedirectSignIn(w);(!Yt||Yt===Hn)&&Kn?.user&&(be=Kn.user,pt=!0)}if(!be)return A.directlySetCurrentUser(null);if(!be._redirectEventId){if(pt)try{yield A.beforeStateQueue.runMiddleware(be)}catch(Yt){be=ue,A._popupRedirectResolver._overrideRedirectResult(A,()=>Promise.reject(Yt))}return be?A.reloadAndSetCurrentUserOrClear(be):A.directlySetCurrentUser(null)}return xe(A._popupRedirectResolver,A,"argument-error"),yield A.getOrInitRedirectPersistenceManager(),A.redirectUser&&A.redirectUser._redirectEventId===be._redirectEventId?A.directlySetCurrentUser(be):A.reloadAndSetCurrentUserOrClear(be)})()}tryRedirectSignIn(w){var A=this;return(0,d.Z)(function*(){let U=null;try{U=yield A._popupRedirectResolver._completeRedirectFn(A,w,!0)}catch{yield A._setRedirectUser(null)}return U})()}reloadAndSetCurrentUserOrClear(w){var A=this;return(0,d.Z)(function*(){try{yield ti(w)}catch(U){if("auth/network-request-failed"!==U?.code)return A.directlySetCurrentUser(null)}return A.directlySetCurrentUser(w)})()}useDeviceLanguage(){this.languageCode=function lr(){if(typeof navigator>"u")return null;const k=navigator;return k.languages&&k.languages[0]||k.language||null}()}_delete(){var w=this;return(0,d.Z)(function*(){w._deleted=!0})()}updateCurrentUser(w){var A=this;return(0,d.Z)(function*(){const U=w?(0,fe.m9)(w):null;return U&&xe(U.auth.config.apiKey===A.config.apiKey,A,"invalid-user-token"),A._updateCurrentUser(U&&U._clone(A))})()}_updateCurrentUser(w,A=!1){var U=this;return(0,d.Z)(function*(){if(!U._deleted)return w&&xe(U.tenantId===w.tenantId,U,"tenant-id-mismatch"),A||(yield U.beforeStateQueue.runMiddleware(w)),U.queue((0,d.Z)(function*(){yield U.directlySetCurrentUser(w),U.notifyAuthListeners()}))})()}signOut(){var w=this;return(0,d.Z)(function*(){return yield w.beforeStateQueue.runMiddleware(null),(w.redirectPersistenceManager||w._popupRedirectResolver)&&(yield w._setRedirectUser(null)),w._updateCurrentUser(null,!0)})()}setPersistence(w){var A=this;return this.queue((0,d.Z)(function*(){yield A.assertedPersistence.setPersistence(Et(w))}))}initializeRecaptchaConfig(){var w=this;return(0,d.Z)(function*(){const A=yield sn(w,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),U=new Wr(A);null==w.tenantId?w._agentRecaptchaConfig=U:w._tenantRecaptchaConfigs[w.tenantId]=U,U.emailPasswordEnabled&&new _i(w).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(w){this._errorFactory=new fe.LL("auth","Firebase",w())}onAuthStateChanged(w,A,U){return this.registerStateListener(this.authStateSubscription,w,A,U)}beforeAuthStateChanged(w,A){return this.beforeStateQueue.pushCallback(w,A)}onIdTokenChanged(w,A,U){return this.registerStateListener(this.idTokenSubscription,w,A,U)}toJSON(){var w;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(w=this._currentUser)||void 0===w?void 0:w.toJSON()}}_setRedirectUser(w,A){var U=this;return(0,d.Z)(function*(){const ue=yield U.getOrInitRedirectPersistenceManager(A);return null===w?ue.removeCurrentUser():ue.setCurrentUser(w)})()}getOrInitRedirectPersistenceManager(w){var A=this;return(0,d.Z)(function*(){if(!A.redirectPersistenceManager){const U=w&&Et(w)||A._popupRedirectResolver;xe(U,A,"argument-error"),A.redirectPersistenceManager=yield Le.create(A,[Et(U._redirectPersistence)],"redirectUser"),A.redirectUser=yield A.redirectPersistenceManager.getCurrentUser()}return A.redirectPersistenceManager})()}_redirectUserForId(w){var A=this;return(0,d.Z)(function*(){var U,ue;return A._isInitialized&&(yield A.queue((0,d.Z)(function*(){}))),(null===(U=A._currentUser)||void 0===U?void 0:U._redirectEventId)===w?A._currentUser:(null===(ue=A.redirectUser)||void 0===ue?void 0:ue._redirectEventId)===w?A.redirectUser:null})()}_persistUserIfCurrent(w){var A=this;return(0,d.Z)(function*(){if(w===A.currentUser)return A.queue((0,d.Z)(function*(){return A.directlySetCurrentUser(w)}))})()}_notifyListenersIfCurrent(w){w===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var w,A;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const U=null!==(A=null===(w=this.currentUser)||void 0===w?void 0:w.uid)&&void 0!==A?A:null;this.lastNotifiedUid!==U&&(this.lastNotifiedUid=U,this.authStateSubscription.next(this.currentUser))}registerStateListener(w,A,U,ue){if(this._deleted)return()=>{};const be="function"==typeof A?A:A.next.bind(A),pt=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(pt,this,"internal-error"),pt.then(()=>be(this.currentUser)),"function"==typeof A?w.addObserver(A,U,ue):w.addObserver(A)}directlySetCurrentUser(w){var A=this;return(0,d.Z)(function*(){A.currentUser&&A.currentUser!==w&&A._currentUser._stopProactiveRefresh(),w&&A.isProactiveRefreshEnabled&&w._startProactiveRefresh(),A.currentUser=w,w?yield A.assertedPersistence.setCurrentUser(w):yield A.assertedPersistence.removeCurrentUser()})()}queue(w){return this.operations=this.operations.then(w,w),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(w){!w||this.frameworks.includes(w)||(this.frameworks.push(w),this.frameworks.sort(),this.clientVersion=Rt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var w=this;return(0,d.Z)(function*(){var A;const U={"X-Client-Version":w.clientVersion};w.app.options.appId&&(U["X-Firebase-gmpid"]=w.app.options.appId);const ue=yield null===(A=w.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===A?void 0:A.getHeartbeatsHeader();ue&&(U["X-Firebase-Client"]=ue);const be=yield w._getAppCheckToken();return be&&(U["X-Firebase-AppCheck"]=be),U})()}_getAppCheckToken(){var w=this;return(0,d.Z)(function*(){var A;const U=yield null===(A=w.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===A?void 0:A.getToken();return U?.error&&function Vn(k,...w){Kt.logLevel<=Me.in.WARN&&Kt.warn(`Auth (${ve.SDK_VERSION}): ${k}`,...w)}(`Error while retrieving App Check token: ${U.error}`),U?.token})()}}function $n(k){return(0,fe.m9)(k)}class Kr{constructor(w){this.auth=w,this.observer=null,this.addObserver=(0,fe.ne)(A=>this.observer=A)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ja(k,w,A){const U=$n(k);xe(U._canInitEmulator,U,"emulator-config-failed"),xe(/^https?:\/\//.test(w),U,"invalid-emulator-scheme");const ue=!!A?.disableWarnings,be=it(w),{host:pt,port:Yt}=function Ye(k){const w=it(k),A=/(\/\/)?([^?#/]+)/.exec(k.substr(w.length));if(!A)return{host:"",port:null};const U=A[2].split("@").pop()||"",ue=/^(\[[^\]]+\])(:|$)/.exec(U);if(ue){const be=ue[1];return{host:be,port:It(U.substr(be.length+1))}}{const[be,pt]=U.split(":");return{host:be,port:It(pt)}}}(w);U.config.emulator={url:`${be}//${pt}${null===Yt?"":`:${Yt}`}/`},U.settings.appVerificationDisabledForTesting=!0,U.emulatorConfig=Object.freeze({host:pt,port:Yt,protocol:be.replace(":",""),options:Object.freeze({disableWarnings:ue})}),ue||function Bt(){function k(){const w=document.createElement("p"),A=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",A.position="fixed",A.width="100%",A.backgroundColor="#ffffff",A.border=".1em solid #000000",A.color="#b50000",A.bottom="0px",A.left="0px",A.margin="0px",A.zIndex="10000",A.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",k):k())}()}function it(k){const w=k.indexOf(":");return w<0?"":k.substr(0,w+1)}function It(k){if(!k)return null;const w=Number(k);return isNaN(w)?null:w}class Gt{constructor(w,A){this.providerId=w,this.signInMethod=A}toJSON(){return Wt("not implemented")}_getIdTokenResponse(w){return Wt("not implemented")}_linkToIdToken(w,A){return Wt("not implemented")}_getReauthenticationResolver(w){return Wt("not implemented")}}function er(k,w){return gi.apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(k,w){return Dt(k,"POST","/v1/accounts:resetPassword",at(k,w))})).apply(this,arguments)}function di(k,w){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(k,w){return Dt(k,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(k,w){return Dt(k,"POST","/v1/accounts:update",at(k,w))})).apply(this,arguments)}function fo(k,w){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,d.Z)(function*(k,w){return Zr(k,"POST","/v1/accounts:signInWithPassword",at(k,w))})).apply(this,arguments)}function po(k,w){return La.apply(this,arguments)}function La(){return(La=(0,d.Z)(function*(k,w){return Dt(k,"POST","/v1/accounts:sendOobCode",at(k,w))})).apply(this,arguments)}function Va(){return(Va=(0,d.Z)(function*(k,w){return po(k,w)})).apply(this,arguments)}function na(k,w){return No.apply(this,arguments)}function No(){return(No=(0,d.Z)(function*(k,w){return po(k,w)})).apply(this,arguments)}function xa(k,w){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(k,w){return po(k,w)})).apply(this,arguments)}function Ci(){return(Ci=(0,d.Z)(function*(k,w){return po(k,w)})).apply(this,arguments)}function _s(){return(_s=(0,d.Z)(function*(k,w){return Zr(k,"POST","/v1/accounts:signInWithEmailLink",at(k,w))})).apply(this,arguments)}function da(){return(da=(0,d.Z)(function*(k,w){return Zr(k,"POST","/v1/accounts:signInWithEmailLink",at(k,w))})).apply(this,arguments)}class Zi extends Gt{constructor(w,A,U,ue=null){super("password",U),this._email=w,this._password=A,this._tenantId=ue}static _fromEmailAndPassword(w,A){return new Zi(w,A,"password")}static _fromEmailAndCode(w,A,U=null){return new Zi(w,A,"emailLink",U)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(w){const A="string"==typeof w?JSON.parse(w):w;if(A?.email&&A?.password){if("password"===A.signInMethod)return this._fromEmailAndPassword(A.email,A.password);if("emailLink"===A.signInMethod)return this._fromEmailAndCode(A.email,A.password,A.tenantId)}return null}_getIdTokenResponse(w){var A=this;return(0,d.Z)(function*(){var U;switch(A.signInMethod){case"password":const ue={returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(U=w._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const be=yield ni(w,ue,"signInWithPassword");return fo(w,be)}return fo(w,ue).catch(function(){var be=(0,d.Z)(function*(pt){if("auth/missing-recaptcha-token"===pt.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Yt=yield ni(w,ue,"signInWithPassword");return fo(w,Yt)}return Promise.reject(pt)});return function(pt){return be.apply(this,arguments)}}());case"emailLink":return function Hr(k,w){return _s.apply(this,arguments)}(w,{email:A._email,oobCode:A._password});default:Xe(w,"internal-error")}})()}_linkToIdToken(w,A){var U=this;return(0,d.Z)(function*(){switch(U.signInMethod){case"password":return di(w,{idToken:A,returnSecureToken:!0,email:U._email,password:U._password});case"emailLink":return function ra(k,w){return da.apply(this,arguments)}(w,{idToken:A,email:U._email,oobCode:U._password});default:Xe(w,"internal-error")}})()}_getReauthenticationResolver(w){return this._getIdTokenResponse(w)}}function Mi(k,w){return ji.apply(this,arguments)}function ji(){return(ji=(0,d.Z)(function*(k,w){return Zr(k,"POST","/v1/accounts:signInWithIdp",at(k,w))})).apply(this,arguments)}class wn extends Gt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(w){const A=new wn(w.providerId,w.signInMethod);return w.idToken||w.accessToken?(w.idToken&&(A.idToken=w.idToken),w.accessToken&&(A.accessToken=w.accessToken),w.nonce&&!w.pendingToken&&(A.nonce=w.nonce),w.pendingToken&&(A.pendingToken=w.pendingToken)):w.oauthToken&&w.oauthTokenSecret?(A.accessToken=w.oauthToken,A.secret=w.oauthTokenSecret):Xe("argument-error"),A}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(w){const A="string"==typeof w?JSON.parse(w):w,{providerId:U,signInMethod:ue}=A,be=(0,X._T)(A,["providerId","signInMethod"]);if(!U||!ue)return null;const pt=new wn(U,ue);return pt.idToken=be.idToken||void 0,pt.accessToken=be.accessToken||void 0,pt.secret=be.secret,pt.nonce=be.nonce,pt.pendingToken=be.pendingToken||null,pt}_getIdTokenResponse(w){return Mi(w,this.buildRequest())}_linkToIdToken(w,A){const U=this.buildRequest();return U.idToken=A,Mi(w,U)}_getReauthenticationResolver(w){const A=this.buildRequest();return A.autoCreate=!1,Mi(w,A)}buildRequest(){const w={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)w.pendingToken=this.pendingToken;else{const A={};this.idToken&&(A.id_token=this.idToken),this.accessToken&&(A.access_token=this.accessToken),this.secret&&(A.oauth_token_secret=this.secret),A.providerId=this.providerId,this.nonce&&!this.pendingToken&&(A.nonce=this.nonce),w.postBody=(0,fe.xO)(A)}return w}}function Ai(){return(Ai=(0,d.Z)(function*(k,w){return Dt(k,"POST","/v1/accounts:sendVerificationCode",at(k,w))})).apply(this,arguments)}function ia(){return(ia=(0,d.Z)(function*(k,w){return Zr(k,"POST","/v1/accounts:signInWithPhoneNumber",at(k,w))})).apply(this,arguments)}function mo(){return(mo=(0,d.Z)(function*(k,w){const A=yield Zr(k,"POST","/v1/accounts:signInWithPhoneNumber",at(k,w));if(A.temporaryProof)throw Pr(k,"account-exists-with-different-credential",A);return A})).apply(this,arguments)}const is={USER_NOT_FOUND:"user-not-found"};function Ho(){return(Ho=(0,d.Z)(function*(k,w){return Zr(k,"POST","/v1/accounts:signInWithPhoneNumber",at(k,Object.assign(Object.assign({},w),{operation:"REAUTH"})),is)})).apply(this,arguments)}class Rr extends Gt{constructor(w){super("phone","phone"),this.params=w}static _fromVerification(w,A){return new Rr({verificationId:w,verificationCode:A})}static _fromTokenResponse(w,A){return new Rr({phoneNumber:w,temporaryProof:A})}_getIdTokenResponse(w){return function Nr(k,w){return ia.apply(this,arguments)}(w,this._makeVerificationRequest())}_linkToIdToken(w,A){return function Vi(k,w){return mo.apply(this,arguments)}(w,Object.assign({idToken:A},this._makeVerificationRequest()))}_getReauthenticationResolver(w){return function Us(k,w){return Ho.apply(this,arguments)}(w,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:w,phoneNumber:A,verificationId:U,verificationCode:ue}=this.params;return w&&A?{temporaryProof:w,phoneNumber:A}:{sessionInfo:U,code:ue}}toJSON(){const w={providerId:this.providerId};return this.params.phoneNumber&&(w.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(w.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(w.verificationCode=this.params.verificationCode),this.params.verificationId&&(w.verificationId=this.params.verificationId),w}static fromJSON(w){"string"==typeof w&&(w=JSON.parse(w));const{verificationId:A,verificationCode:U,phoneNumber:ue,temporaryProof:be}=w;return U||A||ue||be?new Rr({verificationId:A,verificationCode:U,phoneNumber:ue,temporaryProof:be}):null}}class _o{constructor(w){var A,U,ue,be,pt,Yt;const Hn=(0,fe.zd)((0,fe.pd)(w)),Kn=null!==(A=Hn.apiKey)&&void 0!==A?A:null,Vr=null!==(U=Hn.oobCode)&&void 0!==U?U:null,Ui=function ko(k){switch(k){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ue=Hn.mode)&&void 0!==ue?ue:null);xe(Kn&&Vr&&Ui,"argument-error"),this.apiKey=Kn,this.operation=Ui,this.code=Vr,this.continueUrl=null!==(be=Hn.continueUrl)&&void 0!==be?be:null,this.languageCode=null!==(pt=Hn.languageCode)&&void 0!==pt?pt:null,this.tenantId=null!==(Yt=Hn.tenantId)&&void 0!==Yt?Yt:null}static parseLink(w){const A=function el(k){const w=(0,fe.zd)((0,fe.pd)(k)).link,A=w?(0,fe.zd)((0,fe.pd)(w)).deep_link_id:null,U=(0,fe.zd)((0,fe.pd)(k)).deep_link_id;return(U?(0,fe.zd)((0,fe.pd)(U)).link:null)||U||A||w||k}(w);try{return new _o(A)}catch{return null}}}let ya=(()=>{class k{constructor(){this.providerId=k.PROVIDER_ID}static credential(A,U){return Zi._fromEmailAndPassword(A,U)}static credentialWithLink(A,U){const ue=_o.parseLink(U);return xe(ue,"argument-error"),Zi._fromEmailAndCode(A,ue.code,ue.tenantId)}}return k.PROVIDER_ID="password",k.EMAIL_PASSWORD_SIGN_IN_METHOD="password",k.EMAIL_LINK_SIGN_IN_METHOD="emailLink",k})();class Gs{constructor(w){this.providerId=w,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(w){this.defaultLanguageCode=w}setCustomParameters(w){return this.customParameters=w,this}getCustomParameters(){return this.customParameters}}class xs extends Gs{constructor(){super(...arguments),this.scopes=[]}addScope(w){return this.scopes.includes(w)||this.scopes.push(w),this}getScopes(){return[...this.scopes]}}class Ms extends xs{static credentialFromJSON(w){const A="string"==typeof w?JSON.parse(w):w;return xe("providerId"in A&&"signInMethod"in A,"argument-error"),wn._fromParams(A)}credential(w){return this._credential(Object.assign(Object.assign({},w),{nonce:w.rawNonce}))}_credential(w){return xe(w.idToken||w.accessToken,"argument-error"),wn._fromParams(Object.assign(Object.assign({},w),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(w){return Ms.oauthCredentialFromTaggedObject(w)}static credentialFromError(w){return Ms.oauthCredentialFromTaggedObject(w.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:A,oauthAccessToken:U,oauthTokenSecret:ue,pendingToken:be,nonce:pt,providerId:Yt}=w;if(!U&&!ue&&!A&&!be||!Yt)return null;try{return new Ms(Yt)._credential({idToken:A,accessToken:U,nonce:pt,pendingToken:be})}catch{return null}}}let va=(()=>{class k extends xs{constructor(){super("facebook.com")}static credential(A){return wn._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.FACEBOOK_SIGN_IN_METHOD,accessToken:A})}static credentialFromResult(A){return k.credentialFromTaggedObject(A)}static credentialFromError(A){return k.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A||!("oauthAccessToken"in A)||!A.oauthAccessToken)return null;try{return k.credential(A.oauthAccessToken)}catch{return null}}}return k.FACEBOOK_SIGN_IN_METHOD="facebook.com",k.PROVIDER_ID="facebook.com",k})(),io=(()=>{class k extends xs{constructor(){super("google.com"),this.addScope("profile")}static credential(A,U){return wn._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GOOGLE_SIGN_IN_METHOD,idToken:A,accessToken:U})}static credentialFromResult(A){return k.credentialFromTaggedObject(A)}static credentialFromError(A){return k.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{oauthIdToken:U,oauthAccessToken:ue}=A;if(!U&&!ue)return null;try{return k.credential(U,ue)}catch{return null}}}return k.GOOGLE_SIGN_IN_METHOD="google.com",k.PROVIDER_ID="google.com",k})(),Hs=(()=>{class k extends xs{constructor(){super("github.com")}static credential(A){return wn._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.GITHUB_SIGN_IN_METHOD,accessToken:A})}static credentialFromResult(A){return k.credentialFromTaggedObject(A)}static credentialFromError(A){return k.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A||!("oauthAccessToken"in A)||!A.oauthAccessToken)return null;try{return k.credential(A.oauthAccessToken)}catch{return null}}}return k.GITHUB_SIGN_IN_METHOD="github.com",k.PROVIDER_ID="github.com",k})();class yo extends Gt{constructor(w,A){super(w,w),this.pendingToken=A}_getIdTokenResponse(w){return Mi(w,this.buildRequest())}_linkToIdToken(w,A){const U=this.buildRequest();return U.idToken=A,Mi(w,U)}_getReauthenticationResolver(w){const A=this.buildRequest();return A.autoCreate=!1,Mi(w,A)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(w){const A="string"==typeof w?JSON.parse(w):w,{providerId:U,signInMethod:ue,pendingToken:be}=A;return U&&ue&&be&&U===ue?new yo(U,be):null}static _create(w,A){return new yo(w,A)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vl extends Gs{constructor(w){xe(w.startsWith("saml."),"argument-error"),super(w)}static credentialFromResult(w){return vl.samlCredentialFromTaggedObject(w)}static credentialFromError(w){return vl.samlCredentialFromTaggedObject(w.customData||{})}static credentialFromJSON(w){const A=yo.fromJSON(w);return xe(A,"argument-error"),A}static samlCredentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{pendingToken:A,providerId:U}=w;if(!A||!U)return null;try{return yo._create(U,A)}catch{return null}}}let Ji=(()=>{class k extends xs{constructor(){super("twitter.com")}static credential(A,U){return wn._fromParams({providerId:k.PROVIDER_ID,signInMethod:k.TWITTER_SIGN_IN_METHOD,oauthToken:A,oauthTokenSecret:U})}static credentialFromResult(A){return k.credentialFromTaggedObject(A)}static credentialFromError(A){return k.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{oauthAccessToken:U,oauthTokenSecret:ue}=A;if(!U||!ue)return null;try{return k.credential(U,ue)}catch{return null}}}return k.TWITTER_SIGN_IN_METHOD="twitter.com",k.PROVIDER_ID="twitter.com",k})();function Ba(k,w){return so.apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(k,w){return Zr(k,"POST","/v1/accounts:signUp",at(k,w))})).apply(this,arguments)}class Ns{constructor(w){this.user=w.user,this.providerId=w.providerId,this._tokenResponse=w._tokenResponse,this.operationType=w.operationType}static _fromIdTokenResponse(w,A,U,ue=!1){return(0,d.Z)(function*(){const be=yield Ge._fromIdTokenResponse(w,U,ue),pt=Ea(U);return new Ns({user:be,providerId:pt,_tokenResponse:U,operationType:A})})()}static _forOperation(w,A,U){return(0,d.Z)(function*(){yield w._updateTokensIfNecessary(U,!0);const ue=Ea(U);return new Ns({user:w,providerId:ue,_tokenResponse:U,operationType:A})})()}}function Ea(k){return k.providerId?k.providerId:"phoneNumber"in k?"phone":null}function vo(k){return ps.apply(this,arguments)}function ps(){return(ps=(0,d.Z)(function*(k){var w;const A=$n(k);if(yield A._initializationPromise,null!==(w=A.currentUser)&&void 0!==w&&w.isAnonymous)return new Ns({user:A.currentUser,providerId:null,operationType:"signIn"});const U=yield Ba(A,{returnSecureToken:!0}),ue=yield Ns._fromIdTokenResponse(A,"signIn",U,!0);return yield A._updateCurrentUser(ue.user),ue})).apply(this,arguments)}class wa extends fe.ZR{constructor(w,A,U,ue){var be;super(A.code,A.message),this.operationType=U,this.user=ue,Object.setPrototypeOf(this,wa.prototype),this.customData={appName:w.name,tenantId:null!==(be=w.tenantId)&&void 0!==be?be:void 0,_serverResponse:A.customData._serverResponse,operationType:U}}static _fromErrorAndOperation(w,A,U,ue){return new wa(w,A,U,ue)}}function gs(k,w,A,U){return("reauthenticate"===w?A._getReauthenticationResolver(k):A._getIdTokenResponse(k)).catch(be=>{throw"auth/multi-factor-auth-required"===be.code?wa._fromErrorAndOperation(k,be,w,U):be})}function Ni(k){return new Set(k.map(({providerId:w})=>w).filter(w=>!!w))}function zo(k,w){return oo.apply(this,arguments)}function oo(){return oo=(0,d.Z)(function*(k,w){const A=(0,fe.m9)(k);yield ba(!0,A,w);const{providerUserInfo:U}=yield function Ue(k,w){return Je.apply(this,arguments)}(A.auth,{idToken:yield A.getIdToken(),deleteProvider:[w]}),ue=Ni(U||[]);return A.providerData=A.providerData.filter(be=>ue.has(be.providerId)),ue.has("phone")||(A.phoneNumber=null),yield A.auth._persistUserIfCurrent(A),A}),oo.apply(this,arguments)}function Bi(k,w){return zs.apply(this,arguments)}function zs(){return(zs=(0,d.Z)(function*(k,w,A=!1){const U=yield yr(k,w._linkToIdToken(k.auth,yield k.getIdToken()),A);return Ns._forOperation(k,"link",U)})).apply(this,arguments)}function ba(k,w,A){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,d.Z)(function*(k,w,A){yield ti(w);const ue=!1===k?"provider-already-linked":"no-such-provider";xe(Ni(w.providerData).has(A)===k,w.auth,ue)})).apply(this,arguments)}function Oa(k,w){return sc.apply(this,arguments)}function sc(){return(sc=(0,d.Z)(function*(k,w,A=!1){const{auth:U}=k,ue="reauthenticate";try{const be=yield yr(k,gs(U,ue,w,k),A);xe(be.idToken,U,"internal-error");const pt=Dn(be.idToken);xe(pt,U,"internal-error");const{sub:Yt}=pt;return xe(k.uid===Yt,U,"user-mismatch"),Ns._forOperation(k,ue,be)}catch(be){throw"auth/user-not-found"===be?.code&&Xe(U,"user-mismatch"),be}})).apply(this,arguments)}function tl(k,w){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,d.Z)(function*(k,w,A=!1){const U="signIn",ue=yield gs(k,U,w),be=yield Ns._fromIdTokenResponse(k,U,ue);return A||(yield k._updateCurrentUser(be.user)),be})).apply(this,arguments)}function ha(k,w){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(k,w){return tl($n(k),w)})).apply(this,arguments)}function Nl(k,w){return fa.apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(k,w){const A=(0,fe.m9)(k);return yield ba(!1,A,w.providerId),Bi(A,w)})).apply(this,arguments)}function es(k,w){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(k,w){return Oa((0,fe.m9)(k),w)})).apply(this,arguments)}function ne(){return(ne=(0,d.Z)(function*(k,w){return Zr(k,"POST","/v1/accounts:signInWithCustomToken",at(k,w))})).apply(this,arguments)}function Z(k,w){return we.apply(this,arguments)}function we(){return we=(0,d.Z)(function*(k,w){const A=$n(k),U=yield function Eo(k,w){return ne.apply(this,arguments)}(A,{token:w,returnSecureToken:!0}),ue=yield Ns._fromIdTokenResponse(A,"signIn",U);return yield A._updateCurrentUser(ue.user),ue}),we.apply(this,arguments)}class te{constructor(w,A){this.factorId=w,this.uid=A.mfaEnrollmentId,this.enrollmentTime=new Date(A.enrolledAt).toUTCString(),this.displayName=A.displayName}static _fromServerResponse(w,A){return"phoneInfo"in A?Oe._fromServerResponse(w,A):"totpInfo"in A?mn._fromServerResponse(w,A):Xe(w,"internal-error")}}class Oe extends te{constructor(w){super("phone",w),this.phoneNumber=w.phoneInfo}static _fromServerResponse(w,A){return new Oe(A)}}class mn extends te{constructor(w){super("totp",w)}static _fromServerResponse(w,A){return new mn(A)}}function vr(k,w,A){var U;xe((null===(U=A.url)||void 0===U?void 0:U.length)>0,k,"invalid-continue-uri"),xe(typeof A.dynamicLinkDomain>"u"||A.dynamicLinkDomain.length>0,k,"invalid-dynamic-link-domain"),w.continueUrl=A.url,w.dynamicLinkDomain=A.dynamicLinkDomain,w.canHandleCodeInApp=A.handleCodeInApp,A.iOS&&(xe(A.iOS.bundleId.length>0,k,"missing-ios-bundle-id"),w.iOSBundleId=A.iOS.bundleId),A.android&&(xe(A.android.packageName.length>0,k,"missing-android-pkg-name"),w.androidInstallApp=A.android.installApp,w.androidMinimumVersionCode=A.android.minimumVersion,w.androidPackageName=A.android.packageName)}function ks(k,w,A){return zi.apply(this,arguments)}function zi(){return zi=(0,d.Z)(function*(k,w,A){var U;const ue=$n(k),be={requestType:"PASSWORD_RESET",email:w,clientType:"CLIENT_TYPE_WEB"};if(null!==(U=ue._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const pt=yield ni(ue,be,"getOobCode",!0);A&&vr(ue,pt,A),yield na(ue,pt)}else A&&vr(ue,be,A),yield na(ue,be).catch(function(){var pt=(0,d.Z)(function*(Yt){if("auth/missing-recaptcha-token"!==Yt.code)return Promise.reject(Yt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Hn=yield ni(ue,be,"getOobCode",!0);A&&vr(ue,Hn,A),yield na(ue,Hn)}});return function(Yt){return pt.apply(this,arguments)}}())}),zi.apply(this,arguments)}function Fo(k,w,A){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(k,w,A){yield er((0,fe.m9)(k),{oobCode:w,newPassword:A})})).apply(this,arguments)}function Zs(k,w){return ja.apply(this,arguments)}function ja(){return ja=(0,d.Z)(function*(k,w){yield function Xa(k,w){return Qs.apply(this,arguments)}((0,fe.m9)(k),{oobCode:w})}),ja.apply(this,arguments)}function ao(k,w){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(k,w){const A=(0,fe.m9)(k),U=yield er(A,{oobCode:w}),ue=U.requestType;switch(xe(ue,A,"internal-error"),ue){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(U.newEmail,A,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(U.mfaInfo,A,"internal-error");default:xe(U.email,A,"internal-error")}let be=null;return U.mfaInfo&&(be=te._fromServerResponse($n(A),U.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===U.requestType?U.newEmail:U.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===U.requestType?U.email:U.newEmail)||null,multiFactorInfo:be},operation:ue}})).apply(this,arguments)}function sa(k,w){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(k,w){const{data:A}=yield ao((0,fe.m9)(k),w);return A.email})).apply(this,arguments)}function pa(k,w,A){return ll.apply(this,arguments)}function ll(){return ll=(0,d.Z)(function*(k,w,A){var U;const ue=$n(k),be={returnSecureToken:!0,email:w,password:A,clientType:"CLIENT_TYPE_WEB"};let pt;if(null!==(U=ue._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const Kn=yield ni(ue,be,"signUpPassword");pt=Ba(ue,Kn)}else pt=Ba(ue,be).catch(function(){var Kn=(0,d.Z)(function*(Vr){if("auth/missing-recaptcha-token"===Vr.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ui=yield ni(ue,be,"signUpPassword");return Ba(ue,Ui)}return Promise.reject(Vr)});return function(Vr){return Kn.apply(this,arguments)}}());const Yt=yield pt.catch(Kn=>Promise.reject(Kn)),Hn=yield Ns._fromIdTokenResponse(ue,"signIn",Yt);return yield ue._updateCurrentUser(Hn.user),Hn}),ll.apply(this,arguments)}function $a(k,w,A){return ha((0,fe.m9)(k),ya.credential(w,A))}function Ia(k,w,A){return Ga.apply(this,arguments)}function Ga(){return Ga=(0,d.Z)(function*(k,w,A){var U;const ue=$n(k),be={requestType:"EMAIL_SIGNIN",email:w,clientType:"CLIENT_TYPE_WEB"};function pt(Yt,Hn){xe(Hn.handleCodeInApp,ue,"argument-error"),Hn&&vr(ue,Yt,Hn)}if(null!==(U=ue._getRecaptchaConfig())&&void 0!==U&&U.emailPasswordEnabled){const Yt=yield ni(ue,be,"getOobCode",!0);pt(Yt,A),yield xa(ue,Yt)}else pt(be,A),yield xa(ue,be).catch(function(){var Yt=(0,d.Z)(function*(Hn){if("auth/missing-recaptcha-token"!==Hn.code)return Promise.reject(Hn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Kn=yield ni(ue,be,"getOobCode",!0);pt(Kn,A),yield xa(ue,Kn)}});return function(Hn){return Yt.apply(this,arguments)}}())}),Ga.apply(this,arguments)}function Pa(k,w){const A=_o.parseLink(w);return"EMAIL_SIGNIN"===A?.operation}function cl(k,w,A){return js.apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(k,w,A){const U=(0,fe.m9)(k),ue=ya.credentialWithLink(w,A||zn());return xe(ue._tenantId===(U.tenantId||null),U,"tenant-id-mismatch"),ha(U,ue)})).apply(this,arguments)}function Fs(){return(Fs=(0,d.Z)(function*(k,w){return Dt(k,"POST","/v1/accounts:createAuthUri",at(k,w))})).apply(this,arguments)}function Tl(k,w){return nl.apply(this,arguments)}function nl(){return nl=(0,d.Z)(function*(k,w){const U={identifier:w,continueUri:Bn()?zn():"http://localhost"},{signinMethods:ue}=yield function Il(k,w){return Fs.apply(this,arguments)}((0,fe.m9)(k),U);return ue||[]}),nl.apply(this,arguments)}function bi(k,w){return Js.apply(this,arguments)}function Js(){return Js=(0,d.Z)(function*(k,w){const A=(0,fe.m9)(k),ue={requestType:"VERIFY_EMAIL",idToken:yield k.getIdToken()};w&&vr(A.auth,ue,w);const{email:be}=yield function go(k,w){return Va.apply(this,arguments)}(A.auth,ue);be!==k.email&&(yield k.reload())}),Js.apply(this,arguments)}function qo(k,w,A){return kl.apply(this,arguments)}function kl(){return kl=(0,d.Z)(function*(k,w,A){const U=(0,fe.m9)(k),be={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield k.getIdToken(),newEmail:w};A&&vr(U.auth,be,A);const{email:pt}=yield function us(k,w){return Ci.apply(this,arguments)}(U.auth,be);pt!==k.email&&(yield k.reload())}),kl.apply(this,arguments)}function Ha(){return(Ha=(0,d.Z)(function*(k,w){return Dt(k,"POST","/v1/accounts:update",w)})).apply(this,arguments)}function oa(k,w){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,d.Z)(function*(k,{displayName:w,photoURL:A}){if(void 0===w&&void 0===A)return;const U=(0,fe.m9)(k),be={idToken:yield U.getIdToken(),displayName:w,photoUrl:A,returnSecureToken:!0},pt=yield yr(U,function $i(k,w){return Ha.apply(this,arguments)}(U.auth,be));U.displayName=pt.displayName||null,U.photoURL=pt.photoUrl||null;const Yt=U.providerData.find(({providerId:Hn})=>"password"===Hn);Yt&&(Yt.displayName=U.displayName,Yt.photoURL=U.photoURL),yield U._updateTokensIfNecessary(pt)}),Ma.apply(this,arguments)}function aa(k,w){return Lo((0,fe.m9)(k),w,null)}function Yl(k,w){return Lo((0,fe.m9)(k),null,w)}function Lo(k,w,A){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,d.Z)(function*(k,w,A){const{auth:U}=k,be={idToken:yield k.getIdToken(),returnSecureToken:!0};w&&(be.email=w),A&&(be.password=A);const pt=yield yr(k,di(U,be));yield k._updateTokensIfNecessary(pt,!0)})).apply(this,arguments)}class Ko{constructor(w,A,U={}){this.isNewUser=w,this.providerId=A,this.profile=U}}class Na extends Ko{constructor(w,A,U,ue){super(w,A,U),this.username=ue}}class lo extends Ko{constructor(w,A){super(w,"facebook.com",A)}}class Ql extends Na{constructor(w,A){super(w,"github.com",A,"string"==typeof A?.login?A?.login:null)}}class V extends Ko{constructor(w,A){super(w,"google.com",A)}}class ee extends Na{constructor(w,A,U){super(w,"twitter.com",A,U)}}function Pe(k){const{user:w,_tokenResponse:A}=k;return w.isAnonymous&&!A?{providerId:null,isNewUser:!1,profile:null}:function ul(k){var w,A;if(!k)return null;const{providerId:U}=k,ue=k.rawUserInfo?JSON.parse(k.rawUserInfo):{},be=k.isNewUser||"identitytoolkit#SignupNewUserResponse"===k.kind;if(!U&&k?.idToken){const pt=null===(A=null===(w=Dn(k.idToken))||void 0===w?void 0:w.firebase)||void 0===A?void 0:A.sign_in_provider;if(pt)return new Ko(be,"anonymous"!==pt&&"custom"!==pt?pt:null)}if(!U)return null;switch(U){case"facebook.com":return new lo(be,ue);case"github.com":return new Ql(be,ue);case"google.com":return new V(be,ue);case"twitter.com":return new ee(be,ue,k.screenName||null);case"custom":case"anonymous":return new Ko(be,null);default:return new Ko(be,U,ue)}}(A)}class kt{constructor(w,A,U){this.type=w,this.credential=A,this.auth=U}static _fromIdtoken(w,A){return new kt("enroll",w,A)}static _fromMfaPendingCredential(w){return new kt("signin",w)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(w){var A,U;if(w?.multiFactorSession){if(null!==(A=w.multiFactorSession)&&void 0!==A&&A.pendingCredential)return kt._fromMfaPendingCredential(w.multiFactorSession.pendingCredential);if(null!==(U=w.multiFactorSession)&&void 0!==U&&U.idToken)return kt._fromIdtoken(w.multiFactorSession.idToken)}return null}}class On{constructor(w,A,U){this.session=w,this.hints=A,this.signInResolver=U}static _fromError(w,A){const U=$n(w),ue=A.customData._serverResponse,be=(ue.mfaInfo||[]).map(Yt=>te._fromServerResponse(U,Yt));xe(ue.mfaPendingCredential,U,"internal-error");const pt=kt._fromMfaPendingCredential(ue.mfaPendingCredential);return new On(pt,be,function(){var Yt=(0,d.Z)(function*(Hn){const Kn=yield Hn._process(U,pt);delete ue.mfaInfo,delete ue.mfaPendingCredential;const Vr=Object.assign(Object.assign({},ue),{idToken:Kn.idToken,refreshToken:Kn.refreshToken});switch(A.operationType){case"signIn":const Ui=yield Ns._fromIdTokenResponse(U,A.operationType,Vr);return yield U._updateCurrentUser(Ui.user),Ui;case"reauthenticate":return xe(A.user,U,"internal-error"),Ns._forOperation(A.user,A.operationType,Vr);default:Xe(U,"internal-error")}});return function(Hn){return Yt.apply(this,arguments)}}())}resolveSignIn(w){var A=this;return(0,d.Z)(function*(){return A.signInResolver(w)})()}}function Un(k,w){var A;const U=(0,fe.m9)(k),ue=w;return xe(w.customData.operationType,U,"argument-error"),xe(null===(A=ue.customData._serverResponse)||void 0===A?void 0:A.mfaPendingCredential,U,"argument-error"),On._fromError(U,ue)}class Xs{constructor(w){this.user=w,this.enrolledFactors=[],w._onReload(A=>{A.mfaInfo&&(this.enrolledFactors=A.mfaInfo.map(U=>te._fromServerResponse(w.auth,U)))})}static _fromUser(w){return new Xs(w)}getSession(){var w=this;return(0,d.Z)(function*(){return kt._fromIdtoken(yield w.user.getIdToken(),w.user.auth)})()}enroll(w,A){var U=this;return(0,d.Z)(function*(){const ue=w,be=yield U.getSession(),pt=yield yr(U.user,ue._process(U.user.auth,be,A));return yield U.user._updateTokensIfNecessary(pt),U.user.reload()})()}unenroll(w){var A=this;return(0,d.Z)(function*(){const U="string"==typeof w?w:w.uid,ue=yield A.user.getIdToken();try{const be=yield yr(A.user,function Ss(k,w){return Dt(k,"POST","/v2/accounts/mfaEnrollment:withdraw",at(k,w))}(A.user.auth,{idToken:ue,mfaEnrollmentId:U}));A.enrolledFactors=A.enrolledFactors.filter(({uid:pt})=>pt!==U),yield A.user._updateTokensIfNecessary(be),yield A.user.reload()}catch(be){throw be}})()}}const $t=new WeakMap;function Ei(k){const w=(0,fe.m9)(k);return $t.has(w)||$t.set(w,Xs._fromUser(w)),$t.get(w)}const Wi="__sak";class hs{constructor(w,A){this.storageRetriever=w,this.type=A}_isAvailable(){try{return this.storage?(this.storage.setItem(Wi,"1"),this.storage.removeItem(Wi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(w,A){return this.storage.setItem(w,JSON.stringify(A)),Promise.resolve()}_get(w){const A=this.storage.getItem(w);return Promise.resolve(A?JSON.parse(A):null)}_remove(w){return this.storage.removeItem(w),Promise.resolve()}get storage(){return this.storageRetriever()}}const Lt=(()=>{class k extends hs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(A,U)=>this.onStorageEvent(A,U),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function tr(){const k=(0,fe.z$)();return Fe(k)||xn(k)}()&&function Ve(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ot(),this._shouldAllowMigration=!0}forAllChangedKeys(A){for(const U of Object.keys(this.listeners)){const ue=this.storage.getItem(U),be=this.localCache[U];ue!==be&&A(U,be,ue)}}onStorageEvent(A,U=!1){if(!A.key)return void this.forAllChangedKeys((Yt,Hn,Kn)=>{this.notifyListeners(Yt,Kn)});const ue=A.key;if(U?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Yt=this.storage.getItem(ue);if(A.newValue!==Yt)null!==A.newValue?this.storage.setItem(ue,A.newValue):this.storage.removeItem(ue);else if(this.localCache[ue]===A.newValue&&!U)return}const be=()=>{const Yt=this.storage.getItem(ue);!U&&this.localCache[ue]===Yt||this.notifyListeners(ue,Yt)},pt=this.storage.getItem(ue);!function xi(){return(0,fe.w1)()&&10===document.documentMode}()||pt===A.newValue||A.newValue===A.oldValue?be():setTimeout(be,10)}notifyListeners(A,U){this.localCache[A]=U;const ue=this.listeners[A];if(ue)for(const be of Array.from(ue))be(U&&JSON.parse(U))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((A,U,ue)=>{this.onStorageEvent(new StorageEvent("storage",{key:A,oldValue:U,newValue:ue}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(A,U){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[A]||(this.listeners[A]=new Set,this.localCache[A]=this.storage.getItem(A)),this.listeners[A].add(U)}_removeListener(A,U){this.listeners[A]&&(this.listeners[A].delete(U),0===this.listeners[A].size&&delete this.listeners[A]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(A,U){var ue=()=>super._set,be=this;return(0,d.Z)(function*(){yield ue().call(be,A,U),be.localCache[A]=JSON.stringify(U)})()}_get(A){var U=()=>super._get,ue=this;return(0,d.Z)(function*(){const be=yield U().call(ue,A);return ue.localCache[A]=JSON.stringify(be),be})()}_remove(A){var U=()=>super._remove,ue=this;return(0,d.Z)(function*(){yield U().call(ue,A),delete ue.localCache[A]})()}}return k.type="LOCAL",k})(),Do=(()=>{class k extends hs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(A,U){}_removeListener(A,U){}}return k.type="SESSION",k})();let za=(()=>{class k{constructor(A){this.eventTarget=A,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(A){const U=this.receivers.find(be=>be.isListeningto(A));if(U)return U;const ue=new k(A);return this.receivers.push(ue),ue}isListeningto(A){return this.eventTarget===A}handleEvent(A){var U=this;return(0,d.Z)(function*(){const ue=A,{eventId:be,eventType:pt,data:Yt}=ue.data,Hn=U.handlersMap[pt];if(!Hn?.size)return;ue.ports[0].postMessage({status:"ack",eventId:be,eventType:pt});const Kn=Array.from(Hn).map(function(){var Ui=(0,d.Z)(function*(Sa){return Sa(ue.origin,Yt)});return function(Sa){return Ui.apply(this,arguments)}}()),Vr=yield function rl(k){return Promise.all(k.map(function(){var w=(0,d.Z)(function*(A){try{return{fulfilled:!0,value:yield A}}catch(U){return{fulfilled:!1,reason:U}}});return function(A){return w.apply(this,arguments)}}()))}(Kn);ue.ports[0].postMessage({status:"done",eventId:be,eventType:pt,response:Vr})})()}_subscribe(A,U){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[A]||(this.handlersMap[A]=new Set),this.handlersMap[A].add(U)}_unsubscribe(A,U){this.handlersMap[A]&&U&&this.handlersMap[A].delete(U),(!U||0===this.handlersMap[A].size)&&delete this.handlersMap[A],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return k.receivers=[],k})();function Gc(k="",w=10){let A="";for(let U=0;U<w;U++)A+=Math.floor(10*Math.random());return k+A}class md{constructor(w){this.target=w,this.handlers=new Set}removeMessageHandler(w){w.messageChannel&&(w.messageChannel.port1.removeEventListener("message",w.onMessage),w.messageChannel.port1.close()),this.handlers.delete(w)}_send(w,A,U=50){var ue=this;return(0,d.Z)(function*(){const be=typeof MessageChannel<"u"?new MessageChannel:null;if(!be)throw new Error("connection_unavailable");let pt,Yt;return new Promise((Hn,Kn)=>{const Vr=Gc("",20);be.port1.start();const Ui=setTimeout(()=>{Kn(new Error("unsupported_event"))},U);Yt={messageChannel:be,onMessage(Sa){const gl=Sa;if(gl.data.eventId===Vr)switch(gl.data.status){case"ack":clearTimeout(Ui),pt=setTimeout(()=>{Kn(new Error("timeout"))},3e3);break;case"done":clearTimeout(pt),Hn(gl.data.response);break;default:clearTimeout(Ui),clearTimeout(pt),Kn(new Error("invalid_response"))}}},ue.handlers.add(Yt),be.port1.addEventListener("message",Yt.onMessage),ue.target.postMessage({eventType:w,eventId:Vr,data:A},[be.port2])}).finally(()=>{Yt&&ue.removeMessageHandler(Yt)})})()}}function Ao(){return window}function Oc(){return typeof Ao().WorkerGlobalScope<"u"&&"function"==typeof Ao().importScripts}function oc(){return(oc=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Sr="firebaseLocalStorageDb",Vo="firebaseLocalStorage",ss="fbase_key";class Cr{constructor(w){this.request=w}toPromise(){return new Promise((w,A)=>{this.request.addEventListener("success",()=>{w(this.request.result)}),this.request.addEventListener("error",()=>{A(this.request.error)})})}}function El(k,w){return k.transaction([Vo],w?"readwrite":"readonly").objectStore(Vo)}function bu(){const k=indexedDB.open(Sr,1);return new Promise((w,A)=>{k.addEventListener("error",()=>{A(k.error)}),k.addEventListener("upgradeneeded",()=>{const U=k.result;try{U.createObjectStore(Vo,{keyPath:ss})}catch(ue){A(ue)}}),k.addEventListener("success",(0,d.Z)(function*(){const U=k.result;U.objectStoreNames.contains(Vo)?w(U):(U.close(),yield function os(){const k=indexedDB.deleteDatabase(Sr);return new Cr(k).toPromise()}(),w(yield bu()))}))})}function eo(k,w,A){return ht.apply(this,arguments)}function ht(){return(ht=(0,d.Z)(function*(k,w,A){const U=El(k,!0).put({[ss]:w,value:A});return new Cr(U).toPromise()})).apply(this,arguments)}function yc(){return(yc=(0,d.Z)(function*(k,w){const A=El(k,!1).get(w),U=yield new Cr(A).toPromise();return void 0===U?null:U.value})).apply(this,arguments)}function Wa(k,w){const A=El(k,!0).delete(w);return new Cr(A).toPromise()}const wo=(()=>{class k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var A=this;return(0,d.Z)(function*(){return A.db||(A.db=yield bu()),A.db})()}_withRetries(A){var U=this;return(0,d.Z)(function*(){let ue=0;for(;;)try{const be=yield U._openDb();return yield A(be)}catch(be){if(ue++>3)throw be;U.db&&(U.db.close(),U.db=void 0)}})()}initializeServiceWorkerMessaging(){var A=this;return(0,d.Z)(function*(){return Oc()?A.initializeReceiver():A.initializeSender()})()}initializeReceiver(){var A=this;return(0,d.Z)(function*(){A.receiver=za._getInstance(function Pc(){return Oc()?self:null}()),A.receiver._subscribe("keyChanged",function(){var U=(0,d.Z)(function*(ue,be){return{keyProcessed:(yield A._poll()).includes(be.key)}});return function(ue,be){return U.apply(this,arguments)}}()),A.receiver._subscribe("ping",function(){var U=(0,d.Z)(function*(ue,be){return["keyChanged"]});return function(ue,be){return U.apply(this,arguments)}}())})()}initializeSender(){var A=this;return(0,d.Z)(function*(){var U,ue;if(A.activeServiceWorker=yield function mi(){return oc.apply(this,arguments)}(),!A.activeServiceWorker)return;A.sender=new md(A.activeServiceWorker);const be=yield A.sender._send("ping",{},800);be&&null!==(U=be[0])&&void 0!==U&&U.fulfilled&&null!==(ue=be[0])&&void 0!==ue&&ue.value.includes("keyChanged")&&(A.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(A){var U=this;return(0,d.Z)(function*(){if(U.sender&&U.activeServiceWorker&&function Zl(){var k;return(null===(k=navigator?.serviceWorker)||void 0===k?void 0:k.controller)||null}()===U.activeServiceWorker)try{yield U.sender._send("keyChanged",{key:A},U.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const A=yield bu();return yield eo(A,Wi,"1"),yield Wa(A,Wi),!0}catch{}return!1})()}_withPendingWrite(A){var U=this;return(0,d.Z)(function*(){U.pendingWrites++;try{yield A()}finally{U.pendingWrites--}})()}_set(A,U){var ue=this;return(0,d.Z)(function*(){return ue._withPendingWrite((0,d.Z)(function*(){return yield ue._withRetries(be=>eo(be,A,U)),ue.localCache[A]=U,ue.notifyServiceWorker(A)}))})()}_get(A){var U=this;return(0,d.Z)(function*(){const ue=yield U._withRetries(be=>function ki(k,w){return yc.apply(this,arguments)}(be,A));return U.localCache[A]=ue,ue})()}_remove(A){var U=this;return(0,d.Z)(function*(){return U._withPendingWrite((0,d.Z)(function*(){return yield U._withRetries(ue=>Wa(ue,A)),delete U.localCache[A],U.notifyServiceWorker(A)}))})()}_poll(){var A=this;return(0,d.Z)(function*(){const U=yield A._withRetries(pt=>{const Yt=El(pt,!1).getAll();return new Cr(Yt).toPromise()});if(!U)return[];if(0!==A.pendingWrites)return[];const ue=[],be=new Set;for(const{fbase_key:pt,value:Yt}of U)be.add(pt),JSON.stringify(A.localCache[pt])!==JSON.stringify(Yt)&&(A.notifyListeners(pt,Yt),ue.push(pt));for(const pt of Object.keys(A.localCache))A.localCache[pt]&&!be.has(pt)&&(A.notifyListeners(pt,null),ue.push(pt));return ue})()}notifyListeners(A,U){this.localCache[A]=U;const ue=this.listeners[A];if(ue)for(const be of Array.from(ue))be(U)}startPolling(){var A=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return A._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(A,U){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[A]||(this.listeners[A]=new Set,this._get(A)),this.listeners[A].add(U)}_removeListener(A,U){this.listeners[A]&&(this.listeners[A].delete(U),0===this.listeners[A].size&&delete this.listeners[A]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return k.type="LOCAL",k})(),bo=1e12;class Io{constructor(w){this.auth=w,this.counter=bo,this._widgets=new Map}render(w,A){const U=this.counter;return this._widgets.set(U,new du(w,this.auth.name,A||{})),this.counter++,U}reset(w){var A;const U=w||bo;null===(A=this._widgets.get(U))||void 0===A||A.delete(),this._widgets.delete(U)}getResponse(w){var A;return(null===(A=this._widgets.get(w||bo))||void 0===A?void 0:A.getResponse())||""}execute(w){var A=this;return(0,d.Z)(function*(){var U;return null===(U=A._widgets.get(w||bo))||void 0===U||U.execute(),""})()}}class du{constructor(w,A,U){this.params=U,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ue="string"==typeof w?document.getElementById(w):w;xe(ue,"argument-error",{appName:A}),this.container=ue,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bt(k){const w=[],A="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<k;U++)w.push(A.charAt(Math.floor(62*Math.random())));return w.join("")}(50);const{callback:w,"expired-callback":A}=this.params;if(w)try{w(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,A)try{A()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ta=ri("rcb"),Vl=new Gn(3e4,6e4);class oe{constructor(){var w;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(w=Ao().grecaptcha)||void 0===w||!w.render)}load(w,A=""){return xe(function R(k){return k.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(k)}(A),w,"argument-error"),this.shouldResolveImmediately(A)&&bn(Ao().grecaptcha)?Promise.resolve(Ao().grecaptcha):new Promise((U,ue)=>{const be=Ao().setTimeout(()=>{ue(Tt(w,"network-request-failed"))},Vl.get());Ao()[Ta]=()=>{Ao().clearTimeout(be),delete Ao()[Ta];const Yt=Ao().grecaptcha;if(!Yt||!bn(Yt))return void ue(Tt(w,"internal-error"));const Hn=Yt.render;Yt.render=(Kn,Vr)=>{const Ui=Hn(Kn,Vr);return this.counter++,Ui},this.hostLanguage=A,U(Yt)},Rs(`https://www.google.com/recaptcha/api.js??${(0,fe.xO)({onload:Ta,render:"explicit",hl:A})}`).catch(()=>{clearTimeout(be),ue(Tt(w,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(w){var A;return!(null===(A=Ao().grecaptcha)||void 0===A||!A.render)&&(w===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class L{load(w){return(0,d.Z)(function*(){return new Io(w)})()}clearedOneInstance(){}}const W="recaptcha",E={theme:"light",type:"image"};class C{constructor(w,A=Object.assign({},E),U){this.parameters=A,this.type=W,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(U),this.isInvisible="invisible"===this.parameters.size,xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ue="string"==typeof w?document.getElementById(w):w;xe(ue,this.auth,"argument-error"),this.container=ue,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new L:new oe,this.validateStartingState()}verify(){var w=this;return(0,d.Z)(function*(){w.assertNotDestroyed();const A=yield w.render(),U=w.getAssertedRecaptcha();return U.getResponse(A)||new Promise(be=>{const pt=Yt=>{Yt&&(w.tokenChangeListeners.delete(pt),be(Yt))};w.tokenChangeListeners.add(pt),w.isInvisible&&U.execute(A)})})()}render(){try{this.assertNotDestroyed()}catch(w){return Promise.reject(w)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(w=>{throw this.renderPromise=null,w})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(w=>{this.container.removeChild(w)})}validateStartingState(){xe(!this.parameters.sitekey,this.auth,"argument-error"),xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(w){return A=>{if(this.tokenChangeListeners.forEach(U=>U(A)),"function"==typeof w)w(A);else if("string"==typeof w){const U=Ao()[w];"function"==typeof U&&U(A)}}}assertNotDestroyed(){xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var w=this;return(0,d.Z)(function*(){if(yield w.init(),!w.widgetId){let A=w.container;if(!w.isInvisible){const U=document.createElement("div");A.appendChild(U),A=U}w.widgetId=w.getAssertedRecaptcha().render(A,w.parameters)}return w.widgetId})()}init(){var w=this;return(0,d.Z)(function*(){xe(Bn()&&!Oc(),w.auth,"internal-error"),yield function M(){let k=null;return new Promise(w=>{"complete"!==document.readyState?(k=()=>w(),window.addEventListener("load",k)):w()}).catch(w=>{throw k&&window.removeEventListener("load",k),w})}(),w.recaptcha=yield w._recaptchaLoader.load(w.auth,w.auth.languageCode||void 0);const A=yield function Ot(k){return an.apply(this,arguments)}(w.auth);xe(A,w.auth,"internal-error"),w.parameters.sitekey=A})()}getAssertedRecaptcha(){return xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class O{constructor(w,A){this.verificationId=w,this.onConfirmation=A}confirm(w){const A=Rr._fromVerification(this.verificationId,w);return this.onConfirmation(A)}}function j(k,w,A){return re.apply(this,arguments)}function re(){return(re=(0,d.Z)(function*(k,w,A){const U=$n(k),ue=yield dn(U,w,(0,fe.m9)(A));return new O(ue,be=>ha(U,be))})).apply(this,arguments)}function ye(k,w,A){return je.apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(k,w,A){const U=(0,fe.m9)(k);yield ba(!1,U,"phone");const ue=yield dn(U.auth,w,(0,fe.m9)(A));return new O(ue,be=>Nl(U,be))})).apply(this,arguments)}function Ut(k,w,A){return vt.apply(this,arguments)}function vt(){return(vt=(0,d.Z)(function*(k,w,A){const U=(0,fe.m9)(k),ue=yield dn(U.auth,w,(0,fe.m9)(A));return new O(ue,be=>es(U,be))})).apply(this,arguments)}function dn(k,w,A){return Cn.apply(this,arguments)}function Cn(){return Cn=(0,d.Z)(function*(k,w,A){var U;const ue=yield A.verify();try{let be;if(xe("string"==typeof ue,k,"argument-error"),xe(A.type===W,k,"argument-error"),be="string"==typeof w?{phoneNumber:w}:w,"session"in be){const pt=be.session;if("phoneNumber"in be)return xe("enroll"===pt.type,k,"internal-error"),(yield function nr(k,w){return Dt(k,"POST","/v2/accounts/mfaEnrollment:start",at(k,w))}(k,{idToken:pt.credential,phoneEnrollmentInfo:{phoneNumber:be.phoneNumber,recaptchaToken:ue}})).phoneSessionInfo.sessionInfo;{xe("signin"===pt.type,k,"internal-error");const Yt=(null===(U=be.multiFactorHint)||void 0===U?void 0:U.uid)||be.multiFactorUid;return xe(Yt,k,"missing-multi-factor-info"),(yield function Mc(k,w){return Dt(k,"POST","/v2/accounts/mfaSignIn:start",at(k,w))}(k,{mfaPendingCredential:pt.credential,mfaEnrollmentId:Yt,phoneSignInInfo:{recaptchaToken:ue}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:pt}=yield function Yr(k,w){return Ai.apply(this,arguments)}(k,{phoneNumber:be.phoneNumber,recaptchaToken:ue});return pt}}finally{A._reset()}}),Cn.apply(this,arguments)}function zr(k,w){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(k,w){yield Bi((0,fe.m9)(k),w)})).apply(this,arguments)}let Xr=(()=>{class k{constructor(A){this.providerId=k.PROVIDER_ID,this.auth=$n(A)}verifyPhoneNumber(A,U){return dn(this.auth,A,(0,fe.m9)(U))}static credential(A,U){return Rr._fromVerification(A,U)}static credentialFromResult(A){return k.credentialFromTaggedObject(A)}static credentialFromError(A){return k.credentialFromTaggedObject(A.customData||{})}static credentialFromTaggedObject({_tokenResponse:A}){if(!A)return null;const{phoneNumber:U,temporaryProof:ue}=A;return U&&ue?Rr._fromTokenResponse(U,ue):null}}return k.PROVIDER_ID="phone",k.PHONE_SIGN_IN_METHOD="phone",k})();function vs(k,w){return w?Et(w):(xe(k._popupRedirectResolver,k,"argument-error"),k._popupRedirectResolver)}class Ro extends Gt{constructor(w){super("custom","custom"),this.params=w}_getIdTokenResponse(w){return Mi(w,this._buildIdpRequest())}_linkToIdToken(w,A){return Mi(w,this._buildIdpRequest(A))}_getReauthenticationResolver(w){return Mi(w,this._buildIdpRequest())}_buildIdpRequest(w){const A={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return w&&(A.idToken=w),A}}function qs(k){return tl(k.auth,new Ro(k),k.bypassAuthState)}function sl(k){const{auth:w,user:A}=k;return xe(A,w,"internal-error"),Oa(A,new Ro(k),k.bypassAuthState)}function ga(k){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,d.Z)(function*(k){const{auth:w,user:A}=k;return xe(A,w,"internal-error"),Bi(A,new Ro(k),k.bypassAuthState)})).apply(this,arguments)}class dl{constructor(w,A,U,ue,be=!1){this.auth=w,this.resolver=U,this.user=ue,this.bypassAuthState=be,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(A)?A:[A]}execute(){var w=this;return new Promise(function(){var A=(0,d.Z)(function*(U,ue){w.pendingPromise={resolve:U,reject:ue};try{w.eventManager=yield w.resolver._initialize(w.auth),yield w.onExecution(),w.eventManager.registerConsumer(w)}catch(be){w.reject(be)}});return function(U,ue){return A.apply(this,arguments)}}())}onAuthEvent(w){var A=this;return(0,d.Z)(function*(){const{urlResponse:U,sessionId:ue,postBody:be,tenantId:pt,error:Yt,type:Hn}=w;if(Yt)return void A.reject(Yt);const Kn={auth:A.auth,requestUri:U,sessionId:ue,tenantId:pt||void 0,postBody:be||void 0,user:A.user,bypassAuthState:A.bypassAuthState};try{A.resolve(yield A.getIdpTask(Hn)(Kn))}catch(Vr){A.reject(Vr)}})()}onError(w){this.reject(w)}getIdpTask(w){switch(w){case"signInViaPopup":case"signInViaRedirect":return qs;case"linkViaPopup":case"linkViaRedirect":return ga;case"reauthViaPopup":case"reauthViaRedirect":return sl;default:Xe(this.auth,"internal-error")}}resolve(w){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(w),this.unregisterAndCleanUp()}reject(w){hn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(w),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ma=new Gn(2e3,1e4);function ol(k,w,A){return hl.apply(this,arguments)}function hl(){return(hl=(0,d.Z)(function*(k,w,A){const U=$n(k);mt(k,w,Gs);const ue=vs(U,A);return new jr(U,"signInViaPopup",w,ue).executeNotNull()})).apply(this,arguments)}function Bl(k,w,A){return lc.apply(this,arguments)}function lc(){return(lc=(0,d.Z)(function*(k,w,A){const U=(0,fe.m9)(k);mt(U.auth,w,Gs);const ue=vs(U.auth,A);return new jr(U.auth,"reauthViaPopup",w,ue,U).executeNotNull()})).apply(this,arguments)}function ms(k,w,A){return wr.apply(this,arguments)}function wr(){return(wr=(0,d.Z)(function*(k,w,A){const U=(0,fe.m9)(k);mt(U.auth,w,Gs);const ue=vs(U.auth,A);return new jr(U.auth,"linkViaPopup",w,ue,U).executeNotNull()})).apply(this,arguments)}let jr=(()=>{class k extends dl{constructor(A,U,ue,be,pt){super(A,U,be,pt),this.provider=ue,this.authWindow=null,this.pollId=null,k.currentPopupAction&&k.currentPopupAction.cancel(),k.currentPopupAction=this}executeNotNull(){var A=this;return(0,d.Z)(function*(){const U=yield A.execute();return xe(U,A.auth,"internal-error"),U})()}onExecution(){var A=this;return(0,d.Z)(function*(){hn(1===A.filter.length,"Popup operations only handle one event");const U=Gc();A.authWindow=yield A.resolver._openPopup(A.auth,A.provider,A.filter[0],U),A.authWindow.associatedEvent=U,A.resolver._originValidation(A.auth).catch(ue=>{A.reject(ue)}),A.resolver._isIframeWebStorageSupported(A.auth,ue=>{ue||A.reject(Tt(A.auth,"web-storage-unsupported"))}),A.pollUserCancellation()})()}get eventId(){var A;return(null===(A=this.authWindow)||void 0===A?void 0:A.associatedEvent)||null}cancel(){this.reject(Tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,k.currentPopupAction=null}pollUserCancellation(){const A=()=>{var U,ue;this.pollId=null!==(ue=null===(U=this.authWindow)||void 0===U?void 0:U.window)&&void 0!==ue&&ue.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Tt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(A,ma.get())};A()}}return k.currentPopupAction=null,k})();const ai="pendingRedirect",yi=new Map;class co extends dl{constructor(w,A,U=!1){super(w,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],A,void 0,U),this.eventId=null}execute(){var w=()=>super.execute,A=this;return(0,d.Z)(function*(){let U=yi.get(A.auth._key());if(!U){try{const be=(yield function Sl(k,w){return ka.apply(this,arguments)}(A.resolver,A.auth))?yield w().call(A):null;U=()=>Promise.resolve(be)}catch(ue){U=()=>Promise.reject(ue)}yi.set(A.auth._key(),U)}return A.bypassAuthState||yi.set(A.auth._key(),()=>Promise.resolve(null)),U()})()}onAuthEvent(w){var A=()=>super.onAuthEvent,U=this;return(0,d.Z)(function*(){if("signInViaRedirect"===w.type)return A().call(U,w);if("unknown"!==w.type){if(w.eventId){const ue=yield U.auth._redirectUserForId(w.eventId);if(ue)return U.user=ue,A().call(U,w);U.resolve(null)}}else U.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function ka(){return(ka=(0,d.Z)(function*(k,w){const A=fs(w),U=Fa(k);if(!(yield U._isAvailable()))return!1;const ue="true"===(yield U._get(A));return yield U._remove(A),ue})).apply(this,arguments)}function _a(k,w){return wi.apply(this,arguments)}function wi(){return(wi=(0,d.Z)(function*(k,w){return Fa(k)._set(fs(w),"true")})).apply(this,arguments)}function Mu(){yi.clear()}function Ec(k,w){yi.set(k._key(),w)}function Fa(k){return Et(k._redirectPersistence)}function fs(k){return ar(ai,k.config.apiKey,k.name)}function Uo(k,w,A){return function Ks(k,w,A){return Ds.apply(this,arguments)}(k,w,A)}function Ds(){return(Ds=(0,d.Z)(function*(k,w,A){const U=$n(k);mt(k,w,Gs),yield U._initializationPromise;const ue=vs(U,A);return yield _a(ue,U),ue._openRedirect(U,w,"signInViaRedirect")})).apply(this,arguments)}function wc(k,w,A){return function al(k,w,A){return Yo.apply(this,arguments)}(k,w,A)}function Yo(){return(Yo=(0,d.Z)(function*(k,w,A){const U=(0,fe.m9)(k);mt(U.auth,w,Gs),yield U.auth._initializationPromise;const ue=vs(U.auth,A);yield _a(ue,U.auth);const be=yield bc(U);return ue._openRedirect(U.auth,w,"reauthViaRedirect",be)})).apply(this,arguments)}function _h(k,w,A){return function Bd(k,w,A){return Qo.apply(this,arguments)}(k,w,A)}function Qo(){return(Qo=(0,d.Z)(function*(k,w,A){const U=(0,fe.m9)(k);mt(U.auth,w,Gs),yield U.auth._initializationPromise;const ue=vs(U.auth,A);yield ba(!1,U,w.providerId),yield _a(ue,U.auth);const be=yield bc(U);return ue._openRedirect(U.auth,w,"linkViaRedirect",be)})).apply(this,arguments)}function Nu(k,w){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(k,w){return yield $n(k)._initializationPromise,jo(k,w,!1)})).apply(this,arguments)}function jo(k,w){return xo.apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(k,w,A=!1){const U=$n(k),ue=vs(U,w),pt=yield new co(U,ue,A).execute();return pt&&!A&&(delete pt.user._redirectEventId,yield U._persistUserIfCurrent(pt.user),yield U._setRedirectUser(null,w)),pt})).apply(this,arguments)}function bc(k){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,d.Z)(function*(k){const w=Gc(`${k.uid}:::`);return k._redirectEventId=w,yield k.auth._setRedirectUser(k),yield k.auth._persistUserIfCurrent(k),w})).apply(this,arguments)}class qc{constructor(w){this.auth=w,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(w){this.consumers.add(w),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,w)&&(this.sendToConsumer(this.queuedRedirectEvent,w),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(w){this.consumers.delete(w)}onEvent(w){if(this.hasEventBeenHandled(w))return!1;let A=!1;return this.consumers.forEach(U=>{this.isEventForConsumer(w,U)&&(A=!0,this.sendToConsumer(w,U),this.saveEventToCache(w))}),this.hasHandledPotentialRedirect||!function Kc(k){switch(k.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ul(k);default:return!1}}(w)||(this.hasHandledPotentialRedirect=!0,A||(this.queuedRedirectEvent=w,A=!0)),A}sendToConsumer(w,A){var U;if(w.error&&!Ul(w)){const ue=(null===(U=w.error.code)||void 0===U?void 0:U.split("auth/")[1])||"internal-error";A.onError(Tt(this.auth,ue))}else A.onAuthEvent(w)}isEventForConsumer(w,A){const U=null===A.eventId||!!w.eventId&&w.eventId===A.eventId;return A.filter.includes(w.type)&&U}hasEventBeenHandled(w){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jo(w))}saveEventToCache(w){this.cachedEventUids.add(Jo(w)),this.lastProcessedEventTime=Date.now()}}function Jo(k){return[k.type,k.eventId,k.sessionId,k.tenantId].filter(w=>w).join("-")}function Ul({type:k,error:w}){return"unknown"===k&&"auth/no-auth-event"===w?.code}function jl(k){return wl.apply(this,arguments)}function wl(){return(wl=(0,d.Z)(function*(k,w={}){return Dt(k,"GET","/v1/projects",w)})).apply(this,arguments)}const _d=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kc=/^https?/;function cc(){return(cc=(0,d.Z)(function*(k){if(k.config.emulator)return;const{authorizedDomains:w}=yield jl(k);for(const A of w)try{if(Xu(A))return}catch{}Xe(k,"unauthorized-domain")})).apply(this,arguments)}function Xu(k){const w=zn(),{protocol:A,hostname:U}=new URL(w);if(k.startsWith("chrome-extension://")){const pt=new URL(k);return""===pt.hostname&&""===U?"chrome-extension:"===A&&k.replace("chrome-extension://","")===w.replace("chrome-extension://",""):"chrome-extension:"===A&&pt.hostname===U}if(!kc.test(A))return!1;if(_d.test(k))return U===k;const ue=k.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ue+"|"+ue+")$","i").test(U)}const Ic=new Gn(3e4,6e4);function Jl(){const k=Ao().___jsl;if(k?.H)for(const w of Object.keys(k.H))if(k.H[w].r=k.H[w].r||[],k.H[w].L=k.H[w].L||[],k.H[w].r=[...k.H[w].L],k.CP)for(let A=0;A<k.CP.length;A++)k.CP[A]=null}let $o=null;const td=new Gn(5e3,15e3),uc="__/auth/iframe",yd="emulator/auth/iframe",Ud={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ku(k){const w=k.config;xe(w.authDomain,k,"auth-domain-config-required");const A=w.emulator?Ln(w,yd):`https://${k.config.authDomain}/${uc}`,U={apiKey:w.apiKey,appName:k.name,v:ve.SDK_VERSION},ue=nd.get(k.config.apiHost);ue&&(U.eid=ue);const be=k._getFrameworks();return be.length&&(U.fw=be.join(",")),`${A}?${(0,fe.xO)(U).slice(1)}`}function Yc(){return Yc=(0,d.Z)(function*(k){const w=yield function fu(k){return $o=$o||function ed(k){return new Promise((w,A)=>{var U,ue,be;function pt(){Jl(),gapi.load("gapi.iframes",{callback:()=>{w(gapi.iframes.getContext())},ontimeout:()=>{Jl(),A(Tt(k,"network-request-failed"))},timeout:Ic.get()})}if(null!==(ue=null===(U=Ao().gapi)||void 0===U?void 0:U.iframes)&&void 0!==ue&&ue.Iframe)w(gapi.iframes.getContext());else{if(null===(be=Ao().gapi)||void 0===be||!be.load){const Yt=ri("iframefcb");return Ao()[Yt]=()=>{gapi.load?pt():A(Tt(k,"network-request-failed"))},Rs(`https://apis.google.com/js/api.js?onload=${Yt}`).catch(Hn=>A(Hn))}pt()}}).catch(w=>{throw $o=null,w})}(k),$o}(k),A=Ao().gapi;return xe(A,k,"internal-error"),w.open({where:document.body,url:ku(k),messageHandlersFilter:A.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ud,dontclear:!0},U=>new Promise(function(){var ue=(0,d.Z)(function*(be,pt){yield U.restyle({setHideOnLeave:!1});const Yt=Tt(k,"network-request-failed"),Hn=Ao().setTimeout(()=>{pt(Yt)},td.get());function Kn(){Ao().clearTimeout(Hn),be(U)}U.ping(Kn).then(Kn,()=>{pt(Yt)})});return function(be,pt){return ue.apply(this,arguments)}}()))}),Yc.apply(this,arguments)}const B={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ut{constructor(w){this.window=w,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xn="__/auth/handler",An="emulator/auth/handler",gr=encodeURIComponent("fac");function qr(k,w,A,U,ue,be){return fl.apply(this,arguments)}function fl(){return(fl=(0,d.Z)(function*(k,w,A,U,ue,be){xe(k.config.authDomain,k,"auth-domain-config-required"),xe(k.config.apiKey,k,"invalid-api-key");const pt={apiKey:k.config.apiKey,appName:k.name,authType:A,redirectUrl:U,v:ve.SDK_VERSION,eventId:ue};if(w instanceof Gs){w.setDefaultLanguage(k.languageCode),pt.providerId=w.providerId||"",(0,fe.xb)(w.getCustomParameters())||(pt.customParameters=JSON.stringify(w.getCustomParameters()));for(const[Vr,Ui]of Object.entries(be||{}))pt[Vr]=Ui}if(w instanceof xs){const Vr=w.getScopes().filter(Ui=>""!==Ui);Vr.length>0&&(pt.scopes=Vr.join(","))}k.tenantId&&(pt.tid=k.tenantId);const Yt=pt;for(const Vr of Object.keys(Yt))void 0===Yt[Vr]&&delete Yt[Vr];const Hn=yield k._getAppCheckToken(),Kn=Hn?`#${gr}=${encodeURIComponent(Hn)}`:"";return`${function Go({config:k}){return k.emulator?Ln(k,An):`https://${k.authDomain}/${Xn}`}(k)}?${(0,fe.xO)(Yt).slice(1)}${Kn}`})).apply(this,arguments)}const Ls="webStorageSupport",$l=class Qc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Do,this._completeRedirectFn=jo,this._overrideRedirectResult=Ec}_openPopup(w,A,U,ue){var be=this;return(0,d.Z)(function*(){var pt;hn(null===(pt=be.eventManagers[w._key()])||void 0===pt?void 0:pt.manager,"_initialize() not called before _openPopup()");const Yt=yield qr(w,A,U,zn(),ue);return function Qt(k,w,A,U=500,ue=600){const be=Math.max((window.screen.availHeight-ue)/2,0).toString(),pt=Math.max((window.screen.availWidth-U)/2,0).toString();let Yt="";const Hn=Object.assign(Object.assign({},B),{width:U.toString(),height:ue.toString(),top:be,left:pt}),Kn=(0,fe.z$)().toLowerCase();A&&(Yt=_e(Kn)?"_blank":A),he(Kn)&&(w=w||"http://localhost",Hn.scrollbars="yes");const Vr=Object.entries(Hn).reduce((Sa,[gl,Cu])=>`${Sa}${gl}=${Cu},`,"");if(function pr(k=(0,fe.z$)()){var w;return xn(k)&&!(null===(w=window.navigator)||void 0===w||!w.standalone)}(Kn)&&"_self"!==Yt)return function rr(k,w){const A=document.createElement("a");A.href=k,A.target=w;const U=document.createEvent("MouseEvent");U.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),A.dispatchEvent(U)}(w||"",Yt),new ut(null);const Ui=window.open(w||"",Yt,Vr);xe(Ui,k,"popup-blocked");try{Ui.focus()}catch{}return new ut(Ui)}(w,Yt,Gc())})()}_openRedirect(w,A,U,ue){var be=this;return(0,d.Z)(function*(){return yield be._originValidation(w),function Ll(k){Ao().location.href=k}(yield qr(w,A,U,zn(),ue)),new Promise(()=>{})})()}_initialize(w){const A=w._key();if(this.eventManagers[A]){const{manager:ue,promise:be}=this.eventManagers[A];return ue?Promise.resolve(ue):(hn(be,"If manager is not set, promise should be"),be)}const U=this.initAndGetManager(w);return this.eventManagers[A]={promise:U},U.catch(()=>{delete this.eventManagers[A]}),U}initAndGetManager(w){var A=this;return(0,d.Z)(function*(){const U=yield function Tu(k){return Yc.apply(this,arguments)}(w),ue=new qc(w);return U.register("authEvent",be=>(xe(be?.authEvent,w,"invalid-auth-event"),{status:ue.onEvent(be.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),A.eventManagers[w._key()]={manager:ue},A.iframes[w._key()]=U,ue})()}_isIframeWebStorageSupported(w,A){this.iframes[w._key()].send(Ls,{type:Ls},ue=>{var be;const pt=null===(be=ue?.[0])||void 0===be?void 0:be[Ls];void 0!==pt&&A(!!pt),Xe(w,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(w){const A=w._key();return this.originValidationPromises[A]||(this.originValidationPromises[A]=function hu(k){return cc.apply(this,arguments)}(w)),this.originValidationPromises[A]}get _shouldInitProactively(){return ot()||Fe()||xn()}};class Xl{constructor(w){this.factorId=w}_process(w,A,U){switch(A.type){case"enroll":return this._finalizeEnroll(w,A.credential,U);case"signin":return this._finalizeSignIn(w,A.credential);default:return Wt("unexpected MultiFactorSessionType")}}}class la extends Xl{constructor(w){super("phone"),this.credential=w}static _fromCredential(w){return new la(w)}_finalizeEnroll(w,A,U){return function Yn(k,w){return Dt(k,"POST","/v2/accounts/mfaEnrollment:finalize",at(k,w))}(w,{idToken:A,displayName:U,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(w,A){return function vc(k,w){return Dt(k,"POST","/v2/accounts/mfaSignIn:finalize",at(k,w))}(w,{mfaPendingCredential:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fc=(()=>{class k{constructor(){}static assertion(A){return la._fromCredential(A)}}return k.FACTOR_ID="phone",k})();var jd="@firebase/auth";class Lu{constructor(w){this.auth=w,this.internalListeners=new Map}getUid(){var w;return this.assertAuthConfigured(),(null===(w=this.auth.currentUser)||void 0===w?void 0:w.uid)||null}getToken(w){var A=this;return(0,d.Z)(function*(){return A.assertAuthConfigured(),yield A.auth._initializationPromise,A.auth.currentUser?{accessToken:yield A.auth.currentUser.getIdToken(w)}:null})()}addAuthTokenListener(w){if(this.assertAuthConfigured(),this.internalListeners.has(w))return;const A=this.auth.onIdTokenChanged(U=>{w(U?.stsTokenManager.accessToken||null)});this.internalListeners.set(w,A),this.updateProactiveRefresh()}removeAuthTokenListener(w){this.assertAuthConfigured();const A=this.internalListeners.get(w);A&&(this.internalListeners.delete(w),A(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const id=(0,fe.Pz)("authIdTokenMaxAge")||300;let Dl=null;const pu=k=>function(){var w=(0,d.Z)(function*(A){const U=A&&(yield A.getIdTokenResult()),ue=U&&((new Date).getTime()-Date.parse(U.issuedAtTime))/1e3;if(ue&&ue>id)return;const be=U?.token;Dl!==be&&(Dl=be,yield fetch(k,{method:be?"POST":"DELETE",headers:be?{Authorization:`Bearer ${be}`}:{}}))});return function(A){return w.apply(this,arguments)}}();function Fh(k=(0,ve.getApp)()){const w=(0,ve._getProvider)(k,"auth");if(w.isInitialized())return w.getImmediate();const A=function Hi(k,w){const A=(0,ve._getProvider)(k,"auth");if(A.isInitialized()){const ue=A.getImmediate(),be=A.getOptions();if((0,fe.vZ)(be,w??{}))return ue;Xe(ue,"already-initialized")}return A.initialize({options:w})}(k,{popupRedirectResolver:$l,persistence:[wo,Lt,Do]}),U=(0,fe.Pz)("authTokenSyncURL");if(U){const be=pu(U);(function ie(k,w,A){(0,fe.m9)(k).beforeAuthStateChanged(w,A)})(A,be,()=>be(A.currentUser)),function G(k,w,A,U){(0,fe.m9)(k).onIdTokenChanged(w,A,U)}(A,pt=>be(pt))}const ue=(0,fe.q4)("auth");return ue&&Ja(A,`http://${ue}`),A}!function Vu(k){(0,ve._registerComponent)(new He.wA("auth",(w,{options:A})=>{const U=w.getProvider("app").getImmediate(),ue=w.getProvider("heartbeat"),be=w.getProvider("app-check-internal"),{apiKey:pt,authDomain:Yt}=U.options;xe(pt&&!pt.includes(":"),"invalid-api-key",{appName:U.name});const Hn={apiKey:pt,authDomain:Yt,clientPlatform:k,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rt(k)},Kn=new hr(U,ue,be,Hn);return function Li(k,w){const A=w?.persistence||[],U=(Array.isArray(A)?A:[A]).map(Et);w?.errorMap&&k._updateErrorMap(w.errorMap),k._initializeWithPersistence(U,w?.popupRedirectResolver)}(Kn,A),Kn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((w,A,U)=>{w.getProvider("auth-internal").initialize()})),(0,ve._registerComponent)(new He.wA("auth-internal",w=>{const A=$n(w.getProvider("auth").getImmediate());return new Lu(A)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)(jd,"0.23.2",function Oo(k){switch(k){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(k)),(0,ve.registerVersion)(jd,"0.23.2","esm2017")}("Browser")},5710:(Pn,_t,Y)=>{Y.d(_t,{$o:()=>M_,AM:()=>nt,Bd:()=>Ed,Bt:()=>Rp,EW:()=>ad,FQ:()=>Zo,G$:()=>Bi,HE:()=>Bh,IO:()=>zd,JH:()=>Oo,Jr:()=>Zc,Kk:()=>Wg,Lx:()=>yh,MQ:()=>Tc,N8:()=>qd,Od:()=>ue,Ot:()=>Id,R:()=>vf,S1:()=>sd,Sb:()=>Yd,Sl:()=>pt,TD:()=>Wd,TQ:()=>vd,U2:()=>Kn,U7:()=>Kg,VF:()=>U,Vt:()=>Du,Vx:()=>Hn,Wu:()=>Lh,cy:()=>Yt,dH:()=>Kd,e0:()=>$d,g2:()=>yf,i3:()=>ud,iH:()=>Fh,iU:()=>w,jM:()=>gl,mI:()=>xo,nP:()=>xp,qT:()=>k,t8:()=>be,tn:()=>Dl,vA:()=>Lu,vh:()=>as,wj:()=>vh,yv:()=>Cu});var d=Y(5861),fe=Y(7592),ve=Y(4537),X=Y(9058),Me=Y(7879);const He="@firebase/database";let ct="";function nt(y){ct=y}class Ie{constructor(p){this.domStorage_=p,this.prefix_="firebase:"}set(p,g){null==g?this.domStorage_.removeItem(this.prefixedName_(p)):this.domStorage_.setItem(this.prefixedName_(p),(0,X.Wl)(g))}get(p){const g=this.domStorage_.getItem(this.prefixedName_(p));return null==g?null:(0,X.cI)(g)}remove(p){this.domStorage_.removeItem(this.prefixedName_(p))}prefixedName_(p){return this.prefix_+p}toString(){return this.domStorage_.toString()}}class Ae{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(p,g){null==g?delete this.cache_[p]:this.cache_[p]=g}get(p){return(0,X.r3)(this.cache_,p)?this.cache_[p]:null}remove(p){delete this.cache_[p]}}const Ke=function(y){try{if(typeof window<"u"&&typeof window[y]<"u"){const p=window[y];return p.setItem("firebase:sentinel","cache"),p.removeItem("firebase:sentinel"),new Ie(p)}}catch{}return new Ae},ft=Ke("localStorage"),ze=Ke("sessionStorage"),Jt=new Me.Yd("@firebase/database"),dt=function(){let y=1;return function(){return y++}}(),fn=function(y){const p=(0,X.dS)(y),g=new X.gQ;g.update(p);const I=g.digest();return X.US.encodeByteArray(I)},Kt=function(...y){let p="";for(let g=0;g<y.length;g++){const I=y[g];Array.isArray(I)||I&&"object"==typeof I&&"number"==typeof I.length?p+=Kt.apply(null,I):p+="object"==typeof I?(0,X.Wl)(I):I,p+=" "}return p};let Vn=null,In=!0;const Xe=function(y,p){(0,X.hu)(!p||!0===y||!1===y,"Can't turn on custom loggers persistently."),!0===y?(Jt.logLevel=Me.in.VERBOSE,Vn=Jt.log.bind(Jt),p&&ze.set("logging_enabled",!0)):"function"==typeof y?Vn=y:(Vn=null,ze.remove("logging_enabled"))},Tt=function(...y){if(!0===In&&(In=!1,null===Vn&&!0===ze.get("logging_enabled")&&Xe(!0)),Vn){const p=Kt.apply(null,y);Vn(p)}},gt=function(y){return function(...p){Tt(y,...p)}},mt=function(...y){const p="FIREBASE INTERNAL ERROR: "+Kt(...y);Jt.error(p)},Nt=function(...y){const p=`FIREBASE FATAL ERROR: ${Kt(...y)}`;throw Jt.error(p),new Error(p)},xe=function(...y){const p="FIREBASE WARNING: "+Kt(...y);Jt.warn(p)},hn=function(y){return"number"==typeof y&&(y!=y||y===Number.POSITIVE_INFINITY||y===Number.NEGATIVE_INFINITY)},Bn="[MIN_NAME]",vn="[MAX_NAME]",Zn=function(y,p){if(y===p)return 0;if(y===Bn||p===vn)return-1;if(p===Bn||y===vn)return 1;{const g=cr(y),I=cr(p);return null!==g?null!==I?g-I==0?y.length-p.length:g-I:-1:null!==I?1:y<p?-1:1}},lr=function(y,p){return y===p?0:y<p?-1:1},Gn=function(y,p){if(p&&y in p)return p[y];throw new Error("Missing required key ("+y+") in object: "+(0,X.Wl)(p))},Ln=function(y){if("object"!=typeof y||null===y)return(0,X.Wl)(y);const p=[];for(const I in y)p.push(I);p.sort();let g="{";for(let I=0;I<p.length;I++)0!==I&&(g+=","),g+=(0,X.Wl)(p[I]),g+=":",g+=Ln(y[p[I]]);return g+="}",g},Qe=function(y,p){const g=y.length;if(g<=p)return[y];const I=[];for(let F=0;F<g;F+=p)I.push(y.substring(F,F+p>g?g:F+p));return I};function rt(y,p){for(const g in y)y.hasOwnProperty(g)&&p(g,y[g])}const wt=function(y){(0,X.hu)(!hn(y),"Invalid JSON number");const I=1023;let F,K,ae,Ce,$e;0===y?(K=0,ae=0,F=1/y==-1/0?1:0):(F=y<0,(y=Math.abs(y))>=Math.pow(2,1-I)?(Ce=Math.min(Math.floor(Math.log(y)/Math.LN2),I),K=Ce+I,ae=Math.round(y*Math.pow(2,52-Ce)-Math.pow(2,52))):(K=0,ae=Math.round(y/Math.pow(2,-1074))));const et=[];for($e=52;$e;$e-=1)et.push(ae%2?1:0),ae=Math.floor(ae/2);for($e=11;$e;$e-=1)et.push(K%2?1:0),K=Math.floor(K/2);et.push(F?1:0),et.reverse();const tn=et.join("");let on="";for($e=0;$e<64;$e+=8){let yn=parseInt(tn.substr($e,8),2).toString(16);1===yn.length&&(yn="0"+yn),on+=yn}return on.toLowerCase()},ln=new RegExp("^-?(0*)\\d{1,10}$"),cr=function(y){if(ln.test(y)){const p=Number(y);if(p>=-2147483648&&p<=2147483647)return p}return null},_r=function(y){try{y()}catch(p){setTimeout(()=>{throw xe("Exception was thrown by user callback.",p.stack||""),p},Math.floor(0))}},Pr=function(y,p){const g=setTimeout(y,p);return"number"==typeof g&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(g):"object"==typeof g&&g.unref&&g.unref(),g};class Fn{constructor(p,g){this.appName_=p,this.appCheckProvider=g,this.appCheck=g?.getImmediate({optional:!0}),this.appCheck||g?.get().then(I=>this.appCheck=I)}getToken(p){return this.appCheck?this.appCheck.getToken(p):new Promise((g,I)=>{setTimeout(()=>{this.appCheck?this.getToken(p).then(g,I):g(null)},0)})}addTokenChangeListener(p){var g;null===(g=this.appCheckProvider)||void 0===g||g.get().then(I=>I.addTokenListener(p))}notifyForInvalidToken(){xe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Br{constructor(p,g,I){this.appName_=p,this.firebaseOptions_=g,this.authProvider_=I,this.auth_=null,this.auth_=I.getImmediate({optional:!0}),this.auth_||I.onInit(F=>this.auth_=F)}getToken(p){return this.auth_?this.auth_.getToken(p).catch(g=>g&&"auth/token-not-initialized"===g.code?(Tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(g)):new Promise((g,I)=>{setTimeout(()=>{this.auth_?this.getToken(p).then(g,I):g(null)},0)})}addTokenChangeListener(p){this.auth_?this.auth_.addAuthTokenListener(p):this.authProvider_.get().then(g=>g.addAuthTokenListener(p))}removeTokenChangeListener(p){this.authProvider_.get().then(g=>g.removeAuthTokenListener(p))}notifyForInvalidToken(){let p='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';p+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xe(p)}}let Ue=(()=>{class y{constructor(g){this.accessToken=g}getToken(g){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(g){g(this.accessToken)}removeTokenChangeListener(g){}notifyForInvalidToken(){}}return y.OWNER="owner",y})();const br=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,or="websocket",yr="long_polling";class ui{constructor(p,g,I,F,K=!1,ae="",Ce=!1,$e=!1){this.secure=g,this.namespace=I,this.webSocketOnly=F,this.nodeAdmin=K,this.persistenceKey=ae,this.includeNamespaceInQueryParams=Ce,this.isUsingEmulator=$e,this._host=p.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ft.get("host:"+p)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(p){p!==this.internalHost&&(this.internalHost=p,this.isCacheableHost()&&ft.set("host:"+this._host,this.internalHost))}toString(){let p=this.toURLString();return this.persistenceKey&&(p+="<"+this.persistenceKey+">"),p}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Tr(y,p,g){let I;if((0,X.hu)("string"==typeof p,"typeof type must == string"),(0,X.hu)("object"==typeof g,"typeof params must == object"),p===or)I=(y.secure?"wss://":"ws://")+y.internalHost+"/.ws?";else{if(p!==yr)throw new Error("Unknown connection type: "+p);I=(y.secure?"https://":"http://")+y.internalHost+"/.lp?"}(function Ri(y){return y.host!==y.internalHost||y.isCustomHost()||y.includeNamespaceInQueryParams})(y)&&(g.ns=y.namespace);const F=[];return rt(g,(K,ae)=>{F.push(K+"="+ae)}),I+F.join("&")}class ei{constructor(){this.counters_={}}incrementCounter(p,g=1){(0,X.r3)(this.counters_,p)||(this.counters_[p]=0),this.counters_[p]+=g}get(){return(0,X.p$)(this.counters_)}}const ti={},$r={};function Yi(y){const p=y.toString();return ti[p]||(ti[p]=new ei),ti[p]}class dr{constructor(p){this.onMessage_=p,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(p,g){this.closeAfterResponse=p,this.onClose=g,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(p,g){for(this.pendingResponses[p]=g;this.pendingResponses[this.currentResponseNum];){const I=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let F=0;F<I.length;++F)I[F]&&_r(()=>{this.onMessage_(I[F])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Vt{constructor(p,g,I,F,K,ae,Ce){this.connId=p,this.repoInfo=g,this.applicationId=I,this.appCheckToken=F,this.authToken=K,this.transportSessionId=ae,this.lastSessionId=Ce,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gt(p),this.stats_=Yi(g),this.urlFn=$e=>(this.appCheckToken&&($e.ac=this.appCheckToken),Tr(g,yr,$e))}open(p,g){this.curSegmentNum=0,this.onDisconnect_=g,this.myPacketOrderer=new dr(p),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(y){if((0,X.Yr)()||"complete"===document.readyState)y();else{let p=!1;const g=function(){document.body?p||(p=!0,y()):setTimeout(g,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",g,!1),window.addEventListener("load",g,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&g()}),window.attachEvent("onload",g))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nn((...K)=>{const[ae,Ce,$e,et,tn]=K;if(this.incrementIncomingBytes_(K),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===ae)this.id=Ce,this.password=$e;else{if("close"!==ae)throw new Error("Unrecognized command received: "+ae);Ce?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Ce,()=>{this.onClosed_()})):this.onClosed_()}},(...K)=>{const[ae,Ce]=K;this.incrementIncomingBytes_(K),this.myPacketOrderer.handleResponse(ae,Ce)},()=>{this.onClosed_()},this.urlFn);const I={start:"t"};I.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(I.cb=this.scriptTagHolder.uniqueCallbackIdentifier),I.v="5",this.transportSessionId&&(I.s=this.transportSessionId),this.lastSessionId&&(I.ls=this.lastSessionId),this.applicationId&&(I.p=this.applicationId),this.appCheckToken&&(I.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&br.test(location.hostname)&&(I.r="f");const F=this.urlFn(I);this.log_("Connecting via long-poll to "+F),this.scriptTagHolder.addTag(F,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Vt.forceAllow_=!0}static forceDisallow(){Vt.forceDisallow_=!0}static isAvailable(){return!((0,X.Yr)()||!Vt.forceAllow_&&(Vt.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(p){const g=(0,X.Wl)(p);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);const I=(0,X.h$)(g),F=Qe(I,1840);for(let K=0;K<F.length;K++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,F.length,F[K]),this.curSegmentNum++}addDisconnectPingFrame(p,g){if((0,X.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const I={dframe:"t"};I.id=p,I.pw=g,this.myDisconnFrame.src=this.urlFn(I),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(p){const g=(0,X.Wl)(p).length;this.bytesReceived+=g,this.stats_.incrementCounter("bytes_received",g)}}class nn{constructor(p,g,I,F){if(this.onDisconnect=I,this.urlFn=F,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,X.Yr)())this.commandCB=p,this.onMessageCB=g;else{this.uniqueCallbackIdentifier=dt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=p,window["pRTLPCB"+this.uniqueCallbackIdentifier]=g,this.myIFrame=nn.createIFrame_();let K="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(K='<script>document.domain="'+document.domain+'";<\/script>');const ae="<html><body>"+K+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(ae),this.myIFrame.doc.close()}catch(Ce){Tt("frame writing exception"),Ce.stack&&Tt(Ce.stack),Tt(Ce)}}}static createIFrame_(){const p=document.createElement("iframe");if(p.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(p);try{p.contentWindow.document||Tt("No IE domain setting required")}catch{const I=document.domain;p.src="javascript:void((function(){document.open();document.domain='"+I+"';document.close();})())"}return p.contentDocument?p.doc=p.contentDocument:p.contentWindow?p.doc=p.contentWindow.document:p.document&&(p.doc=p.document),p}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const p=this.onDisconnect;p&&(this.onDisconnect=null,p())}startLongPoll(p,g){for(this.myID=p,this.myPW=g,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const p={};p.id=this.myID,p.pw=this.myPW,p.ser=this.currentSerial;let g=this.urlFn(p),I="",F=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+I.length<=1870;){const ae=this.pendingSegs.shift();I=I+"&seg"+F+"="+ae.seg+"&ts"+F+"="+ae.ts+"&d"+F+"="+ae.d,F++}return g+=I,this.addLongPollTag_(g,this.currentSerial),!0}return!1}enqueueSegment(p,g,I){this.pendingSegs.push({seg:p,ts:g,d:I}),this.alive&&this.newRequest_()}addLongPollTag_(p,g){this.outstandingRequests.add(g);const I=()=>{this.outstandingRequests.delete(g),this.newRequest_()},F=setTimeout(I,Math.floor(25e3));this.addTag(p,()=>{clearTimeout(F),I()})}addTag(p,g){(0,X.Yr)()?this.doNodeLongPoll(p,g):setTimeout(()=>{try{if(!this.sendNewPolls)return;const I=this.myIFrame.doc.createElement("script");I.type="text/javascript",I.async=!0,I.src=p,I.onload=I.onreadystatechange=function(){const F=I.readyState;(!F||"loaded"===F||"complete"===F)&&(I.onload=I.onreadystatechange=null,I.parentNode&&I.parentNode.removeChild(I),g())},I.onerror=()=>{Tt("Long-poll script failed to load: "+p),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(I)}catch{}},Math.floor(1))}}let oi=null;typeof MozWebSocket<"u"?oi=MozWebSocket:typeof WebSocket<"u"&&(oi=WebSocket);let pr=(()=>{class y{constructor(g,I,F,K,ae,Ce,$e){this.connId=g,this.applicationId=F,this.appCheckToken=K,this.authToken=ae,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gt(this.connId),this.stats_=Yi(I),this.connURL=y.connectionURL_(I,Ce,$e,K,F),this.nodeAdmin=I.nodeAdmin}static connectionURL_(g,I,F,K,ae){const Ce={v:"5"};return!(0,X.Yr)()&&typeof location<"u"&&location.hostname&&br.test(location.hostname)&&(Ce.r="f"),I&&(Ce.s=I),F&&(Ce.ls=F),K&&(Ce.ac=K),ae&&(Ce.p=ae),Tr(g,or,Ce)}open(g,I){this.onDisconnect=I,this.onMessage=g,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ft.set("previous_websocket_failure",!0);try{let F;if((0,X.Yr)()){F={headers:{"User-Agent":`Firebase/5/${ct}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(F.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(F.headers["X-Firebase-AppCheck"]=this.appCheckToken);const ae=process.env,Ce=0===this.connURL.indexOf("wss://")?ae.HTTPS_PROXY||ae.https_proxy:ae.HTTP_PROXY||ae.http_proxy;Ce&&(F.proxy={origin:Ce})}this.mySock=new oi(this.connURL,[],F)}catch(F){this.log_("Error instantiating WebSocket.");const K=F.message||F.data;return K&&this.log_(K),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=F=>{this.handleIncomingFrame(F)},this.mySock.onerror=F=>{this.log_("WebSocket error.  Closing connection.");const K=F.message||F.data;K&&this.log_(K),this.onClosed_()}}start(){}static forceDisallow(){y.forceDisallow_=!0}static isAvailable(){let g=!1;if(typeof navigator<"u"&&navigator.userAgent){const F=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);F&&F.length>1&&parseFloat(F[1])<4.4&&(g=!0)}return!g&&null!==oi&&!y.forceDisallow_}static previouslyFailed(){return ft.isInMemoryStorage||!0===ft.get("previous_websocket_failure")}markConnectionHealthy(){ft.remove("previous_websocket_failure")}appendFrame_(g){if(this.frames.push(g),this.frames.length===this.totalFrames){const I=this.frames.join("");this.frames=null;const F=(0,X.cI)(I);this.onMessage(F)}}handleNewFrameCount_(g){this.totalFrames=g,this.frames=[]}extractFrameCount_(g){if((0,X.hu)(null===this.frames,"We already have a frame buffer"),g.length<=6){const I=Number(g);if(!isNaN(I))return this.handleNewFrameCount_(I),null}return this.handleNewFrameCount_(1),g}handleIncomingFrame(g){if(null===this.mySock)return;const I=g.data;if(this.bytesReceived+=I.length,this.stats_.incrementCounter("bytes_received",I.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(I);else{const F=this.extractFrameCount_(I);null!==F&&this.appendFrame_(F)}}send(g){this.resetKeepAlive();const I=(0,X.Wl)(g);this.bytesSent+=I.length,this.stats_.incrementCounter("bytes_sent",I.length);const F=Qe(I,16384);F.length>1&&this.sendString_(String(F.length));for(let K=0;K<F.length;K++)this.sendString_(F[K])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(g){try{this.mySock.send(g)}catch(I){this.log_("Exception thrown from WebSocket.send():",I.message||I.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return y.responsesRequiredToBeHealthy=2,y.healthyTimeout=3e4,y})(),xi=(()=>{class y{constructor(g){this.initTransports_(g)}static get ALL_TRANSPORTS(){return[Vt,pr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(g){const I=pr&&pr.isAvailable();let F=I&&!pr.previouslyFailed();if(g.webSocketOnly&&(I||xe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),F=!0),F)this.transports_=[pr];else{const K=this.transports_=[];for(const ae of y.ALL_TRANSPORTS)ae&&ae.isAvailable()&&K.push(ae);y.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return y.globalTransportInitialized_=!1,y})();class Bs{constructor(p,g,I,F,K,ae,Ce,$e,et,tn){this.id=p,this.repoInfo_=g,this.applicationId_=I,this.appCheckToken_=F,this.authToken_=K,this.onMessage_=ae,this.onReady_=Ce,this.onDisconnect_=$e,this.onKill_=et,this.lastSessionId=tn,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gt("c:"+this.id+":"),this.transportManager_=new xi(g),this.log_("Connection created"),this.start_()}start_(){const p=this.transportManager_.initialTransport();this.conn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;const g=this.connReceiver_(this.conn_),I=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(g,I)},Math.floor(0));const F=p.healthyTimeout||0;F>0&&(this.healthyTimeout_=Pr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(F)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(p){return g=>{p===this.conn_?this.onConnectionLost_(g):p===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(p){return g=>{2!==this.state_&&(p===this.rx_?this.onPrimaryMessageReceived_(g):p===this.secondaryConn_?this.onSecondaryMessageReceived_(g):this.log_("message on old connection"))}}sendRequest(p){this.sendData_({t:"d",d:p})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(p){if("t"in p){const g=p.t;"a"===g?this.upgradeIfSecondaryHealthy_():"r"===g?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===g&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(p){const g=Gn("t",p),I=Gn("d",p);if("c"===g)this.onSecondaryControl_(I);else{if("d"!==g)throw new Error("Unknown protocol layer: "+g);this.pendingDataMessages.push(I)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(p){const g=Gn("t",p),I=Gn("d",p);"c"===g?this.onControl_(I):"d"===g&&this.onDataMessage_(I)}onDataMessage_(p){this.onPrimaryResponse_(),this.onMessage_(p)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(p){const g=Gn("t",p);if("d"in p){const I=p.d;if("h"===g){const F=Object.assign({},I);this.repoInfo_.isUsingEmulator&&(F.h=this.repoInfo_.host),this.onHandshake_(F)}else if("n"===g){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let F=0;F<this.pendingDataMessages.length;++F)this.onDataMessage_(this.pendingDataMessages[F]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===g?this.onConnectionShutdown_(I):"r"===g?this.onReset_(I):"e"===g?mt("Server Error: "+I):"o"===g?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mt("Unknown control packet command: "+g)}}onHandshake_(p){const g=p.ts,I=p.v,F=p.h;this.sessionId=p.s,this.repoInfo_.host=F,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,g),"5"!==I&&xe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const p=this.transportManager_.upgradeTransport();p&&this.startUpgrade_(p)}startUpgrade_(p){this.secondaryConn_=new p(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=p.responsesRequiredToBeHealthy||0;const g=this.connReceiver_(this.secondaryConn_),I=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(g,I),Pr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(p){this.log_("Reset packet received.  New host: "+p),this.repoInfo_.host=p,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(p,g){this.log_("Realtime connection established."),this.conn_=p,this.state_=1,this.onReady_&&(this.onReady_(g,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const p=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===p||this.rx_===p)&&this.close()}onConnectionLost_(p){this.conn_=null,p||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ft.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(p){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(p),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(p){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(p)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class rs{put(p,g,I,F){}merge(p,g,I,F){}refreshAuthToken(p){}refreshAppCheckToken(p){}onDisconnectPut(p,g,I){}onDisconnectMerge(p,g,I){}onDisconnectCancel(p,g){}reportStats(p){}}class _i{constructor(p){this.allowedEvents_=p,this.listeners_={},(0,X.hu)(Array.isArray(p)&&p.length>0,"Requires a non-empty array")}trigger(p,...g){if(Array.isArray(this.listeners_[p])){const I=[...this.listeners_[p]];for(let F=0;F<I.length;F++)I[F].callback.apply(I[F].context,g)}}on(p,g,I){this.validateEventType_(p),this.listeners_[p]=this.listeners_[p]||[],this.listeners_[p].push({callback:g,context:I});const F=this.getInitialEvent(p);F&&g.apply(I,F)}off(p,g,I){this.validateEventType_(p);const F=this.listeners_[p]||[];for(let K=0;K<F.length;K++)if(F[K].callback===g&&(!I||I===F[K].context))return void F.splice(K,1)}validateEventType_(p){(0,X.hu)(this.allowedEvents_.find(g=>g===p),"Unknown event: "+p)}}class ni extends _i{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,X.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ni}getInitialEvent(p){return(0,X.hu)("online"===p,"Unknown event type: "+p),[this.online_]}currentlyOnline(){return this.online_}}class hr{constructor(p,g){if(void 0===g){this.pieces_=p.split("/");let I=0;for(let F=0;F<this.pieces_.length;F++)this.pieces_[F].length>0&&(this.pieces_[I]=this.pieces_[F],I++);this.pieces_.length=I,this.pieceNum_=0}else this.pieces_=p,this.pieceNum_=g}toString(){let p="";for(let g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(p+="/"+this.pieces_[g]);return p||"/"}}function $n(){return new hr("")}function Kr(y){return y.pieceNum_>=y.pieces_.length?null:y.pieces_[y.pieceNum_]}function Hi(y){return y.pieces_.length-y.pieceNum_}function Li(y){let p=y.pieceNum_;return p<y.pieces_.length&&p++,new hr(y.pieces_,p)}function Ja(y){return y.pieceNum_<y.pieces_.length?y.pieces_[y.pieces_.length-1]:null}function Ye(y,p=0){return y.pieces_.slice(y.pieceNum_+p)}function It(y){if(y.pieceNum_>=y.pieces_.length)return null;const p=[];for(let g=y.pieceNum_;g<y.pieces_.length-1;g++)p.push(y.pieces_[g]);return new hr(p,0)}function Bt(y,p){const g=[];for(let I=y.pieceNum_;I<y.pieces_.length;I++)g.push(y.pieces_[I]);if(p instanceof hr)for(let I=p.pieceNum_;I<p.pieces_.length;I++)g.push(p.pieces_[I]);else{const I=p.split("/");for(let F=0;F<I.length;F++)I[F].length>0&&g.push(I[F])}return new hr(g,0)}function Gt(y){return y.pieceNum_>=y.pieces_.length}function er(y,p){const g=Kr(y),I=Kr(p);if(null===g)return p;if(g===I)return er(Li(y),Li(p));throw new Error("INTERNAL ERROR: innerPath ("+p+") is not within outerPath ("+y+")")}function gi(y,p){const g=Ye(y,0),I=Ye(p,0);for(let F=0;F<g.length&&F<I.length;F++){const K=Zn(g[F],I[F]);if(0!==K)return K}return g.length===I.length?0:g.length<I.length?-1:1}function di(y,p){if(Hi(y)!==Hi(p))return!1;for(let g=y.pieceNum_,I=p.pieceNum_;g<=y.pieces_.length;g++,I++)if(y.pieces_[g]!==p.pieces_[I])return!1;return!0}function Lr(y,p){let g=y.pieceNum_,I=p.pieceNum_;if(Hi(y)>Hi(p))return!1;for(;g<y.pieces_.length;){if(y.pieces_[g]!==p.pieces_[I])return!1;++g,++I}return!0}class Xa{constructor(p,g){this.errorPrefix_=g,this.parts_=Ye(p,0),this.byteLength_=Math.max(1,this.parts_.length);for(let I=0;I<this.parts_.length;I++)this.byteLength_+=(0,X.ug)(this.parts_[I]);Qi(this)}}function Qi(y){if(y.byteLength_>768)throw new Error(y.errorPrefix_+"has a key path longer than 768 bytes ("+y.byteLength_+").");if(y.parts_.length>32)throw new Error(y.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+po(y))}function po(y){return 0===y.parts_.length?"":"in property '"+y.parts_.join(".")+"'"}class La extends _i{constructor(){let p,g;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(g="visibilitychange",p="hidden"):typeof document.mozHidden<"u"?(g="mozvisibilitychange",p="mozHidden"):typeof document.msHidden<"u"?(g="msvisibilitychange",p="msHidden"):typeof document.webkitHidden<"u"&&(g="webkitvisibilitychange",p="webkitHidden")),this.visible_=!0,g&&document.addEventListener(g,()=>{const I=!document[p];I!==this.visible_&&(this.visible_=I,this.trigger("visible",I))},!1)}static getInstance(){return new La}getInitialEvent(p){return(0,X.hu)("visible"===p,"Unknown event type: "+p),[this.visible_]}}const go=1e3;let ra,Ci=(()=>{class y extends rs{constructor(g,I,F,K,ae,Ce,$e,et){if(super(),this.repoInfo_=g,this.applicationId_=I,this.onDataUpdate_=F,this.onConnectStatus_=K,this.onServerInfoUpdate_=ae,this.authTokenProvider_=Ce,this.appCheckTokenProvider_=$e,this.authOverride_=et,this.id=y.nextPersistentConnectionId_++,this.log_=gt("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=go,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,et&&!(0,X.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");La.getInstance().on("visible",this.onVisible_,this),-1===g.host.indexOf("fblocal")&&ni.getInstance().on("online",this.onOnline_,this)}sendRequest(g,I,F){const K=++this.requestNumber_,ae={r:K,a:g,b:I};this.log_((0,X.Wl)(ae)),(0,X.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(ae),F&&(this.requestCBHash_[K]=F)}get(g){this.initConnection_();const I=new X.BH,K={action:"g",request:{p:g._path.toString(),q:g._queryObject},onComplete:Ce=>{const $e=Ce.d;"ok"===Ce.s?I.resolve($e):I.reject($e)}};return this.outstandingGets_.push(K),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),I.promise}listen(g,I,F,K){this.initConnection_();const ae=g._queryIdentifier,Ce=g._path.toString();this.log_("Listen called for "+Ce+" "+ae),this.listens.has(Ce)||this.listens.set(Ce,new Map),(0,X.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,X.hu)(!this.listens.get(Ce).has(ae),"listen() called twice for same path/queryId.");const $e={onComplete:K,hashFn:I,query:g,tag:F};this.listens.get(Ce).set(ae,$e),this.connected_&&this.sendListen_($e)}sendGet_(g){const I=this.outstandingGets_[g];this.sendRequest("g",I.request,F=>{delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),I.onComplete&&I.onComplete(F)})}sendListen_(g){const I=g.query,F=I._path.toString(),K=I._queryIdentifier;this.log_("Listen on "+F+" for "+K);const ae={p:F};g.tag&&(ae.q=I._queryObject,ae.t=g.tag),ae.h=g.hashFn(),this.sendRequest("q",ae,$e=>{const et=$e.d,tn=$e.s;y.warnOnListenWarnings_(et,I),(this.listens.get(F)&&this.listens.get(F).get(K))===g&&(this.log_("listen response",$e),"ok"!==tn&&this.removeListen_(F,K),g.onComplete&&g.onComplete(tn,et))})}static warnOnListenWarnings_(g,I){if(g&&"object"==typeof g&&(0,X.r3)(g,"w")){const F=(0,X.DV)(g,"w");if(Array.isArray(F)&&~F.indexOf("no_index")){const K='".indexOn": "'+I._queryParams.getIndex().toString()+'"',ae=I._path.toString();xe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${K} at ${ae} to your security rules for better performance.`)}}}refreshAuthToken(g){this.authToken_=g,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(g)}reduceReconnectDelayIfAdminCredential_(g){(g&&40===g.length||(0,X.GJ)(g))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(g){this.appCheckToken_=g,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const g=this.authToken_,I=(0,X.w9)(g)?"auth":"gauth",F={cred:g};null===this.authOverride_?F.noauth=!0:"object"==typeof this.authOverride_&&(F.authvar=this.authOverride_),this.sendRequest(I,F,K=>{const ae=K.s,Ce=K.d||"error";this.authToken_===g&&("ok"===ae?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(ae,Ce))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},g=>{const I=g.s,F=g.d||"error";"ok"===I?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(I,F)})}unlisten(g,I){const F=g._path.toString(),K=g._queryIdentifier;this.log_("Unlisten called for "+F+" "+K),(0,X.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(F,K)&&this.connected_&&this.sendUnlisten_(F,K,g._queryObject,I)}sendUnlisten_(g,I,F,K){this.log_("Unlisten on "+g+" for "+I);const ae={p:g};K&&(ae.q=F,ae.t=K),this.sendRequest("n",ae)}onDisconnectPut(g,I,F){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",g,I,F):this.onDisconnectRequestQueue_.push({pathString:g,action:"o",data:I,onComplete:F})}onDisconnectMerge(g,I,F){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",g,I,F):this.onDisconnectRequestQueue_.push({pathString:g,action:"om",data:I,onComplete:F})}onDisconnectCancel(g,I){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",g,null,I):this.onDisconnectRequestQueue_.push({pathString:g,action:"oc",data:null,onComplete:I})}sendOnDisconnect_(g,I,F,K){const ae={p:I,d:F};this.log_("onDisconnect "+g,ae),this.sendRequest(g,ae,Ce=>{K&&setTimeout(()=>{K(Ce.s,Ce.d)},Math.floor(0))})}put(g,I,F,K){this.putInternal("p",g,I,F,K)}merge(g,I,F,K){this.putInternal("m",g,I,F,K)}putInternal(g,I,F,K,ae){this.initConnection_();const Ce={p:I,d:F};void 0!==ae&&(Ce.h=ae),this.outstandingPuts_.push({action:g,request:Ce,onComplete:K}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+I)}sendPut_(g){const I=this.outstandingPuts_[g].action,F=this.outstandingPuts_[g].request,K=this.outstandingPuts_[g].onComplete;this.outstandingPuts_[g].queued=this.connected_,this.sendRequest(I,F,ae=>{this.log_(I+" response",ae),delete this.outstandingPuts_[g],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),K&&K(ae.s,ae.d)})}reportStats(g){if(this.connected_){const I={c:g};this.log_("reportStats",I),this.sendRequest("s",I,F=>{"ok"!==F.s&&this.log_("reportStats","Error sending stats: "+F.d)})}}onDataMessage_(g){if("r"in g){this.log_("from server: "+(0,X.Wl)(g));const I=g.r,F=this.requestCBHash_[I];F&&(delete this.requestCBHash_[I],F(g.b))}else{if("error"in g)throw"A server-side error has occurred: "+g.error;"a"in g&&this.onDataPush_(g.a,g.b)}}onDataPush_(g,I){this.log_("handleServerMessage",g,I),"d"===g?this.onDataUpdate_(I.p,I.d,!1,I.t):"m"===g?this.onDataUpdate_(I.p,I.d,!0,I.t):"c"===g?this.onListenRevoked_(I.p,I.q):"ac"===g?this.onAuthRevoked_(I.s,I.d):"apc"===g?this.onAppCheckRevoked_(I.s,I.d):"sd"===g?this.onSecurityDebugPacket_(I):mt("Unrecognized action received from server: "+(0,X.Wl)(g)+"\nAre you using the latest client?")}onReady_(g,I){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(g),this.lastSessionId=I,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(g){(0,X.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(g))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(g){g&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=go,this.realtime_||this.scheduleConnect_(0)),this.visible_=g}onOnline_(g){g?(this.log_("Browser went online."),this.reconnectDelay_=go,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=go),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const g=(new Date).getTime()-this.lastConnectionAttemptTime_;let I=Math.max(0,this.reconnectDelay_-g);I=Math.random()*I,this.log_("Trying to reconnect in "+I+"ms"),this.scheduleConnect_(I),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var g=this;return(0,d.Z)(function*(){if(g.shouldReconnect_()){g.log_("Making a connection attempt"),g.lastConnectionAttemptTime_=(new Date).getTime(),g.lastConnectionEstablishedTime_=null;const I=g.onDataMessage_.bind(g),F=g.onReady_.bind(g),K=g.onRealtimeDisconnect_.bind(g),ae=g.id+":"+y.nextConnectionId_++,Ce=g.lastSessionId;let $e=!1,et=null;const tn=function(){et?et.close():($e=!0,K())};g.realtime_={close:tn,sendRequest:function(xr){(0,X.hu)(et,"sendRequest call when we're not connected not allowed."),et.sendRequest(xr)}};const yn=g.forceTokenRefresh_;g.forceTokenRefresh_=!1;try{const[xr,si]=yield Promise.all([g.authTokenProvider_.getToken(yn),g.appCheckTokenProvider_.getToken(yn)]);$e?Tt("getToken() completed but was canceled"):(Tt("getToken() completed. Creating connection."),g.authToken_=xr&&xr.accessToken,g.appCheckToken_=si&&si.token,et=new Bs(ae,g.repoInfo_,g.applicationId_,g.appCheckToken_,g.authToken_,I,F,K,$s=>{xe($s+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},Ce))}catch(xr){g.log_("Failed to get token: "+xr),$e||(g.repoInfo_.nodeAdmin&&xe(xr),tn())}}})()}interrupt(g){Tt("Interrupting connection for reason: "+g),this.interruptReasons_[g]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(g){Tt("Resuming connection for reason: "+g),delete this.interruptReasons_[g],(0,X.xb)(this.interruptReasons_)&&(this.reconnectDelay_=go,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(g){const I=g-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:I})}cancelSentTransactions_(){for(let g=0;g<this.outstandingPuts_.length;g++){const I=this.outstandingPuts_[g];I&&"h"in I.request&&I.queued&&(I.onComplete&&I.onComplete("disconnect"),delete this.outstandingPuts_[g],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(g,I){let F;F=I?I.map(ae=>Ln(ae)).join("$"):"default";const K=this.removeListen_(g,F);K&&K.onComplete&&K.onComplete("permission_denied")}removeListen_(g,I){const F=new hr(g).toString();let K;if(this.listens.has(F)){const ae=this.listens.get(F);K=ae.get(I),ae.delete(I),0===ae.size&&this.listens.delete(F)}else K=void 0;return K}onAuthRevoked_(g,I){Tt("Auth token revoked: "+g+"/"+I),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===g||"permission_denied"===g)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(g,I){Tt("App check token revoked: "+g+"/"+I),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===g||"permission_denied"===g)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(g){this.securityDebugCallback_?this.securityDebugCallback_(g):"msg"in g&&console.log("FIREBASE: "+g.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const g of this.listens.values())for(const I of g.values())this.sendListen_(I);for(let g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){const g=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(g.action,g.pathString,g.data,g.onComplete)}for(let g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)}sendConnectStats_(){const g={};let I="js";(0,X.Yr)()&&(I=this.repoInfo_.nodeAdmin?"admin_node":"node"),g["sdk."+I+"."+ct.replace(/\./g,"-")]=1,(0,X.uI)()?g["framework.cordova"]=1:(0,X.b$)()&&(g["framework.reactnative"]=1),this.reportStats(g)}shouldReconnect_(){const g=ni.getInstance().currentlyOnline();return(0,X.xb)(this.interruptReasons_)&&g}}return y.nextPersistentConnectionId_=0,y.nextConnectionId_=0,y})();class Hr{constructor(p,g){this.name=p,this.node=g}static Wrap(p,g){return new Hr(p,g)}}class _s{getCompare(){return this.compare.bind(this)}indexedValueChanged(p,g){const I=new Hr(Bn,p),F=new Hr(Bn,g);return 0!==this.compare(I,F)}minPost(){return Hr.MIN}}class da extends _s{static get __EMPTY_NODE(){return ra}static set __EMPTY_NODE(p){ra=p}compare(p,g){return Zn(p.name,g.name)}isDefinedOn(p){throw(0,X.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(p,g){return!1}minPost(){return Hr.MIN}maxPost(){return new Hr(vn,ra)}makePost(p,g){return(0,X.hu)("string"==typeof p,"KeyIndex indexValue must always be a string."),new Hr(p,ra)}toString(){return".key"}}const Zi=new da;class Mi{constructor(p,g,I,F,K=null){this.isReverse_=F,this.resultGenerator_=K,this.nodeStack_=[];let ae=1;for(;!p.isEmpty();)if(ae=g?I(p.key,g):1,F&&(ae*=-1),ae<0)p=this.isReverse_?p.left:p.right;else{if(0===ae){this.nodeStack_.push(p);break}this.nodeStack_.push(p),p=this.isReverse_?p.right:p.left}}getNext(){if(0===this.nodeStack_.length)return null;let g,p=this.nodeStack_.pop();if(g=this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value},this.isReverse_)for(p=p.left;!p.isEmpty();)this.nodeStack_.push(p),p=p.right;else for(p=p.right;!p.isEmpty();)this.nodeStack_.push(p),p=p.left;return g}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const p=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(p.key,p.value):{key:p.key,value:p.value}}}let Nr,ji=(()=>{class y{constructor(g,I,F,K,ae){this.key=g,this.value=I,this.color=F??y.RED,this.left=K??wn.EMPTY_NODE,this.right=ae??wn.EMPTY_NODE}copy(g,I,F,K,ae){return new y(g??this.key,I??this.value,F??this.color,K??this.left,ae??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(g){return this.left.inorderTraversal(g)||!!g(this.key,this.value)||this.right.inorderTraversal(g)}reverseTraversal(g){return this.right.reverseTraversal(g)||g(this.key,this.value)||this.left.reverseTraversal(g)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(g,I,F){let K=this;const ae=F(g,K.key);return K=ae<0?K.copy(null,null,null,K.left.insert(g,I,F),null):0===ae?K.copy(null,I,null,null,null):K.copy(null,null,null,null,K.right.insert(g,I,F)),K.fixUp_()}removeMin_(){if(this.left.isEmpty())return wn.EMPTY_NODE;let g=this;return!g.left.isRed_()&&!g.left.left.isRed_()&&(g=g.moveRedLeft_()),g=g.copy(null,null,null,g.left.removeMin_(),null),g.fixUp_()}remove(g,I){let F,K;if(F=this,I(g,F.key)<0)!F.left.isEmpty()&&!F.left.isRed_()&&!F.left.left.isRed_()&&(F=F.moveRedLeft_()),F=F.copy(null,null,null,F.left.remove(g,I),null);else{if(F.left.isRed_()&&(F=F.rotateRight_()),!F.right.isEmpty()&&!F.right.isRed_()&&!F.right.left.isRed_()&&(F=F.moveRedRight_()),0===I(g,F.key)){if(F.right.isEmpty())return wn.EMPTY_NODE;K=F.right.min_(),F=F.copy(K.key,K.value,null,null,F.right.removeMin_())}F=F.copy(null,null,null,null,F.right.remove(g,I))}return F.fixUp_()}isRed_(){return this.color}fixUp_(){let g=this;return g.right.isRed_()&&!g.left.isRed_()&&(g=g.rotateLeft_()),g.left.isRed_()&&g.left.left.isRed_()&&(g=g.rotateRight_()),g.left.isRed_()&&g.right.isRed_()&&(g=g.colorFlip_()),g}moveRedLeft_(){let g=this.colorFlip_();return g.right.left.isRed_()&&(g=g.copy(null,null,null,null,g.right.rotateRight_()),g=g.rotateLeft_(),g=g.colorFlip_()),g}moveRedRight_(){let g=this.colorFlip_();return g.left.left.isRed_()&&(g=g.rotateRight_(),g=g.colorFlip_()),g}rotateLeft_(){const g=this.copy(null,null,y.RED,null,this.right.left);return this.right.copy(null,null,this.color,g,null)}rotateRight_(){const g=this.copy(null,null,y.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,g)}colorFlip_(){const g=this.left.copy(null,null,!this.left.color,null,null),I=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,g,I)}checkMaxDepth_(){const g=this.check_();return Math.pow(2,g)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const g=this.left.check_();if(g!==this.right.check_())throw new Error("Black depths differ");return g+(this.isRed_()?0:1)}}return y.RED=!0,y.BLACK=!1,y})();class wn{constructor(p,g=wn.EMPTY_NODE){this.comparator_=p,this.root_=g}insert(p,g){return new wn(this.comparator_,this.root_.insert(p,g,this.comparator_).copy(null,null,ji.BLACK,null,null))}remove(p){return new wn(this.comparator_,this.root_.remove(p,this.comparator_).copy(null,null,ji.BLACK,null,null))}get(p){let g,I=this.root_;for(;!I.isEmpty();){if(g=this.comparator_(p,I.key),0===g)return I.value;g<0?I=I.left:g>0&&(I=I.right)}return null}getPredecessorKey(p){let g,I=this.root_,F=null;for(;!I.isEmpty();){if(g=this.comparator_(p,I.key),0===g){if(I.left.isEmpty())return F?F.key:null;for(I=I.left;!I.right.isEmpty();)I=I.right;return I.key}g<0?I=I.left:g>0&&(F=I,I=I.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(p){return this.root_.inorderTraversal(p)}reverseTraversal(p){return this.root_.reverseTraversal(p)}getIterator(p){return new Mi(this.root_,null,this.comparator_,!1,p)}getIteratorFrom(p,g){return new Mi(this.root_,p,this.comparator_,!1,g)}getReverseIteratorFrom(p,g){return new Mi(this.root_,p,this.comparator_,!0,g)}getReverseIterator(p){return new Mi(this.root_,null,this.comparator_,!0,p)}}function Yr(y,p){return Zn(y.name,p.name)}function Ai(y,p){return Zn(y,p)}wn.EMPTY_NODE=new class Oi{copy(p,g,I,F,K){return this}insert(p,g,I){return new ji(p,g,null)}remove(p,g){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(p){return!1}reverseTraversal(p){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Vi=function(y){return"number"==typeof y?"number:"+wt(y):"string:"+y},mo=function(y){if(y.isLeafNode()){const p=y.val();(0,X.hu)("string"==typeof p||"number"==typeof p||"object"==typeof p&&(0,X.r3)(p,".sv"),"Priority must be a string or number.")}else(0,X.hu)(y===Nr||y.isEmpty(),"priority of unexpected type.");(0,X.hu)(y===Nr||y.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let is,Ho,Rr,Us=(()=>{class y{constructor(g,I=y.__childrenNodeConstructor.EMPTY_NODE){this.value_=g,this.priorityNode_=I,this.lazyHash_=null,(0,X.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),mo(this.priorityNode_)}static set __childrenNodeConstructor(g){is=g}static get __childrenNodeConstructor(){return is}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(g){return new y(this.value_,g)}getImmediateChild(g){return".priority"===g?this.priorityNode_:y.__childrenNodeConstructor.EMPTY_NODE}getChild(g){return Gt(g)?this:".priority"===Kr(g)?this.priorityNode_:y.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(g,I){return null}updateImmediateChild(g,I){return".priority"===g?this.updatePriority(I):I.isEmpty()&&".priority"!==g?this:y.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(g,I).updatePriority(this.priorityNode_)}updateChild(g,I){const F=Kr(g);return null===F?I:I.isEmpty()&&".priority"!==F?this:((0,X.hu)(".priority"!==F||1===Hi(g),".priority must be the last token in a path"),this.updateImmediateChild(F,y.__childrenNodeConstructor.EMPTY_NODE.updateChild(Li(g),I)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(g,I){return!1}val(g){return g&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let g="";this.priorityNode_.isEmpty()||(g+="priority:"+Vi(this.priorityNode_.val())+":");const I=typeof this.value_;g+=I+":",g+="number"===I?wt(this.value_):this.value_,this.lazyHash_=fn(g)}return this.lazyHash_}getValue(){return this.value_}compareTo(g){return g===y.__childrenNodeConstructor.EMPTY_NODE?1:g instanceof y.__childrenNodeConstructor?-1:((0,X.hu)(g.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(g))}compareToLeafNode_(g){const I=typeof g.value_,F=typeof this.value_,K=y.VALUE_TYPE_ORDER.indexOf(I),ae=y.VALUE_TYPE_ORDER.indexOf(F);return(0,X.hu)(K>=0,"Unknown leaf type: "+I),(0,X.hu)(ae>=0,"Unknown leaf type: "+F),K===ae?"object"===F?0:this.value_<g.value_?-1:this.value_===g.value_?0:1:ae-K}withIndex(){return this}isIndexed(){return!0}equals(g){return g===this||!!g.isLeafNode()&&(this.value_===g.value_&&this.priorityNode_.equals(g.priorityNode_))}}return y.VALUE_TYPE_ORDER=["object","boolean","number","string"],y})();const Ur=new class _o extends _s{compare(p,g){const I=p.node.getPriority(),F=g.node.getPriority(),K=I.compareTo(F);return 0===K?Zn(p.name,g.name):K}isDefinedOn(p){return!p.getPriority().isEmpty()}indexedValueChanged(p,g){return!p.getPriority().equals(g.getPriority())}minPost(){return Hr.MIN}maxPost(){return new Hr(vn,new Us("[PRIORITY-POST]",Rr))}makePost(p,g){const I=Ho(p);return new Hr(g,new Us("[PRIORITY-POST]",I))}toString(){return".priority"}},ya=Math.log(2);class Gs{constructor(p){this.count=parseInt(Math.log(p+1)/ya,10),this.current_=this.count-1;const F=(K=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=p+1&F}nextBitIsOne(){const p=!(this.bits_&1<<this.current_);return this.current_--,p}}const xs=function(y,p,g,I){y.sort(p);const F=function($e,et){const tn=et-$e;let on,yn;if(0===tn)return null;if(1===tn)return on=y[$e],yn=g?g(on):on,new ji(yn,on.node,ji.BLACK,null,null);{const xr=parseInt(tn/2,10)+$e,si=F($e,xr),$s=F(xr+1,et);return on=y[xr],yn=g?g(on):on,new ji(yn,on.node,ji.BLACK,si,$s)}},Ce=function($e){let et=null,tn=null,on=y.length;const yn=function(si,$s){const qa=on-si,Au=on;on-=si;const Uh=F(qa+1,Au),Td=y[qa],Qg=g?g(Td):Td;xr(new ji(Qg,Td.node,$s,null,Uh))},xr=function(si){et?(et.left=si,et=si):(tn=si,et=si)};for(let si=0;si<$e.count;++si){const $s=$e.nextBitIsOne(),qa=Math.pow(2,$e.count-(si+1));$s?yn(qa,ji.BLACK):(yn(qa,ji.BLACK),yn(qa,ji.RED))}return tn}(new Gs(y.length));return new wn(I||p,Ce)};let Ms;const va={};class io{constructor(p,g){this.indexes_=p,this.indexSet_=g}static get Default(){return(0,X.hu)(va&&Ur,"ChildrenNode.ts has not been loaded"),Ms=Ms||new io({".priority":va},{".priority":Ur}),Ms}get(p){const g=(0,X.DV)(this.indexes_,p);if(!g)throw new Error("No index defined for "+p);return g instanceof wn?g:null}hasIndex(p){return(0,X.r3)(this.indexSet_,p.toString())}addIndex(p,g){(0,X.hu)(p!==Zi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const I=[];let F=!1;const K=g.getIterator(Hr.Wrap);let Ce,ae=K.getNext();for(;ae;)F=F||p.isDefinedOn(ae.node),I.push(ae),ae=K.getNext();Ce=F?xs(I,p.getCompare()):va;const $e=p.toString(),et=Object.assign({},this.indexSet_);et[$e]=p;const tn=Object.assign({},this.indexes_);return tn[$e]=Ce,new io(tn,et)}addToIndexes(p,g){const I=(0,X.UI)(this.indexes_,(F,K)=>{const ae=(0,X.DV)(this.indexSet_,K);if((0,X.hu)(ae,"Missing index implementation for "+K),F===va){if(ae.isDefinedOn(p.node)){const Ce=[],$e=g.getIterator(Hr.Wrap);let et=$e.getNext();for(;et;)et.name!==p.name&&Ce.push(et),et=$e.getNext();return Ce.push(p),xs(Ce,ae.getCompare())}return va}{const Ce=g.get(p.name);let $e=F;return Ce&&($e=$e.remove(new Hr(p.name,Ce))),$e.insert(p,p.node)}});return new io(I,this.indexSet_)}removeFromIndexes(p,g){const I=(0,X.UI)(this.indexes_,F=>{if(F===va)return F;{const K=g.get(p.name);return K?F.remove(new Hr(p.name,K)):F}});return new io(I,this.indexSet_)}}let Hs,Fr=(()=>{class y{constructor(g,I,F){this.children_=g,this.priorityNode_=I,this.indexMap_=F,this.lazyHash_=null,this.priorityNode_&&mo(this.priorityNode_),this.children_.isEmpty()&&(0,X.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hs||(Hs=new y(new wn(Ai),null,io.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hs}updatePriority(g){return this.children_.isEmpty()?this:new y(this.children_,g,this.indexMap_)}getImmediateChild(g){if(".priority"===g)return this.getPriority();{const I=this.children_.get(g);return null===I?Hs:I}}getChild(g){const I=Kr(g);return null===I?this:this.getImmediateChild(I).getChild(Li(g))}hasChild(g){return null!==this.children_.get(g)}updateImmediateChild(g,I){if((0,X.hu)(I,"We should always be passing snapshot nodes"),".priority"===g)return this.updatePriority(I);{const F=new Hr(g,I);let K,ae;I.isEmpty()?(K=this.children_.remove(g),ae=this.indexMap_.removeFromIndexes(F,this.children_)):(K=this.children_.insert(g,I),ae=this.indexMap_.addToIndexes(F,this.children_));const Ce=K.isEmpty()?Hs:this.priorityNode_;return new y(K,Ce,ae)}}updateChild(g,I){const F=Kr(g);if(null===F)return I;{(0,X.hu)(".priority"!==Kr(g)||1===Hi(g),".priority must be the last token in a path");const K=this.getImmediateChild(F).updateChild(Li(g),I);return this.updateImmediateChild(F,K)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(g){if(this.isEmpty())return null;const I={};let F=0,K=0,ae=!0;if(this.forEachChild(Ur,(Ce,$e)=>{I[Ce]=$e.val(g),F++,ae&&y.INTEGER_REGEXP_.test(Ce)?K=Math.max(K,Number(Ce)):ae=!1}),!g&&ae&&K<2*F){const Ce=[];for(const $e in I)Ce[$e]=I[$e];return Ce}return g&&!this.getPriority().isEmpty()&&(I[".priority"]=this.getPriority().val()),I}hash(){if(null===this.lazyHash_){let g="";this.getPriority().isEmpty()||(g+="priority:"+Vi(this.getPriority().val())+":"),this.forEachChild(Ur,(I,F)=>{const K=F.hash();""!==K&&(g+=":"+I+":"+K)}),this.lazyHash_=""===g?"":fn(g)}return this.lazyHash_}getPredecessorChildName(g,I,F){const K=this.resolveIndex_(F);if(K){const ae=K.getPredecessorKey(new Hr(g,I));return ae?ae.name:null}return this.children_.getPredecessorKey(g)}getFirstChildName(g){const I=this.resolveIndex_(g);if(I){const F=I.minKey();return F&&F.name}return this.children_.minKey()}getFirstChild(g){const I=this.getFirstChildName(g);return I?new Hr(I,this.children_.get(I)):null}getLastChildName(g){const I=this.resolveIndex_(g);if(I){const F=I.maxKey();return F&&F.name}return this.children_.maxKey()}getLastChild(g){const I=this.getLastChildName(g);return I?new Hr(I,this.children_.get(I)):null}forEachChild(g,I){const F=this.resolveIndex_(g);return F?F.inorderTraversal(K=>I(K.name,K.node)):this.children_.inorderTraversal(I)}getIterator(g){return this.getIteratorFrom(g.minPost(),g)}getIteratorFrom(g,I){const F=this.resolveIndex_(I);if(F)return F.getIteratorFrom(g,K=>K);{const K=this.children_.getIteratorFrom(g.name,Hr.Wrap);let ae=K.peek();for(;null!=ae&&I.compare(ae,g)<0;)K.getNext(),ae=K.peek();return K}}getReverseIterator(g){return this.getReverseIteratorFrom(g.maxPost(),g)}getReverseIteratorFrom(g,I){const F=this.resolveIndex_(I);if(F)return F.getReverseIteratorFrom(g,K=>K);{const K=this.children_.getReverseIteratorFrom(g.name,Hr.Wrap);let ae=K.peek();for(;null!=ae&&I.compare(ae,g)>0;)K.getNext(),ae=K.peek();return K}}compareTo(g){return this.isEmpty()?g.isEmpty()?0:-1:g.isLeafNode()||g.isEmpty()?1:g===ii?-1:0}withIndex(g){if(g===Zi||this.indexMap_.hasIndex(g))return this;{const I=this.indexMap_.addIndex(g,this.children_);return new y(this.children_,this.priorityNode_,I)}}isIndexed(g){return g===Zi||this.indexMap_.hasIndex(g)}equals(g){if(g===this)return!0;if(g.isLeafNode())return!1;{const I=g;if(this.getPriority().equals(I.getPriority())){if(this.children_.count()===I.children_.count()){const F=this.getIterator(Ur),K=I.getIterator(Ur);let ae=F.getNext(),Ce=K.getNext();for(;ae&&Ce;){if(ae.name!==Ce.name||!ae.node.equals(Ce.node))return!1;ae=F.getNext(),Ce=K.getNext()}return null===ae&&null===Ce}return!1}return!1}}resolveIndex_(g){return g===Zi?null:this.indexMap_.get(g.toString())}}return y.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,y})();const ii=new class yo extends Fr{constructor(){super(new wn(Ai),Fr.EMPTY_NODE,io.Default)}compareTo(p){return p===this?0:1}equals(p){return p===this}getPriority(){return this}getImmediateChild(p){return Fr.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Hr,{MIN:{value:new Hr(Bn,Fr.EMPTY_NODE)},MAX:{value:new Hr(vn,ii)}}),da.__EMPTY_NODE=Fr.EMPTY_NODE,Us.__childrenNodeConstructor=Fr,function ia(y){Nr=y}(ii),function el(y){Rr=y}(ii);const vl=!0;function Ji(y,p=null){if(null===y)return Fr.EMPTY_NODE;if("object"==typeof y&&".priority"in y&&(p=y[".priority"]),(0,X.hu)(null===p||"string"==typeof p||"number"==typeof p||"object"==typeof p&&".sv"in p,"Invalid priority type found: "+typeof p),"object"==typeof y&&".value"in y&&null!==y[".value"]&&(y=y[".value"]),"object"!=typeof y||".sv"in y)return new Us(y,Ji(p));if(y instanceof Array||!vl){let g=Fr.EMPTY_NODE;return rt(y,(I,F)=>{if((0,X.r3)(y,I)&&"."!==I.substring(0,1)){const K=Ji(F);(K.isLeafNode()||!K.isEmpty())&&(g=g.updateImmediateChild(I,K))}}),g.updatePriority(Ji(p))}{const g=[];let I=!1;if(rt(y,(ae,Ce)=>{if("."!==ae.substring(0,1)){const $e=Ji(Ce);$e.isEmpty()||(I=I||!$e.getPriority().isEmpty(),g.push(new Hr(ae,$e)))}}),0===g.length)return Fr.EMPTY_NODE;const K=xs(g,Yr,ae=>ae.name,Ai);if(I){const ae=xs(g,Ur.getCompare());return new Fr(K,Ji(p),new io({".priority":ae},{".priority":Ur}))}return new Fr(K,Ji(p),io.Default)}}!function ko(y){Ho=y}(Ji);class Ba extends _s{constructor(p){super(),this.indexPath_=p,(0,X.hu)(!Gt(p)&&".priority"!==Kr(p),"Can't create PathIndex with empty path or .priority key")}extractChild(p){return p.getChild(this.indexPath_)}isDefinedOn(p){return!p.getChild(this.indexPath_).isEmpty()}compare(p,g){const I=this.extractChild(p.node),F=this.extractChild(g.node),K=I.compareTo(F);return 0===K?Zn(p.name,g.name):K}makePost(p,g){const I=Ji(p),F=Fr.EMPTY_NODE.updateChild(this.indexPath_,I);return new Hr(g,F)}maxPost(){const p=Fr.EMPTY_NODE.updateChild(this.indexPath_,ii);return new Hr(vn,p)}toString(){return Ye(this.indexPath_,0).join("/")}}const Ns=new class so extends _s{compare(p,g){const I=p.node.compareTo(g.node);return 0===I?Zn(p.name,g.name):I}isDefinedOn(p){return!0}indexedValueChanged(p,g){return!p.equals(g)}minPost(){return Hr.MIN}maxPost(){return Hr.MAX}makePost(p,g){const I=Ji(p);return new Hr(g,I)}toString(){return".value"}};function Ea(y){return{type:"value",snapshotNode:y}}function vo(y,p){return{type:"child_added",snapshotNode:p,childName:y}}function ps(y,p){return{type:"child_removed",snapshotNode:p,childName:y}}function wa(y,p,g){return{type:"child_changed",snapshotNode:p,childName:y,oldSnap:g}}class Ni{constructor(p){this.index_=p}updateChild(p,g,I,F,K,ae){(0,X.hu)(p.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Ce=p.getImmediateChild(g);return Ce.getChild(F).equals(I.getChild(F))&&Ce.isEmpty()===I.isEmpty()||(null!=ae&&(I.isEmpty()?p.hasChild(g)?ae.trackChildChange(ps(g,Ce)):(0,X.hu)(p.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Ce.isEmpty()?ae.trackChildChange(vo(g,I)):ae.trackChildChange(wa(g,I,Ce))),p.isLeafNode()&&I.isEmpty())?p:p.updateImmediateChild(g,I).withIndex(this.index_)}updateFullNode(p,g,I){return null!=I&&(p.isLeafNode()||p.forEachChild(Ur,(F,K)=>{g.hasChild(F)||I.trackChildChange(ps(F,K))}),g.isLeafNode()||g.forEachChild(Ur,(F,K)=>{if(p.hasChild(F)){const ae=p.getImmediateChild(F);ae.equals(K)||I.trackChildChange(wa(F,K,ae))}else I.trackChildChange(vo(F,K))})),g.withIndex(this.index_)}updatePriority(p,g){return p.isEmpty()?Fr.EMPTY_NODE:p.updatePriority(g)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zo{constructor(p){this.indexedFilter_=new Ni(p.getIndex()),this.index_=p.getIndex(),this.startPost_=zo.getStartPost_(p),this.endPost_=zo.getEndPost_(p),this.startIsInclusive_=!p.startAfterSet_,this.endIsInclusive_=!p.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(p){const g=this.startIsInclusive_?this.index_.compare(this.getStartPost(),p)<=0:this.index_.compare(this.getStartPost(),p)<0,I=this.endIsInclusive_?this.index_.compare(p,this.getEndPost())<=0:this.index_.compare(p,this.getEndPost())<0;return g&&I}updateChild(p,g,I,F,K,ae){return this.matches(new Hr(g,I))||(I=Fr.EMPTY_NODE),this.indexedFilter_.updateChild(p,g,I,F,K,ae)}updateFullNode(p,g,I){g.isLeafNode()&&(g=Fr.EMPTY_NODE);let F=g.withIndex(this.index_);F=F.updatePriority(Fr.EMPTY_NODE);const K=this;return g.forEachChild(Ur,(ae,Ce)=>{K.matches(new Hr(ae,Ce))||(F=F.updateImmediateChild(ae,Fr.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(p,F,I)}updatePriority(p,g){return p}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(p){if(p.hasStart()){const g=p.getIndexStartName();return p.getIndex().makePost(p.getIndexStartValue(),g)}return p.getIndex().minPost()}static getEndPost_(p){if(p.hasEnd()){const g=p.getIndexEndName();return p.getIndex().makePost(p.getIndexEndValue(),g)}return p.getIndex().maxPost()}}class oo{constructor(p){this.withinDirectionalStart=g=>this.reverse_?this.withinEndPost(g):this.withinStartPost(g),this.withinDirectionalEnd=g=>this.reverse_?this.withinStartPost(g):this.withinEndPost(g),this.withinStartPost=g=>{const I=this.index_.compare(this.rangedFilter_.getStartPost(),g);return this.startIsInclusive_?I<=0:I<0},this.withinEndPost=g=>{const I=this.index_.compare(g,this.rangedFilter_.getEndPost());return this.endIsInclusive_?I<=0:I<0},this.rangedFilter_=new zo(p),this.index_=p.getIndex(),this.limit_=p.getLimit(),this.reverse_=!p.isViewFromLeft(),this.startIsInclusive_=!p.startAfterSet_,this.endIsInclusive_=!p.endBeforeSet_}updateChild(p,g,I,F,K,ae){return this.rangedFilter_.matches(new Hr(g,I))||(I=Fr.EMPTY_NODE),p.getImmediateChild(g).equals(I)?p:p.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(p,g,I,F,K,ae):this.fullLimitUpdateChild_(p,g,I,K,ae)}updateFullNode(p,g,I){let F;if(g.isLeafNode()||g.isEmpty())F=Fr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<g.numChildren()&&g.isIndexed(this.index_)){let K;F=Fr.EMPTY_NODE.withIndex(this.index_),K=this.reverse_?g.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):g.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let ae=0;for(;K.hasNext()&&ae<this.limit_;){const Ce=K.getNext();if(this.withinDirectionalStart(Ce)){if(!this.withinDirectionalEnd(Ce))break;F=F.updateImmediateChild(Ce.name,Ce.node),ae++}}}else{let K;F=g.withIndex(this.index_),F=F.updatePriority(Fr.EMPTY_NODE),K=this.reverse_?F.getReverseIterator(this.index_):F.getIterator(this.index_);let ae=0;for(;K.hasNext();){const Ce=K.getNext();ae<this.limit_&&this.withinDirectionalStart(Ce)&&this.withinDirectionalEnd(Ce)?ae++:F=F.updateImmediateChild(Ce.name,Fr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(p,F,I)}updatePriority(p,g){return p}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(p,g,I,F,K){let ae;if(this.reverse_){const on=this.index_.getCompare();ae=(yn,xr)=>on(xr,yn)}else ae=this.index_.getCompare();const Ce=p;(0,X.hu)(Ce.numChildren()===this.limit_,"");const $e=new Hr(g,I),et=this.reverse_?Ce.getFirstChild(this.index_):Ce.getLastChild(this.index_),tn=this.rangedFilter_.matches($e);if(Ce.hasChild(g)){const on=Ce.getImmediateChild(g);let yn=F.getChildAfterChild(this.index_,et,this.reverse_);for(;null!=yn&&(yn.name===g||Ce.hasChild(yn.name));)yn=F.getChildAfterChild(this.index_,yn,this.reverse_);const xr=null==yn?1:ae(yn,$e);if(tn&&!I.isEmpty()&&xr>=0)return K?.trackChildChange(wa(g,I,on)),Ce.updateImmediateChild(g,I);{K?.trackChildChange(ps(g,on));const $s=Ce.updateImmediateChild(g,Fr.EMPTY_NODE);return null!=yn&&this.rangedFilter_.matches(yn)?(K?.trackChildChange(vo(yn.name,yn.node)),$s.updateImmediateChild(yn.name,yn.node)):$s}}return I.isEmpty()?p:tn&&ae(et,$e)>=0?(null!=K&&(K.trackChildChange(ps(et.name,et.node)),K.trackChildChange(vo(g,I))),Ce.updateImmediateChild(g,I).updateImmediateChild(et.name,Fr.EMPTY_NODE)):p}}class Bi{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ur}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,X.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,X.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Bn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,X.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,X.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,X.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ur}copy(){const p=new Bi;return p.limitSet_=this.limitSet_,p.limit_=this.limit_,p.startSet_=this.startSet_,p.startAfterSet_=this.startAfterSet_,p.indexStartValue_=this.indexStartValue_,p.startNameSet_=this.startNameSet_,p.indexStartName_=this.indexStartName_,p.endSet_=this.endSet_,p.endBeforeSet_=this.endBeforeSet_,p.indexEndValue_=this.indexEndValue_,p.endNameSet_=this.endNameSet_,p.indexEndName_=this.indexEndName_,p.index_=this.index_,p.viewFrom_=this.viewFrom_,p}}function Oa(y,p,g){const I=y.copy();return I.startSet_=!0,void 0===p&&(p=null),I.indexStartValue_=p,null!=g?(I.startNameSet_=!0,I.indexStartName_=g):(I.startNameSet_=!1,I.indexStartName_=""),I}function tl(y,p,g){const I=y.copy();return I.endSet_=!0,void 0===p&&(p=null),I.indexEndValue_=p,void 0!==g?(I.endNameSet_=!0,I.indexEndName_=g):(I.endNameSet_=!1,I.indexEndName_=""),I}function ha(y,p){const g=y.copy();return g.index_=p,g}function Wo(y){const p={};if(y.isDefault())return p;let g;if(y.index_===Ur?g="$priority":y.index_===Ns?g="$value":y.index_===Zi?g="$key":((0,X.hu)(y.index_ instanceof Ba,"Unrecognized index type!"),g=y.index_.toString()),p.orderBy=(0,X.Wl)(g),y.startSet_){const I=y.startAfterSet_?"startAfter":"startAt";p[I]=(0,X.Wl)(y.indexStartValue_),y.startNameSet_&&(p[I]+=","+(0,X.Wl)(y.indexStartName_))}if(y.endSet_){const I=y.endBeforeSet_?"endBefore":"endAt";p[I]=(0,X.Wl)(y.indexEndValue_),y.endNameSet_&&(p[I]+=","+(0,X.Wl)(y.indexEndName_))}return y.limitSet_&&(y.isViewFromLeft()?p.limitToFirst=y.limit_:p.limitToLast=y.limit_),p}function Nl(y){const p={};if(y.startSet_&&(p.sp=y.indexStartValue_,y.startNameSet_&&(p.sn=y.indexStartName_),p.sin=!y.startAfterSet_),y.endSet_&&(p.ep=y.indexEndValue_,y.endNameSet_&&(p.en=y.indexEndName_),p.ein=!y.endBeforeSet_),y.limitSet_){p.l=y.limit_;let g=y.viewFrom_;""===g&&(g=y.isViewFromLeft()?"l":"r"),p.vf=g}return y.index_!==Ur&&(p.i=y.index_.toString()),p}class fa extends rs{constructor(p,g,I,F){super(),this.repoInfo_=p,this.onDataUpdate_=g,this.authTokenProvider_=I,this.appCheckTokenProvider_=F,this.log_=gt("p:rest:"),this.listens_={}}reportStats(p){throw new Error("Method not implemented.")}static getListenId_(p,g){return void 0!==g?"tag$"+g:((0,X.hu)(p._queryParams.isDefault(),"should have a tag if it's not a default query."),p._path.toString())}listen(p,g,I,F){const K=p._path.toString();this.log_("Listen called for "+K+" "+p._queryIdentifier);const ae=fa.getListenId_(p,I),Ce={};this.listens_[ae]=Ce;const $e=Wo(p._queryParams);this.restRequest_(K+".json",$e,(et,tn)=>{let on=tn;if(404===et&&(on=null,et=null),null===et&&this.onDataUpdate_(K,on,!1,I),(0,X.DV)(this.listens_,ae)===Ce){let yn;yn=et?401===et?"permission_denied":"rest_error:"+et:"ok",F(yn,null)}})}unlisten(p,g){const I=fa.getListenId_(p,g);delete this.listens_[I]}get(p){const g=Wo(p._queryParams),I=p._path.toString(),F=new X.BH;return this.restRequest_(I+".json",g,(K,ae)=>{let Ce=ae;404===K&&(Ce=null,K=null),null===K?(this.onDataUpdate_(I,Ce,!1,null),F.resolve(Ce)):F.reject(new Error(Ce))}),F.promise}refreshAuthToken(p){}restRequest_(p,g={},I){return g.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([F,K])=>{F&&F.accessToken&&(g.auth=F.accessToken),K&&K.token&&(g.ac=K.token);const ae=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+p+"?ns="+this.repoInfo_.namespace+(0,X.xO)(g);this.log_("Sending REST request for "+ae);const Ce=new XMLHttpRequest;Ce.onreadystatechange=()=>{if(I&&4===Ce.readyState){this.log_("REST Response for "+ae+" received. status:",Ce.status,"response:",Ce.responseText);let $e=null;if(Ce.status>=200&&Ce.status<300){try{$e=(0,X.cI)(Ce.responseText)}catch{xe("Failed to parse JSON response for "+ae+": "+Ce.responseText)}I(null,$e)}else 401!==Ce.status&&404!==Ce.status&&xe("Got unsuccessful REST response for "+ae+" Status: "+Ce.status),I(Ce.status);I=null}},Ce.open("GET",ae,!0),Ce.send()})}}class es{constructor(){this.rootNode_=Fr.EMPTY_NODE}getNode(p){return this.rootNode_.getChild(p)}updateSnapshot(p,g){this.rootNode_=this.rootNode_.updateChild(p,g)}}function Co(){return{value:null,children:new Map}}function Eo(y,p,g){if(Gt(p))y.value=g,y.children.clear();else if(null!==y.value)y.value=y.value.updateChild(p,g);else{const I=Kr(p);y.children.has(I)||y.children.set(I,Co()),Eo(y.children.get(I),p=Li(p),g)}}function ne(y,p){if(Gt(p))return y.value=null,y.children.clear(),!0;if(null!==y.value){if(y.value.isLeafNode())return!1;{const g=y.value;return y.value=null,g.forEachChild(Ur,(I,F)=>{Eo(y,new hr(I),F)}),ne(y,p)}}if(y.children.size>0){const g=Kr(p);return p=Li(p),y.children.has(g)&&ne(y.children.get(g),p)&&y.children.delete(g),0===y.children.size}return!0}function Z(y,p,g){null!==y.value?g(p,y.value):function we(y,p){y.children.forEach((g,I)=>{p(I,g)})}(y,(I,F)=>{Z(F,new hr(p.toString()+"/"+I),g)})}class te{constructor(p){this.collection_=p,this.last_=null}get(){const p=this.collection_.get(),g=Object.assign({},p);return this.last_&&rt(this.last_,(I,F)=>{g[I]=g[I]-F}),this.last_=p,g}}class ks{constructor(p,g){this.server_=g,this.statsToReport_={},this.statsListener_=new te(p);const I=1e4+2e4*Math.random();Pr(this.reportStats_.bind(this),Math.floor(I))}reportStats_(){const p=this.statsListener_.get(),g={};let I=!1;rt(p,(F,K)=>{K>0&&(0,X.r3)(this.statsToReport_,F)&&(g[F]=K,I=!0)}),I&&this.server_.reportStats(g),Pr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var zi=function(y){return y[y.OVERWRITE=0]="OVERWRITE",y[y.MERGE=1]="MERGE",y[y.ACK_USER_WRITE=2]="ACK_USER_WRITE",y[y.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",y}(zi||{});function Zs(y){return{fromUser:!1,fromServer:!0,queryId:y,tagged:!0}}class ja{constructor(p,g,I){this.path=p,this.affectedTree=g,this.revert=I,this.type=zi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(p){if(Gt(this.path)){if(null!=this.affectedTree.value)return(0,X.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const g=this.affectedTree.subtree(new hr(p));return new ja($n(),g,this.revert)}}return(0,X.hu)(Kr(this.path)===p,"operationForChild called for unrelated child."),new ja(Li(this.path),this.affectedTree,this.revert)}}class ao{constructor(p,g){this.source=p,this.path=g,this.type=zi.LISTEN_COMPLETE}operationForChild(p){return Gt(this.path)?new ao(this.source,$n()):new ao(this.source,Li(this.path))}}class ds{constructor(p,g,I){this.source=p,this.path=g,this.snap=I,this.type=zi.OVERWRITE}operationForChild(p){return Gt(this.path)?new ds(this.source,$n(),this.snap.getImmediateChild(p)):new ds(this.source,Li(this.path),this.snap)}}class sa{constructor(p,g,I){this.source=p,this.path=g,this.children=I,this.type=zi.MERGE}operationForChild(p){if(Gt(this.path)){const g=this.children.subtree(new hr(p));return g.isEmpty()?null:g.value?new ds(this.source,$n(),g.value):new sa(this.source,$n(),g)}return(0,X.hu)(Kr(this.path)===p,"Can't get a merge for a child not on the path of the operation"),new sa(this.source,Li(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ys{constructor(p,g,I){this.node_=p,this.fullyInitialized_=g,this.filtered_=I}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(p){if(Gt(p))return this.isFullyInitialized()&&!this.filtered_;const g=Kr(p);return this.isCompleteForChild(g)}isCompleteForChild(p){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(p)}getNode(){return this.node_}}class pa{constructor(p){this.query_=p,this.index_=this.query_._queryParams.getIndex()}}function $a(y,p,g,I,F,K){const ae=I.filter(Ce=>Ce.type===g);ae.sort((Ce,$e)=>function Ga(y,p,g){if(null==p.childName||null==g.childName)throw(0,X.g5)("Should only compare child_ events.");const I=new Hr(p.childName,p.snapshotNode),F=new Hr(g.childName,g.snapshotNode);return y.index_.compare(I,F)}(y,Ce,$e)),ae.forEach(Ce=>{const $e=function Ia(y,p,g){return"value"===p.type||"child_removed"===p.type||(p.prevName=g.getPredecessorChildName(p.childName,p.snapshotNode,y.index_)),p}(y,Ce,K);F.forEach(et=>{et.respondsTo(Ce.type)&&p.push(et.createEvent($e,y.query_))})})}function Pa(y,p){return{eventCache:y,serverCache:p}}function cl(y,p,g,I){return Pa(new ys(p,g,I),y.serverCache)}function js(y,p,g,I){return Pa(y.eventCache,new ys(p,g,I))}function Il(y){return y.eventCache.isFullyInitialized()?y.eventCache.getNode():null}function Fs(y){return y.serverCache.isFullyInitialized()?y.serverCache.getNode():null}let Tl;class bi{constructor(p,g=(()=>(Tl||(Tl=new wn(lr)),Tl))()){this.value=p,this.children=g}static fromObject(p){let g=new bi(null);return rt(p,(I,F)=>{g=g.set(new hr(I),F)}),g}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(p,g){if(null!=this.value&&g(this.value))return{path:$n(),value:this.value};if(Gt(p))return null;{const I=Kr(p),F=this.children.get(I);if(null!==F){const K=F.findRootMostMatchingPathAndValue(Li(p),g);return null!=K?{path:Bt(new hr(I),K.path),value:K.value}:null}return null}}findRootMostValueAndPath(p){return this.findRootMostMatchingPathAndValue(p,()=>!0)}subtree(p){if(Gt(p))return this;{const g=Kr(p),I=this.children.get(g);return null!==I?I.subtree(Li(p)):new bi(null)}}set(p,g){if(Gt(p))return new bi(g,this.children);{const I=Kr(p),K=(this.children.get(I)||new bi(null)).set(Li(p),g),ae=this.children.insert(I,K);return new bi(this.value,ae)}}remove(p){if(Gt(p))return this.children.isEmpty()?new bi(null):new bi(null,this.children);{const g=Kr(p),I=this.children.get(g);if(I){const F=I.remove(Li(p));let K;return K=F.isEmpty()?this.children.remove(g):this.children.insert(g,F),null===this.value&&K.isEmpty()?new bi(null):new bi(this.value,K)}return this}}get(p){if(Gt(p))return this.value;{const g=Kr(p),I=this.children.get(g);return I?I.get(Li(p)):null}}setTree(p,g){if(Gt(p))return g;{const I=Kr(p),K=(this.children.get(I)||new bi(null)).setTree(Li(p),g);let ae;return ae=K.isEmpty()?this.children.remove(I):this.children.insert(I,K),new bi(this.value,ae)}}fold(p){return this.fold_($n(),p)}fold_(p,g){const I={};return this.children.inorderTraversal((F,K)=>{I[F]=K.fold_(Bt(p,F),g)}),g(p,this.value,I)}findOnPath(p,g){return this.findOnPath_(p,$n(),g)}findOnPath_(p,g,I){const F=!!this.value&&I(g,this.value);if(F)return F;if(Gt(p))return null;{const K=Kr(p),ae=this.children.get(K);return ae?ae.findOnPath_(Li(p),Bt(g,K),I):null}}foreachOnPath(p,g){return this.foreachOnPath_(p,$n(),g)}foreachOnPath_(p,g,I){if(Gt(p))return this;{this.value&&I(g,this.value);const F=Kr(p),K=this.children.get(F);return K?K.foreachOnPath_(Li(p),Bt(g,F),I):new bi(null)}}foreach(p){this.foreach_($n(),p)}foreach_(p,g){this.children.inorderTraversal((I,F)=>{F.foreach_(Bt(p,I),g)}),this.value&&g(p,this.value)}foreachChild(p){this.children.inorderTraversal((g,I)=>{I.value&&p(g,I.value)})}}class Js{constructor(p){this.writeTree_=p}static empty(){return new Js(new bi(null))}}function qo(y,p,g){if(Gt(p))return new Js(new bi(g));{const I=y.writeTree_.findRootMostValueAndPath(p);if(null!=I){const F=I.path;let K=I.value;const ae=er(F,p);return K=K.updateChild(ae,g),new Js(y.writeTree_.set(F,K))}{const F=new bi(g),K=y.writeTree_.setTree(p,F);return new Js(K)}}}function kl(y,p,g){let I=y;return rt(g,(F,K)=>{I=qo(I,Bt(p,F),K)}),I}function $i(y,p){if(Gt(p))return Js.empty();{const g=y.writeTree_.setTree(p,new bi(null));return new Js(g)}}function Ha(y,p){return null!=oa(y,p)}function oa(y,p){const g=y.writeTree_.findRootMostValueAndPath(p);return null!=g?y.writeTree_.get(g.path).getChild(er(g.path,p)):null}function Ma(y){const p=[],g=y.writeTree_.value;return null!=g?g.isLeafNode()||g.forEachChild(Ur,(I,F)=>{p.push(new Hr(I,F))}):y.writeTree_.children.inorderTraversal((I,F)=>{null!=F.value&&p.push(new Hr(I,F.value))}),p}function aa(y,p){if(Gt(p))return y;{const g=oa(y,p);return new Js(null!=g?new bi(g):y.writeTree_.subtree(p))}}function Yl(y){return y.writeTree_.isEmpty()}function Lo(y,p){return Fl($n(),y.writeTree_,p)}function Fl(y,p,g){if(null!=p.value)return g.updateChild(y,p.value);{let I=null;return p.children.inorderTraversal((F,K)=>{".priority"===F?((0,X.hu)(null!==K.value,"Priority writes must always be leaf nodes"),I=K.value):g=Fl(Bt(y,F),K,g)}),!g.getChild(y).isEmpty()&&null!==I&&(g=g.updateChild(Bt(y,".priority"),I)),g}}function ul(y,p){return kr(p,y)}function V(y,p){if(y.snap)return Lr(y.path,p);for(const g in y.children)if(y.children.hasOwnProperty(g)&&Lr(Bt(y.path,g),p))return!0;return!1}function Pe(y){return y.visible}function Q(y,p,g){let I=Js.empty();for(let F=0;F<y.length;++F){const K=y[F];if(p(K)){const ae=K.path;let Ce;if(K.snap)Lr(g,ae)?(Ce=er(g,ae),I=qo(I,Ce,K.snap)):Lr(ae,g)&&(Ce=er(ae,g),I=qo(I,$n(),K.snap.getChild(Ce)));else{if(!K.children)throw(0,X.g5)("WriteRecord should have .snap or .children");if(Lr(g,ae))Ce=er(g,ae),I=kl(I,Ce,K.children);else if(Lr(ae,g))if(Ce=er(ae,g),Gt(Ce))I=kl(I,$n(),K.children);else{const $e=(0,X.DV)(K.children,Kr(Ce));if($e){const et=$e.getChild(Li(Ce));I=qo(I,$n(),et)}}}}}return I}function Te(y,p,g,I,F){if(I||F){const K=aa(y.visibleWrites,p);return!F&&Yl(K)?g:F||null!=g||Ha(K,$n())?Lo(Q(y.allWrites,function(et){return(et.visible||F)&&(!I||!~I.indexOf(et.writeId))&&(Lr(et.path,p)||Lr(p,et.path))},p),g||Fr.EMPTY_NODE):null}{const K=oa(y.visibleWrites,p);if(null!=K)return K;{const ae=aa(y.visibleWrites,p);return Yl(ae)?g:null!=g||Ha(ae,$n())?Lo(ae,g||Fr.EMPTY_NODE):null}}}function tt(y,p,g,I){return Te(y.writeTree,y.treePath,p,g,I)}function Mt(y,p){return function G(y,p,g){let I=Fr.EMPTY_NODE;const F=oa(y.visibleWrites,p);if(F)return F.isLeafNode()||F.forEachChild(Ur,(K,ae)=>{I=I.updateImmediateChild(K,ae)}),I;if(g){const K=aa(y.visibleWrites,p);return g.forEachChild(Ur,(ae,Ce)=>{const $e=Lo(aa(K,new hr(ae)),Ce);I=I.updateImmediateChild(ae,$e)}),Ma(K).forEach(ae=>{I=I.updateImmediateChild(ae.name,ae.node)}),I}return Ma(aa(y.visibleWrites,p)).forEach(ae=>{I=I.updateImmediateChild(ae.name,ae.node)}),I}(y.writeTree,y.treePath,p)}function kt(y,p,g,I){return function ie(y,p,g,I,F){(0,X.hu)(I||F,"Either existingEventSnap or existingServerSnap must exist");const K=Bt(p,g);if(Ha(y.visibleWrites,K))return null;{const ae=aa(y.visibleWrites,K);return Yl(ae)?F.getChild(g):Lo(ae,F.getChild(g))}}(y.writeTree,y.treePath,p,g,I)}function On(y,p){return function ge(y,p){return oa(y.visibleWrites,p)}(y.writeTree,Bt(y.treePath,p))}function nr(y,p,g){return function de(y,p,g,I){const F=Bt(p,g),K=oa(y.visibleWrites,F);return null!=K?K:I.isCompleteForChild(g)?Lo(aa(y.visibleWrites,F),I.getNode().getImmediateChild(g)):null}(y.writeTree,y.treePath,p,g)}function Yn(y,p){return kr(Bt(y.treePath,p),y.writeTree)}function kr(y,p){return{treePath:y,writeTree:p}}class Jr{constructor(){this.changeMap=new Map}trackChildChange(p){const g=p.type,I=p.childName;(0,X.hu)("child_added"===g||"child_changed"===g||"child_removed"===g,"Only child changes supported for tracking"),(0,X.hu)(".priority"!==I,"Only non-priority child changes can be tracked.");const F=this.changeMap.get(I);if(F){const K=F.type;if("child_added"===g&&"child_removed"===K)this.changeMap.set(I,wa(I,p.snapshotNode,F.snapshotNode));else if("child_removed"===g&&"child_added"===K)this.changeMap.delete(I);else if("child_removed"===g&&"child_changed"===K)this.changeMap.set(I,ps(I,F.oldSnap));else if("child_changed"===g&&"child_added"===K)this.changeMap.set(I,vo(I,p.snapshotNode));else{if("child_changed"!==g||"child_changed"!==K)throw(0,X.g5)("Illegal combination of changes: "+p+" occurred after "+F);this.changeMap.set(I,wa(I,p.snapshotNode,F.oldSnap))}}else this.changeMap.set(I,p)}getChanges(){return Array.from(this.changeMap.values())}}const Xs=new class Ss{getCompleteChild(p){return null}getChildAfterChild(p,g,I){return null}};class $t{constructor(p,g,I=null){this.writes_=p,this.viewCache_=g,this.optCompleteServerCache_=I}getCompleteChild(p){const g=this.viewCache_.eventCache;if(g.isCompleteForChild(p))return g.getNode().getImmediateChild(p);{const I=null!=this.optCompleteServerCache_?new ys(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nr(this.writes_,p,I)}}getChildAfterChild(p,g,I){const F=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Fs(this.viewCache_),K=function Un(y,p,g,I,F,K){return function De(y,p,g,I,F,K,ae){let Ce;const $e=aa(y.visibleWrites,p),et=oa($e,$n());if(null!=et)Ce=et;else{if(null==g)return[];Ce=Lo($e,g)}if(Ce=Ce.withIndex(ae),Ce.isEmpty()||Ce.isLeafNode())return[];{const tn=[],on=ae.getCompare(),yn=K?Ce.getReverseIteratorFrom(I,ae):Ce.getIteratorFrom(I,ae);let xr=yn.getNext();for(;xr&&tn.length<F;)0!==on(xr,I)&&tn.push(xr),xr=yn.getNext();return tn}}(y.writeTree,y.treePath,p,g,I,F,K)}(this.writes_,F,g,1,I,p);return 0===K.length?null:K[0]}}function Er(y,p,g,I,F,K){const ae=p.eventCache;if(null!=On(I,g))return p;{let Ce,$e;if(Gt(g))if((0,X.hu)(p.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),p.serverCache.isFiltered()){const et=Fs(p),on=Mt(I,et instanceof Fr?et:Fr.EMPTY_NODE);Ce=y.filter.updateFullNode(p.eventCache.getNode(),on,K)}else{const et=tt(I,Fs(p));Ce=y.filter.updateFullNode(p.eventCache.getNode(),et,K)}else{const et=Kr(g);if(".priority"===et){(0,X.hu)(1===Hi(g),"Can't have a priority with additional path components");const tn=ae.getNode();$e=p.serverCache.getNode();const on=kt(I,g,tn,$e);Ce=null!=on?y.filter.updatePriority(tn,on):ae.getNode()}else{const tn=Li(g);let on;if(ae.isCompleteForChild(et)){$e=p.serverCache.getNode();const yn=kt(I,g,ae.getNode(),$e);on=null!=yn?ae.getNode().getImmediateChild(et).updateChild(tn,yn):ae.getNode().getImmediateChild(et)}else on=nr(I,et,p.serverCache);Ce=null!=on?y.filter.updateChild(ae.getNode(),et,on,tn,F,K):ae.getNode()}}return cl(p,Ce,ae.isFullyInitialized()||Gt(g),y.filter.filtersNodes())}}function Cs(y,p,g,I,F,K,ae,Ce){const $e=p.serverCache;let et;const tn=ae?y.filter:y.filter.getIndexedFilter();if(Gt(g))et=tn.updateFullNode($e.getNode(),I,null);else if(tn.filtersNodes()&&!$e.isFiltered()){const xr=$e.getNode().updateChild(g,I);et=tn.updateFullNode($e.getNode(),xr,null)}else{const xr=Kr(g);if(!$e.isCompleteForPath(g)&&Hi(g)>1)return p;const si=Li(g),qa=$e.getNode().getImmediateChild(xr).updateChild(si,I);et=".priority"===xr?tn.updatePriority($e.getNode(),qa):tn.updateChild($e.getNode(),xr,qa,si,Xs,null)}const on=js(p,et,$e.isFullyInitialized()||Gt(g),tn.filtersNodes());return Er(y,on,g,F,new $t(F,on,K),Ce)}function Sn(y,p,g,I,F,K,ae){const Ce=p.eventCache;let $e,et;const tn=new $t(F,p,K);if(Gt(g))et=y.filter.updateFullNode(p.eventCache.getNode(),I,ae),$e=cl(p,et,!0,y.filter.filtersNodes());else{const on=Kr(g);if(".priority"===on)et=y.filter.updatePriority(p.eventCache.getNode(),I),$e=cl(p,et,Ce.isFullyInitialized(),Ce.isFiltered());else{const yn=Li(g),xr=Ce.getNode().getImmediateChild(on);let si;if(Gt(yn))si=I;else{const $s=tn.getCompleteChild(on);si=null!=$s?".priority"===Ja(yn)&&$s.getChild(It(yn)).isEmpty()?$s:$s.updateChild(yn,I):Fr.EMPTY_NODE}$e=xr.equals(si)?p:cl(p,y.filter.updateChild(Ce.getNode(),on,si,yn,tn,ae),Ce.isFullyInitialized(),y.filter.filtersNodes())}}return $e}function Lt(y,p){return y.eventCache.isCompleteForChild(p)}function Do(y,p,g){return g.foreach((I,F)=>{p=p.updateChild(I,F)}),p}function rl(y,p,g,I,F,K,ae,Ce){if(p.serverCache.getNode().isEmpty()&&!p.serverCache.isFullyInitialized())return p;let et,$e=p;et=Gt(g)?I:new bi(null).setTree(g,I);const tn=p.serverCache.getNode();return et.children.inorderTraversal((on,yn)=>{if(tn.hasChild(on)){const si=Do(0,p.serverCache.getNode().getImmediateChild(on),yn);$e=Cs(y,$e,new hr(on),si,F,K,ae,Ce)}}),et.children.inorderTraversal((on,yn)=>{const xr=!p.serverCache.isCompleteForChild(on)&&null===yn.value;if(!tn.hasChild(on)&&!xr){const $s=Do(0,p.serverCache.getNode().getImmediateChild(on),yn);$e=Cs(y,$e,new hr(on),$s,F,K,ae,Ce)}}),$e}class Ao{constructor(p,g){this.query_=p,this.eventRegistrations_=[];const I=this.query_._queryParams,F=new Ni(I.getIndex()),K=function zs(y){return y.loadsAllData()?new Ni(y.getIndex()):y.hasLimit()?new oo(y):new zo(y)}(I);this.processor_=function Ei(y){return{filter:y}}(K);const ae=g.serverCache,Ce=g.eventCache,$e=F.updateFullNode(Fr.EMPTY_NODE,ae.getNode(),null),et=K.updateFullNode(Fr.EMPTY_NODE,Ce.getNode(),null),tn=new ys($e,ae.isFullyInitialized(),F.filtersNodes()),on=new ys(et,Ce.isFullyInitialized(),K.filtersNodes());this.viewCache_=Pa(on,tn),this.eventGenerator_=new pa(this.query_)}get query(){return this.query_}}function mi(y,p){const g=Fs(y.viewCache_);return g&&(y.query._queryParams.loadsAllData()||!Gt(p)&&!g.getImmediateChild(Kr(p)).isEmpty())?g.getChild(p):null}function oc(y){return 0===y.eventRegistrations_.length}function Pc(y,p,g){const I=[];if(g){(0,X.hu)(null==p,"A cancel should cancel all event registrations.");const F=y.query._path;y.eventRegistrations_.forEach(K=>{const ae=K.createCancelEvent(g,F);ae&&I.push(ae)})}if(p){let F=[];for(let K=0;K<y.eventRegistrations_.length;++K){const ae=y.eventRegistrations_[K];if(ae.matches(p)){if(p.hasAnyCallback()){F=F.concat(y.eventRegistrations_.slice(K+1));break}}else F.push(ae)}y.eventRegistrations_=F}else y.eventRegistrations_=[];return I}function Sr(y,p,g,I){p.type===zi.MERGE&&null!==p.source.queryId&&((0,X.hu)(Fs(y.viewCache_),"We should always have a full cache before handling merges"),(0,X.hu)(Il(y.viewCache_),"Missing event cache, even though we have a server cache"));const F=y.viewCache_,K=function hs(y,p,g,I,F){const K=new Jr;let ae,Ce;if(g.type===zi.OVERWRITE){const et=g;et.source.fromUser?ae=Sn(y,p,et.path,et.snap,I,F,K):((0,X.hu)(et.source.fromServer,"Unknown source."),Ce=et.source.tagged||p.serverCache.isFiltered()&&!Gt(et.path),ae=Cs(y,p,et.path,et.snap,I,F,Ce,K))}else if(g.type===zi.MERGE){const et=g;et.source.fromUser?ae=function _n(y,p,g,I,F,K,ae){let Ce=p;return I.foreach(($e,et)=>{const tn=Bt(g,$e);Lt(p,Kr(tn))&&(Ce=Sn(y,Ce,tn,et,F,K,ae))}),I.foreach(($e,et)=>{const tn=Bt(g,$e);Lt(p,Kr(tn))||(Ce=Sn(y,Ce,tn,et,F,K,ae))}),Ce}(y,p,et.path,et.children,I,F,K):((0,X.hu)(et.source.fromServer,"Unknown source."),Ce=et.source.tagged||p.serverCache.isFiltered(),ae=rl(y,p,et.path,et.children,I,F,Ce,K))}else if(g.type===zi.ACK_USER_WRITE){const et=g;ae=et.revert?function md(y,p,g,I,F,K){let ae;if(null!=On(I,g))return p;{const Ce=new $t(I,p,F),$e=p.eventCache.getNode();let et;if(Gt(g)||".priority"===Kr(g)){let tn;if(p.serverCache.isFullyInitialized())tn=tt(I,Fs(p));else{const on=p.serverCache.getNode();(0,X.hu)(on instanceof Fr,"serverChildren would be complete if leaf node"),tn=Mt(I,on)}et=y.filter.updateFullNode($e,tn,K)}else{const tn=Kr(g);let on=nr(I,tn,p.serverCache);null==on&&p.serverCache.isCompleteForChild(tn)&&(on=$e.getImmediateChild(tn)),et=null!=on?y.filter.updateChild($e,tn,on,Li(g),Ce,K):p.eventCache.getNode().hasChild(tn)?y.filter.updateChild($e,tn,Fr.EMPTY_NODE,Li(g),Ce,K):$e,et.isEmpty()&&p.serverCache.isFullyInitialized()&&(ae=tt(I,Fs(p)),ae.isLeafNode()&&(et=y.filter.updateFullNode(et,ae,K)))}return ae=p.serverCache.isFullyInitialized()||null!=On(I,$n()),cl(p,et,ae,y.filter.filtersNodes())}}(y,p,et.path,I,F,K):function za(y,p,g,I,F,K,ae){if(null!=On(F,g))return p;const Ce=p.serverCache.isFiltered(),$e=p.serverCache;if(null!=I.value){if(Gt(g)&&$e.isFullyInitialized()||$e.isCompleteForPath(g))return Cs(y,p,g,$e.getNode().getChild(g),F,K,Ce,ae);if(Gt(g)){let et=new bi(null);return $e.getNode().forEachChild(Zi,(tn,on)=>{et=et.set(new hr(tn),on)}),rl(y,p,g,et,F,K,Ce,ae)}return p}{let et=new bi(null);return I.foreach((tn,on)=>{const yn=Bt(g,tn);$e.isCompleteForPath(yn)&&(et=et.set(tn,$e.getNode().getChild(yn)))}),rl(y,p,g,et,F,K,Ce,ae)}}(y,p,et.path,et.affectedTree,I,F,K)}else{if(g.type!==zi.LISTEN_COMPLETE)throw(0,X.g5)("Unknown operation type: "+g.type);ae=function Gc(y,p,g,I,F){const K=p.serverCache;return Er(y,js(p,K.getNode(),K.isFullyInitialized()||Gt(g),K.isFiltered()),g,I,Xs,F)}(y,p,g.path,I,K)}const $e=K.getChanges();return function tr(y,p,g){const I=p.eventCache;if(I.isFullyInitialized()){const F=I.getNode().isLeafNode()||I.getNode().isEmpty(),K=Il(y);(g.length>0||!y.eventCache.isFullyInitialized()||F&&!I.getNode().equals(K)||!I.getNode().getPriority().equals(K.getPriority()))&&g.push(Ea(Il(p)))}}(p,ae,$e),{viewCache:ae,changes:$e}}(y.processor_,F,p,g,I);return function Wi(y,p){(0,X.hu)(p.eventCache.getNode().isIndexed(y.filter.getIndex()),"Event snap not indexed"),(0,X.hu)(p.serverCache.getNode().isIndexed(y.filter.getIndex()),"Server snap not indexed")}(y.processor_,K.viewCache),(0,X.hu)(K.viewCache.serverCache.isFullyInitialized()||!F.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),y.viewCache_=K.viewCache,Vo(y,K.changes,K.viewCache.eventCache.getNode(),null)}function Vo(y,p,g,I){return function ll(y,p,g,I){const F=[],K=[];return p.forEach(ae=>{"child_changed"===ae.type&&y.index_.indexedValueChanged(ae.oldSnap,ae.snapshotNode)&&K.push(function gs(y,p){return{type:"child_moved",snapshotNode:p,childName:y}}(ae.childName,ae.snapshotNode))}),$a(y,F,"child_removed",p,I,g),$a(y,F,"child_added",p,I,g),$a(y,F,"child_moved",K,I,g),$a(y,F,"child_changed",p,I,g),$a(y,F,"value",p,I,g),F}(y.eventGenerator_,p,g,I?[I]:y.eventRegistrations_)}let ss,vc;class Cr{constructor(){this.views=new Map}}function eo(y,p,g,I){const F=p.source.queryId;if(null!==F){const K=y.views.get(F);return(0,X.hu)(null!=K,"SyncTree gave us an op for an invalid query."),Sr(K,p,g,I)}{let K=[];for(const ae of y.views.values())K=K.concat(Sr(ae,p,g,I));return K}}function ht(y,p,g,I,F){const ae=y.views.get(p._queryIdentifier);if(!ae){let Ce=tt(g,F?I:null),$e=!1;Ce?$e=!0:I instanceof Fr?(Ce=Mt(g,I),$e=!1):(Ce=Fr.EMPTY_NODE,$e=!1);const et=Pa(new ys(Ce,$e,!1),new ys(I,F,!1));return new Ao(p,et)}return ae}function Wa(y){const p=[];for(const g of y.views.values())g.query._queryParams.loadsAllData()||p.push(g);return p}function to(y,p){let g=null;for(const I of y.views.values())g=g||mi(I,p);return g}function ac(y,p){return p._queryParams.loadsAllData()?Mc(y):y.views.get(p._queryIdentifier)}function zc(y,p){return null!=ac(y,p)}function wo(y){return null!=Mc(y)}function Mc(y){for(const p of y.views.values())if(p.query._queryParams.loadsAllData())return p;return null}let Nc=1;class bo{constructor(p){this.listenProvider_=p,this.syncPointTree_=new bi(null),this.pendingWriteTree_=function Ze(){return{visibleWrites:Js.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Io(y,p,g,I,F){return function Ko(y,p,g,I,F){(0,X.hu)(I>y.lastWriteId,"Stacking an older write on top of newer ones"),void 0===F&&(F=!0),y.allWrites.push({path:p,snap:g,writeId:I,visible:F}),F&&(y.visibleWrites=qo(y.visibleWrites,p,g)),y.lastWriteId=I}(y.pendingWriteTree_,p,g,I,F),F?O(y,new ds({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,g)):[]}function bt(y,p,g=!1){const I=function lo(y,p){for(let g=0;g<y.allWrites.length;g++){const I=y.allWrites[g];if(I.writeId===p)return I}return null}(y.pendingWriteTree_,p);if(function Ql(y,p){const g=y.allWrites.findIndex(Ce=>Ce.writeId===p);(0,X.hu)(g>=0,"removeWrite called with nonexistent writeId.");const I=y.allWrites[g];y.allWrites.splice(g,1);let F=I.visible,K=!1,ae=y.allWrites.length-1;for(;F&&ae>=0;){const Ce=y.allWrites[ae];Ce.visible&&(ae>=g&&V(Ce,I.path)?F=!1:Lr(I.path,Ce.path)&&(K=!0)),ae--}return!!F&&(K?(function ee(y){y.visibleWrites=Q(y.allWrites,Pe,$n()),y.lastWriteId=y.allWrites.length>0?y.allWrites[y.allWrites.length-1].writeId:-1}(y),!0):(I.snap?y.visibleWrites=$i(y.visibleWrites,I.path):rt(I.children,$e=>{y.visibleWrites=$i(y.visibleWrites,Bt(I.path,$e))}),!0))}(y.pendingWriteTree_,p)){let K=new bi(null);return null!=I.snap?K=K.set($n(),!0):rt(I.children,ae=>{K=K.set(new hr(ae),!0)}),O(y,new ja(I.path,K,g))}return[]}function Ta(y,p,g){return O(y,new ds({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,g))}function R(y,p,g,I,F=!1){const K=p._path,ae=y.syncPointTree_.get(K);let Ce=[];if(ae&&("default"===p._queryIdentifier||zc(ae,p))){const $e=function yc(y,p,g,I){const F=p._queryIdentifier,K=[];let ae=[];const Ce=wo(y);if("default"===F)for(const[$e,et]of y.views.entries())ae=ae.concat(Pc(et,g,I)),oc(et)&&(y.views.delete($e),et.query._queryParams.loadsAllData()||K.push(et.query));else{const $e=y.views.get(F);$e&&(ae=ae.concat(Pc($e,g,I)),oc($e)&&(y.views.delete(F),$e.query._queryParams.loadsAllData()||K.push($e.query)))}return Ce&&!wo(y)&&K.push(new(function os(){return(0,X.hu)(ss,"Reference.ts has not been loaded"),ss}())(p._repo,p._path)),{removed:K,events:ae}}(ae,p,g,I);(function bu(y){return 0===y.views.size})(ae)&&(y.syncPointTree_=y.syncPointTree_.remove(K));const et=$e.removed;if(Ce=$e.events,!F){const tn=-1!==et.findIndex(yn=>yn._queryParams.loadsAllData()),on=y.syncPointTree_.findOnPath(K,(yn,xr)=>wo(xr));if(tn&&!on){const yn=y.syncPointTree_.subtree(K);if(!yn.isEmpty()){const xr=function zr(y){return y.fold((p,g,I)=>{if(g&&wo(g))return[Mc(g)];{let F=[];return g&&(F=Wa(g)),rt(I,(K,ae)=>{F=F.concat(ae)}),F}})}(yn);for(let si=0;si<xr.length;++si){const $s=xr[si],qa=$s.query,Au=ye(y,$s);y.listenProvider_.startListening(Dr(qa),je(y,qa),Au.hashFn,Au.onComplete)}}}!on&&et.length>0&&!I&&(tn?y.listenProvider_.stopListening(Dr(p),null):et.forEach(yn=>{const xr=y.queryToTagMap.get(Ut(yn));y.listenProvider_.stopListening(Dr(yn),xr)}))}!function Xr(y,p){for(let g=0;g<p.length;++g){const I=p[g];if(!I._queryParams.loadsAllData()){const F=Ut(I),K=y.queryToTagMap.get(F);y.queryToTagMap.delete(F),y.tagToQueryMap.delete(K)}}}(y,et)}return Ce}function L(y,p,g,I){const F=vt(y,I);if(null!=F){const K=dn(F),ae=K.path,Ce=K.queryId,$e=er(ae,p);return Cn(y,ae,new ds(Zs(Ce),$e,g))}return[]}function E(y,p,g,I=!1){const F=p._path;let K=null,ae=!1;y.syncPointTree_.foreachOnPath(F,(yn,xr)=>{const si=er(yn,F);K=K||to(xr,si),ae=ae||wo(xr)});let $e,Ce=y.syncPointTree_.get(F);Ce?(ae=ae||wo(Ce),K=K||to(Ce,$n())):(Ce=new Cr,y.syncPointTree_=y.syncPointTree_.set(F,Ce)),null!=K?$e=!0:($e=!1,K=Fr.EMPTY_NODE,y.syncPointTree_.subtree(F).foreachChild((xr,si)=>{const $s=to(si,$n());$s&&(K=K.updateImmediateChild(xr,$s))}));const et=zc(Ce,p);if(!et&&!p._queryParams.loadsAllData()){const yn=Ut(p);(0,X.hu)(!y.queryToTagMap.has(yn),"View does not exist, but we have a tag");const xr=function vs(){return Nc++}();y.queryToTagMap.set(yn,xr),y.tagToQueryMap.set(xr,yn)}let on=function ki(y,p,g,I,F,K){const ae=ht(y,p,I,F,K);return y.views.has(p._queryIdentifier)||y.views.set(p._queryIdentifier,ae),function Zl(y,p){y.eventRegistrations_.push(p)}(ae,g),function Hc(y,p){const g=y.viewCache_.eventCache,I=[];return g.getNode().isLeafNode()||g.getNode().forEachChild(Ur,(K,ae)=>{I.push(vo(K,ae))}),g.isFullyInitialized()&&I.push(Ea(g.getNode())),Vo(y,I,g.getNode(),p)}(ae,g)}(Ce,p,g,ul(y.pendingWriteTree_,F),K,$e);if(!et&&!ae&&!I){const yn=ac(Ce,p);on=on.concat(function Ro(y,p,g){const I=p._path,F=je(y,p),K=ye(y,g),ae=y.listenProvider_.startListening(Dr(p),F,K.hashFn,K.onComplete),Ce=y.syncPointTree_.subtree(I);if(F)(0,X.hu)(!wo(Ce.value),"If we're adding a query, it shouldn't be shadowed");else{const $e=Ce.fold((et,tn,on)=>{if(!Gt(et)&&tn&&wo(tn))return[Mc(tn).query];{let yn=[];return tn&&(yn=yn.concat(Wa(tn).map(xr=>xr.query))),rt(on,(xr,si)=>{yn=yn.concat(si)}),yn}});for(let et=0;et<$e.length;++et){const tn=$e[et];y.listenProvider_.stopListening(Dr(tn),je(y,tn))}}return ae}(y,p,yn))}return on}function C(y,p,g){const F=y.pendingWriteTree_,K=y.syncPointTree_.findOnPath(p,(ae,Ce)=>{const et=to(Ce,er(ae,p));if(et)return et});return Te(F,p,K,g,!0)}function O(y,p){return j(p,y.syncPointTree_,null,ul(y.pendingWriteTree_,$n()))}function j(y,p,g,I){if(Gt(y.path))return re(y,p,g,I);{const F=p.get($n());null==g&&null!=F&&(g=to(F,$n()));let K=[];const ae=Kr(y.path),Ce=y.operationForChild(ae),$e=p.children.get(ae);if($e&&Ce){const et=g?g.getImmediateChild(ae):null,tn=Yn(I,ae);K=K.concat(j(Ce,$e,et,tn))}return F&&(K=K.concat(eo(F,y,I,g))),K}}function re(y,p,g,I){const F=p.get($n());null==g&&null!=F&&(g=to(F,$n()));let K=[];return p.children.inorderTraversal((ae,Ce)=>{const $e=g?g.getImmediateChild(ae):null,et=Yn(I,ae),tn=y.operationForChild(ae);tn&&(K=K.concat(re(tn,Ce,$e,et)))}),F&&(K=K.concat(eo(F,y,I,g))),K}function ye(y,p){const g=p.query,I=je(y,g);return{hashFn:()=>(function Ll(y){return y.viewCache_.serverCache.getNode()}(p)||Fr.EMPTY_NODE).hash(),onComplete:F=>{if("ok"===F)return I?function oe(y,p,g){const I=vt(y,g);if(I){const F=dn(I),K=F.path,ae=F.queryId,Ce=er(K,p);return Cn(y,K,new ao(Zs(ae),Ce))}return[]}(y,g._path,I):function Ju(y,p){return O(y,new ao({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p))}(y,g._path);{const K=function rn(y,p){let g="Unknown Error";"too_big"===y?g="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===y?g="Client doesn't have permission to access the desired data.":"unavailable"===y&&(g="The service is unavailable");const I=new Error(y+" at "+p._path.toString()+": "+g);return I.code=y.toUpperCase(),I}(F,g);return R(y,g,null,K)}}}}function je(y,p){const g=Ut(p);return y.queryToTagMap.get(g)}function Ut(y){return y._path.toString()+"$"+y._queryIdentifier}function vt(y,p){return y.tagToQueryMap.get(p)}function dn(y){const p=y.indexOf("$");return(0,X.hu)(-1!==p&&p<y.length-1,"Bad queryKey."),{queryId:y.substr(p+1),path:new hr(y.substr(0,p))}}function Cn(y,p,g){const I=y.syncPointTree_.get(p);return(0,X.hu)(I,"Missing sync point for query tag that we're tracking"),eo(I,g,ul(y.pendingWriteTree_,p),null)}function Dr(y){return y._queryParams.loadsAllData()&&!y._queryParams.isDefault()?new(function Iu(){return(0,X.hu)(vc,"Reference.ts has not been loaded"),vc}())(y._repo,y._path):y}class qs{constructor(p){this.node_=p}getImmediateChild(p){const g=this.node_.getImmediateChild(p);return new qs(g)}node(){return this.node_}}class sl{constructor(p,g){this.syncTree_=p,this.path_=g}getImmediateChild(p){const g=Bt(this.path_,p);return new sl(this.syncTree_,g)}node(){return C(this.syncTree_,this.path_)}}const ga=function(y){return(y=y||{}).timestamp=y.timestamp||(new Date).getTime(),y},Bo=function(y,p,g){return y&&"object"==typeof y?((0,X.hu)(".sv"in y,"Unexpected leaf node or priority contents"),"string"==typeof y[".sv"]?dl(y[".sv"],p,g):"object"==typeof y[".sv"]?ma(y[".sv"],p):void(0,X.hu)(!1,"Unexpected server value: "+JSON.stringify(y,null,2))):y},dl=function(y,p,g){if("timestamp"===y)return g.timestamp;(0,X.hu)(!1,"Unexpected server value: "+y)},ma=function(y,p,g){y.hasOwnProperty("increment")||(0,X.hu)(!1,"Unexpected server value: "+JSON.stringify(y,null,2));const I=y.increment;"number"!=typeof I&&(0,X.hu)(!1,"Unexpected increment value: "+I);const F=p.node();if((0,X.hu)(null!==F&&typeof F<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!F.isLeafNode())return I;const ae=F.getValue();return"number"!=typeof ae?I:ae+I},ol=function(y,p,g,I){return Bl(p,new sl(g,y),I)},hl=function(y,p,g){return Bl(y,new qs(p),g)};function Bl(y,p,g){const I=y.getPriority().val(),F=Bo(I,p.getImmediateChild(".priority"),g);let K;if(y.isLeafNode()){const ae=y,Ce=Bo(ae.getValue(),p,g);return Ce!==ae.getValue()||F!==ae.getPriority().val()?new Us(Ce,Ji(F)):y}{const ae=y;return K=ae,F!==ae.getPriority().val()&&(K=K.updatePriority(new Us(F))),ae.forEachChild(Ur,(Ce,$e)=>{const et=Bl($e,p.getImmediateChild(Ce),g);et!==$e&&(K=K.updateImmediateChild(Ce,et))}),K}}class lc{constructor(p="",g=null,I={children:{},childCount:0}){this.name=p,this.parent=g,this.node=I}}function ms(y,p){let g=p instanceof hr?p:new hr(p),I=y,F=Kr(g);for(;null!==F;){const K=(0,X.DV)(I.node.children,F)||{children:{},childCount:0};I=new lc(F,I,K),g=Li(g),F=Kr(g)}return I}function wr(y){return y.node.value}function jr(y,p){y.node.value=p,wi(y)}function ai(y){return y.node.childCount>0}function co(y,p){rt(y.node.children,(g,I)=>{p(new lc(g,y,I))})}function Sl(y,p,g,I){g&&!I&&p(y),co(y,F=>{Sl(F,p,!0,I)}),g&&I&&p(y)}function _a(y){return new hr(null===y.parent?y.name:_a(y.parent)+"/"+y.name)}function wi(y){null!==y.parent&&function Mu(y,p,g){const I=function yi(y){return void 0===wr(y)&&!ai(y)}(g),F=(0,X.r3)(y.node.children,p);I&&F?(delete y.node.children[p],y.node.childCount--,wi(y)):!I&&!F&&(y.node.children[p]=g.node,y.node.childCount++,wi(y))}(y.parent,y.name,y)}const Ec=/[\[\].#$\/\u0000-\u001F\u007F]/,Fa=/[\[\].#$\u0000-\u001F\u007F]/,fs=10485760,Uo=function(y){return"string"==typeof y&&0!==y.length&&!Ec.test(y)},Ks=function(y){return"string"==typeof y&&0!==y.length&&!Fa.test(y)},wc=function(y){return null===y||"string"==typeof y||"number"==typeof y&&!hn(y)||y&&"object"==typeof y&&(0,X.r3)(y,".sv")},al=function(y,p,g,I){I&&void 0===p||Yo((0,X.gK)(y,"value"),p,g)},Yo=function(y,p,g){const I=g instanceof hr?new Xa(g,y):g;if(void 0===p)throw new Error(y+"contains undefined "+po(I));if("function"==typeof p)throw new Error(y+"contains a function "+po(I)+" with contents = "+p.toString());if(hn(p))throw new Error(y+"contains "+p.toString()+" "+po(I));if("string"==typeof p&&p.length>fs/3&&(0,X.ug)(p)>fs)throw new Error(y+"contains a string greater than "+fs+" utf8 bytes "+po(I)+" ('"+p.substring(0,50)+"...')");if(p&&"object"==typeof p){let F=!1,K=!1;if(rt(p,(ae,Ce)=>{if(".value"===ae)F=!0;else if(".priority"!==ae&&".sv"!==ae&&(K=!0,!Uo(ae)))throw new Error(y+" contains an invalid key ("+ae+") "+po(I)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Qs(y,p){y.parts_.length>0&&(y.byteLength_+=1),y.parts_.push(p),y.byteLength_+=(0,X.ug)(p),Qi(y)})(I,ae),Yo(y,Ce,I),function fo(y){const p=y.parts_.pop();y.byteLength_-=(0,X.ug)(p),y.parts_.length>0&&(y.byteLength_-=1)}(I)}),F&&K)throw new Error(y+' contains ".value" child '+po(I)+" in addition to actual children.")}},Bd=function(y,p,g,I){if(I&&void 0===p)return;const F=(0,X.gK)(y,"values");if(!p||"object"!=typeof p||Array.isArray(p))throw new Error(F+" must be an object containing the children to replace.");const K=[];rt(p,(ae,Ce)=>{const $e=new hr(ae);if(Yo(F,Ce,Bt(g,$e)),".priority"===Ja($e)&&!wc(Ce))throw new Error(F+"contains an invalid value for '"+$e.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");K.push($e)}),function(y,p){let g,I;for(g=0;g<p.length;g++){I=p[g];const K=Ye(I);for(let ae=0;ae<K.length;ae++)if((".priority"!==K[ae]||ae!==K.length-1)&&!Uo(K[ae]))throw new Error(y+"contains an invalid key ("+K[ae]+") in path "+I.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}p.sort(gi);let F=null;for(g=0;g<p.length;g++){if(I=p[g],null!==F&&Lr(F,I))throw new Error(y+"contains a path "+F.toString()+" that is ancestor of another path "+I.toString());F=I}}(F,K)},Qo=function(y,p,g){if(!g||void 0!==p){if(hn(p))throw new Error((0,X.gK)(y,"priority")+"is "+p.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wc(p))throw new Error((0,X.gK)(y,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Nu=function(y,p,g,I){if(!(I&&void 0===g||Uo(g)))throw new Error((0,X.gK)(y,p)+'was an invalid key = "'+g+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zo=function(y,p,g,I){if(!(I&&void 0===g||Ks(g)))throw new Error((0,X.gK)(y,p)+'was an invalid path = "'+g+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jo=function(y,p,g,I){g&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),Zo(y,p,g,I)},xo=function(y,p){if(".info"===Kr(p))throw new Error(y+" failed = Can't modify data under /.info/")},bc=function(y,p){const g=p.path.toString();if("string"!=typeof p.repoInfo.host||0===p.repoInfo.host.length||!Uo(p.repoInfo.namespace)&&"localhost"!==p.repoInfo.host.split(":")[0]||0!==g.length&&!function(y){return y&&(y=y.replace(/^\/*\.info(\/|$)/,"/")),Ks(y)}(g))throw new Error((0,X.gK)(y,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Wc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cl(y,p){let g=null;for(let I=0;I<p.length;I++){const F=p[I],K=F.getPath();null!==g&&!di(K,g.path)&&(y.eventLists_.push(g),g=null),null===g&&(g={events:[],path:K}),g.events.push(F)}g&&y.eventLists_.push(g)}function qc(y,p,g){Cl(y,g),Ul(y,I=>di(I,p))}function Jo(y,p,g){Cl(y,g),Ul(y,I=>Lr(I,p)||Lr(p,I))}function Ul(y,p){y.recursionDepth_++;let g=!0;for(let I=0;I<y.eventLists_.length;I++){const F=y.eventLists_[I];F&&(p(F.path)?(Kc(y.eventLists_[I]),y.eventLists_[I]=null):g=!1)}g&&(y.eventLists_=[]),y.recursionDepth_--}function Kc(y){for(let p=0;p<y.events.length;p++){const g=y.events[p];if(null!==g){y.events[p]=null;const I=g.getEventRunner();Vn&&Tt("event: "+g.toString()),_r(I)}}}const jl="repo_interrupt",wl=25;class _d{constructor(p,g,I,F){this.repoInfo_=p,this.forceRestClient_=g,this.authTokenProvider_=I,this.appCheckProvider_=F,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Co(),this.transactionQueueTree_=new lc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hu(y){const g=y.infoData_.getNode(new hr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+g}function cc(y){return ga({timestamp:hu(y)})}function Xu(y,p,g,I,F){y.dataUpdateCount++;const K=new hr(p);g=y.interceptServerDataCallback_?y.interceptServerDataCallback_(p,g):g;let ae=[];if(F)if(I){const $e=(0,X.UI)(g,et=>Ji(et));ae=function W(y,p,g,I){const F=vt(y,I);if(F){const K=dn(F),ae=K.path,Ce=K.queryId,$e=er(ae,p),et=bi.fromObject(g);return Cn(y,ae,new sa(Zs(Ce),$e,et))}return[]}(y.serverSyncTree_,K,$e,F)}else{const $e=Ji(g);ae=L(y.serverSyncTree_,K,$e,F)}else if(I){const $e=(0,X.UI)(g,et=>Ji(et));ae=function Vl(y,p,g){const I=bi.fromObject(g);return O(y,new sa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},p,I))}(y.serverSyncTree_,K,$e)}else{const $e=Ji(g);ae=Ta(y.serverSyncTree_,K,$e)}let Ce=K;ae.length>0&&(Ce=An(y,K)),Jo(y.eventQueue_,Ce,ae)}function Ic(y,p){ed(y,"connected",p),!1===p&&function yd(y){Re(y,"onDisconnectEvents");const p=cc(y),g=Co();Z(y.onDisconnect_,$n(),(F,K)=>{const ae=ol(F,K,y.serverSyncTree_,p);Eo(g,F,ae)});let I=[];Z(g,$n(),(F,K)=>{I=I.concat(Ta(y.serverSyncTree_,F,K));const ae=Qc(y,F);An(y,ae)}),y.onDisconnect_=Co(),Jo(y.eventQueue_,$n(),I)}(y)}function ed(y,p,g){const I=new hr("/.info/"+p),F=Ji(g);y.infoData_.updateSnapshot(I,F);const K=Ta(y.infoSyncTree_,I,F);Jo(y.eventQueue_,I,K)}function $o(y){return y.nextWriteId_++}function td(y,p,g,I,F){Re(y,"set",{path:p.toString(),value:g,priority:I});const K=cc(y),ae=Ji(g,I),Ce=C(y.serverSyncTree_,p),$e=hl(ae,Ce,K),et=$o(y),tn=Io(y.serverSyncTree_,p,$e,et,!0);Cl(y.eventQueue_,tn),y.server_.put(p.toString(),ae.val(!0),(yn,xr)=>{const si="ok"===yn;si||xe("set at "+p+" failed: "+yn);const $s=bt(y.serverSyncTree_,et,!si);Jo(y.eventQueue_,p,$s),qe(0,F,yn,xr)});const on=Qc(y,p);An(y,on),Jo(y.eventQueue_,on,[])}function Ud(y,p,g){y.server_.onDisconnectCancel(p.toString(),(I,F)=>{"ok"===I&&ne(y.onDisconnect_,p),qe(0,g,I,F)})}function nd(y,p,g,I){const F=Ji(g);y.server_.onDisconnectPut(p.toString(),F.val(!0),(K,ae)=>{"ok"===K&&Eo(y.onDisconnect_,p,F),qe(0,I,K,ae)})}function B(y,p,g){let I;I=".info"===Kr(p._path)?R(y.infoSyncTree_,p,g):R(y.serverSyncTree_,p,g),qc(y.eventQueue_,p._path,I)}function q(y){y.persistentConnection_&&y.persistentConnection_.interrupt(jl)}function Re(y,...p){let g="";y.persistentConnection_&&(g=y.persistentConnection_.id+":"),Tt(g,...p)}function qe(y,p,g,I){p&&_r(()=>{if("ok"===g)p(null);else{const F=(g||"error").toUpperCase();let K=F;I&&(K+=": "+I);const ae=new Error(K);ae.code=F,p(ae)}})}function Qt(y,p,g){return C(y.serverSyncTree_,p,g)||Fr.EMPTY_NODE}function rr(y,p=y.transactionQueueTree_){if(p||Ls(y,p),wr(p)){const g=fl(y,p);(0,X.hu)(g.length>0,"Sending zero length transaction queue"),g.every(F=>0===F.status)&&function Xn(y,p,g){const I=g.map(et=>et.currentWriteId),F=Qt(y,p,I);let K=F;const ae=F.hash();for(let et=0;et<g.length;et++){const tn=g[et];(0,X.hu)(0===tn.status,"tryToSendTransactionQueue_: items in queue should all be run."),tn.status=1,tn.retryCount++;const on=er(p,tn.path);K=K.updateChild(on,tn.currentOutputSnapshotRaw)}const Ce=K.val(!0),$e=p;y.server_.put($e.toString(),Ce,et=>{Re(y,"transaction put response",{path:$e.toString(),status:et});let tn=[];if("ok"===et){const on=[];for(let yn=0;yn<g.length;yn++)g[yn].status=2,tn=tn.concat(bt(y.serverSyncTree_,g[yn].currentWriteId)),g[yn].onComplete&&on.push(()=>g[yn].onComplete(null,!0,g[yn].currentOutputSnapshotResolved)),g[yn].unwatcher();Ls(y,ms(y.transactionQueueTree_,p)),rr(y,y.transactionQueueTree_),Jo(y.eventQueue_,p,tn);for(let yn=0;yn<on.length;yn++)_r(on[yn])}else{if("datastale"===et)for(let on=0;on<g.length;on++)g[on].status=3===g[on].status?4:0;else{xe("transaction at "+$e.toString()+" failed: "+et);for(let on=0;on<g.length;on++)g[on].status=4,g[on].abortReason=et}An(y,p)}},ae)}(y,_a(p),g)}else ai(p)&&co(p,g=>{rr(y,g)})}function An(y,p){const g=qr(y,p),I=_a(g);return function gr(y,p,g){if(0===p.length)return;const I=[];let F=[];const ae=p.filter(Ce=>0===Ce.status).map(Ce=>Ce.currentWriteId);for(let Ce=0;Ce<p.length;Ce++){const $e=p[Ce],et=er(g,$e.path);let on,tn=!1;if((0,X.hu)(null!==et,"rerunTransactionsUnderNode_: relativePath should not be null."),4===$e.status)tn=!0,on=$e.abortReason,F=F.concat(bt(y.serverSyncTree_,$e.currentWriteId,!0));else if(0===$e.status)if($e.retryCount>=wl)tn=!0,on="maxretry",F=F.concat(bt(y.serverSyncTree_,$e.currentWriteId,!0));else{const yn=Qt(y,$e.path,ae);$e.currentInputSnapshot=yn;const xr=p[Ce].update(yn.val());if(void 0!==xr){Yo("transaction failed: Data returned ",xr,$e.path);let si=Ji(xr);"object"==typeof xr&&null!=xr&&(0,X.r3)(xr,".priority")||(si=si.updatePriority(yn.getPriority()));const qa=$e.currentWriteId,Au=cc(y),Uh=hl(si,yn,Au);$e.currentOutputSnapshotRaw=si,$e.currentOutputSnapshotResolved=Uh,$e.currentWriteId=$o(y),ae.splice(ae.indexOf(qa),1),F=F.concat(Io(y.serverSyncTree_,$e.path,Uh,$e.currentWriteId,$e.applyLocally)),F=F.concat(bt(y.serverSyncTree_,qa,!0))}else tn=!0,on="nodata",F=F.concat(bt(y.serverSyncTree_,$e.currentWriteId,!0))}Jo(y.eventQueue_,g,F),F=[],tn&&(p[Ce].status=2,setTimeout(p[Ce].unwatcher,Math.floor(0)),p[Ce].onComplete&&I.push("nodata"===on?()=>p[Ce].onComplete(null,!1,p[Ce].currentInputSnapshot):()=>p[Ce].onComplete(new Error(on),!1,null)))}Ls(y,y.transactionQueueTree_);for(let Ce=0;Ce<I.length;Ce++)_r(I[Ce]);rr(y,y.transactionQueueTree_)}(y,fl(y,g),I),I}function qr(y,p){let g,I=y.transactionQueueTree_;for(g=Kr(p);null!==g&&void 0===wr(I);)I=ms(I,g),g=Kr(p=Li(p));return I}function fl(y,p){const g=[];return Go(y,p,g),g.sort((I,F)=>I.order-F.order),g}function Go(y,p,g){const I=wr(p);if(I)for(let F=0;F<I.length;F++)g.push(I[F]);co(p,F=>{Go(y,F,g)})}function Ls(y,p){const g=wr(p);if(g){let I=0;for(let F=0;F<g.length;F++)2!==g[F].status&&(g[I]=g[F],I++);g.length=I,jr(p,g.length>0?g:void 0)}co(p,I=>{Ls(y,I)})}function Qc(y,p){const g=_a(qr(y,p)),I=ms(y.transactionQueueTree_,p);return function ka(y,p,g){let I=g?y:y.parent;for(;null!==I;){if(p(I))return!0;I=I.parent}}(I,F=>{$l(y,F)}),$l(y,I),Sl(I,F=>{$l(y,F)}),g}function $l(y,p){const g=wr(p);if(g){const I=[];let F=[],K=-1;for(let ae=0;ae<g.length;ae++)3===g[ae].status||(1===g[ae].status?((0,X.hu)(K===ae-1,"All SENT items should be at beginning of queue."),K=ae,g[ae].status=3,g[ae].abortReason="set"):((0,X.hu)(0===g[ae].status,"Unexpected transaction status in abort"),g[ae].unwatcher(),F=F.concat(bt(y.serverSyncTree_,g[ae].currentWriteId,!0)),g[ae].onComplete&&I.push(g[ae].onComplete.bind(null,new Error("set"),!1,null))));-1===K?jr(p,void 0):g.length=K+1,Jo(y.eventQueue_,_a(p),F);for(let ae=0;ae<I.length;ae++)_r(I[ae])}}const Fc=function(y,p){const g=rd(y),I=g.namespace;return"firebase.com"===g.domain&&Nt(g.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!I||"undefined"===I)&&"localhost"!==g.domain&&Nt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),g.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ui(g.host,g.secure,I,"ws"===g.scheme||"wss"===g.scheme,p,"",I!==g.subdomain),path:new hr(g.pathString)}},rd=function(y){let p="",g="",I="",F="",K="",ae=!0,Ce="https",$e=443;if("string"==typeof y){let et=y.indexOf("//");et>=0&&(Ce=y.substring(0,et-1),y=y.substring(et+2));let tn=y.indexOf("/");-1===tn&&(tn=y.length);let on=y.indexOf("?");-1===on&&(on=y.length),p=y.substring(0,Math.min(tn,on)),tn<on&&(F=function Xl(y){let p="";const g=y.split("/");for(let I=0;I<g.length;I++)if(g[I].length>0){let F=g[I];try{F=decodeURIComponent(F.replace(/\+/g," "))}catch{}p+="/"+F}return p}(y.substring(tn,on)));const yn=function la(y){const p={};"?"===y.charAt(0)&&(y=y.substring(1));for(const g of y.split("&")){if(0===g.length)continue;const I=g.split("=");2===I.length?p[decodeURIComponent(I[0])]=decodeURIComponent(I[1]):xe(`Invalid query segment '${g}' in query '${y}'`)}return p}(y.substring(Math.min(y.length,on)));et=p.indexOf(":"),et>=0?(ae="https"===Ce||"wss"===Ce,$e=parseInt(p.substring(et+1),10)):et=p.length;const xr=p.slice(0,et);if("localhost"===xr.toLowerCase())g="localhost";else if(xr.split(".").length<=2)g=xr;else{const si=p.indexOf(".");I=p.substring(0,si).toLowerCase(),g=p.substring(si+1),K=I}"ns"in yn&&(K=yn.ns)}return{host:p,port:$e,domain:g,subdomain:I,secure:ae,scheme:Ce,pathString:F,namespace:K}},dc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Lc=function(){let y=0;const p=[];return function(g){const I=g===y;let F;y=g;const K=new Array(8);for(F=7;F>=0;F--)K[F]=dc.charAt(g%64),g=Math.floor(g/64);(0,X.hu)(0===g,"Cannot push at time == 0");let ae=K.join("");if(I){for(F=11;F>=0&&63===p[F];F--)p[F]=0;p[F]++}else for(F=0;F<12;F++)p[F]=Math.floor(64*Math.random());for(F=0;F<12;F++)ae+=dc.charAt(p[F]);return(0,X.hu)(20===ae.length,"nextPushId: Length should be 20."),ae}}();class Su{constructor(p,g,I,F){this.eventType=p,this.eventRegistration=g,this.snapshot=I,this.prevName=F}getPath(){const p=this.snapshot.ref;return"value"===this.eventType?p._path:p.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,X.Wl)(this.snapshot.exportVal())}}class jd{constructor(p,g,I){this.eventRegistration=p,this.error=g,this.path=I}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Fu{constructor(p,g){this.snapshotCallback=p,this.cancelCallback=g}onValue(p,g){this.snapshotCallback.call(null,p,g)}onCancel(p){return(0,X.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,p)}get hasCancelCallback(){return!!this.cancelCallback}matches(p){return this.snapshotCallback===p.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===p.snapshotCallback.userCallback&&this.snapshotCallback.context===p.snapshotCallback.context}}class Lu{constructor(p,g){this._repo=p,this._path=g}cancel(){const p=new X.BH;return Ud(this._repo,this._path,p.wrapCallback(()=>{})),p.promise}remove(){xo("OnDisconnect.remove",this._path);const p=new X.BH;return nd(this._repo,this._path,null,p.wrapCallback(()=>{})),p.promise}set(p){xo("OnDisconnect.set",this._path),al("OnDisconnect.set",p,this._path,!1);const g=new X.BH;return nd(this._repo,this._path,p,g.wrapCallback(()=>{})),g.promise}setWithPriority(p,g){xo("OnDisconnect.setWithPriority",this._path),al("OnDisconnect.setWithPriority",p,this._path,!1),Qo("OnDisconnect.setWithPriority",g,!1);const I=new X.BH;return function ku(y,p,g,I,F){const K=Ji(g,I);y.server_.onDisconnectPut(p.toString(),K.val(!0),(ae,Ce)=>{"ok"===ae&&Eo(y.onDisconnect_,p,K),qe(0,F,ae,Ce)})}(this._repo,this._path,p,g,I.wrapCallback(()=>{})),I.promise}update(p){xo("OnDisconnect.update",this._path),Bd("OnDisconnect.update",p,this._path,!1);const g=new X.BH;return function Tu(y,p,g,I){if((0,X.xb)(g))return Tt("onDisconnect().update() called with empty data.  Don't do anything."),void qe(0,I,"ok",void 0);y.server_.onDisconnectMerge(p.toString(),g,(F,K)=>{"ok"===F&&rt(g,(ae,Ce)=>{const $e=Ji(Ce);Eo(y.onDisconnect_,Bt(p,ae),$e)}),qe(0,I,F,K)})}(this._repo,this._path,p,g.wrapCallback(()=>{})),g.promise}}class Oo{constructor(p,g,I,F){this._repo=p,this._path=g,this._queryParams=I,this._orderByCalled=F}get key(){return Gt(this._path)?null:Ja(this._path)}get ref(){return new Dl(this._repo,this._path)}get _queryIdentifier(){const p=Nl(this._queryParams),g=Ln(p);return"{}"===g?"default":g}get _queryObject(){return Nl(this._queryParams)}isEqual(p){if(!((p=(0,X.m9)(p))instanceof Oo))return!1;const g=this._repo===p._repo,I=di(this._path,p._path);return g&&I&&this._queryIdentifier===p._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function it(y){let p="";for(let g=y.pieceNum_;g<y.pieces_.length;g++)""!==y.pieces_[g]&&(p+="/"+encodeURIComponent(String(y.pieces_[g])));return p||"/"}(this._path)}}function Vu(y,p){if(!0===y._orderByCalled)throw new Error(p+": You can't combine multiple orderBy calls.")}function pl(y){let p=null,g=null;if(y.hasStart()&&(p=y.getIndexStartValue()),y.hasEnd()&&(g=y.getIndexEndValue()),y.getIndex()===Zi){const I="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",F="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(y.hasStart()){if(y.getIndexStartName()!==Bn)throw new Error(I);if("string"!=typeof p)throw new Error(F)}if(y.hasEnd()){if(y.getIndexEndName()!==vn)throw new Error(I);if("string"!=typeof g)throw new Error(F)}}else if(y.getIndex()===Ur){if(null!=p&&!wc(p)||null!=g&&!wc(g))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,X.hu)(y.getIndex()instanceof Ba||y.getIndex()===Ns,"unknown index type."),null!=p&&"object"==typeof p||null!=g&&"object"==typeof g)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function id(y){if(y.hasStart()&&y.hasEnd()&&y.hasLimit()&&!y.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Dl extends Oo{constructor(p,g){super(p,g,new Bi,!1)}get parent(){const p=It(this._path);return null===p?null:new Dl(this._repo,p)}get root(){let p=this;for(;null!==p.parent;)p=p.parent;return p}}class pu{constructor(p,g,I){this._node=p,this.ref=g,this._index=I}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(p){const g=new hr(p),I=w(this.ref,p);return new pu(this._node.getChild(g),I,Ur)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(p){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(I,F)=>p(new pu(F,w(this.ref,I),Ur)))}hasChild(p){const g=new hr(p);return!this._node.getChild(g).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fh(y,p){return(y=(0,X.m9)(y))._checkNotDeleted("ref"),void 0!==p?w(y._root,p):y._root}function k(y,p){(y=(0,X.m9)(y))._checkNotDeleted("refFromURL");const g=Fc(p,y._repo.repoInfo_.nodeAdmin);bc("refFromURL",g);const I=g.repoInfo;return!y._repo.repoInfo_.isCustomHost()&&I.host!==y._repo.repoInfo_.host&&Nt("refFromURL: Host name does not match the current database: (found "+I.host+" but expected "+y._repo.repoInfo_.host+")"),Fh(y,g.path.toString())}function w(y,p){return null===Kr((y=(0,X.m9)(y))._path)?jo("child","path",p,!1):Zo("child","path",p,!1),new Dl(y._repo,Bt(y._path,p))}function U(y,p){y=(0,X.m9)(y),xo("push",y._path),al("push",p,y._path,!0);const g=hu(y._repo),I=Lc(g),F=w(y,I),K=w(y,I);let ae;return ae=null!=p?be(K,p).then(()=>K):Promise.resolve(K),F.then=ae.then.bind(ae),F.catch=ae.then.bind(ae,void 0),F}function ue(y){return xo("remove",y._path),be(y,null)}function be(y,p){y=(0,X.m9)(y),xo("set",y._path),al("set",p,y._path,!1);const g=new X.BH;return td(y._repo,y._path,p,null,g.wrapCallback(()=>{})),g.promise}function pt(y,p){y=(0,X.m9)(y),xo("setPriority",y._path),Qo("setPriority",p,!1);const g=new X.BH;return td(y._repo,Bt(y._path,".priority"),p,null,g.wrapCallback(()=>{})),g.promise}function Yt(y,p,g){if(xo("setWithPriority",y._path),al("setWithPriority",p,y._path,!1),Qo("setWithPriority",g,!1),".length"===y.key||".keys"===y.key)throw"setWithPriority failed: "+y.key+" is a read-only object.";const I=new X.BH;return td(y._repo,y._path,p,g,I.wrapCallback(()=>{})),I.promise}function Hn(y,p){Bd("update",p,y._path,!1);const g=new X.BH;return function uc(y,p,g,I){Re(y,"update",{path:p.toString(),value:g});let F=!0;const K=cc(y),ae={};if(rt(g,(Ce,$e)=>{F=!1,ae[Ce]=ol(Bt(p,Ce),Ji($e),y.serverSyncTree_,K)}),F)Tt("update() called with empty data.  Don't do anything."),qe(0,I,"ok",void 0);else{const Ce=$o(y),$e=function du(y,p,g,I){!function Na(y,p,g,I){(0,X.hu)(I>y.lastWriteId,"Stacking an older merge on top of newer ones"),y.allWrites.push({path:p,children:g,writeId:I,visible:!0}),y.visibleWrites=kl(y.visibleWrites,p,g),y.lastWriteId=I}(y.pendingWriteTree_,p,g,I);const F=bi.fromObject(g);return O(y,new sa({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},p,F))}(y.serverSyncTree_,p,ae,Ce);Cl(y.eventQueue_,$e),y.server_.merge(p.toString(),g,(et,tn)=>{const on="ok"===et;on||xe("update at "+p+" failed: "+et);const yn=bt(y.serverSyncTree_,Ce,!on),xr=yn.length>0?An(y,p):p;Jo(y.eventQueue_,xr,yn),qe(0,I,et,tn)}),rt(g,et=>{const tn=Qc(y,Bt(p,et));An(y,tn)}),Jo(y.eventQueue_,p,[])}}(y._repo,y._path,p,g.wrapCallback(()=>{})),g.promise}function Kn(y){y=(0,X.m9)(y);const p=new Fu(()=>{}),g=new Vr(p);return function fu(y,p,g){const I=function M(y,p){const g=p._path;let I=null;y.syncPointTree_.foreachOnPath(g,(et,tn)=>{const on=er(et,g);I=I||to(tn,on)});let F=y.syncPointTree_.get(g);F?I=I||to(F,$n()):(F=new Cr,y.syncPointTree_=y.syncPointTree_.set(g,F));const K=null!=I,ae=K?new ys(I,!0,!1):null;return function Oc(y){return Il(y.viewCache_)}(ht(F,p,ul(y.pendingWriteTree_,p._path),K?ae.getNode():Fr.EMPTY_NODE,K))}(y.serverSyncTree_,p);return null!=I?Promise.resolve(I):y.server_.get(p).then(F=>{const K=Ji(F).withIndex(p._queryParams.getIndex());let ae;if(E(y.serverSyncTree_,p,g,!0),p._queryParams.loadsAllData())ae=Ta(y.serverSyncTree_,p._path,K);else{const Ce=je(y.serverSyncTree_,p);ae=L(y.serverSyncTree_,p._path,K,Ce)}return Jo(y.eventQueue_,p._path,ae),R(y.serverSyncTree_,p,g,null,!0),K},F=>(Re(y,"get for query "+(0,X.Wl)(p)+" failed: "+F),Promise.reject(new Error(F))))}(y._repo,y,g).then(I=>new pu(I,new Dl(y._repo,y._path),y._queryParams.getIndex()))}class Vr{constructor(p){this.callbackContext=p}respondsTo(p){return"value"===p}createEvent(p,g){const I=g._queryParams.getIndex();return new Su("value",this,new pu(p.snapshotNode,new Dl(g._repo,g._path),I))}getEventRunner(p){return"cancel"===p.getEventType()?()=>this.callbackContext.onCancel(p.error):()=>this.callbackContext.onValue(p.snapshot,null)}createCancelEvent(p,g){return this.callbackContext.hasCancelCallback?new jd(this,p,g):null}matches(p){return p instanceof Vr&&(!p.callbackContext||!this.callbackContext||p.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ui{constructor(p,g){this.eventType=p,this.callbackContext=g}respondsTo(p){let g="children_added"===p?"child_added":p;return g="children_removed"===g?"child_removed":g,this.eventType===g}createCancelEvent(p,g){return this.callbackContext.hasCancelCallback?new jd(this,p,g):null}createEvent(p,g){(0,X.hu)(null!=p.childName,"Child events should have a childName.");const I=w(new Dl(g._repo,g._path),p.childName),F=g._queryParams.getIndex();return new Su(p.type,this,new pu(p.snapshotNode,I,F),p.prevName)}getEventRunner(p){return"cancel"===p.getEventType()?()=>this.callbackContext.onCancel(p.error):()=>this.callbackContext.onValue(p.snapshot,p.prevName)}matches(p){return p instanceof Ui&&this.eventType===p.eventType&&(!this.callbackContext||!p.callbackContext||this.callbackContext.matches(p.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Sa(y,p,g,I,F){let K;if("object"==typeof I&&(K=void 0,F=I),"function"==typeof I&&(K=I),F&&F.onlyOnce){const $e=g,et=(tn,on)=>{B(y._repo,y,Ce),$e(tn,on)};et.userCallback=g.userCallback,et.context=g.context,g=et}const ae=new Fu(g,K||void 0),Ce="value"===p?new Vr(ae):new Ui(p,ae);return function Yc(y,p,g){let I;I=".info"===Kr(p._path)?E(y.infoSyncTree_,p,g):E(y.serverSyncTree_,p,g),qc(y.eventQueue_,p._path,I)}(y._repo,y,Ce),()=>B(y._repo,y,Ce)}function gl(y,p,g,I){return Sa(y,"value",p,g,I)}function Cu(y,p,g,I){return Sa(y,"child_added",p,g,I)}function Zc(y,p,g,I){return Sa(y,"child_changed",p,g,I)}function Du(y,p,g,I){return Sa(y,"child_moved",p,g,I)}function Tc(y,p,g,I){return Sa(y,"child_removed",p,g,I)}function sd(y,p,g){let I=null;const F=g?new Fu(g):null;"value"===p?I=new Vr(F):p&&(I=new Ui(p,F)),B(y._repo,y,I)}class ec{}class Al extends ec{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){al("endAt",this._value,p._path,!0);const g=tl(p._queryParams,this._value,this._key);if(id(g),pl(g),p._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Oo(p._repo,p._path,g,p._orderByCalled)}}function Lh(y,p){return Nu("endAt","key",p,!0),new Al(y,p)}class Rl extends ec{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){al("endBefore",this._value,p._path,!1);const g=function Ua(y,p,g){let I;return I=tl(y,p,y.index_===Zi||g?g:Bn),I.endBeforeSet_=!0,I}(p._queryParams,this._value,this._key);if(id(g),pl(g),p._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Oo(p._repo,p._path,g,p._orderByCalled)}}function yh(y,p){return Nu("endBefore","key",p,!0),new Rl(y,p)}class od extends ec{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){al("startAt",this._value,p._path,!0);const g=Oa(p._queryParams,this._value,this._key);if(id(g),pl(g),p._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Oo(p._repo,p._path,g,p._orderByCalled)}}function $d(y=null,p){return Nu("startAt","key",p,!0),new od(y,p)}class Jc extends ec{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){al("startAfter",this._value,p._path,!1);const g=function sc(y,p,g){let I;return I=Oa(y,p,y.index_===Zi||g?g:vn),I.startAfterSet_=!0,I}(p._queryParams,this._value,this._key);if(id(g),pl(g),p._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Oo(p._repo,p._path,g,p._orderByCalled)}}function vd(y,p){return Nu("startAfter","key",p,!0),new Jc(y,p)}class Gd extends ec{constructor(p){super(),this._limit=p}_apply(p){if(p._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Oo(p._repo,p._path,function ba(y,p){const g=y.copy();return g.limitSet_=!0,g.limit_=p,g.viewFrom_="l",g}(p._queryParams,this._limit),p._orderByCalled)}}function Wg(y){if("number"!=typeof y||Math.floor(y)!==y||y<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Gd(y)}class Tp extends ec{constructor(p){super(),this._limit=p}_apply(p){if(p._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Oo(p._repo,p._path,function Xi(y,p){const g=y.copy();return g.limitSet_=!0,g.limit_=p,g.viewFrom_="r",g}(p._queryParams,this._limit),p._orderByCalled)}}function as(y){if("number"!=typeof y||Math.floor(y)!==y||y<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Tp(y)}class Sp extends ec{constructor(p){super(),this._path=p}_apply(p){Vu(p,"orderByChild");const g=new hr(this._path);if(Gt(g))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const I=new Ba(g),F=ha(p._queryParams,I);return pl(F),new Oo(p._repo,p._path,F,!0)}}function yf(y){if("$key"===y)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===y)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===y)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zo("orderByChild","path",y,!1),new Sp(y)}class Cp extends ec{_apply(p){Vu(p,"orderByKey");const g=ha(p._queryParams,Zi);return pl(g),new Oo(p._repo,p._path,g,!0)}}function vf(){return new Cp}class Vh extends ec{_apply(p){Vu(p,"orderByPriority");const g=ha(p._queryParams,Ur);return pl(g),new Oo(p._repo,p._path,g,!0)}}function Bh(){return new Vh}class P_ extends ec{_apply(p){Vu(p,"orderByValue");const g=ha(p._queryParams,Ns);return pl(g),new Oo(p._repo,p._path,g,!0)}}function Ed(){return new P_}class Hd extends ec{constructor(p,g){super(),this._value=p,this._key=g}_apply(p){if(al("equalTo",this._value,p._path,!1),p._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(p._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Al(this._value,this._key)._apply(new od(this._value,this._key)._apply(p))}}function ad(y,p){return Nu("equalTo","key",p,!0),new Hd(y,p)}function zd(y,...p){let g=(0,X.m9)(y);for(const I of p)g=I._apply(g);return g}(function El(y){(0,X.hu)(!ss,"__referenceConstructor has already been defined"),ss=y})(Dl),function il(y){(0,X.hu)(!vc,"__referenceConstructor has already been defined"),vc=y}(Dl);const qg="FIREBASE_DATABASE_EMULATOR_HOST",ld={};let Ef=!1;function vh(y,p,g,I,F){let K=I||y.options.databaseURL;void 0===K&&(y.options.projectId||Nt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tt("Using default host for project ",y.options.projectId),K=`${y.options.projectId}-default-rtdb.firebaseio.com`);let $e,et,ae=Fc(K,F),Ce=ae.repoInfo;typeof process<"u"&&process.env&&(et=process.env[qg]),et?($e=!0,K=`http://${et}?ns=${Ce.namespace}`,ae=Fc(K,F),Ce=ae.repoInfo):$e=!ae.repoInfo.secure;const tn=F&&$e?new Ue(Ue.OWNER):new Br(y.name,y.options,p);bc("Invalid Firebase Database URL",ae),Gt(ae.path)||Nt("Database URL must point to the root of a Firebase Database (not including a child path).");const on=function wd(y,p,g,I){let F=ld[p.name];F||(F={},ld[p.name]=F);let K=F[y.toURLString()];return K&&Nt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),K=new _d(y,Ef,g,I),F[y.toURLString()]=K,K}(Ce,y,tn,new Fn(y.name,g));return new bd(on,y)}class bd{constructor(p,g){this._repoInternal=p,this.app=g,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function kc(y,p,g){if(y.stats_=Yi(y.repoInfo_),y.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)y.server_=new fa(y.repoInfo_,(I,F,K,ae)=>{Xu(y,I,F,K,ae)},y.authTokenProvider_,y.appCheckProvider_),setTimeout(()=>Ic(y,!0),0);else{if(typeof g<"u"&&null!==g){if("object"!=typeof g)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,X.Wl)(g)}catch(I){throw new Error("Invalid authOverride provided: "+I)}}y.persistentConnection_=new Ci(y.repoInfo_,p,(I,F,K,ae)=>{Xu(y,I,F,K,ae)},I=>{Ic(y,I)},I=>{!function Jl(y,p){rt(p,(g,I)=>{ed(y,g,I)})}(y,I)},y.authTokenProvider_,y.appCheckProvider_,g),y.server_=y.persistentConnection_}y.authTokenProvider_.addTokenChangeListener(I=>{y.server_.refreshAuthToken(I)}),y.appCheckProvider_.addTokenChangeListener(I=>{y.server_.refreshAppCheckToken(I.token)}),y.statsReporter_=function Mr(y,p){const g=y.toString();return $r[g]||($r[g]=p()),$r[g]}(y.repoInfo_,()=>new ks(y.stats_,y.server_)),y.infoData_=new es,y.infoSyncTree_=new bo({startListening:(I,F,K,ae)=>{let Ce=[];const $e=y.infoData_.getNode(I._path);return $e.isEmpty()||(Ce=Ta(y.infoSyncTree_,I._path,$e),setTimeout(()=>{ae("ok")},0)),Ce},stopListening:()=>{}}),ed(y,"connected",!1),y.serverSyncTree_=new bo({startListening:(I,F,K,ae)=>(y.server_.listen(I,K,F,(Ce,$e)=>{const et=ae(Ce,$e);Jo(y.eventQueue_,I._path,et)}),[]),stopListening:(I,F)=>{y.server_.unlisten(I,F)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dl(this._repo,$n())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Dp(y,p){const g=ld[p];(!g||g[y.key]!==y)&&Nt(`Database ${p}(${y.repoInfo_}) has already been deleted.`),q(y),delete g[y.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(p){null===this._rootInternal&&Nt("Cannot call "+p+" on a deleted database.")}}function Xo(){xi.IS_TRANSPORT_INITIALIZED&&xe("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Wd(){Xo(),Vt.forceDisallow()}function Id(){Xo(),pr.forceDisallow(),Vt.forceAllow()}function qd(y=(0,fe.getApp)(),p){const g=(0,fe._getProvider)(y,"database").getImmediate({identifier:p});if(!g._instanceStarted){const I=(0,X.P0)("database");I&&Kd(g,...I)}return g}function Kd(y,p,g,I={}){(y=(0,X.m9)(y))._checkNotDeleted("useEmulator"),y._instanceStarted&&Nt("Cannot call useEmulator() after instance has already been initialized.");const F=y._repoInternal;let K;if(F.repoInfo_.nodeAdmin)I.mockUserToken&&Nt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),K=new Ue(Ue.OWNER);else if(I.mockUserToken){const ae="string"==typeof I.mockUserToken?I.mockUserToken:(0,X.Sg)(I.mockUserToken,y.app.options.projectId);K=new Ue(ae)}!function gu(y,p,g,I){y.repoInfo_=new ui(`${p}:${g}`,!1,y.repoInfo_.namespace,y.repoInfo_.webSocketOnly,y.repoInfo_.nodeAdmin,y.repoInfo_.persistenceKey,y.repoInfo_.includeNamespaceInQueryParams,!0),I&&(y.authTokenProvider_=I)}(F,p,g,K)}function Yd(y){(y=(0,X.m9)(y))._checkNotDeleted("goOffline"),q(y._repo)}function M_(y){(y=(0,X.m9)(y))._checkNotDeleted("goOnline"),function le(y){y.persistentConnection_&&y.persistentConnection_.resume(jl)}(y._repo)}function Kg(y,p){Xe(y,p)}const mu={".sv":"timestamp"};function Rp(){return mu}function xp(y){return{".sv":{increment:y}}}class Op{constructor(p,g){this.committed=p,this.snapshot=g}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function ud(y,p,g){var I;if(y=(0,X.m9)(y),xo("Reference.transaction",y._path),".length"===y.key||".keys"===y.key)throw"Reference.transaction failed: "+y.key+" is a read-only object.";const F=null===(I=g?.applyLocally)||void 0===I||I,K=new X.BH,Ce=gl(y,()=>{});return function ut(y,p,g,I,F,K){Re(y,"transaction on "+p);const ae={path:p,update:g,onComplete:I,status:null,order:dt(),applyLocally:K,retryCount:0,unwatcher:F,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},Ce=Qt(y,p,void 0);ae.currentInputSnapshot=Ce;const $e=ae.update(Ce.val());if(void 0===$e)ae.unwatcher(),ae.currentOutputSnapshotRaw=null,ae.currentOutputSnapshotResolved=null,ae.onComplete&&ae.onComplete(null,!1,ae.currentInputSnapshot);else{Yo("transaction failed: Data returned ",$e,ae.path),ae.status=0;const et=ms(y.transactionQueueTree_,p),tn=wr(et)||[];let on;tn.push(ae),jr(et,tn),"object"==typeof $e&&null!==$e&&(0,X.r3)($e,".priority")?(on=(0,X.DV)($e,".priority"),(0,X.hu)(wc(on),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):on=(C(y.serverSyncTree_,p)||Fr.EMPTY_NODE).getPriority().val();const yn=cc(y),xr=Ji($e,on),si=hl(xr,Ce,yn);ae.currentOutputSnapshotRaw=xr,ae.currentOutputSnapshotResolved=si,ae.currentWriteId=$o(y);const $s=Io(y.serverSyncTree_,p,si,ae.currentWriteId,ae.applyLocally);Jo(y.eventQueue_,p,$s),rr(y,y.transactionQueueTree_)}}(y._repo,y._path,p,($e,et,tn)=>{let on=null;$e?K.reject($e):(on=new pu(tn,new Dl(y._repo,y._path),Ur),K.resolve(new Op(et,on)))},Ce,F),K.promise}Ci.prototype.simpleListen=function(y,p){this.sendRequest("q",{p:y},p)},Ci.prototype.echo=function(y,p){this.sendRequest("echo",{d:y},p)},function cd(y){nt(fe.SDK_VERSION),(0,fe._registerComponent)(new ve.wA("database",(p,{instanceIdentifier:g})=>vh(p.getProvider("app").getImmediate(),p.getProvider("auth-internal"),p.getProvider("app-check-internal"),g),"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(He,"0.14.4",y),(0,fe.registerVersion)(He,"0.14.4","esm2017")}()},9058:(Pn,_t,Y)=>{Y.d(_t,{$s:()=>Et,BH:()=>gt,DV:()=>Je,Dv:()=>ti,GJ:()=>Br,L:()=>nt,LL:()=>rn,P0:()=>In,Pz:()=>Tt,Sg:()=>mt,UG:()=>Wt,UI:()=>Ft,US:()=>He,Wj:()=>Mr,Wl:()=>cr,Yr:()=>Gn,ZB:()=>Ke,ZR:()=>Dt,aH:()=>Xe,b$:()=>Bn,cI:()=>Zr,dS:()=>Is,eu:()=>rt,g5:()=>ve,gK:()=>$r,gQ:()=>or,h$:()=>ct,hl:()=>Qe,hu:()=>fe,jU:()=>hn,lb:()=>dr,m9:()=>ar,ne:()=>yr,p$:()=>Ae,pd:()=>Dn,q4:()=>Vn,r3:()=>Ue,ru:()=>zn,tV:()=>Ie,uI:()=>xe,ug:()=>Ts,vZ:()=>xt,w1:()=>Zn,w9:()=>Fn,xO:()=>sr,xb:()=>Ct,z$:()=>Nt,zI:()=>wt,zd:()=>pn});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},fe=function(Le,pe){if(!Le)throw ve(pe)},ve=function(Le){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+Le)},X=function(Le){const pe=[];let he=0;for(let Fe=0;Fe<Le.length;Fe++){let _e=Le.charCodeAt(Fe);_e<128?pe[he++]=_e:_e<2048?(pe[he++]=_e>>6|192,pe[he++]=63&_e|128):55296==(64512&_e)&&Fe+1<Le.length&&56320==(64512&Le.charCodeAt(Fe+1))?(_e=65536+((1023&_e)<<10)+(1023&Le.charCodeAt(++Fe)),pe[he++]=_e>>18|240,pe[he++]=_e>>12&63|128,pe[he++]=_e>>6&63|128,pe[he++]=63&_e|128):(pe[he++]=_e>>12|224,pe[he++]=_e>>6&63|128,pe[he++]=63&_e|128)}return pe},He={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Le,pe){if(!Array.isArray(Le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const he=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Fe=[];for(let _e=0;_e<Le.length;_e+=3){const We=Le[_e],Vt=_e+1<Le.length,nn=Vt?Le[_e+1]:0,Jn=_e+2<Le.length,xn=Jn?Le[_e+2]:0;let xi=(15&nn)<<2|xn>>6,ot=63&xn;Jn||(ot=64,Vt||(xi=64)),Fe.push(he[We>>2],he[(3&We)<<4|nn>>4],he[xi],he[ot])}return Fe.join("")},encodeString(Le,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(Le):this.encodeByteArray(X(Le),pe)},decodeString(Le,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(Le):function(Le){const pe=[];let he=0,Fe=0;for(;he<Le.length;){const _e=Le[he++];if(_e<128)pe[Fe++]=String.fromCharCode(_e);else if(_e>191&&_e<224){const We=Le[he++];pe[Fe++]=String.fromCharCode((31&_e)<<6|63&We)}else if(_e>239&&_e<365){const Jn=((7&_e)<<18|(63&Le[he++])<<12|(63&Le[he++])<<6|63&Le[he++])-65536;pe[Fe++]=String.fromCharCode(55296+(Jn>>10)),pe[Fe++]=String.fromCharCode(56320+(1023&Jn))}else{const We=Le[he++],Vt=Le[he++];pe[Fe++]=String.fromCharCode((15&_e)<<12|(63&We)<<6|63&Vt)}}return pe.join("")}(this.decodeStringToByteArray(Le,pe))},decodeStringToByteArray(Le,pe){this.init_();const he=pe?this.charToByteMapWebSafe_:this.charToByteMap_,Fe=[];for(let _e=0;_e<Le.length;){const We=he[Le.charAt(_e++)],nn=_e<Le.length?he[Le.charAt(_e)]:0;++_e;const xn=_e<Le.length?he[Le.charAt(_e)]:64;++_e;const pr=_e<Le.length?he[Le.charAt(_e)]:64;if(++_e,null==We||null==nn||null==xn||null==pr)throw new Se;Fe.push(We<<2|nn>>4),64!==xn&&(Fe.push(nn<<4&240|xn>>2),64!==pr&&Fe.push(xn<<6&192|pr))}return Fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Le=0;Le<this.ENCODED_VALS.length;Le++)this.byteToCharMap_[Le]=this.ENCODED_VALS.charAt(Le),this.charToByteMap_[this.byteToCharMap_[Le]]=Le,this.byteToCharMapWebSafe_[Le]=this.ENCODED_VALS_WEBSAFE.charAt(Le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Le]]=Le,Le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Le)]=Le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Le)]=Le)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ct=function(Le){const pe=X(Le);return He.encodeByteArray(pe,!0)},nt=function(Le){return ct(Le).replace(/\./g,"")},Ie=function(Le){try{return He.decodeString(Le,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null};function Ae(Le){return Ke(void 0,Le)}function Ke(Le,pe){if(!(pe instanceof Object))return pe;switch(pe.constructor){case Date:return new Date(pe.getTime());case Object:void 0===Le&&(Le={});break;case Array:Le=[];break;default:return pe}for(const he in pe)!pe.hasOwnProperty(he)||!ft(he)||(Le[he]=Ke(Le[he],pe[he]));return Le}function ft(Le){return"__proto__"!==Le}const Kt=()=>{try{return function ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Le=process.env.__FIREBASE_DEFAULTS__;return Le?JSON.parse(Le):void 0})()||(()=>{if(typeof document>"u")return;let Le;try{Le=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const pe=Le&&Ie(Le[1]);return pe&&JSON.parse(pe)})()}catch(Le){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Le}`)}},Vn=Le=>{var pe,he;return null===(he=null===(pe=Kt())||void 0===pe?void 0:pe.emulatorHosts)||void 0===he?void 0:he[Le]},In=Le=>{const pe=Vn(Le);if(!pe)return;const he=pe.lastIndexOf(":");if(he<=0||he+1===pe.length)throw new Error(`Invalid host ${pe} with no separate hostname and port!`);const Fe=parseInt(pe.substring(he+1),10);return"["===pe[0]?[pe.substring(1,he-1),Fe]:[pe.substring(0,he),Fe]},Xe=()=>{var Le;return null===(Le=Kt())||void 0===Le?void 0:Le.config},Tt=Le=>{var pe;return null===(pe=Kt())||void 0===pe?void 0:pe[`_${Le}`]};class gt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,he)=>{this.resolve=pe,this.reject=he})}wrapCallback(pe){return(he,Fe)=>{he?this.reject(he):this.resolve(Fe),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(he):pe(he,Fe))}}}function mt(Le,pe){if(Le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Fe=pe||"demo-project",_e=Le.iat||0,We=Le.sub||Le.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Vt=Object.assign({iss:`https://securetoken.google.com/${Fe}`,aud:Fe,iat:_e,exp:_e+3600,auth_time:_e,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},Le);return[nt(JSON.stringify({alg:"none",type:"JWT"})),nt(JSON.stringify(Vt)),""].join(".")}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function Wt(){var Le;const pe=null===(Le=Kt())||void 0===Le?void 0:Le.forceEnvironment;if("node"===pe)return!0;if("browser"===pe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function hn(){return"object"==typeof self&&self.self===self}function zn(){const Le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Le&&void 0!==Le.id}function Bn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Zn(){const Le=Nt();return Le.indexOf("MSIE ")>=0||Le.indexOf("Trident/")>=0}function Gn(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function Qe(){try{return"object"==typeof indexedDB}catch{return!1}}function rt(){return new Promise((Le,pe)=>{try{let he=!0;const Fe="validate-browser-context-for-indexeddb-analytics-module",_e=self.indexedDB.open(Fe);_e.onsuccess=()=>{_e.result.close(),he||self.indexedDB.deleteDatabase(Fe),Le(!0)},_e.onupgradeneeded=()=>{he=!1},_e.onerror=()=>{var We;pe((null===(We=_e.error)||void 0===We?void 0:We.message)||"")}}catch(he){pe(he)}})}function wt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Dt extends Error{constructor(pe,he,Fe){super(he),this.code=pe,this.customData=Fe,this.name="FirebaseError",Object.setPrototypeOf(this,Dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}}class rn{constructor(pe,he,Fe){this.service=pe,this.serviceName=he,this.errors=Fe}create(pe,...he){const Fe=he[0]||{},_e=`${this.service}/${pe}`,We=this.errors[pe],Vt=We?function ln(Le,pe){return Le.replace(gn,(he,Fe)=>{const _e=pe[Fe];return null!=_e?String(_e):`<${Fe}?>`})}(We,Fe):"Error";return new Dt(_e,`${this.serviceName}: ${Vt} (${_e}).`,Fe)}}const gn=/\{\$([^}]+)}/g;function Zr(Le){return JSON.parse(Le)}function cr(Le){return JSON.stringify(Le)}const _r=function(Le){let pe={},he={},Fe={},_e="";try{const We=Le.split(".");pe=Zr(Ie(We[0])||""),he=Zr(Ie(We[1])||""),_e=We[2],Fe=he.d||{},delete he.d}catch{}return{header:pe,claims:he,data:Fe,signature:_e}},Fn=function(Le){const he=_r(Le).claims;return!!he&&"object"==typeof he&&he.hasOwnProperty("iat")},Br=function(Le){const pe=_r(Le).claims;return"object"==typeof pe&&!0===pe.admin};function Ue(Le,pe){return Object.prototype.hasOwnProperty.call(Le,pe)}function Je(Le,pe){if(Object.prototype.hasOwnProperty.call(Le,pe))return Le[pe]}function Ct(Le){for(const pe in Le)if(Object.prototype.hasOwnProperty.call(Le,pe))return!1;return!0}function Ft(Le,pe,he){const Fe={};for(const _e in Le)Object.prototype.hasOwnProperty.call(Le,_e)&&(Fe[_e]=pe.call(he,Le[_e],_e,Le));return Fe}function xt(Le,pe){if(Le===pe)return!0;const he=Object.keys(Le),Fe=Object.keys(pe);for(const _e of he){if(!Fe.includes(_e))return!1;const We=Le[_e],Vt=pe[_e];if(Xt(We)&&Xt(Vt)){if(!xt(We,Vt))return!1}else if(We!==Vt)return!1}for(const _e of Fe)if(!he.includes(_e))return!1;return!0}function Xt(Le){return null!==Le&&"object"==typeof Le}function sr(Le){const pe=[];for(const[he,Fe]of Object.entries(Le))Array.isArray(Fe)?Fe.forEach(_e=>{pe.push(encodeURIComponent(he)+"="+encodeURIComponent(_e))}):pe.push(encodeURIComponent(he)+"="+encodeURIComponent(Fe));return pe.length?"&"+pe.join("&"):""}function pn(Le){const pe={};return Le.replace(/^\?/,"").split("&").forEach(Fe=>{if(Fe){const[_e,We]=Fe.split("=");pe[decodeURIComponent(_e)]=decodeURIComponent(We)}}),pe}function Dn(Le){const pe=Le.indexOf("?");if(!pe)return"";const he=Le.indexOf("#",pe);return Le.substring(pe,he>0?he:void 0)}class or{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let pe=1;pe<this.blockSize;++pe)this.pad_[pe]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(pe,he){he||(he=0);const Fe=this.W_;if("string"==typeof pe)for(let pr=0;pr<16;pr++)Fe[pr]=pe.charCodeAt(he)<<24|pe.charCodeAt(he+1)<<16|pe.charCodeAt(he+2)<<8|pe.charCodeAt(he+3),he+=4;else for(let pr=0;pr<16;pr++)Fe[pr]=pe[he]<<24|pe[he+1]<<16|pe[he+2]<<8|pe[he+3],he+=4;for(let pr=16;pr<80;pr++){const xi=Fe[pr-3]^Fe[pr-8]^Fe[pr-14]^Fe[pr-16];Fe[pr]=4294967295&(xi<<1|xi>>>31)}let xn,oi,_e=this.chain_[0],We=this.chain_[1],Vt=this.chain_[2],nn=this.chain_[3],Jn=this.chain_[4];for(let pr=0;pr<80;pr++){pr<40?pr<20?(xn=nn^We&(Vt^nn),oi=1518500249):(xn=We^Vt^nn,oi=1859775393):pr<60?(xn=We&Vt|nn&(We|Vt),oi=2400959708):(xn=We^Vt^nn,oi=3395469782);const xi=(_e<<5|_e>>>27)+xn+Jn+oi+Fe[pr]&4294967295;Jn=nn,nn=Vt,Vt=4294967295&(We<<30|We>>>2),We=_e,_e=xi}this.chain_[0]=this.chain_[0]+_e&4294967295,this.chain_[1]=this.chain_[1]+We&4294967295,this.chain_[2]=this.chain_[2]+Vt&4294967295,this.chain_[3]=this.chain_[3]+nn&4294967295,this.chain_[4]=this.chain_[4]+Jn&4294967295}update(pe,he){if(null==pe)return;void 0===he&&(he=pe.length);const Fe=he-this.blockSize;let _e=0;const We=this.buf_;let Vt=this.inbuf_;for(;_e<he;){if(0===Vt)for(;_e<=Fe;)this.compress_(pe,_e),_e+=this.blockSize;if("string"==typeof pe){for(;_e<he;)if(We[Vt]=pe.charCodeAt(_e),++Vt,++_e,Vt===this.blockSize){this.compress_(We),Vt=0;break}}else for(;_e<he;)if(We[Vt]=pe[_e],++Vt,++_e,Vt===this.blockSize){this.compress_(We),Vt=0;break}}this.inbuf_=Vt,this.total_+=he}digest(){const pe=[];let he=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let _e=this.blockSize-1;_e>=56;_e--)this.buf_[_e]=255&he,he/=256;this.compress_(this.buf_);let Fe=0;for(let _e=0;_e<5;_e++)for(let We=24;We>=0;We-=8)pe[Fe]=this.chain_[_e]>>We&255,++Fe;return pe}}function yr(Le,pe){const he=new ui(Le,pe);return he.subscribe.bind(he)}class ui{constructor(pe,he){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=he,this.task.then(()=>{pe(this)}).catch(Fe=>{this.error(Fe)})}next(pe){this.forEachObserver(he=>{he.next(pe)})}error(pe){this.forEachObserver(he=>{he.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,he,Fe){let _e;if(void 0===pe&&void 0===he&&void 0===Fe)throw new Error("Missing Observer.");_e=function Tr(Le,pe){if("object"!=typeof Le||null===Le)return!1;for(const he of pe)if(he in Le&&"function"==typeof Le[he])return!0;return!1}(pe,["next","error","complete"])?pe:{next:pe,error:he,complete:Fe},void 0===_e.next&&(_e.next=ei),void 0===_e.error&&(_e.error=ei),void 0===_e.complete&&(_e.complete=ei);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_e.error(this.finalError):_e.complete()}catch{}}),this.observers.push(_e),We}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let he=0;he<this.observers.length;he++)this.sendOne(he,pe)}sendOne(pe,he){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{he(this.observers[pe])}catch(Fe){typeof console<"u"&&console.error&&console.error(Fe)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}const ti=function(Le,pe,he,Fe){let _e;if(Fe<pe?_e="at least "+pe:Fe>he&&(_e=0===he?"none":"no more than "+he),_e)throw new Error(Le+" failed: Was called with "+Fe+(1===Fe?" argument.":" arguments.")+" Expects "+_e+".")};function $r(Le,pe){return`${Le} failed: ${pe} argument `}function Mr(Le,pe,he,Fe){if((!Fe||he)&&"function"!=typeof he)throw new Error($r(Le,pe)+"must be a valid function.")}function dr(Le,pe,he,Fe){if((!Fe||he)&&("object"!=typeof he||null===he))throw new Error($r(Le,pe)+"must be a valid context object.")}const Is=function(Le){const pe=[];let he=0;for(let Fe=0;Fe<Le.length;Fe++){let _e=Le.charCodeAt(Fe);if(_e>=55296&&_e<=56319){const We=_e-55296;Fe++,fe(Fe<Le.length,"Surrogate pair missing trail surrogate."),_e=65536+(We<<10)+(Le.charCodeAt(Fe)-56320)}_e<128?pe[he++]=_e:_e<2048?(pe[he++]=_e>>6|192,pe[he++]=63&_e|128):_e<65536?(pe[he++]=_e>>12|224,pe[he++]=_e>>6&63|128,pe[he++]=63&_e|128):(pe[he++]=_e>>18|240,pe[he++]=_e>>12&63|128,pe[he++]=_e>>6&63|128,pe[he++]=63&_e|128)}return pe},Ts=function(Le){let pe=0;for(let he=0;he<Le.length;he++){const Fe=Le.charCodeAt(he);Fe<128?pe++:Fe<2048?pe+=2:Fe>=55296&&Fe<=56319?(pe+=4,he++):pe+=3}return pe},Fi=1e3,yt=2,Ge=144e5,jt=.5;function Et(Le,pe=Fi,he=yt){const Fe=pe*Math.pow(he,Le),_e=Math.round(jt*Fe*(Math.random()-.5)*2);return Math.min(Ge,Fe+_e)}function ar(Le){return Le&&Le._delegate?Le._delegate:Le}},8976:(Pn,_t,Y)=>{Y.d(_t,{b:()=>d});class d{constructor(ve,X,Me){this.mail=ve,this.password=X,this.nombre=Me,this.fechaAcceso=Date.now(),this.id=""}}},6514:(Pn,_t,Y)=>{Y.d(_t,{T:()=>He});var d=Y(5861),fe=Y(5879),ve=Y(6796),X=Y(642),Me=Y(2759);let He=(()=>{var Se;class ct{constructor(Ie,Ae,Ke){this.auth=Ie,this.router=Ae,this.userService=Ke,this.auth.onAuthStateChanged(ft=>{ft?(this.UserData=ft,localStorage.setItem("user",JSON.stringify(this.UserData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}guardar(Ie,Ae){var Ke=this;return(0,d.Z)(function*(){return(yield Ke.auth.createUserWithEmailAndPassword(Ie,Ae)).user?.uid})()}login(Ie,Ae){return this.auth.signInWithEmailAndPassword(Ie,Ae).then(Ke=>{this.UserData=Ke.user,this.userService.updateLoginState(this.UserData.uid),this.router.navigateByUrl("")}).catch(Ke=>{window.alert(Ke.message)})}logout(){return this.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigateByUrl("login")})}isLoggedIn(){const Ie=localStorage.getItem("user");return null!==JSON.parse(Ie)}}return(Se=ct).\u0275fac=function(Ie){return new(Ie||Se)(fe.LFG(ve.zQ),fe.LFG(X.F0),fe.LFG(Me.J))},Se.\u0275prov=fe.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),ct})()},833:(Pn,_t,Y)=>{Y.d(_t,{_:()=>X});var d=Y(5619),fe=Y(5879),ve=Y(642);let X=(()=>{var Me;class He{updateOverlayState(ct){this.showOverlay.next(ct)}constructor(ct){this.router=ct,this.showOverlay=new d.X(!1),this.currentOverlayState=this.showOverlay.asObservable(),ct.events.subscribe(nt=>{this.navigationInterceptor(nt)})}navigationInterceptor(ct){}}return(Me=He).\u0275fac=function(ct){return new(ct||Me)(fe.LFG(ve.F0))},Me.\u0275prov=fe.Yz7({token:Me,factory:Me.\u0275fac,providedIn:"root"}),He})()},2759:(Pn,_t,Y)=>{Y.d(_t,{J:()=>He});var d=Y(5861),fe=Y(8976),ve=Y(938),X=Y(5619),Me=Y(5879);let He=(()=>{var Se;class ct{constructor(Ie){this.firestore=Ie,this.loginState=new X.X(""),this.currentLoginState=this.loginState.asObservable(),this.usuariosRef=(0,ve.hJ)(this.firestore,"usuarios")}updateLoginState(Ie){this.loginState.next(Ie)}addUsuario(Ie){return(0,ve.ET)(this.usuariosRef,Ie)}setUsuario(Ie,Ae){var Ke=this;return(0,d.Z)(function*(){const ft=(0,ve.JU)(Ke.usuariosRef,Ae);return Ie.id=Ae,(0,ve.pl)(ft,{...Ie})})()}getUsuarios(){return(0,ve.BS)(this.usuariosRef,{idField:"id"})}traerSubscripcion(){return this.getUsuarios().subscribe(Ie=>{console.log(Ie)})}getUsuario(Ie){var Ae=this;return(0,d.Z)(function*(){var Ke=new Document;return(yield(0,ve.PL)(Ae.usuariosRef)).forEach(ze=>{ze.id==Ie&&(Ke=ze.data())}),new fe.b(Ke.mail,Ke.password,Ke.nombre)})()}updUsuario(Ie){const Ae=(0,ve.JU)(this.firestore,`usuarios/${Ie.mail}`);return(0,ve.r7)(Ae,{...Ie})}delUsuario(Ie){const Ae=(0,ve.JU)(this.firestore,`usuarios/${Ie}`);return(0,ve.oe)(Ae)}}return(Se=ct).\u0275fac=function(Ie){return new(Ie||Se)(Me.LFG(ve.gg))},Se.\u0275prov=Me.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),ct})()},5980:(Pn,_t,Y)=>{var d=Y(6593),fe=Y(642),ve=Y(6514),X=Y(5879);const He=[{path:"",canActivate:[(oe,R)=>!!(0,X.f3M)(ve.T).isLoggedIn()||(0,X.f3M)(fe.F0).navigateByUrl("login")],loadChildren:()=>Y.e(599).then(Y.bind(Y,6599)).then(oe=>oe.HomeModule)},{path:"login",loadChildren:()=>Y.e(629).then(Y.bind(Y,2629)).then(oe=>oe.LoginModule)},{path:"registro",loadChildren:()=>Promise.all([Y.e(519),Y.e(121)]).then(Y.bind(Y,5121)).then(oe=>oe.RegistroModule)},{path:"**",loadChildren:()=>Y.e(694).then(Y.bind(Y,694)).then(oe=>oe.ErrorModule)}];let Se=(()=>{var oe;class R{}return(oe=R).\u0275fac=function(W){return new(W||oe)},oe.\u0275mod=X.oAB({type:oe}),oe.\u0275inj=X.cJS({imports:[fe.Bz.forRoot(He),fe.Bz]}),R})();var ct=Y(833),nt=Y(6814);function Ie(oe,R){1&oe&&(X.TgZ(0,"div",5)(1,"div",6),X._UZ(2,"div",7)(3,"div",8),X.qZA()())}let Ae=(()=>{var oe;class R{constructor(W){this.interceptor=W,this.title="sala-juegos-llemos",this.showOverlay=!1,W.currentOverlayState.subscribe(E=>this.showOverlay=E)}}return(oe=R).\u0275fac=function(W){return new(W||oe)(X.Y36(ct._))},oe.\u0275cmp=X.Xpm({type:oe,selectors:[["app-root"]],decls:7,vars:1,consts:[["class","my-overlay",4,"ngIf"],[1,"text-center","bg-dark"],[1,"cover-container","p-3","pt-0","mx-auto"],[1,"border-top","border-secondary","text-center","w-100"],[1,"text-light","font-monospace"],[1,"my-overlay"],[1,"spinner"],[1,"cube1"],[1,"cube2"]],template:function(W,E){1&W&&(X.YNc(0,Ie,4,0,"div",0),X.TgZ(1,"main",1)(2,"div",2),X._UZ(3,"router-outlet"),X.qZA()(),X.TgZ(4,"footer",3)(5,"span",4),X._uU(6,"LEMOS LAUTARO LUCAS - 2023"),X.qZA()()),2&W&&X.Q6J("ngIf",E.showOverlay)},dependencies:[nt.O5,fe.lC],styles:[".btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:hover, .btn-secondary[_ngcontent-%COMP%]:focus{color:#333;text-shadow:none}main[_ngcontent-%COMP%]{height:calc(100vh - 71px)}footer[_ngcontent-%COMP%]{line-height:20px;padding:10px 20px;margin-top:30px}.cover-container[_ngcontent-%COMP%]{max-width:50em}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ffffff80;border-bottom:.25rem solid transparent}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{border-bottom-color:#ffffff40}.nav-masthead[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] + .nav-link[_ngcontent-%COMP%]{margin-left:1rem}.nav-masthead[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}.my-overlay[_ngcontent-%COMP%]{left:0!important;top:0!important;z-index:10000!important;width:100%!important;height:100%!important;position:fixed!important;background-color:rgba(var(--bs-dark-rgb),1)!important;cursor:pointer!important;visibility:visible!important;transition:visibility 0s,opacity .4s linear!important;display:flex;align-items:center;justify-content:center;cursor:wait!important}.spinner[_ngcontent-%COMP%]{margin:100px auto;width:40px;height:40px;position:relative}.cube1[_ngcontent-%COMP%], .cube2[_ngcontent-%COMP%]{background-color:#979797;width:15px;height:15px;position:absolute;top:0;left:0;animation:_ngcontent-%COMP%_sk-cubemove 1.8s infinite ease-in-out}.cube2[_ngcontent-%COMP%]{animation-delay:-.9s}@keyframes _ngcontent-%COMP%_sk-cubemove{25%{transform:translate(42px) rotate(-90deg) scale(.5);-webkit-transform:translateX(42px) rotate(-90deg) scale(.5)}50%{transform:translate(42px) translateY(42px) rotate(-179deg);-webkit-transform:translateX(42px) translateY(42px) rotate(-179deg)}50.1%{transform:translate(42px) translateY(42px) rotate(-180deg);-webkit-transform:translateX(42px) translateY(42px) rotate(-180deg)}75%{transform:translate(0) translateY(42px) rotate(-270deg) scale(.5);-webkit-transform:translateX(0px) translateY(42px) rotate(-270deg) scale(.5)}to{transform:rotate(-360deg);-webkit-transform:rotate(-360deg)}}"]}),R})();var Ke=Y(6675),ft=Y(5597);class ze{}class Jt{}const dt="*";function In(oe,R=null){return{type:2,steps:oe,options:R}}function Xe(oe){return{type:6,styles:oe,offset:null}}class Bn{constructor(R=0,L=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=R+L}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(R=>R()),this._onDoneFns=[])}onStart(R){this._originalOnStartFns.push(R),this._onStartFns.push(R)}onDone(R){this._originalOnDoneFns.push(R),this._onDoneFns.push(R)}onDestroy(R){this._onDestroyFns.push(R)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(R=>R()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(R=>R()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(R){this._position=this.totalTime?R*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(R){const L="start"==R?this._onStartFns:this._onDoneFns;L.forEach(W=>W()),L.length=0}}class vn{constructor(R){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=R;let L=0,W=0,E=0;const C=this.players.length;0==C?queueMicrotask(()=>this._onFinish()):this.players.forEach(M=>{M.onDone(()=>{++L==C&&this._onFinish()}),M.onDestroy(()=>{++W==C&&this._onDestroy()}),M.onStart(()=>{++E==C&&this._onStart()})}),this.totalTime=this.players.reduce((M,O)=>Math.max(M,O.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(R=>R()),this._onDoneFns=[])}init(){this.players.forEach(R=>R.init())}onStart(R){this._onStartFns.push(R)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(R=>R()),this._onStartFns=[])}onDone(R){this._onDoneFns.push(R)}onDestroy(R){this._onDestroyFns.push(R)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(R=>R.play())}pause(){this.players.forEach(R=>R.pause())}restart(){this.players.forEach(R=>R.restart())}finish(){this._onFinish(),this.players.forEach(R=>R.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(R=>R.destroy()),this._onDestroyFns.forEach(R=>R()),this._onDestroyFns=[])}reset(){this.players.forEach(R=>R.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(R){const L=R*this.totalTime;this.players.forEach(W=>{const E=W.totalTime?Math.min(1,L/W.totalTime):1;W.setPosition(E)})}getPosition(){const R=this.players.reduce((L,W)=>null===L||W.totalTime>L.totalTime?W:L,null);return null!=R?R.getPosition():0}beforeDestroy(){this.players.forEach(R=>{R.beforeDestroy&&R.beforeDestroy()})}triggerCallback(R){const L="start"==R?this._onStartFns:this._onDoneFns;L.forEach(W=>W()),L.length=0}}function Gn(oe){return new X.vHH(3e3,!1)}function dr(oe){switch(oe.length){case 0:return new Bn;case 1:return oe[0];default:return new vn(oe)}}function Is(oe,R,L=new Map,W=new Map){const E=[],C=[];let M=-1,O=null;if(R.forEach(j=>{const re=j.get("offset"),ye=re==M,je=ye&&O||new Map;j.forEach((Ut,vt)=>{let dn=vt,Cn=Ut;if("offset"!==vt)switch(dn=oe.normalizePropertyName(dn,E),Cn){case"!":Cn=L.get(vt);break;case dt:Cn=W.get(vt);break;default:Cn=oe.normalizeStyleValue(vt,dn,Cn,E)}je.set(dn,Cn)}),ye||C.push(je),O=je,M=re}),E.length)throw function sr(oe){return new X.vHH(3502,!1)}();return C}function Ts(oe,R,L,W){switch(R){case"start":oe.onStart(()=>W(L&&Di(L,"start",oe)));break;case"done":oe.onDone(()=>W(L&&Di(L,"done",oe)));break;case"destroy":oe.onDestroy(()=>W(L&&Di(L,"destroy",oe)))}}function Di(oe,R,L){const C=Fi(oe.element,oe.triggerName,oe.fromState,oe.toState,R||oe.phaseName,L.totalTime??oe.totalTime,!!L.disabled),M=oe._data;return null!=M&&(C._data=M),C}function Fi(oe,R,L,W,E="",C=0,M){return{element:oe,triggerName:R,fromState:L,toState:W,phaseName:E,totalTime:C,disabled:!!M}}function yt(oe,R,L){let W=oe.get(R);return W||oe.set(R,W=L),W}function Ge(oe){const R=oe.indexOf(":");return[oe.substring(1,R),oe.slice(R+1)]}const jt=(()=>typeof document>"u"?null:document.documentElement)();function Et(oe){const R=oe.parentNode||oe.host||null;return R===jt?null:R}let En=null,ar=!1;function Fe(oe,R){for(;R;){if(R===oe)return!0;R=Et(R)}return!1}function _e(oe,R,L){if(L)return Array.from(oe.querySelectorAll(R));const W=oe.querySelector(R);return W?[W]:[]}let Vt=(()=>{var oe;class R{validateStyleProperty(W){return function Le(oe){En||(En=function he(){return typeof document<"u"?document.body:null}()||{},ar=!!En.style&&"WebkitAppearance"in En.style);let R=!0;return En.style&&!function un(oe){return"ebkit"==oe.substring(1,6)}(oe)&&(R=oe in En.style,!R&&ar&&(R="Webkit"+oe.charAt(0).toUpperCase()+oe.slice(1)in En.style)),R}(W)}matchesElement(W,E){return!1}containsElement(W,E){return Fe(W,E)}getParentElement(W){return Et(W)}query(W,E,C){return _e(W,E,C)}computeStyle(W,E,C){return C||""}animate(W,E,C,M,O,j=[],re){return new Bn(C,M)}}return(oe=R).\u0275fac=function(W){return new(W||oe)},oe.\u0275prov=X.Yz7({token:oe,factory:oe.\u0275fac}),R})(),nn=(()=>{class R{}return R.NOOP=new Vt,R})();const Jn=1e3,pr="ng-enter",xi="ng-leave",ot="ng-trigger",Ve=".ng-trigger",Rt="ng-animating",Ot=".ng-animating";function an(oe){if("number"==typeof oe)return oe;const R=oe.match(/^(-?[\.\d]+)(m?s)/);return!R||R.length<2?0:sn(parseFloat(R[1]),R[2])}function sn(oe,R){return"s"===R?oe*Jn:oe}function qn(oe,R,L){return oe.hasOwnProperty("duration")?oe:function bn(oe,R,L){let E,C=0,M="";if("string"==typeof oe){const O=oe.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===O)return R.push(Gn()),{duration:0,delay:0,easing:""};E=sn(parseFloat(O[1]),O[2]);const j=O[3];null!=j&&(C=sn(parseFloat(j),O[4]));const re=O[5];re&&(M=re)}else E=oe;if(!L){let O=!1,j=R.length;E<0&&(R.push(function Ln(){return new X.vHH(3100,!1)}()),O=!0),C<0&&(R.push(function Qe(){return new X.vHH(3101,!1)}()),O=!0),O&&R.splice(j,0,Gn())}return{duration:E,delay:C,easing:M}}(oe,R,L)}function Gr(oe,R={}){return Object.keys(oe).forEach(L=>{R[L]=oe[L]}),R}function Wr(oe){const R=new Map;return Object.keys(oe).forEach(L=>{R.set(L,oe[L])}),R}function ri(oe,R=new Map,L){if(L)for(let[W,E]of L)R.set(W,E);for(let[W,E]of oe)R.set(W,E);return R}function cs(oe,R,L){R.forEach((W,E)=>{const C=Kr(E);L&&!L.has(E)&&L.set(E,oe.style[C]),oe.style[C]=W})}function Bs(oe,R){R.forEach((L,W)=>{const E=Kr(W);oe.style[E]=""})}function rs(oe){return Array.isArray(oe)?1==oe.length?oe[0]:In(oe):oe}const ni=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ps(oe){let R=[];if("string"==typeof oe){let L;for(;L=ni.exec(oe);)R.push(L[1]);ni.lastIndex=0}return R}function Ys(oe,R,L){const W=oe.toString(),E=W.replace(ni,(C,M)=>{let O=R[M];return null==O&&(L.push(function wt(oe){return new X.vHH(3003,!1)}()),O=""),O.toString()});return E==W?oe:E}function hr(oe){const R=[];let L=oe.next();for(;!L.done;)R.push(L.value),L=oe.next();return R}const $n=/-+([a-z0-9])/g;function Kr(oe){return oe.replace($n,(...R)=>R[1].toUpperCase())}function it(oe,R,L){switch(R.type){case 7:return oe.visitTrigger(R,L);case 0:return oe.visitState(R,L);case 1:return oe.visitTransition(R,L);case 2:return oe.visitSequence(R,L);case 3:return oe.visitGroup(R,L);case 4:return oe.visitAnimate(R,L);case 5:return oe.visitKeyframes(R,L);case 6:return oe.visitStyle(R,L);case 8:return oe.visitReference(R,L);case 9:return oe.visitAnimateChild(R,L);case 10:return oe.visitAnimateRef(R,L);case 11:return oe.visitQuery(R,L);case 12:return oe.visitStagger(R,L);default:throw function at(oe){return new X.vHH(3004,!1)}()}}function Ye(oe,R){return window.getComputedStyle(oe)[R]}const Lr="*";function Xa(oe,R){const L=[];return"string"==typeof oe?oe.split(/\s*,\s*/).forEach(W=>function Qs(oe,R,L){if(":"==oe[0]){const j=function fo(oe,R){switch(oe){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(L,W)=>parseFloat(W)>parseFloat(L);case":decrement":return(L,W)=>parseFloat(W)<parseFloat(L);default:return R.push(function Ft(oe){return new X.vHH(3016,!1)}()),"* => *"}}(oe,L);if("function"==typeof j)return void R.push(j);oe=j}const W=oe.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==W||W.length<4)return L.push(function Ct(oe){return new X.vHH(3015,!1)}()),R;const E=W[1],C=W[2],M=W[3];R.push(La(E,M));"<"==C[0]&&!(E==Lr&&M==Lr)&&R.push(La(M,E))}(W,L,R)):L.push(oe),L}const Qi=new Set(["true","1"]),po=new Set(["false","0"]);function La(oe,R){const L=Qi.has(oe)||po.has(oe),W=Qi.has(R)||po.has(R);return(E,C)=>{let M=oe==Lr||oe==E,O=R==Lr||R==C;return!M&&L&&"boolean"==typeof E&&(M=E?Qi.has(oe):po.has(oe)),!O&&W&&"boolean"==typeof C&&(O=C?Qi.has(R):po.has(R)),M&&O}}const Va=new RegExp("s*:selfs*,?","g");function na(oe,R,L,W){return new xa(oe).build(R,L,W)}class xa{constructor(R){this._driver=R}build(R,L,W){const E=new Ci(L);return this._resetContextStyleTimingState(E),it(this,rs(R),E)}_resetContextStyleTimingState(R){R.currentQuerySelector="",R.collectedStyles=new Map,R.collectedStyles.set("",new Map),R.currentTime=0}visitTrigger(R,L){let W=L.queryCount=0,E=L.depCount=0;const C=[],M=[];return"@"==R.name.charAt(0)&&L.errors.push(function rn(){return new X.vHH(3006,!1)}()),R.definitions.forEach(O=>{if(this._resetContextStyleTimingState(L),0==O.type){const j=O,re=j.name;re.toString().split(/\s*,\s*/).forEach(ye=>{j.name=ye,C.push(this.visitState(j,L))}),j.name=re}else if(1==O.type){const j=this.visitTransition(O,L);W+=j.queryCount,E+=j.depCount,M.push(j)}else L.errors.push(function ln(){return new X.vHH(3007,!1)}())}),{type:7,name:R.name,states:C,transitions:M,queryCount:W,depCount:E,options:null}}visitState(R,L){const W=this.visitStyle(R.styles,L),E=R.options&&R.options.params||null;if(W.containsDynamicStyles){const C=new Set,M=E||{};W.styles.forEach(O=>{O instanceof Map&&O.forEach(j=>{Ps(j).forEach(re=>{M.hasOwnProperty(re)||C.add(re)})})}),C.size&&(hr(C.values()),L.errors.push(function gn(oe,R){return new X.vHH(3008,!1)}()))}return{type:0,name:R.name,style:W,options:E?{params:E}:null}}visitTransition(R,L){L.queryCount=0,L.depCount=0;const W=it(this,rs(R.animation),L);return{type:1,matchers:Xa(R.expr,L.errors),animation:W,queryCount:L.queryCount,depCount:L.depCount,options:ra(R.options)}}visitSequence(R,L){return{type:2,steps:R.steps.map(W=>it(this,W,L)),options:ra(R.options)}}visitGroup(R,L){const W=L.currentTime;let E=0;const C=R.steps.map(M=>{L.currentTime=W;const O=it(this,M,L);return E=Math.max(E,L.currentTime),O});return L.currentTime=E,{type:3,steps:C,options:ra(R.options)}}visitAnimate(R,L){const W=function _s(oe,R){if(oe.hasOwnProperty("duration"))return oe;if("number"==typeof oe)return da(qn(oe,R).duration,0,"");const L=oe;if(L.split(/\s+/).some(C=>"{"==C.charAt(0)&&"{"==C.charAt(1))){const C=da(0,0,"");return C.dynamic=!0,C.strValue=L,C}const E=qn(L,R);return da(E.duration,E.delay,E.easing)}(R.timings,L.errors);L.currentAnimateTimings=W;let E,C=R.styles?R.styles:Xe({});if(5==C.type)E=this.visitKeyframes(C,L);else{let M=R.styles,O=!1;if(!M){O=!0;const re={};W.easing&&(re.easing=W.easing),M=Xe(re)}L.currentTime+=W.duration+W.delay;const j=this.visitStyle(M,L);j.isEmptyStep=O,E=j}return L.currentAnimateTimings=null,{type:4,timings:W,style:E,options:null}}visitStyle(R,L){const W=this._makeStyleAst(R,L);return this._validateStyleAst(W,L),W}_makeStyleAst(R,L){const W=[],E=Array.isArray(R.styles)?R.styles:[R.styles];for(let O of E)"string"==typeof O?O===dt?W.push(O):L.errors.push(new X.vHH(3002,!1)):W.push(Wr(O));let C=!1,M=null;return W.forEach(O=>{if(O instanceof Map&&(O.has("easing")&&(M=O.get("easing"),O.delete("easing")),!C))for(let j of O.values())if(j.toString().indexOf("{{")>=0){C=!0;break}}),{type:6,styles:W,easing:M,offset:R.offset,containsDynamicStyles:C,options:null}}_validateStyleAst(R,L){const W=L.currentAnimateTimings;let E=L.currentTime,C=L.currentTime;W&&C>0&&(C-=W.duration+W.delay),R.styles.forEach(M=>{"string"!=typeof M&&M.forEach((O,j)=>{const re=L.collectedStyles.get(L.currentQuerySelector),ye=re.get(j);let je=!0;ye&&(C!=E&&C>=ye.startTime&&E<=ye.endTime&&(L.errors.push(function _r(oe,R,L,W,E){return new X.vHH(3010,!1)}()),je=!1),C=ye.startTime),je&&re.set(j,{startTime:C,endTime:E}),L.options&&function _i(oe,R,L){const W=R.params||{},E=Ps(oe);E.length&&E.forEach(C=>{W.hasOwnProperty(C)||L.push(function rt(oe){return new X.vHH(3001,!1)}())})}(O,L.options,L.errors)})})}visitKeyframes(R,L){const W={type:5,styles:[],options:null};if(!L.currentAnimateTimings)return L.errors.push(function Wn(){return new X.vHH(3011,!1)}()),W;let C=0;const M=[];let O=!1,j=!1,re=0;const ye=R.steps.map(Dr=>{const Xr=this._makeStyleAst(Dr,L);let vs=null!=Xr.offset?Xr.offset:function Hr(oe){if("string"==typeof oe)return null;let R=null;if(Array.isArray(oe))oe.forEach(L=>{if(L instanceof Map&&L.has("offset")){const W=L;R=parseFloat(W.get("offset")),W.delete("offset")}});else if(oe instanceof Map&&oe.has("offset")){const L=oe;R=parseFloat(L.get("offset")),L.delete("offset")}return R}(Xr.styles),Ro=0;return null!=vs&&(C++,Ro=Xr.offset=vs),j=j||Ro<0||Ro>1,O=O||Ro<re,re=Ro,M.push(Ro),Xr});j&&L.errors.push(function Pr(){return new X.vHH(3012,!1)}()),O&&L.errors.push(function Fn(){return new X.vHH(3200,!1)}());const je=R.steps.length;let Ut=0;C>0&&C<je?L.errors.push(function Br(){return new X.vHH(3202,!1)}()):0==C&&(Ut=1/(je-1));const vt=je-1,dn=L.currentTime,Cn=L.currentAnimateTimings,zr=Cn.duration;return ye.forEach((Dr,Xr)=>{const vs=Ut>0?Xr==vt?1:Ut*Xr:M[Xr],Ro=vs*zr;L.currentTime=dn+Cn.delay+Ro,Cn.duration=Ro,this._validateStyleAst(Dr,L),Dr.offset=vs,W.styles.push(Dr)}),W}visitReference(R,L){return{type:8,animation:it(this,rs(R.animation),L),options:ra(R.options)}}visitAnimateChild(R,L){return L.depCount++,{type:9,options:ra(R.options)}}visitAnimateRef(R,L){return{type:10,animation:this.visitReference(R.animation,L),options:ra(R.options)}}visitQuery(R,L){const W=L.currentQuerySelector,E=R.options||{};L.queryCount++,L.currentQuery=R;const[C,M]=function hi(oe){const R=!!oe.split(/\s*,\s*/).find(L=>":self"==L);return R&&(oe=oe.replace(Va,"")),oe=oe.replace(/@\*/g,Ve).replace(/@\w+/g,L=>Ve+"-"+L.slice(1)).replace(/:animating/g,Ot),[oe,R]}(R.selector);L.currentQuerySelector=W.length?W+" "+C:C,yt(L.collectedStyles,L.currentQuerySelector,new Map);const O=it(this,rs(R.animation),L);return L.currentQuery=null,L.currentQuerySelector=W,{type:11,selector:C,limit:E.limit||0,optional:!!E.optional,includeSelf:M,animation:O,originalSelector:R.selector,options:ra(R.options)}}visitStagger(R,L){L.currentQuery||L.errors.push(function Ue(){return new X.vHH(3013,!1)}());const W="full"===R.timings?{duration:0,delay:0,easing:"full"}:qn(R.timings,L.errors,!0);return{type:12,animation:it(this,rs(R.animation),L),timings:W,options:null}}}class Ci{constructor(R){this.errors=R,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ra(oe){return oe?(oe=Gr(oe)).params&&(oe.params=function us(oe){return oe?Gr(oe):null}(oe.params)):oe={},oe}function da(oe,R,L){return{duration:oe,delay:R,easing:L}}function Zi(oe,R,L,W,E,C,M=null,O=!1){return{type:1,element:oe,keyframes:R,preStyleProps:L,postStyleProps:W,duration:E,delay:C,totalTime:E+C,easing:M,subTimeline:O}}class Mi{constructor(){this._map=new Map}get(R){return this._map.get(R)||[]}append(R,L){let W=this._map.get(R);W||this._map.set(R,W=[]),W.push(...L)}has(R){return this._map.has(R)}clear(){this._map.clear()}}const wn=new RegExp(":enter","g"),Ai=new RegExp(":leave","g");function Nr(oe,R,L,W,E,C=new Map,M=new Map,O,j,re=[]){return(new ia).buildKeyframes(oe,R,L,W,E,C,M,O,j,re)}class ia{buildKeyframes(R,L,W,E,C,M,O,j,re,ye=[]){re=re||new Mi;const je=new mo(R,L,re,E,C,ye,[]);je.options=j;const Ut=j.delay?an(j.delay):0;je.currentTimeline.delayNextStep(Ut),je.currentTimeline.setStyles([M],null,je.errors,j),it(this,W,je);const vt=je.timelines.filter(dn=>dn.containsAnimation());if(vt.length&&O.size){let dn;for(let Cn=vt.length-1;Cn>=0;Cn--){const zr=vt[Cn];if(zr.element===L){dn=zr;break}}dn&&!dn.allowOnlyTimelineStyles()&&dn.setStyles([O],null,je.errors,j)}return vt.length?vt.map(dn=>dn.buildKeyframes()):[Zi(L,[],[],[],0,Ut,"",!1)]}visitTrigger(R,L){}visitState(R,L){}visitTransition(R,L){}visitAnimateChild(R,L){const W=L.subInstructions.get(L.element);if(W){const E=L.createSubContext(R.options),C=L.currentTimeline.currentTime,M=this._visitSubInstructions(W,E,E.options);C!=M&&L.transformIntoNewTimeline(M)}L.previousNode=R}visitAnimateRef(R,L){const W=L.createSubContext(R.options);W.transformIntoNewTimeline(),this._applyAnimationRefDelays([R.options,R.animation.options],L,W),this.visitReference(R.animation,W),L.transformIntoNewTimeline(W.currentTimeline.currentTime),L.previousNode=R}_applyAnimationRefDelays(R,L,W){for(const E of R){const C=E?.delay;if(C){const M="number"==typeof C?C:an(Ys(C,E?.params??{},L.errors));W.delayNextStep(M)}}}_visitSubInstructions(R,L,W){let C=L.currentTimeline.currentTime;const M=null!=W.duration?an(W.duration):null,O=null!=W.delay?an(W.delay):null;return 0!==M&&R.forEach(j=>{const re=L.appendInstructionToTimeline(j,M,O);C=Math.max(C,re.duration+re.delay)}),C}visitReference(R,L){L.updateOptions(R.options,!0),it(this,R.animation,L),L.previousNode=R}visitSequence(R,L){const W=L.subContextCount;let E=L;const C=R.options;if(C&&(C.params||C.delay)&&(E=L.createSubContext(C),E.transformIntoNewTimeline(),null!=C.delay)){6==E.previousNode.type&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Vi);const M=an(C.delay);E.delayNextStep(M)}R.steps.length&&(R.steps.forEach(M=>it(this,M,E)),E.currentTimeline.applyStylesToKeyframe(),E.subContextCount>W&&E.transformIntoNewTimeline()),L.previousNode=R}visitGroup(R,L){const W=[];let E=L.currentTimeline.currentTime;const C=R.options&&R.options.delay?an(R.options.delay):0;R.steps.forEach(M=>{const O=L.createSubContext(R.options);C&&O.delayNextStep(C),it(this,M,O),E=Math.max(E,O.currentTimeline.currentTime),W.push(O.currentTimeline)}),W.forEach(M=>L.currentTimeline.mergeTimelineCollectedStyles(M)),L.transformIntoNewTimeline(E),L.previousNode=R}_visitTiming(R,L){if(R.dynamic){const W=R.strValue;return qn(L.params?Ys(W,L.params,L.errors):W,L.errors)}return{duration:R.duration,delay:R.delay,easing:R.easing}}visitAnimate(R,L){const W=L.currentAnimateTimings=this._visitTiming(R.timings,L),E=L.currentTimeline;W.delay&&(L.incrementTime(W.delay),E.snapshotCurrentStyles());const C=R.style;5==C.type?this.visitKeyframes(C,L):(L.incrementTime(W.duration),this.visitStyle(C,L),E.applyStylesToKeyframe()),L.currentAnimateTimings=null,L.previousNode=R}visitStyle(R,L){const W=L.currentTimeline,E=L.currentAnimateTimings;!E&&W.hasCurrentStyleProperties()&&W.forwardFrame();const C=E&&E.easing||R.easing;R.isEmptyStep?W.applyEmptyStep(C):W.setStyles(R.styles,C,L.errors,L.options),L.previousNode=R}visitKeyframes(R,L){const W=L.currentAnimateTimings,E=L.currentTimeline.duration,C=W.duration,O=L.createSubContext().currentTimeline;O.easing=W.easing,R.styles.forEach(j=>{O.forwardTime((j.offset||0)*C),O.setStyles(j.styles,j.easing,L.errors,L.options),O.applyStylesToKeyframe()}),L.currentTimeline.mergeTimelineCollectedStyles(O),L.transformIntoNewTimeline(E+C),L.previousNode=R}visitQuery(R,L){const W=L.currentTimeline.currentTime,E=R.options||{},C=E.delay?an(E.delay):0;C&&(6===L.previousNode.type||0==W&&L.currentTimeline.hasCurrentStyleProperties())&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=Vi);let M=W;const O=L.invokeQuery(R.selector,R.originalSelector,R.limit,R.includeSelf,!!E.optional,L.errors);L.currentQueryTotal=O.length;let j=null;O.forEach((re,ye)=>{L.currentQueryIndex=ye;const je=L.createSubContext(R.options,re);C&&je.delayNextStep(C),re===L.element&&(j=je.currentTimeline),it(this,R.animation,je),je.currentTimeline.applyStylesToKeyframe(),M=Math.max(M,je.currentTimeline.currentTime)}),L.currentQueryIndex=0,L.currentQueryTotal=0,L.transformIntoNewTimeline(M),j&&(L.currentTimeline.mergeTimelineCollectedStyles(j),L.currentTimeline.snapshotCurrentStyles()),L.previousNode=R}visitStagger(R,L){const W=L.parentContext,E=L.currentTimeline,C=R.timings,M=Math.abs(C.duration),O=M*(L.currentQueryTotal-1);let j=M*L.currentQueryIndex;switch(C.duration<0?"reverse":C.easing){case"reverse":j=O-j;break;case"full":j=W.currentStaggerTime}const ye=L.currentTimeline;j&&ye.delayNextStep(j);const je=ye.currentTime;it(this,R.animation,L),L.previousNode=R,W.currentStaggerTime=E.currentTime-je+(E.startTime-W.currentTimeline.startTime)}}const Vi={};class mo{constructor(R,L,W,E,C,M,O,j){this._driver=R,this.element=L,this.subInstructions=W,this._enterClassName=E,this._leaveClassName=C,this.errors=M,this.timelines=O,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=j||new is(this._driver,L,0),O.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(R,L){if(!R)return;const W=R;let E=this.options;null!=W.duration&&(E.duration=an(W.duration)),null!=W.delay&&(E.delay=an(W.delay));const C=W.params;if(C){let M=E.params;M||(M=this.options.params={}),Object.keys(C).forEach(O=>{(!L||!M.hasOwnProperty(O))&&(M[O]=Ys(C[O],M,this.errors))})}}_copyOptions(){const R={};if(this.options){const L=this.options.params;if(L){const W=R.params={};Object.keys(L).forEach(E=>{W[E]=L[E]})}}return R}createSubContext(R=null,L,W){const E=L||this.element,C=new mo(this._driver,E,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(E,W||0));return C.previousNode=this.previousNode,C.currentAnimateTimings=this.currentAnimateTimings,C.options=this._copyOptions(),C.updateOptions(R),C.currentQueryIndex=this.currentQueryIndex,C.currentQueryTotal=this.currentQueryTotal,C.parentContext=this,this.subContextCount++,C}transformIntoNewTimeline(R){return this.previousNode=Vi,this.currentTimeline=this.currentTimeline.fork(this.element,R),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(R,L,W){const E={duration:L??R.duration,delay:this.currentTimeline.currentTime+(W??0)+R.delay,easing:""},C=new Us(this._driver,R.element,R.keyframes,R.preStyleProps,R.postStyleProps,E,R.stretchStartingKeyframe);return this.timelines.push(C),E}incrementTime(R){this.currentTimeline.forwardTime(this.currentTimeline.duration+R)}delayNextStep(R){R>0&&this.currentTimeline.delayNextStep(R)}invokeQuery(R,L,W,E,C,M){let O=[];if(E&&O.push(this.element),R.length>0){R=(R=R.replace(wn,"."+this._enterClassName)).replace(Ai,"."+this._leaveClassName);let re=this._driver.query(this.element,R,1!=W);0!==W&&(re=W<0?re.slice(re.length+W,re.length):re.slice(0,W)),O.push(...re)}return!C&&0==O.length&&M.push(function Je(oe){return new X.vHH(3014,!1)}()),O}}class is{constructor(R,L,W,E){this._driver=R,this.element=L,this.startTime=W,this._elementTimelineStylesLookup=E,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(L),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(L,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(R){const L=1===this._keyframes.size&&this._pendingStyles.size;this.duration||L?(this.forwardTime(this.currentTime+R),L&&this.snapshotCurrentStyles()):this.startTime+=R}fork(R,L){return this.applyStylesToKeyframe(),new is(this._driver,R,L||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(R){this.applyStylesToKeyframe(),this.duration=R,this._loadKeyframe()}_updateStyle(R,L){this._localTimelineStyles.set(R,L),this._globalTimelineStyles.set(R,L),this._styleSummary.set(R,{time:this.currentTime,value:L})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(R){R&&this._previousKeyframe.set("easing",R);for(let[L,W]of this._globalTimelineStyles)this._backFill.set(L,W||dt),this._currentKeyframe.set(L,dt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(R,L,W,E){L&&this._previousKeyframe.set("easing",L);const C=E&&E.params||{},M=function Rr(oe,R){const L=new Map;let W;return oe.forEach(E=>{if("*"===E){W=W||R.keys();for(let C of W)L.set(C,dt)}else ri(E,L)}),L}(R,this._globalTimelineStyles);for(let[O,j]of M){const re=Ys(j,C,W);this._pendingStyles.set(O,re),this._localTimelineStyles.has(O)||this._backFill.set(O,this._globalTimelineStyles.get(O)??dt),this._updateStyle(O,re)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((R,L)=>{this._currentKeyframe.set(L,R)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((R,L)=>{this._currentKeyframe.has(L)||this._currentKeyframe.set(L,R)}))}snapshotCurrentStyles(){for(let[R,L]of this._localTimelineStyles)this._pendingStyles.set(R,L),this._updateStyle(R,L)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const R=[];for(let L in this._currentKeyframe)R.push(L);return R}mergeTimelineCollectedStyles(R){R._styleSummary.forEach((L,W)=>{const E=this._styleSummary.get(W);(!E||L.time>E.time)&&this._updateStyle(W,L.value)})}buildKeyframes(){this.applyStylesToKeyframe();const R=new Set,L=new Set,W=1===this._keyframes.size&&0===this.duration;let E=[];this._keyframes.forEach((O,j)=>{const re=ri(O,new Map,this._backFill);re.forEach((ye,je)=>{"!"===ye?R.add(je):ye===dt&&L.add(je)}),W||re.set("offset",j/this.duration),E.push(re)});const C=R.size?hr(R.values()):[],M=L.size?hr(L.values()):[];if(W){const O=E[0],j=new Map(O);O.set("offset",0),j.set("offset",1),E=[O,j]}return Zi(this.element,E,C,M,this.duration,this.startTime,this.easing,!1)}}class Us extends is{constructor(R,L,W,E,C,M,O=!1){super(R,L,M.delay),this.keyframes=W,this.preStyleProps=E,this.postStyleProps=C,this._stretchStartingKeyframe=O,this.timings={duration:M.duration,delay:M.delay,easing:M.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let R=this.keyframes,{delay:L,duration:W,easing:E}=this.timings;if(this._stretchStartingKeyframe&&L){const C=[],M=W+L,O=L/M,j=ri(R[0]);j.set("offset",0),C.push(j);const re=ri(R[0]);re.set("offset",Ho(O)),C.push(re);const ye=R.length-1;for(let je=1;je<=ye;je++){let Ut=ri(R[je]);const vt=Ut.get("offset");Ut.set("offset",Ho((L+vt*W)/M)),C.push(Ut)}W=M,L=0,E="",R=C}return Zi(this.element,R,this.preStyleProps,this.postStyleProps,W,L,E,!0)}}function Ho(oe,R=3){const L=Math.pow(10,R-1);return Math.round(oe*L)/L}class el{}const Ur=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ya extends el{normalizePropertyName(R,L){return Kr(R)}normalizeStyleValue(R,L,W,E){let C="";const M=W.toString().trim();if(Ur.has(L)&&0!==W&&"0"!==W)if("number"==typeof W)C="px";else{const O=W.match(/^[+-]?[\d\.]+([a-z]*)$/);O&&0==O[1].length&&E.push(function Dt(oe,R){return new X.vHH(3005,!1)}())}return M+C}}function Gs(oe,R,L,W,E,C,M,O,j,re,ye,je,Ut){return{type:0,element:oe,triggerName:R,isRemovalTransition:E,fromState:L,fromStyles:C,toState:W,toStyles:M,timelines:O,queriedElements:j,preStyleProps:re,postStyleProps:ye,totalTime:je,errors:Ut}}const xs={};class Ms{constructor(R,L,W){this._triggerName=R,this.ast=L,this._stateStyles=W}match(R,L,W,E){return function io(oe,R,L,W,E){return oe.some(C=>C(R,L,W,E))}(this.ast.matchers,R,L,W,E)}buildStyles(R,L,W){let E=this._stateStyles.get("*");return void 0!==R&&(E=this._stateStyles.get(R?.toString())||E),E?E.buildStyles(L,W):new Map}build(R,L,W,E,C,M,O,j,re,ye){const je=[],Ut=this.ast.options&&this.ast.options.params||xs,dn=this.buildStyles(W,O&&O.params||xs,je),Cn=j&&j.params||xs,zr=this.buildStyles(E,Cn,je),Dr=new Set,Xr=new Map,vs=new Map,Ro="void"===E,qs={params:Hs(Cn,Ut),delay:this.ast.options?.delay},sl=ye?[]:Nr(R,L,this.ast.animation,C,M,dn,zr,qs,re,je);let ga=0;if(sl.forEach(dl=>{ga=Math.max(dl.duration+dl.delay,ga)}),je.length)return Gs(L,this._triggerName,W,E,Ro,dn,zr,[],[],Xr,vs,ga,je);sl.forEach(dl=>{const ma=dl.element,ol=yt(Xr,ma,new Set);dl.preStyleProps.forEach(Bl=>ol.add(Bl));const hl=yt(vs,ma,new Set);dl.postStyleProps.forEach(Bl=>hl.add(Bl)),ma!==L&&Dr.add(ma)});const Bo=hr(Dr.values());return Gs(L,this._triggerName,W,E,Ro,dn,zr,sl,Bo,Xr,vs,ga)}}function Hs(oe,R){const L=Gr(R);for(const W in oe)oe.hasOwnProperty(W)&&null!=oe[W]&&(L[W]=oe[W]);return L}class Fr{constructor(R,L,W){this.styles=R,this.defaultParams=L,this.normalizer=W}buildStyles(R,L){const W=new Map,E=Gr(this.defaultParams);return Object.keys(R).forEach(C=>{const M=R[C];null!==M&&(E[C]=M)}),this.styles.styles.forEach(C=>{"string"!=typeof C&&C.forEach((M,O)=>{M&&(M=Ys(M,E,L));const j=this.normalizer.normalizePropertyName(O,L);M=this.normalizer.normalizeStyleValue(O,j,M,L),W.set(O,M)})}),W}}class ii{constructor(R,L,W){this.name=R,this.ast=L,this._normalizer=W,this.transitionFactories=[],this.states=new Map,L.states.forEach(E=>{this.states.set(E.name,new Fr(E.style,E.options&&E.options.params||{},W))}),Ji(this.states,"true","1"),Ji(this.states,"false","0"),L.transitions.forEach(E=>{this.transitionFactories.push(new Ms(R,E,this.states))}),this.fallbackTransition=function vl(oe,R,L){return new Ms(oe,{type:1,animation:{type:2,steps:[],options:null},matchers:[(M,O)=>!0],options:null,queryCount:0,depCount:0},R)}(R,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(R,L,W,E){return this.transitionFactories.find(M=>M.match(R,L,W,E))||null}matchStyles(R,L,W){return this.fallbackTransition.buildStyles(R,L,W)}}function Ji(oe,R,L){oe.has(R)?oe.has(L)||oe.set(L,oe.get(R)):oe.has(L)&&oe.set(R,oe.get(L))}const Ba=new Mi;class so{constructor(R,L,W){this.bodyNode=R,this._driver=L,this._normalizer=W,this._animations=new Map,this._playersById=new Map,this.players=[]}register(R,L){const W=[],C=na(this._driver,L,W,[]);if(W.length)throw function pn(oe){return new X.vHH(3503,!1)}();this._animations.set(R,C)}_buildPlayer(R,L,W){const E=R.element,C=Is(this._normalizer,R.keyframes,L,W);return this._driver.animate(E,C,R.duration,R.delay,R.easing,[],!0)}create(R,L,W={}){const E=[],C=this._animations.get(R);let M;const O=new Map;if(C?(M=Nr(this._driver,L,C,pr,xi,new Map,new Map,W,Ba,E),M.forEach(ye=>{const je=yt(O,ye.element,new Map);ye.postStyleProps.forEach(Ut=>je.set(Ut,null))})):(E.push(function Dn(){return new X.vHH(3300,!1)}()),M=[]),E.length)throw function or(oe){return new X.vHH(3504,!1)}();O.forEach((ye,je)=>{ye.forEach((Ut,vt)=>{ye.set(vt,this._driver.computeStyle(je,vt,dt))})});const re=dr(M.map(ye=>{const je=O.get(ye.element);return this._buildPlayer(ye,new Map,je)}));return this._playersById.set(R,re),re.onDestroy(()=>this.destroy(R)),this.players.push(re),re}destroy(R){const L=this._getPlayer(R);L.destroy(),this._playersById.delete(R);const W=this.players.indexOf(L);W>=0&&this.players.splice(W,1)}_getPlayer(R){const L=this._playersById.get(R);if(!L)throw function yr(oe){return new X.vHH(3301,!1)}();return L}listen(R,L,W,E){const C=Fi(L,"","","");return Ts(this._getPlayer(R),W,C,E),()=>{}}command(R,L,W,E){if("register"==W)return void this.register(R,E[0]);if("create"==W)return void this.create(R,L,E[0]||{});const C=this._getPlayer(R);switch(W){case"play":C.play();break;case"pause":C.pause();break;case"reset":C.reset();break;case"restart":C.restart();break;case"finish":C.finish();break;case"init":C.init();break;case"setPosition":C.setPosition(parseFloat(E[0]));break;case"destroy":this.destroy(R)}}}const Ns="ng-animate-queued",vo="ng-animate-disabled",Ni=[],zo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bi="__ng_removed";class zs{get params(){return this.options.params}constructor(R,L=""){this.namespaceId=L;const W=R&&R.hasOwnProperty("value");if(this.value=function ha(oe){return oe??null}(W?R.value:R),W){const C=Gr(R);delete C.value,this.options=C}else this.options={};this.options.params||(this.options.params={})}absorbOptions(R){const L=R.params;if(L){const W=this.options.params;Object.keys(L).forEach(E=>{null==W[E]&&(W[E]=L[E])})}}}const ba="void",Xi=new zs(ba);class Oa{constructor(R,L,W){this.id=R,this.hostElement=L,this._engine=W,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+R,Eo(L,this._hostClassName)}listen(R,L,W,E){if(!this._triggers.has(L))throw function ui(oe,R){return new X.vHH(3302,!1)}();if(null==W||0==W.length)throw function Ri(oe){return new X.vHH(3303,!1)}();if(!function Nl(oe){return"start"==oe||"done"==oe}(W))throw function Tr(oe,R){return new X.vHH(3400,!1)}();const C=yt(this._elementListeners,R,[]),M={name:L,phase:W,callback:E};C.push(M);const O=yt(this._engine.statesByElement,R,new Map);return O.has(L)||(Eo(R,ot),Eo(R,ot+"-"+L),O.set(L,Xi)),()=>{this._engine.afterFlush(()=>{const j=C.indexOf(M);j>=0&&C.splice(j,1),this._triggers.has(L)||O.delete(L)})}}register(R,L){return!this._triggers.has(R)&&(this._triggers.set(R,L),!0)}_getTrigger(R){const L=this._triggers.get(R);if(!L)throw function ei(oe){return new X.vHH(3401,!1)}();return L}trigger(R,L,W,E=!0){const C=this._getTrigger(L),M=new tl(this.id,L,R);let O=this._engine.statesByElement.get(R);O||(Eo(R,ot),Eo(R,ot+"-"+L),this._engine.statesByElement.set(R,O=new Map));let j=O.get(L);const re=new zs(W,this.id);if(!(W&&W.hasOwnProperty("value"))&&j&&re.absorbOptions(j.options),O.set(L,re),j||(j=Xi),re.value!==ba&&j.value===re.value){if(!function Oe(oe,R){const L=Object.keys(oe),W=Object.keys(R);if(L.length!=W.length)return!1;for(let E=0;E<L.length;E++){const C=L[E];if(!R.hasOwnProperty(C)||oe[C]!==R[C])return!1}return!0}(j.params,re.params)){const Cn=[],zr=C.matchStyles(j.value,j.params,Cn),Dr=C.matchStyles(re.value,re.params,Cn);Cn.length?this._engine.reportError(Cn):this._engine.afterFlush(()=>{Bs(R,zr),cs(R,Dr)})}return}const Ut=yt(this._engine.playersByElement,R,[]);Ut.forEach(Cn=>{Cn.namespaceId==this.id&&Cn.triggerName==L&&Cn.queued&&Cn.destroy()});let vt=C.matchTransition(j.value,re.value,R,re.params),dn=!1;if(!vt){if(!E)return;vt=C.fallbackTransition,dn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:R,triggerName:L,transition:vt,fromState:j,toState:re,player:M,isFallbackTransition:dn}),dn||(Eo(R,Ns),M.onStart(()=>{ne(R,Ns)})),M.onDone(()=>{let Cn=this.players.indexOf(M);Cn>=0&&this.players.splice(Cn,1);const zr=this._engine.playersByElement.get(R);if(zr){let Dr=zr.indexOf(M);Dr>=0&&zr.splice(Dr,1)}}),this.players.push(M),Ut.push(M),M}deregister(R){this._triggers.delete(R),this._engine.statesByElement.forEach(L=>L.delete(R)),this._elementListeners.forEach((L,W)=>{this._elementListeners.set(W,L.filter(E=>E.name!=R))})}clearElementCache(R){this._engine.statesByElement.delete(R),this._elementListeners.delete(R);const L=this._engine.playersByElement.get(R);L&&(L.forEach(W=>W.destroy()),this._engine.playersByElement.delete(R))}_signalRemovalForInnerTriggers(R,L){const W=this._engine.driver.query(R,Ve,!0);W.forEach(E=>{if(E[Bi])return;const C=this._engine.fetchNamespacesByElement(E);C.size?C.forEach(M=>M.triggerLeaveAnimation(E,L,!1,!0)):this.clearElementCache(E)}),this._engine.afterFlushAnimationsDone(()=>W.forEach(E=>this.clearElementCache(E)))}triggerLeaveAnimation(R,L,W,E){const C=this._engine.statesByElement.get(R),M=new Map;if(C){const O=[];if(C.forEach((j,re)=>{if(M.set(re,j.value),this._triggers.has(re)){const ye=this.trigger(R,re,ba,E);ye&&O.push(ye)}}),O.length)return this._engine.markElementAsRemoved(this.id,R,!0,L,M),W&&dr(O).onDone(()=>this._engine.processLeaveNode(R)),!0}return!1}prepareLeaveAnimationListeners(R){const L=this._elementListeners.get(R),W=this._engine.statesByElement.get(R);if(L&&W){const E=new Set;L.forEach(C=>{const M=C.name;if(E.has(M))return;E.add(M);const j=this._triggers.get(M).fallbackTransition,re=W.get(M)||Xi,ye=new zs(ba),je=new tl(this.id,M,R);this._engine.totalQueuedPlayers++,this._queue.push({element:R,triggerName:M,transition:j,fromState:re,toState:ye,player:je,isFallbackTransition:!0})})}}removeNode(R,L){const W=this._engine;if(R.childElementCount&&this._signalRemovalForInnerTriggers(R,L),this.triggerLeaveAnimation(R,L,!0))return;let E=!1;if(W.totalAnimations){const C=W.players.length?W.playersByQueriedElement.get(R):[];if(C&&C.length)E=!0;else{let M=R;for(;M=M.parentNode;)if(W.statesByElement.get(M)){E=!0;break}}}if(this.prepareLeaveAnimationListeners(R),E)W.markElementAsRemoved(this.id,R,!1,L);else{const C=R[Bi];(!C||C===zo)&&(W.afterFlush(()=>this.clearElementCache(R)),W.destroyInnerAnimations(R),W._onRemovalComplete(R,L))}}insertNode(R,L){Eo(R,this._hostClassName)}drainQueuedTransitions(R){const L=[];return this._queue.forEach(W=>{const E=W.player;if(E.destroyed)return;const C=W.element,M=this._elementListeners.get(C);M&&M.forEach(O=>{if(O.name==W.triggerName){const j=Fi(C,W.triggerName,W.fromState.value,W.toState.value);j._data=R,Ts(W.player,O.phase,j,O.callback)}}),E.markedForDestroy?this._engine.afterFlush(()=>{E.destroy()}):L.push(W)}),this._queue=[],L.sort((W,E)=>{const C=W.transition.ast.depCount,M=E.transition.ast.depCount;return 0==C||0==M?C-M:this._engine.driver.containsElement(W.element,E.element)?1:-1})}destroy(R){this.players.forEach(L=>L.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,R)}}class sc{_onRemovalComplete(R,L){this.onRemovalComplete(R,L)}constructor(R,L,W){this.bodyNode=R,this.driver=L,this._normalizer=W,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(E,C)=>{}}get queuedPlayers(){const R=[];return this._namespaceList.forEach(L=>{L.players.forEach(W=>{W.queued&&R.push(W)})}),R}createNamespace(R,L){const W=new Oa(R,L,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,L)?this._balanceNamespaceList(W,L):(this.newHostElements.set(L,W),this.collectEnterElement(L)),this._namespaceLookup[R]=W}_balanceNamespaceList(R,L){const W=this._namespaceList,E=this.namespacesByHostElement;if(W.length-1>=0){let M=!1,O=this.driver.getParentElement(L);for(;O;){const j=E.get(O);if(j){const re=W.indexOf(j);W.splice(re+1,0,R),M=!0;break}O=this.driver.getParentElement(O)}M||W.unshift(R)}else W.push(R);return E.set(L,R),R}register(R,L){let W=this._namespaceLookup[R];return W||(W=this.createNamespace(R,L)),W}registerTrigger(R,L,W){let E=this._namespaceLookup[R];E&&E.register(L,W)&&this.totalAnimations++}destroy(R,L){R&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const W=this._fetchNamespace(R);this.namespacesByHostElement.delete(W.hostElement);const E=this._namespaceList.indexOf(W);E>=0&&this._namespaceList.splice(E,1),W.destroy(L),delete this._namespaceLookup[R]}))}_fetchNamespace(R){return this._namespaceLookup[R]}fetchNamespacesByElement(R){const L=new Set,W=this.statesByElement.get(R);if(W)for(let E of W.values())if(E.namespaceId){const C=this._fetchNamespace(E.namespaceId);C&&L.add(C)}return L}trigger(R,L,W,E){if(Wo(L)){const C=this._fetchNamespace(R);if(C)return C.trigger(L,W,E),!0}return!1}insertNode(R,L,W,E){if(!Wo(L))return;const C=L[Bi];if(C&&C.setForRemoval){C.setForRemoval=!1,C.setForMove=!0;const M=this.collectedLeaveElements.indexOf(L);M>=0&&this.collectedLeaveElements.splice(M,1)}if(R){const M=this._fetchNamespace(R);M&&M.insertNode(L,W)}E&&this.collectEnterElement(L)}collectEnterElement(R){this.collectedEnterElements.push(R)}markElementAsDisabled(R,L){L?this.disabledNodes.has(R)||(this.disabledNodes.add(R),Eo(R,vo)):this.disabledNodes.has(R)&&(this.disabledNodes.delete(R),ne(R,vo))}removeNode(R,L,W){if(Wo(L)){const E=R?this._fetchNamespace(R):null;E?E.removeNode(L,W):this.markElementAsRemoved(R,L,!1,W);const C=this.namespacesByHostElement.get(L);C&&C.id!==R&&C.removeNode(L,W)}else this._onRemovalComplete(L,W)}markElementAsRemoved(R,L,W,E,C){this.collectedLeaveElements.push(L),L[Bi]={namespaceId:R,setForRemoval:E,hasAnimation:W,removedBeforeQueried:!1,previousTriggersValues:C}}listen(R,L,W,E,C){return Wo(L)?this._fetchNamespace(R).listen(L,W,E,C):()=>{}}_buildInstruction(R,L,W,E,C){return R.transition.build(this.driver,R.element,R.fromState.value,R.toState.value,W,E,R.fromState.options,R.toState.options,L,C)}destroyInnerAnimations(R){let L=this.driver.query(R,Ve,!0);L.forEach(W=>this.destroyActiveAnimationsForElement(W)),0!=this.playersByQueriedElement.size&&(L=this.driver.query(R,Ot,!0),L.forEach(W=>this.finishActiveQueriedAnimationOnElement(W)))}destroyActiveAnimationsForElement(R){const L=this.playersByElement.get(R);L&&L.forEach(W=>{W.queued?W.markedForDestroy=!0:W.destroy()})}finishActiveQueriedAnimationOnElement(R){const L=this.playersByQueriedElement.get(R);L&&L.forEach(W=>W.finish())}whenRenderingDone(){return new Promise(R=>{if(this.players.length)return dr(this.players).onDone(()=>R());R()})}processLeaveNode(R){const L=R[Bi];if(L&&L.setForRemoval){if(R[Bi]=zo,L.namespaceId){this.destroyInnerAnimations(R);const W=this._fetchNamespace(L.namespaceId);W&&W.clearElementCache(R)}this._onRemovalComplete(R,L.setForRemoval)}R.classList?.contains(vo)&&this.markElementAsDisabled(R,!1),this.driver.query(R,".ng-animate-disabled",!0).forEach(W=>{this.markElementAsDisabled(W,!1)})}flush(R=-1){let L=[];if(this.newHostElements.size&&(this.newHostElements.forEach((W,E)=>this._balanceNamespaceList(W,E)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let W=0;W<this.collectedEnterElements.length;W++)Eo(this.collectedEnterElements[W],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const W=[];try{L=this._flushAnimations(W,R)}finally{for(let E=0;E<W.length;E++)W[E]()}}else for(let W=0;W<this.collectedLeaveElements.length;W++)this.processLeaveNode(this.collectedLeaveElements[W]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(W=>W()),this._flushFns=[],this._whenQuietFns.length){const W=this._whenQuietFns;this._whenQuietFns=[],L.length?dr(L).onDone(()=>{W.forEach(E=>E())}):W.forEach(E=>E())}}reportError(R){throw function ti(oe){return new X.vHH(3402,!1)}()}_flushAnimations(R,L){const W=new Mi,E=[],C=new Map,M=[],O=new Map,j=new Map,re=new Map,ye=new Set;this.disabledNodes.forEach(wr=>{ye.add(wr);const jr=this.driver.query(wr,".ng-animate-queued",!0);for(let ai=0;ai<jr.length;ai++)ye.add(jr[ai])});const je=this.bodyNode,Ut=Array.from(this.statesByElement.keys()),vt=Co(Ut,this.collectedEnterElements),dn=new Map;let Cn=0;vt.forEach((wr,jr)=>{const ai=pr+Cn++;dn.set(jr,ai),wr.forEach(yi=>Eo(yi,ai))});const zr=[],Dr=new Set,Xr=new Set;for(let wr=0;wr<this.collectedLeaveElements.length;wr++){const jr=this.collectedLeaveElements[wr],ai=jr[Bi];ai&&ai.setForRemoval&&(zr.push(jr),Dr.add(jr),ai.hasAnimation?this.driver.query(jr,".ng-star-inserted",!0).forEach(yi=>Dr.add(yi)):Xr.add(jr))}const vs=new Map,Ro=Co(Ut,Array.from(Dr));Ro.forEach((wr,jr)=>{const ai=xi+Cn++;vs.set(jr,ai),wr.forEach(yi=>Eo(yi,ai))}),R.push(()=>{vt.forEach((wr,jr)=>{const ai=dn.get(jr);wr.forEach(yi=>ne(yi,ai))}),Ro.forEach((wr,jr)=>{const ai=vs.get(jr);wr.forEach(yi=>ne(yi,ai))}),zr.forEach(wr=>{this.processLeaveNode(wr)})});const qs=[],sl=[];for(let wr=this._namespaceList.length-1;wr>=0;wr--)this._namespaceList[wr].drainQueuedTransitions(L).forEach(ai=>{const yi=ai.player,co=ai.element;if(qs.push(yi),this.collectedEnterElements.length){const Fa=co[Bi];if(Fa&&Fa.setForMove){if(Fa.previousTriggersValues&&Fa.previousTriggersValues.has(ai.triggerName)){const fs=Fa.previousTriggersValues.get(ai.triggerName),Uo=this.statesByElement.get(ai.element);if(Uo&&Uo.has(ai.triggerName)){const Ks=Uo.get(ai.triggerName);Ks.value=fs,Uo.set(ai.triggerName,Ks)}}return void yi.destroy()}}const Sl=!je||!this.driver.containsElement(je,co),ka=vs.get(co),_a=dn.get(co),wi=this._buildInstruction(ai,W,_a,ka,Sl);if(wi.errors&&wi.errors.length)return void sl.push(wi);if(Sl)return yi.onStart(()=>Bs(co,wi.fromStyles)),yi.onDestroy(()=>cs(co,wi.toStyles)),void E.push(yi);if(ai.isFallbackTransition)return yi.onStart(()=>Bs(co,wi.fromStyles)),yi.onDestroy(()=>cs(co,wi.toStyles)),void E.push(yi);const Mu=[];wi.timelines.forEach(Fa=>{Fa.stretchStartingKeyframe=!0,this.disabledNodes.has(Fa.element)||Mu.push(Fa)}),wi.timelines=Mu,W.append(co,wi.timelines),M.push({instruction:wi,player:yi,element:co}),wi.queriedElements.forEach(Fa=>yt(O,Fa,[]).push(yi)),wi.preStyleProps.forEach((Fa,fs)=>{if(Fa.size){let Uo=j.get(fs);Uo||j.set(fs,Uo=new Set),Fa.forEach((Ks,Ds)=>Uo.add(Ds))}}),wi.postStyleProps.forEach((Fa,fs)=>{let Uo=re.get(fs);Uo||re.set(fs,Uo=new Set),Fa.forEach((Ks,Ds)=>Uo.add(Ds))})});if(sl.length){const wr=[];sl.forEach(jr=>{wr.push(function Yi(oe,R){return new X.vHH(3505,!1)}())}),qs.forEach(jr=>jr.destroy()),this.reportError(wr)}const ga=new Map,Bo=new Map;M.forEach(wr=>{const jr=wr.element;W.has(jr)&&(Bo.set(jr,jr),this._beforeAnimationBuild(wr.player.namespaceId,wr.instruction,ga))}),E.forEach(wr=>{const jr=wr.element;this._getPreviousPlayers(jr,!1,wr.namespaceId,wr.triggerName,null).forEach(yi=>{yt(ga,jr,[]).push(yi),yi.destroy()})});const dl=zr.filter(wr=>mn(wr,j,re)),ma=new Map;es(ma,this.driver,Xr,re,dt).forEach(wr=>{mn(wr,j,re)&&dl.push(wr)});const hl=new Map;vt.forEach((wr,jr)=>{es(hl,this.driver,new Set(wr),j,"!")}),dl.forEach(wr=>{const jr=ma.get(wr),ai=hl.get(wr);ma.set(wr,new Map([...jr?.entries()??[],...ai?.entries()??[]]))});const Bl=[],lc=[],ms={};M.forEach(wr=>{const{element:jr,player:ai,instruction:yi}=wr;if(W.has(jr)){if(ye.has(jr))return ai.onDestroy(()=>cs(jr,yi.toStyles)),ai.disabled=!0,ai.overrideTotalTime(yi.totalTime),void E.push(ai);let co=ms;if(Bo.size>1){let ka=jr;const _a=[];for(;ka=ka.parentNode;){const wi=Bo.get(ka);if(wi){co=wi;break}_a.push(ka)}_a.forEach(wi=>Bo.set(wi,co))}const Sl=this._buildAnimation(ai.namespaceId,yi,ga,C,hl,ma);if(ai.setRealPlayer(Sl),co===ms)Bl.push(ai);else{const ka=this.playersByElement.get(co);ka&&ka.length&&(ai.parentPlayer=dr(ka)),E.push(ai)}}else Bs(jr,yi.fromStyles),ai.onDestroy(()=>cs(jr,yi.toStyles)),lc.push(ai),ye.has(jr)&&E.push(ai)}),lc.forEach(wr=>{const jr=C.get(wr.element);if(jr&&jr.length){const ai=dr(jr);wr.setRealPlayer(ai)}}),E.forEach(wr=>{wr.parentPlayer?wr.syncPlayerEvents(wr.parentPlayer):wr.destroy()});for(let wr=0;wr<zr.length;wr++){const jr=zr[wr],ai=jr[Bi];if(ne(jr,xi),ai&&ai.hasAnimation)continue;let yi=[];if(O.size){let Sl=O.get(jr);Sl&&Sl.length&&yi.push(...Sl);let ka=this.driver.query(jr,Ot,!0);for(let _a=0;_a<ka.length;_a++){let wi=O.get(ka[_a]);wi&&wi.length&&yi.push(...wi)}}const co=yi.filter(Sl=>!Sl.destroyed);co.length?Z(this,jr,co):this.processLeaveNode(jr)}return zr.length=0,Bl.forEach(wr=>{this.players.push(wr),wr.onDone(()=>{wr.destroy();const jr=this.players.indexOf(wr);this.players.splice(jr,1)}),wr.play()}),Bl}afterFlush(R){this._flushFns.push(R)}afterFlushAnimationsDone(R){this._whenQuietFns.push(R)}_getPreviousPlayers(R,L,W,E,C){let M=[];if(L){const O=this.playersByQueriedElement.get(R);O&&(M=O)}else{const O=this.playersByElement.get(R);if(O){const j=!C||C==ba;O.forEach(re=>{re.queued||!j&&re.triggerName!=E||M.push(re)})}}return(W||E)&&(M=M.filter(O=>!(W&&W!=O.namespaceId||E&&E!=O.triggerName))),M}_beforeAnimationBuild(R,L,W){const C=L.element,M=L.isRemovalTransition?void 0:R,O=L.isRemovalTransition?void 0:L.triggerName;for(const j of L.timelines){const re=j.element,ye=re!==C,je=yt(W,re,[]);this._getPreviousPlayers(re,ye,M,O,L.toState).forEach(vt=>{const dn=vt.getRealPlayer();dn.beforeDestroy&&dn.beforeDestroy(),vt.destroy(),je.push(vt)})}Bs(C,L.fromStyles)}_buildAnimation(R,L,W,E,C,M){const O=L.triggerName,j=L.element,re=[],ye=new Set,je=new Set,Ut=L.timelines.map(dn=>{const Cn=dn.element;ye.add(Cn);const zr=Cn[Bi];if(zr&&zr.removedBeforeQueried)return new Bn(dn.duration,dn.delay);const Dr=Cn!==j,Xr=function we(oe){const R=[];return te(oe,R),R}((W.get(Cn)||Ni).map(ga=>ga.getRealPlayer())).filter(ga=>!!ga.element&&ga.element===Cn),vs=C.get(Cn),Ro=M.get(Cn),qs=Is(this._normalizer,dn.keyframes,vs,Ro),sl=this._buildPlayer(dn,qs,Xr);if(dn.subTimeline&&E&&je.add(Cn),Dr){const ga=new tl(R,O,Cn);ga.setRealPlayer(sl),re.push(ga)}return sl});re.forEach(dn=>{yt(this.playersByQueriedElement,dn.element,[]).push(dn),dn.onDone(()=>function Ua(oe,R,L){let W=oe.get(R);if(W){if(W.length){const E=W.indexOf(L);W.splice(E,1)}0==W.length&&oe.delete(R)}return W}(this.playersByQueriedElement,dn.element,dn))}),ye.forEach(dn=>Eo(dn,Rt));const vt=dr(Ut);return vt.onDestroy(()=>{ye.forEach(dn=>ne(dn,Rt)),cs(j,L.toStyles)}),je.forEach(dn=>{yt(E,dn,[]).push(vt)}),vt}_buildPlayer(R,L,W){return L.length>0?this.driver.animate(R.element,L,R.duration,R.delay,R.easing,W):new Bn(R.duration,R.delay)}}class tl{constructor(R,L,W){this.namespaceId=R,this.triggerName=L,this.element=W,this._player=new Bn,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(R){this._containsRealPlayer||(this._player=R,this._queuedCallbacks.forEach((L,W)=>{L.forEach(E=>Ts(R,W,void 0,E))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(R.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(R){this.totalTime=R}syncPlayerEvents(R){const L=this._player;L.triggerCallback&&R.onStart(()=>L.triggerCallback("start")),R.onDone(()=>this.finish()),R.onDestroy(()=>this.destroy())}_queueEvent(R,L){yt(this._queuedCallbacks,R,[]).push(L)}onDone(R){this.queued&&this._queueEvent("done",R),this._player.onDone(R)}onStart(R){this.queued&&this._queueEvent("start",R),this._player.onStart(R)}onDestroy(R){this.queued&&this._queueEvent("destroy",R),this._player.onDestroy(R)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(R){this.queued||this._player.setPosition(R)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(R){const L=this._player;L.triggerCallback&&L.triggerCallback(R)}}function Wo(oe){return oe&&1===oe.nodeType}function fa(oe,R){const L=oe.style.display;return oe.style.display=R??"none",L}function es(oe,R,L,W,E){const C=[];L.forEach(j=>C.push(fa(j)));const M=[];W.forEach((j,re)=>{const ye=new Map;j.forEach(je=>{const Ut=R.computeStyle(re,je,E);ye.set(je,Ut),(!Ut||0==Ut.length)&&(re[Bi]=oo,M.push(re))}),oe.set(re,ye)});let O=0;return L.forEach(j=>fa(j,C[O++])),M}function Co(oe,R){const L=new Map;if(oe.forEach(O=>L.set(O,[])),0==R.length)return L;const E=new Set(R),C=new Map;function M(O){if(!O)return 1;let j=C.get(O);if(j)return j;const re=O.parentNode;return j=L.has(re)?re:E.has(re)?1:M(re),C.set(O,j),j}return R.forEach(O=>{const j=M(O);1!==j&&L.get(j).push(O)}),L}function Eo(oe,R){oe.classList?.add(R)}function ne(oe,R){oe.classList?.remove(R)}function Z(oe,R,L){dr(L).onDone(()=>oe.processLeaveNode(R))}function te(oe,R){for(let L=0;L<oe.length;L++){const W=oe[L];W instanceof vn?te(W.players,R):R.push(W)}}function mn(oe,R,L){const W=L.get(oe);if(!W)return!1;let E=R.get(oe);return E?W.forEach(C=>E.add(C)):R.set(oe,W),L.delete(oe),!0}class vr{constructor(R,L,W){this.bodyNode=R,this._driver=L,this._normalizer=W,this._triggerCache={},this.onRemovalComplete=(E,C)=>{},this._transitionEngine=new sc(R,L,W),this._timelineEngine=new so(R,L,W),this._transitionEngine.onRemovalComplete=(E,C)=>this.onRemovalComplete(E,C)}registerTrigger(R,L,W,E,C){const M=R+"-"+E;let O=this._triggerCache[M];if(!O){const j=[],ye=na(this._driver,C,j,[]);if(j.length)throw function br(oe,R){return new X.vHH(3404,!1)}();O=function yo(oe,R,L){return new ii(oe,R,L)}(E,ye,this._normalizer),this._triggerCache[M]=O}this._transitionEngine.registerTrigger(L,E,O)}register(R,L){this._transitionEngine.register(R,L)}destroy(R,L){this._transitionEngine.destroy(R,L)}onInsert(R,L,W,E){this._transitionEngine.insertNode(R,L,W,E)}onRemove(R,L,W){this._transitionEngine.removeNode(R,L,W)}disableAnimations(R,L){this._transitionEngine.markElementAsDisabled(R,L)}process(R,L,W,E){if("@"==W.charAt(0)){const[C,M]=Ge(W);this._timelineEngine.command(C,L,M,E)}else this._transitionEngine.trigger(R,L,W,E)}listen(R,L,W,E,C){if("@"==W.charAt(0)){const[M,O]=Ge(W);return this._timelineEngine.listen(M,L,O,C)}return this._transitionEngine.listen(R,L,W,E,C)}flush(R=-1){this._transitionEngine.flush(R)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(R){this._transitionEngine.afterFlushAnimationsDone(R)}}let zi=(()=>{class R{constructor(W,E,C){this._element=W,this._startStyles=E,this._endStyles=C,this._state=0;let M=R.initialStylesByElement.get(W);M||R.initialStylesByElement.set(W,M=new Map),this._initialStyles=M}start(){this._state<1&&(this._startStyles&&cs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cs(this._element,this._initialStyles),this._endStyles&&(cs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(R.initialStylesByElement.delete(this._element),this._startStyles&&(Bs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bs(this._element,this._endStyles),this._endStyles=null),cs(this._element,this._initialStyles),this._state=3)}}return R.initialStylesByElement=new WeakMap,R})();function Fo(oe){let R=null;return oe.forEach((L,W)=>{(function Ws(oe){return"display"===oe||"position"===oe})(W)&&(R=R||new Map,R.set(W,L))}),R}class Zs{constructor(R,L,W,E){this.element=R,this.keyframes=L,this.options=W,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=W.duration,this._delay=W.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(R=>R()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const R=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,R,this.options),this._finalKeyframe=R.length?R[R.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(R){const L=[];return R.forEach(W=>{L.push(Object.fromEntries(W))}),L}_triggerWebAnimation(R,L,W){return R.animate(this._convertKeyframesToObject(L),W)}onStart(R){this._originalOnStartFns.push(R),this._onStartFns.push(R)}onDone(R){this._originalOnDoneFns.push(R),this._onDoneFns.push(R)}onDestroy(R){this._onDestroyFns.push(R)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(R=>R()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(R=>R()),this._onDestroyFns=[])}setPosition(R){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=R*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const R=new Map;this.hasStarted()&&this._finalKeyframe.forEach((W,E)=>{"offset"!==E&&R.set(E,this._finished?W:Ye(this.element,E))}),this.currentSnapshot=R}triggerCallback(R){const L="start"===R?this._onStartFns:this._onDoneFns;L.forEach(W=>W()),L.length=0}}class ja{validateStyleProperty(R){return!0}validateAnimatableStyleProperty(R){return!0}matchesElement(R,L){return!1}containsElement(R,L){return Fe(R,L)}getParentElement(R){return Et(R)}query(R,L,W){return _e(R,L,W)}computeStyle(R,L,W){return window.getComputedStyle(R)[L]}animate(R,L,W,E,C,M=[]){const j={duration:W,delay:E,fill:0==E?"both":"forwards"};C&&(j.easing=C);const re=new Map,ye=M.filter(vt=>vt instanceof Zs);(function Li(oe,R){return 0===oe||0===R})(W,E)&&ye.forEach(vt=>{vt.currentSnapshot.forEach((dn,Cn)=>re.set(Cn,dn))});let je=function Gi(oe){return oe.length?oe[0]instanceof Map?oe:oe.map(R=>Wr(R)):[]}(L).map(vt=>ri(vt));je=function Ja(oe,R,L){if(L.size&&R.length){let W=R[0],E=[];if(L.forEach((C,M)=>{W.has(M)||E.push(M),W.set(M,C)}),E.length)for(let C=1;C<R.length;C++){let M=R[C];E.forEach(O=>M.set(O,Ye(oe,O)))}}return R}(R,je,re);const Ut=function ks(oe,R){let L=null,W=null;return Array.isArray(R)&&R.length?(L=Fo(R[0]),R.length>1&&(W=Fo(R[R.length-1]))):R instanceof Map&&(L=Fo(R)),L||W?new zi(oe,L,W):null}(R,je);return new Zs(R,je,j,Ut)}}let ao=(()=>{var oe;class R extends ze{constructor(W,E){super(),this._nextAnimationId=0,this._renderer=W.createRenderer(E.body,{id:"0",encapsulation:X.ifc.None,styles:[],data:{animation:[]}})}build(W){const E=this._nextAnimationId.toString();this._nextAnimationId++;const C=Array.isArray(W)?In(W):W;return ys(this._renderer,null,E,"register",[C]),new ds(E,this._renderer)}}return(oe=R).\u0275fac=function(W){return new(W||oe)(X.LFG(X.FYo),X.LFG(nt.K0))},oe.\u0275prov=X.Yz7({token:oe,factory:oe.\u0275fac}),R})();class ds extends Jt{constructor(R,L){super(),this._id=R,this._renderer=L}create(R,L){return new sa(this._id,R,L||{},this._renderer)}}class sa{constructor(R,L,W,E){this.id=R,this.element=L,this._renderer=E,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",W)}_listen(R,L){return this._renderer.listen(this.element,`@@${this.id}:${R}`,L)}_command(R,...L){return ys(this._renderer,this.element,this.id,R,L)}onDone(R){this._listen("done",R)}onStart(R){this._listen("start",R)}onDestroy(R){this._listen("destroy",R)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(R){this._command("setPosition",R)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ys(oe,R,L,W,E){return oe.setProperty(R,`@@${L}:${W}`,E)}const ll="@.disabled";let $a=(()=>{var oe;class R{constructor(W,E,C){this.delegate=W,this.engine=E,this._zone=C,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,E.onRemovalComplete=(M,O)=>{const j=O?.parentNode(M);j&&O.removeChild(j,M)}}createRenderer(W,E){const M=this.delegate.createRenderer(W,E);if(!(W&&E&&E.data&&E.data.animation)){let je=this._rendererCache.get(M);return je||(je=new Ia("",M,this.engine,()=>this._rendererCache.delete(M)),this._rendererCache.set(M,je)),je}const O=E.id,j=E.id+"-"+this._currentId;this._currentId++,this.engine.register(j,W);const re=je=>{Array.isArray(je)?je.forEach(re):this.engine.registerTrigger(O,j,W,je.name,je)};return E.data.animation.forEach(re),new Ga(this,j,M,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(W,E,C){W>=0&&W<this._microtaskId?this._zone.run(()=>E(C)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(M=>{const[O,j]=M;O(j)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([E,C]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(oe=R).\u0275fac=function(W){return new(W||oe)(X.LFG(X.FYo),X.LFG(vr),X.LFG(X.R0b))},oe.\u0275prov=X.Yz7({token:oe,factory:oe.\u0275fac}),R})();class Ia{constructor(R,L,W,E){this.namespaceId=R,this.delegate=L,this.engine=W,this._onDestroy=E}get data(){return this.delegate.data}destroyNode(R){this.delegate.destroyNode?.(R)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(R,L){return this.delegate.createElement(R,L)}createComment(R){return this.delegate.createComment(R)}createText(R){return this.delegate.createText(R)}appendChild(R,L){this.delegate.appendChild(R,L),this.engine.onInsert(this.namespaceId,L,R,!1)}insertBefore(R,L,W,E=!0){this.delegate.insertBefore(R,L,W),this.engine.onInsert(this.namespaceId,L,R,E)}removeChild(R,L,W){this.engine.onRemove(this.namespaceId,L,this.delegate)}selectRootElement(R,L){return this.delegate.selectRootElement(R,L)}parentNode(R){return this.delegate.parentNode(R)}nextSibling(R){return this.delegate.nextSibling(R)}setAttribute(R,L,W,E){this.delegate.setAttribute(R,L,W,E)}removeAttribute(R,L,W){this.delegate.removeAttribute(R,L,W)}addClass(R,L){this.delegate.addClass(R,L)}removeClass(R,L){this.delegate.removeClass(R,L)}setStyle(R,L,W,E){this.delegate.setStyle(R,L,W,E)}removeStyle(R,L,W){this.delegate.removeStyle(R,L,W)}setProperty(R,L,W){"@"==L.charAt(0)&&L==ll?this.disableAnimations(R,!!W):this.delegate.setProperty(R,L,W)}setValue(R,L){this.delegate.setValue(R,L)}listen(R,L,W){return this.delegate.listen(R,L,W)}disableAnimations(R,L){this.engine.disableAnimations(R,L)}}class Ga extends Ia{constructor(R,L,W,E,C){super(L,W,E,C),this.factory=R,this.namespaceId=L}setProperty(R,L,W){"@"==L.charAt(0)?"."==L.charAt(1)&&L==ll?this.disableAnimations(R,W=void 0===W||!!W):this.engine.process(this.namespaceId,R,L.slice(1),W):this.delegate.setProperty(R,L,W)}listen(R,L,W){if("@"==L.charAt(0)){const E=function Pa(oe){switch(oe){case"body":return document.body;case"document":return document;case"window":return window;default:return oe}}(R);let C=L.slice(1),M="";return"@"!=C.charAt(0)&&([C,M]=function cl(oe){const R=oe.indexOf(".");return[oe.substring(0,R),oe.slice(R+1)]}(C)),this.engine.listen(this.namespaceId,E,C,M,O=>{this.factory.scheduleListenerCallback(O._data||-1,W,O)})}return this.delegate.listen(R,L,W)}}const Tl=[{provide:ze,useClass:ao},{provide:el,useFactory:function Il(){return new ya}},{provide:vr,useClass:(()=>{var oe;class R extends vr{constructor(W,E,C,M){super(W.body,E,C)}ngOnDestroy(){this.flush()}}return(oe=R).\u0275fac=function(W){return new(W||oe)(X.LFG(nt.K0),X.LFG(nn),X.LFG(el),X.LFG(X.z2F))},oe.\u0275prov=X.Yz7({token:oe,factory:oe.\u0275fac}),R})()},{provide:X.FYo,useFactory:function Fs(oe,R,L){return new $a(oe,R,L)},deps:[d.se,vr,X.R0b]}],nl=[{provide:nn,useFactory:()=>new ja},{provide:X.QbO,useValue:"BrowserAnimations"},...Tl],bi=[{provide:nn,useClass:Vt},{provide:X.QbO,useValue:"NoopAnimations"},...Tl];let Js=(()=>{var oe;class R{static withConfig(W){return{ngModule:R,providers:W.disableAnimations?bi:nl}}}return(oe=R).\u0275fac=function(W){return new(W||oe)},oe.\u0275mod=X.oAB({type:oe}),oe.\u0275inj=X.cJS({providers:nl,imports:[d.b2]}),R})();function Ha(oe){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(oe)}function aa(oe,R,L){return(R=function Ma(oe){var R=function oa(oe,R){if("object"!==Ha(oe)||null===oe)return oe;var L=oe[Symbol.toPrimitive];if(void 0!==L){var W=L.call(oe,R||"default");if("object"!==Ha(W))return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(oe)}(oe,"string");return"symbol"===Ha(R)?R:String(R)}(R))in oe?Object.defineProperty(oe,R,{value:L,enumerable:!0,configurable:!0,writable:!0}):oe[R]=L,oe}const Lo=new X.OlP("@sweetalert2/ngx-sweetalert2#swalProvider"),Fl=new X.OlP("@sweetalert2/ngx-sweetalert2#fireOnInit"),ul=new X.OlP("@sweetalert2/ngx-sweetalert2#dismissOnDestroy");let Ko=(()=>{var oe;class R{constructor(W){aa(this,"swalProvider",void 0),aa(this,"swalPromiseCache",void 0),this.swalProvider=W}get swal(){return this.swalPromiseCache||this.preloadSweetAlertLibrary(),this.swalPromiseCache}preloadSweetAlertLibrary(){if(this.swalPromiseCache)return;const W=function E(M){return"function"==typeof M&&void 0===M.version}(this.swalProvider)?this.swalProvider():Promise.resolve(this.swalProvider);this.swalPromiseCache=W.then(M=>function C(M){return"function"==typeof M}(M)?M:M.default)}}return oe=R,aa(R,"\u0275fac",function(W){return new(W||oe)(X.LFG(Lo))}),aa(R,"\u0275prov",X.Yz7({token:oe,factory:oe.\u0275fac})),R})();function Pe(){return Y.e(519).then(Y.t.bind(Y,3519,19))}let Q=(()=>{var oe;class R{static forRoot(W={}){return{ngModule:R,providers:[Ko,{provide:Lo,useValue:W.provideSwal||Pe},{provide:Fl,useValue:W.fireOnInit||!1},{provide:ul,useValue:W.dismissOnDestroy||!0}]}}static forChild(W={}){return{ngModule:R,providers:[...W.provideSwal?[Ko,{provide:Lo,useValue:W.provideSwal}]:[],...void 0!==W.fireOnInit?[{provide:Fl,useValue:W.fireOnInit}]:[],...void 0!==W.dismissOnDestroy?[{provide:ul,useValue:W.dismissOnDestroy}]:[]]}}}return oe=R,aa(R,"\u0275fac",function(W){return new(W||oe)}),aa(R,"\u0275mod",X.oAB({type:oe})),aa(R,"\u0275inj",X.cJS({imports:[nt.ez]})),R})();var Te=Y(8726);const G_firebase={projectId:"labo4-salajuegos-2023",appId:"1:267112383910:web:9d16a8980b08020939bb67",databaseURL:"https://labo4-salajuegos-2023-default-rtdb.firebaseio.com",storageBucket:"labo4-salajuegos-2023.appspot.com",apiKey:"AIzaSyAcH4KsY_LCiAMvtiqU1OuKwYU25e0kCb8",authDomain:"labo4-salajuegos-2023.firebaseapp.com",messagingSenderId:"267112383910",measurementId:"G-6440J31PNH"};var ie=Y(7923),de=Y(6304),ge=Y(938),De=Y(2793),Ze=Y(4097),tt=Y(2194),Mt=Y(5710);class kt{constructor(R){return R}}const On="database",Yn=new X.OlP("angularfire2.database-instances");function Jr(oe){return(R,L)=>{const W=R.runOutsideAngular(()=>oe(L));return new kt(W)}}const Ss={provide:class Un{constructor(){return(0,De.vb)(On)}},deps:[[new X.FiY,Yn]]},Xs={provide:kt,useFactory:function kr(oe,R){const L=(0,De.JM)(On,oe,R);return L&&new kt(L)},deps:[[new X.FiY,Yn],Te.Ot]};let $t=(()=>{class oe{constructor(){(0,Ze.KN)("angularfire",De.q4.full,"rtdb")}}return oe.\u0275fac=function(L){return new(L||oe)},oe.\u0275mod=X.oAB({type:oe}),oe.\u0275inj=X.cJS({providers:[Xs,Ss]}),oe})();function Ei(oe,...R){return{ngModule:$t,providers:[{provide:Yn,useFactory:Jr(oe),multi:!0,deps:[X.R0b,X.zs3,De.HU,Te.z6,[new X.FiY,ie.dh],[new X.FiY,tt.nm],...R]}]}}const oc=(0,De.u3)(Mt.N8,!0);var Vl=Y(9862);let Ju=(()=>{var oe;class R{}return(oe=R).\u0275fac=function(W){return new(W||oe)},oe.\u0275mod=X.oAB({type:oe,bootstrap:[Ae]}),oe.\u0275inj=X.cJS({imports:[d.b2,Se,Ke.IJ,Ke.lQ,ft.uH,Js,Q.forRoot(),de.hO.initializeApp(G_firebase),(0,Te.hX)(()=>(0,Te.ZF)(G_firebase)),(0,ie.AR)(()=>(0,ie.v0)()),(0,ge.Cm)(()=>(0,ge.ad)()),Ei(()=>oc()),Vl.JF]}),R})();d.q6().bootstrapModule(Ju).catch(oe=>console.error(oe))},5619:(Pn,_t,Y)=>{Y.d(_t,{X:()=>fe});var d=Y(8645);class fe extends d.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const Me=super._subscribe(X);return!Me.closed&&X.next(this._value),Me}getValue(){const{hasError:X,thrownError:Me,_value:He}=this;if(X)throw Me;return this._throwIfClosed(),He}next(X){super.next(this._value=X)}}},5592:(Pn,_t,Y)=>{Y.d(_t,{y:()=>ct});var d=Y(305),fe=Y(7394),ve=Y(4850),X=Y(8407),Me=Y(2653),He=Y(4674),Se=Y(1441);let ct=(()=>{class Ke{constructor(ze){ze&&(this._subscribe=ze)}lift(ze){const Jt=new Ke;return Jt.source=this,Jt.operator=ze,Jt}subscribe(ze,Jt,dt){const fn=function Ae(Ke){return Ke&&Ke instanceof d.Lv||function Ie(Ke){return Ke&&(0,He.m)(Ke.next)&&(0,He.m)(Ke.error)&&(0,He.m)(Ke.complete)}(Ke)&&(0,fe.Nn)(Ke)}(ze)?ze:new d.Hp(ze,Jt,dt);return(0,Se.x)(()=>{const{operator:Kt,source:Vn}=this;fn.add(Kt?Kt.call(fn,Vn):Vn?this._subscribe(fn):this._trySubscribe(fn))}),fn}_trySubscribe(ze){try{return this._subscribe(ze)}catch(Jt){ze.error(Jt)}}forEach(ze,Jt){return new(Jt=nt(Jt))((dt,fn)=>{const Kt=new d.Hp({next:Vn=>{try{ze(Vn)}catch(In){fn(In),Kt.unsubscribe()}},error:fn,complete:dt});this.subscribe(Kt)})}_subscribe(ze){var Jt;return null===(Jt=this.source)||void 0===Jt?void 0:Jt.subscribe(ze)}[ve.L](){return this}pipe(...ze){return(0,X.U)(ze)(this)}toPromise(ze){return new(ze=nt(ze))((Jt,dt)=>{let fn;this.subscribe(Kt=>fn=Kt,Kt=>dt(Kt),()=>Jt(fn))})}}return Ke.create=ft=>new Ke(ft),Ke})();function nt(Ke){var ft;return null!==(ft=Ke??Me.config.Promise)&&void 0!==ft?ft:Promise}},8645:(Pn,_t,Y)=>{Y.d(_t,{x:()=>Se});var d=Y(5592),fe=Y(7394);const X=(0,Y(2306).d)(nt=>function(){nt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=Y(9039),He=Y(1441);let Se=(()=>{class nt extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ae){const Ke=new ct(this,this);return Ke.operator=Ae,Ke}_throwIfClosed(){if(this.closed)throw new X}next(Ae){(0,He.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ke of this.currentObservers)Ke.next(Ae)}})}error(Ae){(0,He.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ae;const{observers:Ke}=this;for(;Ke.length;)Ke.shift().error(Ae)}})}complete(){(0,He.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ae;return(null===(Ae=this.observers)||void 0===Ae?void 0:Ae.length)>0}_trySubscribe(Ae){return this._throwIfClosed(),super._trySubscribe(Ae)}_subscribe(Ae){return this._throwIfClosed(),this._checkFinalizedStatuses(Ae),this._innerSubscribe(Ae)}_innerSubscribe(Ae){const{hasError:Ke,isStopped:ft,observers:ze}=this;return Ke||ft?fe.Lc:(this.currentObservers=null,ze.push(Ae),new fe.w0(()=>{this.currentObservers=null,(0,Me.P)(ze,Ae)}))}_checkFinalizedStatuses(Ae){const{hasError:Ke,thrownError:ft,isStopped:ze}=this;Ke?Ae.error(ft):ze&&Ae.complete()}asObservable(){const Ae=new d.y;return Ae.source=this,Ae}}return nt.create=(Ie,Ae)=>new ct(Ie,Ae),nt})();class ct extends Se{constructor(Ie,Ae){super(),this.destination=Ie,this.source=Ae}next(Ie){var Ae,Ke;null===(Ke=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.next)||void 0===Ke||Ke.call(Ae,Ie)}error(Ie){var Ae,Ke;null===(Ke=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.error)||void 0===Ke||Ke.call(Ae,Ie)}complete(){var Ie,Ae;null===(Ae=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.complete)||void 0===Ae||Ae.call(Ie)}_subscribe(Ie){var Ae,Ke;return null!==(Ke=null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(Ie))&&void 0!==Ke?Ke:fe.Lc}}},305:(Pn,_t,Y)=>{Y.d(_t,{Hp:()=>dt,Lv:()=>Ke});var d=Y(4674),fe=Y(7394),ve=Y(2653),X=Y(3894),Me=Y(2420);const He=nt("C",void 0,void 0);function nt(Xe,Tt,gt){return{kind:Xe,value:Tt,error:gt}}var Ie=Y(7599),Ae=Y(1441);class Ke extends fe.w0{constructor(Tt){super(),this.isStopped=!1,Tt?(this.destination=Tt,(0,fe.Nn)(Tt)&&Tt.add(this)):this.destination=In}static create(Tt,gt,mt){return new dt(Tt,gt,mt)}next(Tt){this.isStopped?Vn(function ct(Xe){return nt("N",Xe,void 0)}(Tt),this):this._next(Tt)}error(Tt){this.isStopped?Vn(function Se(Xe){return nt("E",void 0,Xe)}(Tt),this):(this.isStopped=!0,this._error(Tt))}complete(){this.isStopped?Vn(He,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Tt){this.destination.next(Tt)}_error(Tt){try{this.destination.error(Tt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ft=Function.prototype.bind;function ze(Xe,Tt){return ft.call(Xe,Tt)}class Jt{constructor(Tt){this.partialObserver=Tt}next(Tt){const{partialObserver:gt}=this;if(gt.next)try{gt.next(Tt)}catch(mt){fn(mt)}}error(Tt){const{partialObserver:gt}=this;if(gt.error)try{gt.error(Tt)}catch(mt){fn(mt)}else fn(Tt)}complete(){const{partialObserver:Tt}=this;if(Tt.complete)try{Tt.complete()}catch(gt){fn(gt)}}}class dt extends Ke{constructor(Tt,gt,mt){let Nt;if(super(),(0,d.m)(Tt)||!Tt)Nt={next:Tt??void 0,error:gt??void 0,complete:mt??void 0};else{let xe;this&&ve.config.useDeprecatedNextContext?(xe=Object.create(Tt),xe.unsubscribe=()=>this.unsubscribe(),Nt={next:Tt.next&&ze(Tt.next,xe),error:Tt.error&&ze(Tt.error,xe),complete:Tt.complete&&ze(Tt.complete,xe)}):Nt=Tt}this.destination=new Jt(Nt)}}function fn(Xe){ve.config.useDeprecatedSynchronousErrorHandling?(0,Ae.O)(Xe):(0,X.h)(Xe)}function Vn(Xe,Tt){const{onStoppedNotification:gt}=ve.config;gt&&Ie.z.setTimeout(()=>gt(Xe,Tt))}const In={closed:!0,next:Me.Z,error:function Kt(Xe){throw Xe},complete:Me.Z}},7394:(Pn,_t,Y)=>{Y.d(_t,{Lc:()=>He,w0:()=>Me,Nn:()=>Se});var d=Y(4674);const ve=(0,Y(2306).d)(nt=>function(Ae){nt(this),this.message=Ae?`${Ae.length} errors occurred during unsubscription:\n${Ae.map((Ke,ft)=>`${ft+1}) ${Ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ae});var X=Y(9039);class Me{constructor(Ie){this.initialTeardown=Ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ie;if(!this.closed){this.closed=!0;const{_parentage:Ae}=this;if(Ae)if(this._parentage=null,Array.isArray(Ae))for(const ze of Ae)ze.remove(this);else Ae.remove(this);const{initialTeardown:Ke}=this;if((0,d.m)(Ke))try{Ke()}catch(ze){Ie=ze instanceof ve?ze.errors:[ze]}const{_finalizers:ft}=this;if(ft){this._finalizers=null;for(const ze of ft)try{ct(ze)}catch(Jt){Ie=Ie??[],Jt instanceof ve?Ie=[...Ie,...Jt.errors]:Ie.push(Jt)}}if(Ie)throw new ve(Ie)}}add(Ie){var Ae;if(Ie&&Ie!==this)if(this.closed)ct(Ie);else{if(Ie instanceof Me){if(Ie.closed||Ie._hasParent(this))return;Ie._addParent(this)}(this._finalizers=null!==(Ae=this._finalizers)&&void 0!==Ae?Ae:[]).push(Ie)}}_hasParent(Ie){const{_parentage:Ae}=this;return Ae===Ie||Array.isArray(Ae)&&Ae.includes(Ie)}_addParent(Ie){const{_parentage:Ae}=this;this._parentage=Array.isArray(Ae)?(Ae.push(Ie),Ae):Ae?[Ae,Ie]:Ie}_removeParent(Ie){const{_parentage:Ae}=this;Ae===Ie?this._parentage=null:Array.isArray(Ae)&&(0,X.P)(Ae,Ie)}remove(Ie){const{_finalizers:Ae}=this;Ae&&(0,X.P)(Ae,Ie),Ie instanceof Me&&Ie._removeParent(this)}}Me.EMPTY=(()=>{const nt=new Me;return nt.closed=!0,nt})();const He=Me.EMPTY;function Se(nt){return nt instanceof Me||nt&&"closed"in nt&&(0,d.m)(nt.remove)&&(0,d.m)(nt.add)&&(0,d.m)(nt.unsubscribe)}function ct(nt){(0,d.m)(nt)?nt():nt.unsubscribe()}},2653:(Pn,_t,Y)=>{Y.d(_t,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5211:(Pn,_t,Y)=>{Y.d(_t,{z:()=>Me});var d=Y(7537),ve=Y(9940),X=Y(2459);function Me(...He){return function fe(){return(0,d.J)(1)}()((0,X.D)(He,(0,ve.yG)(He)))}},6232:(Pn,_t,Y)=>{Y.d(_t,{E:()=>fe});const fe=new(Y(5592).y)(Me=>Me.complete())},2459:(Pn,_t,Y)=>{Y.d(_t,{D:()=>Tt});var d=Y(4829),fe=Y(3093),ve=Y(5137),He=Y(5592),ct=Y(4971),nt=Y(4674),Ie=Y(7103);function Ke(gt,mt){if(!gt)throw new Error("Iterable cannot be null");return new He.y(Nt=>{(0,Ie.f)(Nt,mt,()=>{const xe=gt[Symbol.asyncIterator]();(0,Ie.f)(Nt,mt,()=>{xe.next().then(Wt=>{Wt.done?Nt.complete():Nt.next(Wt.value)})},0,!0)})})}var ft=Y(8382),ze=Y(4026),Jt=Y(4266),dt=Y(3664),fn=Y(5726),Kt=Y(9853),Vn=Y(541);function Tt(gt,mt){return mt?function Xe(gt,mt){if(null!=gt){if((0,ft.c)(gt))return function X(gt,mt){return(0,d.Xf)(gt).pipe((0,ve.R)(mt),(0,fe.Q)(mt))}(gt,mt);if((0,Jt.z)(gt))return function Se(gt,mt){return new He.y(Nt=>{let xe=0;return mt.schedule(function(){xe===gt.length?Nt.complete():(Nt.next(gt[xe++]),Nt.closed||this.schedule())})})}(gt,mt);if((0,ze.t)(gt))return function Me(gt,mt){return(0,d.Xf)(gt).pipe((0,ve.R)(mt),(0,fe.Q)(mt))}(gt,mt);if((0,fn.D)(gt))return Ke(gt,mt);if((0,dt.T)(gt))return function Ae(gt,mt){return new He.y(Nt=>{let xe;return(0,Ie.f)(Nt,mt,()=>{xe=gt[ct.h](),(0,Ie.f)(Nt,mt,()=>{let Wt,hn;try{({value:Wt,done:hn}=xe.next())}catch(zn){return void Nt.error(zn)}hn?Nt.complete():Nt.next(Wt)},0,!0)}),()=>(0,nt.m)(xe?.return)&&xe.return()})}(gt,mt);if((0,Vn.L)(gt))return function In(gt,mt){return Ke((0,Vn.Q)(gt),mt)}(gt,mt)}throw(0,Kt.z)(gt)}(gt,mt):(0,d.Xf)(gt)}},4829:(Pn,_t,Y)=>{Y.d(_t,{Xf:()=>ft});var d=Y(7582),fe=Y(4266),ve=Y(4026),X=Y(5592),Me=Y(8382),He=Y(5726),Se=Y(9853),ct=Y(3664),nt=Y(541),Ie=Y(4674),Ae=Y(3894),Ke=Y(4850);function ft(Xe){if(Xe instanceof X.y)return Xe;if(null!=Xe){if((0,Me.c)(Xe))return function ze(Xe){return new X.y(Tt=>{const gt=Xe[Ke.L]();if((0,Ie.m)(gt.subscribe))return gt.subscribe(Tt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Xe);if((0,fe.z)(Xe))return function Jt(Xe){return new X.y(Tt=>{for(let gt=0;gt<Xe.length&&!Tt.closed;gt++)Tt.next(Xe[gt]);Tt.complete()})}(Xe);if((0,ve.t)(Xe))return function dt(Xe){return new X.y(Tt=>{Xe.then(gt=>{Tt.closed||(Tt.next(gt),Tt.complete())},gt=>Tt.error(gt)).then(null,Ae.h)})}(Xe);if((0,He.D)(Xe))return Kt(Xe);if((0,ct.T)(Xe))return function fn(Xe){return new X.y(Tt=>{for(const gt of Xe)if(Tt.next(gt),Tt.closed)return;Tt.complete()})}(Xe);if((0,nt.L)(Xe))return function Vn(Xe){return Kt((0,nt.Q)(Xe))}(Xe)}throw(0,Se.z)(Xe)}function Kt(Xe){return new X.y(Tt=>{(function In(Xe,Tt){var gt,mt,Nt,xe;return(0,d.mG)(this,void 0,void 0,function*(){try{for(gt=(0,d.KL)(Xe);!(mt=yield gt.next()).done;)if(Tt.next(mt.value),Tt.closed)return}catch(Wt){Nt={error:Wt}}finally{try{mt&&!mt.done&&(xe=gt.return)&&(yield xe.call(gt))}finally{if(Nt)throw Nt.error}}Tt.complete()})})(Xe,Tt).catch(gt=>Tt.error(gt))})}},3019:(Pn,_t,Y)=>{Y.d(_t,{T:()=>He});var d=Y(7537),fe=Y(4829),ve=Y(6232),X=Y(9940),Me=Y(2459);function He(...Se){const ct=(0,X.yG)(Se),nt=(0,X._6)(Se,1/0),Ie=Se;return Ie.length?1===Ie.length?(0,fe.Xf)(Ie[0]):(0,d.J)(nt)((0,Me.D)(Ie,ct)):ve.E}},2096:(Pn,_t,Y)=>{Y.d(_t,{of:()=>ve});var d=Y(9940),fe=Y(2459);function ve(...X){const Me=(0,d.yG)(X);return(0,fe.D)(X,Me)}},8251:(Pn,_t,Y)=>{Y.d(_t,{x:()=>fe});var d=Y(305);function fe(X,Me,He,Se,ct){return new ve(X,Me,He,Se,ct)}class ve extends d.Lv{constructor(Me,He,Se,ct,nt,Ie){super(Me),this.onFinalize=nt,this.shouldUnsubscribe=Ie,this._next=He?function(Ae){try{He(Ae)}catch(Ke){Me.error(Ke)}}:super._next,this._error=ct?function(Ae){try{ct(Ae)}catch(Ke){Me.error(Ke)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(Ae){Me.error(Ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:He}=this;super.unsubscribe(),!He&&(null===(Me=this.onFinalize)||void 0===Me||Me.call(this))}}}},6328:(Pn,_t,Y)=>{Y.d(_t,{b:()=>ve});var d=Y(1631),fe=Y(4674);function ve(X,Me){return(0,fe.m)(Me)?(0,d.z)(X,Me,1):(0,d.z)(X,1)}},3572:(Pn,_t,Y)=>{Y.d(_t,{d:()=>ve});var d=Y(9360),fe=Y(8251);function ve(X){return(0,d.e)((Me,He)=>{let Se=!1;Me.subscribe((0,fe.x)(He,ct=>{Se=!0,He.next(ct)},()=>{Se||He.next(X),He.complete()}))})}},3997:(Pn,_t,Y)=>{Y.d(_t,{x:()=>X});var d=Y(2737),fe=Y(9360),ve=Y(8251);function X(He,Se=d.y){return He=He??Me,(0,fe.e)((ct,nt)=>{let Ie,Ae=!0;ct.subscribe((0,ve.x)(nt,Ke=>{const ft=Se(Ke);(Ae||!He(Ie,ft))&&(Ae=!1,Ie=ft,nt.next(Ke))}))})}function Me(He,Se){return He===Se}},2181:(Pn,_t,Y)=>{Y.d(_t,{h:()=>ve});var d=Y(9360),fe=Y(8251);function ve(X,Me){return(0,d.e)((He,Se)=>{let ct=0;He.subscribe((0,fe.x)(Se,nt=>X.call(Me,nt,ct++)&&Se.next(nt)))})}},4716:(Pn,_t,Y)=>{Y.d(_t,{x:()=>fe});var d=Y(9360);function fe(ve){return(0,d.e)((X,Me)=>{try{X.subscribe(Me)}finally{Me.add(ve)}})}},1374:(Pn,_t,Y)=>{Y.d(_t,{P:()=>Se});var d=Y(6973),fe=Y(2181),ve=Y(8180),X=Y(3572),Me=Y(3026),He=Y(2737);function Se(ct,nt){const Ie=arguments.length>=2;return Ae=>Ae.pipe(ct?(0,fe.h)((Ke,ft)=>ct(Ke,ft,Ae)):He.y,(0,ve.q)(1),Ie?(0,X.d)(nt):(0,Me.T)(()=>new d.K))}},7398:(Pn,_t,Y)=>{Y.d(_t,{U:()=>ve});var d=Y(9360),fe=Y(8251);function ve(X,Me){return(0,d.e)((He,Se)=>{let ct=0;He.subscribe((0,fe.x)(Se,nt=>{Se.next(X.call(Me,nt,ct++))}))})}},975:(Pn,_t,Y)=>{Y.d(_t,{h:()=>fe});var d=Y(7398);function fe(ve){return(0,d.U)(()=>ve)}},7537:(Pn,_t,Y)=>{Y.d(_t,{J:()=>ve});var d=Y(1631),fe=Y(2737);function ve(X=1/0){return(0,d.z)(fe.y,X)}},1631:(Pn,_t,Y)=>{Y.d(_t,{z:()=>ct});var d=Y(7398),fe=Y(4829),ve=Y(9360),X=Y(7103),Me=Y(8251),Se=Y(4674);function ct(nt,Ie,Ae=1/0){return(0,Se.m)(Ie)?ct((Ke,ft)=>(0,d.U)((ze,Jt)=>Ie(Ke,ze,ft,Jt))((0,fe.Xf)(nt(Ke,ft))),Ae):("number"==typeof Ie&&(Ae=Ie),(0,ve.e)((Ke,ft)=>function He(nt,Ie,Ae,Ke,ft,ze,Jt,dt){const fn=[];let Kt=0,Vn=0,In=!1;const Xe=()=>{In&&!fn.length&&!Kt&&Ie.complete()},Tt=mt=>Kt<Ke?gt(mt):fn.push(mt),gt=mt=>{ze&&Ie.next(mt),Kt++;let Nt=!1;(0,fe.Xf)(Ae(mt,Vn++)).subscribe((0,Me.x)(Ie,xe=>{ft?.(xe),ze?Tt(xe):Ie.next(xe)},()=>{Nt=!0},void 0,()=>{if(Nt)try{for(Kt--;fn.length&&Kt<Ke;){const xe=fn.shift();Jt?(0,X.f)(Ie,Jt,()=>gt(xe)):gt(xe)}Xe()}catch(xe){Ie.error(xe)}}))};return nt.subscribe((0,Me.x)(Ie,Tt,()=>{In=!0,Xe()})),()=>{dt?.()}}(Ke,ft,nt,Ae)))}},3093:(Pn,_t,Y)=>{Y.d(_t,{Q:()=>X});var d=Y(7103),fe=Y(9360),ve=Y(8251);function X(Me,He=0){return(0,fe.e)((Se,ct)=>{Se.subscribe((0,ve.x)(ct,nt=>(0,d.f)(ct,Me,()=>ct.next(nt),He),()=>(0,d.f)(ct,Me,()=>ct.complete(),He),nt=>(0,d.f)(ct,Me,()=>ct.error(nt),He)))})}},6699:(Pn,_t,Y)=>{Y.d(_t,{R:()=>X});var d=Y(9360),fe=Y(8251);function X(Me,He){return(0,d.e)(function ve(Me,He,Se,ct,nt){return(Ie,Ae)=>{let Ke=Se,ft=He,ze=0;Ie.subscribe((0,fe.x)(Ae,Jt=>{const dt=ze++;ft=Ke?Me(ft,Jt,dt):(Ke=!0,Jt),ct&&Ae.next(ft)},nt&&(()=>{Ke&&Ae.next(ft),Ae.complete()})))}}(Me,He,arguments.length>=2,!0))}},3020:(Pn,_t,Y)=>{Y.d(_t,{B:()=>Me});var d=Y(4829),fe=Y(8645),ve=Y(305),X=Y(9360);function Me(Se={}){const{connector:ct=(()=>new fe.x),resetOnError:nt=!0,resetOnComplete:Ie=!0,resetOnRefCountZero:Ae=!0}=Se;return Ke=>{let ft,ze,Jt,dt=0,fn=!1,Kt=!1;const Vn=()=>{ze?.unsubscribe(),ze=void 0},In=()=>{Vn(),ft=Jt=void 0,fn=Kt=!1},Xe=()=>{const Tt=ft;In(),Tt?.unsubscribe()};return(0,X.e)((Tt,gt)=>{dt++,!Kt&&!fn&&Vn();const mt=Jt=Jt??ct();gt.add(()=>{dt--,0===dt&&!Kt&&!fn&&(ze=He(Xe,Ae))}),mt.subscribe(gt),!ft&&dt>0&&(ft=new ve.Hp({next:Nt=>mt.next(Nt),error:Nt=>{Kt=!0,Vn(),ze=He(In,nt,Nt),mt.error(Nt)},complete:()=>{fn=!0,Vn(),ze=He(In,Ie),mt.complete()}}),(0,d.Xf)(Tt).subscribe(ft))})(Ke)}}function He(Se,ct,...nt){if(!0===ct)return void Se();if(!1===ct)return;const Ie=new ve.Hp({next:()=>{Ie.unsubscribe(),Se()}});return(0,d.Xf)(ct(...nt)).subscribe(Ie)}},7921:(Pn,_t,Y)=>{Y.d(_t,{O:()=>X});var d=Y(5211),fe=Y(9940),ve=Y(9360);function X(...Me){const He=(0,fe.yG)(Me);return(0,ve.e)((Se,ct)=>{(He?(0,d.z)(Me,Se,He):(0,d.z)(Me,Se)).subscribe(ct)})}},5137:(Pn,_t,Y)=>{Y.d(_t,{R:()=>fe});var d=Y(9360);function fe(ve,X=0){return(0,d.e)((Me,He)=>{He.add(ve.schedule(()=>Me.subscribe(He),X))})}},4664:(Pn,_t,Y)=>{Y.d(_t,{w:()=>X});var d=Y(4829),fe=Y(9360),ve=Y(8251);function X(Me,He){return(0,fe.e)((Se,ct)=>{let nt=null,Ie=0,Ae=!1;const Ke=()=>Ae&&!nt&&ct.complete();Se.subscribe((0,ve.x)(ct,ft=>{nt?.unsubscribe();let ze=0;const Jt=Ie++;(0,d.Xf)(Me(ft,Jt)).subscribe(nt=(0,ve.x)(ct,dt=>ct.next(He?He(ft,dt,Jt,ze++):dt),()=>{nt=null,Ke()}))},()=>{Ae=!0,Ke()}))})}},8180:(Pn,_t,Y)=>{Y.d(_t,{q:()=>X});var d=Y(6232),fe=Y(9360),ve=Y(8251);function X(Me){return Me<=0?()=>d.E:(0,fe.e)((He,Se)=>{let ct=0;He.subscribe((0,ve.x)(Se,nt=>{++ct<=Me&&(Se.next(nt),Me<=ct&&Se.complete())}))})}},9773:(Pn,_t,Y)=>{Y.d(_t,{R:()=>Me});var d=Y(9360),fe=Y(8251),ve=Y(4829),X=Y(2420);function Me(He){return(0,d.e)((Se,ct)=>{(0,ve.Xf)(He).subscribe((0,fe.x)(ct,()=>ct.complete(),X.Z)),!ct.closed&&Se.subscribe(ct)})}},9397:(Pn,_t,Y)=>{Y.d(_t,{b:()=>Me});var d=Y(4674),fe=Y(9360),ve=Y(8251),X=Y(2737);function Me(He,Se,ct){const nt=(0,d.m)(He)||Se||ct?{next:He,error:Se,complete:ct}:He;return nt?(0,fe.e)((Ie,Ae)=>{var Ke;null===(Ke=nt.subscribe)||void 0===Ke||Ke.call(nt);let ft=!0;Ie.subscribe((0,ve.x)(Ae,ze=>{var Jt;null===(Jt=nt.next)||void 0===Jt||Jt.call(nt,ze),Ae.next(ze)},()=>{var ze;ft=!1,null===(ze=nt.complete)||void 0===ze||ze.call(nt),Ae.complete()},ze=>{var Jt;ft=!1,null===(Jt=nt.error)||void 0===Jt||Jt.call(nt,ze),Ae.error(ze)},()=>{var ze,Jt;ft&&(null===(ze=nt.unsubscribe)||void 0===ze||ze.call(nt)),null===(Jt=nt.finalize)||void 0===Jt||Jt.call(nt)}))}):X.y}},3026:(Pn,_t,Y)=>{Y.d(_t,{T:()=>X});var d=Y(6973),fe=Y(9360),ve=Y(8251);function X(He=Me){return(0,fe.e)((Se,ct)=>{let nt=!1;Se.subscribe((0,ve.x)(ct,Ie=>{nt=!0,ct.next(Ie)},()=>nt?ct.complete():ct.error(He())))})}function Me(){return new d.K}},2460:(Pn,_t,Y)=>{Y.d(_t,{M:()=>Se});var d=Y(9360),fe=Y(8251),ve=Y(4829),X=Y(2737),Me=Y(2420),He=Y(9940);function Se(...ct){const nt=(0,He.jO)(ct);return(0,d.e)((Ie,Ae)=>{const Ke=ct.length,ft=new Array(Ke);let ze=ct.map(()=>!1),Jt=!1;for(let dt=0;dt<Ke;dt++)(0,ve.Xf)(ct[dt]).subscribe((0,fe.x)(Ae,fn=>{ft[dt]=fn,!Jt&&!ze[dt]&&(ze[dt]=!0,(Jt=ze.every(X.y))&&(ze=null))},Me.Z));Ie.subscribe((0,fe.x)(Ae,dt=>{if(Jt){const fn=[dt,...ft];Ae.next(nt?nt(...fn):fn)}}))})}},1954:(Pn,_t,Y)=>{Y.d(_t,{o:()=>Me});var d=Y(7394);class fe extends d.w0{constructor(Se,ct){super()}schedule(Se,ct=0){return this}}const ve={setInterval(He,Se,...ct){const{delegate:nt}=ve;return nt?.setInterval?nt.setInterval(He,Se,...ct):setInterval(He,Se,...ct)},clearInterval(He){const{delegate:Se}=ve;return(Se?.clearInterval||clearInterval)(He)},delegate:void 0};var X=Y(9039);class Me extends fe{constructor(Se,ct){super(Se,ct),this.scheduler=Se,this.work=ct,this.pending=!1}schedule(Se,ct=0){var nt;if(this.closed)return this;this.state=Se;const Ie=this.id,Ae=this.scheduler;return null!=Ie&&(this.id=this.recycleAsyncId(Ae,Ie,ct)),this.pending=!0,this.delay=ct,this.id=null!==(nt=this.id)&&void 0!==nt?nt:this.requestAsyncId(Ae,this.id,ct),this}requestAsyncId(Se,ct,nt=0){return ve.setInterval(Se.flush.bind(Se,this),nt)}recycleAsyncId(Se,ct,nt=0){if(null!=nt&&this.delay===nt&&!1===this.pending)return ct;null!=ct&&ve.clearInterval(ct)}execute(Se,ct){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const nt=this._execute(Se,ct);if(nt)return nt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,ct){let Ie,nt=!1;try{this.work(Se)}catch(Ae){nt=!0,Ie=Ae||new Error("Scheduled action threw falsy error")}if(nt)return this.unsubscribe(),Ie}unsubscribe(){if(!this.closed){const{id:Se,scheduler:ct}=this,{actions:nt}=ct;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(nt,this),null!=Se&&(this.id=this.recycleAsyncId(ct,Se,null)),this.delay=null,super.unsubscribe()}}}},2631:(Pn,_t,Y)=>{Y.d(_t,{v:()=>ve});var d=Y(4552);class fe{constructor(Me,He=fe.now){this.schedulerActionCtor=Me,this.now=He}schedule(Me,He=0,Se){return new this.schedulerActionCtor(this,Me).schedule(Se,He)}}fe.now=d.l.now;class ve extends fe{constructor(Me,He=fe.now){super(Me,He),this.actions=[],this._active=!1}flush(Me){const{actions:He}=this;if(this._active)return void He.push(Me);let Se;this._active=!0;do{if(Se=Me.execute(Me.state,Me.delay))break}while(Me=He.shift());if(this._active=!1,Se){for(;Me=He.shift();)Me.unsubscribe();throw Se}}}},6321:(Pn,_t,Y)=>{Y.d(_t,{P:()=>X,z:()=>ve});var d=Y(1954);const ve=new(Y(2631).v)(d.o),X=ve},4552:(Pn,_t,Y)=>{Y.d(_t,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(Pn,_t,Y)=>{Y.d(_t,{z:()=>d});const d={setTimeout(fe,ve,...X){const{delegate:Me}=d;return Me?.setTimeout?Me.setTimeout(fe,ve,...X):setTimeout(fe,ve,...X)},clearTimeout(fe){const{delegate:ve}=d;return(ve?.clearTimeout||clearTimeout)(fe)},delegate:void 0}},4971:(Pn,_t,Y)=>{Y.d(_t,{h:()=>fe});const fe=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Pn,_t,Y)=>{Y.d(_t,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(Pn,_t,Y)=>{Y.d(_t,{K:()=>fe});const fe=(0,Y(2306).d)(ve=>function(){ve(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(Pn,_t,Y)=>{Y.d(_t,{_6:()=>He,jO:()=>X,yG:()=>Me});var d=Y(4674),fe=Y(671);function ve(Se){return Se[Se.length-1]}function X(Se){return(0,d.m)(ve(Se))?Se.pop():void 0}function Me(Se){return(0,fe.K)(ve(Se))?Se.pop():void 0}function He(Se,ct){return"number"==typeof ve(Se)?Se.pop():ct}},7453:(Pn,_t,Y)=>{Y.d(_t,{D:()=>Me});const{isArray:d}=Array,{getPrototypeOf:fe,prototype:ve,keys:X}=Object;function Me(Se){if(1===Se.length){const ct=Se[0];if(d(ct))return{args:ct,keys:null};if(function He(Se){return Se&&"object"==typeof Se&&fe(Se)===ve}(ct)){const nt=X(ct);return{args:nt.map(Ie=>ct[Ie]),keys:nt}}}return{args:Se,keys:null}}},9039:(Pn,_t,Y)=>{function d(fe,ve){if(fe){const X=fe.indexOf(ve);0<=X&&fe.splice(X,1)}}Y.d(_t,{P:()=>d})},2306:(Pn,_t,Y)=>{function d(fe){const X=fe(Me=>{Error.call(Me),Me.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}Y.d(_t,{d:()=>d})},2714:(Pn,_t,Y)=>{function d(fe,ve){return fe.reduce((X,Me,He)=>(X[Me]=ve[He],X),{})}Y.d(_t,{n:()=>d})},1441:(Pn,_t,Y)=>{Y.d(_t,{O:()=>X,x:()=>ve});var d=Y(2653);let fe=null;function ve(Me){if(d.config.useDeprecatedSynchronousErrorHandling){const He=!fe;if(He&&(fe={errorThrown:!1,error:null}),Me(),He){const{errorThrown:Se,error:ct}=fe;if(fe=null,Se)throw ct}}else Me()}function X(Me){d.config.useDeprecatedSynchronousErrorHandling&&fe&&(fe.errorThrown=!0,fe.error=Me)}},7103:(Pn,_t,Y)=>{function d(fe,ve,X,Me=0,He=!1){const Se=ve.schedule(function(){X(),He?fe.add(this.schedule(null,Me)):this.unsubscribe()},Me);if(fe.add(Se),!He)return Se}Y.d(_t,{f:()=>d})},2737:(Pn,_t,Y)=>{function d(fe){return fe}Y.d(_t,{y:()=>d})},4266:(Pn,_t,Y)=>{Y.d(_t,{z:()=>d});const d=fe=>fe&&"number"==typeof fe.length&&"function"!=typeof fe},5726:(Pn,_t,Y)=>{Y.d(_t,{D:()=>fe});var d=Y(4674);function fe(ve){return Symbol.asyncIterator&&(0,d.m)(ve?.[Symbol.asyncIterator])}},4674:(Pn,_t,Y)=>{function d(fe){return"function"==typeof fe}Y.d(_t,{m:()=>d})},8382:(Pn,_t,Y)=>{Y.d(_t,{c:()=>ve});var d=Y(4850),fe=Y(4674);function ve(X){return(0,fe.m)(X[d.L])}},3664:(Pn,_t,Y)=>{Y.d(_t,{T:()=>ve});var d=Y(4971),fe=Y(4674);function ve(X){return(0,fe.m)(X?.[d.h])}},4026:(Pn,_t,Y)=>{Y.d(_t,{t:()=>fe});var d=Y(4674);function fe(ve){return(0,d.m)(ve?.then)}},541:(Pn,_t,Y)=>{Y.d(_t,{L:()=>X,Q:()=>ve});var d=Y(7582),fe=Y(4674);function ve(Me){return(0,d.FC)(this,arguments,function*(){const Se=Me.getReader();try{for(;;){const{value:ct,done:nt}=yield(0,d.qq)(Se.read());if(nt)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ct)}}finally{Se.releaseLock()}})}function X(Me){return(0,fe.m)(Me?.getReader)}},671:(Pn,_t,Y)=>{Y.d(_t,{K:()=>fe});var d=Y(4674);function fe(ve){return ve&&(0,d.m)(ve.schedule)}},9360:(Pn,_t,Y)=>{Y.d(_t,{A:()=>fe,e:()=>ve});var d=Y(4674);function fe(X){return(0,d.m)(X?.lift)}function ve(X){return Me=>{if(fe(Me))return Me.lift(function(He){try{return X(He,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Pn,_t,Y)=>{Y.d(_t,{Z:()=>X});var d=Y(7398);const{isArray:fe}=Array;function X(Me){return(0,d.U)(He=>function ve(Me,He){return fe(He)?Me(...He):Me(He)}(Me,He))}},2420:(Pn,_t,Y)=>{function d(){}Y.d(_t,{Z:()=>d})},8407:(Pn,_t,Y)=>{Y.d(_t,{U:()=>ve,z:()=>fe});var d=Y(2737);function fe(...X){return ve(X)}function ve(X){return 0===X.length?d.y:1===X.length?X[0]:function(He){return X.reduce((Se,ct)=>ct(Se),He)}}},3894:(Pn,_t,Y)=>{Y.d(_t,{h:()=>ve});var d=Y(2653),fe=Y(7599);function ve(X){fe.z.setTimeout(()=>{const{onUnhandledError:Me}=d.config;if(!Me)throw X;Me(X)})}},9853:(Pn,_t,Y)=>{function d(fe){return new TypeError(`You provided ${null!==fe&&"object"==typeof fe?"an invalid object":`'${fe}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Y.d(_t,{z:()=>d})},6814:(Pn,_t,Y)=>{Y.d(_t,{Do:()=>dt,EM:()=>xs,HT:()=>X,JF:()=>Hs,K0:()=>He,Mn:()=>Zn,Mx:()=>cs,O5:()=>Hi,PM:()=>_o,S$:()=>ft,Tn:()=>xe,UT:()=>lr,V_:()=>ct,Ye:()=>fn,ax:()=>hr,b0:()=>Jt,bD:()=>Us,ez:()=>is,p6:()=>yr,q:()=>ve,sg:()=>hr,tP:()=>Lr,w_:()=>Me,x:()=>Nt});var d=Y(5879);let fe=null;function ve(){return fe}function X(V){fe||(fe=V)}class Me{}const He=new d.OlP("DocumentToken");let Se=(()=>{var V;class ee{historyGo(Q){throw new Error("Not implemented")}}return(V=ee).\u0275fac=function(Q){return new(Q||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(nt)},providedIn:"platform"}),ee})();const ct=new d.OlP("Location Initialized");let nt=(()=>{var V;class ee extends Se{constructor(){super(),this._doc=(0,d.f3M)(He),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ve().getBaseHref(this._doc)}onPopState(Q){const Te=ve().getGlobalEventTarget(this._doc,"window");return Te.addEventListener("popstate",Q,!1),()=>Te.removeEventListener("popstate",Q)}onHashChange(Q){const Te=ve().getGlobalEventTarget(this._doc,"window");return Te.addEventListener("hashchange",Q,!1),()=>Te.removeEventListener("hashchange",Q)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Q){this._location.pathname=Q}pushState(Q,Te,G){this._history.pushState(Q,Te,G)}replaceState(Q,Te,G){this._history.replaceState(Q,Te,G)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Q=0){this._history.go(Q)}getState(){return this._history.state}}return(V=ee).\u0275fac=function(Q){return new(Q||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return new V},providedIn:"platform"}),ee})();function Ie(V,ee){if(0==V.length)return ee;if(0==ee.length)return V;let Pe=0;return V.endsWith("/")&&Pe++,ee.startsWith("/")&&Pe++,2==Pe?V+ee.substring(1):1==Pe?V+ee:V+"/"+ee}function Ae(V){const ee=V.match(/#|\?|$/),Pe=ee&&ee.index||V.length;return V.slice(0,Pe-("/"===V[Pe-1]?1:0))+V.slice(Pe)}function Ke(V){return V&&"?"!==V[0]?"?"+V:V}let ft=(()=>{var V;class ee{historyGo(Q){throw new Error("Not implemented")}}return(V=ee).\u0275fac=function(Q){return new(Q||V)},V.\u0275prov=d.Yz7({token:V,factory:function(){return(0,d.f3M)(Jt)},providedIn:"root"}),ee})();const ze=new d.OlP("appBaseHref");let Jt=(()=>{var V;class ee extends ft{constructor(Q,Te){super(),this._platformLocation=Q,this._removeListenerFns=[],this._baseHref=Te??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Q){this._removeListenerFns.push(this._platformLocation.onPopState(Q),this._platformLocation.onHashChange(Q))}getBaseHref(){return this._baseHref}prepareExternalUrl(Q){return Ie(this._baseHref,Q)}path(Q=!1){const Te=this._platformLocation.pathname+Ke(this._platformLocation.search),G=this._platformLocation.hash;return G&&Q?`${Te}${G}`:Te}pushState(Q,Te,G,ie){const de=this.prepareExternalUrl(G+Ke(ie));this._platformLocation.pushState(Q,Te,de)}replaceState(Q,Te,G,ie){const de=this.prepareExternalUrl(G+Ke(ie));this._platformLocation.replaceState(Q,Te,de)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Q=0){this._platformLocation.historyGo?.(Q)}}return(V=ee).\u0275fac=function(Q){return new(Q||V)(d.LFG(Se),d.LFG(ze,8))},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),ee})(),dt=(()=>{var V;class ee extends ft{constructor(Q,Te){super(),this._platformLocation=Q,this._baseHref="",this._removeListenerFns=[],null!=Te&&(this._baseHref=Te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Q){this._removeListenerFns.push(this._platformLocation.onPopState(Q),this._platformLocation.onHashChange(Q))}getBaseHref(){return this._baseHref}path(Q=!1){let Te=this._platformLocation.hash;return null==Te&&(Te="#"),Te.length>0?Te.substring(1):Te}prepareExternalUrl(Q){const Te=Ie(this._baseHref,Q);return Te.length>0?"#"+Te:Te}pushState(Q,Te,G,ie){let de=this.prepareExternalUrl(G+Ke(ie));0==de.length&&(de=this._platformLocation.pathname),this._platformLocation.pushState(Q,Te,de)}replaceState(Q,Te,G,ie){let de=this.prepareExternalUrl(G+Ke(ie));0==de.length&&(de=this._platformLocation.pathname),this._platformLocation.replaceState(Q,Te,de)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Q=0){this._platformLocation.historyGo?.(Q)}}return(V=ee).\u0275fac=function(Q){return new(Q||V)(d.LFG(Se),d.LFG(ze,8))},V.\u0275prov=d.Yz7({token:V,factory:V.\u0275fac}),ee})(),fn=(()=>{var V;class ee{constructor(Q){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Q;const Te=this._locationStrategy.getBaseHref();this._basePath=function Xe(V){if(new RegExp("^(https?:)?//").test(V)){const[,Pe]=V.split(/\/\/[^\/]+/);return Pe}return V}(Ae(In(Te))),this._locationStrategy.onPopState(G=>{this._subject.emit({url:this.path(!0),pop:!0,state:G.state,type:G.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Q=!1){return this.normalize(this._locationStrategy.path(Q))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Q,Te=""){return this.path()==this.normalize(Q+Ke(Te))}normalize(Q){return ee.stripTrailingSlash(function Vn(V,ee){if(!V||!ee.startsWith(V))return ee;const Pe=ee.substring(V.length);return""===Pe||["/",";","?","#"].includes(Pe[0])?Pe:ee}(this._basePath,In(Q)))}prepareExternalUrl(Q){return Q&&"/"!==Q[0]&&(Q="/"+Q),this._locationStrategy.prepareExternalUrl(Q)}go(Q,Te="",G=null){this._locationStrategy.pushState(G,"",Q,Te),this._notifyUrlChangeListeners(this.prepareExternalUrl(Q+Ke(Te)),G)}replaceState(Q,Te="",G=null){this._locationStrategy.replaceState(G,"",Q,Te),this._notifyUrlChangeListeners(this.prepareExternalUrl(Q+Ke(Te)),G)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Q=0){this._locationStrategy.historyGo?.(Q)}onUrlChange(Q){return this._urlChangeListeners.push(Q),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Te=>{this._notifyUrlChangeListeners(Te.url,Te.state)})),()=>{const Te=this._urlChangeListeners.indexOf(Q);this._urlChangeListeners.splice(Te,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Q="",Te){this._urlChangeListeners.forEach(G=>G(Q,Te))}subscribe(Q,Te,G){return this._subject.subscribe({next:Q,error:Te,complete:G})}}return(V=ee).normalizeQueryParams=Ke,V.joinWithSlash=Ie,V.stripTrailingSlash=Ae,V.\u0275fac=function(Q){return new(Q||V)(d.LFG(ft))},V.\u0275prov=d.Yz7({token:V,factory:function(){return function Kt(){return new fn((0,d.LFG)(ft))}()},providedIn:"root"}),ee})();function In(V){return V.replace(/\/index.html$/,"")}var Nt=function(V){return V[V.Format=0]="Format",V[V.Standalone=1]="Standalone",V}(Nt||{}),xe=function(V){return V[V.Narrow=0]="Narrow",V[V.Abbreviated=1]="Abbreviated",V[V.Wide=2]="Wide",V[V.Short=3]="Short",V}(xe||{}),Wt=function(V){return V[V.Short=0]="Short",V[V.Medium=1]="Medium",V[V.Long=2]="Long",V[V.Full=3]="Full",V}(Wt||{}),hn=function(V){return V[V.Decimal=0]="Decimal",V[V.Group=1]="Group",V[V.List=2]="List",V[V.PercentSign=3]="PercentSign",V[V.PlusSign=4]="PlusSign",V[V.MinusSign=5]="MinusSign",V[V.Exponential=6]="Exponential",V[V.SuperscriptingExponent=7]="SuperscriptingExponent",V[V.PerMille=8]="PerMille",V[V.Infinity=9]="Infinity",V[V.NaN=10]="NaN",V[V.TimeSeparator=11]="TimeSeparator",V[V.CurrencyDecimal=12]="CurrencyDecimal",V[V.CurrencyGroup=13]="CurrencyGroup",V}(hn||{});function Zn(V,ee,Pe){const Q=(0,d.cg1)(V),G=Ue([Q[d.wAp.DaysFormat],Q[d.wAp.DaysStandalone]],ee);return Ue(G,Pe)}function lr(V,ee,Pe){const Q=(0,d.cg1)(V),G=Ue([Q[d.wAp.MonthsFormat],Q[d.wAp.MonthsStandalone]],ee);return Ue(G,Pe)}function rt(V,ee){return Ue((0,d.cg1)(V)[d.wAp.DateFormat],ee)}function wt(V,ee){return Ue((0,d.cg1)(V)[d.wAp.TimeFormat],ee)}function at(V,ee){return Ue((0,d.cg1)(V)[d.wAp.DateTimeFormat],ee)}function Dt(V,ee){const Pe=(0,d.cg1)(V),Q=Pe[d.wAp.NumberSymbols][ee];if(typeof Q>"u"){if(ee===hn.CurrencyDecimal)return Pe[d.wAp.NumberSymbols][hn.Decimal];if(ee===hn.CurrencyGroup)return Pe[d.wAp.NumberSymbols][hn.Group]}return Q}function Wn(V){if(!V[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${V[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ue(V,ee){for(let Pe=ee;Pe>-1;Pe--)if(typeof V[Pe]<"u")return V[Pe];throw new Error("Locale data API: locale data undefined")}function Je(V){const[ee,Pe]=V.split(":");return{hours:+ee,minutes:+Pe}}const Xt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,br={},sr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var pn=function(V){return V[V.Short=0]="Short",V[V.ShortGMT=1]="ShortGMT",V[V.Long=2]="Long",V[V.Extended=3]="Extended",V}(pn||{}),Dn=function(V){return V[V.FullYear=0]="FullYear",V[V.Month=1]="Month",V[V.Date=2]="Date",V[V.Hours=3]="Hours",V[V.Minutes=4]="Minutes",V[V.Seconds=5]="Seconds",V[V.FractionalSeconds=6]="FractionalSeconds",V[V.Day=7]="Day",V}(Dn||{}),or=function(V){return V[V.DayPeriods=0]="DayPeriods",V[V.Days=1]="Days",V[V.Months=2]="Months",V[V.Eras=3]="Eras",V}(or||{});function yr(V,ee,Pe,Q){let Te=function pe(V){if(Fe(V))return V;if("number"==typeof V&&!isNaN(V))return new Date(V);if("string"==typeof V){if(V=V.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(V)){const[Te,G=1,ie=1]=V.split("-").map(de=>+de);return ui(Te,G-1,ie)}const Pe=parseFloat(V);if(!isNaN(V-Pe))return new Date(Pe);let Q;if(Q=V.match(Xt))return function he(V){const ee=new Date(0);let Pe=0,Q=0;const Te=V[8]?ee.setUTCFullYear:ee.setFullYear,G=V[8]?ee.setUTCHours:ee.setHours;V[9]&&(Pe=Number(V[9]+V[10]),Q=Number(V[9]+V[11])),Te.call(ee,Number(V[1]),Number(V[2])-1,Number(V[3]));const ie=Number(V[4]||0)-Pe,de=Number(V[5]||0)-Q,ge=Number(V[6]||0),De=Math.floor(1e3*parseFloat("0."+(V[7]||0)));return G.call(ee,ie,de,ge,De),ee}(Q)}const ee=new Date(V);if(!Fe(ee))throw new Error(`Unable to convert "${V}" into a date`);return ee}(V);ee=Ri(Pe,ee)||ee;let de,ie=[];for(;ee;){if(de=sr.exec(ee),!de){ie.push(ee);break}{ie=ie.concat(de.slice(1));const Ze=ie.pop();if(!Ze)break;ee=Ze}}let ge=Te.getTimezoneOffset();Q&&(ge=En(Q,ge),Te=function Le(V,ee,Pe){const Q=Pe?-1:1,Te=V.getTimezoneOffset();return function ar(V,ee){return(V=new Date(V.getTime())).setMinutes(V.getMinutes()+ee),V}(V,Q*(En(ee,Te)-Te))}(Te,Q,!0));let De="";return ie.forEach(Ze=>{const tt=function un(V){if(Et[V])return Et[V];let ee;switch(V){case"G":case"GG":case"GGG":ee=Mr(or.Eras,xe.Abbreviated);break;case"GGGG":ee=Mr(or.Eras,xe.Wide);break;case"GGGGG":ee=Mr(or.Eras,xe.Narrow);break;case"y":ee=$r(Dn.FullYear,1,0,!1,!0);break;case"yy":ee=$r(Dn.FullYear,2,0,!0,!0);break;case"yyy":ee=$r(Dn.FullYear,3,0,!1,!0);break;case"yyyy":ee=$r(Dn.FullYear,4,0,!1,!0);break;case"Y":ee=jt(1);break;case"YY":ee=jt(2,!0);break;case"YYY":ee=jt(3);break;case"YYYY":ee=jt(4);break;case"M":case"L":ee=$r(Dn.Month,1,1);break;case"MM":case"LL":ee=$r(Dn.Month,2,1);break;case"MMM":ee=Mr(or.Months,xe.Abbreviated);break;case"MMMM":ee=Mr(or.Months,xe.Wide);break;case"MMMMM":ee=Mr(or.Months,xe.Narrow);break;case"LLL":ee=Mr(or.Months,xe.Abbreviated,Nt.Standalone);break;case"LLLL":ee=Mr(or.Months,xe.Wide,Nt.Standalone);break;case"LLLLL":ee=Mr(or.Months,xe.Narrow,Nt.Standalone);break;case"w":ee=Ge(1);break;case"ww":ee=Ge(2);break;case"W":ee=Ge(1,!0);break;case"d":ee=$r(Dn.Date,1);break;case"dd":ee=$r(Dn.Date,2);break;case"c":case"cc":ee=$r(Dn.Day,1);break;case"ccc":ee=Mr(or.Days,xe.Abbreviated,Nt.Standalone);break;case"cccc":ee=Mr(or.Days,xe.Wide,Nt.Standalone);break;case"ccccc":ee=Mr(or.Days,xe.Narrow,Nt.Standalone);break;case"cccccc":ee=Mr(or.Days,xe.Short,Nt.Standalone);break;case"E":case"EE":case"EEE":ee=Mr(or.Days,xe.Abbreviated);break;case"EEEE":ee=Mr(or.Days,xe.Wide);break;case"EEEEE":ee=Mr(or.Days,xe.Narrow);break;case"EEEEEE":ee=Mr(or.Days,xe.Short);break;case"a":case"aa":case"aaa":ee=Mr(or.DayPeriods,xe.Abbreviated);break;case"aaaa":ee=Mr(or.DayPeriods,xe.Wide);break;case"aaaaa":ee=Mr(or.DayPeriods,xe.Narrow);break;case"b":case"bb":case"bbb":ee=Mr(or.DayPeriods,xe.Abbreviated,Nt.Standalone,!0);break;case"bbbb":ee=Mr(or.DayPeriods,xe.Wide,Nt.Standalone,!0);break;case"bbbbb":ee=Mr(or.DayPeriods,xe.Narrow,Nt.Standalone,!0);break;case"B":case"BB":case"BBB":ee=Mr(or.DayPeriods,xe.Abbreviated,Nt.Format,!0);break;case"BBBB":ee=Mr(or.DayPeriods,xe.Wide,Nt.Format,!0);break;case"BBBBB":ee=Mr(or.DayPeriods,xe.Narrow,Nt.Format,!0);break;case"h":ee=$r(Dn.Hours,1,-12);break;case"hh":ee=$r(Dn.Hours,2,-12);break;case"H":ee=$r(Dn.Hours,1);break;case"HH":ee=$r(Dn.Hours,2);break;case"m":ee=$r(Dn.Minutes,1);break;case"mm":ee=$r(Dn.Minutes,2);break;case"s":ee=$r(Dn.Seconds,1);break;case"ss":ee=$r(Dn.Seconds,2);break;case"S":ee=$r(Dn.FractionalSeconds,1);break;case"SS":ee=$r(Dn.FractionalSeconds,2);break;case"SSS":ee=$r(Dn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ee=Is(pn.Short);break;case"ZZZZZ":ee=Is(pn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ee=Is(pn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ee=Is(pn.Long);break;default:return null}return Et[V]=ee,ee}(Ze);De+=tt?tt(Te,Pe,ge):"''"===Ze?"'":Ze.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),De}function ui(V,ee,Pe){const Q=new Date(0);return Q.setFullYear(V,ee,Pe),Q.setHours(0,0,0),Q}function Ri(V,ee){const Pe=function Bn(V){return(0,d.cg1)(V)[d.wAp.LocaleId]}(V);if(br[Pe]=br[Pe]||{},br[Pe][ee])return br[Pe][ee];let Q="";switch(ee){case"shortDate":Q=rt(V,Wt.Short);break;case"mediumDate":Q=rt(V,Wt.Medium);break;case"longDate":Q=rt(V,Wt.Long);break;case"fullDate":Q=rt(V,Wt.Full);break;case"shortTime":Q=wt(V,Wt.Short);break;case"mediumTime":Q=wt(V,Wt.Medium);break;case"longTime":Q=wt(V,Wt.Long);break;case"fullTime":Q=wt(V,Wt.Full);break;case"short":const Te=Ri(V,"shortTime"),G=Ri(V,"shortDate");Q=Tr(at(V,Wt.Short),[Te,G]);break;case"medium":const ie=Ri(V,"mediumTime"),de=Ri(V,"mediumDate");Q=Tr(at(V,Wt.Medium),[ie,de]);break;case"long":const ge=Ri(V,"longTime"),De=Ri(V,"longDate");Q=Tr(at(V,Wt.Long),[ge,De]);break;case"full":const Ze=Ri(V,"fullTime"),tt=Ri(V,"fullDate");Q=Tr(at(V,Wt.Full),[Ze,tt])}return Q&&(br[Pe][ee]=Q),Q}function Tr(V,ee){return ee&&(V=V.replace(/\{([^}]+)}/g,function(Pe,Q){return null!=ee&&Q in ee?ee[Q]:Pe})),V}function ei(V,ee,Pe="-",Q,Te){let G="";(V<0||Te&&V<=0)&&(Te?V=1-V:(V=-V,G=Pe));let ie=String(V);for(;ie.length<ee;)ie="0"+ie;return Q&&(ie=ie.slice(ie.length-ee)),G+ie}function $r(V,ee,Pe=0,Q=!1,Te=!1){return function(G,ie){let de=function Yi(V,ee){switch(V){case Dn.FullYear:return ee.getFullYear();case Dn.Month:return ee.getMonth();case Dn.Date:return ee.getDate();case Dn.Hours:return ee.getHours();case Dn.Minutes:return ee.getMinutes();case Dn.Seconds:return ee.getSeconds();case Dn.FractionalSeconds:return ee.getMilliseconds();case Dn.Day:return ee.getDay();default:throw new Error(`Unknown DateType value "${V}".`)}}(V,G);if((Pe>0||de>-Pe)&&(de+=Pe),V===Dn.Hours)0===de&&-12===Pe&&(de=12);else if(V===Dn.FractionalSeconds)return function ti(V,ee){return ei(V,3).substring(0,ee)}(de,ee);const ge=Dt(ie,hn.MinusSign);return ei(de,ee,ge,Q,Te)}}function Mr(V,ee,Pe=Nt.Format,Q=!1){return function(Te,G){return function dr(V,ee,Pe,Q,Te,G){switch(Pe){case or.Months:return lr(ee,Te,Q)[V.getMonth()];case or.Days:return Zn(ee,Te,Q)[V.getDay()];case or.DayPeriods:const ie=V.getHours(),de=V.getMinutes();if(G){const De=function Pr(V){const ee=(0,d.cg1)(V);return Wn(ee),(ee[d.wAp.ExtraData][2]||[]).map(Q=>"string"==typeof Q?Je(Q):[Je(Q[0]),Je(Q[1])])}(ee),Ze=function Fn(V,ee,Pe){const Q=(0,d.cg1)(V);Wn(Q);const G=Ue([Q[d.wAp.ExtraData][0],Q[d.wAp.ExtraData][1]],ee)||[];return Ue(G,Pe)||[]}(ee,Te,Q),tt=De.findIndex(Mt=>{if(Array.isArray(Mt)){const[kt,On]=Mt,Un=ie>=kt.hours&&de>=kt.minutes,nr=ie<On.hours||ie===On.hours&&de<On.minutes;if(kt.hours<On.hours){if(Un&&nr)return!0}else if(Un||nr)return!0}else if(Mt.hours===ie&&Mt.minutes===de)return!0;return!1});if(-1!==tt)return Ze[tt]}return function vn(V,ee,Pe){const Q=(0,d.cg1)(V),G=Ue([Q[d.wAp.DayPeriodsFormat],Q[d.wAp.DayPeriodsStandalone]],ee);return Ue(G,Pe)}(ee,Te,Q)[ie<12?0:1];case or.Eras:return function Gn(V,ee){return Ue((0,d.cg1)(V)[d.wAp.Eras],ee)}(ee,Q)[V.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Pe}`)}}(Te,G,V,ee,Pe,Q)}}function Is(V){return function(ee,Pe,Q){const Te=-1*Q,G=Dt(Pe,hn.MinusSign),ie=Te>0?Math.floor(Te/60):Math.ceil(Te/60);switch(V){case pn.Short:return(Te>=0?"+":"")+ei(ie,2,G)+ei(Math.abs(Te%60),2,G);case pn.ShortGMT:return"GMT"+(Te>=0?"+":"")+ei(ie,1,G);case pn.Long:return"GMT"+(Te>=0?"+":"")+ei(ie,2,G)+":"+ei(Math.abs(Te%60),2,G);case pn.Extended:return 0===Q?"Z":(Te>=0?"+":"")+ei(ie,2,G)+":"+ei(Math.abs(Te%60),2,G);default:throw new Error(`Unknown zone width "${V}"`)}}}const Ts=0,Di=4;function yt(V){return ui(V.getFullYear(),V.getMonth(),V.getDate()+(Di-V.getDay()))}function Ge(V,ee=!1){return function(Pe,Q){let Te;if(ee){const G=new Date(Pe.getFullYear(),Pe.getMonth(),1).getDay()-1,ie=Pe.getDate();Te=1+Math.floor((ie+G)/7)}else{const G=yt(Pe),ie=function Fi(V){const ee=ui(V,Ts,1).getDay();return ui(V,0,1+(ee<=Di?Di:Di+7)-ee)}(G.getFullYear()),de=G.getTime()-ie.getTime();Te=1+Math.round(de/6048e5)}return ei(Te,V,Dt(Q,hn.MinusSign))}}function jt(V,ee=!1){return function(Pe,Q){return ei(yt(Pe).getFullYear(),V,Dt(Q,hn.MinusSign),ee)}}const Et={};function En(V,ee){V=V.replace(/:/g,"");const Pe=Date.parse("Jan 01, 1970 00:00:00 "+V)/6e4;return isNaN(Pe)?ee:Pe}function Fe(V){return V instanceof Date&&!isNaN(V.valueOf())}function cs(V,ee){ee=encodeURIComponent(ee);for(const Pe of V.split(";")){const Q=Pe.indexOf("="),[Te,G]=-1==Q?[Pe,""]:[Pe.slice(0,Q),Pe.slice(Q+1)];if(Te.trim()===ee)return decodeURIComponent(G)}return null}class Ys{constructor(ee,Pe,Q,Te){this.$implicit=ee,this.ngForOf=Pe,this.index=Q,this.count=Te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hr=(()=>{var V;class ee{set ngForOf(Q){this._ngForOf=Q,this._ngForOfDirty=!0}set ngForTrackBy(Q){this._trackByFn=Q}get ngForTrackBy(){return this._trackByFn}constructor(Q,Te,G){this._viewContainer=Q,this._template=Te,this._differs=G,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Q){Q&&(this._template=Q)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Q=this._ngForOf;!this._differ&&Q&&(this._differ=this._differs.find(Q).create(this.ngForTrackBy))}if(this._differ){const Q=this._differ.diff(this._ngForOf);Q&&this._applyChanges(Q)}}_applyChanges(Q){const Te=this._viewContainer;Q.forEachOperation((G,ie,de)=>{if(null==G.previousIndex)Te.createEmbeddedView(this._template,new Ys(G.item,this._ngForOf,-1,-1),null===de?void 0:de);else if(null==de)Te.remove(null===ie?void 0:ie);else if(null!==ie){const ge=Te.get(ie);Te.move(ge,de),$n(ge,G)}});for(let G=0,ie=Te.length;G<ie;G++){const ge=Te.get(G).context;ge.index=G,ge.count=ie,ge.ngForOf=this._ngForOf}Q.forEachIdentityChange(G=>{$n(Te.get(G.currentIndex),G)})}static ngTemplateContextGuard(Q,Te){return!0}}return(V=ee).\u0275fac=function(Q){return new(Q||V)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},V.\u0275dir=d.lG2({type:V,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),ee})();function $n(V,ee){V.context.$implicit=ee.item}let Hi=(()=>{var V;class ee{constructor(Q,Te){this._viewContainer=Q,this._context=new Li,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Te}set ngIf(Q){this._context.$implicit=this._context.ngIf=Q,this._updateView()}set ngIfThen(Q){Ja("ngIfThen",Q),this._thenTemplateRef=Q,this._thenViewRef=null,this._updateView()}set ngIfElse(Q){Ja("ngIfElse",Q),this._elseTemplateRef=Q,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Q,Te){return!0}}return(V=ee).\u0275fac=function(Q){return new(Q||V)(d.Y36(d.s_b),d.Y36(d.Rgc))},V.\u0275dir=d.lG2({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),ee})();class Li{constructor(){this.$implicit=null,this.ngIf=null}}function Ja(V,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${V} must be a TemplateRef, but received '${(0,d.AaK)(ee)}'.`)}let Lr=(()=>{var V;class ee{constructor(Q){this._viewContainerRef=Q,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Q){if(Q.ngTemplateOutlet||Q.ngTemplateOutletInjector){const Te=this._viewContainerRef;if(this._viewRef&&Te.remove(Te.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:G,ngTemplateOutletContext:ie,ngTemplateOutletInjector:de}=this;this._viewRef=Te.createEmbeddedView(G,ie,de?{injector:de}:void 0)}else this._viewRef=null}else this._viewRef&&Q.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(V=ee).\u0275fac=function(Q){return new(Q||V)(d.Y36(d.s_b))},V.\u0275dir=d.lG2({type:V,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),ee})(),is=(()=>{var V;class ee{}return(V=ee).\u0275fac=function(Q){return new(Q||V)},V.\u0275mod=d.oAB({type:V}),V.\u0275inj=d.cJS({}),ee})();const Us="browser",Ho="server";function _o(V){return V===Ho}let xs=(()=>{var V;class ee{}return(V=ee).\u0275prov=(0,d.Yz7)({token:V,providedIn:"root",factory:()=>new Ms((0,d.LFG)(He),window)}),ee})();class Ms{constructor(ee,Pe){this.document=ee,this.window=Pe,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const Pe=function va(V,ee){const Pe=V.getElementById(ee)||V.getElementsByName(ee)[0];if(Pe)return Pe;if("function"==typeof V.createTreeWalker&&V.body&&"function"==typeof V.body.attachShadow){const Q=V.createTreeWalker(V.body,NodeFilter.SHOW_ELEMENT);let Te=Q.currentNode;for(;Te;){const G=Te.shadowRoot;if(G){const ie=G.getElementById(ee)||G.querySelector(`[name="${ee}"]`);if(ie)return ie}Te=Q.nextNode()}}return null}(this.document,ee);Pe&&(this.scrollToElement(Pe),Pe.focus())}setHistoryScrollRestoration(ee){this.supportsScrolling()&&(this.window.history.scrollRestoration=ee)}scrollToElement(ee){const Pe=ee.getBoundingClientRect(),Q=Pe.left+this.window.pageXOffset,Te=Pe.top+this.window.pageYOffset,G=this.offset();this.window.scrollTo(Q-G[0],Te-G[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Hs{}},9862:(Pn,_t,Y)=>{Y.d(_t,{JF:()=>_e,eN:()=>Qe});var d=Y(5879),fe=Y(2096),ve=Y(2459),X=Y(5592),Me=Y(6328),He=Y(2181),Se=Y(7398),ct=Y(4716),nt=Y(4664),Ie=Y(6814);class Ae{}class Ke{}class ft{constructor(Ve){this.normalizedNames=new Map,this.lazyUpdate=null,Ve?"string"==typeof Ve?this.lazyInit=()=>{this.headers=new Map,Ve.split("\n").forEach(Rt=>{const Ot=Rt.indexOf(":");if(Ot>0){const an=Rt.slice(0,Ot),sn=an.toLowerCase(),qn=Rt.slice(Ot+1).trim();this.maybeSetNormalizedName(an,sn),this.headers.has(sn)?this.headers.get(sn).push(qn):this.headers.set(sn,[qn])}})}:typeof Headers<"u"&&Ve instanceof Headers?(this.headers=new Map,Ve.forEach((Rt,Ot)=>{this.setHeaderEntries(Ot,Rt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ve).forEach(([Rt,Ot])=>{this.setHeaderEntries(Rt,Ot)})}:this.headers=new Map}has(Ve){return this.init(),this.headers.has(Ve.toLowerCase())}get(Ve){this.init();const Rt=this.headers.get(Ve.toLowerCase());return Rt&&Rt.length>0?Rt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ve){return this.init(),this.headers.get(Ve.toLowerCase())||null}append(Ve,Rt){return this.clone({name:Ve,value:Rt,op:"a"})}set(Ve,Rt){return this.clone({name:Ve,value:Rt,op:"s"})}delete(Ve,Rt){return this.clone({name:Ve,value:Rt,op:"d"})}maybeSetNormalizedName(Ve,Rt){this.normalizedNames.has(Rt)||this.normalizedNames.set(Rt,Ve)}init(){this.lazyInit&&(this.lazyInit instanceof ft?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ve=>this.applyUpdate(Ve)),this.lazyUpdate=null))}copyFrom(Ve){Ve.init(),Array.from(Ve.headers.keys()).forEach(Rt=>{this.headers.set(Rt,Ve.headers.get(Rt)),this.normalizedNames.set(Rt,Ve.normalizedNames.get(Rt))})}clone(Ve){const Rt=new ft;return Rt.lazyInit=this.lazyInit&&this.lazyInit instanceof ft?this.lazyInit:this,Rt.lazyUpdate=(this.lazyUpdate||[]).concat([Ve]),Rt}applyUpdate(Ve){const Rt=Ve.name.toLowerCase();switch(Ve.op){case"a":case"s":let Ot=Ve.value;if("string"==typeof Ot&&(Ot=[Ot]),0===Ot.length)return;this.maybeSetNormalizedName(Ve.name,Rt);const an=("a"===Ve.op?this.headers.get(Rt):void 0)||[];an.push(...Ot),this.headers.set(Rt,an);break;case"d":const sn=Ve.value;if(sn){let qn=this.headers.get(Rt);if(!qn)return;qn=qn.filter(bn=>-1===sn.indexOf(bn)),0===qn.length?(this.headers.delete(Rt),this.normalizedNames.delete(Rt)):this.headers.set(Rt,qn)}else this.headers.delete(Rt),this.normalizedNames.delete(Rt)}}setHeaderEntries(Ve,Rt){const Ot=(Array.isArray(Rt)?Rt:[Rt]).map(sn=>sn.toString()),an=Ve.toLowerCase();this.headers.set(an,Ot),this.maybeSetNormalizedName(Ve,an)}forEach(Ve){this.init(),Array.from(this.normalizedNames.keys()).forEach(Rt=>Ve(this.normalizedNames.get(Rt),this.headers.get(Rt)))}}class Jt{encodeKey(Ve){return Vn(Ve)}encodeValue(Ve){return Vn(Ve)}decodeKey(Ve){return decodeURIComponent(Ve)}decodeValue(Ve){return decodeURIComponent(Ve)}}const fn=/%(\d[a-f0-9])/gi,Kt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vn(ot){return encodeURIComponent(ot).replace(fn,(Ve,Rt)=>Kt[Rt]??Ve)}function In(ot){return`${ot}`}class Xe{constructor(Ve={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ve.encoder||new Jt,Ve.fromString){if(Ve.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dt(ot,Ve){const Rt=new Map;return ot.length>0&&ot.replace(/^\?/,"").split("&").forEach(an=>{const sn=an.indexOf("="),[qn,bn]=-1==sn?[Ve.decodeKey(an),""]:[Ve.decodeKey(an.slice(0,sn)),Ve.decodeValue(an.slice(sn+1))],Gr=Rt.get(qn)||[];Gr.push(bn),Rt.set(qn,Gr)}),Rt}(Ve.fromString,this.encoder)}else Ve.fromObject?(this.map=new Map,Object.keys(Ve.fromObject).forEach(Rt=>{const Ot=Ve.fromObject[Rt],an=Array.isArray(Ot)?Ot.map(In):[In(Ot)];this.map.set(Rt,an)})):this.map=null}has(Ve){return this.init(),this.map.has(Ve)}get(Ve){this.init();const Rt=this.map.get(Ve);return Rt?Rt[0]:null}getAll(Ve){return this.init(),this.map.get(Ve)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ve,Rt){return this.clone({param:Ve,value:Rt,op:"a"})}appendAll(Ve){const Rt=[];return Object.keys(Ve).forEach(Ot=>{const an=Ve[Ot];Array.isArray(an)?an.forEach(sn=>{Rt.push({param:Ot,value:sn,op:"a"})}):Rt.push({param:Ot,value:an,op:"a"})}),this.clone(Rt)}set(Ve,Rt){return this.clone({param:Ve,value:Rt,op:"s"})}delete(Ve,Rt){return this.clone({param:Ve,value:Rt,op:"d"})}toString(){return this.init(),this.keys().map(Ve=>{const Rt=this.encoder.encodeKey(Ve);return this.map.get(Ve).map(Ot=>Rt+"="+this.encoder.encodeValue(Ot)).join("&")}).filter(Ve=>""!==Ve).join("&")}clone(Ve){const Rt=new Xe({encoder:this.encoder});return Rt.cloneFrom=this.cloneFrom||this,Rt.updates=(this.updates||[]).concat(Ve),Rt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ve=>this.map.set(Ve,this.cloneFrom.map.get(Ve))),this.updates.forEach(Ve=>{switch(Ve.op){case"a":case"s":const Rt=("a"===Ve.op?this.map.get(Ve.param):void 0)||[];Rt.push(In(Ve.value)),this.map.set(Ve.param,Rt);break;case"d":if(void 0===Ve.value){this.map.delete(Ve.param);break}{let Ot=this.map.get(Ve.param)||[];const an=Ot.indexOf(In(Ve.value));-1!==an&&Ot.splice(an,1),Ot.length>0?this.map.set(Ve.param,Ot):this.map.delete(Ve.param)}}}),this.cloneFrom=this.updates=null)}}class gt{constructor(){this.map=new Map}set(Ve,Rt){return this.map.set(Ve,Rt),this}get(Ve){return this.map.has(Ve)||this.map.set(Ve,Ve.defaultValue()),this.map.get(Ve)}delete(Ve){return this.map.delete(Ve),this}has(Ve){return this.map.has(Ve)}keys(){return this.map.keys()}}function Nt(ot){return typeof ArrayBuffer<"u"&&ot instanceof ArrayBuffer}function xe(ot){return typeof Blob<"u"&&ot instanceof Blob}function Wt(ot){return typeof FormData<"u"&&ot instanceof FormData}class zn{constructor(Ve,Rt,Ot,an){let sn;if(this.url=Rt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ve.toUpperCase(),function mt(ot){switch(ot){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||an?(this.body=void 0!==Ot?Ot:null,sn=an):sn=Ot,sn&&(this.reportProgress=!!sn.reportProgress,this.withCredentials=!!sn.withCredentials,sn.responseType&&(this.responseType=sn.responseType),sn.headers&&(this.headers=sn.headers),sn.context&&(this.context=sn.context),sn.params&&(this.params=sn.params)),this.headers||(this.headers=new ft),this.context||(this.context=new gt),this.params){const qn=this.params.toString();if(0===qn.length)this.urlWithParams=Rt;else{const bn=Rt.indexOf("?");this.urlWithParams=Rt+(-1===bn?"?":bn<Rt.length-1?"&":"")+qn}}else this.params=new Xe,this.urlWithParams=Rt}serializeBody(){return null===this.body?null:Nt(this.body)||xe(this.body)||Wt(this.body)||function hn(ot){return typeof URLSearchParams<"u"&&ot instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Wt(this.body)?null:xe(this.body)?this.body.type||null:Nt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ve={}){const Rt=Ve.method||this.method,Ot=Ve.url||this.url,an=Ve.responseType||this.responseType,sn=void 0!==Ve.body?Ve.body:this.body,qn=void 0!==Ve.withCredentials?Ve.withCredentials:this.withCredentials,bn=void 0!==Ve.reportProgress?Ve.reportProgress:this.reportProgress;let Gr=Ve.headers||this.headers,Wr=Ve.params||this.params;const Gi=Ve.context??this.context;return void 0!==Ve.setHeaders&&(Gr=Object.keys(Ve.setHeaders).reduce((Rs,ri)=>Rs.set(ri,Ve.setHeaders[ri]),Gr)),Ve.setParams&&(Wr=Object.keys(Ve.setParams).reduce((Rs,ri)=>Rs.set(ri,Ve.setParams[ri]),Wr)),new zn(Rt,Ot,sn,{params:Wr,headers:Gr,context:Gi,reportProgress:bn,responseType:an,withCredentials:qn})}}var Bn=function(ot){return ot[ot.Sent=0]="Sent",ot[ot.UploadProgress=1]="UploadProgress",ot[ot.ResponseHeader=2]="ResponseHeader",ot[ot.DownloadProgress=3]="DownloadProgress",ot[ot.Response=4]="Response",ot[ot.User=5]="User",ot}(Bn||{});class vn{constructor(Ve,Rt=200,Ot="OK"){this.headers=Ve.headers||new ft,this.status=void 0!==Ve.status?Ve.status:Rt,this.statusText=Ve.statusText||Ot,this.url=Ve.url||null,this.ok=this.status>=200&&this.status<300}}class Zn extends vn{constructor(Ve={}){super(Ve),this.type=Bn.ResponseHeader}clone(Ve={}){return new Zn({headers:Ve.headers||this.headers,status:void 0!==Ve.status?Ve.status:this.status,statusText:Ve.statusText||this.statusText,url:Ve.url||this.url||void 0})}}class lr extends vn{constructor(Ve={}){super(Ve),this.type=Bn.Response,this.body=void 0!==Ve.body?Ve.body:null}clone(Ve={}){return new lr({body:void 0!==Ve.body?Ve.body:this.body,headers:Ve.headers||this.headers,status:void 0!==Ve.status?Ve.status:this.status,statusText:Ve.statusText||this.statusText,url:Ve.url||this.url||void 0})}}class Gn extends vn{constructor(Ve){super(Ve,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ve.url||"(unknown url)"}`:`Http failure response for ${Ve.url||"(unknown url)"}: ${Ve.status} ${Ve.statusText}`,this.error=Ve.error||null}}function Ln(ot,Ve){return{body:Ve,headers:ot.headers,context:ot.context,observe:ot.observe,params:ot.params,reportProgress:ot.reportProgress,responseType:ot.responseType,withCredentials:ot.withCredentials}}let Qe=(()=>{var ot;class Ve{constructor(Ot){this.handler=Ot}request(Ot,an,sn={}){let qn;if(Ot instanceof zn)qn=Ot;else{let Wr,Gi;Wr=sn.headers instanceof ft?sn.headers:new ft(sn.headers),sn.params&&(Gi=sn.params instanceof Xe?sn.params:new Xe({fromObject:sn.params})),qn=new zn(Ot,an,void 0!==sn.body?sn.body:null,{headers:Wr,context:sn.context,params:Gi,reportProgress:sn.reportProgress,responseType:sn.responseType||"json",withCredentials:sn.withCredentials})}const bn=(0,fe.of)(qn).pipe((0,Me.b)(Wr=>this.handler.handle(Wr)));if(Ot instanceof zn||"events"===sn.observe)return bn;const Gr=bn.pipe((0,He.h)(Wr=>Wr instanceof lr));switch(sn.observe||"body"){case"body":switch(qn.responseType){case"arraybuffer":return Gr.pipe((0,Se.U)(Wr=>{if(null!==Wr.body&&!(Wr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Wr.body}));case"blob":return Gr.pipe((0,Se.U)(Wr=>{if(null!==Wr.body&&!(Wr.body instanceof Blob))throw new Error("Response is not a Blob.");return Wr.body}));case"text":return Gr.pipe((0,Se.U)(Wr=>{if(null!==Wr.body&&"string"!=typeof Wr.body)throw new Error("Response is not a string.");return Wr.body}));default:return Gr.pipe((0,Se.U)(Wr=>Wr.body))}case"response":return Gr;default:throw new Error(`Unreachable: unhandled observe type ${sn.observe}}`)}}delete(Ot,an={}){return this.request("DELETE",Ot,an)}get(Ot,an={}){return this.request("GET",Ot,an)}head(Ot,an={}){return this.request("HEAD",Ot,an)}jsonp(Ot,an){return this.request("JSONP",Ot,{params:(new Xe).append(an,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ot,an={}){return this.request("OPTIONS",Ot,an)}patch(Ot,an,sn={}){return this.request("PATCH",Ot,Ln(sn,an))}post(Ot,an,sn={}){return this.request("POST",Ot,Ln(sn,an))}put(Ot,an,sn={}){return this.request("PUT",Ot,Ln(sn,an))}}return(ot=Ve).\u0275fac=function(Ot){return new(Ot||ot)(d.LFG(Ae))},ot.\u0275prov=d.Yz7({token:ot,factory:ot.\u0275fac}),Ve})();function Zr(ot,Ve){return Ve(ot)}function cr(ot,Ve){return(Rt,Ot)=>Ve.intercept(Rt,{handle:an=>ot(an,Ot)})}const Wn=new d.OlP(""),Pr=new d.OlP(""),Fn=new d.OlP("");function Br(){let ot=null;return(Ve,Rt)=>{null===ot&&(ot=((0,d.f3M)(Wn,{optional:!0})??[]).reduceRight(cr,Zr));const Ot=(0,d.f3M)(d.HDt),an=Ot.add();return ot(Ve,Rt).pipe((0,ct.x)(()=>Ot.remove(an)))}}let Ue=(()=>{var ot;class Ve extends Ae{constructor(Ot,an){super(),this.backend=Ot,this.injector=an,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(Ot){if(null===this.chain){const sn=Array.from(new Set([...this.injector.get(Pr),...this.injector.get(Fn,[])]));this.chain=sn.reduceRight((qn,bn)=>function _r(ot,Ve,Rt){return(Ot,an)=>Rt.runInContext(()=>Ve(Ot,sn=>ot(sn,an)))}(qn,bn,this.injector),Zr)}const an=this.pendingTasks.add();return this.chain(Ot,sn=>this.backend.handle(sn)).pipe((0,ct.x)(()=>this.pendingTasks.remove(an)))}}return(ot=Ve).\u0275fac=function(Ot){return new(Ot||ot)(d.LFG(Ke),d.LFG(d.lqb))},ot.\u0275prov=d.Yz7({token:ot,factory:ot.\u0275fac}),Ve})();const ui=/^\)\]\}',?\n/;let Tr=(()=>{var ot;class Ve{constructor(Ot){this.xhrFactory=Ot}handle(Ot){if("JSONP"===Ot.method)throw new d.vHH(-2800,!1);const an=this.xhrFactory;return(an.\u0275loadImpl?(0,ve.D)(an.\u0275loadImpl()):(0,fe.of)(null)).pipe((0,nt.w)(()=>new X.y(qn=>{const bn=an.build();if(bn.open(Ot.method,Ot.urlWithParams),Ot.withCredentials&&(bn.withCredentials=!0),Ot.headers.forEach((_i,ni)=>bn.setRequestHeader(_i,ni.join(","))),Ot.headers.has("Accept")||bn.setRequestHeader("Accept","application/json, text/plain, */*"),!Ot.headers.has("Content-Type")){const _i=Ot.detectContentTypeHeader();null!==_i&&bn.setRequestHeader("Content-Type",_i)}if(Ot.responseType){const _i=Ot.responseType.toLowerCase();bn.responseType="json"!==_i?_i:"text"}const Gr=Ot.serializeBody();let Wr=null;const Gi=()=>{if(null!==Wr)return Wr;const _i=bn.statusText||"OK",ni=new ft(bn.getAllResponseHeaders()),Ps=function Ri(ot){return"responseURL"in ot&&ot.responseURL?ot.responseURL:/^X-Request-URL:/m.test(ot.getAllResponseHeaders())?ot.getResponseHeader("X-Request-URL"):null}(bn)||Ot.url;return Wr=new Zn({headers:ni,status:bn.status,statusText:_i,url:Ps}),Wr},Rs=()=>{let{headers:_i,status:ni,statusText:Ps,url:Ys}=Gi(),hr=null;204!==ni&&(hr=typeof bn.response>"u"?bn.responseText:bn.response),0===ni&&(ni=hr?200:0);let $n=ni>=200&&ni<300;if("json"===Ot.responseType&&"string"==typeof hr){const Kr=hr;hr=hr.replace(ui,"");try{hr=""!==hr?JSON.parse(hr):null}catch(Hi){hr=Kr,$n&&($n=!1,hr={error:Hi,text:hr})}}$n?(qn.next(new lr({body:hr,headers:_i,status:ni,statusText:Ps,url:Ys||void 0})),qn.complete()):qn.error(new Gn({error:hr,headers:_i,status:ni,statusText:Ps,url:Ys||void 0}))},ri=_i=>{const{url:ni}=Gi(),Ps=new Gn({error:_i,status:bn.status||0,statusText:bn.statusText||"Unknown Error",url:ni||void 0});qn.error(Ps)};let cs=!1;const Bs=_i=>{cs||(qn.next(Gi()),cs=!0);let ni={type:Bn.DownloadProgress,loaded:_i.loaded};_i.lengthComputable&&(ni.total=_i.total),"text"===Ot.responseType&&bn.responseText&&(ni.partialText=bn.responseText),qn.next(ni)},rs=_i=>{let ni={type:Bn.UploadProgress,loaded:_i.loaded};_i.lengthComputable&&(ni.total=_i.total),qn.next(ni)};return bn.addEventListener("load",Rs),bn.addEventListener("error",ri),bn.addEventListener("timeout",ri),bn.addEventListener("abort",ri),Ot.reportProgress&&(bn.addEventListener("progress",Bs),null!==Gr&&bn.upload&&bn.upload.addEventListener("progress",rs)),bn.send(Gr),qn.next({type:Bn.Sent}),()=>{bn.removeEventListener("error",ri),bn.removeEventListener("abort",ri),bn.removeEventListener("load",Rs),bn.removeEventListener("timeout",ri),Ot.reportProgress&&(bn.removeEventListener("progress",Bs),null!==Gr&&bn.upload&&bn.upload.removeEventListener("progress",rs)),bn.readyState!==bn.DONE&&bn.abort()}})))}}return(ot=Ve).\u0275fac=function(Ot){return new(Ot||ot)(d.LFG(Ie.JF))},ot.\u0275prov=d.Yz7({token:ot,factory:ot.\u0275fac}),Ve})();const ei=new d.OlP("XSRF_ENABLED"),$r=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Mr=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class dr{}let Is=(()=>{var ot;class Ve{constructor(Ot,an,sn){this.doc=Ot,this.platform=an,this.cookieName=sn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ot=this.doc.cookie||"";return Ot!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Ie.Mx)(Ot,this.cookieName),this.lastCookieString=Ot),this.lastToken}}return(ot=Ve).\u0275fac=function(Ot){return new(Ot||ot)(d.LFG(Ie.K0),d.LFG(d.Lbi),d.LFG($r))},ot.\u0275prov=d.Yz7({token:ot,factory:ot.\u0275fac}),Ve})();function Ts(ot,Ve){const Rt=ot.url.toLowerCase();if(!(0,d.f3M)(ei)||"GET"===ot.method||"HEAD"===ot.method||Rt.startsWith("http://")||Rt.startsWith("https://"))return Ve(ot);const Ot=(0,d.f3M)(dr).getToken(),an=(0,d.f3M)(Mr);return null!=Ot&&!ot.headers.has(an)&&(ot=ot.clone({headers:ot.headers.set(an,Ot)})),Ve(ot)}var Fi=function(ot){return ot[ot.Interceptors=0]="Interceptors",ot[ot.LegacyInterceptors=1]="LegacyInterceptors",ot[ot.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ot[ot.NoXsrfProtection=3]="NoXsrfProtection",ot[ot.JsonpSupport=4]="JsonpSupport",ot[ot.RequestsMadeViaParent=5]="RequestsMadeViaParent",ot[ot.Fetch=6]="Fetch",ot}(Fi||{});function yt(ot,Ve){return{\u0275kind:ot,\u0275providers:Ve}}function Ge(...ot){const Ve=[Qe,Tr,Ue,{provide:Ae,useExisting:Ue},{provide:Ke,useExisting:Tr},{provide:Pr,useValue:Ts,multi:!0},{provide:ei,useValue:!0},{provide:dr,useClass:Is}];for(const Rt of ot)Ve.push(...Rt.\u0275providers);return(0,d.MR2)(Ve)}const Et=new d.OlP("LEGACY_INTERCEPTOR_FN");let _e=(()=>{var ot;class Ve{}return(ot=Ve).\u0275fac=function(Ot){return new(Ot||ot)},ot.\u0275mod=d.oAB({type:ot}),ot.\u0275inj=d.cJS({providers:[Ge(yt(Fi.LegacyInterceptors,[{provide:Et,useFactory:Br},{provide:Pr,useExisting:Et,multi:!0}]))]}),Ve})()},5879:(Pn,_t,Y)=>{Y.d(_t,{$8M:()=>nd,$WT:()=>Hr,$Z:()=>CI,AFp:()=>cm,AaK:()=>Ke,BQk:()=>GE,CHM:()=>yc,CRH:()=>op,EJc:()=>L1,EiD:()=>Nf,EpF:()=>nT,F$t:()=>eD,F4k:()=>QC,FYo:()=>oy,FiY:()=>Yt,Gf:()=>zw,GfV:()=>ly,Gpc:()=>Jt,HDt:()=>lA,Hsn:()=>tD,Ikx:()=>rc,JOm:()=>Kd,JVY:()=>Qd,JZr:()=>In,KtG:()=>Wa,L6k:()=>Ad,LAX:()=>Ru,LFG:()=>nn,LMc:()=>DA,LSH:()=>j0,Lbi:()=>X_,Lck:()=>ND,MAs:()=>GC,MGl:()=>WE,MMx:()=>Fd,MR2:()=>z0,NdJ:()=>zE,Ojb:()=>sC,OlP:()=>ea,Oqu:()=>zy,P3R:()=>G0,PXZ:()=>lb,Q6J:()=>XI,QGY:()=>HE,QbO:()=>K0,Qsj:()=>dC,R0b:()=>nc,RDi:()=>Pi,Rgc:()=>hh,SBq:()=>Bf,SDv:()=>Dw,Sil:()=>cA,Suo:()=>qi,TTD:()=>Ze,TgZ:()=>rf,Tol:()=>fg,VKq:()=>kw,VuI:()=>wA,W1O:()=>I1,WLB:()=>lf,X6Q:()=>kg,XFs:()=>pn,Xpm:()=>fo,Xq5:()=>Nm,Xts:()=>im,Y36:()=>Zh,YKP:()=>XT,YNc:()=>UC,Yjl:()=>xa,Yz7:()=>Wn,Z0I:()=>Ue,ZZ4:()=>Nh,_Bn:()=>Rw,_UZ:()=>eT,_c5:()=>yl,_uU:()=>vT,aQg:()=>r0,c2e:()=>d_,cJS:()=>Fn,cg1:()=>iv,dDg:()=>j1,dqk:()=>Tr,eBb:()=>Vc,eFA:()=>db,eJc:()=>qw,ekj:()=>Hm,eoX:()=>Za,f3M:()=>xn,g9A:()=>q0,h0i:()=>tp,hGG:()=>s0,hij:()=>Wy,iGM:()=>w1,ifc:()=>sn,ip1:()=>eb,jDz:()=>t1,kEZ:()=>Fw,kL8:()=>RT,lG2:()=>No,lqb:()=>Pd,lri:()=>sb,mCW:()=>Xc,n5z:()=>td,oAB:()=>go,oJD:()=>qh,oxw:()=>XC,pB0:()=>Eh,q3G:()=>Xd,q4F:()=>iE,qFp:()=>pS,qLn:()=>ju,qOj:()=>HI,qZA:()=>dg,qzn:()=>tc,rWj:()=>Rc,rg0:()=>Te,s9C:()=>sT,sBO:()=>pp,s_b:()=>Ld,soG:()=>Aa,tb:()=>Wv,tp0:()=>Kn,uIk:()=>Th,vHH:()=>Xe,vpe:()=>_u,wAp:()=>uh,xp6:()=>TI,ynx:()=>By,z2F:()=>gf,z3N:()=>Ka,zSh:()=>sm,zW0:()=>ME,zs3:()=>fd});var d=Y(8645),fe=Y(7394),ve=Y(5592),X=Y(3019),Me=Y(5619),He=Y(2096),Se=Y(3020),ct=Y(4664),nt=Y(3997);function Ie(i){for(let o in i)if(i[o]===Ie)return o;throw Error("Could not find renamed property on target object.")}function Ae(i,o){for(const l in o)o.hasOwnProperty(l)&&!i.hasOwnProperty(l)&&(i[l]=o[l])}function Ke(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ke).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function ft(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const ze=Ie({__forward_ref__:Ie});function Jt(i){return i.__forward_ref__=Jt,i.toString=function(){return Ke(this())},i}function dt(i){return fn(i)?i():i}function fn(i){return"function"==typeof i&&i.hasOwnProperty(ze)&&i.__forward_ref__===Jt}function Kt(i){return i&&!!i.\u0275providers}const In="https://g.co/ng/security#xss";class Xe extends Error{constructor(o,l){super(function Tt(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,l)),this.code=o}}function gt(i){return"string"==typeof i?i:null==i?"":String(i)}function hn(i,o){throw new Xe(-201,!1)}function gn(i,o,l,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}function Wn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Fn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Br(i){return Je(i,xt)||Je(i,br)}function Ue(i){return null!==Br(i)}function Je(i,o){return i.hasOwnProperty(o)?i[o]:null}function Ft(i){return i&&(i.hasOwnProperty(Xt)||i.hasOwnProperty(sr))?i[Xt]:null}const xt=Ie({\u0275prov:Ie}),Xt=Ie({\u0275inj:Ie}),br=Ie({ngInjectableDef:Ie}),sr=Ie({ngInjectorDef:Ie});var pn=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(pn||{});let Dn;function yr(i){const o=Dn;return Dn=i,o}function ui(i,o,l){const u=Br(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&pn.Optional?null:void 0!==o?o:void hn(Ke(i))}const Tr=globalThis,Et={},un="__NG_DI_FLAG__",En="ngTempTokenPath",Le=/\n/gm,he="__source";let Fe;function We(i){const o=Fe;return Fe=i,o}function Vt(i,o=pn.Default){if(void 0===Fe)throw new Xe(-203,!1);return null===Fe?ui(i,void 0,o):Fe.get(i,o&pn.Optional?null:void 0,o)}function nn(i,o=pn.Default){return(function or(){return Dn}()||Vt)(dt(i),o)}function xn(i,o=pn.Default){return nn(i,oi(o))}function oi(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function pr(i){const o=[];for(let l=0;l<i.length;l++){const u=dt(i[l]);if(Array.isArray(u)){if(0===u.length)throw new Xe(900,!1);let h,v=pn.Default;for(let x=0;x<u.length;x++){const N=u[x],z=ot(N);"number"==typeof z?-1===z?h=N.token:v|=z:h=N}o.push(nn(h,v))}else o.push(nn(u))}return o}function xi(i,o){return i[un]=o,i.prototype[un]=o,i}function ot(i){return i[un]}function Ot(i){return{toString:i}.toString()}var an=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(an||{}),sn=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(sn||{});const qn={},bn=[],Gr=Ie({\u0275cmp:Ie}),Wr=Ie({\u0275dir:Ie}),Gi=Ie({\u0275pipe:Ie}),Rs=Ie({\u0275mod:Ie}),ri=Ie({\u0275fac:Ie}),cs=Ie({__NG_ELEMENT_ID__:Ie}),Bs=Ie({__NG_ENV_ID__:Ie});function rs(i,o,l){let u=i.length;for(;;){const h=i.indexOf(o,l);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const v=o.length;if(h+v===u||i.charCodeAt(h+v)<=32)return h}l=h+1}}function _i(i,o,l){let u=0;for(;u<l.length;){const h=l[u];if("number"==typeof h){if(0!==h)break;u++;const v=l[u++],x=l[u++],N=l[u++];i.setAttribute(o,x,N,v)}else{const v=h,x=l[++u];Ps(v)?i.setProperty(o,v,x):i.setAttribute(o,v,x),u++}}return u}function ni(i){return 3===i||4===i||6===i}function Ps(i){return 64===i.charCodeAt(0)}function Ys(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||hr(i,l,h,null,-1===l||2===l?o[++u]:null)}}return i}function hr(i,o,l,u,h){let v=0,x=i.length;if(-1===o)x=-1;else for(;v<i.length;){const N=i[v++];if("number"==typeof N){if(N===o){x=-1;break}if(N>o){x=v-1;break}}}for(;v<i.length;){const N=i[v];if("number"==typeof N)break;if(N===l){if(null===u)return void(null!==h&&(i[v+1]=h));if(u===i[v+1])return void(i[v+2]=h)}v++,null!==u&&v++,null!==h&&v++}-1!==x&&(i.splice(x,0,o),v=x+1),i.splice(v++,0,l),null!==u&&i.splice(v++,0,u),null!==h&&i.splice(v++,0,h)}const $n="ng-template";function Kr(i,o,l){let u=0,h=!0;for(;u<i.length;){let v=i[u++];if("string"==typeof v&&h){const x=i[u++];if(l&&"class"===v&&-1!==rs(x.toLowerCase(),o,0))return!0}else{if(1===v){for(;u<i.length&&"string"==typeof(v=i[u++]);)if(v.toLowerCase()===o)return!0;return!1}"number"==typeof v&&(h=!1)}}return!1}function Hi(i){return 4===i.type&&i.value!==$n}function Li(i,o,l){return o===(4!==i.type||l?i.value:$n)}function Ja(i,o,l){let u=4;const h=i.attrs||[],v=function Gt(i){for(let o=0;o<i.length;o++)if(ni(i[o]))return o;return i.length}(h);let x=!1;for(let N=0;N<o.length;N++){const z=o[N];if("number"!=typeof z){if(!x)if(4&u){if(u=2|1&u,""!==z&&!Li(i,z,l)||""===z&&1===o.length){if(it(u))return!1;x=!0}}else{const se=8&u?z:o[++N];if(8&u&&null!==i.attrs){if(!Kr(i.attrs,se,l)){if(it(u))return!1;x=!0}continue}const ke=Ye(8&u?"class":z,h,Hi(i),l);if(-1===ke){if(it(u))return!1;x=!0;continue}if(""!==se){let lt;lt=ke>v?"":h[ke+1].toLowerCase();const At=8&u?lt:null;if(At&&-1!==rs(At,se,0)||2&u&&se!==lt){if(it(u))return!1;x=!0}}}}else{if(!x&&!it(u)&&!it(z))return!1;if(x&&it(z))continue;x=!1,u=z|1&u}}return it(u)||x}function it(i){return 0==(1&i)}function Ye(i,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let v=!1;for(;h<o.length;){const x=o[h];if(x===i)return h;if(3===x||6===x)v=!0;else{if(1===x||2===x){let N=o[++h];for(;"string"==typeof N;)N=o[++h];continue}if(4===x)break;if(0===x){h+=4;continue}}h+=v?1:2}return-1}return function er(i,o){let l=i.indexOf(4);if(l>-1)for(l++;l<i.length;){const u=i[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,i)}function It(i,o,l=!1){for(let u=0;u<o.length;u++)if(Ja(i,o[u],l))return!0;return!1}function gi(i,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(i.length===u.length){for(let h=0;h<i.length;h++)if(i[h]!==u[h])continue e;return!0}}return!1}function di(i,o){return i?":not("+o.trim()+")":o}function Lr(i){let o=i[0],l=1,u=2,h="",v=!1;for(;l<i.length;){let x=i[l];if("string"==typeof x)if(2&u){const N=i[++l];h+="["+x+(N.length>0?'="'+N+'"':"")+"]"}else 8&u?h+="."+x:4&u&&(h+=" "+x);else""!==h&&!it(x)&&(o+=di(v,h),h=""),u=x,v=v||!it(u);l++}return""!==h&&(o+=di(v,h)),o}function fo(i){return Ot(()=>{const o=ra(i),l={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===an.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||sn.Emulated,styles:i.styles||bn,_:null,schemas:i.schemas||null,tView:null,id:""};da(l);const u=i.dependencies;return l.directiveDefs=Zi(u,!1),l.pipeDefs=Zi(u,!0),l.id=function ji(i){let o=0;const l=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of l)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(l),l})}function po(i){return hi(i)||us(i)}function La(i){return null!==i}function go(i){return Ot(()=>({type:i.type,bootstrap:i.bootstrap||bn,declarations:i.declarations||bn,imports:i.imports||bn,exports:i.exports||bn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function na(i,o){if(null==i)return qn;const l={};for(const u in i)if(i.hasOwnProperty(u)){let h=i[u],v=h;Array.isArray(h)&&(v=h[1],h=h[0]),l[h]=u,o&&(o[h]=v)}return l}function No(i){return Ot(()=>{const o=ra(i);return da(o),o})}function xa(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function hi(i){return i[Gr]||null}function us(i){return i[Wr]||null}function Ci(i){return i[Gi]||null}function Hr(i){const o=hi(i)||us(i)||Ci(i);return null!==o&&o.standalone}function _s(i,o){const l=i[Rs]||null;if(!l&&!0===o)throw new Error(`Type ${Ke(i)} does not have '\u0275mod' property.`);return l}function ra(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||qn,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||bn,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:na(i.inputs,o),outputs:na(i.outputs)}}function da(i){i.features?.forEach(o=>o(i))}function Zi(i,o){if(!i)return null;const l=o?Ci:po;return()=>("function"==typeof i?i():i).map(u=>l(u)).filter(La)}const Oi=0,wn=1,Yr=2,Ai=3,Nr=4,ia=5,Vi=6,mo=7,is=8,Us=9,Ho=10,Rr=11,ko=12,el=13,_o=14,Ur=15,ya=16,Gs=17,xs=18,Ms=19,va=20,io=21,Hs=22,Fr=23,yo=24,ii=25,Ji=1,Ba=2,so=7,Ea=9,ps=11;function gs(i){return Array.isArray(i)&&"object"==typeof i[Ji]}function Ni(i){return Array.isArray(i)&&!0===i[Ji]}function zo(i){return 0!=(4&i.flags)}function oo(i){return i.componentOffset>-1}function Bi(i){return 1==(1&i.flags)}function zs(i){return!!i.template}function ba(i){return 0!=(512&i[Yr])}function Ws(i,o){return i.hasOwnProperty(ri)?i[ri]:null}let ds=null,sa=!1;function ys(i){const o=ds;return ds=i,o}const pa={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function $a(i){if(!bi(i)||i.dirty){if(!i.producerMustRecompute(i)&&!Il(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Pa(i){i.dirty=!0,function Ia(i){if(void 0===i.liveConsumerNode)return;const o=sa;sa=!0;try{for(const l of i.liveConsumerNode)l.dirty||Pa(l)}finally{sa=o}}(i),i.consumerMarkedDirty?.(i)}function cl(i){return i&&(i.nextProducerIndex=0),ys(i)}function js(i,o){if(ys(o),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(bi(i))for(let l=i.nextProducerIndex;l<i.producerNode.length;l++)nl(i.producerNode[l],i.producerIndexOfThis[l]);for(let l=i.nextProducerIndex;l<i.producerNode.length;l++)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Il(i){Js(i);for(let o=0;o<i.producerNode.length;o++){const l=i.producerNode[o],u=i.producerLastReadVersion[o];if(u!==l.version||($a(l),u!==l.version))return!0}return!1}function Fs(i){if(Js(i),bi(i))for(let o=0;o<i.producerNode.length;o++)nl(i.producerNode[o],i.producerIndexOfThis[o]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function nl(i,o){if(function qo(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),Js(i),1===i.liveConsumerNode.length)for(let u=0;u<i.producerNode.length;u++)nl(i.producerNode[u],i.producerIndexOfThis[u]);const l=i.liveConsumerNode.length-1;if(i.liveConsumerNode[o]=i.liveConsumerNode[l],i.liveConsumerIndexOfThis[o]=i.liveConsumerIndexOfThis[l],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,o<i.liveConsumerNode.length){const u=i.liveConsumerIndexOfThis[o],h=i.liveConsumerNode[o];Js(h),h.producerIndexOfThis[u]=o}}function bi(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Js(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Yl=null;function Te(i){const o=ys(null);try{return i()}finally{ys(o)}}const ie=()=>{},de={...pa,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:ie};class De{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ze(){return tt}function tt(i){return i.type.prototype.ngOnChanges&&(i.setInput=kt),Mt}function Mt(){const i=Un(this),o=i?.current;if(o){const l=i.previous;if(l===qn)i.previous=o;else for(let u in o)l[u]=o[u];i.current=null,this.ngOnChanges(o)}}function kt(i,o,l,u){const h=this.declaredInputs[l],v=Un(i)||function nr(i,o){return i[On]=o}(i,{previous:qn,current:null}),x=v.current||(v.current={}),N=v.previous,z=N[h];x[h]=new De(z&&z.currentValue,o,N===qn),i[u]=o}Ze.ngInherit=!0;const On="__ngSimpleChanges__";function Un(i){return i[On]||null}const Jr=function(i,o,l){};function $t(i){for(;Array.isArray(i);)i=i[Oi];return i}function Wi(i,o){return $t(o[i])}function hs(i,o){return $t(o[i.index])}function Er(i,o){return i.data[o]}function Sn(i,o){const l=o[i];return gs(l)?l:l[Oi]}function rl(i,o){return null==o?null:i[o]}function za(i){i[Gs]=0}function Gc(i){1024&i[Yr]||(i[Yr]|=1024,Ao(i,1))}function md(i){1024&i[Yr]&&(i[Yr]&=-1025,Ao(i,-1))}function Ao(i,o){let l=i[Ai];if(null===l)return;l[ia]+=o;let u=l;for(l=l[Ai];null!==l&&(1===o&&1===u[ia]||-1===o&&0===u[ia]);)l[ia]+=o,u=l,l=l[Ai]}const mi={lFrame:ye(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vo(){return mi.bindingsEnabled}function ss(){return null!==mi.skipHydrationRootTNode}function ht(){return mi.lFrame.lView}function ki(){return mi.lFrame.tView}function yc(i){return mi.lFrame.contextLView=i,i[is]}function Wa(i){return mi.lFrame.contextLView=null,i}function to(){let i=ac();for(;null!==i&&64===i.type;)i=i.parent;return i}function ac(){return mi.lFrame.currentTNode}function zc(){const i=mi.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}function wo(i,o){const l=mi.lFrame;l.currentTNode=i,l.isParent=o}function Mc(){return mi.lFrame.isParent}function vc(){mi.lFrame.isParent=!1}function bo(){const i=mi.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function bt(){return mi.lFrame.bindingIndex++}function Ta(i){const o=mi.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,l}function Ju(i){mi.lFrame.inI18n=i}function oe(i,o){const l=mi.lFrame;l.bindingIndex=l.bindingRootIndex=i,L(o)}function L(i){mi.lFrame.currentDirectiveIndex=i}function E(){return mi.lFrame.currentQueryIndex}function C(i){mi.lFrame.currentQueryIndex=i}function M(i){const o=i[wn];return 2===o.type?o.declTNode:1===o.type?i[Vi]:null}function O(i,o,l){if(l&pn.SkipSelf){let h=o,v=i;for(;!(h=h.parent,null!==h||l&pn.Host||(h=M(v),null===h||(v=v[_o],10&h.type))););if(null===h)return!1;o=h,i=v}const u=mi.lFrame=re();return u.currentTNode=o,u.lView=i,!0}function j(i){const o=re(),l=i[wn];mi.lFrame=o,o.currentTNode=l.firstChild,o.lView=i,o.tView=l,o.contextLView=i,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function re(){const i=mi.lFrame,o=null===i?null:i.child;return null===o?ye(i):o}function ye(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function je(){const i=mi.lFrame;return mi.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ut=je;function vt(){const i=je();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function zr(){return mi.lFrame.selectedIndex}function Dr(i){mi.lFrame.selectedIndex=i}function Xr(){const i=mi.lFrame;return Er(i.tView,i.selectedIndex)}let Bo=!0;function dl(){return Bo}function ma(i){Bo=i}function hl(i,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const v=i.data[l].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:N,ngAfterViewInit:z,ngAfterViewChecked:se,ngOnDestroy:me}=v;x&&(i.contentHooks??=[]).push(-l,x),N&&((i.contentHooks??=[]).push(l,N),(i.contentCheckHooks??=[]).push(l,N)),z&&(i.viewHooks??=[]).push(-l,z),se&&((i.viewHooks??=[]).push(l,se),(i.viewCheckHooks??=[]).push(l,se)),null!=me&&(i.destroyHooks??=[]).push(l,me)}}function Bl(i,o,l){wr(i,o,3,l)}function lc(i,o,l,u){(3&i[Yr])===l&&wr(i,o,l,u)}function ms(i,o){let l=i[Yr];(3&l)===o&&(l&=8191,l+=1,i[Yr]=l)}function wr(i,o,l,u){const v=u??-1,x=o.length-1;let N=0;for(let z=void 0!==u?65535&i[Gs]:0;z<x;z++)if("number"==typeof o[z+1]){if(N=o[z],null!=u&&N>=u)break}else o[z]<0&&(i[Gs]+=65536),(N<v||-1==v)&&(ai(i,l,o,z),i[Gs]=(4294901760&i[Gs])+z+2),z++}function jr(i,o){Jr(4,i,o);const l=ys(null);try{o.call(i)}finally{ys(l),Jr(5,i,o)}}function ai(i,o,l,u){const h=l[u]<0,v=l[u+1],N=i[h?-l[u]:l[u]];h?i[Yr]>>13<i[Gs]>>16&&(3&i[Yr])===o&&(i[Yr]+=8192,jr(N,v)):jr(N,v)}const yi=-1;class co{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function Uo(i){return i!==yi}function Ks(i){return 32767&i}function wc(i,o){let l=function Ds(i){return i>>16}(i),u=o;for(;l>0;)u=u[_o],l--;return u}let al=!0;function Yo(i){const o=al;return al=i,o}const Bd=255,Qo=5;let Nu=0;const Zo={};function xo(i,o){const l=Wc(i,o);if(-1!==l)return l;const u=o[wn];u.firstCreatePass&&(i.injectorIndex=o.length,bc(u.data,i),bc(o,null),bc(u.blueprint,null));const h=Cl(i,o),v=i.injectorIndex;if(Uo(h)){const x=Ks(h),N=wc(h,o),z=N[wn].data;for(let se=0;se<8;se++)o[v+se]=N[x+se]|z[x+se]}return o[v+8]=h,v}function bc(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Wc(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function Cl(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){if(u=Ud(h),null===u)return yi;if(l++,h=h[_o],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return yi}function qc(i,o,l){!function jo(i,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(cs)&&(u=l[cs]),null==u&&(u=l[cs]=Nu++);const h=u&Bd;o.data[i+(h>>Qo)]|=1<<h}(i,o,l)}function Ul(i,o,l){if(l&pn.Optional||void 0!==i)return i;hn()}function Kc(i,o,l,u){if(l&pn.Optional&&void 0===u&&(u=null),!(l&(pn.Self|pn.Host))){const h=i[Us],v=yr(void 0);try{return h?h.get(o,u,l&pn.Optional):ui(o,u,l&pn.Optional)}finally{yr(v)}}return Ul(u,0,l)}function jl(i,o,l,u=pn.Default,h){if(null!==i){if(2048&o[Yr]&&!(u&pn.Self)){const x=function yd(i,o,l,u,h){let v=i,x=o;for(;null!==v&&null!==x&&2048&x[Yr]&&!(512&x[Yr]);){const N=wl(v,x,l,u|pn.Self,Zo);if(N!==Zo)return N;let z=v.parent;if(!z){const se=x[va];if(se){const me=se.get(l,Zo,u);if(me!==Zo)return me}z=Ud(x),x=x[_o]}v=z}return h}(i,o,l,u,Zo);if(x!==Zo)return x}const v=wl(i,o,l,u,Zo);if(v!==Zo)return v}return Kc(o,l,u,h)}function wl(i,o,l,u,h){const v=function cc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(cs)?i[cs]:void 0;return"number"==typeof o?o>=0?o&Bd:fu:o}(l);if("function"==typeof v){if(!O(o,i,u))return u&pn.Host?Ul(h,0,u):Kc(o,l,u,h);try{let x;if(x=v(u),null!=x||u&pn.Optional)return x;hn()}finally{Ut()}}else if("number"==typeof v){let x=null,N=Wc(i,o),z=yi,se=u&pn.Host?o[Ur][Vi]:null;for((-1===N||u&pn.SkipSelf)&&(z=-1===N?Cl(i,o):o[N+8],z!==yi&&Ic(u,!1)?(x=o[wn],N=Ks(z),o=wc(z,o)):N=-1);-1!==N;){const me=o[wn];if(Xu(v,N,me.data)){const ke=_d(N,o,l,x,u,se);if(ke!==Zo)return ke}z=o[N+8],z!==yi&&Ic(u,o[wn].data[N+8]===se)&&Xu(v,N,o)?(x=me,N=Ks(z),o=wc(z,o)):N=-1}}return h}function _d(i,o,l,u,h,v){const x=o[wn],N=x.data[i+8],me=kc(N,x,l,null==u?oo(N)&&al:u!=x&&0!=(3&N.type),h&pn.Host&&v===N);return null!==me?hu(o,x,me,N):Zo}function kc(i,o,l,u,h){const v=i.providerIndexes,x=o.data,N=1048575&v,z=i.directiveStart,me=v>>20,lt=h?N+me:i.directiveEnd;for(let At=u?N:N+me;At<lt;At++){const cn=x[At];if(At<z&&l===cn||At>=z&&cn.type===l)return At}if(h){const At=x[z];if(At&&zs(At)&&At.type===l)return z}return null}function hu(i,o,l,u){let h=i[l];const v=o.data;if(function Sl(i){return i instanceof co}(h)){const x=h;x.resolving&&function Nt(i,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${i}${l}`)}(function mt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():gt(i)}(v[l]));const N=Yo(x.canSeeViewProviders);x.resolving=!0;const se=x.injectImpl?yr(x.injectImpl):null;O(i,u,pn.Default);try{h=i[l]=x.factory(void 0,v,i,u),o.firstCreatePass&&l>=u.directiveStart&&function ol(i,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:v}=o.type.prototype;if(u){const x=tt(o);(l.preOrderHooks??=[]).push(i,x),(l.preOrderCheckHooks??=[]).push(i,x)}h&&(l.preOrderHooks??=[]).push(0-i,h),v&&((l.preOrderHooks??=[]).push(i,v),(l.preOrderCheckHooks??=[]).push(i,v))}(l,v[l],o)}finally{null!==se&&yr(se),Yo(N),x.resolving=!1,Ut()}}return h}function Xu(i,o,l){return!!(l[o+(i>>Qo)]&1<<i)}function Ic(i,o){return!(i&pn.Self||i&pn.Host&&o)}class $o{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return jl(this._tNode,this._lView,o,oi(u),l)}}function fu(){return new $o(to(),ht())}function td(i){return Ot(()=>{const o=i.prototype.constructor,l=o[ri]||uc(o),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const v=h[ri]||uc(h);if(v&&v!==l)return v;h=Object.getPrototypeOf(h)}return v=>new v})}function uc(i){return fn(i)?()=>{const o=uc(dt(i));return o&&o()}:Ws(i)}function Ud(i){const o=i[wn],l=o.type;return 2===l?o.declTNode:1===l?i[Vi]:null}function nd(i){return function Jo(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const l=i.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const v=l[h];if(ni(v))break;if(0===v)h+=2;else if("number"==typeof v)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(v===o)return l[h+1];h+=2}}}return null}(to(),i)}const Tu="__parameters__";function le(i,o,l){return Ot(()=>{const u=function q(i){return function(...l){if(i){const u=i(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...v){if(this instanceof h)return u.apply(this,v),this;const x=new h(...v);return N.annotation=x,N;function N(z,se,me){const ke=z.hasOwnProperty(Tu)?z[Tu]:Object.defineProperty(z,Tu,{value:[]})[Tu];for(;ke.length<=me;)ke.push(null);return(ke[me]=ke[me]||[]).push(x),z}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function Fc(i,o){i.forEach(l=>Array.isArray(l)?Fc(l,o):o(l))}function rd(i,o,l){o>=i.length?i.push(l):i.splice(o,0,l)}function dc(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function Lc(i,o){const l=[];for(let u=0;u<i;u++)l.push(o);return l}function Oo(i,o,l){let u=pl(i,o);return u>=0?i[1|u]=l:(u=~u,function Fu(i,o,l,u){let h=i.length;if(h==o)i.push(l,u);else if(1===h)i.push(u,i[0]),i[0]=l;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=l,i[o+1]=u}}(i,u,o,l)),u}function Vu(i,o){const l=pl(i,o);if(l>=0)return i[1|l]}function pl(i,o){return function Dl(i,o,l){let u=0,h=i.length>>l;for(;h!==u;){const v=u+(h-u>>1),x=i[v<<l];if(o===x)return v<<l;x>o?h=v:u=v+1}return~(h<<l)}(i,o,1)}const Yt=xi(le("Optional"),8),Kn=xi(le("SkipSelf"),4);function Id(i){return 128==(128&i.flags)}var Kd=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Kd||{});const Yd=/^>|^->|<!--|-->|--!>|<!-$/g,M_=/(<|>)/g,Kg="\u200b$1\u200b";const mu=new Map;let Rp=0;const I="__ngContext__";function F(i,o){gs(o)?(i[I]=o[Ms],function Op(i){mu.set(i[Ms],i)}(o)):i[I]=o}let qa;function Au(i,o){return qa(i,o)}function Td(i){const o=i[Ai];return Ni(o)?o[Ai]:o}function k_(i){return R0(i[ko])}function F_(i){return R0(i[Nr])}function R0(i){for(;null!==i&&!Ni(i);)i=i[Nr];return i}function wf(i,o,l,u,h){if(null!=u){let v,x=!1;Ni(u)?v=u:gs(u)&&(x=!0,u=u[Oi]);const N=$t(u);0===i&&null!==l?null==h?Tf(o,l,N):$h(o,l,N,h||null,!0):1===i&&null!==l?$h(o,l,N,h||null,!0):2===i?function Fp(i,o,l){const u=Sf(i,o);u&&function Hb(i,o,l,u){i.removeChild(o,l,u)}(i,u,o,l)}(o,N,x):3===i&&o.destroyNode(N),null!=v&&function D(i,o,l,u,h){const v=l[so];v!==$t(l)&&wf(o,i,u,v,h);for(let N=ps;N<l.length;N++){const z=l[N];Df(z[wn],z,i,o,u,v)}}(o,i,v,l,h)}}function Mp(i,o){return i.createText(o)}function Np(i,o){return i.createComment(function cd(i){return i.replace(Yd,o=>o.replace(M_,Kg))}(o))}function Sd(i,o,l){return i.createElement(o,l)}function dd(i,o){const l=i[Ea],u=l.indexOf(o);md(o),l.splice(u,1)}function bf(i,o){if(i.length<=ps)return;const l=ps+o,u=i[l];if(u){const h=u[ya];null!==h&&h!==i&&dd(h,u),o>0&&(i[l-1][Nr]=u[Nr]);const v=dc(i,ps+o);!function O0(i,o){Df(i,o,o[Rr],2,null,null),o[Oi]=null,o[Vi]=null}(u[wn],u);const x=v[xs];null!==x&&x.detachView(v[wn]),u[Ai]=null,u[Nr]=null,u[Yr]&=-129}return u}function If(i,o){if(!(256&o[Yr])){const l=o[Rr];o[Fr]&&Fs(o[Fr]),o[yo]&&Fs(o[yo]),l.destroyNode&&Df(i,o,l,3,null,null),function L_(i){let o=i[ko];if(!o)return jh(i[wn],i);for(;o;){let l=null;if(gs(o))l=o[ko];else{const u=o[ps];u&&(l=u)}if(!l){for(;o&&!o[Nr]&&o!==i;)gs(o)&&jh(o[wn],o),o=o[Ai];null===o&&(o=i),gs(o)&&jh(o[wn],o),l=o&&o[Nr]}o=l}}(o)}}function jh(i,o){if(!(256&o[Yr])){o[Yr]&=-129,o[Yr]|=256,function N0(i,o){let l;if(null!=i&&null!=(l=i.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof co)){const v=l[u+1];if(Array.isArray(v))for(let x=0;x<v.length;x+=2){const N=h[v[x]],z=v[x+1];Jr(4,N,z);try{z.call(N)}finally{Jr(5,N,z)}}else{Jr(4,h,v);try{v.call(h)}finally{Jr(5,h,v)}}}}}(i,o),function M0(i,o){const l=i.cleanup,u=o[mo];if(null!==l)for(let v=0;v<l.length-1;v+=2)if("string"==typeof l[v]){const x=l[v+3];x>=0?u[x]():u[-x].unsubscribe(),v+=2}else l[v].call(u[l[v+1]]);null!==u&&(o[mo]=null);const h=o[io];if(null!==h){o[io]=null;for(let v=0;v<h.length;v++)(0,h[v])()}}(i,o),1===o[wn].type&&o[Rr].destroy();const l=o[ya];if(null!==l&&Ni(o[Ai])){l!==o[Ai]&&dd(l,o);const u=o[xs];null!==u&&u.detachView(i)}!function Pp(i){mu.delete(i[Ms])}(o)}}function Zg(i,o,l){return Jg(i,o.parent,l)}function Jg(i,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[Oi];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:v}=i.data[u.directiveStart+h];if(v===sn.None||v===sn.Emulated)return null}return hs(u,l)}}function $h(i,o,l,u,h){i.insertBefore(o,l,u,h)}function Tf(i,o,l){i.appendChild(o,l)}function Xg(i,o,l,u,h){null!==u?$h(i,o,l,u,h):Tf(i,o,l)}function Sf(i,o){return i.parentNode(o)}function L0(i,o,l){return em(i,o,l)}function V_(i,o,l){return 40&i.type?hs(i,l):null}let B_,ce,Mn,li,em=V_;function V0(i,o){em=i,B_=o}function Bu(i,o,l,u){const h=Zg(i,u,o),v=o[Rr],N=L0(u.parent||o[Vi],u,o);if(null!=h)if(Array.isArray(l))for(let z=0;z<l.length;z++)Xg(v,h,l[z],N,!1);else Xg(v,h,l,N,!1);void 0!==B_&&B_(v,u,o,l,h)}function Cd(i,o){if(null!==o){const l=o.type;if(3&l)return hs(o,i);if(4&l)return j_(-1,i[o.index]);if(8&l){const u=o.child;if(null!==u)return Cd(i,u);{const h=i[o.index];return Ni(h)?j_(-1,h):$t(h)}}if(32&l)return Au(o,i)()||$t(i[o.index]);{const u=U_(i,o);return null!==u?Array.isArray(u)?u[0]:Cd(Td(i[Ur]),u):Cd(i,o.next)}}return null}function U_(i,o){return null!==o?i[Ur][Vi].projection[o.projection]:null}function j_(i,o){const l=ps+i+1;if(l<o.length){const u=o[l],h=u[wn].firstChild;if(null!==h)return Cd(u,h)}return o[so]}function Cf(i,o,l,u,h,v,x){for(;null!=l;){const N=u[l.index],z=l.type;if(x&&0===o&&(N&&F($t(N),u),l.flags|=2),32!=(32&l.flags))if(8&z)Cf(i,o,l.child,u,h,v,!1),wf(o,i,h,N,v);else if(32&z){const se=Au(l,u);let me;for(;me=se();)wf(o,i,h,me,v);wf(o,i,h,N,v)}else 16&z?m(i,o,u,l,h,v):wf(o,i,h,N,v);l=x?l.projectionNext:l.next}}function Df(i,o,l,u,h,v){Cf(l,u,i.firstChild,o,h,v,!1)}function m(i,o,l,u,h,v){const x=l[Ur],z=x[Vi].projection[u.projection];if(Array.isArray(z))for(let se=0;se<z.length;se++)wf(o,i,h,z[se],v);else{let se=z;const me=x[Ai];Id(u)&&(se.flags|=128),Cf(i,o,se,me,h,v,!0)}}function T(i,o,l){""===l?i.removeAttribute(o,"class"):i.setAttribute(o,"class",l)}function H(i,o,l){const{mergedAttrs:u,classes:h,styles:v}=l;null!==u&&_i(i,o,u),null!==h&&T(i,o,h),null!==v&&function f(i,o,l){i.setAttribute(o,"style",l)}(i,o,v)}function st(i){return function Be(){if(void 0===ce&&(ce=null,Tr.trustedTypes))try{ce=Tr.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return ce}()?.createHTML(i)||i}function Pi(i){Mn=i}function vi(){if(void 0!==Mn)return Mn;if(typeof document<"u")return document;throw new Xe(210,!1)}function Es(){if(void 0===li&&(li=null,Tr.trustedTypes))try{li=Tr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return li}function ws(i){return Es()?.createHTML(i)||i}function bs(i){return Es()?.createScriptURL(i)||i}class ls{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${In})`}}class Vs extends ls{getTypeName(){return"HTML"}}class To extends ls{getTypeName(){return"Style"}}class ca extends ls{getTypeName(){return"Script"}}class Gl extends ls{getTypeName(){return"URL"}}class xl extends ls{getTypeName(){return"ResourceURL"}}function Ka(i){return i instanceof ls?i.changingThisBreaksApplicationSecurity:i}function tc(i,o){const l=function hc(i){return i instanceof ls&&i.getTypeName()||null}(i);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${In})`)}return l===o}function Qd(i){return new Vs(i)}function Ad(i){return new To(i)}function Vc(i){return new ca(i)}function Ru(i){return new Gl(i)}function Eh(i){return new xl(i)}function Zd(i){const o=new Hh(i);return function Af(){try{return!!(new window.DOMParser).parseFromString(st(""),"text/html")}catch{return!1}}()?new Gh(o):o}class Gh{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(st(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class Hh{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=st(o),l}}const Rf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Xc(i){return(i=String(i)).match(Rf)?i:"unsafe:"+i}function Ol(i){const o={};for(const l of i.split(","))o[l]=!0;return o}function eu(...i){const o={};for(const l of i)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const zh=Ol("area,br,col,hr,img,wbr"),Rd=Ol("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hl=Ol("rp,rt"),Of=eu(zh,eu(Rd,Ol("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),eu(Hl,Ol("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),eu(Hl,Rd)),hd=Ol("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xd=eu(hd,Ol("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ol("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),U0=Ol("script,style,template");class Wh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Of.hasOwnProperty(l))return this.sanitizedSomething=!0,!U0.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let h=0;h<u.length;h++){const v=u.item(h),x=v.name,N=x.toLowerCase();if(!xd.hasOwnProperty(N)){this.sanitizedSomething=!0;continue}let z=v.value;hd[N]&&(z=Xc(z)),this.buf.push(" ",x,'="',Lp(z),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Of.hasOwnProperty(l)&&!zh.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Lp(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Jd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uu=/([^\#-~ |!])/g;function Lp(i){return i.replace(/&/g,"&amp;").replace(Jd,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Uu,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mf;function Nf(i,o){let l=null;try{Mf=Mf||Zd(i);let u=o?String(o):"";l=Mf.getInertBodyElement(u);let h=5,v=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=v,v=l.innerHTML,l=Mf.getInertBodyElement(u)}while(u!==v);return st((new Wh).sanitizeChildren(Vp(l)||l))}finally{if(l){const u=Vp(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Vp(i){return"content"in i&&function nm(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Xd=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(Xd||{});function qh(i){const o=Bp();return o?ws(o.sanitize(Xd.HTML,i)||""):tc(i,"HTML")?ws(Ka(i)):Nf(vi(),gt(i))}function j0(i){const o=Bp();return o?o.sanitize(Xd.URL,i)||"":tc(i,"URL")?Ka(i):Xc(gt(i))}function $0(i){const o=Bp();if(o)return bs(o.sanitize(Xd.RESOURCE_URL,i)||"");if(tc(i,"ResourceURL"))return bs(Ka(i));throw new Xe(904,!1)}function G0(i,o,l){return function rm(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?$0:j0}(o,l)(i)}function Bp(){const i=ht();return i&&i[Ho].sanitizer}class ea{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Wn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const im=new ea("ENVIRONMENT_INITIALIZER"),H_=new ea("INJECTOR",-1),fc=new ea("INJECTOR_DEF_TYPES");class H0{get(o,l=Et){if(l===Et){const u=new Error(`NullInjectorError: No provider for ${Ke(o)}!`);throw u.name="NullInjectorError",u}return l}}function z0(i){return{\u0275providers:i}}function eC(...i){return{\u0275providers:Wb(0,i),\u0275fromNgModule:!0}}function Wb(i,...o){const l=[],u=new Set;let h;const v=x=>{l.push(x)};return Fc(o,x=>{const N=x;W_(N,v,[],u)&&(h||=[],h.push(N))}),void 0!==h&&z_(h,v),l}function z_(i,o){for(let l=0;l<i.length;l++){const{ngModule:u,providers:h}=i[l];Up(h,v=>{o(v,u)})}}function W_(i,o,l,u){if(!(i=dt(i)))return!1;let h=null,v=Ft(i);const x=!v&&hi(i);if(v||x){if(x&&!x.standalone)return!1;h=i}else{const z=i.ngModule;if(v=Ft(z),!v)return!1;h=z}const N=u.has(h);if(x){if(N)return!1;if(u.add(h),x.dependencies){const z="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const se of z)W_(se,o,l,u)}}else{if(!v)return!1;{if(null!=v.imports&&!N){let se;u.add(h);try{Fc(v.imports,me=>{W_(me,o,l,u)&&(se||=[],se.push(me))})}finally{}void 0!==se&&z_(se,o)}if(!N){const se=Ws(h)||(()=>new h);o({provide:h,useFactory:se,deps:bn},h),o({provide:fc,useValue:h,multi:!0},h),o({provide:im,useValue:()=>nn(h),multi:!0},h)}const z=v.providers;if(null!=z&&!N){const se=i;Up(z,me=>{o(me,se)})}}}return h!==i&&void 0!==i.providers}function Up(i,o){for(let l of i)Kt(l)&&(l=l.\u0275providers),Array.isArray(l)?Up(l,o):o(l)}const tC=Ie({provide:String,useValue:Ie});function q_(i){return null!==i&&"object"==typeof i&&tC in i}function Od(i){return"function"==typeof i}const sm=new ea("Set Injector scope."),jp={},nC={};let Z_;function J_(){return void 0===Z_&&(Z_=new H0),Z_}class Pd{}class om extends Pd{get destroyed(){return this._destroyed}constructor(o,l,u,h){super(),this.parent=l,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lm(o,x=>this.processProvider(x)),this.records.set(H_,Ff(void 0,this)),h.has("environment")&&this.records.set(Pd,Ff(void 0,this));const v=this.records.get(sm);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(fc.multi,bn,pn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of o)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const l=We(this),u=yr(void 0);try{return o()}finally{We(l),yr(u)}}get(o,l=Et,u=pn.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(Bs))return o[Bs](this);u=oi(u);const v=We(this),x=yr(void 0);try{if(!(u&pn.SkipSelf)){let z=this.records.get(o);if(void 0===z){const se=function Gp(i){return"function"==typeof i||"object"==typeof i&&i instanceof ea}(o)&&Br(o);z=se&&this.injectableDefInScope(se)?Ff(am(o),jp):null,this.records.set(o,z)}if(null!=z)return this.hydrate(o,z)}return(u&pn.Self?J_():this.parent).get(o,l=u&pn.Optional&&l===Et?null:l)}catch(N){if("NullInjectorError"===N.name){if((N[En]=N[En]||[]).unshift(Ke(o)),v)throw N;return function Ve(i,o,l,u){const h=i[En];throw o[he]&&h.unshift(o[he]),i.message=function Rt(i,o,l,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=Ke(o);if(Array.isArray(o))h=o.map(Ke).join(" -> ");else if("object"==typeof o){let v=[];for(let x in o)if(o.hasOwnProperty(x)){let N=o[x];v.push(x+":"+("string"==typeof N?JSON.stringify(N):Ke(N)))}h=`{${v.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${i.replace(Le,"\n  ")}`}("\n"+i.message,h,l,u),i.ngTokenPath=h,i[En]=null,i}(N,o,"R3InjectorError",this.source)}throw N}finally{yr(x),We(v)}}resolveInjectorInitializers(){const o=We(this),l=yr(void 0);try{const h=this.get(im.multi,bn,pn.Self);for(const v of h)v()}finally{We(o),yr(l)}}toString(){const o=[],l=this.records;for(const u of l.keys())o.push(Ke(u));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(o){let l=Od(o=dt(o))?o:dt(o&&o.provide);const u=function qb(i){return q_(i)?Ff(void 0,i.useValue):Ff(Kb(i),jp)}(o);if(Od(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Ff(void 0,jp,!0),h.factory=()=>pr(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,u)}hydrate(o,l){return l.value===jp&&(l.value=nC,l.value=l.factory()),"object"==typeof l.value&&l.value&&function $p(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=dt(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(o){const l=this._onDestroyHooks.indexOf(o);-1!==l&&this._onDestroyHooks.splice(l,1)}}function am(i){const o=Br(i),l=null!==o?o.factory:Ws(i);if(null!==l)return l;if(i instanceof ea)throw new Xe(204,!1);if(i instanceof Function)return function rC(i){const o=i.length;if(o>0)throw Lc(o,"?"),new Xe(204,!1);const l=function Ct(i){return i&&(i[xt]||i[br])||null}(i);return null!==l?()=>l.factory(i):()=>new i}(i);throw new Xe(204,!1)}function Kb(i,o,l){let u;if(Od(i)){const h=dt(i);return Ws(h)||am(h)}if(q_(i))u=()=>dt(i.useValue);else if(function Y_(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...pr(i.deps||[]));else if(function K_(i){return!(!i||!i.useExisting)}(i))u=()=>nn(dt(i.useExisting));else{const h=dt(i&&(i.useClass||i.provide));if(!function iC(i){return!!i.deps}(i))return Ws(h)||am(h);u=()=>new h(...pr(i.deps))}return u}function Ff(i,o,l=!1){return{factory:i,value:o,multi:l?[]:void 0}}function lm(i,o){for(const l of i)Array.isArray(l)?lm(l,o):l&&Kt(l)?lm(l.\u0275providers,o):o(l)}const cm=new ea("AppId",{providedIn:"root",factory:()=>Yb}),Yb="ng",q0=new ea("Platform Initializer"),X_=new ea("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),K0=new ea("AnimationModuleType"),sC=new ea("CSP nonce",{providedIn:"root",factory:()=>vi().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let pm=(i,o,l)=>null;function Z0(i,o,l=!1){return pm(i,o,l)}class sy{}class Yp{}class nE{resolveComponentFactory(o){throw function eE(i){const o=Error(`No component factory found for ${Ke(i)}.`);return o.ngComponent=i,o}(o)}}let Md=(()=>{class o{}return o.NULL=new nE,o})();function Xb(){return Qp(to(),ht())}function Qp(i,o){return new Bf(hs(i,o))}let Bf=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=Xb,o})();function uC(i){return i instanceof Bf?i.nativeElement:i}class oy{}let dC=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function rE(){const i=ht(),l=Sn(to().index,i);return(gs(l)?l:i)[Rr]}(),o})(),ay=(()=>{var i;class o{}return(i=o).\u0275prov=Wn({token:i,providedIn:"root",factory:()=>null}),o})();class ly{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const iE=new ly("16.2.5"),Qh={};function aI(i,o=null,l=null,u){const h=cy(i,o,l,u);return h.resolveInjectorInitializers(),h}function cy(i,o=null,l=null,u,h=new Set){const v=[l||bn,eC(i)];return u=u||("object"==typeof i?void 0:Ke(i)),new om(v,o||J_(),u||null,h)}let fd=(()=>{var i;class o{static create(u,h){if(Array.isArray(u))return aI({name:""},h,u,"");{const v=u.name??"";return aI({name:v},u.parent,u.providers,v)}}}return(i=o).THROW_IF_NOT_FOUND=Et,i.NULL=new H0,i.\u0275prov=Wn({token:i,providedIn:"any",factory:()=>nn(H_)}),i.__NG_ELEMENT_ID__=-1,o})();function _m(i){return i.ngOriginalError}class ju{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&_m(o);for(;l&&_m(l);)l=_m(l);return l||null}}function dy(i){return o=>{setTimeout(i,void 0,o)}}const _u=class Zp extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){let h=o,v=l||(()=>null),x=u;if(o&&"object"==typeof o){const z=o;h=z.next?.bind(z),v=z.error?.bind(z),x=z.complete?.bind(z)}this.__isAsync&&(v=dy(v),h&&(h=dy(h)),x&&(x=dy(x)));const N=super.subscribe({next:h,error:v,complete:x});return o instanceof fe.w0&&o.add(N),N}};function cI(...i){}class nc{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _u(!1),this.onMicrotaskEmpty=new _u(!1),this.onStable=new _u(!1),this.onError=new _u(!1),typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function fC(){const i="function"==typeof Tr.requestAnimationFrame;let o=Tr[i?"requestAnimationFrame":"setTimeout"],l=Tr[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function gC(i){const o=()=>{!function pC(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Tr,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Em(i),i.isCheckStableRunning=!0,vm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Em(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,v,x,N)=>{if(function pI(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(N))return l.invokeTask(h,v,x,N);try{return hy(i),l.invokeTask(h,v,x,N)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||i.shouldCoalesceRunChangeDetection)&&o(),dI(i)}},onInvoke:(l,u,h,v,x,N,z)=>{try{return hy(i),l.invoke(h,v,x,N,z)}finally{i.shouldCoalesceRunChangeDetection&&o(),dI(i)}},onHasTask:(l,u,h,v)=>{l.hasTask(h,v),u===h&&("microTask"==v.change?(i._hasPendingMicrotasks=v.microTask,Em(i),vm(i)):"macroTask"==v.change&&(i.hasPendingMacrotasks=v.macroTask))},onHandleError:(l,u,h,v)=>(l.handleError(h,v),i.runOutsideAngular(()=>i.onError.emit(v)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nc.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(nc.isInAngularZone())throw new Xe(909,!1)}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const v=this._inner,x=v.scheduleEventTask("NgZoneEvent: "+h,o,cE,cI,cI);try{return v.runTask(x,l,u)}finally{v.cancelTask(x)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const cE={};function vm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Em(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function hy(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function dI(i){i._nesting--,vm(i)}class hI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _u,this.onMicrotaskEmpty=new _u,this.onStable=new _u,this.onError=new _u}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}const fI=new ea("",{providedIn:"root",factory:uE});function uE(){const i=xn(nc);let o=!0;const l=new ve.y(h=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(o),h.complete()})}),u=new ve.y(h=>{let v;i.runOutsideAngular(()=>{v=i.onStable.subscribe(()=>{nc.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const x=i.onUnstable.subscribe(()=>{nc.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{v.unsubscribe(),x.unsubscribe()}});return(0,X.T)(l,u.pipe((0,Se.B)()))}function wh(i){return i instanceof Function?i():i}let wm=(()=>{var i;class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(i=o).\u0275prov=Wn({token:i,providedIn:"root",factory:()=>new i}),o})();function bm(i){for(;i;){i[Yr]|=64;const o=Td(i);if(ba(i)&&!o)return i;i=o}return null}const py=new ea("",{providedIn:"root",factory:()=>!1});let Tm=null;function bI(i,o){return i[o]??II()}function yy(i,o){const l=II();l.producerNode?.length&&(i[o]=Tm,l.lView=i,Tm=vy())}const bh={...pa,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{bm(i.lView)},lView:null};function vy(){return Object.create(bh)}function II(){return Tm??=vy(),Tm}const ts={};function TI(i){SI(ki(),ht(),zr()+i,!1)}function SI(i,o,l,u){if(!u)if(3==(3&o[Yr])){const v=i.preOrderCheckHooks;null!==v&&Bl(o,v,l)}else{const v=i.preOrderHooks;null!==v&&lc(o,v,0,l)}Dr(l)}function Zh(i,o=pn.Default){const l=ht();return null===l?nn(i,o):jl(to(),l,dt(i),o)}function CI(){throw new Error("invalid")}function Ey(i,o,l,u,h,v,x,N,z,se,me){const ke=o.blueprint.slice();return ke[Oi]=h,ke[Yr]=140|u,(null!==se||i&&2048&i[Yr])&&(ke[Yr]|=2048),za(ke),ke[Ai]=ke[_o]=i,ke[is]=l,ke[Ho]=x||i&&i[Ho],ke[Rr]=N||i&&i[Rr],ke[Us]=z||i&&i[Us]||null,ke[Vi]=v,ke[Ms]=function xp(){return Rp++}(),ke[Hs]=me,ke[va]=se,ke[Ur]=2==o.type?i[Ur]:ke,ke}function Jh(i,o,l,u,h){let v=i.data[o];if(null===v)v=_E(i,o,l,u,h),function Vl(){return mi.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=l,v.value=u,v.attrs=h;const x=zc();v.injectorIndex=null===x?-1:x.injectorIndex}return wo(v,!0),v}function _E(i,o,l,u,h){const v=ac(),x=Mc(),z=i.data[o]=function AI(i,o,l,u,h,v){let x=o?o.injectorIndex:-1,N=0;return ss()&&(N|=128),{type:l,index:u,insertBeforeIndex:null,injectorIndex:x,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:N,providerIndexes:0,value:h,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?v:v&&v.parent,l,o,u,h);return null===i.firstChild&&(i.firstChild=z),null!==v&&(x?null==v.child&&null!==z.parent&&(v.child=z):null===v.next&&(v.next=z,z.prev=v)),z}function Uf(i,o,l,u){if(0===l)return-1;const h=o.length;for(let v=0;v<l;v++)o.push(u),i.blueprint.push(u),i.data.push(null);return h}function yE(i,o,l,u,h){const v=bI(o,Fr),x=zr(),N=2&u;try{Dr(-1),N&&o.length>ii&&SI(i,o,ii,!1),Jr(N?2:0,h);const se=N?v:null,me=cl(se);try{null!==se&&(se.dirty=!1),l(u,h)}finally{js(se,me)}}finally{N&&null===o[Fr]&&yy(o,Fr),Dr(x),Jr(N?3:1,h)}}function Sm(i,o,l){if(zo(o)){const u=ys(null);try{const v=o.directiveEnd;for(let x=o.directiveStart;x<v;x++){const N=i.data[x];N.contentQueries&&N.contentQueries(1,l[x],x)}}finally{ys(u)}}}function wy(i,o,l){Vo()&&(function xI(i,o,l,u){const h=l.directiveStart,v=l.directiveEnd;oo(l)&&function MI(i,o,l){const u=hs(o,i),h=DI(l);let x=16;l.signals?x=4096:l.onPush&&(x=64);const N=Rm(i,Ey(i,h,null,x,u,o,null,i[Ho].rendererFactory.createRenderer(u,l),null,null,null));i[o.index]=N}(o,l,i.data[h+l.componentOffset]),i.firstCreatePass||xo(l,o),F(u,o);const x=l.initialInputs;for(let N=h;N<v;N++){const z=i.data[N],se=hu(o,i,N,l);F(se,o),null!==x&&IC(0,N-h,se,z,0,x),zs(z)&&(Sn(l.index,o)[is]=hu(o,i,N,l))}}(i,o,l,hs(l,o)),64==(64&l.flags)&&Cy(i,o,l))}function vE(i,o,l=hs){const u=o.localNames;if(null!==u){let h=o.index+1;for(let v=0;v<u.length;v+=2){const x=u[v+1],N=-1===x?l(o,i):i[x];i[h++]=N}}}function DI(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Cm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function Cm(i,o,l,u,h,v,x,N,z,se,me){const ke=ii+u,lt=ke+h,At=function yC(i,o){const l=[];for(let u=0;u<o;u++)l.push(u<i?null:ts);return l}(ke,lt),cn="function"==typeof se?se():se;return At[wn]={type:i,blueprint:At,template:l,queries:null,viewQuery:N,declTNode:o,data:At.slice().fill(null,ke),bindingStartIndex:ke,expandoStartIndex:lt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:z,consts:cn,incompleteFirstPass:!1,ssrId:me}}let by=i=>null;function bE(i,o,l,u){for(let h in i)if(i.hasOwnProperty(h)){l=null===l?{}:l;const v=i[h];null===u?jf(l,o,h,v):u.hasOwnProperty(h)&&jf(l,o,u[h],v)}return l}function jf(i,o,l,u){i.hasOwnProperty(l)?i[l].push(o,u):i[l]=[o,u]}function $u(i,o,l,u,h,v,x,N){const z=hs(o,l);let me,se=o.inputs;!N&&null!=se&&(me=se[u])?(Ay(i,l,me,u,h),oo(o)&&function wC(i,o){const l=Sn(o,i);16&l[Yr]||(l[Yr]|=64)}(l,o.index)):3&o.type&&(u=function Ty(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=x?x(h,o.value||"",u):h,v.setProperty(z,u,h))}function tg(i,o,l,u){if(Vo()){const h=null===u?null:{"":-1},v=function Dy(i,o){const l=i.directiveRegistry;let u=null,h=null;if(l)for(let v=0;v<l.length;v++){const x=l[v];if(It(o,x.selectors,!1))if(u||(u=[]),zs(x))if(null!==x.findHostDirectiveDefs){const N=[];h=h||new Map,x.findHostDirectiveDefs(x,N,h),u.unshift(...N,x),Dm(i,o,N.length)}else u.unshift(x),Dm(i,o,0);else h=h||new Map,x.findHostDirectiveDefs?.(x,u,h),u.push(x)}return null===u?null:[u,h]}(i,l);let x,N;null===v?x=N=null:[x,N]=v,null!==x&&Sy(i,o,l,x,h,N),h&&function OI(i,o,l){if(o){const u=i.localNames=[];for(let h=0;h<o.length;h+=2){const v=l[o[h+1]];if(null==v)throw new Xe(-301,!1);u.push(o[h],v)}}}(l,u,h)}l.mergedAttrs=Ys(l.mergedAttrs,l.attrs)}function Sy(i,o,l,u,h,v){for(let se=0;se<u.length;se++)qc(xo(l,o),i,u[se].type);!function PI(i,o,l){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+l,i.providerIndexes=o}(l,i.data.length,u.length);for(let se=0;se<u.length;se++){const me=u[se];me.providersResolver&&me.providersResolver(me)}let x=!1,N=!1,z=Uf(i,o,u.length,null);for(let se=0;se<u.length;se++){const me=u[se];l.mergedAttrs=Ys(l.mergedAttrs,me.hostAttrs),CE(i,l,o,z,me),ng(z,me,h),null!==me.contentQueries&&(l.flags|=4),(null!==me.hostBindings||null!==me.hostAttrs||0!==me.hostVars)&&(l.flags|=64);const ke=me.type.prototype;!x&&(ke.ngOnChanges||ke.ngOnInit||ke.ngDoCheck)&&((i.preOrderHooks??=[]).push(l.index),x=!0),!N&&(ke.ngOnChanges||ke.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(l.index),N=!0),z++}!function RI(i,o,l){const h=o.directiveEnd,v=i.data,x=o.attrs,N=[];let z=null,se=null;for(let me=o.directiveStart;me<h;me++){const ke=v[me],lt=l?l.get(ke):null,cn=lt?lt.outputs:null;z=bE(ke.inputs,me,z,lt?lt.inputs:null),se=bE(ke.outputs,me,se,cn);const kn=null===z||null===x||Hi(o)?null:TC(z,me,x);N.push(kn)}null!==z&&(z.hasOwnProperty("class")&&(o.flags|=8),z.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=N,o.inputs=z,o.outputs=se}(i,l,v)}function Cy(i,o,l){const u=l.directiveStart,h=l.directiveEnd,v=l.index,x=function R(){return mi.lFrame.currentDirectiveIndex}();try{Dr(v);for(let N=u;N<h;N++){const z=i.data[N],se=o[N];L(N),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&SE(z,se)}}finally{Dr(-1),L(x)}}function SE(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Dm(i,o,l){o.componentOffset=l,(i.components??=[]).push(o.index)}function ng(i,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=i;zs(o)&&(l[""]=i)}}function CE(i,o,l,u,h){i.data[u]=h;const v=h.factory||(h.factory=Ws(h.type)),x=new co(v,zs(h),Zh);i.blueprint[u]=x,l[u]=x,function IE(i,o,l,u,h){const v=h.hostBindings;if(v){let x=i.hostBindingOpCodes;null===x&&(x=i.hostBindingOpCodes=[]);const N=~o.index;(function TE(i){let o=i.length;for(;o>0;){const l=i[--o];if("number"==typeof l&&l<0)return l}return 0})(x)!=N&&x.push(N),x.push(l,u,v)}}(i,o,u,Uf(i,l,h.hostVars,ts),h)}function yu(i,o,l,u,h,v){const x=hs(i,o);!function Am(i,o,l,u,h,v,x){if(null==v)i.removeAttribute(o,h,l);else{const N=null==x?gt(v):x(v,u||"",h);i.setAttribute(o,h,N,l)}}(o[Rr],x,v,i.value,l,u,h)}function IC(i,o,l,u,h,v){const x=v[o];if(null!==x)for(let N=0;N<x.length;)NI(u,l,x[N++],x[N++],x[N++])}function NI(i,o,l,u,h){const v=ys(null);try{const x=i.inputTransforms;null!==x&&x.hasOwnProperty(u)&&(h=x[u].call(o,h)),null!==i.setInput?i.setInput(o,h,l,u):o[u]=h}finally{ys(v)}}function TC(i,o,l){let u=null,h=0;for(;h<l.length;){const v=l[h];if(0!==v)if(5!==v){if("number"==typeof v)break;if(i.hasOwnProperty(v)){null===u&&(u=[]);const x=i[v];for(let N=0;N<x.length;N+=2)if(x[N]===o){u.push(v,x[N+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function DE(i,o,l,u){return[i,!0,!1,o,null,0,u,l,null,null,null]}function kI(i,o){const l=i.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const v=l[u+1];if(-1!==v){const x=i.data[v];C(l[u]),x.contentQueries(2,o[v],v)}}}function Rm(i,o){return i[ko]?i[el][Nr]=o:i[ko]=o,i[el]=o,o}function AE(i,o,l){C(0);const u=ys(null);try{o(i,l)}finally{ys(u)}}function FI(i){return i[mo]||(i[mo]=[])}function LI(i){return i.cleanup||(i.cleanup=[])}function BI(i,o){const l=i[Us],u=l?l.get(ju,null):null;u&&u.handleError(o)}function Ay(i,o,l,u,h){for(let v=0;v<l.length;){const x=l[v++],N=l[v++];NI(i.data[x],o[x],u,N,h)}}function RE(i,o){const l=Sn(o,i),u=l[wn];!function SC(i,o){for(let l=o.length;l<i.blueprint.length;l++)o.push(i.blueprint[l])}(u,l);const h=l[Oi];null!==h&&null===l[Hs]&&(l[Hs]=Z0(h,l[Us])),Ry(u,l,l[is])}function Ry(i,o,l){j(o);try{const u=i.viewQuery;null!==u&&AE(1,u,l);const h=i.template;null!==h&&yE(i,o,h,1,l),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&kI(i,o),i.staticViewQueries&&AE(2,i.viewQuery,l);const v=i.components;null!==v&&function UI(i,o){for(let l=0;l<o.length;l++)RE(i,o[l])}(o,v)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{o[Yr]&=-5,vt()}}let xm=(()=>{var i;class o{constructor(){this.all=new Set,this.queue=new Map}create(u,h,v){const x=typeof Zone>"u"?null:Zone.current,N=function G(i,o,l){const u=Object.create(de);l&&(u.consumerAllowSignalWrites=!0),u.fn=i,u.schedule=o;const h=x=>{u.cleanupFn=x};return u.ref={notify:()=>Pa(u),run:()=>{if(u.dirty=!1,u.hasRun&&!Il(u))return;u.hasRun=!0;const x=cl(u);try{u.cleanupFn(),u.cleanupFn=ie,u.fn(h)}finally{js(u,x)}},cleanup:()=>u.cleanupFn()},u.ref}(u,me=>{this.all.has(me)&&this.queue.set(me,x)},v);let z;this.all.add(N),N.notify();const se=()=>{N.cleanup(),z?.(),this.all.delete(N),this.queue.delete(N)};return z=h?.onDestroy(se),{destroy:se}}flush(){if(0!==this.queue.size)for(const[u,h]of this.queue)this.queue.delete(u),h?h.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return(i=o).\u0275prov=Wn({token:i,providedIn:"root",factory:()=>new i}),o})();function Om(i,o,l){let u=l?i.styles:null,h=l?i.classes:null,v=0;if(null!==o)for(let x=0;x<o.length;x++){const N=o[x];"number"==typeof N?v=N:1==v?h=ft(h,N):2==v&&(u=ft(u,N+": "+o[++x]+";"))}l?i.styles=u:i.stylesWithoutHost=u,l?i.classes=h:i.classesWithoutHost=h}function rg(i,o,l,u,h=!1){for(;null!==l;){const v=o[l.index];null!==v&&u.push($t(v)),Ni(v)&&ig(v,u);const x=l.type;if(8&x)rg(i,o,l.child,u);else if(32&x){const N=Au(l,o);let z;for(;z=N();)u.push(z)}else if(16&x){const N=U_(o,l);if(Array.isArray(N))u.push(...N);else{const z=Td(o[Ur]);rg(z[wn],z,N,u,!0)}}l=h?l.projectionNext:l.next}return u}function ig(i,o){for(let l=ps;l<i.length;l++){const u=i[l],h=u[wn].firstChild;null!==h&&rg(u[wn],u,h,o)}i[so]!==i[Oi]&&o.push(i[so])}function xy(i,o,l,u=!0){const h=o[Ho],v=h.rendererFactory,x=h.afterRenderEventManager;v.begin?.(),x?.begin();try{Nd(i,o,i.template,l)}catch(z){throw u&&BI(o,z),z}finally{v.end?.(),h.effectManager?.flush(),x?.end()}}function Nd(i,o,l,u){const h=o[Yr];if(256!=(256&h)){o[Ho].effectManager?.flush(),j(o);try{za(o),function du(i){return mi.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==l&&yE(i,o,l,2,u);const x=3==(3&h);if(x){const se=i.preOrderCheckHooks;null!==se&&Bl(o,se,null)}else{const se=i.preOrderHooks;null!==se&&lc(o,se,0,null),ms(o,0)}if(function Ix(i){for(let o=k_(i);null!==o;o=F_(o)){if(!o[Ba])continue;const l=o[Ea];for(let u=0;u<l.length;u++){Gc(l[u])}}}(o),CC(o,2),null!==i.contentQueries&&kI(i,o),x){const se=i.contentCheckHooks;null!==se&&Bl(o,se)}else{const se=i.contentHooks;null!==se&&lc(o,se,1),ms(o,1)}!function mE(i,o){const l=i.hostBindingOpCodes;if(null===l)return;const u=bI(o,yo);try{for(let h=0;h<l.length;h++){const v=l[h];if(v<0)Dr(~v);else{const x=v,N=l[++h],z=l[++h];oe(N,x),u.dirty=!1;const se=cl(u);try{z(2,o[x])}finally{js(u,se)}}}}finally{null===o[yo]&&yy(o,yo),Dr(-1)}}(i,o);const N=i.components;null!==N&&xE(o,N,0);const z=i.viewQuery;if(null!==z&&AE(2,z,u),x){const se=i.viewCheckHooks;null!==se&&Bl(o,se)}else{const se=i.viewHooks;null!==se&&lc(o,se,2),ms(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[Yr]&=-73,md(o)}finally{vt()}}}function CC(i,o){for(let l=k_(i);null!==l;l=F_(l))for(let u=ps;u<l.length;u++)AC(l[u],o)}function DC(i,o,l){AC(Sn(o,i),l)}function AC(i,o){if(!function _n(i){return 128==(128&i[Yr])}(i))return;const l=i[wn],u=i[Yr];if(80&u&&0===o||1024&u||2===o)Nd(l,i,l.template,i[is]);else if(i[ia]>0){CC(i,1);const h=l.components;null!==h&&xE(i,h,1)}}function xE(i,o,l){for(let u=0;u<o.length;u++)DC(i,o[u],l)}class Pm{get rootNodes(){const o=this._lView,l=o[wn];return rg(l,o,l.firstChild,[])}constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[is]}set context(o){this._lView[is]=o}get destroyed(){return 256==(256&this._lView[Yr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Ai];if(Ni(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(bf(o,u),dc(l,u))}this._attachedToViewContainer=!1}If(this._lView[wn],this._lView)}onDestroy(o){!function Ll(i,o){if(256==(256&i[Yr]))throw new Xe(911,!1);null===i[io]&&(i[io]=[]),i[io].push(o)}(this._lView,o)}markForCheck(){bm(this._cdRefInjectingView||this._lView)}detach(){this._lView[Yr]&=-129}reattach(){this._lView[Yr]|=128}detectChanges(){xy(this._lView[wn],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ml(i,o){Df(i,o,o[Rr],2,null,null)}(this._lView[wn],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=o}}class OE extends Pm{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;xy(o[wn],o,o[is],!1)}checkNoChanges(){}get context(){return null}}class jI extends Md{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=hi(o);return new Oy(l,this.ngModule)}}function RC(i){const o=[];for(let l in i)i.hasOwnProperty(l)&&o.push({propName:i[l],templateName:l});return o}class Tx{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,u){u=oi(u);const h=this.injector.get(o,Qh,u);return h!==Qh||l===Qh?h:this.parentInjector.get(o,l,u)}}class Oy extends Yp{get inputs(){const o=this.componentDef,l=o.inputTransforms,u=RC(o.inputs);if(null!==l)for(const h of u)l.hasOwnProperty(h.propName)&&(h.transform=l[h.propName]);return u}get outputs(){return RC(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Xa(i){return i.map(Lr).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,u,h){let v=(h=h||this.ngModule)instanceof Pd?h:h?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const x=v?new Tx(o,v):o,N=x.get(oy,null);if(null===N)throw new Xe(407,!1);const ke={rendererFactory:N,sanitizer:x.get(ay,null),effectManager:x.get(xm,null),afterRenderEventManager:x.get(wm,null)},lt=N.createRenderer(null,this.componentDef),At=this.componentDef.selectors[0][0]||"div",cn=u?function EE(i,o,l,u){const v=u.get(py,!1)||l===sn.ShadowDom,x=i.selectRootElement(o,v);return function wE(i){by(i)}(x),x}(lt,u,this.componentDef.encapsulation,x):Sd(lt,At,function Ya(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(At)),pi=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Tn=null;null!==cn&&(Tn=Z0(cn,x,!0));const Ki=Cm(0,null,null,1,0,null,null,null,null,null,null),Os=Ey(null,Ki,null,pi,null,null,ke,lt,x,null,Tn);let Po,lu;j(Os);try{const kh=this.componentDef;let wp,w_=null;kh.findHostDirectiveDefs?(wp=[],w_=new Map,kh.findHostDirectiveDefs(kh,wp,w_),wp.push(kh)):wp=[kh];const gS=function $I(i,o){const l=i[wn],u=ii;return i[u]=o,Jh(l,u,2,"#host",null)}(Os,cn),RA=function Sx(i,o,l,u,h,v,x){const N=h[wn];!function Cx(i,o,l,u){for(const h of i)o.mergedAttrs=Ys(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Om(o,o.mergedAttrs,!0),null!==l&&H(u,l,o))}(u,i,o,x);let z=null;null!==o&&(z=Z0(o,h[Us]));const se=v.rendererFactory.createRenderer(o,l);let me=16;l.signals?me=4096:l.onPush&&(me=64);const ke=Ey(h,DI(l),null,me,h[i.index],i,v,se,null,null,z);return N.firstCreatePass&&Dm(N,i,u.length-1),Rm(h,ke),h[i.index]=ke}(gS,cn,kh,wp,Os,ke,lt);lu=Er(Ki,ii),cn&&function Dx(i,o,l,u){if(u)_i(i,l,["ng-version",iE.full]);else{const{attrs:h,classes:v}=function Qs(i){const o=[],l=[];let u=1,h=2;for(;u<i.length;){let v=i[u];if("string"==typeof v)2===h?""!==v&&o.push(v,i[++u]):8===h&&l.push(v);else{if(!it(h))break;h=v}u++}return{attrs:o,classes:l}}(o.selectors[0]);h&&_i(i,l,h),v&&v.length>0&&T(i,l,v.join(" "))}}(lt,kh,cn,u),void 0!==l&&function Ax(i,o,l){const u=i.projection=[];for(let h=0;h<o.length;h++){const v=l[h];u.push(null!=v?Array.from(v):null)}}(lu,this.ngContentSelectors,l),Po=function GI(i,o,l,u,h,v){const x=to(),N=h[wn],z=hs(x,h);Sy(N,h,x,l,null,u);for(let me=0;me<l.length;me++)F(hu(h,N,x.directiveStart+me,x),h);Cy(N,h,x),z&&F(z,h);const se=hu(h,N,x.directiveStart+x.componentOffset,x);if(i[is]=h[is]=se,null!==v)for(const me of v)me(se,o);return Sm(N,x,i),se}(RA,kh,wp,w_,Os,[Rx]),Ry(Ki,Os,null)}finally{vt()}return new Wl(this.componentType,Po,Qp(lu,Os),Os,lu)}}class Wl extends sy{constructor(o,l,u,h,v){super(),this.location=u,this._rootLView=h,this._tNode=v,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new OE(h),this.componentType=o}setInput(o,l){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),l))return;const v=this._rootLView;Ay(v[wn],v,h,o,l),this.previousInputValues.set(o,l),bm(Sn(this._tNode.index,v))}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Rx(){const i=to();hl(ht()[wn],i)}function HI(i){let o=function xC(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),l=!0;const u=[i];for(;o;){let h;if(zs(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Xe(903,!1);h=o.\u0275dir}if(h){if(l){u.push(h);const x=i;x.inputs=PE(i.inputs),x.inputTransforms=PE(i.inputTransforms),x.declaredInputs=PE(i.declaredInputs),x.outputs=PE(i.outputs);const N=h.hostBindings;N&&OC(i,N);const z=h.viewQuery,se=h.contentQueries;if(z&&zI(i,z),se&&Mm(i,se),Ae(i.inputs,h.inputs),Ae(i.declaredInputs,h.declaredInputs),Ae(i.outputs,h.outputs),null!==h.inputTransforms&&(null===x.inputTransforms&&(x.inputTransforms={}),Ae(x.inputTransforms,h.inputTransforms)),zs(h)&&h.data.animation){const me=i.data;me.animation=(me.animation||[]).concat(h.data.animation)}}const v=h.features;if(v)for(let x=0;x<v.length;x++){const N=v[x];N&&N.ngInherit&&N(i),N===HI&&(l=!1)}}o=Object.getPrototypeOf(o)}!function xx(i){let o=0,l=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=o+=h.hostVars,h.hostAttrs=Ys(h.hostAttrs,l=Ys(l,h.hostAttrs))}}(u)}function PE(i){return i===qn?{}:i===bn?[]:i}function zI(i,o){const l=i.viewQuery;i.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function Mm(i,o){const l=i.contentQueries;i.contentQueries=l?(u,h,v)=>{o(u,h,v),l(u,h,v)}:o}function OC(i,o){const l=i.hostBindings;i.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}function ME(i){return o=>{o.findHostDirectiveDefs=Py,o.hostDirectives=(Array.isArray(i)?i:i()).map(l=>"function"==typeof l?{directive:dt(l),inputs:qn,outputs:qn}:{directive:dt(l.directive),inputs:WI(l.inputs),outputs:WI(l.outputs)})}}function Py(i,o,l){if(null!==i.hostDirectives)for(const u of i.hostDirectives){const h=us(u.directive);PC(h.declaredInputs,u.inputs),Py(h,o,l),l.set(h,u),o.push(h)}}function WI(i){if(void 0===i||0===i.length)return qn;const o={};for(let l=0;l<i.length;l+=2)o[i[l]]=i[l+1];return o}function PC(i,o){for(const l in o)o.hasOwnProperty(l)&&(i[o[l]]=i[l])}function Nm(i){const o=i.inputConfig,l={};for(const u in o)if(o.hasOwnProperty(u)){const h=o[u];Array.isArray(h)&&h[2]&&(l[u]=h[2])}i.inputTransforms=l}function Ih(i){return!!My(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function My(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function nh(i,o,l){return i[o]=l}function nu(i,o,l){return!Object.is(i[o],l)&&(i[o]=l,!0)}function Xh(i,o,l,u){const h=nu(i,o,l);return nu(i,o+1,u)||h}function Th(i,o,l,u){const h=ht();return nu(h,bt(),o)&&(ki(),yu(Xr(),h,i,o,l,u)),Th}function Hf(i,o,l,u){return nu(i,bt(),l)?o+gt(l)+u:ts}function UC(i,o,l,u,h,v,x,N){const z=ht(),se=ki(),me=i+ii,ke=se.firstCreatePass?function jx(i,o,l,u,h,v,x,N,z){const se=o.consts,me=Jh(o,i,4,x||null,rl(se,N));tg(o,l,me,rl(se,z)),hl(o,me);const ke=me.tView=Cm(2,me,u,h,v,o.directiveRegistry,o.pipeRegistry,null,o.schemas,se,null);return null!==o.queries&&(o.queries.template(o,me),ke.queries=o.queries.embeddedTView(me)),me}(me,se,z,o,l,u,h,v,x):se.data[me];wo(ke,!1);const lt=jC(se,z,ke,i);dl()&&Bu(se,z,lt,ke),F(lt,z),Rm(z,z[me]=DE(lt,z,lt,ke)),Bi(ke)&&wy(se,z,ke),null!=x&&vE(z,ke,N)}let jC=function $C(i,o,l,u){return ma(!0),o[Rr].createComment("")};function GC(i){return function Cs(i,o){return i[o]}(function il(){return mi.lFrame.contextLView}(),ii+i)}function XI(i,o,l){const u=ht();return nu(u,bt(),o)&&$u(ki(),Xr(),u,i,o,u[Rr],l,!1),XI}function $E(i,o,l,u,h){const x=h?"class":"style";Ay(i,l,o.inputs[x],x,u)}function rf(i,o,l,u){const h=ht(),v=ki(),x=ii+i,N=h[Rr],z=v.firstCreatePass?function zx(i,o,l,u,h,v){const x=o.consts,z=Jh(o,i,2,u,rl(x,h));return tg(o,l,z,rl(x,v)),null!==z.attrs&&Om(z,z.attrs,!1),null!==z.mergedAttrs&&Om(z,z.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,z),z}(x,v,h,o,l,u):v.data[x],se=tT(v,h,z,N,o,i);h[x]=se;const me=Bi(z);return wo(z,!0),H(N,se,z),32!=(32&z.flags)&&dl()&&Bu(v,h,se,z),0===function Pc(){return mi.lFrame.elementDepthCount}()&&F(se,h),function Sr(){mi.lFrame.elementDepthCount++}(),me&&(wy(v,h,z),Sm(v,z,h)),null!==u&&vE(h,z),rf}function dg(){let i=to();Mc()?vc():(i=i.parent,wo(i,!1));const o=i;(function Cr(i){return mi.skipHydrationRootTNode===i})(o)&&function eo(){mi.skipHydrationRootTNode=null}(),function Hc(){mi.lFrame.elementDepthCount--}();const l=ki();return l.firstCreatePass&&(hl(l,i),zo(i)&&l.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Mu(i){return 0!=(8&i.flags)}(o)&&$E(l,o,ht(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ec(i){return 0!=(16&i.flags)}(o)&&$E(l,o,ht(),o.stylesWithoutHost,!1),dg}function eT(i,o,l,u){return rf(i,o,l,u),dg(),eT}let tT=(i,o,l,u,h,v)=>(ma(!0),Sd(u,h,function ga(){return mi.lFrame.currentNamespace}()));function By(i,o,l){const u=ht(),h=ki(),v=i+ii,x=h.firstCreatePass?function WC(i,o,l,u,h){const v=o.consts,x=rl(v,u),N=Jh(o,i,8,"ng-container",x);return null!==x&&Om(N,x,!0),tg(o,l,N,rl(v,h)),null!==o.queries&&o.queries.elementStart(o,N),N}(v,h,u,o,l):h.data[v];wo(x,!0);const N=KC(h,u,x,i);return u[v]=N,dl()&&Bu(h,u,N,x),F(N,u),Bi(x)&&(wy(h,u,x),Sm(h,x,u)),null!=l&&vE(u,x),By}function GE(){let i=to();const o=ki();return Mc()?vc():(i=i.parent,wo(i,!1)),o.firstCreatePass&&(hl(o,i),zo(i)&&o.queries.elementEnd(i)),GE}let KC=(i,o,l,u)=>(ma(!0),Np(o[Rr],""));function nT(){return ht()}function HE(i){return!!i&&"function"==typeof i.then}function QC(i){return!!i&&"function"==typeof i.subscribe}function zE(i,o,l,u){const h=ht(),v=ki(),x=to();return function iT(i,o,l,u,h,v,x){const N=Bi(u),se=i.firstCreatePass&&LI(i),me=o[is],ke=FI(o);let lt=!0;if(3&u.type||x){const kn=hs(u,o),Ir=x?x(kn):kn,pi=ke.length,Tn=x?Os=>x($t(Os[u.index])):u.index;let Ki=null;if(!x&&N&&(Ki=function Uy(i,o,l,u){const h=i.cleanup;if(null!=h)for(let v=0;v<h.length-1;v+=2){const x=h[v];if(x===l&&h[v+1]===u){const N=o[mo],z=h[v+2];return N.length>z?N[z]:null}"string"==typeof x&&(v+=2)}return null}(i,o,h,u.index)),null!==Ki)(Ki.__ngLastListenerFn__||Ki).__ngNextListenerFn__=v,Ki.__ngLastListenerFn__=v,lt=!1;else{v=JC(u,o,me,v,!1);const Os=l.listen(Ir,h,v);ke.push(v,Os),se&&se.push(h,Tn,pi,pi+1)}}else v=JC(u,o,me,v,!1);const At=u.outputs;let cn;if(lt&&null!==At&&(cn=At[h])){const kn=cn.length;if(kn)for(let Ir=0;Ir<kn;Ir+=2){const Po=o[cn[Ir]][cn[Ir+1]].subscribe(v),lu=ke.length;ke.push(v,Po),se&&se.push(h,u.index,lu,-(lu+1))}}}(v,h,h[Rr],x,i,o,u),zE}function ZC(i,o,l,u){try{return Jr(6,o,l),!1!==l(u)}catch(h){return BI(i,h),!1}finally{Jr(7,o,l)}}function JC(i,o,l,u,h){return function v(x){if(x===Function)return u;bm(i.componentOffset>-1?Sn(i.index,o):o);let z=ZC(o,l,u,x),se=v.__ngNextListenerFn__;for(;se;)z=ZC(o,l,se,x)&&z,se=se.__ngNextListenerFn__;return h&&!1===z&&x.preventDefault(),z}}function XC(i=1){return function dn(i){return(mi.lFrame.contextLView=function Cn(i,o){for(;i>0;)o=o[_o],i--;return o}(i,mi.lFrame.contextLView))[is]}(i)}function qx(i,o){let l=null;const u=function Bt(i){const o=i.attrs;if(null!=o){const l=o.indexOf(5);if(!(1&l))return o[l+1]}return null}(i);for(let h=0;h<o.length;h++){const v=o[h];if("*"!==v){if(null===u?It(i,v,!0):gi(u,v))return h}else l=h}return l}function eD(i){const o=ht()[Ur][Vi];if(!o.projection){const u=o.projection=Lc(i?i.length:1,null),h=u.slice();let v=o.child;for(;null!==v;){const x=i?qx(v,i):0;null!==x&&(h[x]?h[x].projectionNext=v:u[x]=v,h[x]=v),v=v.next}}}function tD(i,o=0,l){const u=ht(),h=ki(),v=Jh(h,ii+i,16,null,l||null);null===v.projection&&(v.projection=o),vc(),(!u[Hs]||ss())&&32!=(32&v.flags)&&function $_(i,o,l){m(o[Rr],0,o,l,Zg(i,l,o),L0(l.parent||o[Vi],l,o))}(h,u,v)}function sT(i,o,l){return WE(i,"",o,"",l),sT}function WE(i,o,l,u,h){const v=ht(),x=Hf(v,o,l,u);return x!==ts&&$u(ki(),Xr(),v,i,x,v[Rr],h,!1),WE}function QE(i,o){return i<<17|o<<2}function sh(i){return i>>17&32767}function $y(i){return 2|i}function oh(i){return(131068&i)>>2}function jm(i,o){return-131069&i|o<<2}function $m(i){return 1|i}function cT(i,o,l,u,h){const v=i[l+1],x=null===o;let N=u?sh(v):oh(v),z=!1;for(;0!==N&&(!1===z||x);){const me=i[N+1];ZE(i[N],o)&&(z=!0,i[N+1]=u?$m(me):$y(me)),N=u?sh(me):oh(me)}z&&(i[l+1]=u?$y(v):$m(v))}function ZE(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&pl(i,o)>=0}const pc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uT(i){return i.substring(pc.key,pc.keyEnd)}function hT(i,o){const l=pc.textEnd;return l===o?-1:(o=pc.keyEnd=function cD(i,o,l){for(;o<l&&i.charCodeAt(o)>32;)o++;return o}(i,pc.key=o,l),Gm(i,o,l))}function Gm(i,o,l){for(;o<l&&i.charCodeAt(o)<=32;)o++;return o}function Hm(i,o){return function Hu(i,o,l,u){const h=ht(),v=ki(),x=Ta(2);v.firstUpdatePass&&_T(v,i,x,u),o!==ts&&nu(h,x,o)&&gg(v,v.data[zr()],h,h[Rr],i,h[x+1]=function nw(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=Ke(Ka(i)))),i}(o,l),u,x)}(i,o,null,!0),Hm}function fg(i){!function kd(i,o,l,u){const h=ki(),v=Ta(2);h.firstUpdatePass&&_T(h,null,v,u);const x=ht();if(l!==ts&&nu(x,v,l)){const N=h.data[zr()];if(yT(N,u)&&!mT(h,v)){let z=u?N.classesWithoutHost:N.stylesWithoutHost;null!==z&&(l=ft(z,l||"")),$E(h,N,x,l,u)}else!function hD(i,o,l,u,h,v,x,N){h===ts&&(h=bn);let z=0,se=0,me=0<h.length?h[0]:null,ke=0<v.length?v[0]:null;for(;null!==me||null!==ke;){const lt=z<h.length?h[z+1]:void 0,At=se<v.length?v[se+1]:void 0;let kn,cn=null;me===ke?(z+=2,se+=2,lt!==At&&(cn=ke,kn=At)):null===ke||null!==me&&me<ke?(z+=2,cn=me):(se+=2,cn=ke,kn=At),null!==cn&&gg(i,o,l,u,cn,kn,x,N),me=z<h.length?h[z]:null,ke=se<v.length?v[se]:null}}(h,N,x,x[Rr],x[v+1],x[v+1]=function ew(i,o,l){if(null==l||""===l)return bn;const u=[],h=Ka(l);if(Array.isArray(h))for(let v=0;v<h.length;v++)i(u,h[v],!0);else if("object"==typeof h)for(const v in h)h.hasOwnProperty(v)&&i(u,v,h[v]);else"string"==typeof h&&o(u,h);return u}(i,o,l),u,v)}}(iu,lh,i,!0)}function lh(i,o){for(let l=function JE(i){return function lD(i){pc.key=0,pc.keyEnd=0,pc.value=0,pc.valueEnd=0,pc.textEnd=i.length}(i),hT(i,Gm(i,0,pc.textEnd))}(o);l>=0;l=hT(o,l))Oo(i,uT(o),!0)}function mT(i,o){return o>=i.expandoStartIndex}function _T(i,o,l,u){const h=i.data;if(null===h[l+1]){const v=h[zr()],x=mT(i,l);yT(v,u)&&null===o&&!x&&(o=!1),o=function ru(i,o,l,u){const h=function W(i){const o=mi.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let v=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=pg(l=XE(null,i,o,l,u),o.attrs,u),v=null);else{const x=o.directiveStylingLast;if(-1===x||i[x]!==h)if(l=XE(h,i,o,l,u),null===v){let z=function Hy(i,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==oh(u))return i[sh(u)]}(i,o,u);void 0!==z&&Array.isArray(z)&&(z=XE(null,i,o,z[1],u),z=pg(z,o.attrs,u),function Cc(i,o,l,u){i[sh(l?o.classBindings:o.styleBindings)]=u}(i,o,u,z))}else v=function sf(i,o,l){let u;const h=o.directiveEnd;for(let v=1+o.directiveStylingLast;v<h;v++)u=pg(u,i[v].hostAttrs,l);return pg(u,o.attrs,l)}(i,o,u)}return void 0!==v&&(u?o.residualClasses=v:o.residualStyles=v),l}(h,v,o,u),function aT(i,o,l,u,h,v){let x=v?o.classBindings:o.styleBindings,N=sh(x),z=oh(x);i[u]=l;let me,se=!1;if(Array.isArray(l)?(me=l[1],(null===me||pl(l,me)>0)&&(se=!0)):me=l,h)if(0!==z){const lt=sh(i[N+1]);i[u+1]=QE(lt,N),0!==lt&&(i[lt+1]=jm(i[lt+1],u)),i[N+1]=function oD(i,o){return 131071&i|o<<17}(i[N+1],u)}else i[u+1]=QE(N,0),0!==N&&(i[N+1]=jm(i[N+1],u)),N=u;else i[u+1]=QE(z,0),0===N?N=u:i[z+1]=jm(i[z+1],u),z=u;se&&(i[u+1]=$y(i[u+1])),cT(i,me,u,!0),cT(i,me,u,!1),function lT(i,o,l,u,h){const v=h?i.residualClasses:i.residualStyles;null!=v&&"string"==typeof o&&pl(v,o)>=0&&(l[u+1]=$m(l[u+1]))}(o,me,i,u,v),x=QE(N,z),v?o.classBindings=x:o.styleBindings=x}(h,v,o,l,x,u)}}function XE(i,o,l,u,h){let v=null;const x=l.directiveEnd;let N=l.directiveStylingLast;for(-1===N?N=l.directiveStart:N++;N<x&&(v=o[N],u=pg(u,v.hostAttrs,h),v!==i);)N++;return null!==i&&(l.directiveStylingLast=N),u}function pg(i,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let v=0;v<o.length;v++){const x=o[v];"number"==typeof x?h=x:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Oo(i,x,!!l||o[++v]))}return void 0===i?null:i}function iu(i,o,l){const u=String(o);""!==u&&!u.includes(" ")&&Oo(i,u,l)}function gg(i,o,l,u,h,v,x,N){if(!(3&o.type))return;const z=i.data,se=z[N+1],me=function aD(i){return 1==(1&i)}(se)?zm(z,o,l,h,oh(se),x):void 0;zu(me)||(zu(v)||function jy(i){return 2==(2&i)}(se)&&(v=zm(z,null,l,h,N,x)),function S(i,o,l,u,h){if(o)h?i.addClass(l,u):i.removeClass(l,u);else{let v=-1===u.indexOf("-")?void 0:Kd.DashCase;null==h?i.removeStyle(l,u,v):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),v|=Kd.Important),i.setStyle(l,u,h,v))}}(u,x,Wi(zr(),l),h,v))}function zm(i,o,l,u,h,v){const x=null===o;let N;for(;h>0;){const z=i[h],se=Array.isArray(z),me=se?z[1]:z,ke=null===me;let lt=l[h+1];lt===ts&&(lt=ke?bn:void 0);let At=ke?Vu(lt,u):me===u?lt:void 0;if(se&&!zu(At)&&(At=Vu(z,u)),zu(At)&&(N=At,x))return N;const cn=i[h+1];h=x?sh(cn):oh(cn)}if(null!==o){let z=v?o.residualClasses:o.residualStyles;null!=z&&(N=Vu(z,u))}return N}function zu(i){return void 0!==i}function yT(i,o){return 0!=(i.flags&(o?8:16))}function vT(i,o=""){const l=ht(),u=ki(),h=i+ii,v=u.firstCreatePass?Jh(u,h,1,o,null):u.data[h],x=Kf(u,l,v,o,i);l[h]=x,dl()&&Bu(u,l,x,v),wo(v,!1)}let Kf=(i,o,l,u,h)=>(ma(!0),Mp(o[Rr],u));function zy(i){return Wy("",i,""),zy}function Wy(i,o,l){const u=ht(),h=Hf(u,i,o,l);return h!==ts&&function th(i,o,l){const u=Wi(o,i);!function x0(i,o,l){i.setValue(o,l)}(i[Rr],u,l)}(u,zr(),h),Wy}function rc(i,o,l){const u=ht();return nu(u,bt(),o)&&$u(ki(),Xr(),u,i,o,u[Rr],l,!0),rc}const ch=void 0;var _D=["en",[["a","p"],["AM","PM"],ch],[["AM","PM"],ch,ch],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ch,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ch,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ch,"{1} 'at' {0}",ch],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pw(i){const l=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let mg={};function iv(i){const o=function gw(i){return i.toLowerCase().replace(/_/g,"-")}(i);let l=xT(o);if(l)return l;const u=o.split("-")[0];if(l=xT(u),l)return l;if("en"===u)return _D;throw new Xe(701,!1)}function RT(i){return iv(i)[uh.PluralCase]}function xT(i){return i in mg||(mg[i]=Tr.ng&&Tr.ng.common&&Tr.ng.common.locales&&Tr.ng.common.locales[i]),mg[i]}var uh=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(uh||{});const Dh="en-US",_g={marker:"element"},Km={marker:"ICU"};var xu=function(i){return i[i.SHIFT=2]="SHIFT",i[i.APPEND_EAGERLY=1]="APPEND_EAGERLY",i[i.COMMENT=2]="COMMENT",i}(xu||{});let _w=Dh;function yw(i){(function ln(i,o){null==i&&gn(o,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(_w=i.toLowerCase().replace(/_/g,"-"))}function Ym(i,o,l){const u=o.insertBeforeIndex,h=Array.isArray(u)?u[0]:u;return null===h?V_(i,0,l):$t(l[h])}function MT(i,o,l,u,h){const v=o.insertBeforeIndex;if(Array.isArray(v)){let x=u,N=null;if(3&o.type||(N=x,x=h),null!==x&&-1===o.componentOffset)for(let z=1;z<v.length;z++)$h(i,x,l[v[z]],N,!1)}}function NT(i,o){if(i.push(o),i.length>1)for(let l=i.length-2;l>=0;l--){const u=i[l];Yf(u)||vD(u,o)&&null===ED(u)&&Qf(u,o.index)}}function Yf(i){return!(64&i.type)}function vD(i,o){return Yf(o)||i.index>o.index}function ED(i){const o=i.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function Qf(i,o){const l=i.insertBeforeIndex;Array.isArray(l)?l[0]=o:(V0(Ym,MT),i.insertBeforeIndex=o)}function Qm(i,o,l){const u=_E(i,l,64,null,null);return NT(o,u),u}function wD(){const i=[];let l,u,o=-1;function v(N,z){o=0;const se=function Zm(i,o){const l=o[i.currentCaseLViewIndex];return null===l?l:l<0?~l:l}(N,z);u=null!==se?N.remove[se]:bn}function x(){if(o<u.length){const N=u[o++];return N>0?l[N]:(i.push(o,u),v(l[wn].data[~N],l),x())}return 0===i.length?null:(u=i.pop(),o=i.pop(),x())}return function h(N,z){for(l=z;i.length;)i.pop();return v(N.value,z),x}}const Xm=/\ufffd(\d+):?\d*\ufffd/gi,e_=/\ufffd(\d+)\ufffd/,bw=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,af="\ufffd",t_=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Jf=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Iw=/\uE500/g;function Tw(i,o,l,u,h,v,x){const N=Uf(i,u,1,null);let z=N<<xu.SHIFT,se=zc();o===se&&(se=null),null===se&&(z|=xu.APPEND_EAGERLY),x&&(z|=xu.COMMENT,function Uh(i){void 0===qa&&(qa=i())}(wD)),h.push(z,null===v?"":v);const me=_E(i,N,x?32:1,null===v?"":v,null);NT(l,me);const ke=me.index;return wo(me,!1),null!==se&&o!==se&&function kT(i,o){let l=i.insertBeforeIndex;null===l?(V0(Ym,MT),l=i.insertBeforeIndex=[null,o]):(function lr(i,o,l){i!=o&&gn(l,i,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(se,ke),me}function SD(i,o,l,u,h,v,x){const N=x.match(Xm),z=Tw(i,o,l,v,u,N?null:x,!1);N&&Wu(h,x,z.index,null,0,null)}function Wu(i,o,l,u,h,v){const x=i.length,N=x+1;i.push(null,null);const z=x+2,se=o.split(Xm);let me=0;for(let ke=0;ke<se.length;ke++){const lt=se[ke];if(1&ke){const At=h+parseInt(lt,10);i.push(-1-At),me|=n_(At)}else""!==lt&&i.push(lt)}return i.push(l<<2|(u?1:0)),u&&i.push(u,v),i[x]=me,i[N]=i.length-z,me}function n_(i){return 1<<Math.min(i,31)}function Qa(i){let o,v,l="",u=0,h=!1;for(;null!==(o=t_.exec(i));)h?o[0]===`${af}/*${v}${af}`&&(u=o.index,h=!1):(l+=i.substring(u,o.index+o[0].length),v=o[1],h=!0);return l+=i.slice(u),l}function bg(i,o,l,u,h,v){let x=0;const N={type:h.type,currentCaseLViewIndex:Uf(i,o,1,null),anchorIdx:v,cases:[],create:[],remove:[],update:[]};(function DD(i,o,l){i.push(n_(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,h,v),function av(i,o,l){const u=i.data[o];null===u?i.data[o]=l:u.value=l}(i,v,N);const z=h.values;for(let se=0;se<z.length;se++){const me=z[se],ke=[];for(let lt=0;lt<me.length;lt++){const At=me[lt];if("string"!=typeof At){const cn=ke.push(At)-1;me[lt]=`\x3c!--\ufffd${cn}\ufffd--\x3e`}}x=GT(i,N,o,l,u,h.cases[se],me.join(""),ke)|x}x&&function i_(i,o,l){i.push(o,1,l<<2|3)}(l,x,v)}function r_(i){const o=[],l=[];let u=1,h=0;const v=Sw(i=i.replace(bw,function(x,N,z){return u="select"===z?0:1,h=parseInt(N.slice(1),10),""}));for(let x=0;x<v.length;){let N=v[x++].trim();1===u&&(N=N.replace(/\s*(?:=)?(\w+)\s*/,"$1")),N.length&&o.push(N);const z=Sw(v[x++]);o.length>l.length&&l.push(z)}return{type:u,mainBinding:h,cases:o,values:l}}function Sw(i){if(!i)return[];let o=0;const l=[],u=[],h=/[{}]/g;let v;for(h.lastIndex=0;v=h.exec(i);){const N=v.index;if("}"==v[0]){if(l.pop(),0==l.length){const z=i.substring(o,N);bw.test(z)?u.push(r_(z)):u.push(z),o=N+1}}else{if(0==l.length){const z=i.substring(o,N);u.push(z),o=N+1}l.push("{")}}const x=i.substring(o);return u.push(x),u}function GT(i,o,l,u,h,v,x,N){const z=[],se=[],me=[];o.cases.push(v),o.create.push(z),o.remove.push(se),o.update.push(me);const lt=Zd(vi()).getInertBodyElement(x),At=Vp(lt)||lt;return At?HT(i,o,l,u,z,se,me,At,h,N,0):0}function HT(i,o,l,u,h,v,x,N,z,se,me){let ke=0,lt=N.firstChild;for(;lt;){const At=Uf(i,l,1,null);switch(lt.nodeType){case Node.ELEMENT_NODE:const cn=lt,kn=cn.tagName.toLowerCase();if(Of.hasOwnProperty(kn)){dh(h,_g,kn,z,At),i.data[At]=kn;const Ki=cn.attributes;for(let Os=0;Os<Ki.length;Os++){const Po=Ki.item(Os),lu=Po.name.toLowerCase();Po.value.match(Xm)?xd.hasOwnProperty(lu)&&Wu(x,Po.value,At,Po.name,0,hd[lu]?Xc:null):WT(h,At,Po)}ke=HT(i,o,l,u,h,v,x,lt,At,se,me+1)|ke,zT(v,At,me)}break;case Node.TEXT_NODE:const Ir=lt.textContent||"",pi=Ir.match(Xm);dh(h,null,pi?"":Ir,z,At),zT(v,At,me),pi&&(ke=Wu(x,Ir,At,null,0,null)|ke);break;case Node.COMMENT_NODE:const Tn=e_.exec(lt.textContent||"");if(Tn){const Os=se[parseInt(Tn[1],10)];dh(h,Km,"",z,At),bg(i,l,u,z,Os,At),CD(v,At,me)}}lt=lt.nextSibling}return ke}function zT(i,o,l){0===l&&i.push(o)}function CD(i,o,l){0===l&&(i.push(~o),i.push(o))}function dh(i,o,l,u,h){null!==o&&i.push(o),i.push(l,h,function lv(i,o,l){return i|o<<17|l<<1}(0,u,h))}function WT(i,o,l){i.push(o<<1|1,l.name,l.value)}function gv(i,o,l=-1){const u=ki(),h=ht(),v=ii+i,x=rl(u.consts,o),N=zc();u.firstCreatePass&&function jT(i,o,l,u,h,v){const x=zc(),N=[],z=[],se=[[]];h=function pv(i,o){if(function $T(i){return-1===i}(o))return Qa(i);{const l=i.indexOf(`:${o}${af}`)+2+o.toString().length,u=i.search(new RegExp(`${af}\\/\\*\\d+:${o}${af}`));return Qa(i.substring(l,u))}}(h,v);const me=function TD(i){return i.replace(Iw," ")}(h).split(Jf);for(let ke=0;ke<me.length;ke++){let lt=me[ke];if(1&ke){const At=47===lt.charCodeAt(0),kn=(lt.charCodeAt(At?1:0),ii+Number.parseInt(lt.substring(At?2:1)));if(At)se.shift(),wo(zc(),!1);else{const Ir=Qm(i,se[0],kn);se.unshift([]),wo(Ir,!0)}}else{const At=Sw(lt);for(let cn=0;cn<At.length;cn++){let kn=At[cn];if(1&cn){const Ir=kn;if("object"!=typeof Ir)throw new Error(`Unable to parse ICU expression in "${h}" message.`);bg(i,l,z,o,Ir,Tw(i,x,se[0],l,N,"",!0).index)}else""!==kn&&SD(i,x,se[0],N,z,l,kn)}}}i.data[u]={create:N,update:z}}(u,null===N?0:N.index,h,v,x,l),2===u.type?h[Ur][Yr]|=32:h[Yr]|=32;const z=u.data[v],me=Jg(u,N===h[Vi]?null:N,h);(function Jm(i,o,l,u){const h=i[Rr];for(let v=0;v<o.length;v++){const x=o[v++],N=o[v],se=(x&xu.APPEND_EAGERLY)===xu.APPEND_EAGERLY,me=x>>>xu.SHIFT;let ke=i[me];null===ke&&(ke=i[me]=(x&xu.COMMENT)===xu.COMMENT?h.createComment(N):Mp(h,N)),se&&null!==l&&$h(h,l,ke,u,!1)}})(h,z.create,me,N&&8&N.type?h[N.index]:null),Ju(!0)}function Dw(i,o,l){gv(i,o,l),function mv(){Ju(!1)}()}function ep(i,o,l,u,h){if(i=dt(i),Array.isArray(i))for(let v=0;v<i.length;v++)ep(i[v],o,l,u,h);else{const v=ki(),x=ht(),N=to();let z=Od(i)?i:dt(i.provide);const se=Kb(i),me=1048575&N.providerIndexes,ke=N.directiveStart,lt=N.providerIndexes>>20;if(Od(i)||!i.multi){const At=new co(se,h,Zh),cn=vv(z,o,h?me:me+lt,ke);-1===cn?(qc(xo(N,x),v,z),Tg(v,i,o.length),o.push(z),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),l.push(At),x.push(At)):(l[cn]=At,x[cn]=At)}else{const At=vv(z,o,me+lt,ke),cn=vv(z,o,me,me+lt),Ir=cn>=0&&l[cn];if(h&&!Ir||!h&&!(At>=0&&l[At])){qc(xo(N,x),v,z);const pi=function Pl(i,o,l,u,h){const v=new co(i,l,Zh);return v.multi=[],v.index=o,v.componentProviders=0,yv(v,h,u&&!l),v}(h?o_:s_,l.length,h,u,se);!h&&Ir&&(l[cn].providerFactory=pi),Tg(v,i,o.length,0),o.push(z),N.directiveStart++,N.directiveEnd++,h&&(N.providerIndexes+=1048576),l.push(pi),x.push(pi)}else Tg(v,i,At>-1?At:cn,yv(l[h?cn:At],se,!h&&u));!h&&u&&Ir&&l[cn].componentProviders++}}}function Tg(i,o,l,u){const h=Od(o),v=function Q_(i){return!!i.useClass}(o);if(h||v){const z=(v?dt(o.useClass):o).prototype.ngOnDestroy;if(z){const se=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const me=se.indexOf(l);-1===me?se.push(l,[u,z]):se[me+1].push(u,z)}else se.push(l,z)}}}function yv(i,o,l){return l&&i.componentProviders++,i.multi.push(o)-1}function vv(i,o,l,u){for(let h=l;h<u;h++)if(o[h]===i)return h;return-1}function s_(i,o,l,u){return Aw(this.multi,[])}function o_(i,o,l,u){const h=this.multi;let v;if(this.providerFactory){const x=this.providerFactory.componentProviders,N=hu(l,l[wn],this.providerFactory.index,u);v=N.slice(0,x),Aw(h,v);for(let z=x;z<N.length;z++)v.push(N[z])}else v=[],Aw(h,v);return v}function Aw(i,o){for(let l=0;l<i.length;l++)o.push((0,i[l])());return o}function Rw(i,o=[]){return l=>{l.providersResolver=(u,h)=>function _v(i,o,l){const u=ki();if(u.firstCreatePass){const h=zs(i);ep(l,u.data,u.blueprint,h,!0),ep(o,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,o)}}class tp{}class XT{}function ND(i,o){return new Ev(i,o??null,[])}class Ev extends tp{constructor(o,l,u){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jI(this);const h=_s(o);this._bootstrapComponents=wh(h.bootstrap),this._r3Injector=cy(o,l,[{provide:tp,useValue:this},{provide:Md,useValue:this.componentFactoryResolver},...u],Ke(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class wv extends XT{constructor(o){super(),this.moduleType=o}create(o){return new Ev(this.moduleType,o,[])}}class xw extends tp{constructor(o){super(),this.componentFactoryResolver=new jI(this),this.instance=null;const l=new om([...o.providers,{provide:tp,useValue:this},{provide:Md,useValue:this.componentFactoryResolver}],o.parent||J_(),o.debugName,new Set(["environment"]));this.injector=l,o.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Fd(i,o,l=null){return new xw({providers:i,parent:o,debugName:l,runEnvironmentInitializers:!0}).injector}let e1=(()=>{var i;class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const h=Wb(0,u.type),v=h.length>0?Fd([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,v)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return(i=o).\u0275prov=Wn({token:i,providedIn:"environment",factory:()=>new i(nn(Pd))}),o})();function t1(i){i.getStandaloneInjector=o=>o.get(e1).getOrCreateStandaloneInjector(i)}function kw(i,o,l,u){return function np(i,o,l,u,h,v){const x=o+l;return nu(i,x,h)?nh(i,x+1,v?u.call(v,h):u(h)):Cg(i,x+1)}(ht(),bo(),i,o,l,u)}function lf(i,o,l,u,h){return function h1(i,o,l,u,h,v,x){const N=o+l;return Xh(i,N,h,v)?nh(i,N+2,x?u.call(x,h,v):u(h,v)):Cg(i,N+2)}(ht(),bo(),i,o,l,u,h)}function Fw(i,o,l,u,h,v){return function pd(i,o,l,u,h,v,x,N){const z=o+l;return function Lm(i,o,l,u,h){const v=Xh(i,o,l,u);return nu(i,o+2,h)||v}(i,z,h,v,x)?nh(i,z+3,N?u.call(N,h,v,x):u(h,v,x)):Cg(i,z+3)}(ht(),bo(),i,o,l,u,h,v)}function Cg(i,o){const l=i[o];return l===ts?void 0:l}function Bc(){return this._results[Symbol.iterator]()}class Ag{get changes(){return this._changes||(this._changes=new _u)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Ag.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=Bc)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=function la(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Xl(i,o,l){if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],v=o[u];if(l&&(h=l(h),v=l(v)),v!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Nv(i,o,l,u=!0){const h=o[wn];if(function P0(i,o,l,u){const h=ps+u,v=l.length;u>0&&(l[h-1][Nr]=o),u<v-ps?(o[Nr]=l[h],rd(l,ps+u,o)):(l.push(o),o[Nr]=null),o[Ai]=l;const x=o[ya];null!==x&&l!==x&&function kp(i,o){const l=i[Ea];o[Ur]!==o[Ai][Ai][Ur]&&(i[Ba]=!0),null===l?i[Ea]=[o]:l.push(o)}(x,o);const N=o[xs];null!==N&&N.insertView(i),o[Yr]|=128}(h,o,i,l),u){const v=j_(l,i),x=o[Rr],N=Sf(x,i[so]);null!==N&&function Gb(i,o,l,u,h,v){u[Oi]=h,u[Vi]=o,Df(i,u,l,1,h,v)}(h,i[Vi],x,o,N,v)}}let hh=(()=>{class o{}return o.__NG_ELEMENT_ID__=Uw,o})();const UD=hh,jD=class extends UD{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,l){return this.createEmbeddedViewImpl(o,l)}createEmbeddedViewImpl(o,l,u){const h=function Pv(i,o,l,u){const h=o.tView,N=Ey(i,h,l,4096&i[Yr]?4096:16,null,o,null,null,null,u?.injector??null,u?.hydrationInfo??null);N[ya]=i[o.index];const se=i[xs];return null!==se&&(N[xs]=se.createEmbeddedView(h)),Ry(h,N,l),N}(this._declarationLView,this._declarationTContainer,o,{injector:l,hydrationInfo:u});return new Pm(h)}};function Uw(){return kv(to(),ht())}function kv(i,o){return 4&i.type?new jD(o,i,Qp(i,o)):null}let Ld=(()=>{class o{}return o.__NG_ELEMENT_ID__=jw,o})();function jw(){return Fv(to(),ht())}const Jx=Ld,jn=class extends Jx{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return Qp(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const o=Cl(this._hostTNode,this._hostLView);if(Uo(o)){const l=wc(o,this._hostLView),u=Ks(o);return new $o(l[wn].data[u+8],l)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Ml(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-ps}createEmbeddedView(o,l,u){let h,v;"number"==typeof u?h=u:null!=u&&(h=u.index,v=u.injector);const N=o.createEmbeddedViewImpl(l||{},v,null);return this.insertImpl(N,h,false),N}createComponent(o,l,u,h,v){const x=o&&!function $l(i){return"function"==typeof i}(o);let N;if(x)N=l;else{const kn=l||{};N=kn.index,u=kn.injector,h=kn.projectableNodes,v=kn.environmentInjector||kn.ngModuleRef}const z=x?o:new Oy(hi(o)),se=u||this.parentInjector;if(!v&&null==z.ngModule){const Ir=(x?se:this.parentInjector).get(Pd,null);Ir&&(v=Ir)}hi(z.componentType??{});const At=z.create(se,h,null,v);return this.insertImpl(At.hostView,N,false),At}insert(o,l){return this.insertImpl(o,l,!1)}insertImpl(o,l,u){const h=o._lView;if(function Do(i){return Ni(i[Ai])}(h)){const z=this.indexOf(o);if(-1!==z)this.detach(z);else{const se=h[Ai],me=new jn(se,se[Vi],se[Ai]);me.detach(me.indexOf(o))}}const x=this._adjustIndex(l),N=this._lContainer;return Nv(N,h,x,!u),o.attachToViewContainerRef(),rd(Ku(N),x,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Ml(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=bf(this._lContainer,l);u&&(dc(Ku(this._lContainer),l),If(u[wn],u))}detach(o){const l=this._adjustIndex(o,-1),u=bf(this._lContainer,l);return u&&null!=dc(Ku(this._lContainer),l)?new Pm(u):null}_adjustIndex(o,l=0){return o??this.length+l}};function Ml(i){return i[8]}function Ku(i){return i[8]||(i[8]=[])}function Fv(i,o){let l;const u=o[i.index];return Ni(u)?l=u:(l=DE(u,o,null,i),o[i.index]=l,Rm(o,l)),ci(l,o,i,u),new jn(l,i,o)}let ci=function HD(i,o,l,u){if(i[so])return;let h;h=8&l.type?$t(u):function Qr(i,o){const l=i[Rr],u=l.createComment(""),h=hs(o,i);return $h(l,Sf(l,h),u,function F0(i,o){return i.nextSibling(o)}(l,h),!1),u}(o,l),i[so]=h};class Rn{constructor(o){this.queryList=o,this.matches=null}clone(){return new Rn(this.queryList)}setDirty(){this.queryList.setDirty()}}class ql{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let v=0;v<u;v++){const x=l.getByIndex(v);h.push(this.queries[x.indexInDeclarationView].clone())}return new ql(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==uo(o,l).matches&&this.queries[l].setDirty()}}class $w{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class Gw{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,v=this.getByIndex(u).embeddedTView(o,h);v&&(v.indexInDeclarationView=u,null!==l?l.push(v):l=[v])}return null!==l?new Gw(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Hw{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Hw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const v=u[h];this.matchTNodeWithReadOption(o,l,zD(l,v)),this.matchTNodeWithReadOption(o,l,kc(l,o,v,!1,!1))}else u===hh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,kc(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Bf||h===Ld||h===hh&&4&l.type)this.addMatch(l.index,-2);else{const v=kc(l,o,h,!1,!1);null!==v&&this.addMatch(l.index,v)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function zD(i,o){const l=i.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function qD(i,o,l,u){return-1===l?function WD(i,o){return 11&i.type?Qp(i,o):4&i.type?kv(i,o):null}(o,i):-2===l?function y1(i,o,l){return l===Bf?Qp(o,i):l===hh?kv(o,i):l===Ld?Fv(o,i):void 0}(i,o,u):hu(i,i[wn],l,o)}function v1(i,o,l,u){const h=o[xs].queries[u];if(null===h.matches){const v=i.data,x=l.matches,N=[];for(let z=0;z<x.length;z+=2){const se=x[z];N.push(se<0?null:qD(o,v[se],x[z+1],l.metadata.read))}h.matches=N}return h.matches}function E1(i,o,l,u){const h=i.queries.getByIndex(l),v=h.matches;if(null!==v){const x=v1(i,o,h,l);for(let N=0;N<v.length;N+=2){const z=v[N];if(z>0)u.push(x[N/2]);else{const se=v[N+1],me=o[-z];for(let ke=ps;ke<me.length;ke++){const lt=me[ke];lt[ya]===lt[Ai]&&E1(lt[wn],lt,se,u)}if(null!==me[Ea]){const ke=me[Ea];for(let lt=0;lt<ke.length;lt++){const At=ke[lt];E1(At[wn],At,se,u)}}}}}return u}function w1(i){const o=ht(),l=ki(),u=E();C(u+1);const h=uo(l,u);if(i.dirty&&function Lt(i){return 4==(4&i[Yr])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const v=h.crossesNgTemplate?E1(l,o,u,[]):v1(l,o,h,u);i.reset(v,uC),i.notifyOnChanges()}return!0}return!1}function zw(i,o,l){const u=ki();u.firstCreatePass&&(fi(u,new $w(i,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),_l(u,ht(),o)}function qi(i,o,l,u){const h=ki();if(h.firstCreatePass){const v=to();fi(h,new $w(o,l,u),v.index),function a_(i,o){const l=i.contentQueries||(i.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(i.queries.length-1,o)}(h,i),2==(2&l)&&(h.staticContentQueries=!0)}_l(h,ht(),l)}function op(){return function b1(i,o){return i[xs].queries[o].queryList}(ht(),E())}function _l(i,o,l){const u=new Ag(4==(4&l));(function EC(i,o,l,u){const h=FI(o);h.push(l),i.firstCreatePass&&LI(i).push(u,h.length-1)})(i,o,u,u.destroy),null===o[xs]&&(o[xs]=new ql),o[xs].queries.push(new Rn(u))}function fi(i,o,l){null===i.queries&&(i.queries=new Gw),i.queries.track(new Hw(o,l))}function uo(i,o){return i.queries.getByIndex(o)}function I1(i,o){return kv(i,o)}function qw(i){return!!_s(i)}const eb=new ea("Application Initializer");let Da=(()=>{var i;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h}),this.appInits=xn(eb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const v of this.appInits){const x=v();if(HE(x))u.push(x);else if(QC(x)){const N=new Promise((z,se)=>{x.subscribe({complete:z,error:se})});u.push(N)}}const h=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{h()}).catch(v=>{this.reject(v)}),0===u.length&&h(),this.initialized=!0}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})(),d_=(()=>{var i;class o{log(u){console.log(u)}warn(u){console.warn(u)}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wn({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();const Aa=new ea("LocaleId",{providedIn:"root",factory:()=>xn(Aa,pn.Optional|pn.SkipSelf)||function $c(){return typeof $localize<"u"&&$localize.locale||Dh}()}),L1=new ea("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let lA=(()=>{var i;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Me.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();class gc{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let cA=(()=>{var i;class o{compileModuleSync(u){return new wv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),x=wh(_s(u).declarations).reduce((N,z)=>{const se=hi(z);return se&&N.push(new Oy(se)),N},[]);return new gc(h,x)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();const sb=new ea(""),Rc=new ea("");let zv,j1=(()=>{var i;class o{constructor(u,h,v){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zv||(function pf(i){zv=i}(v),v.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nc.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,v){let x=-1;h&&h>0&&(x=setTimeout(()=>{this._callbacks=this._callbacks.filter(N=>N.timeoutId!==x),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:x,updateCb:v})}whenStable(u,h,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,v){return[]}}return(i=o).\u0275fac=function(u){return new(u||i)(nn(nc),nn(Za),nn(Rc))},i.\u0275prov=Wn({token:i,factory:i.\u0275fac}),o})(),Za=(()=>{var i;class o{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return zv?.findTestabilityInTree(this,u,h)??null}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wn({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})(),Ph=null;const hp=new ea("AllowMultipleToken"),ob=new ea("PlatformDestroyListeners"),Wv=new ea("appBootstrapListener");class lb{constructor(o,l){this.name=o,this.token=l}}function db(i,o,l=[]){const u=`Platform: ${o}`,h=new ea(u);return(v=[])=>{let x=qv();if(!x||x.injector.get(hp,!1)){const N=[...l,...v,{provide:h,useValue:!0}];i?i(N):function $1(i){if(Ph&&!Ph.get(hp,!1))throw new Xe(400,!1);(function fp(){!function Fl(i){Yl=i}(()=>{throw new Xe(600,!1)})})(),Ph=i;const o=i.get(H1);(function ub(i){i.get(q0,null)?.forEach(l=>l())})(i)}(function G1(i=[],o){return fd.create({name:o,providers:[{provide:sm,useValue:"platform"},{provide:ob,useValue:new Set([()=>Ph=null])},...i]})}(N,u))}return function hA(i){const o=qv();if(!o)throw new Xe(401,!1);return o}()}}function qv(){return Ph?.get(H1)??null}let H1=(()=>{var i;class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const v=function fA(i="zone.js",o){return"noop"===i?new hI:"zone.js"===i?new nc(o):i}(h?.ngZone,function hb(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:h?.ngZoneEventCoalescing,runCoalescing:h?.ngZoneRunCoalescing}));return v.run(()=>{const x=function bv(i,o,l){return new Ev(i,o,l)}(u.moduleType,this.injector,function gh(i){return[{provide:nc,useFactory:i},{provide:im,multi:!0,useFactory:()=>{const o=xn(q1,{optional:!0});return()=>o.initialize()}},{provide:__,useFactory:Kv},{provide:fI,useFactory:uE}]}(()=>v)),N=x.injector.get(ju,null);return v.runOutsideAngular(()=>{const z=v.onError.subscribe({next:se=>{N.handleError(se)}});x.onDestroy(()=>{ph(this._modules,x),z.unsubscribe()})}),function z1(i,o,l){try{const u=l();return HE(u)?u.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>i.handleError(u)),u}}(N,v,()=>{const z=x.injector.get(Da);return z.runInitializers(),z.donePromise.then(()=>(yw(x.injector.get(Aa,Dh)||Dh),this._moduleDoBootstrap(x),x))})})}bootstrapModule(u,h=[]){const v=W1({},h);return function ro(i,o,l){const u=new wv(l);return Promise.resolve(u)}(0,0,u).then(x=>this.bootstrapModuleFactory(x,v))}_moduleDoBootstrap(u){const h=u.injector.get(gf);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(v=>h.bootstrap(v));else{if(!u.instance.ngDoBootstrap)throw new Xe(-403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(ob,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(i=o).\u0275fac=function(u){return new(u||i)(nn(fd))},i.\u0275prov=Wn({token:i,factory:i.\u0275fac,providedIn:"platform"}),o})();function W1(i,o){return Array.isArray(o)?o.reduce(W1,i):{...i,...o}}let gf=(()=>{var i;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=xn(__),this.zoneIsStable=xn(fI),this.componentTypes=[],this.components=[],this.isStable=xn(lA).hasPendingTasks.pipe((0,ct.w)(u=>u?(0,He.of)(!1):this.zoneIsStable),(0,nt.x)(),(0,Se.B)()),this._injector=xn(Pd)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const v=u instanceof Yp;if(!this._injector.get(Da).done)throw!v&&Hr(u),new Xe(405,!1);let N;N=v?u:this._injector.get(Md).resolveComponentFactory(u),this.componentTypes.push(N.componentType);const z=function ab(i){return i.isBoundToModule}(N)?void 0:this._injector.get(tp),me=N.create(fd.NULL,[],h||N.selector,z),ke=me.location.nativeElement,lt=me.injector.get(sb,null);return lt?.registerApplication(ke),me.onDestroy(()=>{this.detachView(me.hostView),ph(this.components,me),lt?.unregisterApplication(ke)}),this._loadComponent(me),me}tick(){if(this._runningTick)throw new Xe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;ph(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const h=this._injector.get(Wv,[]);h.push(...this._bootstrapListeners),h.forEach(v=>v(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>ph(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Xe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function ph(i,o){const l=i.indexOf(o);l>-1&&i.splice(l,1)}const __=new ea("",{providedIn:"root",factory:()=>xn(ju).handleError.bind(void 0)});function Kv(){const i=xn(nc),o=xn(ju);return l=>i.runOutsideAngular(()=>o.handleError(l))}let q1=(()=>{var i;class o{constructor(){this.zone=xn(nc),this.applicationRef=xn(gf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(i=o).\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wn({token:i,factory:i.\u0275fac,providedIn:"root"}),o})();function kg(){return!1}let pp=(()=>{class o{}return o.__NG_ELEMENT_ID__=Eu,o})();function Eu(i){return function pb(i,o,l){if(oo(i)&&!l){const u=Sn(i.index,o);return new Pm(u,u)}return 47&i.type?new Pm(o[Ur],o):null}(to(),ht(),16==(16&i))}class t0{constructor(){}supports(o){return Ih(o)}create(o){return new eS(o)}}const X1=(i,o)=>o;class eS{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||X1}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,v=null;for(;l||u;){const x=!u||l&&l.currentIndex<rS(u,h,v)?l:u,N=rS(x,h,v),z=x.currentIndex;if(x===u)h--,u=u._nextRemoved;else if(l=l._next,null==x.previousIndex)h++;else{v||(v=[]);const se=N-h,me=z-h;if(se!=me){for(let lt=0;lt<se;lt++){const At=lt<v.length?v[lt]:v[lt]=0,cn=At+lt;me<=cn&&cn<se&&(v[lt]=At+1)}v[x.previousIndex]=me-se}}N!==z&&o(x,N,z)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ih(o))throw new Xe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,v,x,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let N=0;N<this.length;N++)v=o[N],x=this._trackByFn(N,v),null!==l&&Object.is(l.trackById,x)?(u&&(l=this._verifyReinsertion(l,v,x,N)),Object.is(l.item,v)||this._addIdentityChange(l,v)):(l=this._mismatch(l,v,x,N),u=!0),l=l._next}else h=0,function km(i,o){if(Array.isArray(i))for(let l=0;l<i.length;l++)o(i[l]);else{const l=i[Symbol.iterator]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,N=>{x=this._trackByFn(h,N),null!==l&&Object.is(l.trackById,x)?(u&&(l=this._verifyReinsertion(l,N,x,h)),Object.is(l.item,N)||this._addIdentityChange(l,N)):(l=this._mismatch(l,N,x,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let v;return null===o?v=this._itTail:(v=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,v,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,v,h)):o=this._addAfter(new tS(l,u),v,h),o}_verifyReinsertion(o,l,u,h){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==v?o=this._reinsertAfter(v,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,v=o._nextRemoved;return null===h?this._removalsHead=v:h._nextRemoved=v,null===v?this._removalsTail=h:v._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new nS),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nS),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class tS{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class n0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class nS{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new n0,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rS(i,o,l){const u=i.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class _b{constructor(){}supports(o){return o instanceof Map||My(o)}create(){return new Fg}}class Fg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||My(o)))throw new Xe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const v=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,v)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const v=h._prev,x=h._next;return v&&(v._next=x),x&&(x._prev=v),h._next=null,h._prev=null,h}const u=new _p(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class _p{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yb(){return new Nh([new t0])}let Nh=(()=>{var i;class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const v=h.factories.slice();u=u.concat(v)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||yb()),deps:[[o,new Kn,new Yt]]}}find(u){const h=this.factories.find(v=>v.supports(u));if(null!=h)return h;throw new Xe(901,!1)}}return(i=o).\u0275prov=Wn({token:i,providedIn:"root",factory:yb}),o})();function yp(){return new r0([new _b])}let r0=(()=>{var i;class o{constructor(u){this.factories=u}static create(u,h){if(h){const v=h.factories.slice();u=u.concat(v)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||yp()),deps:[[o,new Kn,new Yt]]}}find(u){const h=this.factories.find(v=>v.supports(u));if(h)return h;throw new Xe(901,!1)}}return(i=o).\u0275prov=Wn({token:i,providedIn:"root",factory:yp}),o})();const yl=db(null,"core",[]);let s0=(()=>{var i;class o{constructor(u){}}return(i=o).\u0275fac=function(u){return new(u||i)(nn(gf))},i.\u0275mod=go({type:i}),i.\u0275inj=Fn({}),o})();function wA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function DA(i,o){const l=hi(i),u=o.elementInjector||J_();return new Oy(l).create(u,o.projectableNodes,o.hostElement,o.environmentInjector)}function pS(i){const o=hi(i);if(!o)return null;const l=new Oy(o);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3399:(Pn,_t,Y)=>{Y.d(_t,{Z:()=>Jt});var d=Y(9058),fe=Y(4537),ve=Y(7592),X=Y(7879);class Me{constructor(fn,Kt){this._delegate=fn,this.firebase=Kt,(0,ve._addComponent)(fn,new fe.wA("app-compat",()=>this,"PUBLIC")),this.container=fn.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fn){this._delegate.automaticDataCollectionEnabled=fn}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fn=>{this._delegate.checkDestroyed(),fn()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ve.deleteApp)(this._delegate)))}_getService(fn,Kt=ve._DEFAULT_ENTRY_NAME){var Vn;this._delegate.checkDestroyed();const In=this._delegate.container.getProvider(fn);return!In.isInitialized()&&"EXPLICIT"===(null===(Vn=In.getComponent())||void 0===Vn?void 0:Vn.instantiationMode)&&In.initialize(),In.getImmediate({identifier:Kt})}_removeServiceInstance(fn,Kt=ve._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fn).clearInstance(Kt)}_addComponent(fn){(0,ve._addComponent)(this._delegate,fn)}_addOrOverwriteComponent(fn){(0,ve._addOrOverwriteComponent)(this._delegate,fn)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ie=function nt(){const dt=function ct(dt){const fn={},Kt={__esModule:!0,initializeApp:function Xe(Nt,xe={}){const Wt=ve.initializeApp(Nt,xe);if((0,d.r3)(fn,Wt.name))return fn[Wt.name];const hn=new dt(Wt,Kt);return fn[Wt.name]=hn,hn},app:In,registerVersion:ve.registerVersion,setLogLevel:ve.setLogLevel,onLog:ve.onLog,apps:null,SDK_VERSION:ve.SDK_VERSION,INTERNAL:{registerComponent:function gt(Nt){const xe=Nt.name,Wt=xe.replace("-compat","");if(ve._registerComponent(Nt)&&"PUBLIC"===Nt.type){const hn=(zn=In())=>{if("function"!=typeof zn[Wt])throw Se.create("invalid-app-argument",{appName:xe});return zn[Wt]()};void 0!==Nt.serviceProps&&(0,d.ZB)(hn,Nt.serviceProps),Kt[Wt]=hn,dt.prototype[Wt]=function(...zn){return this._getService.bind(this,xe).apply(this,Nt.multipleInstances?zn:[])}}return"PUBLIC"===Nt.type?Kt[Wt]:null},removeApp:function Vn(Nt){delete fn[Nt]},useAsService:function mt(Nt,xe){return"serverAuth"===xe?null:xe},modularAPIs:ve}};function In(Nt){if(!(0,d.r3)(fn,Nt=Nt||ve._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:Nt});return fn[Nt]}return Kt.default=Kt,Object.defineProperty(Kt,"apps",{get:function Tt(){return Object.keys(fn).map(Nt=>fn[Nt])}}),In.App=dt,Kt}(Me);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:nt,extendNamespace:function fn(Kt){(0,d.ZB)(dt,Kt)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),dt}(),Ae=new X.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){Ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&Ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Jt=Ie;!function ze(dt){(0,ve.registerVersion)("@firebase/app-compat","0.2.13",dt)}()},7592:(Pn,_t,Y)=>{Y.r(_t),Y.d(_t,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>Fn,_DEFAULT_ENTRY_NAME:()=>Qe,_addComponent:()=>Dt,_addOrOverwriteComponent:()=>rn,_apps:()=>wt,_clearComponents:()=>cr,_components:()=>at,_getProvider:()=>gn,_registerComponent:()=>ln,_removeServiceInstance:()=>Zr,deleteApp:()=>Ct,getApp:()=>Ue,getApps:()=>Je,initializeApp:()=>Br,onLog:()=>Xt,registerVersion:()=>xt,setLogLevel:()=>br});var d=Y(5861),fe=Y(4537),ve=Y(7879),X=Y(9058),Me=Y(1878);class He{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(jt=>{if(function Se(yt){const Ge=yt.getComponent();return"VERSION"===Ge?.type}(jt)){const Et=jt.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(jt=>jt).join(" ")}}const ct="@firebase/app",Ie=new ve.Yd("@firebase/app"),Qe="[DEFAULT]",rt={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,at=new Map;function Dt(yt,Ge){try{yt.container.addComponent(Ge)}catch(jt){Ie.debug(`Component ${Ge.name} failed to register with FirebaseApp ${yt.name}`,jt)}}function rn(yt,Ge){yt.container.addOrOverwriteComponent(Ge)}function ln(yt){const Ge=yt.name;if(at.has(Ge))return Ie.debug(`There were multiple attempts to register component ${Ge}.`),!1;at.set(Ge,yt);for(const jt of wt.values())Dt(jt,yt);return!0}function gn(yt,Ge){const jt=yt.container.getProvider("heartbeat").getImmediate({optional:!0});return jt&&jt.triggerHeartbeat(),yt.container.getProvider(Ge)}function Zr(yt,Ge,jt=Qe){gn(yt,Ge).clearInstance(jt)}function cr(){at.clear()}const Wn=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pr{constructor(Ge,jt,Et){this._isDeleted=!1,this._options=Object.assign({},Ge),this._config=Object.assign({},jt),this._name=jt.name,this._automaticDataCollectionEnabled=jt.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new fe.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ge){this._isDeleted=Ge}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const Fn="9.23.0";function Br(yt,Ge={}){let jt=yt;"object"!=typeof Ge&&(Ge={name:Ge});const Et=Object.assign({name:Qe,automaticDataCollectionEnabled:!1},Ge),un=Et.name;if("string"!=typeof un||!un)throw Wn.create("bad-app-name",{appName:String(un)});if(jt||(jt=(0,X.aH)()),!jt)throw Wn.create("no-options");const En=wt.get(un);if(En){if((0,X.vZ)(jt,En.options)&&(0,X.vZ)(Et,En.config))return En;throw Wn.create("duplicate-app",{appName:un})}const ar=new fe.H0(un);for(const pe of at.values())ar.addComponent(pe);const Le=new Pr(jt,Et,ar);return wt.set(un,Le),Le}function Ue(yt=Qe){const Ge=wt.get(yt);if(!Ge&&yt===Qe&&(0,X.aH)())return Br();if(!Ge)throw Wn.create("no-app",{appName:yt});return Ge}function Je(){return Array.from(wt.values())}function Ct(yt){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(yt){const Ge=yt.name;wt.has(Ge)&&(wt.delete(Ge),yield Promise.all(yt.container.getProviders().map(jt=>jt.delete())),yt.isDeleted=!0)})).apply(this,arguments)}function xt(yt,Ge,jt){var Et;let un=null!==(Et=rt[yt])&&void 0!==Et?Et:yt;jt&&(un+=`-${jt}`);const En=un.match(/\s|\//),ar=Ge.match(/\s|\//);if(En||ar){const Le=[`Unable to register library "${un}" with version "${Ge}":`];return En&&Le.push(`library name "${un}" contains illegal characters (whitespace or "/")`),En&&ar&&Le.push("and"),ar&&Le.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void Ie.warn(Le.join(" "))}ln(new fe.wA(`${un}-version`,()=>({library:un,version:Ge}),"VERSION"))}function Xt(yt,Ge){if(null!==yt&&"function"!=typeof yt)throw Wn.create("invalid-log-argument");(0,ve.Am)(yt,Ge)}function br(yt){(0,ve.Ub)(yt)}const sr="firebase-heartbeat-database",pn=1,Dn="firebase-heartbeat-store";let or=null;function yr(){return or||(or=(0,Me.X3)(sr,pn,{upgrade:(yt,Ge)=>{0===Ge&&yt.createObjectStore(Dn)}}).catch(yt=>{throw Wn.create("idb-open",{originalErrorMessage:yt.message})})),or}function Ri(){return(Ri=(0,d.Z)(function*(yt){try{return yield(yield yr()).transaction(Dn).objectStore(Dn).get(ti(yt))}catch(Ge){if(Ge instanceof X.ZR)Ie.warn(Ge.message);else{const jt=Wn.create("idb-get",{originalErrorMessage:Ge?.message});Ie.warn(jt.message)}}})).apply(this,arguments)}function Tr(yt,Ge){return ei.apply(this,arguments)}function ei(){return(ei=(0,d.Z)(function*(yt,Ge){try{const Et=(yield yr()).transaction(Dn,"readwrite");yield Et.objectStore(Dn).put(Ge,ti(yt)),yield Et.done}catch(jt){if(jt instanceof X.ZR)Ie.warn(jt.message);else{const Et=Wn.create("idb-set",{originalErrorMessage:jt?.message});Ie.warn(Et.message)}}})).apply(this,arguments)}function ti(yt){return`${yt.name}!${yt.options.appId}`}class Mr{constructor(Ge){this.container=Ge,this._heartbeatsCache=null;const jt=this.container.getProvider("app").getImmediate();this._storage=new Ts(jt),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ge=this;return(0,d.Z)(function*(){const Et=Ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),un=dr();if(null===Ge._heartbeatsCache&&(Ge._heartbeatsCache=yield Ge._heartbeatsCachePromise),Ge._heartbeatsCache.lastSentHeartbeatDate!==un&&!Ge._heartbeatsCache.heartbeats.some(En=>En.date===un))return Ge._heartbeatsCache.heartbeats.push({date:un,agent:Et}),Ge._heartbeatsCache.heartbeats=Ge._heartbeatsCache.heartbeats.filter(En=>{const ar=new Date(En.date).valueOf();return Date.now()-ar<=2592e6}),Ge._storage.overwrite(Ge._heartbeatsCache)})()}getHeartbeatsHeader(){var Ge=this;return(0,d.Z)(function*(){if(null===Ge._heartbeatsCache&&(yield Ge._heartbeatsCachePromise),null===Ge._heartbeatsCache||0===Ge._heartbeatsCache.heartbeats.length)return"";const jt=dr(),{heartbeatsToSend:Et,unsentEntries:un}=function Is(yt,Ge=1024){const jt=[];let Et=yt.slice();for(const un of yt){const En=jt.find(ar=>ar.agent===un.agent);if(En){if(En.dates.push(un.date),Di(jt)>Ge){En.dates.pop();break}}else if(jt.push({agent:un.agent,dates:[un.date]}),Di(jt)>Ge){jt.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:jt,unsentEntries:Et}}(Ge._heartbeatsCache.heartbeats),En=(0,X.L)(JSON.stringify({version:2,heartbeats:Et}));return Ge._heartbeatsCache.lastSentHeartbeatDate=jt,un.length>0?(Ge._heartbeatsCache.heartbeats=un,yield Ge._storage.overwrite(Ge._heartbeatsCache)):(Ge._heartbeatsCache.heartbeats=[],Ge._storage.overwrite(Ge._heartbeatsCache)),En})()}}function dr(){return(new Date).toISOString().substring(0,10)}class Ts{constructor(Ge){this.app=Ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ge=this;return(0,d.Z)(function*(){return(yield Ge._canUseIndexedDBPromise)&&(yield function ui(yt){return Ri.apply(this,arguments)}(Ge.app))||{heartbeats:[]}})()}overwrite(Ge){var jt=this;return(0,d.Z)(function*(){var Et;if(yield jt._canUseIndexedDBPromise){const En=yield jt.read();return Tr(jt.app,{lastSentHeartbeatDate:null!==(Et=Ge.lastSentHeartbeatDate)&&void 0!==Et?Et:En.lastSentHeartbeatDate,heartbeats:Ge.heartbeats})}})()}add(Ge){var jt=this;return(0,d.Z)(function*(){var Et;if(yield jt._canUseIndexedDBPromise){const En=yield jt.read();return Tr(jt.app,{lastSentHeartbeatDate:null!==(Et=Ge.lastSentHeartbeatDate)&&void 0!==Et?Et:En.lastSentHeartbeatDate,heartbeats:[...En.heartbeats,...Ge.heartbeats]})}})()}}function Di(yt){return(0,X.L)(JSON.stringify({version:2,heartbeats:yt})).length}!function Fi(yt){ln(new fe.wA("platform-logger",Ge=>new He(Ge),"PRIVATE")),ln(new fe.wA("heartbeat",Ge=>new Mr(Ge),"PRIVATE")),xt(ct,"0.9.13",yt),xt(ct,"0.9.13","esm2017"),xt("fire-js","")}("")},4097:(Pn,_t,Y)=>{Y.d(_t,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=Y(7592);(0,d.registerVersion)("firebase","9.23.0","app")},120:(Pn,_t,Y)=>{Y.d(_t,{Z:()=>d.Z});var d=Y(3399);d.Z.registerVersion("firebase","9.23.0","app-compat")},95:(Pn,_t,Y)=>{Y.d(_t,{Fj:()=>Xe,NI:()=>er,u:()=>Us,cw:()=>Jn,sg:()=>Yr,u5:()=>Co,Cf:()=>mt,JU:()=>Jt,JJ:()=>Dn,JL:()=>or,On:()=>na,UX:()=>Eo,kI:()=>Wt,_Y:()=>No});var d=Y(5879),fe=Y(6814),ve=Y(2459),X=Y(5592),Me=Y(7453),He=Y(4829),Se=Y(9940),ct=Y(8251),nt=Y(7400),Ie=Y(2714),Ke=Y(7398);let ft=(()=>{var ne;class Z{constructor(te,Oe){this._renderer=te,this._elementRef=Oe,this.onChange=mn=>{},this.onTouched=()=>{}}setProperty(te,Oe){this._renderer.setProperty(this._elementRef.nativeElement,te,Oe)}registerOnTouched(te){this.onTouched=te}registerOnChange(te){this.onChange=te}setDisabledState(te){this.setProperty("disabled",te)}}return(ne=Z).\u0275fac=function(te){return new(te||ne)(d.Y36(d.Qsj),d.Y36(d.SBq))},ne.\u0275dir=d.lG2({type:ne}),Z})(),ze=(()=>{var ne;class Z extends ft{}return(ne=Z).\u0275fac=function(){let we;return function(Oe){return(we||(we=d.n5z(ne)))(Oe||ne)}}(),ne.\u0275dir=d.lG2({type:ne,features:[d.qOj]}),Z})();const Jt=new d.OlP("NgValueAccessor"),Kt={provide:Jt,useExisting:(0,d.Gpc)(()=>Xe),multi:!0},In=new d.OlP("CompositionEventMode");let Xe=(()=>{var ne;class Z extends ft{constructor(te,Oe,mn){super(te,Oe),this._compositionMode=mn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vn(){const ne=(0,fe.q)()?(0,fe.q)().getUserAgent():"";return/android (\d+)/.test(ne.toLowerCase())}())}writeValue(te){this.setProperty("value",te??"")}_handleInput(te){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(te)}_compositionStart(){this._composing=!0}_compositionEnd(te){this._composing=!1,this._compositionMode&&this.onChange(te)}}return(ne=Z).\u0275fac=function(te){return new(te||ne)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(In,8))},ne.\u0275dir=d.lG2({type:ne,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(te,Oe){1&te&&d.NdJ("input",function(vr){return Oe._handleInput(vr.target.value)})("blur",function(){return Oe.onTouched()})("compositionstart",function(){return Oe._compositionStart()})("compositionend",function(vr){return Oe._compositionEnd(vr.target.value)})},features:[d._Bn([Kt]),d.qOj]}),Z})();function Tt(ne){return null==ne||("string"==typeof ne||Array.isArray(ne))&&0===ne.length}function gt(ne){return null!=ne&&"number"==typeof ne.length}const mt=new d.OlP("NgValidators"),Nt=new d.OlP("NgAsyncValidators"),xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Wt{static min(Z){return function hn(ne){return Z=>{if(Tt(Z.value)||Tt(ne))return null;const we=parseFloat(Z.value);return!isNaN(we)&&we<ne?{min:{min:ne,actual:Z.value}}:null}}(Z)}static max(Z){return function zn(ne){return Z=>{if(Tt(Z.value)||Tt(ne))return null;const we=parseFloat(Z.value);return!isNaN(we)&&we>ne?{max:{max:ne,actual:Z.value}}:null}}(Z)}static required(Z){return function Bn(ne){return Tt(ne.value)?{required:!0}:null}(Z)}static requiredTrue(Z){return function vn(ne){return!0===ne.value?null:{required:!0}}(Z)}static email(Z){return function Zn(ne){return Tt(ne.value)||xe.test(ne.value)?null:{email:!0}}(Z)}static minLength(Z){return function lr(ne){return Z=>Tt(Z.value)||!gt(Z.value)?null:Z.value.length<ne?{minlength:{requiredLength:ne,actualLength:Z.value.length}}:null}(Z)}static maxLength(Z){return function Gn(ne){return Z=>gt(Z.value)&&Z.value.length>ne?{maxlength:{requiredLength:ne,actualLength:Z.value.length}}:null}(Z)}static pattern(Z){return function Ln(ne){if(!ne)return Qe;let Z,we;return"string"==typeof ne?(we="","^"!==ne.charAt(0)&&(we+="^"),we+=ne,"$"!==ne.charAt(ne.length-1)&&(we+="$"),Z=new RegExp(we)):(we=ne.toString(),Z=ne),te=>{if(Tt(te.value))return null;const Oe=te.value;return Z.test(Oe)?null:{pattern:{requiredPattern:we,actualValue:Oe}}}}(Z)}static nullValidator(Z){return null}static compose(Z){return gn(Z)}static composeAsync(Z){return cr(Z)}}function Qe(ne){return null}function rt(ne){return null!=ne}function wt(ne){return(0,d.QGY)(ne)?(0,ve.D)(ne):ne}function at(ne){let Z={};return ne.forEach(we=>{Z=null!=we?{...Z,...we}:Z}),0===Object.keys(Z).length?null:Z}function Dt(ne,Z){return Z.map(we=>we(ne))}function ln(ne){return ne.map(Z=>function rn(ne){return!ne.validate}(Z)?Z:we=>Z.validate(we))}function gn(ne){if(!ne)return null;const Z=ne.filter(rt);return 0==Z.length?null:function(we){return at(Dt(we,Z))}}function Zr(ne){return null!=ne?gn(ln(ne)):null}function cr(ne){if(!ne)return null;const Z=ne.filter(rt);return 0==Z.length?null:function(we){return function Ae(...ne){const Z=(0,Se.jO)(ne),{args:we,keys:te}=(0,Me.D)(ne),Oe=new X.y(mn=>{const{length:vr}=we;if(!vr)return void mn.complete();const ks=new Array(vr);let zi=vr,Fo=vr;for(let Ws=0;Ws<vr;Ws++){let Zs=!1;(0,He.Xf)(we[Ws]).subscribe((0,ct.x)(mn,ja=>{Zs||(Zs=!0,Fo--),ks[Ws]=ja},()=>zi--,void 0,()=>{(!zi||!Zs)&&(Fo||mn.next(te?(0,Ie.n)(te,ks):ks),mn.complete())}))}});return Z?Oe.pipe((0,nt.Z)(Z)):Oe}(Dt(we,Z).map(wt)).pipe((0,Ke.U)(at))}}function _r(ne){return null!=ne?cr(ln(ne)):null}function Wn(ne,Z){return null===ne?[Z]:Array.isArray(ne)?[...ne,Z]:[ne,Z]}function Pr(ne){return ne._rawValidators}function Fn(ne){return ne._rawAsyncValidators}function Br(ne){return ne?Array.isArray(ne)?ne:[ne]:[]}function Ue(ne,Z){return Array.isArray(ne)?ne.includes(Z):ne===Z}function Je(ne,Z){const we=Br(Z);return Br(ne).forEach(Oe=>{Ue(we,Oe)||we.push(Oe)}),we}function Ct(ne,Z){return Br(Z).filter(we=>!Ue(ne,we))}class Ft{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Z){this._rawValidators=Z||[],this._composedValidatorFn=Zr(this._rawValidators)}_setAsyncValidators(Z){this._rawAsyncValidators=Z||[],this._composedAsyncValidatorFn=_r(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Z){this._onDestroyCallbacks.push(Z)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Z=>Z()),this._onDestroyCallbacks=[]}reset(Z=void 0){this.control&&this.control.reset(Z)}hasError(Z,we){return!!this.control&&this.control.hasError(Z,we)}getError(Z,we){return this.control?this.control.getError(Z,we):null}}class xt extends Ft{get formDirective(){return null}get path(){return null}}class Xt extends Ft{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class br{constructor(Z){this._cd=Z}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Dn=(()=>{var ne;class Z extends br{constructor(te){super(te)}}return(ne=Z).\u0275fac=function(te){return new(te||ne)(d.Y36(Xt,2))},ne.\u0275dir=d.lG2({type:ne,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(te,Oe){2&te&&d.ekj("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)},features:[d.qOj]}),Z})(),or=(()=>{var ne;class Z extends br{constructor(te){super(te)}}return(ne=Z).\u0275fac=function(te){return new(te||ne)(d.Y36(xt,10))},ne.\u0275dir=d.lG2({type:ne,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(te,Oe){2&te&&d.ekj("ng-untouched",Oe.isUntouched)("ng-touched",Oe.isTouched)("ng-pristine",Oe.isPristine)("ng-dirty",Oe.isDirty)("ng-valid",Oe.isValid)("ng-invalid",Oe.isInvalid)("ng-pending",Oe.isPending)("ng-submitted",Oe.isSubmitted)},features:[d.qOj]}),Z})();const Et="VALID",un="INVALID",En="PENDING",ar="DISABLED";function Le(ne){return(_e(ne)?ne.validators:ne)||null}function he(ne,Z){return(_e(Z)?Z.asyncValidators:ne)||null}function _e(ne){return null!=ne&&!Array.isArray(ne)&&"object"==typeof ne}class nn{constructor(Z,we){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Z),this._assignAsyncValidators(we)}get validator(){return this._composedValidatorFn}set validator(Z){this._rawValidators=this._composedValidatorFn=Z}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Z){this._rawAsyncValidators=this._composedAsyncValidatorFn=Z}get parent(){return this._parent}get valid(){return this.status===Et}get invalid(){return this.status===un}get pending(){return this.status==En}get disabled(){return this.status===ar}get enabled(){return this.status!==ar}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Z){this._assignValidators(Z)}setAsyncValidators(Z){this._assignAsyncValidators(Z)}addValidators(Z){this.setValidators(Je(Z,this._rawValidators))}addAsyncValidators(Z){this.setAsyncValidators(Je(Z,this._rawAsyncValidators))}removeValidators(Z){this.setValidators(Ct(Z,this._rawValidators))}removeAsyncValidators(Z){this.setAsyncValidators(Ct(Z,this._rawAsyncValidators))}hasValidator(Z){return Ue(this._rawValidators,Z)}hasAsyncValidator(Z){return Ue(this._rawAsyncValidators,Z)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Z={}){this.touched=!0,this._parent&&!Z.onlySelf&&this._parent.markAsTouched(Z)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Z=>Z.markAllAsTouched())}markAsUntouched(Z={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(we=>{we.markAsUntouched({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}markAsDirty(Z={}){this.pristine=!1,this._parent&&!Z.onlySelf&&this._parent.markAsDirty(Z)}markAsPristine(Z={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(we=>{we.markAsPristine({onlySelf:!0})}),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}markAsPending(Z={}){this.status=En,!1!==Z.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Z.onlySelf&&this._parent.markAsPending(Z)}disable(Z={}){const we=this._parentMarkedDirty(Z.onlySelf);this.status=ar,this.errors=null,this._forEachChild(te=>{te.disable({...Z,onlySelf:!0})}),this._updateValue(),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Z,skipPristineCheck:we}),this._onDisabledChange.forEach(te=>te(!0))}enable(Z={}){const we=this._parentMarkedDirty(Z.onlySelf);this.status=Et,this._forEachChild(te=>{te.enable({...Z,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent}),this._updateAncestors({...Z,skipPristineCheck:we}),this._onDisabledChange.forEach(te=>te(!1))}_updateAncestors(Z){this._parent&&!Z.onlySelf&&(this._parent.updateValueAndValidity(Z),Z.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Z){this._parent=Z}getRawValue(){return this.value}updateValueAndValidity(Z={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Et||this.status===En)&&this._runAsyncValidator(Z.emitEvent)),!1!==Z.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Z.onlySelf&&this._parent.updateValueAndValidity(Z)}_updateTreeValidity(Z={emitEvent:!0}){this._forEachChild(we=>we._updateTreeValidity(Z)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Z.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ar:Et}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Z){if(this.asyncValidator){this.status=En,this._hasOwnPendingAsyncValidator=!0;const we=wt(this.asyncValidator(this));this._asyncValidationSubscription=we.subscribe(te=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(te,{emitEvent:Z})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Z,we={}){this.errors=Z,this._updateControlsErrors(!1!==we.emitEvent)}get(Z){let we=Z;return null==we||(Array.isArray(we)||(we=we.split(".")),0===we.length)?null:we.reduce((te,Oe)=>te&&te._find(Oe),this)}getError(Z,we){const te=we?this.get(we):this;return te&&te.errors?te.errors[Z]:null}hasError(Z,we){return!!this.getError(Z,we)}get root(){let Z=this;for(;Z._parent;)Z=Z._parent;return Z}_updateControlsErrors(Z){this.status=this._calculateStatus(),Z&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Z)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?ar:this.errors?un:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(En)?En:this._anyControlsHaveStatus(un)?un:Et}_anyControlsHaveStatus(Z){return this._anyControls(we=>we.status===Z)}_anyControlsDirty(){return this._anyControls(Z=>Z.dirty)}_anyControlsTouched(){return this._anyControls(Z=>Z.touched)}_updatePristine(Z={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Z.onlySelf&&this._parent._updatePristine(Z)}_updateTouched(Z={}){this.touched=this._anyControlsTouched(),this._parent&&!Z.onlySelf&&this._parent._updateTouched(Z)}_registerOnCollectionChange(Z){this._onCollectionChange=Z}_setUpdateStrategy(Z){_e(Z)&&null!=Z.updateOn&&(this._updateOn=Z.updateOn)}_parentMarkedDirty(Z){return!Z&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Z){return null}_assignValidators(Z){this._rawValidators=Array.isArray(Z)?Z.slice():Z,this._composedValidatorFn=function pe(ne){return Array.isArray(ne)?Zr(ne):ne||null}(this._rawValidators)}_assignAsyncValidators(Z){this._rawAsyncValidators=Array.isArray(Z)?Z.slice():Z,this._composedAsyncValidatorFn=function Fe(ne){return Array.isArray(ne)?_r(ne):ne||null}(this._rawAsyncValidators)}}class Jn extends nn{constructor(Z,we,te){super(Le(we),he(te,we)),this.controls=Z,this._initObservables(),this._setUpdateStrategy(we),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Z,we){return this.controls[Z]?this.controls[Z]:(this.controls[Z]=we,we.setParent(this),we._registerOnCollectionChange(this._onCollectionChange),we)}addControl(Z,we,te={}){this.registerControl(Z,we),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}removeControl(Z,we={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],this.updateValueAndValidity({emitEvent:we.emitEvent}),this._onCollectionChange()}setControl(Z,we,te={}){this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),delete this.controls[Z],we&&this.registerControl(Z,we),this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}contains(Z){return this.controls.hasOwnProperty(Z)&&this.controls[Z].enabled}setValue(Z,we={}){(function Vt(ne,Z,we){ne._forEachChild((te,Oe)=>{if(void 0===we[Oe])throw new d.vHH(1002,"")})})(this,0,Z),Object.keys(Z).forEach(te=>{(function We(ne,Z,we){const te=ne.controls;if(!(Z?Object.keys(te):te).length)throw new d.vHH(1e3,"");if(!te[we])throw new d.vHH(1001,"")})(this,!0,te),this.controls[te].setValue(Z[te],{onlySelf:!0,emitEvent:we.emitEvent})}),this.updateValueAndValidity(we)}patchValue(Z,we={}){null!=Z&&(Object.keys(Z).forEach(te=>{const Oe=this.controls[te];Oe&&Oe.patchValue(Z[te],{onlySelf:!0,emitEvent:we.emitEvent})}),this.updateValueAndValidity(we))}reset(Z={},we={}){this._forEachChild((te,Oe)=>{te.reset(Z[Oe],{onlySelf:!0,emitEvent:we.emitEvent})}),this._updatePristine(we),this._updateTouched(we),this.updateValueAndValidity(we)}getRawValue(){return this._reduceChildren({},(Z,we,te)=>(Z[te]=we.getRawValue(),Z))}_syncPendingControls(){let Z=this._reduceChildren(!1,(we,te)=>!!te._syncPendingControls()||we);return Z&&this.updateValueAndValidity({onlySelf:!0}),Z}_forEachChild(Z){Object.keys(this.controls).forEach(we=>{const te=this.controls[we];te&&Z(te,we)})}_setUpControls(){this._forEachChild(Z=>{Z.setParent(this),Z._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Z){for(const[we,te]of Object.entries(this.controls))if(this.contains(we)&&Z(te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(we,te,Oe)=>((te.enabled||this.disabled)&&(we[Oe]=te.value),we))}_reduceChildren(Z,we){let te=Z;return this._forEachChild((Oe,mn)=>{te=we(te,Oe,mn)}),te}_allControlsDisabled(){for(const Z of Object.keys(this.controls))if(this.controls[Z].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Z){return this.controls.hasOwnProperty(Z)?this.controls[Z]:null}}const ot=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ve}),Ve="always";function Rt(ne,Z){return[...Z.path,ne]}function Ot(ne,Z,we=Ve){bn(ne,Z),Z.valueAccessor.writeValue(ne.value),(ne.disabled||"always"===we)&&Z.valueAccessor.setDisabledState?.(ne.disabled),function Wr(ne,Z){Z.valueAccessor.registerOnChange(we=>{ne._pendingValue=we,ne._pendingChange=!0,ne._pendingDirty=!0,"change"===ne.updateOn&&Rs(ne,Z)})}(ne,Z),function ri(ne,Z){const we=(te,Oe)=>{Z.valueAccessor.writeValue(te),Oe&&Z.viewToModelUpdate(te)};ne.registerOnChange(we),Z._registerOnDestroy(()=>{ne._unregisterOnChange(we)})}(ne,Z),function Gi(ne,Z){Z.valueAccessor.registerOnTouched(()=>{ne._pendingTouched=!0,"blur"===ne.updateOn&&ne._pendingChange&&Rs(ne,Z),"submit"!==ne.updateOn&&ne.markAsTouched()})}(ne,Z),function qn(ne,Z){if(Z.valueAccessor.setDisabledState){const we=te=>{Z.valueAccessor.setDisabledState(te)};ne.registerOnDisabledChange(we),Z._registerOnDestroy(()=>{ne._unregisterOnDisabledChange(we)})}}(ne,Z)}function an(ne,Z,we=!0){const te=()=>{};Z.valueAccessor&&(Z.valueAccessor.registerOnChange(te),Z.valueAccessor.registerOnTouched(te)),Gr(ne,Z),ne&&(Z._invokeOnDestroyCallbacks(),ne._registerOnCollectionChange(()=>{}))}function sn(ne,Z){ne.forEach(we=>{we.registerOnValidatorChange&&we.registerOnValidatorChange(Z)})}function bn(ne,Z){const we=Pr(ne);null!==Z.validator?ne.setValidators(Wn(we,Z.validator)):"function"==typeof we&&ne.setValidators([we]);const te=Fn(ne);null!==Z.asyncValidator?ne.setAsyncValidators(Wn(te,Z.asyncValidator)):"function"==typeof te&&ne.setAsyncValidators([te]);const Oe=()=>ne.updateValueAndValidity();sn(Z._rawValidators,Oe),sn(Z._rawAsyncValidators,Oe)}function Gr(ne,Z){let we=!1;if(null!==ne){if(null!==Z.validator){const Oe=Pr(ne);if(Array.isArray(Oe)&&Oe.length>0){const mn=Oe.filter(vr=>vr!==Z.validator);mn.length!==Oe.length&&(we=!0,ne.setValidators(mn))}}if(null!==Z.asyncValidator){const Oe=Fn(ne);if(Array.isArray(Oe)&&Oe.length>0){const mn=Oe.filter(vr=>vr!==Z.asyncValidator);mn.length!==Oe.length&&(we=!0,ne.setAsyncValidators(mn))}}}const te=()=>{};return sn(Z._rawValidators,te),sn(Z._rawAsyncValidators,te),we}function Rs(ne,Z){ne._pendingDirty&&ne.markAsDirty(),ne.setValue(ne._pendingValue,{emitModelToViewChange:!1}),Z.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1}function hr(ne,Z){if(!ne.hasOwnProperty("model"))return!1;const we=ne.model;return!!we.isFirstChange()||!Object.is(Z,we.currentValue)}function Hi(ne,Z){if(!Z)return null;let we,te,Oe;return Array.isArray(Z),Z.forEach(mn=>{mn.constructor===Xe?we=mn:function $n(ne){return Object.getPrototypeOf(ne.constructor)===ze}(mn)?te=mn:Oe=mn}),Oe||te||we||null}function Bt(ne,Z){const we=ne.indexOf(Z);we>-1&&ne.splice(we,1)}function Gt(ne){return"object"==typeof ne&&null!==ne&&2===Object.keys(ne).length&&"value"in ne&&"disabled"in ne}const er=class extends nn{constructor(Z=null,we,te){super(Le(we),he(te,we)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Z),this._setUpdateStrategy(we),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_e(we)&&(we.nonNullable||we.initialValueIsDefault)&&(this.defaultValue=Gt(Z)?Z.value:Z)}setValue(Z,we={}){this.value=this._pendingValue=Z,this._onChange.length&&!1!==we.emitModelToViewChange&&this._onChange.forEach(te=>te(this.value,!1!==we.emitViewToModelChange)),this.updateValueAndValidity(we)}patchValue(Z,we={}){this.setValue(Z,we)}reset(Z=this.defaultValue,we={}){this._applyFormState(Z),this.markAsPristine(we),this.markAsUntouched(we),this.setValue(this.value,we),this._pendingChange=!1}_updateValue(){}_anyControls(Z){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Z){this._onChange.push(Z)}_unregisterOnChange(Z){Bt(this._onChange,Z)}registerOnDisabledChange(Z){this._onDisabledChange.push(Z)}_unregisterOnDisabledChange(Z){Bt(this._onDisabledChange,Z)}_forEachChild(Z){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Z){Gt(Z)?(this.value=this._pendingValue=Z.value,Z.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Z}},go={provide:Xt,useExisting:(0,d.Gpc)(()=>na)},Va=(()=>Promise.resolve())();let na=(()=>{var ne;class Z extends Xt{constructor(te,Oe,mn,vr,ks,zi){super(),this._changeDetectorRef=ks,this.callSetDisabledState=zi,this.control=new er,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=te,this._setValidators(Oe),this._setAsyncValidators(mn),this.valueAccessor=Hi(0,vr)}ngOnChanges(te){if(this._checkForErrors(),!this._registered||"name"in te){if(this._registered&&(this._checkName(),this.formDirective)){const Oe=te.name.previousValue;this.formDirective.removeControl({name:Oe,path:this._getPath(Oe)})}this._setUpControl()}"isDisabled"in te&&this._updateDisabled(te),hr(te,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(te){this.viewModel=te,this.update.emit(te)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ot(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(te){Va.then(()=>{this.control.setValue(te,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(te){const Oe=te.isDisabled.currentValue,mn=0!==Oe&&(0,d.VuI)(Oe);Va.then(()=>{mn&&!this.control.disabled?this.control.disable():!mn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(te){return this._parent?Rt(te,this._parent):[te]}}return(ne=Z).\u0275fac=function(te){return new(te||ne)(d.Y36(xt,9),d.Y36(mt,10),d.Y36(Nt,10),d.Y36(Jt,10),d.Y36(d.sBO,8),d.Y36(ot,8))},ne.\u0275dir=d.lG2({type:ne,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([go]),d.qOj,d.TTD]}),Z})(),No=(()=>{var ne;class Z{}return(ne=Z).\u0275fac=function(te){return new(te||ne)},ne.\u0275dir=d.lG2({type:ne,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Z})(),Hr=(()=>{var ne;class Z{}return(ne=Z).\u0275fac=function(te){return new(te||ne)},ne.\u0275mod=d.oAB({type:ne}),ne.\u0275inj=d.cJS({}),Z})();const Mi=new d.OlP("NgModelWithFormControlWarning"),wn={provide:xt,useExisting:(0,d.Gpc)(()=>Yr)};let Yr=(()=>{var ne;class Z extends xt{constructor(te,Oe,mn){super(),this.callSetDisabledState=mn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(te),this._setAsyncValidators(Oe)}ngOnChanges(te){this._checkFormPresent(),te.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(te){const Oe=this.form.get(te.path);return Ot(Oe,te,this.callSetDisabledState),Oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(te),Oe}getControl(te){return this.form.get(te.path)}removeControl(te){an(te.control||null,te,!1),function Li(ne,Z){const we=ne.indexOf(Z);we>-1&&ne.splice(we,1)}(this.directives,te)}addFormGroup(te){this._setUpFormContainer(te)}removeFormGroup(te){this._cleanUpFormContainer(te)}getFormGroup(te){return this.form.get(te.path)}addFormArray(te){this._setUpFormContainer(te)}removeFormArray(te){this._cleanUpFormContainer(te)}getFormArray(te){return this.form.get(te.path)}updateModel(te,Oe){this.form.get(te.path).setValue(Oe)}onSubmit(te){return this.submitted=!0,function Kr(ne,Z){ne._syncPendingControls(),Z.forEach(we=>{const te=we.control;"submit"===te.updateOn&&te._pendingChange&&(we.viewToModelUpdate(te._pendingValue),te._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(te),"dialog"===te?.target?.method}onReset(){this.resetForm()}resetForm(te=void 0){this.form.reset(te),this.submitted=!1}_updateDomValue(){this.directives.forEach(te=>{const Oe=te.control,mn=this.form.get(te.path);Oe!==mn&&(an(Oe||null,te),(ne=>ne instanceof er)(mn)&&(Ot(mn,te,this.callSetDisabledState),te.control=mn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(te){const Oe=this.form.get(te.path);(function cs(ne,Z){bn(ne,Z)})(Oe,te),Oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(te){if(this.form){const Oe=this.form.get(te.path);Oe&&function Bs(ne,Z){return Gr(ne,Z)}(Oe,te)&&Oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bn(this.form,this),this._oldForm&&Gr(this._oldForm,this)}_checkFormPresent(){}}return(ne=Z).\u0275fac=function(te){return new(te||ne)(d.Y36(mt,10),d.Y36(Nt,10),d.Y36(ot,8))},ne.\u0275dir=d.lG2({type:ne,selectors:[["","formGroup",""]],hostBindings:function(te,Oe){1&te&&d.NdJ("submit",function(vr){return Oe.onSubmit(vr)})("reset",function(){return Oe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([wn]),d.qOj,d.TTD]}),Z})();const is={provide:Xt,useExisting:(0,d.Gpc)(()=>Us)};let Us=(()=>{var ne;class Z extends Xt{set isDisabled(te){}constructor(te,Oe,mn,vr,ks){super(),this._ngModelWarningConfig=ks,this._added=!1,this.name=null,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=te,this._setValidators(Oe),this._setAsyncValidators(mn),this.valueAccessor=Hi(0,vr)}ngOnChanges(te){this._added||this._setUpControl(),hr(te,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(te){this.viewModel=te,this.update.emit(te)}get path(){return Rt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(ne=Z)._ngModelWarningSentOnce=!1,ne.\u0275fac=function(te){return new(te||ne)(d.Y36(xt,13),d.Y36(mt,10),d.Y36(Nt,10),d.Y36(Jt,10),d.Y36(Mi,8))},ne.\u0275dir=d.lG2({type:ne,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([is]),d.qOj,d.TTD]}),Z})(),Oa=(()=>{var ne;class Z{}return(ne=Z).\u0275fac=function(te){return new(te||ne)},ne.\u0275mod=d.oAB({type:ne}),ne.\u0275inj=d.cJS({imports:[Hr]}),Z})(),Co=(()=>{var ne;class Z{static withConfig(te){return{ngModule:Z,providers:[{provide:ot,useValue:te.callSetDisabledState??Ve}]}}}return(ne=Z).\u0275fac=function(te){return new(te||ne)},ne.\u0275mod=d.oAB({type:ne}),ne.\u0275inj=d.cJS({imports:[Oa]}),Z})(),Eo=(()=>{var ne;class Z{static withConfig(te){return{ngModule:Z,providers:[{provide:Mi,useValue:te.warnOnNgModelWithFormControl??"always"},{provide:ot,useValue:te.callSetDisabledState??Ve}]}}}return(ne=Z).\u0275fac=function(te){return new(te||ne)},ne.\u0275mod=d.oAB({type:ne}),ne.\u0275inj=d.cJS({imports:[Oa]}),Z})()},2614:()=>{const Pn=":";const Pr=function(Ue,...Je){if(Pr.translate){const Ft=Pr.translate(Ue,Je);Ue=Ft[0],Je=Ft[1]}let Ct=Br(Ue[0],Ue.raw[0]);for(let Ft=1;Ft<Ue.length;Ft++)Ct+=Je[Ft-1]+Br(Ue[Ft],Ue.raw[Ft]);return Ct},Fn=":";function Br(Ue,Je){return Je.charAt(0)===Fn?Ue.substring(function rt(Ue,Je){for(let Ct=1,Ft=1;Ct<Ue.length;Ct++,Ft++)if("\\"===Je[Ft])Ft++;else if(Ue[Ct]===Pn)return Ct;throw new Error(`Unterminated $localize metadata block in "${Je}".`)}(Ue,Je)+1):Ue}globalThis.$localize=Pr},6593:(Pn,_t,Y)=>{Y.d(_t,{Dx:()=>Xt,H7:()=>Ts,b2:()=>Ue,q6:()=>Wn,se:()=>xe});var d=Y(5879),fe=Y(6814);class ve extends fe.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class X extends ve{static makeCurrent(){(0,fe.HT)(new X)}onAndCancel(he,Fe,_e){return he.addEventListener(Fe,_e),()=>{he.removeEventListener(Fe,_e)}}dispatchEvent(he,Fe){he.dispatchEvent(Fe)}remove(he){he.parentNode&&he.parentNode.removeChild(he)}createElement(he,Fe){return(Fe=Fe||this.getDefaultDocument()).createElement(he)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(he){return he.nodeType===Node.ELEMENT_NODE}isShadowRoot(he){return he instanceof DocumentFragment}getGlobalEventTarget(he,Fe){return"window"===Fe?window:"document"===Fe?he:"body"===Fe?he.body:null}getBaseHref(he){const Fe=function He(){return Me=Me||document.querySelector("base"),Me?Me.getAttribute("href"):null}();return null==Fe?null:function ct(pe){Se=Se||document.createElement("a"),Se.setAttribute("href",pe);const he=Se.pathname;return"/"===he.charAt(0)?he:`/${he}`}(Fe)}resetBaseElement(){Me=null}getUserAgent(){return window.navigator.userAgent}getCookie(he){return(0,fe.Mx)(document.cookie,he)}}let Se,Me=null,Ie=(()=>{var pe;class he{build(){return new XMLHttpRequest}}return(pe=he).\u0275fac=function(_e){return new(_e||pe)},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),he})();const Ae=new d.OlP("EventManagerPlugins");let Ke=(()=>{var pe;class he{constructor(_e,We){this._zone=We,this._eventNameToPlugin=new Map,_e.forEach(Vt=>{Vt.manager=this}),this._plugins=_e.slice().reverse()}addEventListener(_e,We,Vt){return this._findPluginFor(We).addEventListener(_e,We,Vt)}getZone(){return this._zone}_findPluginFor(_e){let We=this._eventNameToPlugin.get(_e);if(We)return We;if(We=this._plugins.find(nn=>nn.supports(_e)),!We)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(_e,We),We}}return(pe=he).\u0275fac=function(_e){return new(_e||pe)(d.LFG(Ae),d.LFG(d.R0b))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),he})();class ft{constructor(he){this._doc=he}}const ze="ng-app-id";let Jt=(()=>{var pe;class he{constructor(_e,We,Vt,nn={}){this.doc=_e,this.appId=We,this.nonce=Vt,this.platformId=nn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,fe.PM)(nn),this.resetHostNodes()}addStyles(_e){for(const We of _e)1===this.changeUsageCount(We,1)&&this.onStyleAdded(We)}removeStyles(_e){for(const We of _e)this.changeUsageCount(We,-1)<=0&&this.onStyleRemoved(We)}ngOnDestroy(){const _e=this.styleNodesInDOM;_e&&(_e.forEach(We=>We.remove()),_e.clear());for(const We of this.getAllStyles())this.onStyleRemoved(We);this.resetHostNodes()}addHost(_e){this.hostNodes.add(_e);for(const We of this.getAllStyles())this.addStyleToHost(_e,We)}removeHost(_e){this.hostNodes.delete(_e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(_e){for(const We of this.hostNodes)this.addStyleToHost(We,_e)}onStyleRemoved(_e){const We=this.styleRef;We.get(_e)?.elements?.forEach(Vt=>Vt.remove()),We.delete(_e)}collectServerRenderedStyles(){const _e=this.doc.head?.querySelectorAll(`style[${ze}="${this.appId}"]`);if(_e?.length){const We=new Map;return _e.forEach(Vt=>{null!=Vt.textContent&&We.set(Vt.textContent,Vt)}),We}return null}changeUsageCount(_e,We){const Vt=this.styleRef;if(Vt.has(_e)){const nn=Vt.get(_e);return nn.usage+=We,nn.usage}return Vt.set(_e,{usage:We,elements:[]}),We}getStyleElement(_e,We){const Vt=this.styleNodesInDOM,nn=Vt?.get(We);if(nn?.parentNode===_e)return Vt.delete(We),nn.removeAttribute(ze),nn;{const Jn=this.doc.createElement("style");return this.nonce&&Jn.setAttribute("nonce",this.nonce),Jn.textContent=We,this.platformIsServer&&Jn.setAttribute(ze,this.appId),Jn}}addStyleToHost(_e,We){const Vt=this.getStyleElement(_e,We);_e.appendChild(Vt);const nn=this.styleRef,Jn=nn.get(We)?.elements;Jn?Jn.push(Vt):nn.set(We,{elements:[Vt],usage:1})}resetHostNodes(){const _e=this.hostNodes;_e.clear(),_e.add(this.doc.head)}}return(pe=he).\u0275fac=function(_e){return new(_e||pe)(d.LFG(fe.K0),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),he})();const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fn=/%COMP%/g,Tt=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Nt(pe,he){return he.map(Fe=>Fe.replace(fn,pe))}let xe=(()=>{var pe;class he{constructor(_e,We,Vt,nn,Jn,xn,oi,pr=null){this.eventManager=_e,this.sharedStylesHost=We,this.appId=Vt,this.removeStylesOnCompDestroy=nn,this.doc=Jn,this.platformId=xn,this.ngZone=oi,this.nonce=pr,this.rendererByCompId=new Map,this.platformIsServer=(0,fe.PM)(xn),this.defaultRenderer=new Wt(_e,Jn,oi,this.platformIsServer)}createRenderer(_e,We){if(!_e||!We)return this.defaultRenderer;this.platformIsServer&&We.encapsulation===d.ifc.ShadowDom&&(We={...We,encapsulation:d.ifc.Emulated});const Vt=this.getOrCreateRenderer(_e,We);return Vt instanceof lr?Vt.applyToHost(_e):Vt instanceof Zn&&Vt.applyStyles(),Vt}getOrCreateRenderer(_e,We){const Vt=this.rendererByCompId;let nn=Vt.get(We.id);if(!nn){const Jn=this.doc,xn=this.ngZone,oi=this.eventManager,pr=this.sharedStylesHost,xi=this.removeStylesOnCompDestroy,ot=this.platformIsServer;switch(We.encapsulation){case d.ifc.Emulated:nn=new lr(oi,pr,We,this.appId,xi,Jn,xn,ot);break;case d.ifc.ShadowDom:return new vn(oi,pr,_e,We,Jn,xn,this.nonce,ot);default:nn=new Zn(oi,pr,We,xi,Jn,xn,ot)}Vt.set(We.id,nn)}return nn}ngOnDestroy(){this.rendererByCompId.clear()}}return(pe=he).\u0275fac=function(_e){return new(_e||pe)(d.LFG(Ke),d.LFG(Jt),d.LFG(d.AFp),d.LFG(Tt),d.LFG(fe.K0),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),he})();class Wt{constructor(he,Fe,_e,We){this.eventManager=he,this.doc=Fe,this.ngZone=_e,this.platformIsServer=We,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(he,Fe){return Fe?this.doc.createElementNS(dt[Fe]||Fe,he):this.doc.createElement(he)}createComment(he){return this.doc.createComment(he)}createText(he){return this.doc.createTextNode(he)}appendChild(he,Fe){(Bn(he)?he.content:he).appendChild(Fe)}insertBefore(he,Fe,_e){he&&(Bn(he)?he.content:he).insertBefore(Fe,_e)}removeChild(he,Fe){he&&he.removeChild(Fe)}selectRootElement(he,Fe){let _e="string"==typeof he?this.doc.querySelector(he):he;if(!_e)throw new d.vHH(-5104,!1);return Fe||(_e.textContent=""),_e}parentNode(he){return he.parentNode}nextSibling(he){return he.nextSibling}setAttribute(he,Fe,_e,We){if(We){Fe=We+":"+Fe;const Vt=dt[We];Vt?he.setAttributeNS(Vt,Fe,_e):he.setAttribute(Fe,_e)}else he.setAttribute(Fe,_e)}removeAttribute(he,Fe,_e){if(_e){const We=dt[_e];We?he.removeAttributeNS(We,Fe):he.removeAttribute(`${_e}:${Fe}`)}else he.removeAttribute(Fe)}addClass(he,Fe){he.classList.add(Fe)}removeClass(he,Fe){he.classList.remove(Fe)}setStyle(he,Fe,_e,We){We&(d.JOm.DashCase|d.JOm.Important)?he.style.setProperty(Fe,_e,We&d.JOm.Important?"important":""):he.style[Fe]=_e}removeStyle(he,Fe,_e){_e&d.JOm.DashCase?he.style.removeProperty(Fe):he.style[Fe]=""}setProperty(he,Fe,_e){he[Fe]=_e}setValue(he,Fe){he.nodeValue=Fe}listen(he,Fe,_e){if("string"==typeof he&&!(he=(0,fe.q)().getGlobalEventTarget(this.doc,he)))throw new Error(`Unsupported event target ${he} for event ${Fe}`);return this.eventManager.addEventListener(he,Fe,this.decoratePreventDefault(_e))}decoratePreventDefault(he){return Fe=>{if("__ngUnwrap__"===Fe)return he;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>he(Fe)):he(Fe))&&Fe.preventDefault()}}}function Bn(pe){return"TEMPLATE"===pe.tagName&&void 0!==pe.content}class vn extends Wt{constructor(he,Fe,_e,We,Vt,nn,Jn,xn){super(he,Vt,nn,xn),this.sharedStylesHost=Fe,this.hostEl=_e,this.shadowRoot=_e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const oi=Nt(We.id,We.styles);for(const pr of oi){const xi=document.createElement("style");Jn&&xi.setAttribute("nonce",Jn),xi.textContent=pr,this.shadowRoot.appendChild(xi)}}nodeOrShadowRoot(he){return he===this.hostEl?this.shadowRoot:he}appendChild(he,Fe){return super.appendChild(this.nodeOrShadowRoot(he),Fe)}insertBefore(he,Fe,_e){return super.insertBefore(this.nodeOrShadowRoot(he),Fe,_e)}removeChild(he,Fe){return super.removeChild(this.nodeOrShadowRoot(he),Fe)}parentNode(he){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(he)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Zn extends Wt{constructor(he,Fe,_e,We,Vt,nn,Jn,xn){super(he,Vt,nn,Jn),this.sharedStylesHost=Fe,this.removeStylesOnCompDestroy=We,this.styles=xn?Nt(xn,_e.styles):_e.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class lr extends Zn{constructor(he,Fe,_e,We,Vt,nn,Jn,xn){const oi=We+"-"+_e.id;super(he,Fe,_e,Vt,nn,Jn,xn,oi),this.contentAttr=function gt(pe){return"_ngcontent-%COMP%".replace(fn,pe)}(oi),this.hostAttr=function mt(pe){return"_nghost-%COMP%".replace(fn,pe)}(oi)}applyToHost(he){this.applyStyles(),this.setAttribute(he,this.hostAttr,"")}createElement(he,Fe){const _e=super.createElement(he,Fe);return super.setAttribute(_e,this.contentAttr,""),_e}}let Gn=(()=>{var pe;class he extends ft{constructor(_e){super(_e)}supports(_e){return!0}addEventListener(_e,We,Vt){return _e.addEventListener(We,Vt,!1),()=>this.removeEventListener(_e,We,Vt)}removeEventListener(_e,We,Vt){return _e.removeEventListener(We,Vt)}}return(pe=he).\u0275fac=function(_e){return new(_e||pe)(d.LFG(fe.K0))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),he})();const Ln=["alt","control","meta","shift"],Qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rt={alt:pe=>pe.altKey,control:pe=>pe.ctrlKey,meta:pe=>pe.metaKey,shift:pe=>pe.shiftKey};let wt=(()=>{var pe;class he extends ft{constructor(_e){super(_e)}supports(_e){return null!=he.parseEventName(_e)}addEventListener(_e,We,Vt){const nn=he.parseEventName(We),Jn=he.eventCallback(nn.fullKey,Vt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,fe.q)().onAndCancel(_e,nn.domEventName,Jn))}static parseEventName(_e){const We=_e.toLowerCase().split("."),Vt=We.shift();if(0===We.length||"keydown"!==Vt&&"keyup"!==Vt)return null;const nn=he._normalizeKey(We.pop());let Jn="",xn=We.indexOf("code");if(xn>-1&&(We.splice(xn,1),Jn="code."),Ln.forEach(pr=>{const xi=We.indexOf(pr);xi>-1&&(We.splice(xi,1),Jn+=pr+".")}),Jn+=nn,0!=We.length||0===nn.length)return null;const oi={};return oi.domEventName=Vt,oi.fullKey=Jn,oi}static matchEventFullKeyCode(_e,We){let Vt=Qe[_e.key]||_e.key,nn="";return We.indexOf("code.")>-1&&(Vt=_e.code,nn="code."),!(null==Vt||!Vt)&&(Vt=Vt.toLowerCase()," "===Vt?Vt="space":"."===Vt&&(Vt="dot"),Ln.forEach(Jn=>{Jn!==Vt&&(0,rt[Jn])(_e)&&(nn+=Jn+".")}),nn+=Vt,nn===We)}static eventCallback(_e,We,Vt){return nn=>{he.matchEventFullKeyCode(nn,_e)&&Vt.runGuarded(()=>We(nn))}}static _normalizeKey(_e){return"esc"===_e?"escape":_e}}return(pe=he).\u0275fac=function(_e){return new(_e||pe)(d.LFG(fe.K0))},pe.\u0275prov=d.Yz7({token:pe,factory:pe.\u0275fac}),he})();const Wn=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:fe.bD},{provide:d.g9A,useValue:function gn(){X.makeCurrent()},multi:!0},{provide:fe.K0,useFactory:function cr(){return(0,d.RDi)(document),document},deps:[]}]),Pr=new d.OlP(""),Fn=[{provide:d.rWj,useClass:class nt{addToWindow(he){d.dqk.getAngularTestability=(_e,We=!0)=>{const Vt=he.findTestabilityInTree(_e,We);if(null==Vt)throw new d.vHH(5103,!1);return Vt},d.dqk.getAllAngularTestabilities=()=>he.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>he.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(_e=>{const We=d.dqk.getAllAngularTestabilities();let Vt=We.length,nn=!1;const Jn=function(xn){nn=nn||xn,Vt--,0==Vt&&_e(nn)};We.forEach(xn=>{xn.whenStable(Jn)})})}findTestabilityInTree(he,Fe,_e){return null==Fe?null:he.getTestability(Fe)??(_e?(0,fe.q)().isShadowRoot(Fe)?this.findTestabilityInTree(he,Fe.host,!0):this.findTestabilityInTree(he,Fe.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Br=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Zr(){return new d.qLn},deps:[]},{provide:Ae,useClass:Gn,multi:!0,deps:[fe.K0,d.R0b,d.Lbi]},{provide:Ae,useClass:wt,multi:!0,deps:[fe.K0]},xe,Jt,Ke,{provide:d.FYo,useExisting:xe},{provide:fe.JF,useClass:Ie,deps:[]},[]];let Ue=(()=>{var pe;class he{constructor(_e){}static withServerTransition(_e){return{ngModule:he,providers:[{provide:d.AFp,useValue:_e.appId}]}}}return(pe=he).\u0275fac=function(_e){return new(_e||pe)(d.LFG(Pr,12))},pe.\u0275mod=d.oAB({type:pe}),pe.\u0275inj=d.cJS({providers:[...Br,...Fn],imports:[fe.ez,d.hGG]}),he})(),Xt=(()=>{var pe;class he{constructor(_e){this._doc=_e}getTitle(){return this._doc.title}setTitle(_e){this._doc.title=_e||""}}return(pe=he).\u0275fac=function(_e){return new(_e||pe)(d.LFG(fe.K0))},pe.\u0275prov=d.Yz7({token:pe,factory:function(_e){let We=null;return We=_e?new _e:function xt(){return new Xt((0,d.LFG)(fe.K0))}(),We},providedIn:"root"}),he})();typeof window<"u"&&window;let Ts=(()=>{var pe;class he{}return(pe=he).\u0275fac=function(_e){return new(_e||pe)},pe.\u0275prov=d.Yz7({token:pe,factory:function(_e){let We=null;return We=_e?new(_e||pe):d.LFG(Fi),We},providedIn:"root"}),he})(),Fi=(()=>{var pe;class he extends Ts{constructor(_e){super(),this._doc=_e}sanitize(_e,We){if(null==We)return null;switch(_e){case d.q3G.NONE:return We;case d.q3G.HTML:return(0,d.qzn)(We,"HTML")?(0,d.z3N)(We):(0,d.EiD)(this._doc,String(We)).toString();case d.q3G.STYLE:return(0,d.qzn)(We,"Style")?(0,d.z3N)(We):We;case d.q3G.SCRIPT:if((0,d.qzn)(We,"Script"))return(0,d.z3N)(We);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(We,"URL")?(0,d.z3N)(We):(0,d.mCW)(String(We));case d.q3G.RESOURCE_URL:if((0,d.qzn)(We,"ResourceURL"))return(0,d.z3N)(We);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(_e){return(0,d.JVY)(_e)}bypassSecurityTrustStyle(_e){return(0,d.L6k)(_e)}bypassSecurityTrustScript(_e){return(0,d.eBb)(_e)}bypassSecurityTrustUrl(_e){return(0,d.LAX)(_e)}bypassSecurityTrustResourceUrl(_e){return(0,d.pB0)(_e)}}return(pe=he).\u0275fac=function(_e){return new(_e||pe)(d.LFG(fe.K0))},pe.\u0275prov=d.Yz7({token:pe,factory:function(_e){let We=null;return We=_e?new _e:function Di(pe){return new Fi(pe.get(fe.K0))}(d.LFG(d.zs3)),We},providedIn:"root"}),he})()},642:(Pn,_t,Y)=>{Y.d(_t,{F0:()=>Cs,rH:()=>_n,Bz:()=>il,lC:()=>ko});var d=Y(5879),fe=Y(5592),ve=Y(4674),Me=Y(2459),He=Y(2096),Se=Y(5619),ct=Y(7453),nt=Y(2737),Ie=Y(7400),Ae=Y(9940),Ke=Y(2714),ft=Y(8251),ze=Y(7103);function Jt(...E){const C=(0,Ae.yG)(E),M=(0,Ae.jO)(E),{args:O,keys:j}=(0,ct.D)(E);if(0===O.length)return(0,Me.D)([],C);const re=new fe.y(function dt(E,C,M=nt.y){return O=>{fn(C,()=>{const{length:j}=E,re=new Array(j);let ye=j,je=j;for(let Ut=0;Ut<j;Ut++)fn(C,()=>{const vt=(0,Me.D)(E[Ut],C);let dn=!1;vt.subscribe((0,ft.x)(O,Cn=>{re[Ut]=Cn,dn||(dn=!0,je--),je||O.next(M(re.slice()))},()=>{--ye||O.complete()}))},O)},O)}}(O,C,j?ye=>(0,Ke.n)(j,ye):nt.y));return M?re.pipe((0,Ie.Z)(M)):re}function fn(E,C,M){E?(0,ze.f)(M,E,C):C()}var Kt=Y(6973),Vn=Y(5211),In=Y(4829);function Xe(E){return new fe.y(C=>{(0,In.Xf)(E()).subscribe(C)})}var Tt=Y(8407);function gt(E,C){const M=(0,ve.m)(E)?E:()=>E,O=j=>j.error(M());return new fe.y(C?j=>C.schedule(O,0,j):O)}var mt=Y(6232),Nt=Y(7394),xe=Y(9360);function Wt(){return(0,xe.e)((E,C)=>{let M=null;E._refCount++;const O=(0,ft.x)(C,void 0,void 0,void 0,()=>{if(!E||E._refCount<=0||0<--E._refCount)return void(M=null);const j=E._connection,re=M;M=null,j&&(!re||j===re)&&j.unsubscribe(),C.unsubscribe()});E.subscribe(O),O.closed||(M=E.connect())})}class hn extends fe.y{constructor(C,M){super(),this.source=C,this.subjectFactory=M,this._subject=null,this._refCount=0,this._connection=null,(0,xe.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new Nt.w0;const M=this.getSubject();C.add(this.source.subscribe((0,ft.x)(M,void 0,()=>{this._teardown(),M.complete()},O=>{this._teardown(),M.error(O)},()=>this._teardown()))),C.closed&&(this._connection=null,C=Nt.w0.EMPTY)}return C}refCount(){return Wt()(this)}}var zn=Y(8645),Bn=Y(6814),vn=Y(7398),Zn=Y(4664),lr=Y(8180),Gn=Y(7921),Ln=Y(2181),Qe=Y(1631),rt=Y(1374),wt=Y(6328),at=Y(9397);function Dt(E){return(0,xe.e)((C,M)=>{let re,O=null,j=!1;O=C.subscribe((0,ft.x)(M,void 0,void 0,ye=>{re=(0,In.Xf)(E(ye,Dt(E)(C))),O?(O.unsubscribe(),O=null,re.subscribe(M)):j=!0})),j&&(O.unsubscribe(),O=null,re.subscribe(M))})}var rn=Y(6699),ln=Y(3572);function gn(E){return E<=0?()=>mt.E:(0,xe.e)((C,M)=>{let O=[];C.subscribe((0,ft.x)(M,j=>{O.push(j),E<O.length&&O.shift()},()=>{for(const j of O)M.next(j);M.complete()},void 0,()=>{O=null}))})}var Zr=Y(3026),_r=Y(975),Wn=Y(4716),Pr=Y(9773),Fn=Y(7537),Br=Y(6593);const Ue="primary",Je=Symbol("RouteTitle");class Ct{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const M=this.params[C];return Array.isArray(M)?M[0]:M}return null}getAll(C){if(this.has(C)){const M=this.params[C];return Array.isArray(M)?M:[M]}return[]}get keys(){return Object.keys(this.params)}}function Ft(E){return new Ct(E)}function xt(E,C,M){const O=M.path.split("/");if(O.length>E.length||"full"===M.pathMatch&&(C.hasChildren()||O.length<E.length))return null;const j={};for(let re=0;re<O.length;re++){const ye=O[re],je=E[re];if(ye.startsWith(":"))j[ye.substring(1)]=je;else if(ye!==je.path)return null}return{consumed:E.slice(0,O.length),posParams:j}}function br(E,C){const M=E?Object.keys(E):void 0,O=C?Object.keys(C):void 0;if(!M||!O||M.length!=O.length)return!1;let j;for(let re=0;re<M.length;re++)if(j=M[re],!sr(E[j],C[j]))return!1;return!0}function sr(E,C){if(Array.isArray(E)&&Array.isArray(C)){if(E.length!==C.length)return!1;const M=[...E].sort(),O=[...C].sort();return M.every((j,re)=>O[re]===j)}return E===C}function pn(E){return E.length>0?E[E.length-1]:null}function Dn(E){return function X(E){return!!E&&(E instanceof fe.y||(0,ve.m)(E.lift)&&(0,ve.m)(E.subscribe))}(E)?E:(0,d.QGY)(E)?(0,Me.D)(Promise.resolve(E)):(0,He.of)(E)}const or={exact:function Tr(E,C,M){if(!Di(E.segments,C.segments)||!Yi(E.segments,C.segments,M)||E.numberOfChildren!==C.numberOfChildren)return!1;for(const O in C.children)if(!E.children[O]||!Tr(E.children[O],C.children[O],M))return!1;return!0},subset:ti},yr={exact:function Ri(E,C){return br(E,C)},subset:function ei(E,C){return Object.keys(C).length<=Object.keys(E).length&&Object.keys(C).every(M=>sr(E[M],C[M]))},ignored:()=>!0};function ui(E,C,M){return or[M.paths](E.root,C.root,M.matrixParams)&&yr[M.queryParams](E.queryParams,C.queryParams)&&!("exact"===M.fragment&&E.fragment!==C.fragment)}function ti(E,C,M){return $r(E,C,C.segments,M)}function $r(E,C,M,O){if(E.segments.length>M.length){const j=E.segments.slice(0,M.length);return!(!Di(j,M)||C.hasChildren()||!Yi(j,M,O))}if(E.segments.length===M.length){if(!Di(E.segments,M)||!Yi(E.segments,M,O))return!1;for(const j in C.children)if(!E.children[j]||!ti(E.children[j],C.children[j],O))return!1;return!0}{const j=M.slice(0,E.segments.length),re=M.slice(E.segments.length);return!!(Di(E.segments,j)&&Yi(E.segments,j,O)&&E.children[Ue])&&$r(E.children[Ue],C,re,O)}}function Yi(E,C,M){return C.every((O,j)=>yr[M](E[j].parameters,O.parameters))}class Mr{constructor(C=new dr([],{}),M={},O=null){this.root=C,this.queryParams=M,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class dr{constructor(C,M){this.segments=C,this.children=M,this.parent=null,Object.values(M).forEach(O=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Et(this)}}class Is{constructor(C,M){this.path=C,this.parameters=M}get parameterMap(){return this._parameterMap||(this._parameterMap=Ft(this.parameters)),this._parameterMap}toString(){return _e(this)}}function Di(E,C){return E.length===C.length&&E.every((M,O)=>M.path===C[O].path)}let yt=(()=>{var E;class C{}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275prov=d.Yz7({token:E,factory:function(){return new Ge},providedIn:"root"}),C})();class Ge{parse(C){const M=new Rt(C);return new Mr(M.parseRootSegment(),M.parseQueryParams(),M.parseFragment())}serialize(C){const M=`/${un(C.root,!0)}`,O=function Vt(E){const C=Object.keys(E).map(M=>{const O=E[M];return Array.isArray(O)?O.map(j=>`${ar(M)}=${ar(j)}`).join("&"):`${ar(M)}=${ar(O)}`}).filter(M=>!!M);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${M}${O}${"string"==typeof C.fragment?`#${function Le(E){return encodeURI(E)}(C.fragment)}`:""}`}}const jt=new Ge;function Et(E){return E.segments.map(C=>_e(C)).join("/")}function un(E,C){if(!E.hasChildren())return Et(E);if(C){const M=E.children[Ue]?un(E.children[Ue],!1):"",O=[];return Object.entries(E.children).forEach(([j,re])=>{j!==Ue&&O.push(`${j}:${un(re,!1)}`)}),O.length>0?`${M}(${O.join("//")})`:M}{const M=function Fi(E,C){let M=[];return Object.entries(E.children).forEach(([O,j])=>{O===Ue&&(M=M.concat(C(j,O)))}),Object.entries(E.children).forEach(([O,j])=>{O!==Ue&&(M=M.concat(C(j,O)))}),M}(E,(O,j)=>j===Ue?[un(E.children[Ue],!1)]:[`${j}:${un(O,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Ue]?`${Et(E)}/${M[0]}`:`${Et(E)}/(${M.join("//")})`}}function En(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ar(E){return En(E).replace(/%3B/gi,";")}function pe(E){return En(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function he(E){return decodeURIComponent(E)}function Fe(E){return he(E.replace(/\+/g,"%20"))}function _e(E){return`${pe(E.path)}${function We(E){return Object.keys(E).map(C=>`;${pe(C)}=${pe(E[C])}`).join("")}(E.parameters)}`}const nn=/^[^\/()?;#]+/;function Jn(E){const C=E.match(nn);return C?C[0]:""}const xn=/^[^\/()?;=#]+/,pr=/^[^=?&#]+/,ot=/^[^&#]+/;class Rt{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dr([],{}):new dr([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let M={};this.peekStartsWith("/(")&&(this.capture("/"),M=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(C.length>0||Object.keys(M).length>0)&&(O[Ue]=new dr(C,M)),O}parseSegment(){const C=Jn(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(C),new Is(he(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const M=function oi(E){const C=E.match(xn);return C?C[0]:""}(this.remaining);if(!M)return;this.capture(M);let O="";if(this.consumeOptional("=")){const j=Jn(this.remaining);j&&(O=j,this.capture(O))}C[he(M)]=he(O)}parseQueryParam(C){const M=function xi(E){const C=E.match(pr);return C?C[0]:""}(this.remaining);if(!M)return;this.capture(M);let O="";if(this.consumeOptional("=")){const ye=function Ve(E){const C=E.match(ot);return C?C[0]:""}(this.remaining);ye&&(O=ye,this.capture(O))}const j=Fe(M),re=Fe(O);if(C.hasOwnProperty(j)){let ye=C[j];Array.isArray(ye)||(ye=[ye],C[j]=ye),ye.push(re)}else C[j]=re}parseParens(C){const M={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Jn(this.remaining),j=this.remaining[O.length];if("/"!==j&&")"!==j&&";"!==j)throw new d.vHH(4010,!1);let re;O.indexOf(":")>-1?(re=O.slice(0,O.indexOf(":")),this.capture(re),this.capture(":")):C&&(re=Ue);const ye=this.parseChildren();M[re]=1===Object.keys(ye).length?ye[Ue]:new dr([],ye),this.consumeOptional("//")}return M}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new d.vHH(4011,!1)}}function Ot(E){return E.segments.length>0?new dr([],{[Ue]:E}):E}function an(E){const C={};for(const O of Object.keys(E.children)){const re=an(E.children[O]);if(O===Ue&&0===re.segments.length&&re.hasChildren())for(const[ye,je]of Object.entries(re.children))C[ye]=je;else(re.segments.length>0||re.hasChildren())&&(C[O]=re)}return function sn(E){if(1===E.numberOfChildren&&E.children[Ue]){const C=E.children[Ue];return new dr(E.segments.concat(C.segments),C.children)}return E}(new dr(E.segments,C))}function qn(E){return E instanceof Mr}function Gr(E){let C;const j=Ot(function M(re){const ye={};for(const Ut of re.children){const vt=M(Ut);ye[Ut.outlet]=vt}const je=new dr(re.url,ye);return re===E&&(C=je),je}(E.root));return C??j}function Wr(E,C,M,O){let j=E;for(;j.parent;)j=j.parent;if(0===C.length)return ri(j,j,j,M,O);const re=function rs(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new Bs(!0,0,E);let C=0,M=!1;const O=E.reduce((j,re,ye)=>{if("object"==typeof re&&null!=re){if(re.outlets){const je={};return Object.entries(re.outlets).forEach(([Ut,vt])=>{je[Ut]="string"==typeof vt?vt.split("/"):vt}),[...j,{outlets:je}]}if(re.segmentPath)return[...j,re.segmentPath]}return"string"!=typeof re?[...j,re]:0===ye?(re.split("/").forEach((je,Ut)=>{0==Ut&&"."===je||(0==Ut&&""===je?M=!0:".."===je?C++:""!=je&&j.push(je))}),j):[...j,re]},[]);return new Bs(M,C,O)}(C);if(re.toRoot())return ri(j,j,new dr([],{}),M,O);const ye=function ni(E,C,M){if(E.isAbsolute)return new _i(C,!0,0);if(!M)return new _i(C,!1,NaN);if(null===M.parent)return new _i(M,!0,0);const O=Gi(E.commands[0])?0:1;return function Ps(E,C,M){let O=E,j=C,re=M;for(;re>j;){if(re-=j,O=O.parent,!O)throw new d.vHH(4005,!1);j=O.segments.length}return new _i(O,!1,j-re)}(M,M.segments.length-1+O,E.numberOfDoubleDots)}(re,j,E),je=ye.processChildren?$n(ye.segmentGroup,ye.index,re.commands):hr(ye.segmentGroup,ye.index,re.commands);return ri(j,ye.segmentGroup,je,M,O)}function Gi(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function Rs(E){return"object"==typeof E&&null!=E&&E.outlets}function ri(E,C,M,O,j){let ye,re={};O&&Object.entries(O).forEach(([Ut,vt])=>{re[Ut]=Array.isArray(vt)?vt.map(dn=>`${dn}`):`${vt}`}),ye=E===C?M:cs(E,C,M);const je=Ot(an(ye));return new Mr(je,re,j)}function cs(E,C,M){const O={};return Object.entries(E.children).forEach(([j,re])=>{O[j]=re===C?M:cs(re,C,M)}),new dr(E.segments,O)}class Bs{constructor(C,M,O){if(this.isAbsolute=C,this.numberOfDoubleDots=M,this.commands=O,C&&O.length>0&&Gi(O[0]))throw new d.vHH(4003,!1);const j=O.find(Rs);if(j&&j!==pn(O))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _i{constructor(C,M,O){this.segmentGroup=C,this.processChildren=M,this.index=O}}function hr(E,C,M){if(E||(E=new dr([],{})),0===E.segments.length&&E.hasChildren())return $n(E,C,M);const O=function Kr(E,C,M){let O=0,j=C;const re={match:!1,pathIndex:0,commandIndex:0};for(;j<E.segments.length;){if(O>=M.length)return re;const ye=E.segments[j],je=M[O];if(Rs(je))break;const Ut=`${je}`,vt=O<M.length-1?M[O+1]:null;if(j>0&&void 0===Ut)break;if(Ut&&vt&&"object"==typeof vt&&void 0===vt.outlets){if(!it(Ut,vt,ye))return re;O+=2}else{if(!it(Ut,{},ye))return re;O++}j++}return{match:!0,pathIndex:j,commandIndex:O}}(E,C,M),j=M.slice(O.commandIndex);if(O.match&&O.pathIndex<E.segments.length){const re=new dr(E.segments.slice(0,O.pathIndex),{});return re.children[Ue]=new dr(E.segments.slice(O.pathIndex),E.children),$n(re,0,j)}return O.match&&0===j.length?new dr(E.segments,{}):O.match&&!E.hasChildren()?Hi(E,C,M):O.match?$n(E,0,j):Hi(E,C,M)}function $n(E,C,M){if(0===M.length)return new dr(E.segments,{});{const O=function Ys(E){return Rs(E[0])?E[0].outlets:{[Ue]:E}}(M),j={};if(Object.keys(O).some(re=>re!==Ue)&&E.children[Ue]&&1===E.numberOfChildren&&0===E.children[Ue].segments.length){const re=$n(E.children[Ue],C,M);return new dr(E.segments,re.children)}return Object.entries(O).forEach(([re,ye])=>{"string"==typeof ye&&(ye=[ye]),null!==ye&&(j[re]=hr(E.children[re],C,ye))}),Object.entries(E.children).forEach(([re,ye])=>{void 0===O[re]&&(j[re]=ye)}),new dr(E.segments,j)}}function Hi(E,C,M){const O=E.segments.slice(0,C);let j=0;for(;j<M.length;){const re=M[j];if(Rs(re)){const Ut=Li(re.outlets);return new dr(O,Ut)}if(0===j&&Gi(M[0])){O.push(new Is(E.segments[C].path,Ja(M[0]))),j++;continue}const ye=Rs(re)?re.outlets[Ue]:`${re}`,je=j<M.length-1?M[j+1]:null;ye&&je&&Gi(je)?(O.push(new Is(ye,Ja(je))),j+=2):(O.push(new Is(ye,{})),j++)}return new dr(O,{})}function Li(E){const C={};return Object.entries(E).forEach(([M,O])=>{"string"==typeof O&&(O=[O]),null!==O&&(C[M]=Hi(new dr([],{}),0,O))}),C}function Ja(E){const C={};return Object.entries(E).forEach(([M,O])=>C[M]=`${O}`),C}function it(E,C,M){return E==M.path&&br(C,M.parameters)}const Ye="imperative";class It{constructor(C,M){this.id=C,this.url=M}}class Bt extends It{constructor(C,M,O="imperative",j=null){super(C,M),this.type=0,this.navigationTrigger=O,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gt extends It{constructor(C,M,O){super(C,M),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class er extends It{constructor(C,M,O,j){super(C,M),this.reason=O,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gi extends It{constructor(C,M,O,j){super(C,M),this.reason=O,this.code=j,this.type=16}}class di extends It{constructor(C,M,O,j){super(C,M),this.error=O,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lr extends It{constructor(C,M,O,j){super(C,M),this.urlAfterRedirects=O,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xa extends It{constructor(C,M,O,j){super(C,M),this.urlAfterRedirects=O,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qs extends It{constructor(C,M,O,j,re){super(C,M),this.urlAfterRedirects=O,this.state=j,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fo extends It{constructor(C,M,O,j){super(C,M),this.urlAfterRedirects=O,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi extends It{constructor(C,M,O,j){super(C,M),this.urlAfterRedirects=O,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class La{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class go{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Va{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class na{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class No{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xa{constructor(C,M,O){this.routerEvent=C,this.position=M,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hi{}class us{constructor(C){this.url=C}}class Hr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _s,this.attachRef=null}}let _s=(()=>{var E;class C{constructor(){this.contexts=new Map}onChildOutletCreated(O,j){const re=this.getOrCreateContext(O);re.outlet=j,this.contexts.set(O,re)}onChildOutletDestroyed(O){const j=this.getContext(O);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const O=this.contexts;return this.contexts=new Map,O}onOutletReAttached(O){this.contexts=O}getOrCreateContext(O){let j=this.getContext(O);return j||(j=new Hr,this.contexts.set(O,j)),j}getContext(O){return this.contexts.get(O)||null}}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),C})();class ra{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const M=this.pathFromRoot(C);return M.length>1?M[M.length-2]:null}children(C){const M=da(C,this._root);return M?M.children.map(O=>O.value):[]}firstChild(C){const M=da(C,this._root);return M&&M.children.length>0?M.children[0].value:null}siblings(C){const M=Zi(C,this._root);return M.length<2?[]:M[M.length-2].children.map(j=>j.value).filter(j=>j!==C)}pathFromRoot(C){return Zi(C,this._root).map(M=>M.value)}}function da(E,C){if(E===C.value)return C;for(const M of C.children){const O=da(E,M);if(O)return O}return null}function Zi(E,C){if(E===C.value)return[C];for(const M of C.children){const O=Zi(E,M);if(O.length)return O.unshift(C),O}return[]}class Mi{constructor(C,M){this.value=C,this.children=M}toString(){return`TreeNode(${this.value})`}}function ji(E){const C={};return E&&E.children.forEach(M=>C[M.value.outlet]=M),C}class Oi extends ra{constructor(C,M){super(C),this.snapshot=M,is(this,C)}toString(){return this.snapshot.toString()}}function wn(E,C){const M=function Yr(E,C){const ye=new Vi([],{},{},"",{},Ue,C,null,{});return new mo("",new Mi(ye,[]))}(0,C),O=new Se.X([new Is("",{})]),j=new Se.X({}),re=new Se.X({}),ye=new Se.X({}),je=new Se.X(""),Ut=new Ai(O,j,ye,je,re,Ue,C,M.root);return Ut.snapshot=M.root,new Oi(new Mi(Ut,[]),M)}class Ai{constructor(C,M,O,j,re,ye,je,Ut){this.urlSubject=C,this.paramsSubject=M,this.queryParamsSubject=O,this.fragmentSubject=j,this.dataSubject=re,this.outlet=ye,this.component=je,this._futureSnapshot=Ut,this.title=this.dataSubject?.pipe((0,vn.U)(vt=>vt[Je]))??(0,He.of)(void 0),this.url=C,this.params=M,this.queryParams=O,this.fragment=j,this.data=re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vn.U)(C=>Ft(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vn.U)(C=>Ft(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nr(E,C="emptyOnly"){const M=E.pathFromRoot;let O=0;if("always"!==C)for(O=M.length-1;O>=1;){const j=M[O],re=M[O-1];if(j.routeConfig&&""===j.routeConfig.path)O--;else{if(re.component)break;O--}}return function ia(E){return E.reduce((C,M)=>({params:{...C.params,...M.params},data:{...C.data,...M.data},resolve:{...M.data,...C.resolve,...M.routeConfig?.data,...M._resolvedData}}),{params:{},data:{},resolve:{}})}(M.slice(O))}class Vi{get title(){return this.data?.[Je]}constructor(C,M,O,j,re,ye,je,Ut,vt){this.url=C,this.params=M,this.queryParams=O,this.fragment=j,this.data=re,this.outlet=ye,this.component=je,this.routeConfig=Ut,this._resolve=vt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ft(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mo extends ra{constructor(C,M){super(M),this.url=C,is(this,M)}toString(){return Us(this._root)}}function is(E,C){C.value._routerState=E,C.children.forEach(M=>is(E,M))}function Us(E){const C=E.children.length>0?` { ${E.children.map(Us).join(", ")} } `:"";return`${E.value}${C}`}function Ho(E){if(E.snapshot){const C=E.snapshot,M=E._futureSnapshot;E.snapshot=M,br(C.queryParams,M.queryParams)||E.queryParamsSubject.next(M.queryParams),C.fragment!==M.fragment&&E.fragmentSubject.next(M.fragment),br(C.params,M.params)||E.paramsSubject.next(M.params),function Xt(E,C){if(E.length!==C.length)return!1;for(let M=0;M<E.length;++M)if(!br(E[M],C[M]))return!1;return!0}(C.url,M.url)||E.urlSubject.next(M.url),br(C.data,M.data)||E.dataSubject.next(M.data)}else E.snapshot=E._futureSnapshot,E.dataSubject.next(E._futureSnapshot.data)}function Rr(E,C){const M=br(E.params,C.params)&&function Ts(E,C){return Di(E,C)&&E.every((M,O)=>br(M.parameters,C[O].parameters))}(E.url,C.url);return M&&!(!E.parent!=!C.parent)&&(!E.parent||Rr(E.parent,C.parent))}let ko=(()=>{var E;class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ue,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(_s),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(_o,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(O){if(O.name){const{firstChange:j,previousValue:re}=O.name;if(j)return;this.isTrackedInParentContexts(re)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(re)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(O){return this.parentContexts.getContext(O)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const O=this.parentContexts.getContext(this.name);O?.route&&(O.attachRef?this.attach(O.attachRef,O.route):this.activateWith(O.route,O.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const O=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(O.instance),O}attach(O,j){this.activated=O,this._activatedRoute=j,this.location.insert(O.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(O.instance)}deactivate(){if(this.activated){const O=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(O)}}activateWith(O,j){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=O;const re=this.location,je=O.snapshot.component,Ut=this.parentContexts.getOrCreateContext(this.name).children,vt=new el(O,Ut,re.injector);this.activated=re.createComponent(je,{index:re.length,injector:vt,environmentInjector:j??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275dir=d.lG2({type:E,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),C})();class el{constructor(C,M,O){this.route=C,this.childContexts=M,this.parent=O}get(C,M){return C===Ai?this.route:C===_s?this.childContexts:this.parent.get(C,M)}}const _o=new d.OlP("");let Ur=(()=>{var E;class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(O){this.unsubscribeFromRouteData(O),this.subscribeToRouteData(O)}unsubscribeFromRouteData(O){this.outletDataSubscriptions.get(O)?.unsubscribe(),this.outletDataSubscriptions.delete(O)}subscribeToRouteData(O){const{activatedRoute:j}=O,re=Jt([j.queryParams,j.params,j.data]).pipe((0,Zn.w)(([ye,je,Ut],vt)=>(Ut={...ye,...je,...Ut},0===vt?(0,He.of)(Ut):Promise.resolve(Ut)))).subscribe(ye=>{if(!O.isActivated||!O.activatedComponentRef||O.activatedRoute!==j||null===j.component)return void this.unsubscribeFromRouteData(O);const je=(0,d.qFp)(j.component);if(je)for(const{templateName:Ut}of je.inputs)O.activatedComponentRef.setInput(Ut,ye[Ut]);else this.unsubscribeFromRouteData(O)});this.outletDataSubscriptions.set(O,re)}}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac}),C})();function Gs(E,C,M){if(M&&E.shouldReuseRoute(C.value,M.value.snapshot)){const O=M.value;O._futureSnapshot=C.value;const j=function xs(E,C,M){return C.children.map(O=>{for(const j of M.children)if(E.shouldReuseRoute(O.value,j.value.snapshot))return Gs(E,O,j);return Gs(E,O)})}(E,C,M);return new Mi(O,j)}{if(E.shouldAttach(C.value)){const re=E.retrieve(C.value);if(null!==re){const ye=re.route;return ye.value._futureSnapshot=C.value,ye.children=C.children.map(je=>Gs(E,je)),ye}}const O=function Ms(E){return new Ai(new Se.X(E.url),new Se.X(E.params),new Se.X(E.queryParams),new Se.X(E.fragment),new Se.X(E.data),E.outlet,E.component,E)}(C.value),j=C.children.map(re=>Gs(E,re));return new Mi(O,j)}}const va="ngNavigationCancelingError";function io(E,C){const{redirectTo:M,navigationBehaviorOptions:O}=qn(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,j=Hs(!1,0,C);return j.url=M,j.navigationBehaviorOptions=O,j}function Hs(E,C,M){const O=new Error("NavigationCancelingError: "+(E||""));return O[va]=!0,O.cancellationCode=C,M&&(O.url=M),O}function yo(E){return E&&E[va]}let ii=(()=>{var E;class C{}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275cmp=d.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(O,j){1&O&&d._UZ(0,"router-outlet")},dependencies:[ko],encapsulation:2}),C})();function gs(E){const C=E.children&&E.children.map(gs),M=C?{...E,children:C}:{...E};return!M.component&&!M.loadComponent&&(C||M.loadChildren)&&M.outlet&&M.outlet!==Ue&&(M.component=ii),M}function Ni(E){return E.outlet||Ue}function oo(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let C=E.parent;C;C=C.parent){const M=C.routeConfig;if(M?._loadedInjector)return M._loadedInjector;if(M?._injector)return M._injector}return null}class ba{constructor(C,M,O,j,re){this.routeReuseStrategy=C,this.futureState=M,this.currState=O,this.forwardEvent=j,this.inputBindingEnabled=re}activate(C){const M=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(M,O,C),Ho(this.futureState.root),this.activateChildRoutes(M,O,C)}deactivateChildRoutes(C,M,O){const j=ji(M);C.children.forEach(re=>{const ye=re.value.outlet;this.deactivateRoutes(re,j[ye],O),delete j[ye]}),Object.values(j).forEach(re=>{this.deactivateRouteAndItsChildren(re,O)})}deactivateRoutes(C,M,O){const j=C.value,re=M?M.value:null;if(j===re)if(j.component){const ye=O.getContext(j.outlet);ye&&this.deactivateChildRoutes(C,M,ye.children)}else this.deactivateChildRoutes(C,M,O);else re&&this.deactivateRouteAndItsChildren(M,O)}deactivateRouteAndItsChildren(C,M){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,M):this.deactivateRouteAndOutlet(C,M)}detachAndStoreRouteSubtree(C,M){const O=M.getContext(C.value.outlet),j=O&&C.value.component?O.children:M,re=ji(C);for(const ye of Object.keys(re))this.deactivateRouteAndItsChildren(re[ye],j);if(O&&O.outlet){const ye=O.outlet.detach(),je=O.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:ye,route:C,contexts:je})}}deactivateRouteAndOutlet(C,M){const O=M.getContext(C.value.outlet),j=O&&C.value.component?O.children:M,re=ji(C);for(const ye of Object.keys(re))this.deactivateRouteAndItsChildren(re[ye],j);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.route=null)}activateChildRoutes(C,M,O){const j=ji(M);C.children.forEach(re=>{this.activateRoutes(re,j[re.value.outlet],O),this.forwardEvent(new No(re.value.snapshot))}),C.children.length&&this.forwardEvent(new Va(C.value.snapshot))}activateRoutes(C,M,O){const j=C.value,re=M?M.value:null;if(Ho(j),j===re)if(j.component){const ye=O.getOrCreateContext(j.outlet);this.activateChildRoutes(C,M,ye.children)}else this.activateChildRoutes(C,M,O);else if(j.component){const ye=O.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const je=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),ye.children.onOutletReAttached(je.contexts),ye.attachRef=je.componentRef,ye.route=je.route.value,ye.outlet&&ye.outlet.attach(je.componentRef,je.route.value),Ho(je.route.value),this.activateChildRoutes(C,null,ye.children)}else{const je=oo(j.snapshot);ye.attachRef=null,ye.route=j,ye.injector=je,ye.outlet&&ye.outlet.activateWith(j,ye.injector),this.activateChildRoutes(C,null,ye.children)}}else this.activateChildRoutes(C,null,O)}}class Xi{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class Oa{constructor(C,M){this.component=C,this.route=M}}function sc(E,C,M){const O=E._root;return ha(O,C?C._root:null,M,[O.value])}function Ua(E,C){const M=Symbol(),O=C.get(E,M);return O===M?"function"!=typeof E||(0,d.Z0I)(E)?C.get(E):E:O}function ha(E,C,M,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const re=ji(C);return E.children.forEach(ye=>{(function Wo(E,C,M,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const re=E.value,ye=C?C.value:null,je=M?M.getContext(E.value.outlet):null;if(ye&&re.routeConfig===ye.routeConfig){const Ut=function Nl(E,C,M){if("function"==typeof M)return M(E,C);switch(M){case"pathParamsChange":return!Di(E.url,C.url);case"pathParamsOrQueryParamsChange":return!Di(E.url,C.url)||!br(E.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rr(E,C)||!br(E.queryParams,C.queryParams);default:return!Rr(E,C)}}(ye,re,re.routeConfig.runGuardsAndResolvers);Ut?j.canActivateChecks.push(new Xi(O)):(re.data=ye.data,re._resolvedData=ye._resolvedData),ha(E,C,re.component?je?je.children:null:M,O,j),Ut&&je&&je.outlet&&je.outlet.isActivated&&j.canDeactivateChecks.push(new Oa(je.outlet.component,ye))}else ye&&fa(C,je,j),j.canActivateChecks.push(new Xi(O)),ha(E,null,re.component?je?je.children:null:M,O,j)})(ye,re[ye.value.outlet],M,O.concat([ye.value]),j),delete re[ye.value.outlet]}),Object.entries(re).forEach(([ye,je])=>fa(je,M.getContext(ye),j)),j}function fa(E,C,M){const O=ji(E),j=E.value;Object.entries(O).forEach(([re,ye])=>{fa(ye,j.component?C?C.children.getContext(re):null:C,M)}),M.canDeactivateChecks.push(new Oa(j.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,j))}function es(E){return"function"==typeof E}function vr(E){return E instanceof Kt.K||"EmptyError"===E?.name}const ks=Symbol("INITIAL_VALUE");function zi(){return(0,Zn.w)(E=>Jt(E.map(C=>C.pipe((0,lr.q)(1),(0,Gn.O)(ks)))).pipe((0,vn.U)(C=>{for(const M of C)if(!0!==M){if(M===ks)return ks;if(!1===M||M instanceof Mr)return M}return!0}),(0,Ln.h)(C=>C!==ks),(0,lr.q)(1)))}function ll(E){return(0,Tt.z)((0,at.b)(C=>{if(qn(C))throw io(0,C)}),(0,vn.U)(C=>!0===C))}class Ia{constructor(C){this.segmentGroup=C||null}}class Ga{constructor(C){this.urlTree=C}}function Pa(E){return gt(new Ia(E))}function cl(E){return gt(new Ga(E))}class Fs{constructor(C,M){this.urlSerializer=C,this.urlTree=M}noMatchError(C){return new d.vHH(4002,!1)}lineralizeSegments(C,M){let O=[],j=M.root;for(;;){if(O=O.concat(j.segments),0===j.numberOfChildren)return(0,He.of)(O);if(j.numberOfChildren>1||!j.children[Ue])return gt(new d.vHH(4e3,!1));j=j.children[Ue]}}applyRedirectCommands(C,M,O){return this.applyRedirectCreateUrlTree(M,this.urlSerializer.parse(M),C,O)}applyRedirectCreateUrlTree(C,M,O,j){const re=this.createSegmentGroup(C,M.root,O,j);return new Mr(re,this.createQueryParams(M.queryParams,this.urlTree.queryParams),M.fragment)}createQueryParams(C,M){const O={};return Object.entries(C).forEach(([j,re])=>{if("string"==typeof re&&re.startsWith(":")){const je=re.substring(1);O[j]=M[je]}else O[j]=re}),O}createSegmentGroup(C,M,O,j){const re=this.createSegments(C,M.segments,O,j);let ye={};return Object.entries(M.children).forEach(([je,Ut])=>{ye[je]=this.createSegmentGroup(C,Ut,O,j)}),new dr(re,ye)}createSegments(C,M,O,j){return M.map(re=>re.path.startsWith(":")?this.findPosParam(C,re,j):this.findOrReturn(re,O))}findPosParam(C,M,O){const j=O[M.path.substring(1)];if(!j)throw new d.vHH(4001,!1);return j}findOrReturn(C,M){let O=0;for(const j of M){if(j.path===C.path)return M.splice(O),j;O++}return C}}const Tl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nl(E,C,M,O,j){const re=bi(E,C,M);return re.matched?(O=function vl(E,C){return E.providers&&!E._injector&&(E._injector=(0,d.MMx)(E.providers,C,`Route: ${E.path}`)),E._injector??C}(C,O),function $a(E,C,M,O){const j=C.canMatch;if(!j||0===j.length)return(0,He.of)(!0);const re=j.map(ye=>{const je=Ua(ye,E);return Dn(function te(E){return E&&es(E.canMatch)}(je)?je.canMatch(C,M):E.runInContext(()=>je(C,M)))});return(0,He.of)(re).pipe(zi(),ll())}(O,C,M).pipe((0,vn.U)(ye=>!0===ye?re:{...Tl}))):(0,He.of)(re)}function bi(E,C,M){if(""===C.path)return"full"===C.pathMatch&&(E.hasChildren()||M.length>0)?{...Tl}:{matched:!0,consumedSegments:[],remainingSegments:M,parameters:{},positionalParamSegments:{}};const j=(C.matcher||xt)(M,E,C);if(!j)return{...Tl};const re={};Object.entries(j.posParams??{}).forEach(([je,Ut])=>{re[je]=Ut.path});const ye=j.consumed.length>0?{...re,...j.consumed[j.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:j.consumed,remainingSegments:M.slice(j.consumed.length),parameters:ye,positionalParamSegments:j.posParams??{}}}function Js(E,C,M,O){return M.length>0&&function $i(E,C,M){return M.some(O=>oa(E,C,O)&&Ni(O)!==Ue)}(E,M,O)?{segmentGroup:new dr(C,kl(O,new dr(M,E.children))),slicedSegments:[]}:0===M.length&&function Ha(E,C,M){return M.some(O=>oa(E,C,O))}(E,M,O)?{segmentGroup:new dr(E.segments,qo(E,0,M,O,E.children)),slicedSegments:M}:{segmentGroup:new dr(E.segments,E.children),slicedSegments:M}}function qo(E,C,M,O,j){const re={};for(const ye of O)if(oa(E,M,ye)&&!j[Ni(ye)]){const je=new dr([],{});re[Ni(ye)]=je}return{...j,...re}}function kl(E,C){const M={};M[Ue]=C;for(const O of E)if(""===O.path&&Ni(O)!==Ue){const j=new dr([],{});M[Ni(O)]=j}return M}function oa(E,C,M){return(!(E.hasChildren()||C.length>0)||"full"!==M.pathMatch)&&""===M.path}class Lo{constructor(C,M,O,j,re,ye,je){this.injector=C,this.configLoader=M,this.rootComponentType=O,this.config=j,this.urlTree=re,this.paramsInheritanceStrategy=ye,this.urlSerializer=je,this.allowRedirects=!0,this.applyRedirects=new Fs(this.urlSerializer,this.urlTree)}noMatchError(C){return new d.vHH(4002,!1)}recognize(){const C=Js(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,Ue).pipe(Dt(M=>{if(M instanceof Ga)return this.allowRedirects=!1,this.urlTree=M.urlTree,this.match(M.urlTree);throw M instanceof Ia?this.noMatchError(M):M}),(0,vn.U)(M=>{const O=new Vi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ue,this.rootComponentType,null,{}),j=new Mi(O,M),re=new mo("",j),ye=function bn(E,C,M=null,O=null){return Wr(Gr(E),C,M,O)}(O,[],this.urlTree.queryParams,this.urlTree.fragment);return ye.queryParams=this.urlTree.queryParams,re.url=this.urlSerializer.serialize(ye),this.inheritParamsAndData(re._root),{state:re,tree:ye}}))}match(C){return this.processSegmentGroup(this.injector,this.config,C.root,Ue).pipe(Dt(O=>{throw O instanceof Ia?this.noMatchError(O):O}))}inheritParamsAndData(C){const M=C.value,O=Nr(M,this.paramsInheritanceStrategy);M.params=Object.freeze(O.params),M.data=Object.freeze(O.data),C.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(C,M,O,j){return 0===O.segments.length&&O.hasChildren()?this.processChildren(C,M,O):this.processSegment(C,M,O,O.segments,j,!0)}processChildren(C,M,O){const j=[];for(const re of Object.keys(O.children))"primary"===re?j.unshift(re):j.push(re);return(0,Me.D)(j).pipe((0,wt.b)(re=>{const ye=O.children[re],je=function zo(E,C){const M=E.filter(O=>Ni(O)===C);return M.push(...E.filter(O=>Ni(O)!==C)),M}(M,re);return this.processSegmentGroup(C,je,ye,re)}),(0,rn.R)((re,ye)=>(re.push(...ye),re)),(0,ln.d)(null),function cr(E,C){const M=arguments.length>=2;return O=>O.pipe(E?(0,Ln.h)((j,re)=>E(j,re,O)):nt.y,gn(1),M?(0,ln.d)(C):(0,Zr.T)(()=>new Kt.K))}(),(0,Qe.z)(re=>{if(null===re)return Pa(O);const ye=Ko(re);return function Fl(E){E.sort((C,M)=>C.value.outlet===Ue?-1:M.value.outlet===Ue?1:C.value.outlet.localeCompare(M.value.outlet))}(ye),(0,He.of)(ye)}))}processSegment(C,M,O,j,re,ye){return(0,Me.D)(M).pipe((0,wt.b)(je=>this.processSegmentAgainstRoute(je._injector??C,M,je,O,j,re,ye).pipe(Dt(Ut=>{if(Ut instanceof Ia)return(0,He.of)(null);throw Ut}))),(0,rt.P)(je=>!!je),Dt(je=>{if(vr(je))return function aa(E,C,M){return 0===C.length&&!E.children[M]}(O,j,re)?(0,He.of)([]):Pa(O);throw je}))}processSegmentAgainstRoute(C,M,O,j,re,ye,je){return function Ma(E,C,M,O){return!!(Ni(E)===O||O!==Ue&&oa(C,M,E))&&("**"===E.path||bi(C,E,M).matched)}(O,j,re,ye)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(C,j,O,re,ye,je):je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,j,M,O,re,ye):Pa(j):Pa(j)}expandSegmentAgainstRouteUsingRedirect(C,M,O,j,re,ye){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,O,j,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(C,M,O,j,re,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,M,O,j){const re=this.applyRedirects.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?cl(re):this.applyRedirects.lineralizeSegments(O,re).pipe((0,Qe.z)(ye=>{const je=new dr(ye,{});return this.processSegment(C,M,je,ye,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,M,O,j,re,ye){const{matched:je,consumedSegments:Ut,remainingSegments:vt,positionalParamSegments:dn}=bi(M,j,re);if(!je)return Pa(M);const Cn=this.applyRedirects.applyRedirectCommands(Ut,j.redirectTo,dn);return j.redirectTo.startsWith("/")?cl(Cn):this.applyRedirects.lineralizeSegments(j,Cn).pipe((0,Qe.z)(zr=>this.processSegment(C,O,M,zr.concat(vt),ye,!1)))}matchSegmentAgainstRoute(C,M,O,j,re,ye){let je;if("**"===O.path){const Ut=j.length>0?pn(j).parameters:{},vt=new Vi(j,Ut,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lo(O),Ni(O),O.component??O._loadedComponent??null,O,Ql(O));je=(0,He.of)({snapshot:vt,consumedSegments:[],remainingSegments:[]}),M.children={}}else je=nl(M,O,j,C).pipe((0,vn.U)(({matched:Ut,consumedSegments:vt,remainingSegments:dn,parameters:Cn})=>Ut?{snapshot:new Vi(vt,Cn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lo(O),Ni(O),O.component??O._loadedComponent??null,O,Ql(O)),consumedSegments:vt,remainingSegments:dn}:null));return je.pipe((0,Zn.w)(Ut=>null===Ut?Pa(M):this.getChildConfig(C=O._injector??C,O,j).pipe((0,Zn.w)(({routes:vt})=>{const dn=O._loadedInjector??C,{snapshot:Cn,consumedSegments:zr,remainingSegments:Dr}=Ut,{segmentGroup:Xr,slicedSegments:vs}=Js(M,zr,Dr,vt);if(0===vs.length&&Xr.hasChildren())return this.processChildren(dn,vt,Xr).pipe((0,vn.U)(qs=>null===qs?null:[new Mi(Cn,qs)]));if(0===vt.length&&0===vs.length)return(0,He.of)([new Mi(Cn,[])]);const Ro=Ni(O)===re;return this.processSegment(dn,vt,Xr,vs,Ro?Ue:re,!0).pipe((0,vn.U)(qs=>[new Mi(Cn,qs)]))}))))}getChildConfig(C,M,O){return M.children?(0,He.of)({routes:M.children,injector:C}):M.loadChildren?void 0!==M._loadedRoutes?(0,He.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):function pa(E,C,M,O){const j=C.canLoad;if(void 0===j||0===j.length)return(0,He.of)(!0);const re=j.map(ye=>{const je=Ua(ye,E);return Dn(function Eo(E){return E&&es(E.canLoad)}(je)?je.canLoad(C,M):E.runInContext(()=>je(C,M)))});return(0,He.of)(re).pipe(zi(),ll())}(C,M,O).pipe((0,Qe.z)(j=>j?this.configLoader.loadChildren(C,M).pipe((0,at.b)(re=>{M._loadedRoutes=re.routes,M._loadedInjector=re.injector})):function Il(E){return gt(Hs(!1,3))}())):(0,He.of)({routes:[],injector:C})}}function ul(E){const C=E.value.routeConfig;return C&&""===C.path}function Ko(E){const C=[],M=new Set;for(const O of E){if(!ul(O)){C.push(O);continue}const j=C.find(re=>O.value.routeConfig===re.value.routeConfig);void 0!==j?(j.children.push(...O.children),M.add(j)):C.push(O)}for(const O of M){const j=Ko(O.children);C.push(new Mi(O.value,j))}return C.filter(O=>!M.has(O))}function lo(E){return E.data||{}}function Ql(E){return E.resolve||{}}function ie(E){return"string"==typeof E.title||null===E.title}function de(E){return(0,Zn.w)(C=>{const M=E(C);return M?(0,Me.D)(M).pipe((0,vn.U)(()=>C)):(0,He.of)(C)})}const ge=new d.OlP("ROUTES");let De=(()=>{var E;class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(O){if(this.componentLoaders.get(O))return this.componentLoaders.get(O);if(O._loadedComponent)return(0,He.of)(O._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(O);const j=Dn(O.loadComponent()).pipe((0,vn.U)(tt),(0,at.b)(ye=>{this.onLoadEndListener&&this.onLoadEndListener(O),O._loadedComponent=ye}),(0,Wn.x)(()=>{this.componentLoaders.delete(O)})),re=new hn(j,()=>new zn.x).pipe(Wt());return this.componentLoaders.set(O,re),re}loadChildren(O,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,He.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const ye=this.loadModuleFactoryOrRoutes(j.loadChildren).pipe((0,vn.U)(Ut=>{this.onLoadEndListener&&this.onLoadEndListener(j);let vt,dn;return Array.isArray(Ut)?dn=Ut:(vt=Ut.create(O).injector,dn=vt.get(ge,[],d.XFs.Self|d.XFs.Optional).flat()),{routes:dn.map(gs),injector:vt}}),(0,Wn.x)(()=>{this.childrenLoaders.delete(j)})),je=new hn(ye,()=>new zn.x).pipe(Wt());return this.childrenLoaders.set(j,je),je}loadModuleFactoryOrRoutes(O){return Dn(O()).pipe((0,vn.U)(tt),(0,Qe.z)(j=>j instanceof d.YKP||Array.isArray(j)?(0,He.of)(j):(0,Me.D)(this.compiler.compileModuleAsync(j))))}}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),C})();function tt(E){return function Ze(E){return E&&"object"==typeof E&&"default"in E}(E)?E.default:E}let Mt=(()=>{var E;class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zn.x,this.transitionAbortSubject=new zn.x,this.configLoader=(0,d.f3M)(De),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(yt),this.rootContexts=(0,d.f3M)(_s),this.inputBindingEnabled=null!==(0,d.f3M)(_o,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,He.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=re=>this.events.next(new La(re)),this.configLoader.onLoadStartListener=re=>this.events.next(new po(re))}complete(){this.transitions?.complete()}handleNavigationRequest(O){const j=++this.navigationId;this.transitions?.next({...this.transitions.value,...O,id:j})}setupNavigations(O,j,re){return this.transitions=new Se.X({id:0,currentUrlTree:j,currentRawUrl:j,currentBrowserUrl:j,extractedUrl:O.urlHandlingStrategy.extract(j),urlAfterRedirects:O.urlHandlingStrategy.extract(j),rawUrl:j,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ye,restoredState:null,currentSnapshot:re.snapshot,targetSnapshot:null,currentRouterState:re,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ln.h)(ye=>0!==ye.id),(0,vn.U)(ye=>({...ye,extractedUrl:O.urlHandlingStrategy.extract(ye.rawUrl)})),(0,Zn.w)(ye=>{this.currentTransition=ye;let je=!1,Ut=!1;return(0,He.of)(ye).pipe((0,at.b)(vt=>{this.currentNavigation={id:vt.id,initialUrl:vt.rawUrl,extractedUrl:vt.extractedUrl,trigger:vt.source,extras:vt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Zn.w)(vt=>{const dn=vt.currentBrowserUrl.toString(),Cn=!O.navigated||vt.extractedUrl.toString()!==dn||dn!==vt.currentUrlTree.toString();if(!Cn&&"reload"!==(vt.extras.onSameUrlNavigation??O.onSameUrlNavigation)){const Dr="";return this.events.next(new gi(vt.id,this.urlSerializer.serialize(vt.rawUrl),Dr,0)),vt.resolve(null),mt.E}if(O.urlHandlingStrategy.shouldProcessUrl(vt.rawUrl))return(0,He.of)(vt).pipe((0,Zn.w)(Dr=>{const Xr=this.transitions?.getValue();return this.events.next(new Bt(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),Dr.source,Dr.restoredState)),Xr!==this.transitions?.getValue()?mt.E:Promise.resolve(Dr)}),function V(E,C,M,O,j,re){return(0,Qe.z)(ye=>function Yl(E,C,M,O,j,re,ye="emptyOnly"){return new Lo(E,C,M,O,j,ye,re).recognize()}(E,C,M,O,ye.extractedUrl,j,re).pipe((0,vn.U)(({state:je,tree:Ut})=>({...ye,targetSnapshot:je,urlAfterRedirects:Ut}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,O.config,this.urlSerializer,O.paramsInheritanceStrategy),(0,at.b)(Dr=>{ye.targetSnapshot=Dr.targetSnapshot,ye.urlAfterRedirects=Dr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Dr.urlAfterRedirects};const Xr=new Lr(Dr.id,this.urlSerializer.serialize(Dr.extractedUrl),this.urlSerializer.serialize(Dr.urlAfterRedirects),Dr.targetSnapshot);this.events.next(Xr)}));if(Cn&&O.urlHandlingStrategy.shouldProcessUrl(vt.currentRawUrl)){const{id:Dr,extractedUrl:Xr,source:vs,restoredState:Ro,extras:qs}=vt,sl=new Bt(Dr,this.urlSerializer.serialize(Xr),vs,Ro);this.events.next(sl);const ga=wn(0,this.rootComponentType).snapshot;return this.currentTransition=ye={...vt,targetSnapshot:ga,urlAfterRedirects:Xr,extras:{...qs,skipLocationChange:!1,replaceUrl:!1}},(0,He.of)(ye)}{const Dr="";return this.events.next(new gi(vt.id,this.urlSerializer.serialize(vt.extractedUrl),Dr,1)),vt.resolve(null),mt.E}}),(0,at.b)(vt=>{const dn=new Xa(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot);this.events.next(dn)}),(0,vn.U)(vt=>(this.currentTransition=ye={...vt,guards:sc(vt.targetSnapshot,vt.currentSnapshot,this.rootContexts)},ye)),function Fo(E,C){return(0,Qe.z)(M=>{const{targetSnapshot:O,currentSnapshot:j,guards:{canActivateChecks:re,canDeactivateChecks:ye}}=M;return 0===ye.length&&0===re.length?(0,He.of)({...M,guardsResult:!0}):function Ws(E,C,M,O){return(0,Me.D)(E).pipe((0,Qe.z)(j=>function ys(E,C,M,O,j){const re=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,He.of)(!0);const ye=re.map(je=>{const Ut=oo(C)??j,vt=Ua(je,Ut);return Dn(function we(E){return E&&es(E.canDeactivate)}(vt)?vt.canDeactivate(E,C,M,O):Ut.runInContext(()=>vt(E,C,M,O))).pipe((0,rt.P)())});return(0,He.of)(ye).pipe(zi())}(j.component,j.route,M,C,O)),(0,rt.P)(j=>!0!==j,!0))}(ye,O,j,E).pipe((0,Qe.z)(je=>je&&function Co(E){return"boolean"==typeof E}(je)?function Zs(E,C,M,O){return(0,Me.D)(C).pipe((0,wt.b)(j=>(0,Vn.z)(function ao(E,C){return null!==E&&C&&C(new go(E)),(0,He.of)(!0)}(j.route.parent,O),function ja(E,C){return null!==E&&C&&C(new na(E)),(0,He.of)(!0)}(j.route,O),function sa(E,C,M){const O=C[C.length-1],re=C.slice(0,C.length-1).reverse().map(ye=>function tl(E){const C=E.routeConfig?E.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:E,guards:C}:null}(ye)).filter(ye=>null!==ye).map(ye=>Xe(()=>{const je=ye.guards.map(Ut=>{const vt=oo(ye.node)??M,dn=Ua(Ut,vt);return Dn(function Z(E){return E&&es(E.canActivateChild)}(dn)?dn.canActivateChild(O,E):vt.runInContext(()=>dn(O,E))).pipe((0,rt.P)())});return(0,He.of)(je).pipe(zi())}));return(0,He.of)(re).pipe(zi())}(E,j.path,M),function ds(E,C,M){const O=C.routeConfig?C.routeConfig.canActivate:null;if(!O||0===O.length)return(0,He.of)(!0);const j=O.map(re=>Xe(()=>{const ye=oo(C)??M,je=Ua(re,ye);return Dn(function ne(E){return E&&es(E.canActivate)}(je)?je.canActivate(C,E):ye.runInContext(()=>je(C,E))).pipe((0,rt.P)())}));return(0,He.of)(j).pipe(zi())}(E,j.route,M))),(0,rt.P)(j=>!0!==j,!0))}(O,re,E,C):(0,He.of)(je)),(0,vn.U)(je=>({...M,guardsResult:je})))})}(this.environmentInjector,vt=>this.events.next(vt)),(0,at.b)(vt=>{if(ye.guardsResult=vt.guardsResult,qn(vt.guardsResult))throw io(0,vt.guardsResult);const dn=new Qs(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot,!!vt.guardsResult);this.events.next(dn)}),(0,Ln.h)(vt=>!!vt.guardsResult||(this.cancelNavigationTransition(vt,"",3),!1)),de(vt=>{if(vt.guards.canActivateChecks.length)return(0,He.of)(vt).pipe((0,at.b)(dn=>{const Cn=new fo(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(Cn)}),(0,Zn.w)(dn=>{let Cn=!1;return(0,He.of)(dn).pipe(function ee(E,C){return(0,Qe.z)(M=>{const{targetSnapshot:O,guards:{canActivateChecks:j}}=M;if(!j.length)return(0,He.of)(M);let re=0;return(0,Me.D)(j).pipe((0,wt.b)(ye=>function Pe(E,C,M,O){const j=E.routeConfig,re=E._resolve;return void 0!==j?.title&&!ie(j)&&(re[Je]=j.title),function Q(E,C,M,O){const j=function Te(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===j.length)return(0,He.of)({});const re={};return(0,Me.D)(j).pipe((0,Qe.z)(ye=>function G(E,C,M,O){const j=oo(C)??O,re=Ua(E,j);return Dn(re.resolve?re.resolve(C,M):j.runInContext(()=>re(C,M)))}(E[ye],C,M,O).pipe((0,rt.P)(),(0,at.b)(je=>{re[ye]=je}))),gn(1),(0,_r.h)(re),Dt(ye=>vr(ye)?mt.E:gt(ye)))}(re,E,C,O).pipe((0,vn.U)(ye=>(E._resolvedData=ye,E.data=Nr(E,M).resolve,j&&ie(j)&&(E.data[Je]=j.title),null)))}(ye.route,O,E,C)),(0,at.b)(()=>re++),gn(1),(0,Qe.z)(ye=>re===j.length?(0,He.of)(M):mt.E))})}(O.paramsInheritanceStrategy,this.environmentInjector),(0,at.b)({next:()=>Cn=!0,complete:()=>{Cn||this.cancelNavigationTransition(dn,"",2)}}))}),(0,at.b)(dn=>{const Cn=new Qi(dn.id,this.urlSerializer.serialize(dn.extractedUrl),this.urlSerializer.serialize(dn.urlAfterRedirects),dn.targetSnapshot);this.events.next(Cn)}))}),de(vt=>{const dn=Cn=>{const zr=[];Cn.routeConfig?.loadComponent&&!Cn.routeConfig._loadedComponent&&zr.push(this.configLoader.loadComponent(Cn.routeConfig).pipe((0,at.b)(Dr=>{Cn.component=Dr}),(0,vn.U)(()=>{})));for(const Dr of Cn.children)zr.push(...dn(Dr));return zr};return Jt(dn(vt.targetSnapshot.root)).pipe((0,ln.d)(),(0,lr.q)(1))}),de(()=>this.afterPreactivation()),(0,vn.U)(vt=>{const dn=function ya(E,C,M){const O=Gs(E,C._root,M?M._root:void 0);return new Oi(O,C)}(O.routeReuseStrategy,vt.targetSnapshot,vt.currentRouterState);return this.currentTransition=ye={...vt,targetRouterState:dn},ye}),(0,at.b)(()=>{this.events.next(new hi)}),((E,C,M,O)=>(0,vn.U)(j=>(new ba(C,j.targetRouterState,j.currentRouterState,M,O).activate(E),j)))(this.rootContexts,O.routeReuseStrategy,vt=>this.events.next(vt),this.inputBindingEnabled),(0,lr.q)(1),(0,at.b)({next:vt=>{je=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gt(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects))),O.titleStrategy?.updateTitle(vt.targetRouterState.snapshot),vt.resolve(!0)},complete:()=>{je=!0}}),(0,Pr.R)(this.transitionAbortSubject.pipe((0,at.b)(vt=>{throw vt}))),(0,Wn.x)(()=>{je||Ut||this.cancelNavigationTransition(ye,"",1),this.currentNavigation?.id===ye.id&&(this.currentNavigation=null)}),Dt(vt=>{if(Ut=!0,yo(vt))this.events.next(new er(ye.id,this.urlSerializer.serialize(ye.extractedUrl),vt.message,vt.cancellationCode)),function Fr(E){return yo(E)&&qn(E.url)}(vt)?this.events.next(new us(vt.url)):ye.resolve(!1);else{this.events.next(new di(ye.id,this.urlSerializer.serialize(ye.extractedUrl),vt,ye.targetSnapshot??void 0));try{ye.resolve(O.errorHandler(vt))}catch(dn){ye.reject(dn)}}return mt.E}))}))}cancelNavigationTransition(O,j,re){const ye=new er(O.id,this.urlSerializer.serialize(O.extractedUrl),j,re);this.events.next(ye),O.resolve(!1)}}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),C})();function kt(E){return E!==Ye}let On=(()=>{var E;class C{buildTitle(O){let j,re=O.root;for(;void 0!==re;)j=this.getResolvedTitleForRoute(re)??j,re=re.children.find(ye=>ye.outlet===Ue);return j}getResolvedTitleForRoute(O){return O.data[Je]}}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275prov=d.Yz7({token:E,factory:function(){return(0,d.f3M)(Un)},providedIn:"root"}),C})(),Un=(()=>{var E;class C extends On{constructor(O){super(),this.title=O}updateTitle(O){const j=this.buildTitle(O);void 0!==j&&this.title.setTitle(j)}}return(E=C).\u0275fac=function(O){return new(O||E)(d.LFG(Br.Dx))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),C})(),nr=(()=>{var E;class C{}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275prov=d.Yz7({token:E,factory:function(){return(0,d.f3M)(kr)},providedIn:"root"}),C})();class Yn{shouldDetach(C){return!1}store(C,M){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,M){return C.routeConfig===M.routeConfig}}let kr=(()=>{var E;class C extends Yn{}return(E=C).\u0275fac=function(){let M;return function(j){return(M||(M=d.n5z(E)))(j||E)}}(),E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),C})();const Jr=new d.OlP("",{providedIn:"root",factory:()=>({})});let Ss=(()=>{var E;class C{}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275prov=d.Yz7({token:E,factory:function(){return(0,d.f3M)(Xs)},providedIn:"root"}),C})(),Xs=(()=>{var E;class C{shouldProcessUrl(O){return!0}extract(O){return O}merge(O,j){return O}}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),C})();var $t=function(E){return E[E.COMPLETE=0]="COMPLETE",E[E.FAILED=1]="FAILED",E[E.REDIRECTING=2]="REDIRECTING",E}($t||{});function Ei(E,C){E.events.pipe((0,Ln.h)(M=>M instanceof Gt||M instanceof er||M instanceof di||M instanceof gi),(0,vn.U)(M=>M instanceof Gt||M instanceof gi?$t.COMPLETE:M instanceof er&&(0===M.code||1===M.code)?$t.REDIRECTING:$t.FAILED),(0,Ln.h)(M=>M!==$t.REDIRECTING),(0,lr.q)(1)).subscribe(()=>{C()})}function Wi(E){throw E}function hs(E,C,M){return C.parse("/")}const tr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Er={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cs=(()=>{var E;class C{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new zn.x,this.options=(0,d.f3M)(Jr,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||Wi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hs,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(Ss),this.routeReuseStrategy=(0,d.f3M)(nr),this.titleStrategy=(0,d.f3M)(On),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(ge,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(Mt),this.urlSerializer=(0,d.f3M)(yt),this.location=(0,d.f3M)(Bn.Ye),this.componentInputBindingEnabled=!!(0,d.f3M)(_o,{optional:!0}),this.eventsSubscription=new Nt.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Mr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wn(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(O=>{this.lastSuccessfulId=O.id,this.currentPageId=this.browserPageId},O=>{this.console.warn(`Unhandled Navigation Error: ${O}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const O=this.navigationTransitions.events.subscribe(j=>{try{const{currentTransition:re}=this.navigationTransitions;if(null===re)return void(Lt(j)&&this._events.next(j));if(j instanceof Bt)kt(re.source)&&(this.browserUrlTree=re.extractedUrl);else if(j instanceof gi)this.rawUrlTree=re.rawUrl;else if(j instanceof Lr){if("eager"===this.urlUpdateStrategy){if(!re.extras.skipLocationChange){const ye=this.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl);this.setBrowserUrl(ye,re)}this.browserUrlTree=re.urlAfterRedirects}}else if(j instanceof hi)this.currentUrlTree=re.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(re.urlAfterRedirects,re.rawUrl),this.routerState=re.targetRouterState,"deferred"===this.urlUpdateStrategy&&(re.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,re),this.browserUrlTree=re.urlAfterRedirects);else if(j instanceof er)0!==j.code&&1!==j.code&&(this.navigated=!0),(3===j.code||2===j.code)&&this.restoreHistory(re);else if(j instanceof us){const ye=this.urlHandlingStrategy.merge(j.url,re.currentRawUrl),je={skipLocationChange:re.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kt(re.source)};this.scheduleNavigation(ye,Ye,null,je,{resolve:re.resolve,reject:re.reject,promise:re.promise})}j instanceof di&&this.restoreHistory(re,!0),j instanceof Gt&&(this.navigated=!0),Lt(j)&&this._events.next(j)}catch(re){this.navigationTransitions.transitionAbortSubject.next(re)}});this.eventsSubscription.add(O)}resetRootComponentType(O){this.routerState.root.component=O,this.navigationTransitions.rootComponentType=O}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const O=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ye,O)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(O=>{const j="popstate"===O.type?"popstate":"hashchange";"popstate"===j&&setTimeout(()=>{this.navigateToSyncWithBrowser(O.url,j,O.state)},0)}))}navigateToSyncWithBrowser(O,j,re){const ye={replaceUrl:!0},je=re?.navigationId?re:null;if(re){const vt={...re};delete vt.navigationId,delete vt.\u0275routerPageId,0!==Object.keys(vt).length&&(ye.state=vt)}const Ut=this.parseUrl(O);this.scheduleNavigation(Ut,j,je,ye)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(O){this.config=O.map(gs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(O,j={}){const{relativeTo:re,queryParams:ye,fragment:je,queryParamsHandling:Ut,preserveFragment:vt}=j,dn=vt?this.currentUrlTree.fragment:je;let zr,Cn=null;switch(Ut){case"merge":Cn={...this.currentUrlTree.queryParams,...ye};break;case"preserve":Cn=this.currentUrlTree.queryParams;break;default:Cn=ye||null}null!==Cn&&(Cn=this.removeEmptyProps(Cn));try{zr=Gr(re?re.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof O[0]||!O[0].startsWith("/"))&&(O=[]),zr=this.currentUrlTree.root}return Wr(zr,O,Cn,dn??null)}navigateByUrl(O,j={skipLocationChange:!1}){const re=qn(O)?O:this.parseUrl(O),ye=this.urlHandlingStrategy.merge(re,this.rawUrlTree);return this.scheduleNavigation(ye,Ye,null,j)}navigate(O,j={skipLocationChange:!1}){return function Sn(E){for(let C=0;C<E.length;C++)if(null==E[C])throw new d.vHH(4008,!1)}(O),this.navigateByUrl(this.createUrlTree(O,j),j)}serializeUrl(O){return this.urlSerializer.serialize(O)}parseUrl(O){let j;try{j=this.urlSerializer.parse(O)}catch(re){j=this.malformedUriErrorHandler(re,this.urlSerializer,O)}return j}isActive(O,j){let re;if(re=!0===j?{...tr}:!1===j?{...Er}:j,qn(O))return ui(this.currentUrlTree,O,re);const ye=this.parseUrl(O);return ui(this.currentUrlTree,ye,re)}removeEmptyProps(O){return Object.keys(O).reduce((j,re)=>{const ye=O[re];return null!=ye&&(j[re]=ye),j},{})}scheduleNavigation(O,j,re,ye,je){if(this.disposed)return Promise.resolve(!1);let Ut,vt,dn;je?(Ut=je.resolve,vt=je.reject,dn=je.promise):dn=new Promise((zr,Dr)=>{Ut=zr,vt=Dr});const Cn=this.pendingTasks.add();return Ei(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Cn))}),this.navigationTransitions.handleNavigationRequest({source:j,restoredState:re,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:O,extras:ye,resolve:Ut,reject:vt,promise:dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),dn.catch(zr=>Promise.reject(zr))}setBrowserUrl(O,j){const re=this.urlSerializer.serialize(O);if(this.location.isCurrentPathEqualTo(re)||j.extras.replaceUrl){const je={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId)};this.location.replaceState(re,"",je)}else{const ye={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId+1)};this.location.go(re,"",ye)}}restoreHistory(O,j=!1){if("computed"===this.canceledNavigationResolution){const ye=this.currentPageId-this.browserPageId;0!==ye?this.location.historyGo(ye):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===ye&&(this.resetState(O),this.browserUrlTree=O.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(O),this.resetUrlToCurrentUrlTree())}resetState(O){this.routerState=O.currentRouterState,this.currentUrlTree=O.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,O.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(O,j){return"computed"===this.canceledNavigationResolution?{navigationId:O,\u0275routerPageId:j}:{navigationId:O}}}return(E=C).\u0275fac=function(O){return new(O||E)},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),C})();function Lt(E){return!(E instanceof hi||E instanceof us)}let _n=(()=>{var E;class C{constructor(O,j,re,ye,je,Ut){this.router=O,this.route=j,this.tabIndexAttribute=re,this.renderer=ye,this.el=je,this.locationStrategy=Ut,this.href=null,this.commands=null,this.onChanges=new zn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const vt=je.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===vt||"area"===vt,this.isAnchorElement?this.subscription=O.events.subscribe(dn=>{dn instanceof Gt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(O){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",O)}ngOnChanges(O){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(O){null!=O?(this.commands=Array.isArray(O)?O:[O],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(O,j,re,ye,je){return!!(null===this.urlTree||this.isAnchorElement&&(0!==O||j||re||ye||je||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const O=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",O)}applyAttributeValue(O,j){const re=this.renderer,ye=this.el.nativeElement;null!==j?re.setAttribute(ye,O,j):re.removeAttribute(ye,O)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(E=C).\u0275fac=function(O){return new(O||E)(d.Y36(Cs),d.Y36(Ai),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Bn.S$))},E.\u0275dir=d.lG2({type:E,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(O,j){1&O&&d.NdJ("click",function(ye){return j.onClick(ye.button,ye.ctrlKey,ye.shiftKey,ye.altKey,ye.metaKey)}),2&O&&d.uIk("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),C})();class za{}let Ao=(()=>{var E;class C{constructor(O,j,re,ye,je){this.router=O,this.injector=re,this.preloadingStrategy=ye,this.loader=je}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ln.h)(O=>O instanceof Gt),(0,wt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(O,j){const re=[];for(const ye of j){ye.providers&&!ye._injector&&(ye._injector=(0,d.MMx)(ye.providers,O,`Route: ${ye.path}`));const je=ye._injector??O,Ut=ye._loadedInjector??je;(ye.loadChildren&&!ye._loadedRoutes&&void 0===ye.canLoad||ye.loadComponent&&!ye._loadedComponent)&&re.push(this.preloadConfig(je,ye)),(ye.children||ye._loadedRoutes)&&re.push(this.processRoutes(Ut,ye.children??ye._loadedRoutes))}return(0,Me.D)(re).pipe((0,Fn.J)())}preloadConfig(O,j){return this.preloadingStrategy.preload(j,()=>{let re;re=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(O,j):(0,He.of)(null);const ye=re.pipe((0,Qe.z)(je=>null===je?(0,He.of)(void 0):(j._loadedRoutes=je.routes,j._loadedInjector=je.injector,this.processRoutes(je.injector??O,je.routes))));if(j.loadComponent&&!j._loadedComponent){const je=this.loader.loadComponent(j);return(0,Me.D)([ye,je]).pipe((0,Fn.J)())}return ye})}}return(E=C).\u0275fac=function(O){return new(O||E)(d.LFG(Cs),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(za),d.LFG(De))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),C})();const Ll=new d.OlP("");let Oc=(()=>{var E;class C{constructor(O,j,re,ye,je={}){this.urlSerializer=O,this.transitions=j,this.viewportScroller=re,this.zone=ye,this.options=je,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},je.scrollPositionRestoration=je.scrollPositionRestoration||"disabled",je.anchorScrolling=je.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof Bt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=O.navigationTrigger,this.restoredId=O.restoredState?O.restoredState.navigationId:0):O instanceof Gt?(this.lastId=O.id,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.urlAfterRedirects).fragment)):O instanceof gi&&0===O.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(O,this.urlSerializer.parse(O.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(O=>{O instanceof xa&&(O.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(O.position):O.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(O.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(O,j){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xa(O,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(E=C).\u0275fac=function(O){d.$Z()},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac}),C})();function Zl(E,C){return{\u0275kind:E,\u0275providers:C}}function ss(){const E=(0,d.f3M)(d.zs3);return C=>{const M=E.get(d.z2F);if(C!==M.components[0])return;const O=E.get(Cs),j=E.get(Cr);1===E.get(El)&&O.initialNavigation(),E.get(ht,null,d.XFs.Optional)?.setUpPreloading(),E.get(Ll,null,d.XFs.Optional)?.init(),O.resetRootComponentType(M.componentTypes[0]),j.closed||(j.next(),j.complete(),j.unsubscribe())}}const Cr=new d.OlP("",{factory:()=>new zn.x}),El=new d.OlP("",{providedIn:"root",factory:()=>1}),ht=new d.OlP("");function ki(E){return Zl(0,[{provide:ht,useExisting:Ao},{provide:za,useExisting:E}])}const wo=new d.OlP("ROUTER_FORROOT_GUARD"),Mc=[Bn.Ye,{provide:yt,useClass:Ge},Cs,_s,{provide:Ai,useFactory:function oc(E){return E.routerState.root},deps:[Cs]},De,[]];function vc(){return new d.PXZ("Router",Cs)}let il=(()=>{var E;class C{constructor(O){}static forRoot(O,j){return{ngModule:C,providers:[Mc,[],{provide:ge,multi:!0,useValue:O},{provide:wo,useFactory:Io,deps:[[Cs,new d.FiY,new d.tp0]]},{provide:Jr,useValue:j||{}},j?.useHash?{provide:Bn.S$,useClass:Bn.Do}:{provide:Bn.S$,useClass:Bn.b0},{provide:Ll,useFactory:()=>{const E=(0,d.f3M)(Bn.EM),C=(0,d.f3M)(d.R0b),M=(0,d.f3M)(Jr),O=(0,d.f3M)(Mt),j=(0,d.f3M)(yt);return M.scrollOffset&&E.setOffset(M.scrollOffset),new Oc(j,O,E,C,M)}},j?.preloadingStrategy?ki(j.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:vc},j?.initialNavigation?du(j):[],j?.bindToComponentInputs?Zl(8,[Ur,{provide:_o,useExisting:Ur}]).\u0275providers:[],[{provide:bt,useFactory:ss},{provide:d.tb,multi:!0,useExisting:bt}]]}}static forChild(O){return{ngModule:C,providers:[{provide:ge,multi:!0,useValue:O}]}}}return(E=C).\u0275fac=function(O){return new(O||E)(d.LFG(wo,8))},E.\u0275mod=d.oAB({type:E}),E.\u0275inj=d.cJS({}),C})();function Io(E){return"guarded"}function du(E){return["disabled"===E.initialNavigation?Zl(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const C=(0,d.f3M)(Cs);return()=>{C.setUpLocationChangeListener()}}},{provide:El,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?Zl(2,[{provide:El,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:C=>{const M=C.get(Bn.V_,Promise.resolve());return()=>M.then(()=>new Promise(O=>{const j=C.get(Cs),re=C.get(Cr);Ei(j,()=>{O(!0)}),C.get(Mt).afterPreactivation=()=>(O(!0),re.closed?(0,He.of)(void 0):re),j.initialNavigation()}))}}]).\u0275providers:[]]}const bt=new d.OlP("")},4303:(Pn,_t,Y)=>{Y.d(_t,{Jn:()=>Fn,KN:()=>xt,Xd:()=>ln,qX:()=>gn});var d=Y(5861),fe=Y(4537),ve=Y(7879),X=Y(9058),Me=Y(1878);class He{constructor(Ge){this.container=Ge}getPlatformInfoString(){return this.container.getProviders().map(jt=>{if(function Se(yt){const Ge=yt.getComponent();return"VERSION"===Ge?.type}(jt)){const Et=jt.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(jt=>jt).join(" ")}}const ct="@firebase/app",Ie=new ve.Yd("@firebase/app"),rt={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,at=new Map;function Dt(yt,Ge){try{yt.container.addComponent(Ge)}catch(jt){Ie.debug(`Component ${Ge.name} failed to register with FirebaseApp ${yt.name}`,jt)}}function ln(yt){const Ge=yt.name;if(at.has(Ge))return Ie.debug(`There were multiple attempts to register component ${Ge}.`),!1;at.set(Ge,yt);for(const jt of wt.values())Dt(jt,yt);return!0}function gn(yt,Ge){const jt=yt.container.getProvider("heartbeat").getImmediate({optional:!0});return jt&&jt.triggerHeartbeat(),yt.container.getProvider(Ge)}const Wn=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),Fn="10.4.0";function xt(yt,Ge,jt){var Et;let un=null!==(Et=rt[yt])&&void 0!==Et?Et:yt;jt&&(un+=`-${jt}`);const En=un.match(/\s|\//),ar=Ge.match(/\s|\//);if(En||ar){const Le=[`Unable to register library "${un}" with version "${Ge}":`];return En&&Le.push(`library name "${un}" contains illegal characters (whitespace or "/")`),En&&ar&&Le.push("and"),ar&&Le.push(`version name "${Ge}" contains illegal characters (whitespace or "/")`),void Ie.warn(Le.join(" "))}ln(new fe.wA(`${un}-version`,()=>({library:un,version:Ge}),"VERSION"))}const sr="firebase-heartbeat-database",pn=1,Dn="firebase-heartbeat-store";let or=null;function yr(){return or||(or=(0,Me.X3)(sr,pn,{upgrade:(yt,Ge)=>{0===Ge&&yt.createObjectStore(Dn)}}).catch(yt=>{throw Wn.create("idb-open",{originalErrorMessage:yt.message})})),or}function Ri(){return(Ri=(0,d.Z)(function*(yt){try{return yield(yield yr()).transaction(Dn).objectStore(Dn).get(ti(yt))}catch(Ge){if(Ge instanceof X.ZR)Ie.warn(Ge.message);else{const jt=Wn.create("idb-get",{originalErrorMessage:Ge?.message});Ie.warn(jt.message)}}})).apply(this,arguments)}function Tr(yt,Ge){return ei.apply(this,arguments)}function ei(){return(ei=(0,d.Z)(function*(yt,Ge){try{const Et=(yield yr()).transaction(Dn,"readwrite");yield Et.objectStore(Dn).put(Ge,ti(yt)),yield Et.done}catch(jt){if(jt instanceof X.ZR)Ie.warn(jt.message);else{const Et=Wn.create("idb-set",{originalErrorMessage:jt?.message});Ie.warn(Et.message)}}})).apply(this,arguments)}function ti(yt){return`${yt.name}!${yt.options.appId}`}class Mr{constructor(Ge){this.container=Ge,this._heartbeatsCache=null;const jt=this.container.getProvider("app").getImmediate();this._storage=new Ts(jt),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ge=this;return(0,d.Z)(function*(){const Et=Ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),un=dr();if(null===Ge._heartbeatsCache&&(Ge._heartbeatsCache=yield Ge._heartbeatsCachePromise),Ge._heartbeatsCache.lastSentHeartbeatDate!==un&&!Ge._heartbeatsCache.heartbeats.some(En=>En.date===un))return Ge._heartbeatsCache.heartbeats.push({date:un,agent:Et}),Ge._heartbeatsCache.heartbeats=Ge._heartbeatsCache.heartbeats.filter(En=>{const ar=new Date(En.date).valueOf();return Date.now()-ar<=2592e6}),Ge._storage.overwrite(Ge._heartbeatsCache)})()}getHeartbeatsHeader(){var Ge=this;return(0,d.Z)(function*(){if(null===Ge._heartbeatsCache&&(yield Ge._heartbeatsCachePromise),null===Ge._heartbeatsCache||0===Ge._heartbeatsCache.heartbeats.length)return"";const jt=dr(),{heartbeatsToSend:Et,unsentEntries:un}=function Is(yt,Ge=1024){const jt=[];let Et=yt.slice();for(const un of yt){const En=jt.find(ar=>ar.agent===un.agent);if(En){if(En.dates.push(un.date),Di(jt)>Ge){En.dates.pop();break}}else if(jt.push({agent:un.agent,dates:[un.date]}),Di(jt)>Ge){jt.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:jt,unsentEntries:Et}}(Ge._heartbeatsCache.heartbeats),En=(0,X.L)(JSON.stringify({version:2,heartbeats:Et}));return Ge._heartbeatsCache.lastSentHeartbeatDate=jt,un.length>0?(Ge._heartbeatsCache.heartbeats=un,yield Ge._storage.overwrite(Ge._heartbeatsCache)):(Ge._heartbeatsCache.heartbeats=[],Ge._storage.overwrite(Ge._heartbeatsCache)),En})()}}function dr(){return(new Date).toISOString().substring(0,10)}class Ts{constructor(Ge){this.app=Ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ge=this;return(0,d.Z)(function*(){return(yield Ge._canUseIndexedDBPromise)&&(yield function ui(yt){return Ri.apply(this,arguments)}(Ge.app))||{heartbeats:[]}})()}overwrite(Ge){var jt=this;return(0,d.Z)(function*(){var Et;if(yield jt._canUseIndexedDBPromise){const En=yield jt.read();return Tr(jt.app,{lastSentHeartbeatDate:null!==(Et=Ge.lastSentHeartbeatDate)&&void 0!==Et?Et:En.lastSentHeartbeatDate,heartbeats:Ge.heartbeats})}})()}add(Ge){var jt=this;return(0,d.Z)(function*(){var Et;if(yield jt._canUseIndexedDBPromise){const En=yield jt.read();return Tr(jt.app,{lastSentHeartbeatDate:null!==(Et=Ge.lastSentHeartbeatDate)&&void 0!==Et?Et:En.lastSentHeartbeatDate,heartbeats:[...En.heartbeats,...Ge.heartbeats]})}})()}}function Di(yt){return(0,X.L)(JSON.stringify({version:2,heartbeats:yt})).length}!function Fi(yt){ln(new fe.wA("platform-logger",Ge=>new He(Ge),"PRIVATE")),ln(new fe.wA("heartbeat",Ge=>new Mr(Ge),"PRIVATE")),xt(ct,"0.9.19",yt),xt(ct,"0.9.19","esm2017"),xt("fire-js","")}("")},4537:(Pn,_t,Y)=>{Y.d(_t,{H0:()=>ct,wA:()=>ve,zt:()=>Me});var d=Y(5861),fe=Y(9058);class ve{constructor(Ie,Ae,Ke){this.name=Ie,this.instanceFactory=Ae,this.type=Ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ie){return this.instantiationMode=Ie,this}setMultipleInstances(Ie){return this.multipleInstances=Ie,this}setServiceProps(Ie){return this.serviceProps=Ie,this}setInstanceCreatedCallback(Ie){return this.onInstanceCreated=Ie,this}}const X="[DEFAULT]";class Me{constructor(Ie,Ae){this.name=Ie,this.container=Ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ie){const Ae=this.normalizeInstanceIdentifier(Ie);if(!this.instancesDeferred.has(Ae)){const Ke=new fe.BH;if(this.instancesDeferred.set(Ae,Ke),this.isInitialized(Ae)||this.shouldAutoInitialize())try{const ft=this.getOrInitializeService({instanceIdentifier:Ae});ft&&Ke.resolve(ft)}catch{}}return this.instancesDeferred.get(Ae).promise}getImmediate(Ie){var Ae;const Ke=this.normalizeInstanceIdentifier(Ie?.identifier),ft=null!==(Ae=Ie?.optional)&&void 0!==Ae&&Ae;if(!this.isInitialized(Ke)&&!this.shouldAutoInitialize()){if(ft)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ke})}catch(ze){if(ft)return null;throw ze}}getComponent(){return this.component}setComponent(Ie){if(Ie.name!==this.name)throw Error(`Mismatching Component ${Ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ie,this.shouldAutoInitialize()){if(function Se(nt){return"EAGER"===nt.instantiationMode}(Ie))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[Ae,Ke]of this.instancesDeferred.entries()){const ft=this.normalizeInstanceIdentifier(Ae);try{const ze=this.getOrInitializeService({instanceIdentifier:ft});Ke.resolve(ze)}catch{}}}}clearInstance(Ie=X){this.instancesDeferred.delete(Ie),this.instancesOptions.delete(Ie),this.instances.delete(Ie)}delete(){var Ie=this;return(0,d.Z)(function*(){const Ae=Array.from(Ie.instances.values());yield Promise.all([...Ae.filter(Ke=>"INTERNAL"in Ke).map(Ke=>Ke.INTERNAL.delete()),...Ae.filter(Ke=>"_delete"in Ke).map(Ke=>Ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ie=X){return this.instances.has(Ie)}getOptions(Ie=X){return this.instancesOptions.get(Ie)||{}}initialize(Ie={}){const{options:Ae={}}=Ie,Ke=this.normalizeInstanceIdentifier(Ie.instanceIdentifier);if(this.isInitialized(Ke))throw Error(`${this.name}(${Ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ft=this.getOrInitializeService({instanceIdentifier:Ke,options:Ae});for(const[ze,Jt]of this.instancesDeferred.entries())Ke===this.normalizeInstanceIdentifier(ze)&&Jt.resolve(ft);return ft}onInit(Ie,Ae){var Ke;const ft=this.normalizeInstanceIdentifier(Ae),ze=null!==(Ke=this.onInitCallbacks.get(ft))&&void 0!==Ke?Ke:new Set;ze.add(Ie),this.onInitCallbacks.set(ft,ze);const Jt=this.instances.get(ft);return Jt&&Ie(Jt,ft),()=>{ze.delete(Ie)}}invokeOnInitCallbacks(Ie,Ae){const Ke=this.onInitCallbacks.get(Ae);if(Ke)for(const ft of Ke)try{ft(Ie,Ae)}catch{}}getOrInitializeService({instanceIdentifier:Ie,options:Ae={}}){let Ke=this.instances.get(Ie);if(!Ke&&this.component&&(Ke=this.component.instanceFactory(this.container,{instanceIdentifier:(nt=Ie,nt===X?void 0:nt),options:Ae}),this.instances.set(Ie,Ke),this.instancesOptions.set(Ie,Ae),this.invokeOnInitCallbacks(Ke,Ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ie,Ke)}catch{}var nt;return Ke||null}normalizeInstanceIdentifier(Ie=X){return this.component?this.component.multipleInstances?Ie:X:Ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ct{constructor(Ie){this.name=Ie,this.providers=new Map}addComponent(Ie){const Ae=this.getProvider(Ie.name);if(Ae.isComponentSet())throw new Error(`Component ${Ie.name} has already been registered with ${this.name}`);Ae.setComponent(Ie)}addOrOverwriteComponent(Ie){this.getProvider(Ie.name).isComponentSet()&&this.providers.delete(Ie.name),this.addComponent(Ie)}getProvider(Ie){if(this.providers.has(Ie))return this.providers.get(Ie);const Ae=new Me(Ie,this);return this.providers.set(Ie,Ae),Ae}getProviders(){return Array.from(this.providers.values())}}},7879:(Pn,_t,Y)=>{Y.d(_t,{Am:()=>nt,Ub:()=>ct,Yd:()=>Se,in:()=>fe});const d=[];var fe=function(Ie){return Ie[Ie.DEBUG=0]="DEBUG",Ie[Ie.VERBOSE=1]="VERBOSE",Ie[Ie.INFO=2]="INFO",Ie[Ie.WARN=3]="WARN",Ie[Ie.ERROR=4]="ERROR",Ie[Ie.SILENT=5]="SILENT",Ie}(fe||{});const ve={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},X=fe.INFO,Me={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},He=(Ie,Ae,...Ke)=>{if(Ae<Ie.logLevel)return;const ft=(new Date).toISOString(),ze=Me[Ae];if(!ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ae})`);console[ze](`[${ft}]  ${Ie.name}:`,...Ke)};class Se{constructor(Ae){this.name=Ae,this._logLevel=X,this._logHandler=He,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Ae){if(!(Ae in fe))throw new TypeError(`Invalid value "${Ae}" assigned to \`logLevel\``);this._logLevel=Ae}setLogLevel(Ae){this._logLevel="string"==typeof Ae?ve[Ae]:Ae}get logHandler(){return this._logHandler}set logHandler(Ae){if("function"!=typeof Ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ae){this._userLogHandler=Ae}debug(...Ae){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...Ae),this._logHandler(this,fe.DEBUG,...Ae)}log(...Ae){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...Ae),this._logHandler(this,fe.VERBOSE,...Ae)}info(...Ae){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...Ae),this._logHandler(this,fe.INFO,...Ae)}warn(...Ae){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...Ae),this._logHandler(this,fe.WARN,...Ae)}error(...Ae){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...Ae),this._logHandler(this,fe.ERROR,...Ae)}}function ct(Ie){d.forEach(Ae=>{Ae.setLogLevel(Ie)})}function nt(Ie,Ae){for(const Ke of d){let ft=null;Ae&&Ae.level&&(ft=ve[Ae.level]),Ke.userLogHandler=null===Ie?null:(ze,Jt,...dt)=>{const fn=dt.map(Kt=>{if(null==Kt)return null;if("string"==typeof Kt)return Kt;if("number"==typeof Kt||"boolean"==typeof Kt)return Kt.toString();if(Kt instanceof Error)return Kt.message;try{return JSON.stringify(Kt)}catch{return null}}).filter(Kt=>Kt).join(" ");Jt>=(ft??ze.logLevel)&&Ie({level:fe[Jt].toLowerCase(),message:fn,args:dt,type:ze.name})}}}},5597:(Pn,_t,Y)=>{Y.d(_t,{BN:()=>lo,uH:()=>Te});var d=Y(5879);function fe(G,ie){var de=Object.keys(G);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(G);ie&&(ge=ge.filter(function(De){return Object.getOwnPropertyDescriptor(G,De).enumerable})),de.push.apply(de,ge)}return de}function ve(G){for(var ie=1;ie<arguments.length;ie++){var de=null!=arguments[ie]?arguments[ie]:{};ie%2?fe(Object(de),!0).forEach(function(ge){nt(G,ge,de[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(de)):fe(Object(de)).forEach(function(ge){Object.defineProperty(G,ge,Object.getOwnPropertyDescriptor(de,ge))})}return G}function X(G){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ie){return typeof ie}:function(ie){return ie&&"function"==typeof Symbol&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie})(G)}function Se(G,ie){for(var de=0;de<ie.length;de++){var ge=ie[de];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(G,ge.key,ge)}}function nt(G,ie,de){return ie in G?Object.defineProperty(G,ie,{value:de,enumerable:!0,configurable:!0,writable:!0}):G[ie]=de,G}function Ke(G,ie){return function Jt(G){if(Array.isArray(G))return G}(G)||function fn(G,ie){var de=null==G?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(null!=de){var tt,Mt,ge=[],De=!0,Ze=!1;try{for(de=de.call(G);!(De=(tt=de.next()).done)&&(ge.push(tt.value),!ie||ge.length!==ie);De=!0);}catch(kt){Ze=!0,Mt=kt}finally{try{!De&&null!=de.return&&de.return()}finally{if(Ze)throw Mt}}return ge}}(G,ie)||Kt(G,ie)||function Xe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(G){return function ze(G){if(Array.isArray(G))return Vn(G)}(G)||function dt(G){if(typeof Symbol<"u"&&null!=G[Symbol.iterator]||null!=G["@@iterator"])return Array.from(G)}(G)||Kt(G)||function In(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(G,ie){if(G){if("string"==typeof G)return Vn(G,ie);var de=Object.prototype.toString.call(G).slice(8,-1);if("Object"===de&&G.constructor&&(de=G.constructor.name),"Map"===de||"Set"===de)return Array.from(G);if("Arguments"===de||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return Vn(G,ie)}}function Vn(G,ie){(null==ie||ie>G.length)&&(ie=G.length);for(var de=0,ge=new Array(ie);de<ie;de++)ge[de]=G[de];return ge}var Tt=function(){},gt={},mt={},Nt=null,xe={mark:Tt,measure:Tt};try{typeof window<"u"&&(gt=window),typeof document<"u"&&(mt=document),typeof MutationObserver<"u"&&(Nt=MutationObserver),typeof performance<"u"&&(xe=performance)}catch{}var rt,wt,at,Dt,rn,hn=(gt.navigator||{}).userAgent,zn=void 0===hn?"":hn,Bn=gt,vn=mt,Zn=Nt,lr=xe,Ln=!!vn.documentElement&&!!vn.head&&"function"==typeof vn.addEventListener&&"function"==typeof vn.createElement,Qe=~zn.indexOf("MSIE")||~zn.indexOf("Trident/"),ln="___FONT_AWESOME___",Zr="fa",cr="svg-inline--fa",_r="data-fa-i2svg",Wn="data-fa-pseudo-element",Pr="data-fa-pseudo-element-pending",Fn="data-prefix",Br="data-icon",Ue="fontawesome-i2svg",Je="async",Ct=["HTML","HEAD","STYLE","SCRIPT"],Ft=function(){try{return!0}catch{return!1}}(),xt="classic",Xt="sharp",br=[xt,Xt];function sr(G){return new Proxy(G,{get:function(de,ge){return ge in de?de[ge]:de[xt]}})}var pn=sr((nt(rt={},xt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),nt(rt,Xt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),rt)),Dn=sr((nt(wt={},xt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),nt(wt,Xt,{solid:"fass",regular:"fasr",light:"fasl"}),wt)),or=sr((nt(at={},xt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),nt(at,Xt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),at)),yr=sr((nt(Dt={},xt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),nt(Dt,Xt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Dt)),ui=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,Ri="fa-layers-text",Tr=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,ei=sr((nt(rn={},xt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),nt(rn,Xt,{900:"fass",400:"fasr",300:"fasl"}),rn)),ti=[1,2,3,4,5,6,7,8,9,10],$r=ti.concat([11,12,13,14,15,16,17,18,19,20]),Yi=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Mr={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},dr=new Set;Object.keys(Dn[xt]).map(dr.add.bind(dr)),Object.keys(Dn[Xt]).map(dr.add.bind(dr));var Is=[].concat(br,ft(dr),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Mr.GROUP,Mr.SWAP_OPACITY,Mr.PRIMARY,Mr.SECONDARY]).concat(ti.map(function(G){return"".concat(G,"x")})).concat($r.map(function(G){return"w-".concat(G)})),Ts=Bn.FontAwesomeConfig||{};vn&&"function"==typeof vn.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(G){var ie=Ke(G,2),ge=ie[1],De=function Fi(G){return""===G||"false"!==G&&("true"===G||G)}(function Di(G){var ie=vn.querySelector("script["+G+"]");if(ie)return ie.getAttribute(G)}(ie[0]));null!=De&&(Ts[ge]=De)});var Ge={styleDefault:"solid",familyDefault:"classic",cssPrefix:Zr,replacementClass:cr,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ts.familyPrefix&&(Ts.cssPrefix=Ts.familyPrefix);var jt=ve(ve({},Ge),Ts);jt.autoReplaceSvg||(jt.observeMutations=!1);var Et={};Object.keys(Ge).forEach(function(G){Object.defineProperty(Et,G,{enumerable:!0,set:function(de){jt[G]=de,un.forEach(function(ge){return ge(Et)})},get:function(){return jt[G]}})}),Object.defineProperty(Et,"familyPrefix",{enumerable:!0,set:function(ie){jt.cssPrefix=ie,un.forEach(function(de){return de(Et)})},get:function(){return jt.cssPrefix}}),Bn.FontAwesomeConfig=Et;var un=[],Le={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},he="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Fe(){for(var G=12,ie="";G-- >0;)ie+=he[62*Math.random()|0];return ie}function _e(G){for(var ie=[],de=(G||[]).length>>>0;de--;)ie[de]=G[de];return ie}function We(G){return G.classList?_e(G.classList):(G.getAttribute("class")||"").split(" ").filter(function(ie){return ie})}function Vt(G){return"".concat(G).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Jn(G){return Object.keys(G||{}).reduce(function(ie,de){return ie+"".concat(de,": ").concat(G[de].trim(),";")},"")}function xn(G){return G.size!==Le.size||G.x!==Le.x||G.y!==Le.y||G.rotate!==Le.rotate||G.flipX||G.flipY}var xi=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function ot(){var G=Zr,ie=cr,de=Et.cssPrefix,ge=Et.replacementClass,De=xi;if(de!==G||ge!==ie){var Ze=new RegExp("\\.".concat(G,"\\-"),"g"),tt=new RegExp("\\--".concat(G,"\\-"),"g"),Mt=new RegExp("\\.".concat(ie),"g");De=De.replace(Ze,".".concat(de,"-")).replace(tt,"--".concat(de,"-")).replace(Mt,".".concat(ge))}return De}var Ve=!1;function Rt(){Et.autoAddCss&&!Ve&&(function pe(G){if(G&&Ln){var ie=vn.createElement("style");ie.setAttribute("type","text/css"),ie.innerHTML=G;for(var de=vn.head.childNodes,ge=null,De=de.length-1;De>-1;De--){var Ze=de[De],tt=(Ze.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(tt)>-1&&(ge=Ze)}vn.head.insertBefore(ie,ge)}}(ot()),Ve=!0)}var Ot={mixout:function(){return{dom:{css:ot,insertCss:Rt}}},hooks:function(){return{beforeDOMElementCreation:function(){Rt()},beforeI2svg:function(){Rt()}}}},an=Bn||{};an[ln]||(an[ln]={}),an[ln].styles||(an[ln].styles={}),an[ln].hooks||(an[ln].hooks={}),an[ln].shims||(an[ln].shims=[]);var sn=an[ln],qn=[],Gr=!1;function Gi(G){var ie=G.tag,de=G.attributes,ge=void 0===de?{}:de,De=G.children,Ze=void 0===De?[]:De;return"string"==typeof G?Vt(G):"<".concat(ie," ").concat(function nn(G){return Object.keys(G||{}).reduce(function(ie,de){return ie+"".concat(de,'="').concat(Vt(G[de]),'" ')},"").trim()}(ge),">").concat(Ze.map(Gi).join(""),"</").concat(ie,">")}function Rs(G,ie,de){if(G&&G[ie]&&G[ie][de])return{prefix:ie,iconName:de,icon:G[ie][de]}}Ln&&((Gr=(vn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(vn.readyState))||vn.addEventListener("DOMContentLoaded",function G(){vn.removeEventListener("DOMContentLoaded",G),Gr=1,qn.map(function(ie){return ie()})}));var cs=function(ie,de,ge,De){var kt,On,Un,Ze=Object.keys(ie),tt=Ze.length,Mt=void 0!==De?function(ie,de){return function(ge,De,Ze,tt){return ie.call(de,ge,De,Ze,tt)}}(de,De):de;for(void 0===ge?(kt=1,Un=ie[Ze[0]]):(kt=0,Un=ge);kt<tt;kt++)Un=Mt(Un,ie[On=Ze[kt]],On,ie);return Un};function rs(G){var ie=function Bs(G){for(var ie=[],de=0,ge=G.length;de<ge;){var De=G.charCodeAt(de++);if(De>=55296&&De<=56319&&de<ge){var Ze=G.charCodeAt(de++);56320==(64512&Ze)?ie.push(((1023&De)<<10)+(1023&Ze)+65536):(ie.push(De),de--)}else ie.push(De)}return ie}(G);return 1===ie.length?ie[0].toString(16):null}function ni(G){return Object.keys(G).reduce(function(ie,de){var ge=G[de];return ge.icon?ie[ge.iconName]=ge.icon:ie[de]=ge,ie},{})}function Ps(G,ie){var ge=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,De=void 0!==ge&&ge,Ze=ni(ie);"function"!=typeof sn.hooks.addPack||De?sn.styles[G]=ve(ve({},sn.styles[G]||{}),Ze):sn.hooks.addPack(G,ni(ie)),"fas"===G&&Ps("fa",ie)}var hr,$n,Kr,Hi=sn.styles,Li=sn.shims,Ja=(nt(hr={},xt,Object.values(or[xt])),nt(hr,Xt,Object.values(or[Xt])),hr),it=null,Ye={},It={},Bt={},Gt={},er={},gi=(nt($n={},xt,Object.keys(pn[xt])),nt($n,Xt,Object.keys(pn[Xt])),$n);var Xa=function(){var ie=function(Ze){return cs(Hi,function(tt,Mt,kt){return tt[kt]=cs(Mt,Ze,{}),tt},{})};Ye=ie(function(De,Ze,tt){return Ze[3]&&(De[Ze[3]]=tt),Ze[2]&&Ze[2].filter(function(kt){return"number"==typeof kt}).forEach(function(kt){De[kt.toString(16)]=tt}),De}),It=ie(function(De,Ze,tt){return De[tt]=tt,Ze[2]&&Ze[2].filter(function(kt){return"string"==typeof kt}).forEach(function(kt){De[kt]=tt}),De}),er=ie(function(De,Ze,tt){var Mt=Ze[2];return De[tt]=tt,Mt.forEach(function(kt){De[kt]=tt}),De});var de="far"in Hi||Et.autoFetchSvg,ge=cs(Li,function(De,Ze){var tt=Ze[0],Mt=Ze[1],kt=Ze[2];return"far"===Mt&&!de&&(Mt="fas"),"string"==typeof tt&&(De.names[tt]={prefix:Mt,iconName:kt}),"number"==typeof tt&&(De.unicodes[tt.toString(16)]={prefix:Mt,iconName:kt}),De},{names:{},unicodes:{}});Bt=ge.names,Gt=ge.unicodes,it=na(Et.styleDefault,{family:Et.familyDefault})};function Qs(G,ie){return(Ye[G]||{})[ie]}function Qi(G,ie){return(er[G]||{})[ie]}function po(G){return Bt[G]||{prefix:null,iconName:null}}function go(){return it}(function En(G){un.push(G)})(function(G){it=na(G.styleDefault,{family:Et.familyDefault})}),Xa();var Va=function(){return{prefix:null,iconName:null,rest:[]}};function na(G){var de=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,ge=void 0===de?xt:de;return Dn[ge][G]||Dn[ge][pn[ge][G]]||(G in sn.styles?G:null)||null}var No=(nt(Kr={},xt,Object.keys(or[xt])),nt(Kr,Xt,Object.keys(or[Xt])),Kr);function xa(G){var ie,ge=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,De=void 0!==ge&&ge,Ze=(nt(ie={},xt,"".concat(Et.cssPrefix,"-").concat(xt)),nt(ie,Xt,"".concat(Et.cssPrefix,"-").concat(Xt)),ie),tt=null,Mt=xt;(G.includes(Ze[xt])||G.some(function(On){return No[xt].includes(On)}))&&(Mt=xt),(G.includes(Ze[Xt])||G.some(function(On){return No[Xt].includes(On)}))&&(Mt=Xt);var kt=G.reduce(function(On,Un){var nr=function Lr(G,ie){var de=ie.split("-"),ge=de[0],De=de.slice(1).join("-");return ge!==G||""===De||function di(G){return~Is.indexOf(G)}(De)?null:De}(Et.cssPrefix,Un);if(Hi[Un]?(Un=Ja[Mt].includes(Un)?yr[Mt][Un]:Un,tt=Un,On.prefix=Un):gi[Mt].indexOf(Un)>-1?(tt=Un,On.prefix=na(Un,{family:Mt})):nr?On.iconName=nr:Un!==Et.replacementClass&&Un!==Ze[xt]&&Un!==Ze[Xt]&&On.rest.push(Un),!De&&On.prefix&&On.iconName){var Yn="fa"===tt?po(On.iconName):{},kr=Qi(On.prefix,On.iconName);Yn.prefix&&(tt=null),On.iconName=Yn.iconName||kr||On.iconName,On.prefix=Yn.prefix||On.prefix,"far"===On.prefix&&!Hi.far&&Hi.fas&&!Et.autoFetchSvg&&(On.prefix="fas")}return On},Va());return(G.includes("fa-brands")||G.includes("fab"))&&(kt.prefix="fab"),(G.includes("fa-duotone")||G.includes("fad"))&&(kt.prefix="fad"),!kt.prefix&&Mt===Xt&&(Hi.fass||Et.autoFetchSvg)&&(kt.prefix="fass",kt.iconName=Qi(kt.prefix,kt.iconName)||kt.iconName),("fa"===kt.prefix||"fa"===tt)&&(kt.prefix=go()||"fas"),kt}var hi=function(){function G(){(function He(G,ie){if(!(G instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,G),this.definitions={}}return function ct(G,ie,de){ie&&Se(G.prototype,ie),de&&Se(G,de),Object.defineProperty(G,"prototype",{writable:!1})}(G,[{key:"add",value:function(){for(var de=this,ge=arguments.length,De=new Array(ge),Ze=0;Ze<ge;Ze++)De[Ze]=arguments[Ze];var tt=De.reduce(this._pullDefinitions,{});Object.keys(tt).forEach(function(Mt){de.definitions[Mt]=ve(ve({},de.definitions[Mt]||{}),tt[Mt]),Ps(Mt,tt[Mt]);var kt=or[xt][Mt];kt&&Ps(kt,tt[Mt]),Xa()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(de,ge){var De=ge.prefix&&ge.iconName&&ge.icon?{0:ge}:ge;return Object.keys(De).map(function(Ze){var tt=De[Ze],Mt=tt.prefix,kt=tt.iconName,On=tt.icon,Un=On[2];de[Mt]||(de[Mt]={}),Un.length>0&&Un.forEach(function(nr){"string"==typeof nr&&(de[Mt][nr]=On)}),de[Mt][kt]=On}),de}}]),G}(),us=[],Ci={},Hr={},_s=Object.keys(Hr);function da(G,ie){for(var de=arguments.length,ge=new Array(de>2?de-2:0),De=2;De<de;De++)ge[De-2]=arguments[De];return(Ci[G]||[]).forEach(function(tt){ie=tt.apply(null,[ie].concat(ge))}),ie}function Zi(G){for(var ie=arguments.length,de=new Array(ie>1?ie-1:0),ge=1;ge<ie;ge++)de[ge-1]=arguments[ge];(Ci[G]||[]).forEach(function(Ze){Ze.apply(null,de)})}function Mi(){var G=arguments[0],ie=Array.prototype.slice.call(arguments,1);return Hr[G]?Hr[G].apply(null,ie):void 0}function ji(G){"fa"===G.prefix&&(G.prefix="fas");var ie=G.iconName,de=G.prefix||go();if(ie)return ie=Qi(de,ie)||ie,Rs(Oi.definitions,de,ie)||Rs(sn.styles,de,ie)}var Oi=new hi,Yr={i2svg:function(){var ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ln?(Zi("beforeI2svg",ie),Mi("pseudoElements2svg",ie),Mi("i2svg",ie)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},de=ie.autoReplaceSvgRoot;!1===Et.autoReplaceSvg&&(Et.autoReplaceSvg=!0),Et.observeMutations=!0,function Wr(G){Ln&&(Gr?setTimeout(G,0):qn.push(G))}(function(){ia({autoReplaceSvgRoot:de}),Zi("watch",ie)})}},Nr={noAuto:function(){Et.autoReplaceSvg=!1,Et.observeMutations=!1,Zi("noAuto")},config:Et,dom:Yr,parse:{icon:function(ie){if(null===ie)return null;if("object"===X(ie)&&ie.prefix&&ie.iconName)return{prefix:ie.prefix,iconName:Qi(ie.prefix,ie.iconName)||ie.iconName};if(Array.isArray(ie)&&2===ie.length){var de=0===ie[1].indexOf("fa-")?ie[1].slice(3):ie[1],ge=na(ie[0]);return{prefix:ge,iconName:Qi(ge,de)||de}}if("string"==typeof ie&&(ie.indexOf("".concat(Et.cssPrefix,"-"))>-1||ie.match(ui))){var De=xa(ie.split(" "),{skipLookups:!0});return{prefix:De.prefix||go(),iconName:Qi(De.prefix,De.iconName)||De.iconName}}if("string"==typeof ie){var Ze=go();return{prefix:Ze,iconName:Qi(Ze,ie)||ie}}}},library:Oi,findIconDefinition:ji,toHtml:Gi},ia=function(){var de=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,ge=void 0===de?vn:de;(Object.keys(sn.styles).length>0||Et.autoFetchSvg)&&Ln&&Et.autoReplaceSvg&&Nr.dom.i2svg({node:ge})};function Vi(G,ie){return Object.defineProperty(G,"abstract",{get:ie}),Object.defineProperty(G,"html",{get:function(){return G.abstract.map(function(ge){return Gi(ge)})}}),Object.defineProperty(G,"node",{get:function(){if(Ln){var ge=vn.createElement("div");return ge.innerHTML=G.html,ge.children}}}),G}function Us(G){var ie=G.icons,de=ie.main,ge=ie.mask,De=G.prefix,Ze=G.iconName,tt=G.transform,Mt=G.symbol,kt=G.title,On=G.maskId,Un=G.titleId,nr=G.extra,Yn=G.watchable,kr=void 0!==Yn&&Yn,Jr=ge.found?ge:de,Ss=Jr.width,Xs=Jr.height,$t="fak"===De,Ei=[Et.replacementClass,Ze?"".concat(Et.cssPrefix,"-").concat(Ze):""].filter(function(Lt){return-1===nr.classes.indexOf(Lt)}).filter(function(Lt){return""!==Lt||!!Lt}).concat(nr.classes).join(" "),Wi={children:[],attributes:ve(ve({},nr.attributes),{},{"data-prefix":De,"data-icon":Ze,class:Ei,role:nr.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Ss," ").concat(Xs)})},hs=$t&&!~nr.classes.indexOf("fa-fw")?{width:"".concat(Ss/Xs*16*.0625,"em")}:{};kr&&(Wi.attributes[_r]=""),kt&&(Wi.children.push({tag:"title",attributes:{id:Wi.attributes["aria-labelledby"]||"title-".concat(Un||Fe())},children:[kt]}),delete Wi.attributes.title);var tr=ve(ve({},Wi),{},{prefix:De,iconName:Ze,main:de,mask:ge,maskId:On,transform:tt,symbol:Mt,styles:ve(ve({},hs),nr.styles)}),Er=ge.found&&de.found?Mi("generateAbstractMask",tr)||{children:[],attributes:{}}:Mi("generateAbstractIcon",tr)||{children:[],attributes:{}},Sn=Er.attributes;return tr.children=Er.children,tr.attributes=Sn,Mt?function is(G){var de=G.iconName,ge=G.children,De=G.attributes,Ze=G.symbol,tt=!0===Ze?"".concat(G.prefix,"-").concat(Et.cssPrefix,"-").concat(de):Ze;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ve(ve({},De),{},{id:tt}),children:ge}]}]}(tr):function mo(G){var ie=G.children,de=G.main,ge=G.mask,De=G.attributes,Ze=G.styles,tt=G.transform;if(xn(tt)&&de.found&&!ge.found){var On={x:de.width/de.height/2,y:.5};De.style=Jn(ve(ve({},Ze),{},{"transform-origin":"".concat(On.x+tt.x/16,"em ").concat(On.y+tt.y/16,"em")}))}return[{tag:"svg",attributes:De,children:ie}]}(tr)}function Ho(G){var ie=G.content,de=G.width,ge=G.height,De=G.transform,Ze=G.title,tt=G.extra,Mt=G.watchable,kt=void 0!==Mt&&Mt,On=ve(ve(ve({},tt.attributes),Ze?{title:Ze}:{}),{},{class:tt.classes.join(" ")});kt&&(On[_r]="");var Un=ve({},tt.styles);xn(De)&&(Un.transform=function pr(G){var ie=G.transform,de=G.width,De=G.height,Ze=void 0===De?16:De,tt=G.startCentered,Mt=void 0!==tt&&tt,kt="";return kt+=Mt&&Qe?"translate(".concat(ie.x/16-(void 0===de?16:de)/2,"em, ").concat(ie.y/16-Ze/2,"em) "):Mt?"translate(calc(-50% + ".concat(ie.x/16,"em), calc(-50% + ").concat(ie.y/16,"em)) "):"translate(".concat(ie.x/16,"em, ").concat(ie.y/16,"em) "),(kt+="scale(".concat(ie.size/16*(ie.flipX?-1:1),", ").concat(ie.size/16*(ie.flipY?-1:1),") "))+"rotate(".concat(ie.rotate,"deg) ")}({transform:De,startCentered:!0,width:de,height:ge}),Un["-webkit-transform"]=Un.transform);var nr=Jn(Un);nr.length>0&&(On.style=nr);var Yn=[];return Yn.push({tag:"span",attributes:On,children:[ie]}),Ze&&Yn.push({tag:"span",attributes:{class:"sr-only"},children:[Ze]}),Yn}var ko=sn.styles;function el(G){var ie=G[0],de=G[1],Ze=Ke(G.slice(4),1)[0];return{found:!0,width:ie,height:de,icon:Array.isArray(Ze)?{tag:"g",attributes:{class:"".concat(Et.cssPrefix,"-").concat(Mr.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Et.cssPrefix,"-").concat(Mr.SECONDARY),fill:"currentColor",d:Ze[0]}},{tag:"path",attributes:{class:"".concat(Et.cssPrefix,"-").concat(Mr.PRIMARY),fill:"currentColor",d:Ze[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:Ze}}}}var _o={found:!1,width:512,height:512};function ya(G,ie){var de=ie;return"fa"===ie&&null!==Et.styleDefault&&(ie=go()),new Promise(function(ge,De){if(Mi("missingIconAbstract"),"fa"===de){var tt=po(G)||{};G=tt.iconName||G,ie=tt.prefix||ie}if(G&&ie&&ko[ie]&&ko[ie][G])return ge(el(ko[ie][G]));(function Ur(G,ie){!Ft&&!Et.showMissingIcons&&G&&console.error('Icon with name "'.concat(G,'" and prefix "').concat(ie,'" is missing.'))})(G,ie),ge(ve(ve({},_o),{},{icon:Et.showMissingIcons&&G&&Mi("missingIconAbstract")||{}}))})}var Gs=function(){},xs=Et.measurePerformance&&lr&&lr.mark&&lr.measure?lr:{mark:Gs,measure:Gs},Ms='FA "6.4.2"',io=function(ie){xs.mark("".concat(Ms," ").concat(ie," ends")),xs.measure("".concat(Ms," ").concat(ie),"".concat(Ms," ").concat(ie," begins"),"".concat(Ms," ").concat(ie," ends"))},Hs={begin:function(ie){return xs.mark("".concat(Ms," ").concat(ie," begins")),function(){return io(ie)}},end:io},Fr=function(){};function yo(G){return"string"==typeof(G.getAttribute?G.getAttribute(_r):null)}function Ba(G){return vn.createElementNS("http://www.w3.org/2000/svg",G)}function so(G){return vn.createElement(G)}function Ns(G){var de=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,ge=void 0===de?"svg"===G.tag?Ba:so:de;if("string"==typeof G)return vn.createTextNode(G);var De=ge(G.tag);return Object.keys(G.attributes||[]).forEach(function(tt){De.setAttribute(tt,G.attributes[tt])}),(G.children||[]).forEach(function(tt){De.appendChild(Ns(tt,{ceFn:ge}))}),De}var vo={replace:function(ie){var de=ie[0];if(de.parentNode)if(ie[1].forEach(function(De){de.parentNode.insertBefore(Ns(De),de)}),null===de.getAttribute(_r)&&Et.keepOriginalSource){var ge=vn.createComment(function Ea(G){var ie=" ".concat(G.outerHTML," ");return"".concat(ie,"Font Awesome fontawesome.com ")}(de));de.parentNode.replaceChild(ge,de)}else de.remove()},nest:function(ie){var de=ie[0],ge=ie[1];if(~We(de).indexOf(Et.replacementClass))return vo.replace(ie);var De=new RegExp("".concat(Et.cssPrefix,"-.*"));if(delete ge[0].attributes.id,ge[0].attributes.class){var Ze=ge[0].attributes.class.split(" ").reduce(function(Mt,kt){return kt===Et.replacementClass||kt.match(De)?Mt.toSvg.push(kt):Mt.toNode.push(kt),Mt},{toNode:[],toSvg:[]});ge[0].attributes.class=Ze.toSvg.join(" "),0===Ze.toNode.length?de.removeAttribute("class"):de.setAttribute("class",Ze.toNode.join(" "))}var tt=ge.map(function(Mt){return Gi(Mt)}).join("\n");de.setAttribute(_r,""),de.innerHTML=tt}};function ps(G){G()}function wa(G,ie){var de="function"==typeof ie?ie:Fr;if(0===G.length)de();else{var ge=ps;Et.mutateApproach===Je&&(ge=Bn.requestAnimationFrame||ps),ge(function(){var De=function Ji(){return!0===Et.autoReplaceSvg?vo.replace:vo[Et.autoReplaceSvg]||vo.replace}(),Ze=Hs.begin("mutate");G.map(De),Ze(),de()})}}var gs=!1;function Ni(){gs=!0}function zo(){gs=!1}var oo=null;function Bi(G){if(Zn&&Et.observeMutations){var ie=G.treeCallback,de=void 0===ie?Fr:ie,ge=G.nodeCallback,De=void 0===ge?Fr:ge,Ze=G.pseudoElementsCallback,tt=void 0===Ze?Fr:Ze,Mt=G.observeMutationsRoot,kt=void 0===Mt?vn:Mt;oo=new Zn(function(On){if(!gs){var Un=go();_e(On).forEach(function(nr){if("childList"===nr.type&&nr.addedNodes.length>0&&!yo(nr.addedNodes[0])&&(Et.searchPseudoElements&&tt(nr.target),de(nr.target)),"attributes"===nr.type&&nr.target.parentNode&&Et.searchPseudoElements&&tt(nr.target.parentNode),"attributes"===nr.type&&yo(nr.target)&&~Yi.indexOf(nr.attributeName))if("class"===nr.attributeName&&function ii(G){var ie=G.getAttribute?G.getAttribute(Fn):null,de=G.getAttribute?G.getAttribute(Br):null;return ie&&de}(nr.target)){var Yn=xa(We(nr.target)),Jr=Yn.iconName;nr.target.setAttribute(Fn,Yn.prefix||Un),Jr&&nr.target.setAttribute(Br,Jr)}else(function vl(G){return G&&G.classList&&G.classList.contains&&G.classList.contains(Et.replacementClass)})(nr.target)&&De(nr.target)})}}),Ln&&oo.observe(kt,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function tl(G){var ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},de=function Xi(G){var ie=G.getAttribute("data-prefix"),de=G.getAttribute("data-icon"),ge=void 0!==G.innerText?G.innerText.trim():"",De=xa(We(G));return De.prefix||(De.prefix=go()),ie&&de&&(De.prefix=ie,De.iconName=de),De.iconName&&De.prefix||(De.prefix&&ge.length>0&&(De.iconName=function fo(G,ie){return(It[G]||{})[ie]}(De.prefix,G.innerText)||Qs(De.prefix,rs(G.innerText))),!De.iconName&&Et.autoFetchSvg&&G.firstChild&&G.firstChild.nodeType===Node.TEXT_NODE&&(De.iconName=G.firstChild.data)),De}(G),ge=de.iconName,De=de.prefix,Ze=de.rest,tt=function Oa(G){var ie=_e(G.attributes).reduce(function(De,Ze){return"class"!==De.name&&"style"!==De.name&&(De[Ze.name]=Ze.value),De},{}),de=G.getAttribute("title"),ge=G.getAttribute("data-fa-title-id");return Et.autoA11y&&(de?ie["aria-labelledby"]="".concat(Et.replacementClass,"-title-").concat(ge||Fe()):(ie["aria-hidden"]="true",ie.focusable="false")),ie}(G),Mt=da("parseNodeAttributes",{},G),kt=ie.styleParser?function ba(G){var ie=G.getAttribute("style"),de=[];return ie&&(de=ie.split(";").reduce(function(ge,De){var Ze=De.split(":"),tt=Ze[0],Mt=Ze.slice(1);return tt&&Mt.length>0&&(ge[tt]=Mt.join(":").trim()),ge},{})),de}(G):[];return ve({iconName:ge,title:G.getAttribute("title"),titleId:G.getAttribute("data-fa-title-id"),prefix:De,transform:Le,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:Ze,styles:kt,attributes:tt}},Mt)}var Ua=sn.styles;function ha(G){var ie="nest"===Et.autoReplaceSvg?tl(G,{styleParser:!1}):tl(G);return~ie.extra.classes.indexOf(Ri)?Mi("generateLayersText",G,ie):Mi("generateSvgReplacementMutation",G,ie)}var Wo=new Set;function Nl(G){var ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Ln)return Promise.resolve();var de=vn.documentElement.classList,ge=function(nr){return de.add("".concat(Ue,"-").concat(nr))},De=function(nr){return de.remove("".concat(Ue,"-").concat(nr))},Ze=Et.autoFetchSvg?Wo:br.map(function(Un){return"fa-".concat(Un)}).concat(Object.keys(Ua));Ze.includes("fa")||Ze.push("fa");var tt=[".".concat(Ri,":not([").concat(_r,"])")].concat(Ze.map(function(Un){return".".concat(Un,":not([").concat(_r,"])")})).join(", ");if(0===tt.length)return Promise.resolve();var Mt=[];try{Mt=_e(G.querySelectorAll(tt))}catch{}if(!(Mt.length>0))return Promise.resolve();ge("pending"),De("complete");var kt=Hs.begin("onTree"),On=Mt.reduce(function(Un,nr){try{var Yn=ha(nr);Yn&&Un.push(Yn)}catch(kr){Ft||"MissingIcon"===kr.name&&console.error(kr)}return Un},[]);return new Promise(function(Un,nr){Promise.all(On).then(function(Yn){wa(Yn,function(){ge("active"),ge("complete"),De("pending"),"function"==typeof ie&&ie(),kt(),Un()})}).catch(function(Yn){kt(),nr(Yn)})})}function fa(G){var ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ha(G).then(function(de){de&&wa([de],ie)})}br.map(function(G){Wo.add("fa-".concat(G))}),Object.keys(pn[xt]).map(Wo.add.bind(Wo)),Object.keys(pn[Xt]).map(Wo.add.bind(Wo)),Wo=ft(Wo);var Co=function(ie){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ge=de.transform,De=void 0===ge?Le:ge,Ze=de.symbol,tt=void 0!==Ze&&Ze,Mt=de.mask,kt=void 0===Mt?null:Mt,On=de.maskId,Un=void 0===On?null:On,nr=de.title,Yn=void 0===nr?null:nr,kr=de.titleId,Jr=void 0===kr?null:kr,Ss=de.classes,Xs=void 0===Ss?[]:Ss,$t=de.attributes,Ei=void 0===$t?{}:$t,Wi=de.styles,hs=void 0===Wi?{}:Wi;if(ie){var tr=ie.prefix,Er=ie.iconName,Cs=ie.icon;return Vi(ve({type:"icon"},ie),function(){return Zi("beforeDOMElementCreation",{iconDefinition:ie,params:de}),Et.autoA11y&&(Yn?Ei["aria-labelledby"]="".concat(Et.replacementClass,"-title-").concat(Jr||Fe()):(Ei["aria-hidden"]="true",Ei.focusable="false")),Us({icons:{main:el(Cs),mask:kt?el(kt.icon):{found:!1,width:null,height:null,icon:{}}},prefix:tr,iconName:Er,transform:ve(ve({},Le),De),symbol:tt,title:Yn,maskId:Un,titleId:Jr,extra:{attributes:Ei,styles:hs,classes:Xs}})})}},Eo={mixout:function(){return{icon:(G=Co,function(ie){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ge=(ie||{}).icon?ie:ji(ie||{}),De=de.mask;return De&&(De=(De||{}).icon?De:ji(De||{})),G(ge,ve(ve({},de),{},{mask:De}))})};var G},hooks:function(){return{mutationObserverCallbacks:function(de){return de.treeCallback=Nl,de.nodeCallback=fa,de}}},provides:function(ie){ie.i2svg=function(de){var ge=de.node,Ze=de.callback;return Nl(void 0===ge?vn:ge,void 0===Ze?function(){}:Ze)},ie.generateSvgReplacementMutation=function(de,ge){var De=ge.iconName,Ze=ge.title,tt=ge.titleId,Mt=ge.prefix,kt=ge.transform,On=ge.symbol,Un=ge.mask,nr=ge.maskId,Yn=ge.extra;return new Promise(function(kr,Jr){Promise.all([ya(De,Mt),Un.iconName?ya(Un.iconName,Un.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Ss){var Xs=Ke(Ss,2);kr([de,Us({icons:{main:Xs[0],mask:Xs[1]},prefix:Mt,iconName:De,transform:kt,symbol:On,maskId:nr,title:Ze,titleId:tt,extra:Yn,watchable:!0})])}).catch(Jr)})},ie.generateAbstractIcon=function(de){var On,ge=de.children,De=de.attributes,Ze=de.main,tt=de.transform,kt=Jn(de.styles);return kt.length>0&&(De.style=kt),xn(tt)&&(On=Mi("generateAbstractTransformGrouping",{main:Ze,transform:tt,containerWidth:Ze.width,iconWidth:Ze.width})),ge.push(On||Ze.icon),{children:ge,attributes:De}}}},ne={mixout:function(){return{layer:function(de){var ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},De=ge.classes,Ze=void 0===De?[]:De;return Vi({type:"layer"},function(){Zi("beforeDOMElementCreation",{assembler:de,params:ge});var tt=[];return de(function(Mt){Array.isArray(Mt)?Mt.map(function(kt){tt=tt.concat(kt.abstract)}):tt=tt.concat(Mt.abstract)}),[{tag:"span",attributes:{class:["".concat(Et.cssPrefix,"-layers")].concat(ft(Ze)).join(" ")},children:tt}]})}}}},Z={mixout:function(){return{counter:function(de){var ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},De=ge.title,Ze=void 0===De?null:De,tt=ge.classes,Mt=void 0===tt?[]:tt,kt=ge.attributes,On=void 0===kt?{}:kt,Un=ge.styles,nr=void 0===Un?{}:Un;return Vi({type:"counter",content:de},function(){return Zi("beforeDOMElementCreation",{content:de,params:ge}),function Rr(G){var ie=G.content,de=G.title,ge=G.extra,De=ve(ve(ve({},ge.attributes),de?{title:de}:{}),{},{class:ge.classes.join(" ")}),Ze=Jn(ge.styles);Ze.length>0&&(De.style=Ze);var tt=[];return tt.push({tag:"span",attributes:De,children:[ie]}),de&&tt.push({tag:"span",attributes:{class:"sr-only"},children:[de]}),tt}({content:de.toString(),title:Ze,extra:{attributes:On,styles:nr,classes:["".concat(Et.cssPrefix,"-layers-counter")].concat(ft(Mt))}})})}}}},we={mixout:function(){return{text:function(de){var ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},De=ge.transform,Ze=void 0===De?Le:De,tt=ge.title,Mt=void 0===tt?null:tt,kt=ge.classes,On=void 0===kt?[]:kt,Un=ge.attributes,nr=void 0===Un?{}:Un,Yn=ge.styles,kr=void 0===Yn?{}:Yn;return Vi({type:"text",content:de},function(){return Zi("beforeDOMElementCreation",{content:de,params:ge}),Ho({content:de,transform:ve(ve({},Le),Ze),title:Mt,extra:{attributes:nr,styles:kr,classes:["".concat(Et.cssPrefix,"-layers-text")].concat(ft(On))}})})}}},provides:function(ie){ie.generateLayersText=function(de,ge){var De=ge.title,Ze=ge.transform,tt=ge.extra,Mt=null,kt=null;if(Qe){var On=parseInt(getComputedStyle(de).fontSize,10),Un=de.getBoundingClientRect();Mt=Un.width/On,kt=Un.height/On}return Et.autoA11y&&!De&&(tt.attributes["aria-hidden"]="true"),Promise.resolve([de,Ho({content:de.innerHTML,width:Mt,height:kt,transform:Ze,title:De,extra:tt,watchable:!0})])}}},te=new RegExp('"',"ug"),Oe=[1105920,1112319];function vr(G,ie){var de="".concat(Pr).concat(ie.replace(":","-"));return new Promise(function(ge,De){if(null!==G.getAttribute(de))return ge();var tt=_e(G.children).filter(function(Cs){return Cs.getAttribute(Wn)===ie})[0],Mt=Bn.getComputedStyle(G,ie),kt=Mt.getPropertyValue("font-family").match(Tr),On=Mt.getPropertyValue("font-weight"),Un=Mt.getPropertyValue("content");if(tt&&!kt)return G.removeChild(tt),ge();if(kt&&"none"!==Un&&""!==Un){var nr=Mt.getPropertyValue("content"),Yn=~["Sharp"].indexOf(kt[2])?Xt:xt,kr=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(kt[2])?Dn[Yn][kt[2].toLowerCase()]:ei[Yn][On],Jr=function mn(G){var ie=G.replace(te,""),de=function _i(G,ie){var De,de=G.length,ge=G.charCodeAt(ie);return ge>=55296&&ge<=56319&&de>ie+1&&(De=G.charCodeAt(ie+1))>=56320&&De<=57343?1024*(ge-55296)+De-56320+65536:ge}(ie,0),ge=de>=Oe[0]&&de<=Oe[1],De=2===ie.length&&ie[0]===ie[1];return{value:rs(De?ie[0]:ie),isSecondary:ge||De}}(nr),Ss=Jr.value,Xs=Jr.isSecondary,$t=kt[0].startsWith("FontAwesome"),Ei=Qs(kr,Ss),Wi=Ei;if($t){var hs=function La(G){var ie=Gt[G],de=Qs("fas",G);return ie||(de?{prefix:"fas",iconName:de}:null)||{prefix:null,iconName:null}}(Ss);hs.iconName&&hs.prefix&&(Ei=hs.iconName,kr=hs.prefix)}if(!Ei||Xs||tt&&tt.getAttribute(Fn)===kr&&tt.getAttribute(Br)===Wi)ge();else{G.setAttribute(de,Wi),tt&&G.removeChild(tt);var tr=function sc(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Le,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Er=tr.extra;Er.attributes[Wn]=ie,ya(Ei,kr).then(function(Cs){var Sn=Us(ve(ve({},tr),{},{icons:{main:Cs,mask:Va()},prefix:kr,iconName:Wi,extra:Er,watchable:!0})),Lt=vn.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===ie?G.insertBefore(Lt,G.firstChild):G.appendChild(Lt),Lt.outerHTML=Sn.map(function(_n){return Gi(_n)}).join("\n"),G.removeAttribute(de),ge()}).catch(De)}}else ge()})}function ks(G){return Promise.all([vr(G,"::before"),vr(G,"::after")])}function zi(G){return!(G.parentNode===document.head||~Ct.indexOf(G.tagName.toUpperCase())||G.getAttribute(Wn)||G.parentNode&&"svg"===G.parentNode.tagName)}function Fo(G){if(Ln)return new Promise(function(ie,de){var ge=_e(G.querySelectorAll("*")).filter(zi).map(ks),De=Hs.begin("searchPseudoElements");Ni(),Promise.all(ge).then(function(){De(),zo(),ie()}).catch(function(){De(),zo(),de()})})}var Zs=!1,ao=function(ie){return ie.toLowerCase().split(" ").reduce(function(ge,De){var Ze=De.toLowerCase().split("-"),tt=Ze[0],Mt=Ze.slice(1).join("-");if(tt&&"h"===Mt)return ge.flipX=!0,ge;if(tt&&"v"===Mt)return ge.flipY=!0,ge;if(Mt=parseFloat(Mt),isNaN(Mt))return ge;switch(tt){case"grow":ge.size=ge.size+Mt;break;case"shrink":ge.size=ge.size-Mt;break;case"left":ge.x=ge.x-Mt;break;case"right":ge.x=ge.x+Mt;break;case"up":ge.y=ge.y-Mt;break;case"down":ge.y=ge.y+Mt;break;case"rotate":ge.rotate=ge.rotate+Mt}return ge},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},sa={x:0,y:0,width:"100%",height:"100%"};function ys(G){return G.attributes&&(G.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(G.attributes.fill="black"),G}!function ra(G,ie){var de=ie.mixoutsTo;us=G,Ci={},Object.keys(Hr).forEach(function(ge){-1===_s.indexOf(ge)&&delete Hr[ge]}),us.forEach(function(ge){var De=ge.mixout?ge.mixout():{};if(Object.keys(De).forEach(function(tt){"function"==typeof De[tt]&&(de[tt]=De[tt]),"object"===X(De[tt])&&Object.keys(De[tt]).forEach(function(Mt){de[tt]||(de[tt]={}),de[tt][Mt]=De[tt][Mt]})}),ge.hooks){var Ze=ge.hooks();Object.keys(Ze).forEach(function(tt){Ci[tt]||(Ci[tt]=[]),Ci[tt].push(Ze[tt])})}ge.provides&&ge.provides(Hr)})}([Ot,Eo,ne,Z,we,{hooks:function(){return{mutationObserverCallbacks:function(de){return de.pseudoElementsCallback=Fo,de}}},provides:function(ie){ie.pseudoElements2svg=function(de){var ge=de.node;Et.searchPseudoElements&&Fo(void 0===ge?vn:ge)}}},{mixout:function(){return{dom:{unwatch:function(){Ni(),Zs=!0}}}},hooks:function(){return{bootstrap:function(){Bi(da("mutationObserverCallbacks",{}))},noAuto:function(){!function zs(){oo&&oo.disconnect()}()},watch:function(de){var ge=de.observeMutationsRoot;Zs?zo():Bi(da("mutationObserverCallbacks",{observeMutationsRoot:ge}))}}}},{mixout:function(){return{parse:{transform:function(de){return ao(de)}}}},hooks:function(){return{parseNodeAttributes:function(de,ge){var De=ge.getAttribute("data-fa-transform");return De&&(de.transform=ao(De)),de}}},provides:function(ie){ie.generateAbstractTransformGrouping=function(de){var ge=de.main,De=de.transform,tt=de.iconWidth,Mt={transform:"translate(".concat(de.containerWidth/2," 256)")},kt="translate(".concat(32*De.x,", ").concat(32*De.y,") "),On="scale(".concat(De.size/16*(De.flipX?-1:1),", ").concat(De.size/16*(De.flipY?-1:1),") "),Un="rotate(".concat(De.rotate," 0 0)"),kr={outer:Mt,inner:{transform:"".concat(kt," ").concat(On," ").concat(Un)},path:{transform:"translate(".concat(tt/2*-1," -256)")}};return{tag:"g",attributes:ve({},kr.outer),children:[{tag:"g",attributes:ve({},kr.inner),children:[{tag:ge.icon.tag,children:ge.icon.children,attributes:ve(ve({},ge.icon.attributes),kr.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(de,ge){var De=ge.getAttribute("data-fa-mask"),Ze=De?xa(De.split(" ").map(function(tt){return tt.trim()})):Va();return Ze.prefix||(Ze.prefix=go()),de.mask=Ze,de.maskId=ge.getAttribute("data-fa-mask-id"),de}}},provides:function(ie){ie.generateAbstractMask=function(de){var G,ge=de.children,De=de.attributes,Ze=de.main,tt=de.mask,Mt=de.maskId,Un=Ze.icon,Yn=tt.icon,kr=function oi(G){var ie=G.transform,ge=G.iconWidth,De={transform:"translate(".concat(G.containerWidth/2," 256)")},Ze="translate(".concat(32*ie.x,", ").concat(32*ie.y,") "),tt="scale(".concat(ie.size/16*(ie.flipX?-1:1),", ").concat(ie.size/16*(ie.flipY?-1:1),") "),Mt="rotate(".concat(ie.rotate," 0 0)");return{outer:De,inner:{transform:"".concat(Ze," ").concat(tt," ").concat(Mt)},path:{transform:"translate(".concat(ge/2*-1," -256)")}}}({transform:de.transform,containerWidth:tt.width,iconWidth:Ze.width}),Jr={tag:"rect",attributes:ve(ve({},sa),{},{fill:"white"})},Ss=Un.children?{children:Un.children.map(ys)}:{},Xs={tag:"g",attributes:ve({},kr.inner),children:[ys(ve({tag:Un.tag,attributes:ve(ve({},Un.attributes),kr.path)},Ss))]},$t={tag:"g",attributes:ve({},kr.outer),children:[Xs]},Ei="mask-".concat(Mt||Fe()),Wi="clip-".concat(Mt||Fe()),hs={tag:"mask",attributes:ve(ve({},sa),{},{id:Ei,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Jr,$t]},tr={tag:"defs",children:[{tag:"clipPath",attributes:{id:Wi},children:(G=Yn,"g"===G.tag?G.children:[G])},hs]};return ge.push(tr,{tag:"rect",attributes:ve({fill:"currentColor","clip-path":"url(#".concat(Wi,")"),mask:"url(#".concat(Ei,")")},sa)}),{children:ge,attributes:De}}}},{provides:function(ie){var de=!1;Bn.matchMedia&&(de=Bn.matchMedia("(prefers-reduced-motion: reduce)").matches),ie.missingIconAbstract=function(){var ge=[],De={fill:"currentColor"},Ze={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};ge.push({tag:"path",attributes:ve(ve({},De),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var tt=ve(ve({},Ze),{},{attributeName:"opacity"}),Mt={tag:"circle",attributes:ve(ve({},De),{},{cx:"256",cy:"364",r:"28"}),children:[]};return de||Mt.children.push({tag:"animate",attributes:ve(ve({},Ze),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ve(ve({},tt),{},{values:"1;0;1;1;0;1;"})}),ge.push(Mt),ge.push({tag:"path",attributes:ve(ve({},De),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:de?[]:[{tag:"animate",attributes:ve(ve({},tt),{},{values:"1;0;0;0;0;1;"})}]}),de||ge.push({tag:"path",attributes:ve(ve({},De),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ve(ve({},tt),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:ge}}}},{hooks:function(){return{parseNodeAttributes:function(de,ge){var De=ge.getAttribute("data-fa-symbol");return de.symbol=null!==De&&(""===De||De),de}}}}],{mixoutsTo:Nr});var Fs=Nr.parse,bi=Nr.icon,$i=Y(6593);const Ha=["*"],aa=G=>{const ie={[`fa-${G.animation}`]:null!=G.animation&&!G.animation.startsWith("spin"),"fa-spin":"spin"===G.animation||"spin-reverse"===G.animation,"fa-spin-pulse":"spin-pulse"===G.animation||"spin-pulse-reverse"===G.animation,"fa-spin-reverse":"spin-reverse"===G.animation||"spin-pulse-reverse"===G.animation,"fa-pulse":"spin-pulse"===G.animation||"spin-pulse-reverse"===G.animation,"fa-fw":G.fixedWidth,"fa-border":G.border,"fa-inverse":G.inverse,"fa-layers-counter":G.counter,"fa-flip-horizontal":"horizontal"===G.flip||"both"===G.flip,"fa-flip-vertical":"vertical"===G.flip||"both"===G.flip,[`fa-${G.size}`]:null!==G.size,[`fa-rotate-${G.rotate}`]:null!==G.rotate,[`fa-pull-${G.pull}`]:null!==G.pull,[`fa-stack-${G.stackItemSize}`]:null!=G.stackItemSize};return Object.keys(ie).map(de=>ie[de]?de:null).filter(de=>de)};let Fl=(()=>{var G;class ie{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return(G=ie).\u0275fac=function(ge){return new(ge||G)},G.\u0275prov=d.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),ie})(),ul=(()=>{var G;class ie{constructor(){this.definitions={}}addIcons(...ge){for(const De of ge){De.prefix in this.definitions||(this.definitions[De.prefix]={}),this.definitions[De.prefix][De.iconName]=De;for(const Ze of De.icon[2])"string"==typeof Ze&&(this.definitions[De.prefix][Ze]=De)}}addIconPacks(...ge){for(const De of ge){const Ze=Object.keys(De).map(tt=>De[tt]);this.addIcons(...Ze)}}getIconDefinition(ge,De){return ge in this.definitions&&De in this.definitions[ge]?this.definitions[ge][De]:null}}return(G=ie).\u0275fac=function(ge){return new(ge||G)},G.\u0275prov=d.Yz7({token:G,factory:G.\u0275fac,providedIn:"root"}),ie})(),Ko=(()=>{var G;class ie{constructor(){this.stackItemSize="1x"}ngOnChanges(ge){if("size"in ge)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return(G=ie).\u0275fac=function(ge){return new(ge||G)},G.\u0275dir=d.lG2({type:G,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[d.TTD]}),ie})(),Na=(()=>{var G;class ie{constructor(ge,De){this.renderer=ge,this.elementRef=De}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(ge){"size"in ge&&(null!=ge.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${ge.size.currentValue}`),null!=ge.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${ge.size.previousValue}`))}}return(G=ie).\u0275fac=function(ge){return new(ge||G)(d.Y36(d.Qsj),d.Y36(d.SBq))},G.\u0275cmp=d.Xpm({type:G,selectors:[["fa-stack"]],inputs:{size:"size"},features:[d.TTD],ngContentSelectors:Ha,decls:1,vars:0,template:function(ge,De){1&ge&&(d.F$t(),d.Hsn(0))},encapsulation:2}),ie})(),lo=(()=>{var G;class ie{set spin(ge){this.animation=ge?"spin":void 0}set pulse(ge){this.animation=ge?"spin-pulse":void 0}constructor(ge,De,Ze,tt,Mt){this.sanitizer=ge,this.config=De,this.iconLibrary=Ze,this.stackItem=tt,this.classes=[],null!=Mt&&null==tt&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(ge){if(null!=this.icon||null!=this.config.fallbackIcon){if(ge){const Ze=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=Ze){const tt=this.buildParams();this.renderIcon(Ze,tt)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(ge){const De=((G,ie)=>(G=>void 0!==G.prefix&&void 0!==G.iconName)(G)?G:"string"==typeof G?{prefix:ie,iconName:G}:{prefix:G[0],iconName:G[1]})(ge,this.config.defaultPrefix);return"icon"in De?De:this.iconLibrary.getIconDefinition(De.prefix,De.iconName)??((G=>{throw new Error(`Could not find icon with iconName=${G.iconName} and prefix=${G.prefix} in the icon library.`)})(De),null)}buildParams(){const ge={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},De="string"==typeof this.transform?Fs.transform(this.transform):this.transform;return{title:this.title,transform:De,classes:[...aa(ge),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(ge,De){const Ze=bi(ge,De);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(Ze.html.join("\n"))}}return(G=ie).\u0275fac=function(ge){return new(ge||G)(d.Y36($i.H7),d.Y36(Fl),d.Y36(ul),d.Y36(Ko,8),d.Y36(Na,8))},G.\u0275cmp=d.Xpm({type:G,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(ge,De){2&ge&&(d.Ikx("innerHTML",De.renderedIconHTML,d.oJD),d.uIk("title",De.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[d.TTD],decls:0,vars:0,template:function(ge,De){},encapsulation:2}),ie})(),Te=(()=>{var G;class ie{}return(G=ie).\u0275fac=function(ge){return new(ge||G)},G.\u0275mod=d.oAB({type:G}),G.\u0275inj=d.cJS({}),ie})()},6675:(Pn,_t,Y)=>{Y.d(_t,{_D:()=>El,lQ:()=>W,jt:()=>Tc,TH:()=>gl,Vi:()=>Cu,iD:()=>Du,IJ:()=>$_});var d=Y(5879),fe=Y(5592),ve=Y(6232),X=Y(2096),Me=Y(8645),He=Y(4829),Se=Y(1631),ct=Y(4266),nt=Y(4674),Ie=Y(7400);const Ae=["addListener","removeListener"],Ke=["addEventListener","removeEventListener"],ft=["on","off"];function ze(m,D,S,f){if((0,nt.m)(S)&&(f=S,S=void 0),f)return ze(m,D,S).pipe((0,Ie.Z)(f));const[T,H]=function Kt(m){return(0,nt.m)(m.addEventListener)&&(0,nt.m)(m.removeEventListener)}(m)?Ke.map(ce=>Be=>m[ce](D,Be,S)):function dt(m){return(0,nt.m)(m.addListener)&&(0,nt.m)(m.removeListener)}(m)?Ae.map(Jt(m,D)):function fn(m){return(0,nt.m)(m.on)&&(0,nt.m)(m.off)}(m)?ft.map(Jt(m,D)):[];if(!T&&(0,ct.z)(m))return(0,Se.z)(ce=>ze(ce,D,S))((0,He.Xf)(m));if(!T)throw new TypeError("Invalid event target");return new fe.y(ce=>{const Be=(...st)=>ce.next(1<st.length?st:st[0]);return T(Be),()=>H(Be)})}function Jt(m,D){return S=>f=>m[S](D,f)}var Vn=Y(6321),In=Y(671);function Tt(m=0,D,S=Vn.P){let f=-1;return null!=D&&((0,In.K)(D)?S=D:f=D),new fe.y(T=>{let H=function Xe(m){return m instanceof Date&&!isNaN(m)}(m)?+m-S.now():m;H<0&&(H=0);let ce=0;return S.schedule(function(){T.closed||(T.next(ce++),0<=f?this.schedule(void 0,f):T.complete())},H)})}const{isArray:gt}=Array;function mt(m){return 1===m.length&&gt(m[0])?m[0]:m}var Nt=Y(8251);function xe(...m){return 1===(m=mt(m)).length?(0,He.Xf)(m[0]):new fe.y(function Wt(m){return D=>{let S=[];for(let f=0;S&&!D.closed&&f<m.length;f++)S.push((0,He.Xf)(m[f]).subscribe((0,Nt.x)(D,T=>{if(S){for(let H=0;H<S.length;H++)H!==f&&S[H].unsubscribe();S=null}D.next(T)})))}}(m))}Y(3019);var zn=Y(9940);function Bn(...m){const D=(0,zn.jO)(m),S=mt(m);return S.length?new fe.y(f=>{let T=S.map(()=>[]),H=S.map(()=>!1);f.add(()=>{T=H=null});for(let ce=0;!f.closed&&ce<S.length;ce++)(0,He.Xf)(S[ce]).subscribe((0,Nt.x)(f,Be=>{if(T[ce].push(Be),T.every(st=>st.length)){const st=T.map(Pt=>Pt.shift());f.next(D?D(...st):st),T.some((Pt,Zt)=>!Pt.length&&H[Zt])&&f.complete()}},()=>{H[ce]=!0,!T[ce].length&&f.complete()}));return()=>{T=H=null}}):ve.E}var vn=Y(5211),lr=Y(9773),Gn=Y(2181),Ln=Y(8180),Qe=Y(9397),rt=Y(7398),wt=Y(2460),at=Y(9360),Dt=Y(2420),ln=Y(975);function gn(m,D){return D?S=>(0,vn.z)(D.pipe((0,Ln.q)(1),function rn(){return(0,at.e)((m,D)=>{m.subscribe((0,Nt.x)(D,Dt.Z))})}()),S.pipe(gn(m))):(0,Se.z)((S,f)=>(0,He.Xf)(m(S,f)).pipe((0,Ln.q)(1),(0,ln.h)(S)))}var cr=Y(4664);Y(7921),Y(3997);var Fn=Y(6814),Ue=(Y(95),{left:"right",right:"left",bottom:"top",top:"bottom"});function Je(m){return m.replace(/left|right|bottom|top/g,function(D){return Ue[D]})}function Ct(m){return m.split("-")[0]}var Ft={start:"end",end:"start"};function xt(m){return m.replace(/start|end/g,function(D){return Ft[D]})}var Xt="top",br="bottom",sr="right",pn="left",Dn="auto",or=[Xt,br,sr,pn],yr="start",ui="end",Tr="viewport",ei="popper",$r=or.reduce(function(m,D){return m.concat([D+"-"+yr,D+"-"+ui])},[]),Yi=[].concat(or,[Dn]).reduce(function(m,D){return m.concat([D,D+"-"+yr,D+"-"+ui])},[]),Et=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function un(m){if(null==m)return window;if("[object Window]"!==m.toString()){var D=m.ownerDocument;return D&&D.defaultView||window}return m}function En(m){return m instanceof un(m).Element||m instanceof Element}function ar(m){return m instanceof un(m).HTMLElement||m instanceof HTMLElement}function Le(m){return!(typeof ShadowRoot>"u")&&(m instanceof un(m).ShadowRoot||m instanceof ShadowRoot)}function pe(m){return((En(m)?m.ownerDocument:m.document)||window.document).documentElement}var he=Math.max,Fe=Math.min,_e=Math.round;function We(){var m=navigator.userAgentData;return null!=m&&m.brands&&Array.isArray(m.brands)?m.brands.map(function(D){return D.brand+"/"+D.version}).join(" "):navigator.userAgent}function Vt(){return!/^((?!chrome|android).)*safari/i.test(We())}function nn(m,D,S){void 0===D&&(D=!1),void 0===S&&(S=!1);var f=m.getBoundingClientRect(),T=1,H=1;D&&ar(m)&&(T=m.offsetWidth>0&&_e(f.width)/m.offsetWidth||1,H=m.offsetHeight>0&&_e(f.height)/m.offsetHeight||1);var Be=(En(m)?un(m):window).visualViewport,st=!Vt()&&S,Pt=(f.left+(st&&Be?Be.offsetLeft:0))/T,Zt=(f.top+(st&&Be?Be.offsetTop:0))/H,Nn=f.width/T,mr=f.height/H;return{width:Nn,height:mr,top:Zt,right:Pt+Nn,bottom:Zt+mr,left:Pt,x:Pt,y:Zt}}function Jn(m){var D=un(m);return{scrollLeft:D.pageXOffset,scrollTop:D.pageYOffset}}function xn(m){return nn(pe(m)).left+Jn(m).scrollLeft}function pr(m){return un(m).getComputedStyle(m)}function ot(m){return m?(m.nodeName||"").toLowerCase():null}function Ve(m){return"html"===ot(m)?m:m.assignedSlot||m.parentNode||(Le(m)?m.host:null)||pe(m)}function Rt(m){var D=pr(m);return/auto|scroll|overlay|hidden/.test(D.overflow+D.overflowY+D.overflowX)}function Ot(m){return["html","body","#document"].indexOf(ot(m))>=0?m.ownerDocument.body:ar(m)&&Rt(m)?m:Ot(Ve(m))}function an(m,D){var S;void 0===D&&(D=[]);var f=Ot(m),T=f===(null==(S=m.ownerDocument)?void 0:S.body),H=un(f),ce=T?[H].concat(H.visualViewport||[],Rt(f)?f:[]):f,Be=D.concat(ce);return T?Be:Be.concat(an(Ve(ce)))}function sn(m){return["table","td","th"].indexOf(ot(m))>=0}function qn(m){return ar(m)&&"fixed"!==pr(m).position?m.offsetParent:null}function Gr(m){for(var D=un(m),S=qn(m);S&&sn(S)&&"static"===pr(S).position;)S=qn(S);return S&&("html"===ot(S)||"body"===ot(S)&&"static"===pr(S).position)?D:S||function bn(m){var D=/firefox/i.test(We());if(/Trident/i.test(We())&&ar(m)&&"fixed"===pr(m).position)return null;var T=Ve(m);for(Le(T)&&(T=T.host);ar(T)&&["html","body"].indexOf(ot(T))<0;){var H=pr(T);if("none"!==H.transform||"none"!==H.perspective||"paint"===H.contain||-1!==["transform","perspective"].indexOf(H.willChange)||D&&"filter"===H.willChange||D&&H.filter&&"none"!==H.filter)return T;T=T.parentNode}return null}(m)||D}function Wr(m,D){var S=D.getRootNode&&D.getRootNode();if(m.contains(D))return!0;if(S&&Le(S)){var f=D;do{if(f&&m.isSameNode(f))return!0;f=f.parentNode||f.host}while(f)}return!1}function Gi(m){return Object.assign({},m,{left:m.x,top:m.y,right:m.x+m.width,bottom:m.y+m.height})}function ri(m,D,S){return D===Tr?Gi(function oi(m,D){var S=un(m),f=pe(m),T=S.visualViewport,H=f.clientWidth,ce=f.clientHeight,Be=0,st=0;if(T){H=T.width,ce=T.height;var Pt=Vt();(Pt||!Pt&&"fixed"===D)&&(Be=T.offsetLeft,st=T.offsetTop)}return{width:H,height:ce,x:Be+xn(m),y:st}}(m,S)):En(D)?function Rs(m,D){var S=nn(m,!1,"fixed"===D);return S.top=S.top+m.clientTop,S.left=S.left+m.clientLeft,S.bottom=S.top+m.clientHeight,S.right=S.left+m.clientWidth,S.width=m.clientWidth,S.height=m.clientHeight,S.x=S.left,S.y=S.top,S}(D,S):Gi(function xi(m){var D,S=pe(m),f=Jn(m),T=null==(D=m.ownerDocument)?void 0:D.body,H=he(S.scrollWidth,S.clientWidth,T?T.scrollWidth:0,T?T.clientWidth:0),ce=he(S.scrollHeight,S.clientHeight,T?T.scrollHeight:0,T?T.clientHeight:0),Be=-f.scrollLeft+xn(m),st=-f.scrollTop;return"rtl"===pr(T||S).direction&&(Be+=he(S.clientWidth,T?T.clientWidth:0)-H),{width:H,height:ce,x:Be,y:st}}(pe(m)))}function rs(m){return m.split("-")[1]}function _i(m){return["top","bottom"].indexOf(m)>=0?"x":"y"}function ni(m){var st,D=m.reference,S=m.element,f=m.placement,T=f?Ct(f):null,H=f?rs(f):null,ce=D.x+D.width/2-S.width/2,Be=D.y+D.height/2-S.height/2;switch(T){case Xt:st={x:ce,y:D.y-S.height};break;case br:st={x:ce,y:D.y+D.height};break;case sr:st={x:D.x+D.width,y:Be};break;case pn:st={x:D.x-S.width,y:Be};break;default:st={x:D.x,y:D.y}}var Pt=T?_i(T):null;if(null!=Pt){var Zt="y"===Pt?"height":"width";switch(H){case yr:st[Pt]=st[Pt]-(D[Zt]/2-S[Zt]/2);break;case ui:st[Pt]=st[Pt]+(D[Zt]/2-S[Zt]/2)}}return st}function Ys(m){return Object.assign({},{top:0,right:0,bottom:0,left:0},m)}function hr(m,D){return D.reduce(function(S,f){return S[f]=m,S},{})}function $n(m,D){void 0===D&&(D={});var f=D.placement,T=void 0===f?m.placement:f,H=D.strategy,ce=void 0===H?m.strategy:H,Be=D.boundary,st=void 0===Be?"clippingParents":Be,Pt=D.rootBoundary,Zt=void 0===Pt?Tr:Pt,Nn=D.elementContext,mr=void 0===Nn?ei:Nn,Mn=D.altBoundary,Pi=void 0!==Mn&&Mn,vi=D.padding,li=void 0===vi?0:vi,Es=Ys("number"!=typeof li?li:hr(li,or)),Ca=m.rects.popper,bs=m.elements[Pi?mr===ei?"reference":ei:mr],ls=function Bs(m,D,S,f){var T="clippingParents"===D?function cs(m){var D=an(Ve(m)),f=["absolute","fixed"].indexOf(pr(m).position)>=0&&ar(m)?Gr(m):m;return En(f)?D.filter(function(T){return En(T)&&Wr(T,f)&&"body"!==ot(T)}):[]}(m):[].concat(D),H=[].concat(T,[S]),Be=H.reduce(function(st,Pt){var Zt=ri(m,Pt,f);return st.top=he(Zt.top,st.top),st.right=Fe(Zt.right,st.right),st.bottom=Fe(Zt.bottom,st.bottom),st.left=he(Zt.left,st.left),st},ri(m,H[0],f));return Be.width=Be.right-Be.left,Be.height=Be.bottom-Be.top,Be.x=Be.left,Be.y=Be.top,Be}(En(bs)?bs:bs.contextElement||pe(m.elements.popper),st,Zt,ce),Vs=nn(m.elements.reference),To=ni({reference:Vs,element:Ca,strategy:"absolute",placement:T}),ca=Gi(Object.assign({},Ca,To)),Gl=mr===ei?ca:Vs,xl={top:ls.top-Gl.top+Es.top,bottom:Gl.bottom-ls.bottom+Es.bottom,left:ls.left-Gl.left+Es.left,right:Gl.right-ls.right+Es.right},Ka=m.modifiersData.offset;if(mr===ei&&Ka){var tc=Ka[T];Object.keys(xl).forEach(function(hc){var Qd=[sr,br].indexOf(hc)>=0?1:-1,Ad=[Xt,br].indexOf(hc)>=0?"y":"x";xl[hc]+=tc[Ad]*Qd})}return xl}const Ja={name:"flip",enabled:!0,phase:"main",fn:function Li(m){var D=m.state,S=m.options,f=m.name;if(!D.modifiersData[f]._skip){for(var T=S.mainAxis,H=void 0===T||T,ce=S.altAxis,Be=void 0===ce||ce,st=S.fallbackPlacements,Pt=S.padding,Zt=S.boundary,Nn=S.rootBoundary,mr=S.altBoundary,Mn=S.flipVariations,Pi=void 0===Mn||Mn,vi=S.allowedAutoPlacements,li=D.options.placement,Es=Ct(li),Ca=st||(Es!==li&&Pi?function Hi(m){if(Ct(m)===Dn)return[];var D=Je(m);return[xt(m),D,xt(D)]}(li):[Je(li)]),bs=[li].concat(Ca).reduce(function(Xc,Ol){return Xc.concat(Ct(Ol)===Dn?function Kr(m,D){void 0===D&&(D={});var T=D.boundary,H=D.rootBoundary,ce=D.padding,Be=D.flipVariations,st=D.allowedAutoPlacements,Pt=void 0===st?Yi:st,Zt=rs(D.placement),Nn=Zt?Be?$r:$r.filter(function(Pi){return rs(Pi)===Zt}):or,mr=Nn.filter(function(Pi){return Pt.indexOf(Pi)>=0});0===mr.length&&(mr=Nn);var Mn=mr.reduce(function(Pi,vi){return Pi[vi]=$n(m,{placement:vi,boundary:T,rootBoundary:H,padding:ce})[Ct(vi)],Pi},{});return Object.keys(Mn).sort(function(Pi,vi){return Mn[Pi]-Mn[vi]})}(D,{placement:Ol,boundary:Zt,rootBoundary:Nn,padding:Pt,flipVariations:Pi,allowedAutoPlacements:vi}):Ol)},[]),ls=D.rects.reference,Vs=D.rects.popper,To=new Map,ca=!0,Gl=bs[0],xl=0;xl<bs.length;xl++){var Ka=bs[xl],tc=Ct(Ka),hc=rs(Ka)===yr,Qd=[Xt,br].indexOf(tc)>=0,Ad=Qd?"width":"height",Vc=$n(D,{placement:Ka,boundary:Zt,rootBoundary:Nn,altBoundary:mr,padding:Pt}),Ru=Qd?hc?sr:pn:hc?br:Xt;ls[Ad]>Vs[Ad]&&(Ru=Je(Ru));var Eh=Je(Ru),Zd=[];if(H&&Zd.push(Vc[tc]<=0),Be&&Zd.push(Vc[Ru]<=0,Vc[Eh]<=0),Zd.every(function(Xc){return Xc})){Gl=Ka,ca=!1;break}To.set(Ka,Zd)}if(ca)for(var Hh=function(Ol){var eu=bs.find(function(zh){var Rd=To.get(zh);if(Rd)return Rd.slice(0,Ol).every(function(Hl){return Hl})});if(eu)return Gl=eu,"break"},Af=Pi?3:1;Af>0&&"break"!==Hh(Af);Af--);D.placement!==Gl&&(D.modifiersData[f]._skip=!0,D.placement=Gl,D.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ye(m,D,S){return he(m,Fe(D,S))}function Bt(m){var D=nn(m),S=m.offsetWidth,f=m.offsetHeight;return Math.abs(D.width-S)<=1&&(S=D.width),Math.abs(D.height-f)<=1&&(f=D.height),{x:m.offsetLeft,y:m.offsetTop,width:S,height:f}}const er={name:"preventOverflow",enabled:!0,phase:"main",fn:function Gt(m){var D=m.state,S=m.options,f=m.name,T=S.mainAxis,H=void 0===T||T,ce=S.altAxis,Be=void 0!==ce&&ce,mr=S.tether,Mn=void 0===mr||mr,Pi=S.tetherOffset,vi=void 0===Pi?0:Pi,li=$n(D,{boundary:S.boundary,rootBoundary:S.rootBoundary,padding:S.padding,altBoundary:S.altBoundary}),Es=Ct(D.placement),ws=rs(D.placement),Ca=!ws,bs=_i(Es),ls=function it(m){return"x"===m?"y":"x"}(bs),Vs=D.modifiersData.popperOffsets,To=D.rects.reference,ca=D.rects.popper,Gl="function"==typeof vi?vi(Object.assign({},D.rects,{placement:D.placement})):vi,xl="number"==typeof Gl?{mainAxis:Gl,altAxis:Gl}:Object.assign({mainAxis:0,altAxis:0},Gl),Ka=D.modifiersData.offset?D.modifiersData.offset[D.placement]:null,tc={x:0,y:0};if(Vs){if(H){var hc,Qd="y"===bs?Xt:pn,Ad="y"===bs?br:sr,Vc="y"===bs?"height":"width",Ru=Vs[bs],Eh=Ru+li[Qd],Zd=Ru-li[Ad],Gh=Mn?-ca[Vc]/2:0,Hh=ws===yr?To[Vc]:ca[Vc],Af=ws===yr?-ca[Vc]:-To[Vc],Rf=D.elements.arrow,Xc=Mn&&Rf?Bt(Rf):{width:0,height:0},Ol=D.modifiersData["arrow#persistent"]?D.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},eu=Ol[Qd],zh=Ol[Ad],Rd=Ye(0,To[Vc],Xc[Vc]),Hl=Ca?To[Vc]/2-Gh-Rd-eu-xl.mainAxis:Hh-Rd-eu-xl.mainAxis,B0=Ca?-To[Vc]/2+Gh+Rd+zh+xl.mainAxis:Af+Rd+zh+xl.mainAxis,xf=D.elements.arrow&&Gr(D.elements.arrow),tm=xf?"y"===bs?xf.clientTop||0:xf.clientLeft||0:0,Of=null!=(hc=Ka?.[bs])?hc:0,Pf=Ru+B0-Of,G_=Ye(Mn?Fe(Eh,Ru+Hl-Of-tm):Eh,Ru,Mn?he(Zd,Pf):Zd);Vs[bs]=G_,tc[bs]=G_-Ru}if(Be){var xd,Jd=Vs[ls],Uu="y"===ls?"height":"width",Lp=Jd+li["x"===bs?Xt:pn],Mf=Jd-li["x"===bs?br:sr],Nf=-1!==[Xt,pn].indexOf(Es),Vp=null!=(xd=Ka?.[ls])?xd:0,nm=Nf?Lp:Jd-To[Uu]-ca[Uu]-Vp+xl.altAxis,Xd=Nf?Jd+To[Uu]+ca[Uu]-Vp-xl.altAxis:Mf,qh=Mn&&Nf?function It(m,D,S){var f=Ye(m,D,S);return f>S?S:f}(nm,Jd,Xd):Ye(Mn?nm:Lp,Jd,Mn?Xd:Mf);Vs[ls]=qh,tc[ls]=qh-Jd}D.modifiersData[f]=tc}},requiresIfExists:["offset"]},Xa={name:"arrow",enabled:!0,phase:"main",fn:function di(m){var D,S=m.state,f=m.name,T=m.options,H=S.elements.arrow,ce=S.modifiersData.popperOffsets,Be=Ct(S.placement),st=_i(Be),Zt=[pn,sr].indexOf(Be)>=0?"height":"width";if(H&&ce){var Nn=function(D,S){return Ys("number"!=typeof(D="function"==typeof D?D(Object.assign({},S.rects,{placement:S.placement})):D)?D:hr(D,or))}(T.padding,S),mr=Bt(H),Mn="y"===st?Xt:pn,Pi="y"===st?br:sr,vi=S.rects.reference[Zt]+S.rects.reference[st]-ce[st]-S.rects.popper[Zt],li=ce[st]-S.rects.reference[st],Es=Gr(H),ws=Es?"y"===st?Es.clientHeight||0:Es.clientWidth||0:0,Vs=ws/2-mr[Zt]/2+(vi/2-li/2),To=Ye(Nn[Mn],Vs,ws-mr[Zt]-Nn[Pi]);S.modifiersData[f]=((D={})[st]=To,D.centerOffset=To-Vs,D)}},effect:function Lr(m){var D=m.state,f=m.options.element,T=void 0===f?"[data-popper-arrow]":f;null!=T&&("string"==typeof T&&!(T=D.elements.popper.querySelector(T))||Wr(D.elements.popper,T)&&(D.elements.arrow=T))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function po(m,D,S){void 0===S&&(S=!1);var f=ar(D),T=ar(D)&&function Qi(m){var D=m.getBoundingClientRect(),S=_e(D.width)/m.offsetWidth||1,f=_e(D.height)/m.offsetHeight||1;return 1!==S||1!==f}(D),H=pe(D),ce=nn(m,T,S),Be={scrollLeft:0,scrollTop:0},st={x:0,y:0};return(f||!f&&!S)&&(("body"!==ot(D)||Rt(H))&&(Be=function fo(m){return m!==un(m)&&ar(m)?function Qs(m){return{scrollLeft:m.scrollLeft,scrollTop:m.scrollTop}}(m):Jn(m)}(D)),ar(D)?((st=nn(D,!0)).x+=D.clientLeft,st.y+=D.clientTop):H&&(st.x=xn(H))),{x:ce.left+Be.scrollLeft-st.x,y:ce.top+Be.scrollTop-st.y,width:ce.width,height:ce.height}}function La(m){var D=new Map,S=new Set,f=[];function T(H){S.add(H.name),[].concat(H.requires||[],H.requiresIfExists||[]).forEach(function(Be){if(!S.has(Be)){var st=D.get(Be);st&&T(st)}}),f.push(H)}return m.forEach(function(H){D.set(H.name,H)}),m.forEach(function(H){S.has(H.name)||T(H)}),f}function Va(m){var D;return function(){return D||(D=new Promise(function(S){Promise.resolve().then(function(){D=void 0,S(m())})})),D}}var No={placement:"bottom",modifiers:[],strategy:"absolute"};function xa(){for(var m=arguments.length,D=new Array(m),S=0;S<m;S++)D[S]=arguments[S];return!D.some(function(f){return!(f&&"function"==typeof f.getBoundingClientRect)})}function hi(m){void 0===m&&(m={});var S=m.defaultModifiers,f=void 0===S?[]:S,T=m.defaultOptions,H=void 0===T?No:T;return function(Be,st,Pt){void 0===Pt&&(Pt=H);var Zt={placement:"bottom",orderedModifiers:[],options:Object.assign({},No,H),modifiersData:{},elements:{reference:Be,popper:st},attributes:{},styles:{}},Nn=[],mr=!1,Mn={state:Zt,setOptions:function(Es){var ws="function"==typeof Es?Es(Zt.options):Es;vi(),Zt.options=Object.assign({},H,Zt.options,ws),Zt.scrollParents={reference:En(Be)?an(Be):Be.contextElement?an(Be.contextElement):[],popper:an(st)};var Ca=function go(m){var D=La(m);return Et.reduce(function(S,f){return S.concat(D.filter(function(T){return T.phase===f}))},[])}(function na(m){var D=m.reduce(function(S,f){var T=S[f.name];return S[f.name]=T?Object.assign({},T,f,{options:Object.assign({},T.options,f.options),data:Object.assign({},T.data,f.data)}):f,S},{});return Object.keys(D).map(function(S){return D[S]})}([].concat(f,Zt.options.modifiers)));return Zt.orderedModifiers=Ca.filter(function(bs){return bs.enabled}),function Pi(){Zt.orderedModifiers.forEach(function(li){var ws=li.options,bs=li.effect;if("function"==typeof bs){var ls=bs({state:Zt,name:li.name,instance:Mn,options:void 0===ws?{}:ws});Nn.push(ls||function(){})}})}(),Mn.update()},forceUpdate:function(){if(!mr){var Es=Zt.elements,ws=Es.reference,Ca=Es.popper;if(xa(ws,Ca)){Zt.rects={reference:po(ws,Gr(Ca),"fixed"===Zt.options.strategy),popper:Bt(Ca)},Zt.reset=!1,Zt.placement=Zt.options.placement,Zt.orderedModifiers.forEach(function(xl){return Zt.modifiersData[xl.name]=Object.assign({},xl.data)});for(var bs=0;bs<Zt.orderedModifiers.length;bs++)if(!0!==Zt.reset){var ls=Zt.orderedModifiers[bs],Vs=ls.fn,To=ls.options;"function"==typeof Vs&&(Zt=Vs({state:Zt,options:void 0===To?{}:To,name:ls.name,instance:Mn})||Zt)}else Zt.reset=!1,bs=-1}}},update:Va(function(){return new Promise(function(li){Mn.forceUpdate(),li(Zt)})}),destroy:function(){vi(),mr=!0}};if(!xa(Be,st))return Mn;function vi(){Nn.forEach(function(li){return li()}),Nn=[]}return Mn.setOptions(Pt).then(function(li){!mr&&Pt.onFirstUpdate&&Pt.onFirstUpdate(li)}),Mn}}var Ci={passive:!0},Zi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ji(m){var D,S=m.popper,f=m.popperRect,T=m.placement,H=m.variation,ce=m.offsets,Be=m.position,st=m.gpuAcceleration,Pt=m.adaptive,Zt=m.roundOffsets,Nn=m.isFixed,mr=ce.x,Mn=void 0===mr?0:mr,Pi=ce.y,vi=void 0===Pi?0:Pi,li="function"==typeof Zt?Zt({x:Mn,y:vi}):{x:Mn,y:vi};Mn=li.x,vi=li.y;var Es=ce.hasOwnProperty("x"),ws=ce.hasOwnProperty("y"),Ca=pn,bs=Xt,ls=window;if(Pt){var Vs=Gr(S),To="clientHeight",ca="clientWidth";Vs===un(S)&&"static"!==pr(Vs=pe(S)).position&&"absolute"===Be&&(To="scrollHeight",ca="scrollWidth"),(T===Xt||(T===pn||T===sr)&&H===ui)&&(bs=br,vi-=(Nn&&Vs===ls&&ls.visualViewport?ls.visualViewport.height:Vs[To])-f.height,vi*=st?1:-1),T!==pn&&(T!==Xt&&T!==br||H!==ui)||(Ca=sr,Mn-=(Nn&&Vs===ls&&ls.visualViewport?ls.visualViewport.width:Vs[ca])-f.width,Mn*=st?1:-1)}var hc,Ka=Object.assign({position:Be},Pt&&Zi),tc=!0===Zt?function Mi(m,D){var f=m.y,T=D.devicePixelRatio||1;return{x:_e(m.x*T)/T||0,y:_e(f*T)/T||0}}({x:Mn,y:vi},un(S)):{x:Mn,y:vi};return Mn=tc.x,vi=tc.y,Object.assign({},Ka,st?((hc={})[bs]=ws?"0":"",hc[Ca]=Es?"0":"",hc.transform=(ls.devicePixelRatio||1)<=1?"translate("+Mn+"px, "+vi+"px)":"translate3d("+Mn+"px, "+vi+"px, 0)",hc):((D={})[bs]=ws?vi+"px":"",D[Ca]=Es?Mn+"px":"",D.transform="",D))}var Vi=hi({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Hr(m){var D=m.state,S=m.instance,f=m.options,T=f.scroll,H=void 0===T||T,ce=f.resize,Be=void 0===ce||ce,st=un(D.elements.popper),Pt=[].concat(D.scrollParents.reference,D.scrollParents.popper);return H&&Pt.forEach(function(Zt){Zt.addEventListener("scroll",S.update,Ci)}),Be&&st.addEventListener("resize",S.update,Ci),function(){H&&Pt.forEach(function(Zt){Zt.removeEventListener("scroll",S.update,Ci)}),Be&&st.removeEventListener("resize",S.update,Ci)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function ra(m){var D=m.state;D.modifiersData[m.name]=ni({reference:D.rects.reference,element:D.rects.popper,strategy:"absolute",placement:D.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Oi(m){var D=m.state,S=m.options,f=S.gpuAcceleration,T=void 0===f||f,H=S.adaptive,ce=void 0===H||H,Be=S.roundOffsets,st=void 0===Be||Be,Pt={placement:Ct(D.placement),variation:rs(D.placement),popper:D.elements.popper,popperRect:D.rects.popper,gpuAcceleration:T,isFixed:"fixed"===D.options.strategy};null!=D.modifiersData.popperOffsets&&(D.styles.popper=Object.assign({},D.styles.popper,ji(Object.assign({},Pt,{offsets:D.modifiersData.popperOffsets,position:D.options.strategy,adaptive:ce,roundOffsets:st})))),null!=D.modifiersData.arrow&&(D.styles.arrow=Object.assign({},D.styles.arrow,ji(Object.assign({},Pt,{offsets:D.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:st})))),D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-placement":D.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function Yr(m){var D=m.state;Object.keys(D.elements).forEach(function(S){var f=D.styles[S]||{},T=D.attributes[S]||{},H=D.elements[S];!ar(H)||!ot(H)||(Object.assign(H.style,f),Object.keys(T).forEach(function(ce){var Be=T[ce];!1===Be?H.removeAttribute(ce):H.setAttribute(ce,!0===Be?"":Be)}))})},effect:function Ai(m){var D=m.state,S={popper:{position:D.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(D.elements.popper.style,S.popper),D.styles=S,D.elements.arrow&&Object.assign(D.elements.arrow.style,S.arrow),function(){Object.keys(D.elements).forEach(function(f){var T=D.elements[f],H=D.attributes[f]||{},Be=Object.keys(D.styles.hasOwnProperty(f)?D.styles[f]:S[f]).reduce(function(st,Pt){return st[Pt]="",st},{});!ar(T)||!ot(T)||(Object.assign(T.style,Be),Object.keys(H).forEach(function(st){T.removeAttribute(st)}))})}},requires:["computeStyles"]}]});const Us={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function is(m){var D=m.state,f=m.name,T=m.options.offset,H=void 0===T?[0,0]:T,ce=Yi.reduce(function(Zt,Nn){return Zt[Nn]=function mo(m,D,S){var f=Ct(m),T=[pn,Xt].indexOf(f)>=0?-1:1,H="function"==typeof S?S(Object.assign({},D,{placement:m})):S,ce=H[0],Be=H[1];return ce=ce||0,Be=(Be||0)*T,[pn,sr].indexOf(f)>=0?{x:Be,y:ce}:{x:ce,y:Be}}(Nn,D.rects,H),Zt},{}),Be=ce[D.placement],Pt=Be.y;null!=D.modifiersData.popperOffsets&&(D.modifiersData.popperOffsets.x+=Be.x,D.modifiersData.popperOffsets.y+=Pt),D.modifiersData[f]=ce}},xs=["*"],Eo=["dialog"];function nr(m){return"string"==typeof m}function Jr(m){return null!=m}function hs(m){return(m||document.body).getBoundingClientRect()}function Cs(m=document){const D=m?.activeElement;return D?D.shadowRoot?Cs(D.shadowRoot):D:null}const Lt={animation:!0,transitionTimerDelayMs:5},_n=()=>{},{transitionTimerDelayMs:Do}=Lt,rl=new Map,za=(m,D,S,f)=>{let T=f.context||{};const H=rl.get(D);if(H)switch(f.runningTransition){case"continue":return ve.E;case"stop":m.run(()=>H.transition$.complete()),T=Object.assign(H.context,T),rl.delete(D)}const ce=S(D,f.animation,T)||_n;if(!f.animation||"none"===window.getComputedStyle(D).transitionProperty)return m.run(()=>ce()),(0,X.of)(void 0).pipe(function tr(m){return D=>new fe.y(S=>D.subscribe({next:ce=>m.run(()=>S.next(ce)),error:ce=>m.run(()=>S.error(ce)),complete:()=>m.run(()=>S.complete())}))}(m));const Be=new Me.x,st=new Me.x,Pt=Be.pipe(function Zn(...m){return D=>(0,vn.z)(D,(0,X.of)(...m))}(!0));rl.set(D,{transition$:Be,complete:()=>{st.next(),st.complete()},context:T});const Zt=function Sn(m){const{transitionDelay:D,transitionDuration:S}=window.getComputedStyle(m);return 1e3*(parseFloat(D)+parseFloat(S))}(D);return m.runOutsideAngular(()=>{const Nn=ze(D,"transitionend").pipe((0,lr.R)(Pt),(0,Gn.h)(({target:Mn})=>Mn===D));xe(Tt(Zt+Do).pipe((0,lr.R)(Pt)),Nn,st).pipe((0,lr.R)(Pt)).subscribe(()=>{rl.delete(D),m.run(()=>{ce(),Be.next(),Be.complete()})})}),Be.asObservable()},Ao=(m,D,S)=>{let{direction:f,maxSize:T,dimension:H}=S;const{classList:ce}=m;function Be(){ce.add("collapse"),"show"===f?ce.add("show"):ce.remove("show")}if(D)return T||(T=function md(m,D){if(typeof navigator>"u")return"0px";const{classList:S}=m,f=S.contains("show");f||S.add("show"),m.style[D]="";const T=m.getBoundingClientRect()[D]+"px";return f||S.remove("show"),T}(m,H),S.maxSize=T,m.style[H]="show"!==f?T:"0px",ce.remove("collapse"),ce.remove("collapsing"),ce.remove("show"),hs(m),ce.add("collapsing")),m.style[H]="show"===f?T:"0px",()=>{Be(),ce.remove("collapsing"),m.style[H]=""};Be()};let Ll=(()=>{var m;class D{constructor(){this.animation=Lt.animation}}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),Cr=(()=>{var m;class D{constructor(f){this._ngbConfig=f,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(f){this._animation=f}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(Ll))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),El=(()=>{var m;class D{set collapsed(f){this._isCollapsed!==f&&(this._isCollapsed=f,this._afterInit&&this._runTransitionWithEvents(f,this.animation))}constructor(f,T,H){this._element=f,this._zone=H,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new d.vpe,this.shown=new d.vpe,this.hidden=new d.vpe,this.animation=T.animation,this.horizontal=T.horizontal}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(f=this._isCollapsed){this.collapsed=!f,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(f,T){return za(this._zone,this._element.nativeElement,Ao,{animation:T,runningTransition:"stop",context:{direction:f?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(f,T){this._runTransition(f,T).subscribe(()=>{f?this.hidden.emit():this.shown.emit()})}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36(d.SBq),d.Y36(Cr),d.Y36(d.R0b))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(f,T){2&f&&d.ekj("collapse-horizontal",T.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),D})(),zc=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),il=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),L=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),W=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})();var ms=function(m){return m[m.Tab=9]="Tab",m[m.Enter=13]="Enter",m[m.Escape=27]="Escape",m[m.Space=32]="Space",m[m.PageUp=33]="PageUp",m[m.PageDown=34]="PageDown",m[m.End=35]="End",m[m.Home=36]="Home",m[m.ArrowLeft=37]="ArrowLeft",m[m.ArrowUp=38]="ArrowUp",m[m.ArrowRight=39]="ArrowRight",m[m.ArrowDown=40]="ArrowDown",m}(ms||{});const wi=(m,D)=>!!D&&D.some(S=>S.contains(m)),Mu=(m,D)=>!D||null!=function Wi(m,D){return!D||typeof m.closest>"u"?null:m.closest(D)}(m,D),Ec=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function fs(m,D,S,f,T,H,ce,Be){S&&m.runOutsideAngular((m=>Ec?()=>setTimeout(()=>m(),100):m)(()=>{const Pt=ze(D,"keydown").pipe((0,lr.R)(T),(0,Gn.h)(mr=>mr.which===ms.Escape),(0,Qe.b)(mr=>mr.preventDefault())),Zt=ze(D,"mousedown").pipe((0,rt.U)(mr=>{const Mn=mr.target;return 2!==mr.button&&!wi(Mn,ce)&&("inside"===S?wi(Mn,H)&&Mu(Mn,Be):"outside"===S?!wi(Mn,H):Mu(Mn,Be)||!wi(Mn,H))}),(0,lr.R)(T)),Nn=ze(D,"mouseup").pipe((0,wt.M)(Zt),(0,Gn.h)(([mr,Mn])=>Mn),function Zr(m,D=Vn.z){const S=Tt(m,D);return gn(()=>S)}(0),(0,lr.R)(T));xe([Pt.pipe((0,rt.U)(mr=>0)),Nn.pipe((0,rt.U)(mr=>1))]).subscribe(mr=>m.run(()=>f(mr)))}))}const Uo=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ks(m){const D=Array.from(m.querySelectorAll(Uo)).filter(S=>-1!==S.tabIndex);return[D[0],D[D.length-1]]}let wc=(()=>{var m;class D{constructor(f){this._element=f.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(Fn.K0))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})();const al=/\s+/,Yo=/  +/gi,_h={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Qo=/^left/,Nu=/^right/,Zo=/^start/,jo=/^end/;function bc({placement:m,baseClass:D},S){let f=Array.isArray(m)?m:m.split(al),H=f.findIndex(Pt=>"auto"===Pt);H>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(Pt){null==f.find(Zt=>-1!==Zt.search("^"+Pt))&&f.splice(H++,1,Pt)});const ce=f.map(Pt=>function Bd(m,D){const[S,f]=_h[m];return D&&f||S}(Pt,S.isRTL()));return{placement:ce.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!D,phase:"write",fn({state:Pt}){const Zt=new RegExp(D+"(-[a-z]+)*","gi"),Nn=Pt.elements.popper,mr=Pt.placement;let Mn=Nn.className;Mn=Mn.replace(Zt,""),Mn+=` ${function xo(m,D){let[S,f]=D.split("-");const T=S.replace(Qo,"start").replace(Nu,"end");let H=[T];if(f){let ce=f;("left"===S||"right"===S)&&(ce=ce.replace(Zo,"top").replace(jo,"bottom")),H.push(`${T}-${ce}`)}return m&&(H=H.map(ce=>`${m}-${ce}`)),H.join(" ")}(D,mr)}`,Mn=Mn.trim().replace(Yo," "),Nn.className=Mn}},Ja,er,Xa,{enabled:!0,name:"flip",options:{fallbackPlacements:ce}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Wc(m){return m}new Date(1882,10,12),new Date(2174,10,25);let Vr=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),Ui=(()=>{var m;class D{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=f=>f}}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),gl=(()=>{var m;class D{set disabled(f){this._disabled=""===f||!0===f,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}constructor(f,T){this.elementRef=f,this._renderer=T,this._disabled=!1}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36(d.SBq),d.Y36(d.Qsj))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(f,T){2&f&&(d.Ikx("tabIndex",T.disabled?-1:0),d.ekj("disabled",T.disabled))},inputs:{disabled:"disabled"},standalone:!0}),D})(),Cu=(()=>{var m;class D{constructor(f,T){this.dropdown=f,this.placement="bottom",this.isOpen=!1,this.nativeElement=T.nativeElement}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36((0,d.Gpc)(()=>Tc)),d.Y36(d.SBq))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(f,T,H){if(1&f&&d.Suo(H,gl,4),2&f){let ce;d.iGM(ce=d.CRH())&&(T.menuItems=ce)}},hostVars:4,hostBindings:function(f,T){1&f&&d.NdJ("keydown.ArrowUp",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.ArrowDown",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.Home",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.End",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.Enter",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.Space",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.Tab",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.Shift.Tab",function(ce){return T.dropdown.onKeyDown(ce)}),2&f&&d.ekj("dropdown-menu",!0)("show",T.dropdown.isOpen())},standalone:!0}),D})(),Zc=(()=>{var m;class D{constructor(f,T){this.dropdown=f,this.nativeElement=T.nativeElement}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36((0,d.Gpc)(()=>Tc)),d.Y36(d.SBq))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(f,T){2&f&&d.uIk("aria-expanded",T.dropdown.isOpen())},standalone:!0}),D})(),Du=(()=>{var m;class D extends Zc{constructor(f,T){super(f,T)}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36((0,d.Gpc)(()=>Tc)),d.Y36(d.SBq))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(f,T){1&f&&d.NdJ("click",function(){return T.dropdown.toggle()})("keydown.ArrowUp",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.ArrowDown",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.Home",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.End",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.Tab",function(ce){return T.dropdown.onKeyDown(ce)})("keydown.Shift.Tab",function(ce){return T.dropdown.onKeyDown(ce)}),2&f&&d.uIk("aria-expanded",T.dropdown.isOpen())},standalone:!0,features:[d._Bn([{provide:Zc,useExisting:(0,d.Gpc)(()=>m)}]),d.qOj]}),D})(),Tc=(()=>{var m;class D{constructor(f,T,H,ce,Be,st){this._changeDetector=f,this._document=H,this._ngZone=ce,this._elementRef=Be,this._renderer=st,this._destroyCloseHandlers$=new Me.x,this._bodyContainer=null,this._open=!1,this.openChange=new d.vpe,this.placement=T.placement,this.popperOptions=T.popperOptions,this.container=T.container,this.autoClose=T.autoClose,this._positioning=function Cl(){const m=(0,d.f3M)(wc);let D=null;return{createPopper(S){if(!D){let T=(S.updatePopperOptions||Wc)(bc(S,m));D=Vi(S.hostElement,S.targetElement,T)}},update(){D&&D.update()},setOptions(S){if(D){let T=(S.updatePopperOptions||Wc)(bc(S,m));D.setOptions(T)}},destroy(){D&&(D.destroy(),D=null)}}}()}ngOnInit(){this.display||(this.display=this._elementRef.nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,Ln.q)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(f){if(f.container&&this._open&&this._applyContainer(this.container),f.placement&&!f.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),f.dropdownClass){const{currentValue:T,previousValue:H}=f.dropdownClass;this._applyCustomDropdownClass(T,H)}f.autoClose&&this._open&&(this.autoClose=f.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:f=>this.popperOptions(function Jo(m){return D=>(D.modifiers.push(Us,{name:"offset",options:{offset:()=>m}}),D)}([0,2])(f))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),fs(this._ngZone,this._document,this.autoClose,f=>{this.close(),0===f&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(f){const T=f.which,H=this._getMenuElements();let ce=-1,Be=null;const st=this._isEventFromToggle(f);if(!st&&H.length&&H.forEach((Pt,Zt)=>{Pt.contains(f.target)&&(Be=Pt),Pt===Cs(this._document)&&(ce=Zt)}),T!==ms.Space&&T!==ms.Enter){if(T!==ms.Tab){if(st||Be){if(this.open(),H.length){switch(T){case ms.ArrowDown:ce=Math.min(ce+1,H.length-1);break;case ms.ArrowUp:if(this._isDropup()&&-1===ce){ce=H.length-1;break}ce=Math.max(ce-1,0);break;case ms.Home:ce=0;break;case ms.End:ce=H.length-1}H[ce].focus()}f.preventDefault()}}else if(f.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===f.target)return void("body"!==this.container||f.shiftKey?f.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const Pt=this._menu.nativeElement.querySelectorAll(Uo);f.shiftKey&&f.target===Pt[0]?(this._anchor.nativeElement.focus(),f.preventDefault()):!f.shiftKey&&f.target===Pt[Pt.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else ze(f.target,"focusout").pipe((0,Ln.q)(1)).subscribe(({relatedTarget:Pt})=>{this._elementRef.nativeElement.contains(Pt)||this.close()})}}else Be&&(!0===this.autoClose||"inside"===this.autoClose)&&ze(Be,"click").pipe((0,Ln.q)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(f){return this._anchor.nativeElement.contains(f.target)}_getMenuElements(){const f=this._menu;return null==f?[]:f.menuItems.filter(T=>!T.disabled).map(T=>T.elementRef.nativeElement)}_positionMenu(){const f=this._menu;this.isOpen()&&f&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(f){return Array.isArray(f)?f[0]:f.split(" ")[0]}_resetContainer(){const f=this._renderer;this._menu&&f.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(f.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(f=null){if(this._resetContainer(),"body"===f){const T=this._renderer,H=this._menu.nativeElement,ce=this._bodyContainer=this._bodyContainer||T.createElement("div");T.setStyle(ce,"position","absolute"),T.setStyle(H,"position","static"),T.setStyle(ce,"z-index","1055"),T.appendChild(ce,H),T.appendChild(this._document.body,ce)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(f,T){const H="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;H&&(T&&this._renderer.removeClass(H,T),f&&this._renderer.addClass(H,f))}_applyPlacementClasses(f){const T=this._menu;if(T){f||(f=this._getFirstPlacement(this.placement));const H=this._renderer,ce=this._elementRef.nativeElement;H.removeClass(ce,"dropup"),H.removeClass(ce,"dropdown");const{nativeElement:Be}=T;"static"===this.display?(T.placement=null,H.setAttribute(Be,"data-bs-popper","static")):(T.placement=f,H.removeAttribute(Be,"data-bs-popper"));const st=-1!==f.search("^top")?"dropup":"dropdown";H.addClass(ce,st);const Pt=this._bodyContainer;Pt&&(H.removeClass(Pt,"dropup"),H.removeClass(Pt,"dropdown"),H.addClass(Pt,st))}}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36(d.sBO),d.Y36(Ui),d.Y36(Fn.K0),d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(d.Qsj))},m.\u0275dir=d.lG2({type:m,selectors:[["","ngbDropdown",""]],contentQueries:function(f,T,H){if(1&f&&(d.Suo(H,Cu,5),d.Suo(H,Zc,5)),2&f){let ce;d.iGM(ce=d.CRH())&&(T._menu=ce.first),d.iGM(ce=d.CRH())&&(T._anchor=ce.first)}},hostVars:2,hostBindings:function(f,T){2&f&&d.ekj("show",T.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[d.TTD]}),D})(),ec=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})();class Al{constructor(D,S,f){this.nodes=D,this.viewRef=S,this.componentRef=f}}let Rl=(()=>{var m;class D{constructor(f,T){this._el=f,this._zone=T}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ln.q)(1)).subscribe(()=>{za(this._zone,this._el.nativeElement,(f,T)=>{T&&hs(f),f.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return za(this._zone,this._el.nativeElement,({classList:f})=>f.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36(d.SBq),d.Y36(d.R0b))},m.\u0275cmp=d.Xpm({type:m,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(f,T){2&f&&(d.Tol("modal-backdrop"+(T.backdropClass?" "+T.backdropClass:"")),d.ekj("show",!T.animation)("fade",T.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[d.jDz],decls:0,vars:0,template:function(f,T){},encapsulation:2}),D})();class yh{update(D){}close(D){}dismiss(D){}}const od=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],$d=["animation","backdropClass"];class Jc{_applyWindowOptions(D,S){od.forEach(f=>{Jr(S[f])&&(D[f]=S[f])})}_applyBackdropOptions(D,S){$d.forEach(f=>{Jr(S[f])&&(D[f]=S[f])})}update(D){this._applyWindowOptions(this._windowCmptRef.instance,D),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,D)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,lr.R)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,lr.R)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(D,S,f,T){this._windowCmptRef=D,this._contentRef=S,this._backdropCmptRef=f,this._beforeDismiss=T,this._closed=new Me.x,this._dismissed=new Me.x,this._hidden=new Me.x,D.instance.dismissEvent.subscribe(H=>{this.dismiss(H)}),this.result=new Promise((H,ce)=>{this._resolve=H,this._reject=ce}),this.result.then(null,()=>{})}close(D){this._windowCmptRef&&(this._closed.next(D),this._resolve(D),this._removeModalElements())}_dismiss(D){this._dismissed.next(D),this._reject(D),this._removeModalElements()}dismiss(D){if(this._windowCmptRef)if(this._beforeDismiss){const S=this._beforeDismiss();!function Ss(m){return m&&m.then}(S)?!1!==S&&this._dismiss(D):S.then(f=>{!1!==f&&this._dismiss(D)},()=>{})}else this._dismiss(D)}_removeModalElements(){const D=this._windowCmptRef.instance.hide(),S=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,X.of)(void 0);D.subscribe(()=>{const{nativeElement:f}=this._windowCmptRef.location;f.parentNode.removeChild(f),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),S.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:f}=this._backdropCmptRef.location;f.parentNode.removeChild(f),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Bn(D,S).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var vd=function(m){return m[m.BACKDROP_CLICK=0]="BACKDROP_CLICK",m[m.ESC=1]="ESC",m}(vd||{});let Gd=(()=>{var m;class D{constructor(f,T,H){this._document=f,this._elRef=T,this._zone=H,this._closed$=new Me.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new d.vpe,this.shown=new Me.x,this.hidden=new Me.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":nr(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(f){this.dismissEvent.emit(f)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ln.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:f}=this._elRef,T={animation:this.animation,runningTransition:"stop"},Be=Bn(za(this._zone,f,()=>f.classList.remove("show"),T),za(this._zone,this._dialogEl.nativeElement,()=>{},T));return Be.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Be}_show(){const f={animation:this.animation,runningTransition:"continue"};Bn(za(this._zone,this._elRef.nativeElement,(ce,Be)=>{Be&&hs(ce),ce.classList.add("show")},f),za(this._zone,this._dialogEl.nativeElement,()=>{},f)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:f}=this._elRef;this._zone.runOutsideAngular(()=>{ze(f,"keydown").pipe((0,lr.R)(this._closed$),(0,Gn.h)(H=>H.which===ms.Escape)).subscribe(H=>{this.keyboard?requestAnimationFrame(()=>{H.defaultPrevented||this._zone.run(()=>this.dismiss(vd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let T=!1;ze(this._dialogEl.nativeElement,"mousedown").pipe((0,lr.R)(this._closed$),(0,Qe.b)(()=>T=!1),(0,cr.w)(()=>ze(f,"mouseup").pipe((0,lr.R)(this._closed$),(0,Ln.q)(1))),(0,Gn.h)(({target:H})=>f===H)).subscribe(()=>{T=!0}),ze(f,"click").pipe((0,lr.R)(this._closed$)).subscribe(({target:H})=>{f===H&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!T&&this._zone.run(()=>this.dismiss(vd.BACKDROP_CLICK))),T=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:f}=this._elRef;if(!f.contains(document.activeElement)){const T=f.querySelector("[ngbAutofocus]"),H=Ks(f)[0];(T||H||f).focus()}}_restoreFocus(){const f=this._document.body,T=this._elWithFocus;let H;H=T&&T.focus&&f.contains(T)?T:f,this._zone.runOutsideAngular(()=>{setTimeout(()=>H.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&za(this._zone,this._elRef.nativeElement,({classList:f})=>(f.add("modal-static"),()=>f.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return(m=D).\u0275fac=function(f){return new(f||m)(d.Y36(Fn.K0),d.Y36(d.SBq),d.Y36(d.R0b))},m.\u0275cmp=d.Xpm({type:m,selectors:[["ngb-modal-window"]],viewQuery:function(f,T){if(1&f&&d.Gf(Eo,7),2&f){let H;d.iGM(H=d.CRH())&&(T._dialogEl=H.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(f,T){2&f&&(d.uIk("aria-modal",!0)("aria-labelledby",T.ariaLabelledBy)("aria-describedby",T.ariaDescribedBy),d.Tol("modal d-block"+(T.windowClass?" "+T.windowClass:"")),d.ekj("fade",T.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[d.jDz],ngContentSelectors:xs,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(f,T){1&f&&(d.F$t(),d.TgZ(0,"div",0,1)(2,"div",2),d.Hsn(3),d.qZA()()),2&f&&d.Tol("modal-dialog"+(T.size?" modal-"+T.size:"")+(T.centered?" modal-dialog-centered":"")+T.fullscreenClass+(T.scrollable?" modal-dialog-scrollable":"")+(T.modalDialogClass?" "+T.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),D})(),Wg=(()=>{var m;class D{constructor(f){this._document=f}hide(){const f=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),T=this._document.body,H=T.style,{overflow:ce,paddingRight:Be}=H;if(f>0){const st=parseFloat(window.getComputedStyle(T).paddingRight);H.paddingRight=`${st+f}px`}return H.overflow="hidden",()=>{f>0&&(H.paddingRight=Be),H.overflow=ce}}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(Fn.K0))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),Tp=(()=>{var m;class D{constructor(f,T,H,ce,Be,st,Pt){this._applicationRef=f,this._injector=T,this._environmentInjector=H,this._document=ce,this._scrollBar=Be,this._rendererFactory=st,this._ngZone=Pt,this._activeWindowCmptHasChanged=new Me.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new d.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const Zt=this._windowCmpts[this._windowCmpts.length-1];((m,D,S,f=!1)=>{m.runOutsideAngular(()=>{const T=ze(D,"focusin").pipe((0,lr.R)(S),(0,rt.U)(H=>H.target));ze(D,"keydown").pipe((0,lr.R)(S),(0,Gn.h)(H=>H.which===ms.Tab),(0,wt.M)(T)).subscribe(([H,ce])=>{const[Be,st]=Ks(D);(ce===Be||ce===D)&&H.shiftKey&&(st.focus(),H.preventDefault()),ce===st&&!H.shiftKey&&(Be.focus(),H.preventDefault())}),f&&ze(D,"click").pipe((0,lr.R)(S),(0,wt.M)(T),(0,rt.U)(H=>H[1])).subscribe(H=>H.focus())})})(this._ngZone,Zt.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(Zt.location.nativeElement)}})}_restoreScrollBar(){const f=this._scrollBarRestoreFn;f&&(this._scrollBarRestoreFn=null,f())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(f,T,H){const ce=H.container instanceof HTMLElement?H.container:Jr(H.container)?this._document.querySelector(H.container):this._document.body,Be=this._rendererFactory.createRenderer(null,null);if(!ce)throw new Error(`The specified modal container "${H.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const st=new yh,Pt=(f=H.injector||f).get(d.lqb,null)||this._environmentInjector,Zt=this._getContentRef(f,Pt,T,st,H);let Nn=!1!==H.backdrop?this._attachBackdrop(ce):void 0,mr=this._attachWindowComponent(ce,Zt.nodes),Mn=new Jc(mr,Zt,Nn,H.beforeDismiss);return this._registerModalRef(Mn),this._registerWindowCmpt(mr),Mn.hidden.pipe((0,Ln.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(Be.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),st.close=Pi=>{Mn.close(Pi)},st.dismiss=Pi=>{Mn.dismiss(Pi)},st.update=Pi=>{Mn.update(Pi)},Mn.update(H),1===this._modalRefs.length&&Be.addClass(this._document.body,"modal-open"),Nn&&Nn.instance&&Nn.changeDetectorRef.detectChanges(),mr.changeDetectorRef.detectChanges(),Mn}get activeInstances(){return this._activeInstances}dismissAll(f){this._modalRefs.forEach(T=>T.dismiss(f))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(f){let T=(0,d.LMc)(Rl,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(T.hostView),f.appendChild(T.location.nativeElement),T}_attachWindowComponent(f,T){let H=(0,d.LMc)(Gd,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:T});return this._applicationRef.attachView(H.hostView),f.appendChild(H.location.nativeElement),H}_getContentRef(f,T,H,ce,Be){return H?H instanceof d.Rgc?this._createFromTemplateRef(H,ce):nr(H)?this._createFromString(H):this._createFromComponent(f,T,H,ce,Be):new Al([])}_createFromTemplateRef(f,T){const ce=f.createEmbeddedView({$implicit:T,close(Be){T.close(Be)},dismiss(Be){T.dismiss(Be)}});return this._applicationRef.attachView(ce),new Al([ce.rootNodes],ce)}_createFromString(f){const T=this._document.createTextNode(`${f}`);return new Al([[T]])}_createFromComponent(f,T,H,ce,Be){const st=d.zs3.create({providers:[{provide:yh,useValue:ce}],parent:f}),Pt=(0,d.LMc)(H,{environmentInjector:T,elementInjector:st}),Zt=Pt.location.nativeElement;return Be.scrollable&&Zt.classList.add("component-host-scrollable"),this._applicationRef.attachView(Pt.hostView),new Al([[Zt]],Pt.hostView,Pt)}_setAriaHidden(f){const T=f.parentElement;T&&f!==this._document.body&&(Array.from(T.children).forEach(H=>{H!==f&&"SCRIPT"!==H.nodeName&&(this._ariaHiddenValues.set(H,H.getAttribute("aria-hidden")),H.setAttribute("aria-hidden","true"))}),this._setAriaHidden(T))}_revertAriaHidden(){this._ariaHiddenValues.forEach((f,T)=>{f?T.setAttribute("aria-hidden",f):T.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(f){const T=()=>{const H=this._modalRefs.indexOf(f);H>-1&&(this._modalRefs.splice(H,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(f),this._activeInstances.emit(this._modalRefs),f.result.then(T,T)}_registerWindowCmpt(f){this._windowCmpts.push(f),this._activeWindowCmptHasChanged.next(),f.onDestroy(()=>{const T=this._windowCmpts.indexOf(f);T>-1&&(this._windowCmpts.splice(T,1),this._activeWindowCmptHasChanged.next())})}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(d.z2F),d.LFG(d.zs3),d.LFG(d.lqb),d.LFG(Fn.K0),d.LFG(Wg),d.LFG(d.FYo),d.LFG(d.R0b))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),as=(()=>{var m;class D{constructor(f){this._ngbConfig=f,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(f){this._animation=f}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(Ll))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),Sp=(()=>{var m;class D{constructor(f,T,H){this._injector=f,this._modalStack=T,this._config=H}open(f,T={}){const H={...this._config,animation:this._config.animation,...T};return this._modalStack.open(this._injector,f,H)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(f){this._modalStack.dismissAll(f)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return(m=D).\u0275fac=function(f){return new(f||m)(d.LFG(d.zs3),d.LFG(Tp),d.LFG(as))},m.\u0275prov=d.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),D})(),yf=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({providers:[Sp]}),D})(),wd=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),cd=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),F=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),Ce=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),tn=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),N_=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),ml=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),If=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),Jg=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})();new d.OlP("live announcer delay",{providedIn:"root",factory:function k0(){return 100}});let em=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})(),Cf=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({}),D})();const Df=[zc,il,L,W,Vr,ec,yf,wd,Cf,cd,F,Ce,tn,N_,ml,If,Jg,em];let $_=(()=>{var m;class D{}return(m=D).\u0275fac=function(f){return new(f||m)},m.\u0275mod=d.oAB({type:m}),m.\u0275inj=d.cJS({imports:[Df,zc,il,L,W,Vr,ec,yf,wd,Cf,cd,F,Ce,tn,N_,ml,If,Jg,em]}),D})()},1878:(Pn,_t,Y)=>{Y.d(_t,{X3:()=>In});var d=Y(5861);const fe=(xe,Wt)=>Wt.some(hn=>xe instanceof hn);let ve,X;const Se=new WeakMap,ct=new WeakMap,nt=new WeakMap,Ie=new WeakMap,Ae=new WeakMap;let ze={get(xe,Wt,hn){if(xe instanceof IDBTransaction){if("done"===Wt)return ct.get(xe);if("objectStoreNames"===Wt)return xe.objectStoreNames||nt.get(xe);if("store"===Wt)return hn.objectStoreNames[1]?void 0:hn.objectStore(hn.objectStoreNames[0])}return Kt(xe[Wt])},set:(xe,Wt,hn)=>(xe[Wt]=hn,!0),has:(xe,Wt)=>xe instanceof IDBTransaction&&("done"===Wt||"store"===Wt)||Wt in xe};function fn(xe){return"function"==typeof xe?function dt(xe){return xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function He(){return X||(X=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(xe)?function(...Wt){return xe.apply(Vn(this),Wt),Kt(Se.get(this))}:function(...Wt){return Kt(xe.apply(Vn(this),Wt))}:function(Wt,...hn){const zn=xe.call(Vn(this),Wt,...hn);return nt.set(zn,Wt.sort?Wt.sort():[Wt]),Kt(zn)}}(xe):(xe instanceof IDBTransaction&&function ft(xe){if(ct.has(xe))return;const Wt=new Promise((hn,zn)=>{const Bn=()=>{xe.removeEventListener("complete",vn),xe.removeEventListener("error",Zn),xe.removeEventListener("abort",Zn)},vn=()=>{hn(),Bn()},Zn=()=>{zn(xe.error||new DOMException("AbortError","AbortError")),Bn()};xe.addEventListener("complete",vn),xe.addEventListener("error",Zn),xe.addEventListener("abort",Zn)});ct.set(xe,Wt)}(xe),fe(xe,function Me(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(xe,ze):xe)}function Kt(xe){if(xe instanceof IDBRequest)return function Ke(xe){const Wt=new Promise((hn,zn)=>{const Bn=()=>{xe.removeEventListener("success",vn),xe.removeEventListener("error",Zn)},vn=()=>{hn(Kt(xe.result)),Bn()},Zn=()=>{zn(xe.error),Bn()};xe.addEventListener("success",vn),xe.addEventListener("error",Zn)});return Wt.then(hn=>{hn instanceof IDBCursor&&Se.set(hn,xe)}).catch(()=>{}),Ae.set(Wt,xe),Wt}(xe);if(Ie.has(xe))return Ie.get(xe);const Wt=fn(xe);return Wt!==xe&&(Ie.set(xe,Wt),Ae.set(Wt,xe)),Wt}const Vn=xe=>Ae.get(xe);function In(xe,Wt,{blocked:hn,upgrade:zn,blocking:Bn,terminated:vn}={}){const Zn=indexedDB.open(xe,Wt),lr=Kt(Zn);return zn&&Zn.addEventListener("upgradeneeded",Gn=>{zn(Kt(Zn.result),Gn.oldVersion,Gn.newVersion,Kt(Zn.transaction),Gn)}),hn&&Zn.addEventListener("blocked",Gn=>hn(Gn.oldVersion,Gn.newVersion,Gn)),lr.then(Gn=>{vn&&Gn.addEventListener("close",()=>vn()),Bn&&Gn.addEventListener("versionchange",Ln=>Bn(Ln.oldVersion,Ln.newVersion,Ln))}).catch(()=>{}),lr}const Tt=["get","getKey","getAll","getAllKeys","count"],gt=["put","add","delete","clear"],mt=new Map;function Nt(xe,Wt){if(!(xe instanceof IDBDatabase)||Wt in xe||"string"!=typeof Wt)return;if(mt.get(Wt))return mt.get(Wt);const hn=Wt.replace(/FromIndex$/,""),zn=Wt!==hn,Bn=gt.includes(hn);if(!(hn in(zn?IDBIndex:IDBObjectStore).prototype)||!Bn&&!Tt.includes(hn))return;const vn=function(){var Zn=(0,d.Z)(function*(lr,...Gn){const Ln=this.transaction(lr,Bn?"readwrite":"readonly");let Qe=Ln.store;return zn&&(Qe=Qe.index(Gn.shift())),(yield Promise.all([Qe[hn](...Gn),Bn&&Ln.done]))[0]});return function(Gn){return Zn.apply(this,arguments)}}();return mt.set(Wt,vn),vn}!function Jt(xe){ze=xe(ze)}(xe=>({...xe,get:(Wt,hn,zn)=>Nt(Wt,hn)||xe.get(Wt,hn,zn),has:(Wt,hn)=>!!Nt(Wt,hn)||xe.has(Wt,hn)}))},5861:(Pn,_t,Y)=>{function d(ve,X,Me,He,Se,ct,nt){try{var Ie=ve[ct](nt),Ae=Ie.value}catch(Ke){return void Me(Ke)}Ie.done?X(Ae):Promise.resolve(Ae).then(He,Se)}function fe(ve){return function(){var X=this,Me=arguments;return new Promise(function(He,Se){var ct=ve.apply(X,Me);function nt(Ae){d(ct,He,Se,nt,Ie,"next",Ae)}function Ie(Ae){d(ct,He,Se,nt,Ie,"throw",Ae)}nt(void 0)})}}Y.d(_t,{Z:()=>fe})},7582:(Pn,_t,Y)=>{function X(Qe,rt){var wt={};for(var at in Qe)Object.prototype.hasOwnProperty.call(Qe,at)&&rt.indexOf(at)<0&&(wt[at]=Qe[at]);if(null!=Qe&&"function"==typeof Object.getOwnPropertySymbols){var Dt=0;for(at=Object.getOwnPropertySymbols(Qe);Dt<at.length;Dt++)rt.indexOf(at[Dt])<0&&Object.prototype.propertyIsEnumerable.call(Qe,at[Dt])&&(wt[at[Dt]]=Qe[at[Dt]])}return wt}function Ke(Qe,rt,wt,at){return new(wt||(wt=Promise))(function(rn,ln){function gn(_r){try{cr(at.next(_r))}catch(Wn){ln(Wn)}}function Zr(_r){try{cr(at.throw(_r))}catch(Wn){ln(Wn)}}function cr(_r){_r.done?rn(_r.value):function Dt(rn){return rn instanceof wt?rn:new wt(function(ln){ln(rn)})}(_r.value).then(gn,Zr)}cr((at=at.apply(Qe,rt||[])).next())})}function Xe(Qe){return this instanceof Xe?(this.v=Qe,this):new Xe(Qe)}function Tt(Qe,rt,wt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt,at=wt.apply(Qe,rt||[]),rn=[];return Dt={},ln("next"),ln("throw"),ln("return"),Dt[Symbol.asyncIterator]=function(){return this},Dt;function ln(Pr){at[Pr]&&(Dt[Pr]=function(Fn){return new Promise(function(Br,Ue){rn.push([Pr,Fn,Br,Ue])>1||gn(Pr,Fn)})})}function gn(Pr,Fn){try{!function Zr(Pr){Pr.value instanceof Xe?Promise.resolve(Pr.value.v).then(cr,_r):Wn(rn[0][2],Pr)}(at[Pr](Fn))}catch(Br){Wn(rn[0][3],Br)}}function cr(Pr){gn("next",Pr)}function _r(Pr){gn("throw",Pr)}function Wn(Pr,Fn){Pr(Fn),rn.shift(),rn.length&&gn(rn[0][0],rn[0][1])}}function mt(Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,rt=Qe[Symbol.asyncIterator];return rt?rt.call(Qe):(Qe=function dt(Qe){var rt="function"==typeof Symbol&&Symbol.iterator,wt=rt&&Qe[rt],at=0;if(wt)return wt.call(Qe);if(Qe&&"number"==typeof Qe.length)return{next:function(){return Qe&&at>=Qe.length&&(Qe=void 0),{value:Qe&&Qe[at++],done:!Qe}}};throw new TypeError(rt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Qe),wt={},at("next"),at("throw"),at("return"),wt[Symbol.asyncIterator]=function(){return this},wt);function at(rn){wt[rn]=Qe[rn]&&function(ln){return new Promise(function(gn,Zr){!function Dt(rn,ln,gn,Zr){Promise.resolve(Zr).then(function(cr){rn({value:cr,done:gn})},ln)}(gn,Zr,(ln=Qe[rn](ln)).done,ln.value)})}}}Y.d(_t,{FC:()=>Tt,KL:()=>mt,_T:()=>X,mG:()=>Ke,qq:()=>Xe}),"function"==typeof SuppressedError&&SuppressedError}},Pn=>{var _t=d=>Pn(Pn.s=d);_t(2614),_t(5980)}]);