"use strict";(self.webpackChunksala_juegos_llemos=self.webpackChunksala_juegos_llemos||[]).push([[700],{9700:(Je,T,c)=>{c.r(T),c.d(T,{ChatModule:()=>Qe});var F=c(6814),R=c(642),r=c(5879),K=c(6321),V=c(5592),$=c(2096),E=c(3019),b=c(7398),H=c(3020),Y=c(4664),P=c(6699),z=c(3997),X=c(2460),q=c(9360),ee=c(8251),y=c(2793),w=c(6304),ne=(c(8661),c(3399)),x=c(4537),l=c(5710),o=c(9058);const ie=new(c(7879).Yd)("@firebase/database-compat"),k=function(n){ie.warn("FIREBASE WARNING: "+n)};class ue{constructor(e){this._delegate=e}cancel(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),a=>e(a)),t}remove(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),a=>e(a)),t}set(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0);const a=this._delegate.set(e);return t&&a.then(()=>t(null),s=>t(s)),a}setWithPriority(e,t,a){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",a,!0);const s=this._delegate.setWithPriority(e,t);return a&&s.then(()=>a(null),i=>a(i)),s}update(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let i=0;i<e.length;++i)s[""+i]=e[i];e=s,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);const a=this._delegate.update(e);return t&&a.then(()=>t(null),s=>t(s)),a}}class de{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class v{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),(0,l.FQ)("DataSnapshot.child","path",e,!1),new v(this._database,this._delegate.child(e))}hasChild(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),(0,l.FQ)("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new v(this._database,t)))}hasChildren(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new f(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class g{constructor(e,t){this.database=e,this._delegate=t}on(e,t,a,s){var i;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",t,!1);const d=g.getCancelAndContextArgs_("Query.on",a,s),u=(m,O)=>{t.call(d.context,new v(this.database,m),O)};u.userCallback=t,u.context=d.context;const h=null===(i=d.cancel)||void 0===i?void 0:i.bind(d.context);switch(e){case"value":return(0,l.jM)(this._delegate,u,h),t;case"child_added":return(0,l.yv)(this._delegate,u,h),t;case"child_removed":return(0,l.MQ)(this._delegate,u,h),t;case"child_changed":return(0,l.Jr)(this._delegate,u,h),t;case"child_moved":return(0,l.Vt)(this._delegate,u,h),t;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,a){if((0,o.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",a,!0),t){const s=()=>{};s.userCallback=t,s.context=a,(0,l.S1)(this._delegate,e,s)}else(0,l.S1)(this._delegate,e)}get(){return(0,l.U2)(this._delegate).then(e=>new v(this.database,e))}once(e,t,a,s){(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",t,!0);const i=g.getCancelAndContextArgs_("Query.once",a,s),d=new o.BH,u=(m,O)=>{const S=new v(this.database,m);t&&t.call(i.context,S,O),d.resolve(S)};u.userCallback=t,u.context=i.context;const h=m=>{i.cancel&&i.cancel.call(i.context,m),d.reject(m)};switch(e){case"value":(0,l.jM)(this._delegate,u,h,{onlyOnce:!0});break;case"child_added":(0,l.yv)(this._delegate,u,h,{onlyOnce:!0});break;case"child_removed":(0,l.MQ)(this._delegate,u,h,{onlyOnce:!0});break;case"child_changed":(0,l.Jr)(this._delegate,u,h,{onlyOnce:!0});break;case"child_moved":(0,l.Vt)(this._delegate,u,h,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(e){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new g(this.database,(0,l.IO)(this._delegate,(0,l.Kk)(e)))}limitToLast(e){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new g(this.database,(0,l.IO)(this._delegate,(0,l.vh)(e)))}orderByChild(e){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new g(this.database,(0,l.IO)(this._delegate,(0,l.g2)(e)))}orderByKey(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new g(this.database,(0,l.IO)(this._delegate,(0,l.R)()))}orderByPriority(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new g(this.database,(0,l.IO)(this._delegate,(0,l.HE)()))}orderByValue(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new g(this.database,(0,l.IO)(this._delegate,(0,l.Bd)()))}startAt(e=null,t){return(0,o.Dv)("Query.startAt",0,2,arguments.length),new g(this.database,(0,l.IO)(this._delegate,(0,l.e0)(e,t)))}startAfter(e=null,t){return(0,o.Dv)("Query.startAfter",0,2,arguments.length),new g(this.database,(0,l.IO)(this._delegate,(0,l.TQ)(e,t)))}endAt(e=null,t){return(0,o.Dv)("Query.endAt",0,2,arguments.length),new g(this.database,(0,l.IO)(this._delegate,(0,l.Wu)(e,t)))}endBefore(e=null,t){return(0,o.Dv)("Query.endBefore",0,2,arguments.length),new g(this.database,(0,l.IO)(this._delegate,(0,l.Lx)(e,t)))}equalTo(e,t){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new g(this.database,(0,l.IO)(this._delegate,(0,l.EW)(e,t)))}toString(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof g))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,a){const s={cancel:void 0,context:void 0};if(t&&a)s.cancel=t,(0,o.Wj)(e,"cancel",s.cancel,!0),s.context=a,(0,o.lb)(e,"context",s.context,!0);else if(t)if("object"==typeof t&&null!==t)s.context=t;else{if("function"!=typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");s.cancel=t}return s}get ref(){return new f(this.database,new l.tn(this._delegate._repo,this._delegate._path))}}class f extends g{constructor(e,t){super(e,new l.JH(t._repo,t._path,new l.G$,!1)),this.database=e,this._delegate=t}getKey(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new f(this.database,(0,l.iU)(this._delegate,e))}getParent(){(0,o.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new f(this.database,e):null}getRoot(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new f(this.database,this._delegate.root)}set(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0);const a=(0,l.t8)(this._delegate,e);return t&&a.then(()=>t(null),s=>t(s)),a}update(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const s={};for(let i=0;i<e.length;++i)s[""+i]=e[i];e=s,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,l.mI)("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);const a=(0,l.Vx)(this._delegate,e);return t&&a.then(()=>t(null),s=>t(s)),a}setWithPriority(e,t,a){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",a,!0);const s=(0,l.cy)(this._delegate,e,t);return a&&s.then(()=>a(null),i=>a(i)),s}remove(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);const t=(0,l.Od)(this._delegate);return e&&t.then(()=>e(null),a=>e(a)),t}transaction(e,t,a){(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,a){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,o.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,a);const s=(0,l.i3)(this._delegate,e,{applyLocally:a}).then(i=>new de(i.committed,new v(this.database,i.snapshot)));return t&&s.then(i=>t(null,i.committed,i.snapshot),i=>t(i,!1,null)),s}setPriority(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0);const a=(0,l.Sl)(this._delegate,e);return t&&a.then(()=>t(null),s=>t(s)),a}push(e,t){(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",t,!0);const a=(0,l.VF)(this._delegate,e),s=a.then(d=>new f(this.database,d));t&&s.then(()=>t(null),d=>t(d));const i=new f(this.database,a);return i.then=s.then.bind(s),i.catch=s.catch.bind(s,void 0),i}onDisconnect(){return(0,l.mI)("Reference.onDisconnect",this._delegate._path),new ue(new l.vA(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class D{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:l.TD,forceLongPolling:l.Ot}}useEmulator(e,t,a={}){(0,l.dH)(this._delegate,e,t,a)}ref(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof f){const t=(0,l.qT)(this._delegate,e.toString());return new f(this,t)}{const t=(0,l.iH)(this._delegate,e);return new f(this,t)}}refFromURL(e){(0,o.Dv)("database.refFromURL",1,1,arguments.length);const a=(0,l.qT)(this._delegate,e);return new f(this,a)}goOffline(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),(0,l.Sb)(this._delegate)}goOnline(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),(0,l.$o)(this._delegate)}}D.ServerValue={TIMESTAMP:(0,l.Bt)(),increment:n=>(0,l.nP)(n)};var he=Object.freeze({__proto__:null,initStandalone:function ce({app:n,url:e,version:t,customAuthImpl:a,namespace:s,nodeAdmin:i=!1}){(0,l.AM)(t);const d=new x.zt("auth-internal",new x.H0("database-standalone"));return d.setComponent(new x.wA("auth-internal",()=>a,"PRIVATE")),{instance:new D((0,l.wj)(n,d,void 0,e,i),n),namespace:s}}});const ge=D.ServerValue;!function fe(n){n.INTERNAL.registerComponent(new x.wA("database-compat",(e,{instanceIdentifier:t})=>{const a=e.getProvider("app-compat").getImmediate(),s=e.getProvider("database").getImmediate({identifier:t});return new D(s,a)},"PUBLIC").setServiceProps({Reference:f,Query:g,Database:D,DataSnapshot:v,enableLogging:l.U7,INTERNAL:he,ServerValue:ge}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(ne.Z);var p=c(6796),me=c(2194);function L(n){return null==n}function j(n){return"function"==typeof n.set}function I(n,e){return j(e)?e:n.ref(e)}function W(n,e){if(function ve(n){return"string"==typeof n}(n))return e.stringCase();if(j(n))return e.firebaseCase();if(function pe(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function C(n,e,t="on",a=K.z){return new V.y(s=>{let i=null;return i=n[t](e,(d,u)=>{a.schedule(()=>{s.next({snapshot:d,prevKey:u})}),"once"===t&&a.schedule(()=>s.complete())},d=>{a.schedule(()=>s.error(d))}),"on"===t?{unsubscribe(){null!=i&&n.off(e,i)}}:{unsubscribe(){}}}).pipe((0,b.U)(s=>{const{snapshot:i,prevKey:d}=s;let u=null;return i.exists()&&(u=i.key),{type:e,payload:i,prevKey:d,key:u}}),(0,H.B)())}function Q(n,e){const t=n.length;for(let a=0;a<t;a++)if(n[a].payload.key===e)return a;return-1}function De(n,e){const{payload:t,prevKey:a,key:s}=e,i=Q(n,s),d=function be(n,e){if(L(e))return 0;{const t=Q(n,e);return-1===t?n.length:t+1}}(n,a);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let u=null;e.payload.forEach(h=>{const m={payload:h,type:"value",prevKey:u,key:h.key};return u=h.key,n=[...n,m],!1})}return n;case"child_added":if(i>-1){const u=n[i-1];(u&&u.key||null)!==a&&(n=n.filter(h=>h.payload.key!==t.key)).splice(d,0,e)}else{if(null==a)return[e,...n];(n=n.slice()).splice(d,0,e)}return n;case"child_removed":return n.filter(u=>u.payload.key!==t.key);case"child_changed":return n.map(u=>u.payload.key===s?e:u);case"child_moved":if(i>-1){const u=n.splice(i,1)[0];return(n=n.slice()).splice(d,0,u),n}return n;default:return n}}function U(n){return(L(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function Z(n,e,t){return function ye(n,e,t){return C(n,"value","once",t).pipe((0,Y.w)(a=>{const s=[(0,$.of)(a)];return e.forEach(i=>s.push(C(n,i,"on",t))),(0,E.T)(...s).pipe((0,P.R)(De,[]))}),(0,z.x)())}(n,e=U(e),t)}function B(n,e,t){const a=(e=U(e)).map(s=>C(n,s,"on",t));return(0,E.T)(...a)}function N(n,e){return function(a,s){return W(a,{stringCase:()=>n.child(a)[e](s),firebaseCase:()=>a[e](s),snapshotCase:()=>a.ref[e](s)})}}function xe(n){return function(t){return t?W(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function J(n,e){return function(){return C(n,"value","on",e)}}c(120);const Me=new r.OlP("angularfire2.realtimeDatabaseURL"),Fe=new r.OlP("angularfire2.database.use-emulator");let _e=(()=>{class n{constructor(t,a,s,i,d,u,h,m,O,S,Ue,Ze,Be,Ne,He){this.schedulers=u;const _=h,M=(0,w.on)(t,d,a);m&&(0,p.nw)(M,d,O,Ue,Ze,Be,S,Ne),this.database=(0,w.cc)(`${M.name}.database.${s}`,"AngularFireDatabase",M.name,()=>{const G=d.runOutsideAngular(()=>M.database(s||void 0));return _&&G.useEmulator(..._),G},[_])}list(t,a){const s=this.schedulers.ngZone.runOutsideAngular(()=>I(this.database,t));let i=s;return a&&(i=a(s)),function Ae(n,e){const t=e.schedulers.outsideAngular,a=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:N(a,"update"),set:N(a,"set"),push:s=>a.push(s),remove:xe(a),snapshotChanges:s=>Z(n,s,t).pipe(y.iC),stateChanges:s=>B(n,s,t).pipe(y.iC),auditTrail:s=>function Ce(n,e,t){return function we(n,e,t){return function Oe(n,e){return C(n,"value","on",e).pipe((0,b.U)(t=>{let a;return t.payload.forEach(s=>(a=s.key,!1)),{data:t,lastKeyToLoad:a}}))}(n,t).pipe((0,X.M)(e),(0,b.U)(([s,i])=>{const d=s.lastKeyToLoad,u=i.map(h=>h.key);return{actions:i,lastKeyToLoad:d,loadedKeys:u}}),function te(n){return(0,q.e)((e,t)=>{let a=!1,s=0;e.subscribe((0,ee.x)(t,i=>(a||(a=!n(i,s++)))&&t.next(i)))})}(s=>-1===s.loadedKeys.indexOf(s.lastKeyToLoad)),(0,b.U)(s=>s.actions))}(n,B(n,e).pipe((0,P.R)((s,i)=>[...s,i],[])),t)}(n,s,t).pipe(y.iC),valueChanges:(s,i)=>Z(n,s,t).pipe((0,b.U)(u=>u.map(h=>i&&i.idField?Object.assign(Object.assign({},h.payload.val()),{[i.idField]:h.key}):h.payload.val())),y.iC)}}(i,this)}object(t){return function Se(n,e){return{query:n,snapshotChanges:()=>J(n,e.schedulers.outsideAngular)().pipe(y.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>J(n,e.schedulers.outsideAngular)().pipe(y.iC,(0,b.U)(a=>a.payload.exists()?a.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>I(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(w.Dh),r.LFG(w.xv,8),r.LFG(Me,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(y.HU),r.LFG(Fe,8),r.LFG(p.zQ,8),r.LFG(p.Qv,8),r.LFG(p.L6,8),r.LFG(p._Q,8),r.LFG(p.rT,8),r.LFG(p.lh,8),r.LFG(p.f7,8),r.LFG(me.nm,8))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Te=(()=>{var n;class e{constructor(a){this.db=a}getMessages(){return this.db.list("/messages").valueChanges()}sendMessage(a,s){console.log(a);let i=a.nombre,d=new Date;this.db.list("/messages").push({nombre:i,text:s,fecha:d.toLocaleDateString("es-AR")+" "+d.toLocaleTimeString("es-AR")+"hs",createdAt:d.getTime()})}}return(n=e).\u0275fac=function(a){return new(a||n)(r.LFG(_e))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var Re=c(2759),Ee=c(833),A=c(95);const Pe=["scrollMe"];function ke(n,e){if(1&n&&(r.TgZ(0,"div")(1,"div",10)(2,"div",11)(3,"p",12),r._uU(4),r.qZA(),r.TgZ(5,"small",13),r._uU(6),r.qZA()()()()),2&n){const t=r.oxw().$implicit;r.xp6(4),r.Oqu(t.text),r.xp6(2),r.Oqu(t.fecha)}}function Le(n,e){if(1&n&&(r.TgZ(0,"div",14)(1,"div",15)(2,"strong",16),r._uU(3),r.qZA(),r.TgZ(4,"p",17),r._uU(5),r.qZA(),r.TgZ(6,"small",18),r._uU(7),r.qZA()()()),2&n){const t=r.oxw().$implicit;r.xp6(3),r.Oqu(t.nombre),r.xp6(2),r.Oqu(t.text),r.xp6(2),r.Oqu(t.fecha)}}function je(n,e){if(1&n&&(r.TgZ(0,"div"),r.YNc(1,ke,7,2,"div",8),r.YNc(2,Le,8,3,"ng-template",null,9,r.W1O),r.qZA()),2&n){const t=e.$implicit,a=r.MAs(3),s=r.oxw();r.xp6(1),r.Q6J("ngIf",t.nombre==(null==s.usuario?null:s.usuario.nombre))("ngIfElse",a)}}const Ie=[{path:"",component:(()=>{var n;class e{constructor(a,s,i){this.chatService=a,this.usuariosService=s,this.interceptor=i,this.message="",this.messages=[]}ngOnInit(){this.interceptor.updateOverlayState(!0),this.chatSubscription=this.chatService.getMessages().subscribe(a=>{this.messages=a,setTimeout(()=>this.scrollToBottom(),0)}),this.userSubscription=this.usuariosService.currentLoginState.subscribe(a=>{this.usuariosService.getUsuario(a).then(s=>{this.usuario=s}).then(()=>this.interceptor.updateOverlayState(!1))})}sendMessage(){this.chatService.sendMessage(this.usuario,this.message),this.message=""}scrollToBottom(){console.log("scrollToBottom"),this.myScrollContainer.nativeElement.scrollTop=this.myScrollContainer.nativeElement.scrollHeight}ngOnDestroy(){this.userSubscription?.unsubscribe(),this.chatSubscription?.unsubscribe()}}return(n=e).\u0275fac=function(a){return new(a||n)(r.Y36(Te),r.Y36(Re.J),r.Y36(Ee._))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-chat"]],viewQuery:function(a,s){if(1&a&&r.Gf(Pe,5),2&a){let i;r.iGM(i=r.CRH())&&(s.myScrollContainer=i.first)}},inputs:{usuario:"usuario"},decls:10,vars:2,consts:[[1,"chat-container","mt-3","px-2","border","border-secondary","rounded-3"],[1,"font-monospace","border-bottom"],[1,"messages"],["scrollMe",""],[4,"ngFor","ngForOf"],[1,"input-container"],["type","text",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],[1,"btn","btn-primary","ms-1",3,"click"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"message","d-flex","justify-content-end"],[1,"alert","alert-success",2,"width","fit-content"],[1,"d-block","text-start"],[1,"text-muted","d-block","text-end"],[1,"message","d-flex","justify-content-start"],[1,"alert","alert-primary",2,"width","fit-content"],[1,"text-primary","d-block","text-start"],[1,"d-block","text-end"],[1,"text-muted","d-block","text-start"]],template:function(a,s){1&a&&(r.TgZ(0,"div",0)(1,"h1",1),r._uU(2,"CHAT"),r.qZA(),r.TgZ(3,"div",2,3),r.YNc(5,je,4,2,"div",4),r.qZA(),r.TgZ(6,"div",5)(7,"input",6),r.NdJ("ngModelChange",function(d){return s.message=d})("keydown.enter",function(){return s.sendMessage()}),r.qZA(),r.TgZ(8,"button",7),r.NdJ("click",function(){return s.sendMessage()}),r._uU(9,"Enviar"),r.qZA()()()),2&a&&(r.xp6(5),r.Q6J("ngForOf",s.messages),r.xp6(2),r.Q6J("ngModel",s.message))},dependencies:[F.sg,F.O5,A.Fj,A.JJ,A.On],styles:['@charset "UTF-8";.chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(90vh - 71px)}.messages[_ngcontent-%COMP%]{flex:1;overflow-y:scroll;padding:1rem;margin-top:1rem}.input-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem}.messages[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:steelblue;border-radius:.5rem}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:steelblue}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:active{background-color:#87ceeb}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:whitesmoke;border-radius:.5rem}.messages[_ngcontent-%COMP%]::-webkit-scrollbar-track:hover, .messages[_ngcontent-%COMP%]::-webkit-scrollbar-track:active{background:gainsboro}']}),e})()}];let We=(()=>{var n;class e{}return(n=e).\u0275fac=function(a){return new(a||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[R.Bz.forChild(Ie),R.Bz]}),e})(),Qe=(()=>{var n;class e{}return(n=e).\u0275fac=function(a){return new(a||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[F.ez,We,A.u5]}),e})()}}]);